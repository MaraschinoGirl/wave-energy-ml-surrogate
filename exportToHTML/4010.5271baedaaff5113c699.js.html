<html>
<head>
<title>4010.5271baedaaff5113c699.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #bcbec4;}
.s2 { color: #6aab73;}
.s3 { color: #2aacb8;}
.s4 { color: #cf8e6d;}
.s5 { color: #42c3d4;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
4010.5271baedaaff5113c699.js</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">(</span><span class="s1">self</span><span class="s0">[</span><span class="s2">&quot;webpackChunk_jupyterlab_application_top&quot;</span><span class="s0">]=</span><span class="s1">self</span><span class="s0">[</span><span class="s2">&quot;webpackChunk_jupyterlab_application_top&quot;</span><span class="s0">]||[]).</span><span class="s1">push</span><span class="s0">([[</span><span class="s3">4010</span><span class="s0">,</span><span class="s3">5606</span><span class="s0">],{</span><span class="s3">83173</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">z</span><span class="s0">:()=&gt;</span><span class="s1">g</span><span class="s0">,</span><span class="s1">H</span><span class="s0">:()=&gt;</span><span class="s1">m</span><span class="s0">});</span><span class="s4">function </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">((</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}))}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">throw</span><span class="s2">&quot;duplicate flag &quot;</span><span class="s0">+</span><span class="s1">t</span><span class="s0">}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">function </span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Internal Error - Should never get here!&quot;</span><span class="s0">)}</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">function </span><span class="s1">o</span><span class="s0">(){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Internal Error - Should never get here!&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">c</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;type&quot;</span><span class="s0">]===</span><span class="s2">&quot;Character&quot;</span><span class="s0">}</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">y</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;0&quot;</span><span class="s0">);</span><span class="s1">y</span><span class="s0">&lt;=</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;9&quot;</span><span class="s0">);</span><span class="s1">y</span><span class="s0">++){</span><span class="s1">u</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">y</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=[</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;_&quot;</span><span class="s0">)].</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">u</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">y</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;a&quot;</span><span class="s0">);</span><span class="s1">y</span><span class="s0">&lt;=</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;z&quot;</span><span class="s0">);</span><span class="s1">y</span><span class="s0">++){</span><span class="s1">l</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">y</span><span class="s0">)}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">y</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;A&quot;</span><span class="s0">);</span><span class="s1">y</span><span class="s0">&lt;=</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;Z&quot;</span><span class="s0">);</span><span class="s1">y</span><span class="s0">++){</span><span class="s1">l</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">y</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=[</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot; &quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\f</span><span class="s2">&quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\r</span><span class="s2">&quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">&quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\v</span><span class="s2">&quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">&quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot; &quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot; &quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot; &quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot; &quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot; &quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot; &quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot; &quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot; &quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot; &quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot; &quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot; &quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot; &quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot; &quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\u2028</span><span class="s2">&quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\u2029</span><span class="s2">&quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot; &quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot; &quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;　&quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\ufeff</span><span class="s2">&quot;</span><span class="s0">)];</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s5">/[0-9a-fA-F]/</span><span class="s0">;</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=</span><span class="s5">/[0-9]/</span><span class="s0">;</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s5">/[1-9]/</span><span class="s0">;</span><span class="s4">class </span><span class="s1">m</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">input</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">groupIdx</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s1">saveState</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">idx</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">,</span><span class="s1">input</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">input</span><span class="s0">,</span><span class="s1">groupIdx</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">groupIdx</span><span class="s0">}}</span><span class="s1">restoreState</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">input</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">input</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">groupIdx</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">groupIdx</span><span class="s0">}</span><span class="s1">pattern</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">input</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">groupIdx</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;/&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">disjunction</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;/&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Flags&quot;</span><span class="s0">,</span><span class="s1">loc</span><span class="s0">:{</span><span class="s1">begin</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">},</span><span class="s1">global</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">ignoreCase</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">multiLine</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">unicode</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">sticky</span><span class="s0">:</span><span class="s4">false</span><span class="s0">};</span><span class="s4">while</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isRegExpFlag</span><span class="s0">()){</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">popChar</span><span class="s0">()){</span><span class="s4">case</span><span class="s2">&quot;g&quot;</span><span class="s0">:</span><span class="s1">s</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s2">&quot;global&quot;</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;i&quot;</span><span class="s0">:</span><span class="s1">s</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s2">&quot;ignoreCase&quot;</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;m&quot;</span><span class="s0">:</span><span class="s1">s</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s2">&quot;multiLine&quot;</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;u&quot;</span><span class="s0">:</span><span class="s1">s</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s2">&quot;unicode&quot;</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;y&quot;</span><span class="s0">:</span><span class="s1">s</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s2">&quot;sticky&quot;</span><span class="s0">);</span><span class="s4">break</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">!==</span><span class="s4">this</span><span class="s0">.</span><span class="s1">input</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Redundant input: &quot;</span><span class="s0">+</span><span class="s4">this</span><span class="s0">.</span><span class="s1">input</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">))}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Pattern&quot;</span><span class="s0">,</span><span class="s1">flags</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">loc</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">loc</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)}}</span><span class="s1">disjunction</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">alternative</span><span class="s0">());</span><span class="s4">while</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">()===</span><span class="s2">&quot;|&quot;</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;|&quot;</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">alternative</span><span class="s0">())}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Disjunction&quot;</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">loc</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">loc</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s1">alternative</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isTerm</span><span class="s0">()){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">term</span><span class="s0">())}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Alternative&quot;</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">loc</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">loc</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s1">term</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isAssertion</span><span class="s0">()){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">assertion</span><span class="s0">()}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">atom</span><span class="s0">()}}</span><span class="s1">assertion</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">popChar</span><span class="s0">()){</span><span class="s4">case</span><span class="s2">&quot;^&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;StartAnchor&quot;</span><span class="s0">,</span><span class="s1">loc</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">loc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)};</span><span class="s4">case</span><span class="s2">&quot;$&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;EndAnchor&quot;</span><span class="s0">,</span><span class="s1">loc</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">loc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)};</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">popChar</span><span class="s0">()){</span><span class="s4">case</span><span class="s2">&quot;b&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;WordBoundary&quot;</span><span class="s0">,</span><span class="s1">loc</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">loc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)};</span><span class="s4">case</span><span class="s2">&quot;B&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;NonWordBoundary&quot;</span><span class="s0">,</span><span class="s1">loc</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">loc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Invalid Assertion Escape&quot;</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;(&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;?&quot;</span><span class="s0">);</span><span class="s4">let </span><span class="s1">t</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">popChar</span><span class="s0">()){</span><span class="s4">case</span><span class="s2">&quot;=&quot;</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=</span><span class="s2">&quot;Lookahead&quot;</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;!&quot;</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=</span><span class="s2">&quot;NegativeLookahead&quot;</span><span class="s0">;</span><span class="s4">break</span><span class="s0">}</span><span class="s1">a</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">disjunction</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;)&quot;</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">loc</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">loc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">o</span><span class="s0">()}</span><span class="s1">quantifier</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s4">false</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">popChar</span><span class="s0">()){</span><span class="s4">case</span><span class="s2">&quot;*&quot;</span><span class="s0">:</span><span class="s1">t</span><span class="s0">={</span><span class="s1">atLeast</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">atMost</span><span class="s0">:</span><span class="s1">Infinity</span><span class="s0">};</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;+&quot;</span><span class="s0">:</span><span class="s1">t</span><span class="s0">={</span><span class="s1">atLeast</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">atMost</span><span class="s0">:</span><span class="s1">Infinity</span><span class="s0">};</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;?&quot;</span><span class="s0">:</span><span class="s1">t</span><span class="s0">={</span><span class="s1">atLeast</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">atMost</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;{&quot;</span><span class="s0">:</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">integerIncludingZero</span><span class="s0">();</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">popChar</span><span class="s0">()){</span><span class="s4">case</span><span class="s2">&quot;}&quot;</span><span class="s0">:</span><span class="s1">t</span><span class="s0">={</span><span class="s1">atLeast</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">atMost</span><span class="s0">:</span><span class="s1">n</span><span class="s0">};</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;,&quot;</span><span class="s0">:</span><span class="s4">let </span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isDigit</span><span class="s0">()){</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">integerIncludingZero</span><span class="s0">();</span><span class="s1">t</span><span class="s0">={</span><span class="s1">atLeast</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">atMost</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">={</span><span class="s1">atLeast</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">atMost</span><span class="s0">:</span><span class="s1">Infinity</span><span class="s0">}}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;}&quot;</span><span class="s0">);</span><span class="s4">break</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">true</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">a</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">break</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">true</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)===</span><span class="s2">&quot;?&quot;</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;?&quot;</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">greedy</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">greedy</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s2">&quot;Quantifier&quot;</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">loc</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">loc</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s1">atom</span><span class="s0">(){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">()){</span><span class="s4">case</span><span class="s2">&quot;.&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dotAll</span><span class="s0">();</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atomEscape</span><span class="s0">();</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;[&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">characterClass</span><span class="s0">();</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;(&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">group</span><span class="s0">();</span><span class="s4">break</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isPatternCharacter</span><span class="s0">()){</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">patternCharacter</span><span class="s0">()}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">loc</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">loc</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isQuantifier</span><span class="s0">()){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">quantifier</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">quantifier</span><span class="s0">()}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">return </span><span class="s1">o</span><span class="s0">()}</span><span class="s1">dotAll</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;.&quot;</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Set&quot;</span><span class="s0">,</span><span class="s1">complement</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:[</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\r</span><span class="s2">&quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\u2028</span><span class="s2">&quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\u2029</span><span class="s2">&quot;</span><span class="s0">)]}}</span><span class="s1">atomEscape</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">);</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">()){</span><span class="s4">case</span><span class="s2">&quot;1&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;2&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;3&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;4&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;5&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;6&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;7&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;8&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;9&quot;</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">decimalEscapeAtom</span><span class="s0">();</span><span class="s4">case</span><span class="s2">&quot;d&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;D&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;s&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;S&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;w&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;W&quot;</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">characterClassEscape</span><span class="s0">();</span><span class="s4">case</span><span class="s2">&quot;f&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;n&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;r&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;t&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;v&quot;</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">controlEscapeAtom</span><span class="s0">();</span><span class="s4">case</span><span class="s2">&quot;c&quot;</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">controlLetterEscapeAtom</span><span class="s0">();</span><span class="s4">case</span><span class="s2">&quot;0&quot;</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">nulCharacterAtom</span><span class="s0">();</span><span class="s4">case</span><span class="s2">&quot;x&quot;</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">hexEscapeSequenceAtom</span><span class="s0">();</span><span class="s4">case</span><span class="s2">&quot;u&quot;</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">regExpUnicodeEscapeSequenceAtom</span><span class="s0">();</span><span class="s4">default</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">identityEscapeAtom</span><span class="s0">()}}</span><span class="s1">decimalEscapeAtom</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">positiveInteger</span><span class="s0">();</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;GroupBackReference&quot;</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s1">characterClassEscape</span><span class="s0">(){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">;</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">popChar</span><span class="s0">()){</span><span class="s4">case</span><span class="s2">&quot;d&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=</span><span class="s1">u</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;D&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=</span><span class="s1">u</span><span class="s0">;</span><span class="s1">t</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;s&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=</span><span class="s1">d</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;S&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=</span><span class="s1">d</span><span class="s0">;</span><span class="s1">t</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;w&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=</span><span class="s1">l</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;W&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=</span><span class="s1">l</span><span class="s0">;</span><span class="s1">t</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">break</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Set&quot;</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">complement</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">o</span><span class="s0">()}</span><span class="s1">controlEscapeAtom</span><span class="s0">(){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">popChar</span><span class="s0">()){</span><span class="s4">case</span><span class="s2">&quot;f&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\f</span><span class="s2">&quot;</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;n&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;r&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\r</span><span class="s2">&quot;</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;t&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">&quot;</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;v&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\v</span><span class="s2">&quot;</span><span class="s0">);</span><span class="s4">break</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Character&quot;</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">o</span><span class="s0">()}</span><span class="s1">controlLetterEscapeAtom</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;c&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">popChar</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s5">/[a-zA-Z]/</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Invalid &quot;</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toUpperCase</span><span class="s0">().</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)-</span><span class="s3">64</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Character&quot;</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">nulCharacterAtom</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;0&quot;</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Character&quot;</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\0</span><span class="s2">&quot;</span><span class="s0">)}}</span><span class="s1">hexEscapeSequenceAtom</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;x&quot;</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">parseHexDigits</span><span class="s0">(</span><span class="s3">2</span><span class="s0">)}</span><span class="s1">regExpUnicodeEscapeSequenceAtom</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;u&quot;</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">parseHexDigits</span><span class="s0">(</span><span class="s3">4</span><span class="s0">)}</span><span class="s1">identityEscapeAtom</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">popChar</span><span class="s0">();</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Character&quot;</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s1">classPatternCharacterAtom</span><span class="s0">(){</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">()){</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\r</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\u2028</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\u2029</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;]&quot;</span><span class="s0">:</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;TBD&quot;</span><span class="s0">);</span><span class="s4">default</span><span class="s0">:</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">popChar</span><span class="s0">();</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Character&quot;</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}}</span><span class="s1">characterClass</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[];</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;[&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)===</span><span class="s2">&quot;^&quot;</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;^&quot;</span><span class="s0">);</span><span class="s1">t</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">while</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isClassAtom</span><span class="s0">()){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">classAtom</span><span class="s0">();</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;Character&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isRangeDash</span><span class="s0">()){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;-&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">classAtom</span><span class="s0">();</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;Character&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Range out of order in character class&quot;</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">from</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">to</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">})}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">i</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;-&quot;</span><span class="s0">));</span><span class="s1">i</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">i</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;]&quot;</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Set&quot;</span><span class="s0">,</span><span class="s1">complement</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s1">classAtom</span><span class="s0">(){</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">()){</span><span class="s4">case</span><span class="s2">&quot;]&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\r</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\u2028</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\u2029</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;TBD&quot;</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">classEscape</span><span class="s0">();</span><span class="s4">default</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">classPatternCharacterAtom</span><span class="s0">()}}</span><span class="s1">classEscape</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">);</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">()){</span><span class="s4">case</span><span class="s2">&quot;b&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;b&quot;</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Character&quot;</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">r</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\b</span><span class="s2">&quot;</span><span class="s0">)};</span><span class="s4">case</span><span class="s2">&quot;d&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;D&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;s&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;S&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;w&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;W&quot;</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">characterClassEscape</span><span class="s0">();</span><span class="s4">case</span><span class="s2">&quot;f&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;n&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;r&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;t&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;v&quot;</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">controlEscapeAtom</span><span class="s0">();</span><span class="s4">case</span><span class="s2">&quot;c&quot;</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">controlLetterEscapeAtom</span><span class="s0">();</span><span class="s4">case</span><span class="s2">&quot;0&quot;</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">nulCharacterAtom</span><span class="s0">();</span><span class="s4">case</span><span class="s2">&quot;x&quot;</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">hexEscapeSequenceAtom</span><span class="s0">();</span><span class="s4">case</span><span class="s2">&quot;u&quot;</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">regExpUnicodeEscapeSequenceAtom</span><span class="s0">();</span><span class="s4">default</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">identityEscapeAtom</span><span class="s0">()}}</span><span class="s1">group</span><span class="s0">(){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;(&quot;</span><span class="s0">);</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)){</span><span class="s4">case</span><span class="s2">&quot;?&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;?&quot;</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;:&quot;</span><span class="s0">);</span><span class="s1">e</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">groupIdx</span><span class="s0">++;</span><span class="s4">break</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">disjunction</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s2">&quot;)&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Group&quot;</span><span class="s0">,</span><span class="s1">capturing</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">t</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">n</span><span class="s0">[</span><span class="s2">&quot;idx&quot;</span><span class="s0">]=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">groupIdx</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">positiveInteger</span><span class="s0">(){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">popChar</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">p</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Expecting a positive integer&quot;</span><span class="s0">)}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">h</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">(</span><span class="s3">0</span><span class="s0">))){</span><span class="s1">e</span><span class="s0">+=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">popChar</span><span class="s0">()}</span><span class="s4">return </span><span class="s1">parseInt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">10</span><span class="s0">)}</span><span class="s1">integerIncludingZero</span><span class="s0">(){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">popChar</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">h</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Expecting an integer&quot;</span><span class="s0">)}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">h</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">(</span><span class="s3">0</span><span class="s0">))){</span><span class="s1">e</span><span class="s0">+=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">popChar</span><span class="s0">()}</span><span class="s4">return </span><span class="s1">parseInt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">10</span><span class="s0">)}</span><span class="s1">patternCharacter</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">popChar</span><span class="s0">();</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\r</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\u2028</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\u2029</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;^&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;$&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;.&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;*&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;+&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;?&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;(&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;)&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;[&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;|&quot;</span><span class="s0">:</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;TBD&quot;</span><span class="s0">);</span><span class="s4">default</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Character&quot;</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}}</span><span class="s1">isRegExpFlag</span><span class="s0">(){</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)){</span><span class="s4">case</span><span class="s2">&quot;g&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;i&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;m&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;u&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;y&quot;</span><span class="s0">:</span><span class="s4">return true</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s4">return false</span><span class="s0">}}</span><span class="s1">isRangeDash</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">()===</span><span class="s2">&quot;-&quot;</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isClassAtom</span><span class="s0">(</span><span class="s3">1</span><span class="s0">)}</span><span class="s1">isDigit</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">h</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">(</span><span class="s3">0</span><span class="s0">))}</span><span class="s1">isClassAtom</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">case</span><span class="s2">&quot;]&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\r</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\u2028</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\u2029</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">return false</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s4">return true</span><span class="s0">}}</span><span class="s1">isTerm</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">isAtom</span><span class="s0">()||</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isAssertion</span><span class="s0">()}</span><span class="s1">isAtom</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isPatternCharacter</span><span class="s0">()){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)){</span><span class="s4">case</span><span class="s2">&quot;.&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;[&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;(&quot;</span><span class="s0">:</span><span class="s4">return true</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s4">return false</span><span class="s0">}}</span><span class="s1">isAssertion</span><span class="s0">(){</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)){</span><span class="s4">case</span><span class="s2">&quot;^&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;$&quot;</span><span class="s0">:</span><span class="s4">return true</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">(</span><span class="s3">1</span><span class="s0">)){</span><span class="s4">case</span><span class="s2">&quot;b&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;B&quot;</span><span class="s0">:</span><span class="s4">return true</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">case</span><span class="s2">&quot;(&quot;</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">(</span><span class="s3">1</span><span class="s0">)===</span><span class="s2">&quot;?&quot;</span><span class="s0">&amp;&amp;(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">(</span><span class="s3">2</span><span class="s0">)===</span><span class="s2">&quot;=&quot;</span><span class="s0">||</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">(</span><span class="s3">2</span><span class="s0">)===</span><span class="s2">&quot;!&quot;</span><span class="s0">);</span><span class="s4">default</span><span class="s0">:</span><span class="s4">return false</span><span class="s0">}}</span><span class="s1">isQuantifier</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">saveState</span><span class="s0">();</span><span class="s4">try</span><span class="s0">{</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">quantifier</span><span class="s0">(</span><span class="s4">true</span><span class="s0">)!==</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">finally</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">restoreState</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s1">isPatternCharacter</span><span class="s0">(){</span><span class="s4">switch</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">()){</span><span class="s4">case</span><span class="s2">&quot;^&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;$&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;.&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;*&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;+&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;?&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;(&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;)&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;[&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;|&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;/&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\r</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\u2028</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\u2029</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">return false</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s4">return true</span><span class="s0">}}</span><span class="s1">parseHexDigits</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">popChar</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Expecting a HexDecimal digits&quot;</span><span class="s0">)}</span><span class="s1">t</span><span class="s0">+=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">parseInt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s3">16</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Character&quot;</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}</span><span class="s1">peekChar</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">input</span><span class="s0">[</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">+</span><span class="s1">e</span><span class="s0">]}</span><span class="s1">popChar</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">peekChar</span><span class="s0">(</span><span class="s3">0</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s1">undefined</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">consumeChar</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">input</span><span class="s0">[</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">]!==</span><span class="s1">e</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Expected: '&quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">+</span><span class="s2">&quot;' but found: '&quot;</span><span class="s0">+</span><span class="s4">this</span><span class="s0">.</span><span class="s1">input</span><span class="s0">[</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">]+</span><span class="s2">&quot;' at offset: &quot;</span><span class="s0">+</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">&gt;=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">input</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Unexpected end of input&quot;</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">++}</span><span class="s1">loc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">begin</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">}}}</span><span class="s4">class </span><span class="s1">g</span><span class="s0">{</span><span class="s1">visitChildren</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t </span><span class="s4">in </span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visit</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}),</span><span class="s4">this</span><span class="s0">)}}}}</span><span class="s1">visit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;Pattern&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitPattern</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;Flags&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitFlags</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;Disjunction&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitDisjunction</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;Alternative&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitAlternative</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;StartAnchor&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitStartAnchor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;EndAnchor&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitEndAnchor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;WordBoundary&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitWordBoundary</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;NonWordBoundary&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitNonWordBoundary</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;Lookahead&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitLookahead</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;NegativeLookahead&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitNegativeLookahead</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;Character&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitCharacter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;Set&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitSet</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;Group&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitGroup</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;GroupBackReference&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitGroupBackReference</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;Quantifier&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitQuantifier</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">break</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitChildren</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">visitPattern</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitFlags</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitDisjunction</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitAlternative</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitStartAnchor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitEndAnchor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitWordBoundary</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitNonWordBoundary</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitLookahead</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitNegativeLookahead</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitCharacter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitSet</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitGroup</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitGroupBackReference</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitQuantifier</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}}},</span><span class="s3">87290</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">b</span><span class="s0">:()=&gt;</span><span class="s1">u</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">74888</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">6052</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">41281</span><span class="s0">);</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">37810</span><span class="s0">);</span><span class="s4">var </span><span class="s1">o</span><span class="s0">=</span><span class="s4">class extends </span><span class="s1">r</span><span class="s0">.</span><span class="s1">mR</span><span class="s0">{</span><span class="s4">static</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">,</span><span class="s2">&quot;GitGraphTokenBuilder&quot;</span><span class="s0">)}</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">super</span><span class="s0">([</span><span class="s2">&quot;gitGraph&quot;</span><span class="s0">])}};</span><span class="s4">var </span><span class="s1">c</span><span class="s0">={</span><span class="s1">parser</span><span class="s0">:{</span><span class="s1">TokenBuilder</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)((()=&gt;</span><span class="s4">new </span><span class="s1">o</span><span class="s0">),</span><span class="s2">&quot;TokenBuilder&quot;</span><span class="s0">),</span><span class="s1">ValueConverter</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)((()=&gt;</span><span class="s4">new </span><span class="s1">r</span><span class="s0">.</span><span class="s1">Tm</span><span class="s0">),</span><span class="s2">&quot;ValueConverter&quot;</span><span class="s0">)}};</span><span class="s4">function </span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">D</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">WQ</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">u</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">r</span><span class="s0">.</span><span class="s1">sr</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">WQ</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">t</span><span class="s0">)({</span><span class="s1">shared</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}),</span><span class="s1">r</span><span class="s0">.</span><span class="s1">eZ</span><span class="s0">,</span><span class="s1">c</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ServiceRegistry</span><span class="s0">.</span><span class="s1">register</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">shared</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">GitGraph</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)(</span><span class="s1">u</span><span class="s0">,</span><span class="s2">&quot;createGitGraphServices&quot;</span><span class="s0">)},</span><span class="s3">36578</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">f</span><span class="s0">:()=&gt;</span><span class="s1">u</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">74888</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">6052</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">41281</span><span class="s0">);</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">37810</span><span class="s0">);</span><span class="s4">var </span><span class="s1">o</span><span class="s0">=</span><span class="s4">class extends </span><span class="s1">r</span><span class="s0">.</span><span class="s1">mR</span><span class="s0">{</span><span class="s4">static</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">,</span><span class="s2">&quot;RadarTokenBuilder&quot;</span><span class="s0">)}</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">super</span><span class="s0">([</span><span class="s2">&quot;radar-beta&quot;</span><span class="s0">])}};</span><span class="s4">var </span><span class="s1">c</span><span class="s0">={</span><span class="s1">parser</span><span class="s0">:{</span><span class="s1">TokenBuilder</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)((()=&gt;</span><span class="s4">new </span><span class="s1">o</span><span class="s0">),</span><span class="s2">&quot;TokenBuilder&quot;</span><span class="s0">),</span><span class="s1">ValueConverter</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)((()=&gt;</span><span class="s4">new </span><span class="s1">r</span><span class="s0">.</span><span class="s1">Tm</span><span class="s0">),</span><span class="s2">&quot;ValueConverter&quot;</span><span class="s0">)}};</span><span class="s4">function </span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">D</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">WQ</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">u</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">r</span><span class="s0">.</span><span class="s1">sr</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">WQ</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">t</span><span class="s0">)({</span><span class="s1">shared</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}),</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YP</span><span class="s0">,</span><span class="s1">c</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ServiceRegistry</span><span class="s0">.</span><span class="s1">register</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">shared</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">Radar</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)(</span><span class="s1">u</span><span class="s0">,</span><span class="s2">&quot;createRadarServices&quot;</span><span class="s0">)},</span><span class="s3">74888</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">mR</span><span class="s0">:()=&gt;</span><span class="s1">Le</span><span class="s0">,</span><span class="s1">dg</span><span class="s0">:()=&gt;</span><span class="s1">Ce</span><span class="s0">,</span><span class="s1">jE</span><span class="s0">:()=&gt;</span><span class="s1">Ee</span><span class="s0">,</span><span class="s1">Tm</span><span class="s0">:()=&gt;</span><span class="s1">Ne</span><span class="s0">,</span><span class="s1">eZ</span><span class="s0">:()=&gt;</span><span class="s1">ke</span><span class="s0">,</span><span class="s1">e5</span><span class="s0">:()=&gt;</span><span class="s1">Ae</span><span class="s0">,</span><span class="s1">sr</span><span class="s0">:()=&gt;</span><span class="s1">ve</span><span class="s0">,</span><span class="s1">AM</span><span class="s0">:()=&gt;</span><span class="s1">Te</span><span class="s0">,</span><span class="s1">KX</span><span class="s0">:()=&gt;</span><span class="s1">Re</span><span class="s0">,</span><span class="s1">YP</span><span class="s0">:()=&gt;</span><span class="s1">xe</span><span class="s0">,</span><span class="s1">K2</span><span class="s0">:()=&gt;</span><span class="s1">g</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">64032</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">37810</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">41281</span><span class="s0">);</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">85684</span><span class="s0">);</span><span class="s4">var </span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">6052</span><span class="s0">);</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">14247</span><span class="s0">);</span><span class="s4">const </span><span class="s1">u</span><span class="s0">={</span><span class="s1">Grammar</span><span class="s0">:()=&gt;</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">LanguageMetaData</span><span class="s0">:()=&gt;({</span><span class="s1">caseInsensitive</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">fileExtensions</span><span class="s0">:[</span><span class="s2">&quot;.langium&quot;</span><span class="s0">],</span><span class="s1">languageId</span><span class="s0">:</span><span class="s2">&quot;langium&quot;</span><span class="s0">})};</span><span class="s4">const </span><span class="s1">l</span><span class="s0">={</span><span class="s1">AstReflection</span><span class="s0">:()=&gt;</span><span class="s4">new </span><span class="s1">a</span><span class="s0">.</span><span class="s1">QX</span><span class="s0">};</span><span class="s4">function </span><span class="s1">d</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">WQ</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">u</span><span class="s0">)(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">D</span><span class="s0">),</span><span class="s1">l</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">WQ</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">t</span><span class="s0">)({</span><span class="s1">shared</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}),</span><span class="s1">u</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ServiceRegistry</span><span class="s0">.</span><span class="s1">register</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">d</span><span class="s0">();</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">serializer</span><span class="s0">.</span><span class="s1">JsonSerializer</span><span class="s0">.</span><span class="s1">deserialize</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">shared</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">LangiumDocumentFactory</span><span class="s0">.</span><span class="s1">fromModel</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">r</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">(</span><span class="s2">`memory://</span><span class="s1">$</span><span class="s0">{(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">name</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s2">&quot;grammar&quot;</span><span class="s0">}</span><span class="s2">.langium`</span><span class="s0">));</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">var </span><span class="s1">h</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">14480</span><span class="s0">);</span><span class="s4">var </span><span class="s1">p</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">25355</span><span class="s0">);</span><span class="s4">var </span><span class="s1">m</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">;</span><span class="s4">var </span><span class="s1">g</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;</span><span class="s1">m</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;name&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">configurable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s4">var </span><span class="s1">y</span><span class="s0">=</span><span class="s2">&quot;Statement&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">v</span><span class="s0">=</span><span class="s2">&quot;Architecture&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">A</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">J</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">v</span><span class="s0">)}</span><span class="s1">g</span><span class="s0">(</span><span class="s1">A</span><span class="s0">,</span><span class="s2">&quot;isArchitecture&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">T</span><span class="s0">=</span><span class="s2">&quot;Axis&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">R</span><span class="s0">=</span><span class="s2">&quot;Branch&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">E</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">J</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">R</span><span class="s0">)}</span><span class="s1">g</span><span class="s0">(</span><span class="s1">E</span><span class="s0">,</span><span class="s2">&quot;isBranch&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">k</span><span class="s0">=</span><span class="s2">&quot;Checkout&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">x</span><span class="s0">=</span><span class="s2">&quot;CherryPicking&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">$</span><span class="s0">=</span><span class="s2">&quot;Commit&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">w</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">J</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">$</span><span class="s0">)}</span><span class="s1">g</span><span class="s0">(</span><span class="s1">w</span><span class="s0">,</span><span class="s2">&quot;isCommit&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">I</span><span class="s0">=</span><span class="s2">&quot;Common&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">S</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">J</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">I</span><span class="s0">)}</span><span class="s1">g</span><span class="s0">(</span><span class="s1">S</span><span class="s0">,</span><span class="s2">&quot;isCommon&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">C</span><span class="s0">=</span><span class="s2">&quot;Curve&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">N</span><span class="s0">=</span><span class="s2">&quot;Edge&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">L</span><span class="s0">=</span><span class="s2">&quot;Entry&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">b</span><span class="s0">=</span><span class="s2">&quot;GitGraph&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">_</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">J</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">b</span><span class="s0">)}</span><span class="s1">g</span><span class="s0">(</span><span class="s1">_</span><span class="s0">,</span><span class="s2">&quot;isGitGraph&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">O</span><span class="s0">=</span><span class="s2">&quot;Group&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">P</span><span class="s0">=</span><span class="s2">&quot;Info&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">M</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">J</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">P</span><span class="s0">)}</span><span class="s1">g</span><span class="s0">(</span><span class="s1">M</span><span class="s0">,</span><span class="s2">&quot;isInfo&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">D</span><span class="s0">=</span><span class="s2">&quot;Junction&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">U</span><span class="s0">=</span><span class="s2">&quot;Merge&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">F</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">J</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">U</span><span class="s0">)}</span><span class="s1">g</span><span class="s0">(</span><span class="s1">F</span><span class="s0">,</span><span class="s2">&quot;isMerge&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">G</span><span class="s0">=</span><span class="s2">&quot;Option&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">B</span><span class="s0">=</span><span class="s2">&quot;Packet&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">K</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">J</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">B</span><span class="s0">)}</span><span class="s1">g</span><span class="s0">(</span><span class="s1">K</span><span class="s0">,</span><span class="s2">&quot;isPacket&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">j</span><span class="s0">=</span><span class="s2">&quot;PacketBlock&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">V</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">J</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">j</span><span class="s0">)}</span><span class="s1">g</span><span class="s0">(</span><span class="s1">V</span><span class="s0">,</span><span class="s2">&quot;isPacketBlock&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">W</span><span class="s0">=</span><span class="s2">&quot;Pie&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">H</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">J</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">W</span><span class="s0">)}</span><span class="s1">g</span><span class="s0">(</span><span class="s1">H</span><span class="s0">,</span><span class="s2">&quot;isPie&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">z</span><span class="s0">=</span><span class="s2">&quot;PieSection&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">J</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">z</span><span class="s0">)}</span><span class="s1">g</span><span class="s0">(</span><span class="s1">Y</span><span class="s0">,</span><span class="s2">&quot;isPieSection&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">q</span><span class="s0">=</span><span class="s2">&quot;Radar&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">X</span><span class="s0">=</span><span class="s2">&quot;Service&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">Q</span><span class="s0">=</span><span class="s2">&quot;Direction&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">Z</span><span class="s0">=</span><span class="s4">class extends </span><span class="s1">r</span><span class="s0">.</span><span class="s1">kD</span><span class="s0">{</span><span class="s4">static</span><span class="s0">{</span><span class="s1">g</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s2">&quot;MermaidAstReflection&quot;</span><span class="s0">)}</span><span class="s1">getAllTypes</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">v</span><span class="s0">,</span><span class="s1">T</span><span class="s0">,</span><span class="s1">R</span><span class="s0">,</span><span class="s1">k</span><span class="s0">,</span><span class="s1">x</span><span class="s0">,</span><span class="s1">$</span><span class="s0">,</span><span class="s1">I</span><span class="s0">,</span><span class="s1">C</span><span class="s0">,</span><span class="s1">Q</span><span class="s0">,</span><span class="s1">N</span><span class="s0">,</span><span class="s1">L</span><span class="s0">,</span><span class="s1">b</span><span class="s0">,</span><span class="s1">O</span><span class="s0">,</span><span class="s1">P</span><span class="s0">,</span><span class="s1">D</span><span class="s0">,</span><span class="s1">U</span><span class="s0">,</span><span class="s1">G</span><span class="s0">,</span><span class="s1">B</span><span class="s0">,</span><span class="s1">j</span><span class="s0">,</span><span class="s1">W</span><span class="s0">,</span><span class="s1">z</span><span class="s0">,</span><span class="s1">q</span><span class="s0">,</span><span class="s1">X</span><span class="s0">,</span><span class="s1">y</span><span class="s0">]}</span><span class="s1">computeIsSubtype</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">R</span><span class="s0">:</span><span class="s4">case </span><span class="s1">k</span><span class="s0">:</span><span class="s4">case </span><span class="s1">x</span><span class="s0">:</span><span class="s4">case </span><span class="s1">$</span><span class="s0">:</span><span class="s4">case </span><span class="s1">U</span><span class="s0">:{</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">isSubtype</span><span class="s0">(</span><span class="s1">y</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">case </span><span class="s1">Q</span><span class="s0">:{</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">isSubtype</span><span class="s0">(</span><span class="s1">b</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">default</span><span class="s0">:{</span><span class="s4">return false</span><span class="s0">}}}</span><span class="s1">getReferenceType</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">}</span><span class="s2">:</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">property</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;Entry:axis&quot;</span><span class="s0">:{</span><span class="s4">return </span><span class="s1">T</span><span class="s0">}</span><span class="s4">default</span><span class="s0">:{</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">is not a valid reference id.`</span><span class="s0">)}}}</span><span class="s1">getTypeMetaData</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">v</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">v</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;accDescr&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;accTitle&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;edges&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;groups&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;junctions&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;services&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;title&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">T</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">T</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;label&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;name&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">R</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">R</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;name&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;order&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">k</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">k</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;branch&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">x</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">x</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;id&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;parent&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;tags&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]}]}}</span><span class="s4">case </span><span class="s1">$</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">$</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;id&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;message&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;tags&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;type&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">I</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">I</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;accDescr&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;accTitle&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;title&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">C</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">C</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;entries&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;label&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;name&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">N</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">N</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lhsDir&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lhsGroup&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lhsId&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lhsInto&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;rhsDir&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;rhsGroup&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;rhsId&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;rhsInto&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;title&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">L</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">L</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;axis&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;value&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">b</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">b</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;accDescr&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;accTitle&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;statements&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;title&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">O</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">O</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;icon&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;id&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;in&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;title&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">P</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">P</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;accDescr&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;accTitle&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;title&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">D</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">D</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;id&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;in&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">U</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">U</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;branch&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;id&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;tags&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;type&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">G</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">G</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;name&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;value&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s4">false</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">B</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">B</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;accDescr&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;accTitle&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;blocks&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;title&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">j</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">j</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;label&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;start&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">W</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">W</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;accDescr&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;accTitle&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;sections&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;showData&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;title&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">z</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">z</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;label&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;value&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">q</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">q</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;accDescr&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;accTitle&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;axes&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;curves&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;options&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;title&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">X</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">X</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;icon&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;iconText&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;id&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;in&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;title&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">Q</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">Q</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;accDescr&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;accTitle&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;dir&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;statements&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;title&quot;</span><span class="s0">}]}}</span><span class="s4">default</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[]}}}}};</span><span class="s4">var </span><span class="s1">J</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Z</span><span class="s0">;</span><span class="s4">var </span><span class="s1">ee</span><span class="s0">;</span><span class="s4">var </span><span class="s1">te</span><span class="s0">=</span><span class="s1">g</span><span class="s0">((()=&gt;</span><span class="s1">ee</span><span class="s0">??(</span><span class="s1">ee</span><span class="s0">=</span><span class="s1">f</span><span class="s0">(</span><span class="s2">'{&quot;$type&quot;:&quot;Grammar&quot;,&quot;isDeclared&quot;:true,&quot;name&quot;:&quot;Info&quot;,&quot;imports&quot;:[],&quot;rules&quot;:[{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;entry&quot;:true,&quot;name&quot;:&quot;Info&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@3&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;info&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@3&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;showInfo&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@3&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;}],&quot;cardinality&quot;:&quot;?&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@1&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;?&quot;}]},&quot;definesHiddenTokens&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;fragment&quot;:true,&quot;name&quot;:&quot;TitleAndAccessibilities&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;accDescr&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@4&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;accTitle&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@5&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;title&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@6&quot;},&quot;arguments&quot;:[]}}]},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[]}],&quot;cardinality&quot;:&quot;+&quot;},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;fragment&quot;:true,&quot;name&quot;:&quot;EOL&quot;,&quot;dataType&quot;:&quot;string&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@3&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;+&quot;},{&quot;$type&quot;:&quot;EndOfFile&quot;}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;NEWLINE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ACC_DESCR&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*accDescr(?:[</span><span class="s4">\\\\</span><span class="s2">t ]*:([^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*?(?=%%)|[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*)|</span><span class="s4">\\\\</span><span class="s2">s*{([^}]*)})/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ACC_TITLE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*accTitle[</span><span class="s4">\\\\</span><span class="s2">t ]*:(?:[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*?(?=%%)|[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*)/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;TITLE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*title(?:[</span><span class="s4">\\\\</span><span class="s2">t ][^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*?(?=%%)|[</span><span class="s4">\\\\</span><span class="s2">t ][^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*|)/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;WHITESPACE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]+/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;YAML&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/---[</span><span class="s4">\\\\</span><span class="s2">t ]*</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n(?:[</span><span class="s4">\\\\</span><span class="s2">S</span><span class="s4">\\\\</span><span class="s2">s]*?</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n)?---(?:</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n|(?!</span><span class="s4">\\\\</span><span class="s2">S))/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;DIRECTIVE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*%%{[</span><span class="s4">\\\\</span><span class="s2">S</span><span class="s4">\\\\</span><span class="s2">s]*?}%%(?:</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n|(?!</span><span class="s4">\\\\</span><span class="s2">S))/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;SINGLE_LINE_COMMENT&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*%%[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*/&quot;},&quot;fragment&quot;:false}],&quot;definesHiddenTokens&quot;:false,&quot;hiddenTokens&quot;:[],&quot;interfaces&quot;:[{&quot;$type&quot;:&quot;Interface&quot;,&quot;name&quot;:&quot;Common&quot;,&quot;attributes&quot;:[{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;accDescr&quot;,&quot;isOptional&quot;:true,&quot;type&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;primitiveType&quot;:&quot;string&quot;}},{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;accTitle&quot;,&quot;isOptional&quot;:true,&quot;type&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;primitiveType&quot;:&quot;string&quot;}},{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;title&quot;,&quot;isOptional&quot;:true,&quot;type&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;primitiveType&quot;:&quot;string&quot;}}],&quot;superTypes&quot;:[]}],&quot;types&quot;:[],&quot;usedGrammars&quot;:[]}'</span><span class="s0">))),</span><span class="s2">&quot;InfoGrammar&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">ne</span><span class="s0">;</span><span class="s4">var </span><span class="s1">re</span><span class="s0">=</span><span class="s1">g</span><span class="s0">((()=&gt;</span><span class="s1">ne</span><span class="s0">??(</span><span class="s1">ne</span><span class="s0">=</span><span class="s1">f</span><span class="s0">(</span><span class="s2">`{&quot;$type&quot;:&quot;Grammar&quot;,&quot;isDeclared&quot;:true,&quot;name&quot;:&quot;Packet&quot;,&quot;imports&quot;:[],&quot;rules&quot;:[{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;entry&quot;:true,&quot;name&quot;:&quot;Packet&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@6&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;packet-beta&quot;},{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@6&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@4&quot;},&quot;arguments&quot;:[]},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;blocks&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@1&quot;},&quot;arguments&quot;:[]},&quot;cardinality&quot;:&quot;*&quot;}]},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@6&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;+&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;blocks&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@1&quot;},&quot;arguments&quot;:[]},&quot;cardinality&quot;:&quot;+&quot;}]},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@6&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;}]}]},&quot;definesHiddenTokens&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;name&quot;:&quot;PacketBlock&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;start&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;-&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;end&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[]}}],&quot;cardinality&quot;:&quot;?&quot;},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;:&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;label&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@3&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@5&quot;},&quot;arguments&quot;:[]}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;INT&quot;,&quot;type&quot;:{&quot;$type&quot;:&quot;ReturnType&quot;,&quot;name&quot;:&quot;number&quot;},&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/0|[1-9][0-9]*/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;STRING&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/</span><span class="s4">\\</span><span class="s2">&quot;[^</span><span class="s4">\\</span><span class="s2">&quot;]*</span><span class="s4">\\</span><span class="s2">&quot;|'[^']*'/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;fragment&quot;:true,&quot;name&quot;:&quot;TitleAndAccessibilities&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;accDescr&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@7&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;accTitle&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@8&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;title&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@9&quot;},&quot;arguments&quot;:[]}}]},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@5&quot;},&quot;arguments&quot;:[]}],&quot;cardinality&quot;:&quot;+&quot;},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;fragment&quot;:true,&quot;name&quot;:&quot;EOL&quot;,&quot;dataType&quot;:&quot;string&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@6&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;+&quot;},{&quot;$type&quot;:&quot;EndOfFile&quot;}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;NEWLINE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ACC_DESCR&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*accDescr(?:[</span><span class="s4">\\\\</span><span class="s2">t ]*:([^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*?(?=%%)|[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*)|</span><span class="s4">\\\\</span><span class="s2">s*{([^}]*)})/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ACC_TITLE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*accTitle[</span><span class="s4">\\\\</span><span class="s2">t ]*:(?:[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*?(?=%%)|[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*)/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;TITLE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*title(?:[</span><span class="s4">\\\\</span><span class="s2">t ][^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*?(?=%%)|[</span><span class="s4">\\\\</span><span class="s2">t ][^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*|)/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;WHITESPACE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]+/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;YAML&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/---[</span><span class="s4">\\\\</span><span class="s2">t ]*</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n(?:[</span><span class="s4">\\\\</span><span class="s2">S</span><span class="s4">\\\\</span><span class="s2">s]*?</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n)?---(?:</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n|(?!</span><span class="s4">\\\\</span><span class="s2">S))/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;DIRECTIVE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*%%{[</span><span class="s4">\\\\</span><span class="s2">S</span><span class="s4">\\\\</span><span class="s2">s]*?}%%(?:</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n|(?!</span><span class="s4">\\\\</span><span class="s2">S))/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;SINGLE_LINE_COMMENT&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*%%[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*/&quot;},&quot;fragment&quot;:false}],&quot;definesHiddenTokens&quot;:false,&quot;hiddenTokens&quot;:[],&quot;interfaces&quot;:[{&quot;$type&quot;:&quot;Interface&quot;,&quot;name&quot;:&quot;Common&quot;,&quot;attributes&quot;:[{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;accDescr&quot;,&quot;isOptional&quot;:true,&quot;type&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;primitiveType&quot;:&quot;string&quot;}},{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;accTitle&quot;,&quot;isOptional&quot;:true,&quot;type&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;primitiveType&quot;:&quot;string&quot;}},{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;title&quot;,&quot;isOptional&quot;:true,&quot;type&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;primitiveType&quot;:&quot;string&quot;}}],&quot;superTypes&quot;:[]}],&quot;types&quot;:[],&quot;usedGrammars&quot;:[]}`</span><span class="s0">))),</span><span class="s2">&quot;PacketGrammar&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">ie</span><span class="s0">;</span><span class="s4">var </span><span class="s1">se</span><span class="s0">=</span><span class="s1">g</span><span class="s0">((()=&gt;</span><span class="s1">ie</span><span class="s0">??(</span><span class="s1">ie</span><span class="s0">=</span><span class="s1">f</span><span class="s0">(</span><span class="s2">'{&quot;$type&quot;:&quot;Grammar&quot;,&quot;isDeclared&quot;:true,&quot;name&quot;:&quot;Pie&quot;,&quot;imports&quot;:[],&quot;rules&quot;:[{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;entry&quot;:true,&quot;name&quot;:&quot;Pie&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@6&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;pie&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;showData&quot;,&quot;operator&quot;:&quot;?=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;showData&quot;},&quot;cardinality&quot;:&quot;?&quot;},{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@6&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@4&quot;},&quot;arguments&quot;:[]},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;sections&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@1&quot;},&quot;arguments&quot;:[]},&quot;cardinality&quot;:&quot;*&quot;}]},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@6&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;+&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;sections&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@1&quot;},&quot;arguments&quot;:[]},&quot;cardinality&quot;:&quot;+&quot;}]},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@6&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;}]}]},&quot;definesHiddenTokens&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;name&quot;:&quot;PieSection&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;label&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;:&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;value&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@3&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@5&quot;},&quot;arguments&quot;:[]}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;PIE_SECTION_LABEL&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/</span><span class="s4">\\</span><span class="s2">&quot;[^</span><span class="s4">\\</span><span class="s2">&quot;]+</span><span class="s4">\\</span><span class="s2">&quot;/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;PIE_SECTION_VALUE&quot;,&quot;type&quot;:{&quot;$type&quot;:&quot;ReturnType&quot;,&quot;name&quot;:&quot;number&quot;},&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/(0|[1-9][0-9]*)(</span><span class="s4">\\\\</span><span class="s2">.[0-9]+)?/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;fragment&quot;:true,&quot;name&quot;:&quot;TitleAndAccessibilities&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;accDescr&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@7&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;accTitle&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@8&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;title&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@9&quot;},&quot;arguments&quot;:[]}}]},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@5&quot;},&quot;arguments&quot;:[]}],&quot;cardinality&quot;:&quot;+&quot;},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;fragment&quot;:true,&quot;name&quot;:&quot;EOL&quot;,&quot;dataType&quot;:&quot;string&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@6&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;+&quot;},{&quot;$type&quot;:&quot;EndOfFile&quot;}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;NEWLINE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ACC_DESCR&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*accDescr(?:[</span><span class="s4">\\\\</span><span class="s2">t ]*:([^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*?(?=%%)|[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*)|</span><span class="s4">\\\\</span><span class="s2">s*{([^}]*)})/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ACC_TITLE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*accTitle[</span><span class="s4">\\\\</span><span class="s2">t ]*:(?:[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*?(?=%%)|[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*)/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;TITLE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*title(?:[</span><span class="s4">\\\\</span><span class="s2">t ][^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*?(?=%%)|[</span><span class="s4">\\\\</span><span class="s2">t ][^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*|)/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;WHITESPACE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]+/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;YAML&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/---[</span><span class="s4">\\\\</span><span class="s2">t ]*</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n(?:[</span><span class="s4">\\\\</span><span class="s2">S</span><span class="s4">\\\\</span><span class="s2">s]*?</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n)?---(?:</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n|(?!</span><span class="s4">\\\\</span><span class="s2">S))/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;DIRECTIVE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*%%{[</span><span class="s4">\\\\</span><span class="s2">S</span><span class="s4">\\\\</span><span class="s2">s]*?}%%(?:</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n|(?!</span><span class="s4">\\\\</span><span class="s2">S))/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;SINGLE_LINE_COMMENT&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*%%[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*/&quot;},&quot;fragment&quot;:false}],&quot;definesHiddenTokens&quot;:false,&quot;hiddenTokens&quot;:[],&quot;interfaces&quot;:[{&quot;$type&quot;:&quot;Interface&quot;,&quot;name&quot;:&quot;Common&quot;,&quot;attributes&quot;:[{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;accDescr&quot;,&quot;isOptional&quot;:true,&quot;type&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;primitiveType&quot;:&quot;string&quot;}},{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;accTitle&quot;,&quot;isOptional&quot;:true,&quot;type&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;primitiveType&quot;:&quot;string&quot;}},{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;title&quot;,&quot;isOptional&quot;:true,&quot;type&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;primitiveType&quot;:&quot;string&quot;}}],&quot;superTypes&quot;:[]}],&quot;types&quot;:[],&quot;usedGrammars&quot;:[]}'</span><span class="s0">))),</span><span class="s2">&quot;PieGrammar&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">ae</span><span class="s0">;</span><span class="s4">var </span><span class="s1">oe</span><span class="s0">=</span><span class="s1">g</span><span class="s0">((()=&gt;</span><span class="s1">ae</span><span class="s0">??(</span><span class="s1">ae</span><span class="s0">=</span><span class="s1">f</span><span class="s0">(</span><span class="s2">'{&quot;$type&quot;:&quot;Grammar&quot;,&quot;isDeclared&quot;:true,&quot;name&quot;:&quot;Architecture&quot;,&quot;imports&quot;:[],&quot;rules&quot;:[{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;entry&quot;:true,&quot;name&quot;:&quot;Architecture&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@18&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;architecture-beta&quot;},{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@18&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@16&quot;},&quot;arguments&quot;:[]}]},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@18&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@1&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;}]},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@18&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;}]}]},&quot;definesHiddenTokens&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;fragment&quot;:true,&quot;name&quot;:&quot;Statement&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;groups&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@5&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;services&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@6&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;junctions&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@7&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;edges&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@8&quot;},&quot;arguments&quot;:[]}}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;fragment&quot;:true,&quot;name&quot;:&quot;LeftPort&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;:&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;lhsDir&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@9&quot;},&quot;arguments&quot;:[]}}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;fragment&quot;:true,&quot;name&quot;:&quot;RightPort&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;rhsDir&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@9&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;:&quot;}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;fragment&quot;:true,&quot;name&quot;:&quot;Arrow&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[]},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;lhsInto&quot;,&quot;operator&quot;:&quot;?=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@15&quot;},&quot;arguments&quot;:[]},&quot;cardinality&quot;:&quot;?&quot;},{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;--&quot;},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;-&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;title&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@13&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;-&quot;}]}]},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;rhsInto&quot;,&quot;operator&quot;:&quot;?=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@15&quot;},&quot;arguments&quot;:[]},&quot;cardinality&quot;:&quot;?&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@3&quot;},&quot;arguments&quot;:[]}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;name&quot;:&quot;Group&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;group&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;id&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@10&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;icon&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@12&quot;},&quot;arguments&quot;:[]},&quot;cardinality&quot;:&quot;?&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;title&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@13&quot;},&quot;arguments&quot;:[]},&quot;cardinality&quot;:&quot;?&quot;},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;in&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;in&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@10&quot;},&quot;arguments&quot;:[]}}],&quot;cardinality&quot;:&quot;?&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@17&quot;},&quot;arguments&quot;:[]}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;name&quot;:&quot;Service&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;service&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;id&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@10&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;iconText&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@11&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;icon&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@12&quot;},&quot;arguments&quot;:[]}}],&quot;cardinality&quot;:&quot;?&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;title&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@13&quot;},&quot;arguments&quot;:[]},&quot;cardinality&quot;:&quot;?&quot;},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;in&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;in&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@10&quot;},&quot;arguments&quot;:[]}}],&quot;cardinality&quot;:&quot;?&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@17&quot;},&quot;arguments&quot;:[]}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;name&quot;:&quot;Junction&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;junction&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;id&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@10&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;in&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;in&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@10&quot;},&quot;arguments&quot;:[]}}],&quot;cardinality&quot;:&quot;?&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@17&quot;},&quot;arguments&quot;:[]}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;name&quot;:&quot;Edge&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;lhsId&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@10&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;lhsGroup&quot;,&quot;operator&quot;:&quot;?=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@14&quot;},&quot;arguments&quot;:[]},&quot;cardinality&quot;:&quot;?&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@4&quot;},&quot;arguments&quot;:[]},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;rhsId&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@10&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;rhsGroup&quot;,&quot;operator&quot;:&quot;?=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@14&quot;},&quot;arguments&quot;:[]},&quot;cardinality&quot;:&quot;?&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@17&quot;},&quot;arguments&quot;:[]}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ARROW_DIRECTION&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;TerminalAlternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;TerminalAlternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;TerminalAlternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;CharacterRange&quot;,&quot;left&quot;:{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;L&quot;}},{&quot;$type&quot;:&quot;CharacterRange&quot;,&quot;left&quot;:{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;R&quot;}}]},{&quot;$type&quot;:&quot;CharacterRange&quot;,&quot;left&quot;:{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;T&quot;}}]},{&quot;$type&quot;:&quot;CharacterRange&quot;,&quot;left&quot;:{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;B&quot;}}]},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ARCH_ID&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">w]+/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ARCH_TEXT_ICON&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/</span><span class="s4">\\\\</span><span class="s2">(</span><span class="s4">\\</span><span class="s2">&quot;[^</span><span class="s4">\\</span><span class="s2">&quot;]+</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s4">\\\\</span><span class="s2">)/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ARCH_ICON&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/</span><span class="s4">\\\\</span><span class="s2">([</span><span class="s4">\\\\</span><span class="s2">w-:]+</span><span class="s4">\\\\</span><span class="s2">)/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ARCH_TITLE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/</span><span class="s4">\\\\</span><span class="s2">[[</span><span class="s4">\\\\</span><span class="s2">w ]+</span><span class="s4">\\\\</span><span class="s2">]/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ARROW_GROUP&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/</span><span class="s4">\\\\</span><span class="s2">{group</span><span class="s4">\\\\</span><span class="s2">}/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ARROW_INTO&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/&lt;|&gt;/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;fragment&quot;:true,&quot;name&quot;:&quot;TitleAndAccessibilities&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;accDescr&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@19&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;accTitle&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@20&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;title&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@21&quot;},&quot;arguments&quot;:[]}}]},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@17&quot;},&quot;arguments&quot;:[]}],&quot;cardinality&quot;:&quot;+&quot;},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;fragment&quot;:true,&quot;name&quot;:&quot;EOL&quot;,&quot;dataType&quot;:&quot;string&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@18&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;+&quot;},{&quot;$type&quot;:&quot;EndOfFile&quot;}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;NEWLINE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ACC_DESCR&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*accDescr(?:[</span><span class="s4">\\\\</span><span class="s2">t ]*:([^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*?(?=%%)|[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*)|</span><span class="s4">\\\\</span><span class="s2">s*{([^}]*)})/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ACC_TITLE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*accTitle[</span><span class="s4">\\\\</span><span class="s2">t ]*:(?:[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*?(?=%%)|[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*)/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;TITLE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*title(?:[</span><span class="s4">\\\\</span><span class="s2">t ][^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*?(?=%%)|[</span><span class="s4">\\\\</span><span class="s2">t ][^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*|)/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;WHITESPACE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]+/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;YAML&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/---[</span><span class="s4">\\\\</span><span class="s2">t ]*</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n(?:[</span><span class="s4">\\\\</span><span class="s2">S</span><span class="s4">\\\\</span><span class="s2">s]*?</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n)?---(?:</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n|(?!</span><span class="s4">\\\\</span><span class="s2">S))/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;DIRECTIVE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*%%{[</span><span class="s4">\\\\</span><span class="s2">S</span><span class="s4">\\\\</span><span class="s2">s]*?}%%(?:</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n|(?!</span><span class="s4">\\\\</span><span class="s2">S))/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;SINGLE_LINE_COMMENT&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*%%[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*/&quot;},&quot;fragment&quot;:false}],&quot;definesHiddenTokens&quot;:false,&quot;hiddenTokens&quot;:[],&quot;interfaces&quot;:[{&quot;$type&quot;:&quot;Interface&quot;,&quot;name&quot;:&quot;Common&quot;,&quot;attributes&quot;:[{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;accDescr&quot;,&quot;isOptional&quot;:true,&quot;type&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;primitiveType&quot;:&quot;string&quot;}},{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;accTitle&quot;,&quot;isOptional&quot;:true,&quot;type&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;primitiveType&quot;:&quot;string&quot;}},{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;title&quot;,&quot;isOptional&quot;:true,&quot;type&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;primitiveType&quot;:&quot;string&quot;}}],&quot;superTypes&quot;:[]}],&quot;types&quot;:[],&quot;usedGrammars&quot;:[]}'</span><span class="s0">))),</span><span class="s2">&quot;ArchitectureGrammar&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">ce</span><span class="s0">;</span><span class="s4">var </span><span class="s1">ue</span><span class="s0">=</span><span class="s1">g</span><span class="s0">((()=&gt;</span><span class="s1">ce</span><span class="s0">??(</span><span class="s1">ce</span><span class="s0">=</span><span class="s1">f</span><span class="s0">(</span><span class="s2">`{&quot;$type&quot;:&quot;Grammar&quot;,&quot;isDeclared&quot;:true,&quot;name&quot;:&quot;GitGraph&quot;,&quot;interfaces&quot;:[{&quot;$type&quot;:&quot;Interface&quot;,&quot;name&quot;:&quot;Common&quot;,&quot;attributes&quot;:[{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;accDescr&quot;,&quot;isOptional&quot;:true,&quot;type&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;primitiveType&quot;:&quot;string&quot;}},{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;accTitle&quot;,&quot;isOptional&quot;:true,&quot;type&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;primitiveType&quot;:&quot;string&quot;}},{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;title&quot;,&quot;isOptional&quot;:true,&quot;type&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;primitiveType&quot;:&quot;string&quot;}}],&quot;superTypes&quot;:[]}],&quot;rules&quot;:[{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;fragment&quot;:true,&quot;name&quot;:&quot;TitleAndAccessibilities&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;accDescr&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@3&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;accTitle&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@4&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;title&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@5&quot;},&quot;arguments&quot;:[]}}]},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@1&quot;},&quot;arguments&quot;:[]}],&quot;cardinality&quot;:&quot;+&quot;},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;fragment&quot;:true,&quot;name&quot;:&quot;EOL&quot;,&quot;dataType&quot;:&quot;string&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;+&quot;},{&quot;$type&quot;:&quot;EndOfFile&quot;}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;NEWLINE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ACC_DESCR&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*accDescr(?:[</span><span class="s4">\\\\</span><span class="s2">t ]*:([^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*?(?=%%)|[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*)|</span><span class="s4">\\\\</span><span class="s2">s*{([^}]*)})/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ACC_TITLE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*accTitle[</span><span class="s4">\\\\</span><span class="s2">t ]*:(?:[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*?(?=%%)|[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*)/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;TITLE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*title(?:[</span><span class="s4">\\\\</span><span class="s2">t ][^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*?(?=%%)|[</span><span class="s4">\\\\</span><span class="s2">t ][^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*|)/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;WHITESPACE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]+/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;YAML&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/---[</span><span class="s4">\\\\</span><span class="s2">t ]*</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n(?:[</span><span class="s4">\\\\</span><span class="s2">S</span><span class="s4">\\\\</span><span class="s2">s]*?</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n)?---(?:</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n|(?!</span><span class="s4">\\\\</span><span class="s2">S))/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;DIRECTIVE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*%%{[</span><span class="s4">\\\\</span><span class="s2">S</span><span class="s4">\\\\</span><span class="s2">s]*?}%%(?:</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n|(?!</span><span class="s4">\\\\</span><span class="s2">S))/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;SINGLE_LINE_COMMENT&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*%%[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;entry&quot;:true,&quot;name&quot;:&quot;GitGraph&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;gitGraph&quot;},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;gitGraph&quot;},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;:&quot;}]},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;gitGraph:&quot;},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;gitGraph&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@12&quot;},&quot;arguments&quot;:[]},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;:&quot;}]}]},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@0&quot;},&quot;arguments&quot;:[]},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;statements&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@11&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[]}],&quot;cardinality&quot;:&quot;*&quot;}]}]},&quot;definesHiddenTokens&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;name&quot;:&quot;Statement&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@13&quot;},&quot;arguments&quot;:[]},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@14&quot;},&quot;arguments&quot;:[]},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@15&quot;},&quot;arguments&quot;:[]},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@16&quot;},&quot;arguments&quot;:[]},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@17&quot;},&quot;arguments&quot;:[]}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;name&quot;:&quot;Direction&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;dir&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;LR&quot;},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;TB&quot;},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;BT&quot;}]}},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;name&quot;:&quot;Commit&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;commit&quot;},{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;id:&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;id&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@20&quot;},&quot;arguments&quot;:[]}}]},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;msg:&quot;,&quot;cardinality&quot;:&quot;?&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;message&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@20&quot;},&quot;arguments&quot;:[]}}]},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;tag:&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;tags&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@20&quot;},&quot;arguments&quot;:[]}}]},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;type:&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;type&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;NORMAL&quot;},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;REVERSE&quot;},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;HIGHLIGHT&quot;}]}}]}],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@1&quot;},&quot;arguments&quot;:[]}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;name&quot;:&quot;Branch&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;branch&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;name&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@19&quot;},&quot;arguments&quot;:[]},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@20&quot;},&quot;arguments&quot;:[]}]}},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;order:&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;order&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@18&quot;},&quot;arguments&quot;:[]}}],&quot;cardinality&quot;:&quot;?&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@1&quot;},&quot;arguments&quot;:[]}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;name&quot;:&quot;Merge&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;merge&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;branch&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@19&quot;},&quot;arguments&quot;:[]},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@20&quot;},&quot;arguments&quot;:[]}]}},{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;id:&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;id&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@20&quot;},&quot;arguments&quot;:[]}}]},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;tag:&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;tags&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@20&quot;},&quot;arguments&quot;:[]}}]},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;type:&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;type&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;NORMAL&quot;},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;REVERSE&quot;},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;HIGHLIGHT&quot;}]}}]}],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@1&quot;},&quot;arguments&quot;:[]}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;name&quot;:&quot;Checkout&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;checkout&quot;},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;switch&quot;}]},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;branch&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@19&quot;},&quot;arguments&quot;:[]},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@20&quot;},&quot;arguments&quot;:[]}]}},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@1&quot;},&quot;arguments&quot;:[]}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;name&quot;:&quot;CherryPicking&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;cherry-pick&quot;},{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;id:&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;id&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@20&quot;},&quot;arguments&quot;:[]}}]},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;tag:&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;tags&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@20&quot;},&quot;arguments&quot;:[]}}]},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;parent:&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;parent&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@20&quot;},&quot;arguments&quot;:[]}}]}],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@1&quot;},&quot;arguments&quot;:[]}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;INT&quot;,&quot;type&quot;:{&quot;$type&quot;:&quot;ReturnType&quot;,&quot;name&quot;:&quot;number&quot;},&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[0-9]+(?=</span><span class="s4">\\\\</span><span class="s2">s)/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ID&quot;,&quot;type&quot;:{&quot;$type&quot;:&quot;ReturnType&quot;,&quot;name&quot;:&quot;string&quot;},&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/</span><span class="s4">\\\\</span><span class="s2">w([-</span><span class="s4">\\\\</span><span class="s2">./</span><span class="s4">\\\\</span><span class="s2">w]*[-</span><span class="s4">\\\\</span><span class="s2">w])?/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;STRING&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/</span><span class="s4">\\</span><span class="s2">&quot;[^</span><span class="s4">\\</span><span class="s2">&quot;]*</span><span class="s4">\\</span><span class="s2">&quot;|'[^']*'/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false}],&quot;definesHiddenTokens&quot;:false,&quot;hiddenTokens&quot;:[],&quot;imports&quot;:[],&quot;types&quot;:[],&quot;usedGrammars&quot;:[]}`</span><span class="s0">))),</span><span class="s2">&quot;GitGraphGrammar&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">le</span><span class="s0">;</span><span class="s4">var </span><span class="s1">de</span><span class="s0">=</span><span class="s1">g</span><span class="s0">((()=&gt;</span><span class="s1">le</span><span class="s0">??(</span><span class="s1">le</span><span class="s0">=</span><span class="s1">f</span><span class="s0">(</span><span class="s2">`{&quot;$type&quot;:&quot;Grammar&quot;,&quot;isDeclared&quot;:true,&quot;name&quot;:&quot;Radar&quot;,&quot;interfaces&quot;:[{&quot;$type&quot;:&quot;Interface&quot;,&quot;name&quot;:&quot;Common&quot;,&quot;attributes&quot;:[{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;accDescr&quot;,&quot;isOptional&quot;:true,&quot;type&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;primitiveType&quot;:&quot;string&quot;}},{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;accTitle&quot;,&quot;isOptional&quot;:true,&quot;type&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;primitiveType&quot;:&quot;string&quot;}},{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;title&quot;,&quot;isOptional&quot;:true,&quot;type&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;primitiveType&quot;:&quot;string&quot;}}],&quot;superTypes&quot;:[]},{&quot;$type&quot;:&quot;Interface&quot;,&quot;name&quot;:&quot;Entry&quot;,&quot;attributes&quot;:[{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;axis&quot;,&quot;isOptional&quot;:true,&quot;type&quot;:{&quot;$type&quot;:&quot;ReferenceType&quot;,&quot;referenceType&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;typeRef&quot;:{&quot;$ref&quot;:&quot;#/rules@12&quot;}}}},{&quot;$type&quot;:&quot;TypeAttribute&quot;,&quot;name&quot;:&quot;value&quot;,&quot;type&quot;:{&quot;$type&quot;:&quot;SimpleType&quot;,&quot;primitiveType&quot;:&quot;number&quot;},&quot;isOptional&quot;:false}],&quot;superTypes&quot;:[]}],&quot;rules&quot;:[{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;fragment&quot;:true,&quot;name&quot;:&quot;TitleAndAccessibilities&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;accDescr&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@3&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;accTitle&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@4&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;title&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@5&quot;},&quot;arguments&quot;:[]}}]},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@1&quot;},&quot;arguments&quot;:[]}],&quot;cardinality&quot;:&quot;+&quot;},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;fragment&quot;:true,&quot;name&quot;:&quot;EOL&quot;,&quot;dataType&quot;:&quot;string&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;+&quot;},{&quot;$type&quot;:&quot;EndOfFile&quot;}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;NEWLINE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ACC_DESCR&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*accDescr(?:[</span><span class="s4">\\\\</span><span class="s2">t ]*:([^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*?(?=%%)|[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*)|</span><span class="s4">\\\\</span><span class="s2">s*{([^}]*)})/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ACC_TITLE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*accTitle[</span><span class="s4">\\\\</span><span class="s2">t ]*:(?:[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*?(?=%%)|[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*)/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;TITLE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*title(?:[</span><span class="s4">\\\\</span><span class="s2">t ][^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*?(?=%%)|[</span><span class="s4">\\\\</span><span class="s2">t ][^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*|)/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;WHITESPACE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]+/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;YAML&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/---[</span><span class="s4">\\\\</span><span class="s2">t ]*</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n(?:[</span><span class="s4">\\\\</span><span class="s2">S</span><span class="s4">\\\\</span><span class="s2">s]*?</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n)?---(?:</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n|(?!</span><span class="s4">\\\\</span><span class="s2">S))/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;DIRECTIVE&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*%%{[</span><span class="s4">\\\\</span><span class="s2">S</span><span class="s4">\\\\</span><span class="s2">s]*?}%%(?:</span><span class="s4">\\\\</span><span class="s2">r?</span><span class="s4">\\\\</span><span class="s2">n|(?!</span><span class="s4">\\\\</span><span class="s2">S))/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;hidden&quot;:true,&quot;name&quot;:&quot;SINGLE_LINE_COMMENT&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[</span><span class="s4">\\\\</span><span class="s2">t ]*%%[^</span><span class="s4">\\\\</span><span class="s2">n</span><span class="s4">\\\\</span><span class="s2">r]*/&quot;},&quot;fragment&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;entry&quot;:true,&quot;name&quot;:&quot;Radar&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;radar-beta&quot;},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;radar-beta:&quot;},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;radar-beta&quot;},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;:&quot;}]}]},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@0&quot;},&quot;arguments&quot;:[]},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;axis&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;axes&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@12&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;,&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;axes&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@12&quot;},&quot;arguments&quot;:[]}}],&quot;cardinality&quot;:&quot;*&quot;}]},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;curve&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;curves&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@13&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;,&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;curves&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@13&quot;},&quot;arguments&quot;:[]}}],&quot;cardinality&quot;:&quot;*&quot;}]},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;options&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@17&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;,&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;options&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@17&quot;},&quot;arguments&quot;:[]}}],&quot;cardinality&quot;:&quot;*&quot;}]},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[]}],&quot;cardinality&quot;:&quot;*&quot;}]},&quot;definesHiddenTokens&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;fragment&quot;:true,&quot;name&quot;:&quot;Label&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;[&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;label&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@22&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;]&quot;}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;name&quot;:&quot;Axis&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;name&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@21&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@11&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;?&quot;}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;name&quot;:&quot;Curve&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;name&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@21&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@11&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;?&quot;},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;{&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@14&quot;},&quot;arguments&quot;:[]},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;}&quot;}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;fragment&quot;:true,&quot;name&quot;:&quot;Entries&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;entries&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@16&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;,&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;entries&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@16&quot;},&quot;arguments&quot;:[]}}],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;}]},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;entries&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@15&quot;},&quot;arguments&quot;:[]}},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;,&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;entries&quot;,&quot;operator&quot;:&quot;+=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@15&quot;},&quot;arguments&quot;:[]}}],&quot;cardinality&quot;:&quot;*&quot;},{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@2&quot;},&quot;arguments&quot;:[],&quot;cardinality&quot;:&quot;*&quot;}]}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;name&quot;:&quot;DetailedEntry&quot;,&quot;returnType&quot;:{&quot;$ref&quot;:&quot;#/interfaces@1&quot;},&quot;definition&quot;:{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;axis&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;CrossReference&quot;,&quot;type&quot;:{&quot;$ref&quot;:&quot;#/rules@12&quot;},&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@21&quot;},&quot;arguments&quot;:[]},&quot;deprecatedSyntax&quot;:false}},{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;:&quot;,&quot;cardinality&quot;:&quot;?&quot;},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;value&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@18&quot;},&quot;arguments&quot;:[]}}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;name&quot;:&quot;NumberEntry&quot;,&quot;returnType&quot;:{&quot;$ref&quot;:&quot;#/interfaces@1&quot;},&quot;definition&quot;:{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;value&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@18&quot;},&quot;arguments&quot;:[]}},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;ParserRule&quot;,&quot;name&quot;:&quot;Option&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;Alternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;name&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;showLegend&quot;}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;value&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@19&quot;},&quot;arguments&quot;:[]}}]},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;name&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;ticks&quot;}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;value&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@18&quot;},&quot;arguments&quot;:[]}}]},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;name&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;max&quot;}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;value&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@18&quot;},&quot;arguments&quot;:[]}}]},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;name&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;min&quot;}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;value&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@18&quot;},&quot;arguments&quot;:[]}}]},{&quot;$type&quot;:&quot;Group&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;name&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;graticule&quot;}},{&quot;$type&quot;:&quot;Assignment&quot;,&quot;feature&quot;:&quot;value&quot;,&quot;operator&quot;:&quot;=&quot;,&quot;terminal&quot;:{&quot;$type&quot;:&quot;RuleCall&quot;,&quot;rule&quot;:{&quot;$ref&quot;:&quot;#/rules@20&quot;},&quot;arguments&quot;:[]}}]}]},&quot;definesHiddenTokens&quot;:false,&quot;entry&quot;:false,&quot;fragment&quot;:false,&quot;hiddenTokens&quot;:[],&quot;parameters&quot;:[],&quot;wildcard&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;NUMBER&quot;,&quot;type&quot;:{&quot;$type&quot;:&quot;ReturnType&quot;,&quot;name&quot;:&quot;number&quot;},&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/(0|[1-9][0-9]*)(</span><span class="s4">\\\\</span><span class="s2">.[0-9]+)?/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;BOOLEAN&quot;,&quot;type&quot;:{&quot;$type&quot;:&quot;ReturnType&quot;,&quot;name&quot;:&quot;boolean&quot;},&quot;definition&quot;:{&quot;$type&quot;:&quot;TerminalAlternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;CharacterRange&quot;,&quot;left&quot;:{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;true&quot;}},{&quot;$type&quot;:&quot;CharacterRange&quot;,&quot;left&quot;:{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;false&quot;}}]},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;GRATICULE&quot;,&quot;type&quot;:{&quot;$type&quot;:&quot;ReturnType&quot;,&quot;name&quot;:&quot;string&quot;},&quot;definition&quot;:{&quot;$type&quot;:&quot;TerminalAlternatives&quot;,&quot;elements&quot;:[{&quot;$type&quot;:&quot;CharacterRange&quot;,&quot;left&quot;:{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;circle&quot;}},{&quot;$type&quot;:&quot;CharacterRange&quot;,&quot;left&quot;:{&quot;$type&quot;:&quot;Keyword&quot;,&quot;value&quot;:&quot;polygon&quot;}}]},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;ID&quot;,&quot;type&quot;:{&quot;$type&quot;:&quot;ReturnType&quot;,&quot;name&quot;:&quot;string&quot;},&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/[a-zA-Z_][a-zA-Z0-9</span><span class="s4">\\\\</span><span class="s2">-_]*/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false},{&quot;$type&quot;:&quot;TerminalRule&quot;,&quot;name&quot;:&quot;STRING&quot;,&quot;definition&quot;:{&quot;$type&quot;:&quot;RegexToken&quot;,&quot;regex&quot;:&quot;/</span><span class="s4">\\</span><span class="s2">&quot;[^</span><span class="s4">\\</span><span class="s2">&quot;]*</span><span class="s4">\\</span><span class="s2">&quot;|'[^']*'/&quot;},&quot;fragment&quot;:false,&quot;hidden&quot;:false}],&quot;definesHiddenTokens&quot;:false,&quot;hiddenTokens&quot;:[],&quot;imports&quot;:[],&quot;types&quot;:[],&quot;usedGrammars&quot;:[]}`</span><span class="s0">))),</span><span class="s2">&quot;RadarGrammar&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">fe</span><span class="s0">={</span><span class="s1">languageId</span><span class="s0">:</span><span class="s2">&quot;info&quot;</span><span class="s0">,</span><span class="s1">fileExtensions</span><span class="s0">:[</span><span class="s2">&quot;.mmd&quot;</span><span class="s0">,</span><span class="s2">&quot;.mermaid&quot;</span><span class="s0">],</span><span class="s1">caseInsensitive</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">mode</span><span class="s0">:</span><span class="s2">&quot;production&quot;</span><span class="s0">};</span><span class="s4">var </span><span class="s1">he</span><span class="s0">={</span><span class="s1">languageId</span><span class="s0">:</span><span class="s2">&quot;packet&quot;</span><span class="s0">,</span><span class="s1">fileExtensions</span><span class="s0">:[</span><span class="s2">&quot;.mmd&quot;</span><span class="s0">,</span><span class="s2">&quot;.mermaid&quot;</span><span class="s0">],</span><span class="s1">caseInsensitive</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">mode</span><span class="s0">:</span><span class="s2">&quot;production&quot;</span><span class="s0">};</span><span class="s4">var </span><span class="s1">pe</span><span class="s0">={</span><span class="s1">languageId</span><span class="s0">:</span><span class="s2">&quot;pie&quot;</span><span class="s0">,</span><span class="s1">fileExtensions</span><span class="s0">:[</span><span class="s2">&quot;.mmd&quot;</span><span class="s0">,</span><span class="s2">&quot;.mermaid&quot;</span><span class="s0">],</span><span class="s1">caseInsensitive</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">mode</span><span class="s0">:</span><span class="s2">&quot;production&quot;</span><span class="s0">};</span><span class="s4">var </span><span class="s1">me</span><span class="s0">={</span><span class="s1">languageId</span><span class="s0">:</span><span class="s2">&quot;architecture&quot;</span><span class="s0">,</span><span class="s1">fileExtensions</span><span class="s0">:[</span><span class="s2">&quot;.mmd&quot;</span><span class="s0">,</span><span class="s2">&quot;.mermaid&quot;</span><span class="s0">],</span><span class="s1">caseInsensitive</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">mode</span><span class="s0">:</span><span class="s2">&quot;production&quot;</span><span class="s0">};</span><span class="s4">var </span><span class="s1">ge</span><span class="s0">={</span><span class="s1">languageId</span><span class="s0">:</span><span class="s2">&quot;gitGraph&quot;</span><span class="s0">,</span><span class="s1">fileExtensions</span><span class="s0">:[</span><span class="s2">&quot;.mmd&quot;</span><span class="s0">,</span><span class="s2">&quot;.mermaid&quot;</span><span class="s0">],</span><span class="s1">caseInsensitive</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">mode</span><span class="s0">:</span><span class="s2">&quot;production&quot;</span><span class="s0">};</span><span class="s4">var </span><span class="s1">ye</span><span class="s0">={</span><span class="s1">languageId</span><span class="s0">:</span><span class="s2">&quot;radar&quot;</span><span class="s0">,</span><span class="s1">fileExtensions</span><span class="s0">:[</span><span class="s2">&quot;.mmd&quot;</span><span class="s0">,</span><span class="s2">&quot;.mermaid&quot;</span><span class="s0">],</span><span class="s1">caseInsensitive</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">mode</span><span class="s0">:</span><span class="s2">&quot;production&quot;</span><span class="s0">};</span><span class="s4">var </span><span class="s1">ve</span><span class="s0">={</span><span class="s1">AstReflection</span><span class="s0">:</span><span class="s1">g</span><span class="s0">((()=&gt;</span><span class="s4">new </span><span class="s1">Z</span><span class="s0">),</span><span class="s2">&quot;AstReflection&quot;</span><span class="s0">)};</span><span class="s4">var </span><span class="s1">Ae</span><span class="s0">={</span><span class="s1">Grammar</span><span class="s0">:</span><span class="s1">g</span><span class="s0">((()=&gt;</span><span class="s1">te</span><span class="s0">()),</span><span class="s2">&quot;Grammar&quot;</span><span class="s0">),</span><span class="s1">LanguageMetaData</span><span class="s0">:</span><span class="s1">g</span><span class="s0">((()=&gt;</span><span class="s1">fe</span><span class="s0">),</span><span class="s2">&quot;LanguageMetaData&quot;</span><span class="s0">),</span><span class="s1">parser</span><span class="s0">:{}};</span><span class="s4">var </span><span class="s1">Te</span><span class="s0">={</span><span class="s1">Grammar</span><span class="s0">:</span><span class="s1">g</span><span class="s0">((()=&gt;</span><span class="s1">re</span><span class="s0">()),</span><span class="s2">&quot;Grammar&quot;</span><span class="s0">),</span><span class="s1">LanguageMetaData</span><span class="s0">:</span><span class="s1">g</span><span class="s0">((()=&gt;</span><span class="s1">he</span><span class="s0">),</span><span class="s2">&quot;LanguageMetaData&quot;</span><span class="s0">),</span><span class="s1">parser</span><span class="s0">:{}};</span><span class="s4">var </span><span class="s1">Re</span><span class="s0">={</span><span class="s1">Grammar</span><span class="s0">:</span><span class="s1">g</span><span class="s0">((()=&gt;</span><span class="s1">se</span><span class="s0">()),</span><span class="s2">&quot;Grammar&quot;</span><span class="s0">),</span><span class="s1">LanguageMetaData</span><span class="s0">:</span><span class="s1">g</span><span class="s0">((()=&gt;</span><span class="s1">pe</span><span class="s0">),</span><span class="s2">&quot;LanguageMetaData&quot;</span><span class="s0">),</span><span class="s1">parser</span><span class="s0">:{}};</span><span class="s4">var </span><span class="s1">Ee</span><span class="s0">={</span><span class="s1">Grammar</span><span class="s0">:</span><span class="s1">g</span><span class="s0">((()=&gt;</span><span class="s1">oe</span><span class="s0">()),</span><span class="s2">&quot;Grammar&quot;</span><span class="s0">),</span><span class="s1">LanguageMetaData</span><span class="s0">:</span><span class="s1">g</span><span class="s0">((()=&gt;</span><span class="s1">me</span><span class="s0">),</span><span class="s2">&quot;LanguageMetaData&quot;</span><span class="s0">),</span><span class="s1">parser</span><span class="s0">:{}};</span><span class="s4">var </span><span class="s1">ke</span><span class="s0">={</span><span class="s1">Grammar</span><span class="s0">:</span><span class="s1">g</span><span class="s0">((()=&gt;</span><span class="s1">ue</span><span class="s0">()),</span><span class="s2">&quot;Grammar&quot;</span><span class="s0">),</span><span class="s1">LanguageMetaData</span><span class="s0">:</span><span class="s1">g</span><span class="s0">((()=&gt;</span><span class="s1">ge</span><span class="s0">),</span><span class="s2">&quot;LanguageMetaData&quot;</span><span class="s0">),</span><span class="s1">parser</span><span class="s0">:{}};</span><span class="s4">var </span><span class="s1">xe</span><span class="s0">={</span><span class="s1">Grammar</span><span class="s0">:</span><span class="s1">g</span><span class="s0">((()=&gt;</span><span class="s1">de</span><span class="s0">()),</span><span class="s2">&quot;Grammar&quot;</span><span class="s0">),</span><span class="s1">LanguageMetaData</span><span class="s0">:</span><span class="s1">g</span><span class="s0">((()=&gt;</span><span class="s1">ye</span><span class="s0">),</span><span class="s2">&quot;LanguageMetaData&quot;</span><span class="s0">),</span><span class="s1">parser</span><span class="s0">:{}};</span><span class="s4">var </span><span class="s1">$e</span><span class="s0">=</span><span class="s5">/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/</span><span class="s0">;</span><span class="s4">var </span><span class="s1">we</span><span class="s0">=</span><span class="s5">/accTitle[\t ]*:([^\n\r]*)/</span><span class="s0">;</span><span class="s4">var </span><span class="s1">Ie</span><span class="s0">=</span><span class="s5">/title([\t ][^\n\r]*|)/</span><span class="s0">;</span><span class="s4">var </span><span class="s1">Se</span><span class="s0">={</span><span class="s1">ACC_DESCR</span><span class="s0">:</span><span class="s1">$e</span><span class="s0">,</span><span class="s1">ACC_TITLE</span><span class="s0">:</span><span class="s1">we</span><span class="s0">,</span><span class="s1">TITLE</span><span class="s0">:</span><span class="s1">Ie</span><span class="s0">};</span><span class="s4">var </span><span class="s1">Ce</span><span class="s0">=</span><span class="s4">class extends </span><span class="s1">h</span><span class="s0">.</span><span class="s1">d</span><span class="s0">{</span><span class="s4">static</span><span class="s0">{</span><span class="s1">g</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s2">&quot;AbstractMermaidValueConverter&quot;</span><span class="s0">)}</span><span class="s1">runConverter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">runCommonConverter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">runCustomConverter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">){</span><span class="s4">return super</span><span class="s0">.</span><span class="s1">runConverter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">runCommonConverter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Se</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">){</span><span class="s4">return void </span><span class="s3">0</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s4">return void </span><span class="s3">0</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">[</span><span class="s3">1</span><span class="s0">].</span><span class="s1">trim</span><span class="s0">().</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/[\t ]{2,}/gm</span><span class="s0">,</span><span class="s2">&quot; &quot;</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s3">2</span><span class="s0">]!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">[</span><span class="s3">2</span><span class="s0">].</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/^\s*/gm</span><span class="s0">,</span><span class="s2">&quot;&quot;</span><span class="s0">).</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/\s+$/gm</span><span class="s0">,</span><span class="s2">&quot;&quot;</span><span class="s0">).</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/[\t ]{2,}/gm</span><span class="s0">,</span><span class="s2">&quot; &quot;</span><span class="s0">).</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/[\n\r]{2,}/gm</span><span class="s0">,</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">)}</span><span class="s4">return void </span><span class="s3">0</span><span class="s0">}};</span><span class="s4">var </span><span class="s1">Ne</span><span class="s0">=</span><span class="s4">class extends </span><span class="s1">Ce</span><span class="s0">{</span><span class="s4">static</span><span class="s0">{</span><span class="s1">g</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s2">&quot;CommonValueConverter&quot;</span><span class="s0">)}</span><span class="s1">runCustomConverter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return void </span><span class="s3">0</span><span class="s0">}};</span><span class="s4">var </span><span class="s1">Le</span><span class="s0">=</span><span class="s4">class extends </span><span class="s1">p</span><span class="s0">.</span><span class="s1">Q</span><span class="s0">{</span><span class="s4">static</span><span class="s0">{</span><span class="s1">g</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s2">&quot;AbstractMermaidTokenBuilder&quot;</span><span class="s0">)}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">keywords</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">buildKeywordTokens</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">super</span><span class="s0">.</span><span class="s1">buildKeywordTokens</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">keywords</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">=</span><span class="s4">new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()+</span><span class="s2">&quot;(?:(?=%%)|(?!</span><span class="s4">\\</span><span class="s2">S))&quot;</span><span class="s0">)}}));</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}};</span><span class="s4">var </span><span class="s1">be</span><span class="s0">=</span><span class="s4">class extends </span><span class="s1">Le</span><span class="s0">{</span><span class="s4">static</span><span class="s0">{</span><span class="s1">g</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s2">&quot;CommonTokenBuilder&quot;</span><span class="s0">)}}},</span><span class="s3">77018</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">S</span><span class="s0">:()=&gt;</span><span class="s1">l</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">74888</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">6052</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">41281</span><span class="s0">);</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">37810</span><span class="s0">);</span><span class="s4">var </span><span class="s1">o</span><span class="s0">=</span><span class="s4">class extends </span><span class="s1">r</span><span class="s0">.</span><span class="s1">mR</span><span class="s0">{</span><span class="s4">static</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">,</span><span class="s2">&quot;ArchitectureTokenBuilder&quot;</span><span class="s0">)}</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">super</span><span class="s0">([</span><span class="s2">&quot;architecture&quot;</span><span class="s0">])}};</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s4">class extends </span><span class="s1">r</span><span class="s0">.</span><span class="s1">dg</span><span class="s0">{</span><span class="s4">static</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">,</span><span class="s2">&quot;ArchitectureValueConverter&quot;</span><span class="s0">)}</span><span class="s1">runCustomConverter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s2">&quot;ARCH_ICON&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/[()]/g</span><span class="s0">,</span><span class="s2">&quot;&quot;</span><span class="s0">).</span><span class="s1">trim</span><span class="s0">()}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s2">&quot;ARCH_TEXT_ICON&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/[&quot;()]/g</span><span class="s0">,</span><span class="s2">&quot;&quot;</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s2">&quot;ARCH_TITLE&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/[[\]]/g</span><span class="s0">,</span><span class="s2">&quot;&quot;</span><span class="s0">).</span><span class="s1">trim</span><span class="s0">()}</span><span class="s4">return void </span><span class="s3">0</span><span class="s0">}};</span><span class="s4">var </span><span class="s1">u</span><span class="s0">={</span><span class="s1">parser</span><span class="s0">:{</span><span class="s1">TokenBuilder</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)((()=&gt;</span><span class="s4">new </span><span class="s1">o</span><span class="s0">),</span><span class="s2">&quot;TokenBuilder&quot;</span><span class="s0">),</span><span class="s1">ValueConverter</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)((()=&gt;</span><span class="s4">new </span><span class="s1">c</span><span class="s0">),</span><span class="s2">&quot;ValueConverter&quot;</span><span class="s0">)}};</span><span class="s4">function </span><span class="s1">l</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">D</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">WQ</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">u</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">r</span><span class="s0">.</span><span class="s1">sr</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">WQ</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">t</span><span class="s0">)({</span><span class="s1">shared</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}),</span><span class="s1">r</span><span class="s0">.</span><span class="s1">jE</span><span class="s0">,</span><span class="s1">u</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ServiceRegistry</span><span class="s0">.</span><span class="s1">register</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">shared</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">Architecture</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)(</span><span class="s1">l</span><span class="s0">,</span><span class="s2">&quot;createArchitectureServices&quot;</span><span class="s0">)},</span><span class="s3">25996</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">v</span><span class="s0">:()=&gt;</span><span class="s1">u</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">74888</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">6052</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">41281</span><span class="s0">);</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">37810</span><span class="s0">);</span><span class="s4">var </span><span class="s1">o</span><span class="s0">=</span><span class="s4">class extends </span><span class="s1">r</span><span class="s0">.</span><span class="s1">mR</span><span class="s0">{</span><span class="s4">static</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">,</span><span class="s2">&quot;InfoTokenBuilder&quot;</span><span class="s0">)}</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">super</span><span class="s0">([</span><span class="s2">&quot;info&quot;</span><span class="s0">,</span><span class="s2">&quot;showInfo&quot;</span><span class="s0">])}};</span><span class="s4">var </span><span class="s1">c</span><span class="s0">={</span><span class="s1">parser</span><span class="s0">:{</span><span class="s1">TokenBuilder</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)((()=&gt;</span><span class="s4">new </span><span class="s1">o</span><span class="s0">),</span><span class="s2">&quot;TokenBuilder&quot;</span><span class="s0">),</span><span class="s1">ValueConverter</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)((()=&gt;</span><span class="s4">new </span><span class="s1">r</span><span class="s0">.</span><span class="s1">Tm</span><span class="s0">),</span><span class="s2">&quot;ValueConverter&quot;</span><span class="s0">)}};</span><span class="s4">function </span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">D</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">WQ</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">u</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">r</span><span class="s0">.</span><span class="s1">sr</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">WQ</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">t</span><span class="s0">)({</span><span class="s1">shared</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}),</span><span class="s1">r</span><span class="s0">.</span><span class="s1">e5</span><span class="s0">,</span><span class="s1">c</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ServiceRegistry</span><span class="s0">.</span><span class="s1">register</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">shared</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">Info</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)(</span><span class="s1">u</span><span class="s0">,</span><span class="s2">&quot;createInfoServices&quot;</span><span class="s0">)},</span><span class="s3">62409</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">f</span><span class="s0">:()=&gt;</span><span class="s1">l</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">74888</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">6052</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">41281</span><span class="s0">);</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">37810</span><span class="s0">);</span><span class="s4">var </span><span class="s1">o</span><span class="s0">=</span><span class="s4">class extends </span><span class="s1">r</span><span class="s0">.</span><span class="s1">mR</span><span class="s0">{</span><span class="s4">static</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">,</span><span class="s2">&quot;PieTokenBuilder&quot;</span><span class="s0">)}</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">super</span><span class="s0">([</span><span class="s2">&quot;pie&quot;</span><span class="s0">,</span><span class="s2">&quot;showData&quot;</span><span class="s0">])}};</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s4">class extends </span><span class="s1">r</span><span class="s0">.</span><span class="s1">dg</span><span class="s0">{</span><span class="s4">static</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">,</span><span class="s2">&quot;PieValueConverter&quot;</span><span class="s0">)}</span><span class="s1">runCustomConverter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">!==</span><span class="s2">&quot;PIE_SECTION_LABEL&quot;</span><span class="s0">){</span><span class="s4">return void </span><span class="s3">0</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/&quot;/g</span><span class="s0">,</span><span class="s2">&quot;&quot;</span><span class="s0">).</span><span class="s1">trim</span><span class="s0">()}};</span><span class="s4">var </span><span class="s1">u</span><span class="s0">={</span><span class="s1">parser</span><span class="s0">:{</span><span class="s1">TokenBuilder</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)((()=&gt;</span><span class="s4">new </span><span class="s1">o</span><span class="s0">),</span><span class="s2">&quot;TokenBuilder&quot;</span><span class="s0">),</span><span class="s1">ValueConverter</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)((()=&gt;</span><span class="s4">new </span><span class="s1">c</span><span class="s0">),</span><span class="s2">&quot;ValueConverter&quot;</span><span class="s0">)}};</span><span class="s4">function </span><span class="s1">l</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">D</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">WQ</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">u</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">r</span><span class="s0">.</span><span class="s1">sr</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">WQ</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">t</span><span class="s0">)({</span><span class="s1">shared</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}),</span><span class="s1">r</span><span class="s0">.</span><span class="s1">KX</span><span class="s0">,</span><span class="s1">u</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ServiceRegistry</span><span class="s0">.</span><span class="s1">register</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">shared</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">Pie</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)(</span><span class="s1">l</span><span class="s0">,</span><span class="s2">&quot;createPieServices&quot;</span><span class="s0">)},</span><span class="s3">69602</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">$</span><span class="s0">:()=&gt;</span><span class="s1">u</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">74888</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">6052</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">41281</span><span class="s0">);</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">37810</span><span class="s0">);</span><span class="s4">var </span><span class="s1">o</span><span class="s0">=</span><span class="s4">class extends </span><span class="s1">r</span><span class="s0">.</span><span class="s1">mR</span><span class="s0">{</span><span class="s4">static</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">,</span><span class="s2">&quot;PacketTokenBuilder&quot;</span><span class="s0">)}</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">super</span><span class="s0">([</span><span class="s2">&quot;packet-beta&quot;</span><span class="s0">])}};</span><span class="s4">var </span><span class="s1">c</span><span class="s0">={</span><span class="s1">parser</span><span class="s0">:{</span><span class="s1">TokenBuilder</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)((()=&gt;</span><span class="s4">new </span><span class="s1">o</span><span class="s0">),</span><span class="s2">&quot;TokenBuilder&quot;</span><span class="s0">),</span><span class="s1">ValueConverter</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)((()=&gt;</span><span class="s4">new </span><span class="s1">r</span><span class="s0">.</span><span class="s1">Tm</span><span class="s0">),</span><span class="s2">&quot;ValueConverter&quot;</span><span class="s0">)}};</span><span class="s4">function </span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">D</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">WQ</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">u</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">r</span><span class="s0">.</span><span class="s1">sr</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">WQ</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">t</span><span class="s0">)({</span><span class="s1">shared</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}),</span><span class="s1">r</span><span class="s0">.</span><span class="s1">AM</span><span class="s0">,</span><span class="s1">c</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ServiceRegistry</span><span class="s0">.</span><span class="s1">register</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">shared</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">Packet</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)(</span><span class="s1">u</span><span class="s0">,</span><span class="s2">&quot;createPacketServices&quot;</span><span class="s0">)},</span><span class="s3">24010</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">qg</span><span class="s0">:()=&gt;</span><span class="s1">f</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">87290</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">25996</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">69602</span><span class="s0">);</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">62409</span><span class="s0">);</span><span class="s4">var </span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">77018</span><span class="s0">);</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">36578</span><span class="s0">);</span><span class="s4">var </span><span class="s1">u</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">74888</span><span class="s0">);</span><span class="s4">var </span><span class="s1">l</span><span class="s0">={};</span><span class="s4">var </span><span class="s1">d</span><span class="s0">={</span><span class="s1">info</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)((</span><span class="s1">async</span><span class="s0">()=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">createInfoServices</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s4">await </span><span class="s1">n</span><span class="s0">.</span><span class="s1">e</span><span class="s0">(</span><span class="s3">9136</span><span class="s0">).</span><span class="s1">then</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s3">49136</span><span class="s0">));</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">().</span><span class="s1">Info</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">LangiumParser</span><span class="s0">;</span><span class="s1">l</span><span class="s0">.</span><span class="s1">info</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}),</span><span class="s2">&quot;info&quot;</span><span class="s0">),</span><span class="s1">packet</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)((</span><span class="s1">async</span><span class="s0">()=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">createPacketServices</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s4">await </span><span class="s1">n</span><span class="s0">.</span><span class="s1">e</span><span class="s0">(</span><span class="s3">3122</span><span class="s0">).</span><span class="s1">then</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s3">63122</span><span class="s0">));</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">().</span><span class="s1">Packet</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">LangiumParser</span><span class="s0">;</span><span class="s1">l</span><span class="s0">.</span><span class="s1">packet</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}),</span><span class="s2">&quot;packet&quot;</span><span class="s0">),</span><span class="s1">pie</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)((</span><span class="s1">async</span><span class="s0">()=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">createPieServices</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s4">await </span><span class="s1">n</span><span class="s0">.</span><span class="s1">e</span><span class="s0">(</span><span class="s3">1462</span><span class="s0">).</span><span class="s1">then</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s3">91462</span><span class="s0">));</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">().</span><span class="s1">Pie</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">LangiumParser</span><span class="s0">;</span><span class="s1">l</span><span class="s0">.</span><span class="s1">pie</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}),</span><span class="s2">&quot;pie&quot;</span><span class="s0">),</span><span class="s1">architecture</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)((</span><span class="s1">async</span><span class="s0">()=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">createArchitectureServices</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s4">await </span><span class="s1">n</span><span class="s0">.</span><span class="s1">e</span><span class="s0">(</span><span class="s3">9359</span><span class="s0">).</span><span class="s1">then</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s3">79359</span><span class="s0">));</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">().</span><span class="s1">Architecture</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">LangiumParser</span><span class="s0">;</span><span class="s1">l</span><span class="s0">.</span><span class="s1">architecture</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}),</span><span class="s2">&quot;architecture&quot;</span><span class="s0">),</span><span class="s1">gitGraph</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)((</span><span class="s1">async</span><span class="s0">()=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">createGitGraphServices</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s4">await </span><span class="s1">n</span><span class="s0">.</span><span class="s1">e</span><span class="s0">(</span><span class="s3">8354</span><span class="s0">).</span><span class="s1">then</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s3">68354</span><span class="s0">));</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">().</span><span class="s1">GitGraph</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">LangiumParser</span><span class="s0">;</span><span class="s1">l</span><span class="s0">.</span><span class="s1">gitGraph</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}),</span><span class="s2">&quot;gitGraph&quot;</span><span class="s0">),</span><span class="s1">radar</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)((</span><span class="s1">async</span><span class="s0">()=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">createRadarServices</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s4">await </span><span class="s1">n</span><span class="s0">.</span><span class="s1">e</span><span class="s0">(</span><span class="s3">7741</span><span class="s0">).</span><span class="s1">then</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s3">97741</span><span class="s0">));</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">().</span><span class="s1">Radar</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">LangiumParser</span><span class="s0">;</span><span class="s1">l</span><span class="s0">.</span><span class="s1">radar</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}),</span><span class="s2">&quot;radar&quot;</span><span class="s0">)};</span><span class="s1">async </span><span class="s4">function </span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">d</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Unknown diagram type: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">l</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]){</span><span class="s4">await </span><span class="s1">n</span><span class="s0">()}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">l</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">lexerErrors</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">||</span><span class="s1">i</span><span class="s0">.</span><span class="s1">parserErrors</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">h</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">.</span><span class="s1">value</span><span class="s0">}(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)(</span><span class="s1">f</span><span class="s0">,</span><span class="s2">&quot;parse&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">h</span><span class="s0">=</span><span class="s4">class extends </span><span class="s1">Error</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lexerErrors</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">message</span><span class="s0">)).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parserErrors</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">message</span><span class="s0">)).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">);</span><span class="s4">super</span><span class="s0">(</span><span class="s2">`Parsing failed: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">result</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">static</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">K2</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">,</span><span class="s2">&quot;MermaidParseError&quot;</span><span class="s0">)}}},</span><span class="s3">50450</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">ak</span><span class="s0">:()=&gt;</span><span class="s1">J</span><span class="s0">,</span><span class="s1">mT</span><span class="s0">:()=&gt;</span><span class="s1">Ds</span><span class="s0">,</span><span class="s1">LT</span><span class="s0">:()=&gt;</span><span class="s1">sr</span><span class="s0">,</span><span class="s1">jr</span><span class="s0">:()=&gt;</span><span class="s1">Gs</span><span class="s0">,</span><span class="s1">T6</span><span class="s0">:()=&gt;</span><span class="s1">Xi</span><span class="s0">,</span><span class="s1">JG</span><span class="s0">:()=&gt;</span><span class="s1">Vn</span><span class="s0">,</span><span class="s1">wL</span><span class="s0">:()=&gt;</span><span class="s1">W</span><span class="s0">,</span><span class="s1">c$</span><span class="s0">:()=&gt;</span><span class="s1">Y</span><span class="s0">,</span><span class="s1">Y2</span><span class="s0">:()=&gt;</span><span class="s1">Q</span><span class="s0">,</span><span class="s1">$P</span><span class="s0">:()=&gt;</span><span class="s1">q</span><span class="s0">,</span><span class="s1">Cy</span><span class="s0">:()=&gt;</span><span class="s1">X</span><span class="s0">,</span><span class="s1">Pp</span><span class="s0">:()=&gt;</span><span class="s1">Z</span><span class="s0">,</span><span class="s1">BK</span><span class="s0">:()=&gt;</span><span class="s1">ee</span><span class="s0">,</span><span class="s1">PW</span><span class="s0">:()=&gt;</span><span class="s1">Bn</span><span class="s0">,</span><span class="s1">my</span><span class="s0">:()=&gt;</span><span class="s1">cr</span><span class="s0">,</span><span class="s1">jk</span><span class="s0">:()=&gt;</span><span class="s1">Fr</span><span class="s0">,</span><span class="s1">Sk</span><span class="s0">:()=&gt;</span><span class="s1">Wn</span><span class="s0">,</span><span class="s1">G</span><span class="s0">:()=&gt;</span><span class="s1">or</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">69769</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">44882</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">74650</span><span class="s0">);</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">8937</span><span class="s0">);</span><span class="s4">var </span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">2850</span><span class="s0">);</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">97134</span><span class="s0">);</span><span class="s4">function </span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(){}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">r</span><span class="s0">(){</span><span class="s4">return typeof </span><span class="s1">n</span><span class="s0">.</span><span class="s1">bar</span><span class="s0">}</span><span class="s1">r</span><span class="s0">();</span><span class="s1">r</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s4">true</span><span class="s0">)</span><span class="s4">return </span><span class="s1">e</span><span class="s0">;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">eval</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">l</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&lt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=-</span><span class="s1">t</span><span class="s0">&gt;</span><span class="s1">i</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">i</span><span class="s0">+</span><span class="s1">t</span><span class="s0">}</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">&gt;</span><span class="s1">i</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">n</span><span class="s0">+=</span><span class="s1">i</span><span class="s0">}</span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">&gt;</span><span class="s1">n</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">-</span><span class="s1">t</span><span class="s0">&gt;&gt;&gt;</span><span class="s3">0</span><span class="s0">;</span><span class="s1">t</span><span class="s0">&gt;&gt;&gt;=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Array</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">while</span><span class="s0">(++</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">){</span><span class="s1">s</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">r</span><span class="s0">+</span><span class="s1">t</span><span class="s0">]}</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">l</span><span class="s0">;</span><span class="s4">var </span><span class="s1">f</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">29914</span><span class="s0">);</span><span class="s4">function </span><span class="s1">h</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">==</span><span class="s4">null</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[]}</span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">?</span><span class="s3">1</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">f</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">&lt;</span><span class="s3">0</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s1">h</span><span class="s0">;</span><span class="s4">var </span><span class="s1">m</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">86378</span><span class="s0">);</span><span class="s4">var </span><span class="s1">g</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">16542</span><span class="s0">);</span><span class="s4">var </span><span class="s1">y</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">376</span><span class="s0">);</span><span class="s4">var </span><span class="s1">v</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">56280</span><span class="s0">);</span><span class="s4">var </span><span class="s1">A</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">21585</span><span class="s0">);</span><span class="s4">var </span><span class="s1">T</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">690</span><span class="s0">);</span><span class="s4">var </span><span class="s1">R</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">37947</span><span class="s0">);</span><span class="s4">var </span><span class="s1">E</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">;</span><span class="s4">var </span><span class="s1">k</span><span class="s0">=</span><span class="s1">E</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">;</span><span class="s4">var </span><span class="s1">x</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">v</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)((</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">T</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)||(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">A</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">y</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">R</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">),</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return</span><span class="s0">}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">n </span><span class="s4">in </span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">k</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)){(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">g</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])}}}));</span><span class="s4">const </span><span class="s1">$</span><span class="s0">=</span><span class="s1">x</span><span class="s0">;</span><span class="s4">var </span><span class="s1">w</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">98519</span><span class="s0">);</span><span class="s4">var </span><span class="s1">I</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">1121</span><span class="s0">);</span><span class="s4">var </span><span class="s1">S</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">44835</span><span class="s0">);</span><span class="s4">var </span><span class="s1">C</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">37138</span><span class="s0">);</span><span class="s4">function </span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">==</span><span class="s4">null</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{}}</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">w</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">C</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">),(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}));</span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">I</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">S</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">[</span><span class="s3">0</span><span class="s0">])}))}</span><span class="s4">const </span><span class="s1">L</span><span class="s0">=</span><span class="s1">N</span><span class="s0">;</span><span class="s4">var </span><span class="s1">b</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">64128</span><span class="s0">);</span><span class="s4">var </span><span class="s1">_</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">53315</span><span class="s0">);</span><span class="s4">var </span><span class="s1">O</span><span class="s0">=</span><span class="s2">&quot;[object RegExp]&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">P</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">_</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">b</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)==</span><span class="s1">O</span><span class="s0">}</span><span class="s4">const </span><span class="s1">M</span><span class="s0">=</span><span class="s1">P</span><span class="s0">;</span><span class="s4">var </span><span class="s1">D</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">26132</span><span class="s0">);</span><span class="s4">var </span><span class="s1">U</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">89986</span><span class="s0">);</span><span class="s4">var </span><span class="s1">F</span><span class="s0">=</span><span class="s1">U</span><span class="s0">.</span><span class="s1">A</span><span class="s0">&amp;&amp;</span><span class="s1">U</span><span class="s0">.</span><span class="s1">A</span><span class="s0">.</span><span class="s1">isRegExp</span><span class="s0">;</span><span class="s4">var </span><span class="s1">G</span><span class="s0">=</span><span class="s1">F</span><span class="s0">?(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">D</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">F</span><span class="s0">):</span><span class="s1">M</span><span class="s0">;</span><span class="s4">const </span><span class="s1">B</span><span class="s0">=</span><span class="s1">G</span><span class="s0">;</span><span class="s4">function </span><span class="s1">K</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">j</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">LABEL</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">j</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">m</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LABEL</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LABEL</span><span class="s0">!==</span><span class="s2">&quot;&quot;</span><span class="s0">}</span><span class="s4">class </span><span class="s1">V</span><span class="s0">{</span><span class="s1">get definition</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_definition</span><span class="s0">}</span><span class="s1">set definition</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_definition</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_definition</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">accept</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">visit</span><span class="s0">(</span><span class="s4">this</span><span class="s0">);(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">accept</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}))}}</span><span class="s4">class </span><span class="s1">W </span><span class="s4">extends </span><span class="s1">V</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">([]);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">$</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">L</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)))}</span><span class="s1">set definition</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">get definition</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">referencedRule</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">referencedRule</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">}</span><span class="s4">return</span><span class="s0">[]}</span><span class="s1">accept</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">visit</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}}</span><span class="s4">class </span><span class="s1">H </span><span class="s4">extends </span><span class="s1">V</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">orgText</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s1">$</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">L</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)))}}</span><span class="s4">class </span><span class="s1">z </span><span class="s4">extends </span><span class="s1">V</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">ignoreAmbiguities</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s1">$</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">L</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)))}}</span><span class="s4">class </span><span class="s1">Y </span><span class="s4">extends </span><span class="s1">V</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">$</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">L</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)))}}</span><span class="s4">class </span><span class="s1">q </span><span class="s4">extends </span><span class="s1">V</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">$</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">L</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)))}}</span><span class="s4">class </span><span class="s1">X </span><span class="s4">extends </span><span class="s1">V</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">$</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">L</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)))}}</span><span class="s4">class </span><span class="s1">Q </span><span class="s4">extends </span><span class="s1">V</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">$</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">L</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)))}}</span><span class="s4">class </span><span class="s1">Z </span><span class="s4">extends </span><span class="s1">V</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">$</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">L</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)))}}</span><span class="s4">class </span><span class="s1">J </span><span class="s4">extends </span><span class="s1">V</span><span class="s0">{</span><span class="s1">get definition</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_definition</span><span class="s0">}</span><span class="s1">set definition</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_definition</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">ignoreAmbiguities</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hasPredicates</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s1">$</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">L</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)))}}</span><span class="s4">class </span><span class="s1">ee</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">$</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">L</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)))}</span><span class="s1">accept</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">visit</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">te</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">ne</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">ne</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">ne</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">W</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;NonTerminal&quot;</span><span class="s0">,</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">nonTerminalName</span><span class="s0">,</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">};</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">m</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">label</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">label</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">label</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">z</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Alternative&quot;</span><span class="s0">,</span><span class="s1">definition</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Y</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Option&quot;</span><span class="s0">,</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">,</span><span class="s1">definition</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">q</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;RepetitionMandatory&quot;</span><span class="s0">,</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">,</span><span class="s1">definition</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">X</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;RepetitionMandatoryWithSeparator&quot;</span><span class="s0">,</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">,</span><span class="s1">separator</span><span class="s0">:</span><span class="s1">ne</span><span class="s0">(</span><span class="s4">new </span><span class="s1">ee</span><span class="s0">({</span><span class="s1">terminalType</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">separator</span><span class="s0">})),</span><span class="s1">definition</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Z</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;RepetitionWithSeparator&quot;</span><span class="s0">,</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">,</span><span class="s1">separator</span><span class="s0">:</span><span class="s1">ne</span><span class="s0">(</span><span class="s4">new </span><span class="s1">ee</span><span class="s0">({</span><span class="s1">terminalType</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">separator</span><span class="s0">})),</span><span class="s1">definition</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Q</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Repetition&quot;</span><span class="s0">,</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">,</span><span class="s1">definition</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">J</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Alternation&quot;</span><span class="s0">,</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">,</span><span class="s1">definition</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">ee</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Terminal&quot;</span><span class="s0">,</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">terminalType</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">label</span><span class="s0">:</span><span class="s1">K</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">terminalType</span><span class="s0">),</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">};</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">m</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">label</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">terminalLabel</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">label</span><span class="s0">}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">terminalType</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">terminalType</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">pattern</span><span class="s0">=</span><span class="s1">B</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">source</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">H</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Rule&quot;</span><span class="s0">,</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">orgText</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">orgText</span><span class="s0">,</span><span class="s1">definition</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;non exhaustive match&quot;</span><span class="s0">)}}</span><span class="s4">class </span><span class="s1">re</span><span class="s0">{</span><span class="s1">visit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">constructor</span><span class="s0">){</span><span class="s4">case </span><span class="s1">W</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">visitNonTerminal</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">case </span><span class="s1">z</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">visitAlternative</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">case </span><span class="s1">Y</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">visitOption</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">case </span><span class="s1">q</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">visitRepetitionMandatory</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">case </span><span class="s1">X</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">visitRepetitionMandatoryWithSeparator</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">case </span><span class="s1">Z</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">visitRepetitionWithSeparator</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">case </span><span class="s1">Q</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">visitRepetition</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">case </span><span class="s1">J</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">visitAlternation</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">case </span><span class="s1">ee</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">visitTerminal</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">case </span><span class="s1">H</span><span class="s0">:</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">visitRule</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">default</span><span class="s0">:</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;non exhaustive match&quot;</span><span class="s0">)}}</span><span class="s1">visitNonTerminal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitAlternative</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitOption</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitRepetition</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitRepetitionMandatory</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitRepetitionMandatoryWithSeparator</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitRepetitionWithSeparator</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitAlternation</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitTerminal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">visitRule</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}}</span><span class="s4">var </span><span class="s1">ie</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">95345</span><span class="s0">);</span><span class="s4">var </span><span class="s1">se</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">15912</span><span class="s0">);</span><span class="s4">function </span><span class="s1">ae</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">se</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">return</span><span class="s0">!</span><span class="s1">n</span><span class="s0">}));</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">n</span><span class="s0">}</span><span class="s4">const </span><span class="s1">oe</span><span class="s0">=</span><span class="s1">ae</span><span class="s0">;</span><span class="s4">var </span><span class="s1">ce</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">39990</span><span class="s0">);</span><span class="s4">var </span><span class="s1">ue</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">31943</span><span class="s0">);</span><span class="s4">function </span><span class="s1">le</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">ie</span><span class="s0">.</span><span class="s1">A</span><span class="s0">:</span><span class="s1">oe</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ue</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">I</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,</span><span class="s3">3</span><span class="s0">))}</span><span class="s4">const </span><span class="s1">de</span><span class="s0">=</span><span class="s1">le</span><span class="s0">;</span><span class="s4">var </span><span class="s1">fe</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">54949</span><span class="s0">);</span><span class="s4">var </span><span class="s1">he</span><span class="s0">=</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">max</span><span class="s0">;</span><span class="s4">function </span><span class="s1">pe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">A</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">&amp;&amp;!</span><span class="s1">r</span><span class="s0">?(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">f</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">):</span><span class="s3">0</span><span class="s0">;</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">he</span><span class="s0">(</span><span class="s1">s</span><span class="s0">+</span><span class="s1">n</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">m</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">n</span><span class="s0">&lt;=</span><span class="s1">s</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)&gt;-</span><span class="s3">1</span><span class="s0">:!!</span><span class="s1">s</span><span class="s0">&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">fe</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)&gt;-</span><span class="s3">1</span><span class="s0">}</span><span class="s4">const </span><span class="s1">me</span><span class="s0">=</span><span class="s1">pe</span><span class="s0">;</span><span class="s4">function </span><span class="s1">ge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">==</span><span class="s4">null</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(++</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">],</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">const </span><span class="s1">ye</span><span class="s0">=</span><span class="s1">ge</span><span class="s0">;</span><span class="s4">function </span><span class="s1">ve</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">se</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=!!</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}));</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Ae</span><span class="s0">=</span><span class="s1">ve</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Te</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">ye</span><span class="s0">:</span><span class="s1">Ae</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ue</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">I</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,</span><span class="s3">3</span><span class="s0">))}</span><span class="s4">const </span><span class="s1">Re</span><span class="s0">=</span><span class="s1">Te</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Ee</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">z</span><span class="s0">||</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Y</span><span class="s0">||</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Q</span><span class="s0">||</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">q</span><span class="s0">||</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">X</span><span class="s0">||</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Z</span><span class="s0">||</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">ee</span><span class="s0">||</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">H</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ke</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=[]){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Y</span><span class="s0">||</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Q</span><span class="s0">||</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Z</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">J</span><span class="s0">){</span><span class="s4">return </span><span class="s1">de</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">ke</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)))}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">W</span><span class="s0">&amp;&amp;</span><span class="s1">me</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">V</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">W</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">Re</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">ke</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)))}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">xe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">J</span><span class="s0">}</span><span class="s4">function </span><span class="s1">$e</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">W</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;SUBRULE&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Y</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;OPTION&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">J</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;OR&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">q</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;AT_LEAST_ONE&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">X</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;AT_LEAST_ONE_SEP&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Z</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;MANY_SEP&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Q</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;MANY&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">ee</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;CONSUME&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;non exhaustive match&quot;</span><span class="s0">)}}</span><span class="s4">class </span><span class="s1">we</span><span class="s0">{</span><span class="s1">walk</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=[]){(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,</span><span class="s1">r</span><span class="s0">+</span><span class="s3">1</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">W</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walkProdRef</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">ee</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walkTerminal</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">z</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walkFlat</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">Y</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walkOption</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">q</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walkAtLeastOne</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">X</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walkAtLeastOneSep</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">Z</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walkManySep</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">Q</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walkMany</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">J</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walkOr</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;non exhaustive match&quot;</span><span class="s0">)}}))}</span><span class="s1">walkTerminal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){}</span><span class="s1">walkProdRef</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){}</span><span class="s1">walkFlat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walk</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s1">walkOption</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walk</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s1">walkAtLeastOne</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=[</span><span class="s4">new </span><span class="s1">Y</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">})].</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walk</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s1">walkAtLeastOneSep</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Ie</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walk</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s1">walkMany</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=[</span><span class="s4">new </span><span class="s1">Y</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">})].</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walk</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s1">walkManySep</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Ie</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walk</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s1">walkOr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">z</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:[</span><span class="s1">e</span><span class="s0">]});</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walk</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}))}}</span><span class="s4">function </span><span class="s1">Ie</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=[</span><span class="s4">new </span><span class="s1">Y</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:[</span><span class="s4">new </span><span class="s1">ee</span><span class="s0">({</span><span class="s1">terminalType</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">separator</span><span class="s0">})].</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">)})];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">var </span><span class="s1">Se</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">19363</span><span class="s0">);</span><span class="s4">function </span><span class="s1">Ce</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">?(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Se</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">):[]}</span><span class="s4">const </span><span class="s1">Ne</span><span class="s0">=</span><span class="s1">Ce</span><span class="s0">;</span><span class="s4">var </span><span class="s1">Le</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">74033</span><span class="s0">);</span><span class="s4">function </span><span class="s1">be</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">W</span><span class="s0">){</span><span class="s4">return </span><span class="s1">be</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">referencedRule</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">ee</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Pe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Ee</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">_e</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">xe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Oe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;non exhaustive match&quot;</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">_e</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s1">r</span><span class="s0">;</span><span class="s4">let </span><span class="s1">s</span><span class="s0">;</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s1">a</span><span class="s0">=</span><span class="s1">ke</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">be</span><span class="s0">(</span><span class="s1">s</span><span class="s0">));</span><span class="s1">r</span><span class="s0">=</span><span class="s1">r</span><span class="s0">+</span><span class="s3">1</span><span class="s0">;</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s1">r</span><span class="s0">}</span><span class="s4">return </span><span class="s1">Ne</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Oe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">be</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)));</span><span class="s4">return </span><span class="s1">Ne</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Le</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">Pe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">terminalType</span><span class="s0">]}</span><span class="s4">const </span><span class="s1">Me</span><span class="s0">=</span><span class="s2">&quot;_~IN~_&quot;</span><span class="s0">;</span><span class="s4">class </span><span class="s1">De </span><span class="s4">extends </span><span class="s1">we</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">topProd</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">follows</span><span class="s0">={}}</span><span class="s1">startWalking</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walk</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">topProd</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">follows</span><span class="s0">}</span><span class="s1">walkTerminal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){}</span><span class="s1">walkProdRef</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Fe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">referencedRule</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">)+</span><span class="s4">this</span><span class="s0">.</span><span class="s1">topProd</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">new </span><span class="s1">z</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:</span><span class="s1">i</span><span class="s0">});</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">be</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">follows</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">a</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Ue</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={};(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">De</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">startWalking</span><span class="s0">();</span><span class="s1">$</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}));</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Fe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s1">t</span><span class="s0">+</span><span class="s1">Me</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">terminalType</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">+</span><span class="s1">IN</span><span class="s0">}</span><span class="s4">var </span><span class="s1">Be</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">89523</span><span class="s0">);</span><span class="s4">var </span><span class="s1">Ke</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">83173</span><span class="s0">);</span><span class="s4">var </span><span class="s1">je</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">38693</span><span class="s0">);</span><span class="s4">var </span><span class="s1">Ve</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">89191</span><span class="s0">);</span><span class="s4">var </span><span class="s1">We</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">64725</span><span class="s0">);</span><span class="s4">var </span><span class="s1">He</span><span class="s0">=</span><span class="s2">&quot;Expected a function&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">ze</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">!=</span><span class="s2">&quot;function&quot;</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">TypeError</span><span class="s0">(</span><span class="s1">He</span><span class="s0">)}</span><span class="s4">return function</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s1">arguments</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">case </span><span class="s3">0</span><span class="s0">:</span><span class="s4">return</span><span class="s0">!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">);</span><span class="s4">case </span><span class="s3">1</span><span class="s0">:</span><span class="s4">return</span><span class="s0">!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]);</span><span class="s4">case </span><span class="s3">2</span><span class="s0">:</span><span class="s4">return</span><span class="s0">!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">],</span><span class="s1">t</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]);</span><span class="s4">case </span><span class="s3">3</span><span class="s0">:</span><span class="s4">return</span><span class="s0">!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">],</span><span class="s1">t</span><span class="s0">[</span><span class="s3">1</span><span class="s0">],</span><span class="s1">t</span><span class="s0">[</span><span class="s3">2</span><span class="s0">])}</span><span class="s4">return</span><span class="s0">!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">apply</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">Ye</span><span class="s0">=</span><span class="s1">ze</span><span class="s0">;</span><span class="s4">function </span><span class="s1">qe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">Ve</span><span class="s0">.</span><span class="s1">A</span><span class="s0">:</span><span class="s1">We</span><span class="s0">.</span><span class="s1">A</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Ye</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">I</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,</span><span class="s3">3</span><span class="s0">)))}</span><span class="s4">const </span><span class="s1">Xe</span><span class="s0">=</span><span class="s1">qe</span><span class="s0">;</span><span class="s4">var </span><span class="s1">Qe</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">58807</span><span class="s0">);</span><span class="s4">var </span><span class="s1">Ze</span><span class="s0">=</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">max</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Je</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">==</span><span class="s4">null</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return</span><span class="s0">-</span><span class="s3">1</span><span class="s0">}</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">==</span><span class="s4">null</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">f</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&lt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Ze</span><span class="s0">(</span><span class="s1">r</span><span class="s0">+</span><span class="s1">i</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">fe</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">et</span><span class="s0">=</span><span class="s1">Je</span><span class="s0">;</span><span class="s4">var </span><span class="s1">tt</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">65339</span><span class="s0">);</span><span class="s4">var </span><span class="s1">nt</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">97133</span><span class="s0">);</span><span class="s4">var </span><span class="s1">rt</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">63344</span><span class="s0">);</span><span class="s4">var </span><span class="s1">it</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">43212</span><span class="s0">);</span><span class="s4">var </span><span class="s1">st</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">7348</span><span class="s0">);</span><span class="s4">var </span><span class="s1">at</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">4832</span><span class="s0">);</span><span class="s4">var </span><span class="s1">ot</span><span class="s0">=</span><span class="s3">200</span><span class="s0">;</span><span class="s4">function </span><span class="s1">ct</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=</span><span class="s1">it</span><span class="s0">.</span><span class="s1">A</span><span class="s0">,</span><span class="s1">a</span><span class="s0">=</span><span class="s4">true</span><span class="s0">,</span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">,</span><span class="s1">c</span><span class="s0">=[],</span><span class="s1">u</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">o</span><span class="s0">){</span><span class="s4">return </span><span class="s1">c</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">w</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">D</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">))}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s1">st</span><span class="s0">.</span><span class="s1">A</span><span class="s0">;</span><span class="s1">a</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;=</span><span class="s1">ot</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s1">at</span><span class="s0">.</span><span class="s1">A</span><span class="s0">;</span><span class="s1">a</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">rt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">:</span><span class="s4">while</span><span class="s0">(++</span><span class="s1">i</span><span class="s0">&lt;</span><span class="s1">o</span><span class="s0">){</span><span class="s4">var </span><span class="s1">l</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">],</span><span class="s1">d</span><span class="s0">=</span><span class="s1">n</span><span class="s0">==</span><span class="s4">null</span><span class="s0">?</span><span class="s1">l</span><span class="s0">:</span><span class="s1">n</span><span class="s0">(</span><span class="s1">l</span><span class="s0">);</span><span class="s1">l</span><span class="s0">=</span><span class="s1">r</span><span class="s0">||</span><span class="s1">l</span><span class="s0">!==</span><span class="s3">0</span><span class="s0">?</span><span class="s1">l</span><span class="s0">:</span><span class="s3">0</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">&amp;&amp;</span><span class="s1">d</span><span class="s0">===</span><span class="s1">d</span><span class="s0">){</span><span class="s4">var </span><span class="s1">f</span><span class="s0">=</span><span class="s1">u</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">f</span><span class="s0">--){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">f</span><span class="s0">]===</span><span class="s1">d</span><span class="s0">){</span><span class="s4">continue </span><span class="s1">e</span><span class="s0">}}</span><span class="s1">c</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">l</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">d</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">c</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">l</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">c</span><span class="s0">}</span><span class="s4">const </span><span class="s1">ut</span><span class="s0">=</span><span class="s1">ct</span><span class="s0">;</span><span class="s4">var </span><span class="s1">lt</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">62040</span><span class="s0">);</span><span class="s4">var </span><span class="s1">dt</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">55881</span><span class="s0">);</span><span class="s4">var </span><span class="s1">ft</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">10654</span><span class="s0">);</span><span class="s4">var </span><span class="s1">ht</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">dt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)((</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ft</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">ut</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">lt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,</span><span class="s3">1</span><span class="s0">,</span><span class="s1">ft</span><span class="s0">.</span><span class="s1">A</span><span class="s0">,</span><span class="s4">true</span><span class="s0">)):[]}));</span><span class="s4">const </span><span class="s1">pt</span><span class="s0">=</span><span class="s1">ht</span><span class="s0">;</span><span class="s4">function </span><span class="s1">mt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">==</span><span class="s4">null</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">while</span><span class="s0">(++</span><span class="s1">t</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">++]=</span><span class="s1">s</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">const </span><span class="s1">gt</span><span class="s0">=</span><span class="s1">mt</span><span class="s0">;</span><span class="s4">function </span><span class="s1">yt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">?</span><span class="s1">e</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]:</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const </span><span class="s1">vt</span><span class="s0">=</span><span class="s1">yt</span><span class="s0">;</span><span class="s4">var </span><span class="s1">At</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">85075</span><span class="s0">);</span><span class="s4">function </span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">console</span><span class="s0">&amp;&amp;</span><span class="s1">console</span><span class="s0">.</span><span class="s1">error</span><span class="s0">){</span><span class="s1">console</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`Error: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Rt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">console</span><span class="s0">&amp;&amp;</span><span class="s1">console</span><span class="s0">.</span><span class="s1">warn</span><span class="s0">){</span><span class="s1">console</span><span class="s0">.</span><span class="s1">warn</span><span class="s0">(</span><span class="s2">`Warning: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}}</span><span class="s4">let </span><span class="s1">Et</span><span class="s0">={};</span><span class="s4">const </span><span class="s1">kt</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Ke</span><span class="s0">.</span><span class="s1">H</span><span class="s0">;</span><span class="s4">function </span><span class="s1">xt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Et</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Et</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">kt</span><span class="s0">.</span><span class="s1">pattern</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">Et</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">$t</span><span class="s0">(){</span><span class="s1">Et</span><span class="s0">={}}</span><span class="s4">const </span><span class="s1">wt</span><span class="s0">=</span><span class="s2">&quot;Complement Sets are not supported for first char optimization&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">It</span><span class="s0">=</span><span class="s2">'Unable to use &quot;first char&quot; lexer optimizations:</span><span class="s4">\n</span><span class="s2">'</span><span class="s0">;</span><span class="s4">function </span><span class="s1">St</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s4">false</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">xt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Ct</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,{},</span><span class="s1">t</span><span class="s0">.</span><span class="s1">flags</span><span class="s0">.</span><span class="s1">ignoreCase</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">message</span><span class="s0">===</span><span class="s1">wt</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">Rt</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">It</span><span class="s0">}</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`</span><span class="s4">\t</span><span class="s2">Unable to optimize: &lt; </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()} </span><span class="s2">&gt;</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">Complement Sets cannot be automatically optimized.</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">This will disable the lexer's first char optimizations.</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.&quot;</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;</span><span class="s4">\n\t</span><span class="s2">This will disable the lexer's first char optimizations.</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.&quot;</span><span class="s0">}</span><span class="s1">Tt</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">It</span><span class="s0">}</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`</span><span class="s4">\t</span><span class="s2">Failed parsing: &lt; </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()} </span><span class="s2">&gt;</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`</span><span class="s4">\t</span><span class="s2">Using the @chevrotain/regexp-to-ast library</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">Please open an issue at: https://github.com/chevrotain/chevrotain/issues&quot;</span><span class="s0">+</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">return</span><span class="s0">[]}</span><span class="s4">function </span><span class="s1">Ct</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;Disjunction&quot;</span><span class="s0">:</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s1">Ct</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">[</span><span class="s1">r</span><span class="s0">],</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;Alternative&quot;</span><span class="s0">:</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">type</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;EndAnchor&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;GroupBackReference&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;Lookahead&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;NegativeLookahead&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;StartAnchor&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;WordBoundary&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;NonWordBoundary&quot;</span><span class="s0">:</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">s</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">type</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;Character&quot;</span><span class="s0">:</span><span class="s1">Nt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;Set&quot;</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">complement</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">wt</span><span class="s0">)}(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">){</span><span class="s1">Nt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">from</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">to</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s1">Nt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">from</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">to</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">vn</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s1">Nt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">to</span><span class="s0">&gt;=</span><span class="s1">vn</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">from</span><span class="s0">&gt;=</span><span class="s1">vn</span><span class="s0">?</span><span class="s1">r</span><span class="s0">.</span><span class="s1">from</span><span class="s0">:</span><span class="s1">vn</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">to</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Tn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Tn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&lt;=</span><span class="s1">s</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">r</span><span class="s0">}}}}}));</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;Group&quot;</span><span class="s0">:</span><span class="s1">Ct</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Non Exhaustive Match&quot;</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">quantifier</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">.</span><span class="s1">quantifier</span><span class="s0">.</span><span class="s1">atLeast</span><span class="s0">===</span><span class="s3">0</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;Group&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">_t</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)===</span><span class="s4">false</span><span class="s0">||</span><span class="s1">a</span><span class="s0">.</span><span class="s1">type</span><span class="s0">!==</span><span class="s2">&quot;Group&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">break</span><span class="s0">}}</span><span class="s4">break</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;non exhaustive match!&quot;</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Nt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Tn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">t</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s1">Lt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Lt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">String</span><span class="s0">.</span><span class="s1">fromCharCode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">toUpperCase</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Tn</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">));</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">toLowerCase</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Tn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">));</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">n</span><span class="s0">}}}</span><span class="s4">function </span><span class="s1">bt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">At</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">me</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">At</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">from</span><span class="s0">&lt;=</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">to</span><span class="s0">))!==</span><span class="s1">undefined</span><span class="s0">}}))}</span><span class="s4">function </span><span class="s1">_t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">quantifier</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">atLeast</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)?</span><span class="s1">Re</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">_t</span><span class="s0">):</span><span class="s1">_t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)}</span><span class="s4">class </span><span class="s1">Ot </span><span class="s4">extends </span><span class="s1">Ke</span><span class="s0">.</span><span class="s1">z</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">targetCharCodes</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">found</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s1">visitChildren</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">found</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;Lookahead&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitLookahead</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;NegativeLookahead&quot;</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitNegativeLookahead</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return</span><span class="s0">}</span><span class="s4">super</span><span class="s0">.</span><span class="s1">visitChildren</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">visitCharacter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">me</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">targetCharCodes</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">found</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}</span><span class="s1">visitSet</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">complement</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">targetCharCodes</span><span class="s0">)===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">found</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">targetCharCodes</span><span class="s0">)!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">found</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}}}</span><span class="s4">function </span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">instanceof </span><span class="s1">RegExp</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">xt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Ot</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">visit</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">found</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">At</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;</span><span class="s1">me</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">))))!==</span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">Mt</span><span class="s0">=</span><span class="s2">&quot;PATTERN&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Dt</span><span class="s0">=</span><span class="s2">&quot;defaultMode&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Ut</span><span class="s0">=</span><span class="s2">&quot;modes&quot;</span><span class="s0">;</span><span class="s4">let </span><span class="s1">Ft</span><span class="s0">=</span><span class="s4">typeof new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s2">&quot;(?:)&quot;</span><span class="s0">).</span><span class="s1">sticky</span><span class="s0">===</span><span class="s2">&quot;boolean&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Gt</span><span class="s0">(){</span><span class="s1">Ft</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Bt</span><span class="s0">(){</span><span class="s1">Ft</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Kt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">je</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">useSticky</span><span class="s0">:</span><span class="s1">Ft</span><span class="s0">,</span><span class="s1">debug</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">safeMode</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">positionTracking</span><span class="s0">:</span><span class="s2">&quot;full&quot;</span><span class="s0">,</span><span class="s1">lineTerminatorCharacters</span><span class="s0">:[</span><span class="s2">&quot;</span><span class="s4">\r</span><span class="s2">&quot;</span><span class="s0">,</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">],</span><span class="s1">tracer</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;</span><span class="s1">t</span><span class="s0">()});</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tracer</span><span class="s0">;</span><span class="s1">n</span><span class="s0">(</span><span class="s2">&quot;initCharCodeToOptimizedIndexMap&quot;</span><span class="s0">,(()=&gt;{</span><span class="s1">Rn</span><span class="s0">()}));</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s1">n</span><span class="s0">(</span><span class="s2">&quot;Reject Lexer.NA&quot;</span><span class="s0">,(()=&gt;{</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Xe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">Mt</span><span class="s0">]===</span><span class="s1">Vn</span><span class="s0">.</span><span class="s1">NA</span><span class="s0">))}));</span><span class="s4">let </span><span class="s1">c</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">let </span><span class="s1">u</span><span class="s0">;</span><span class="s1">n</span><span class="s0">(</span><span class="s2">&quot;Transform Patterns&quot;</span><span class="s0">,(()=&gt;{</span><span class="s1">c</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s1">u</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">Mt</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">B</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">source</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;^&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;$&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;.&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">ignoreCase</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">2</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]===</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">me</span><span class="s0">([</span><span class="s2">&quot;d&quot;</span><span class="s0">,</span><span class="s2">&quot;D&quot;</span><span class="s0">,</span><span class="s2">&quot;s&quot;</span><span class="s0">,</span><span class="s2">&quot;S&quot;</span><span class="s0">,</span><span class="s2">&quot;t&quot;</span><span class="s0">,</span><span class="s2">&quot;r&quot;</span><span class="s0">,</span><span class="s2">&quot;n&quot;</span><span class="s0">,</span><span class="s2">&quot;t&quot;</span><span class="s0">,</span><span class="s2">&quot;0&quot;</span><span class="s0">,</span><span class="s2">&quot;c&quot;</span><span class="s0">,</span><span class="s2">&quot;b&quot;</span><span class="s0">,</span><span class="s2">&quot;B&quot;</span><span class="s0">,</span><span class="s2">&quot;f&quot;</span><span class="s0">,</span><span class="s2">&quot;v&quot;</span><span class="s0">,</span><span class="s2">&quot;w&quot;</span><span class="s0">,</span><span class="s2">&quot;W&quot;</span><span class="s0">],</span><span class="s1">e</span><span class="s0">[</span><span class="s3">1</span><span class="s0">])){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">useSticky</span><span class="s0">?</span><span class="s1">on</span><span class="s0">(</span><span class="s1">n</span><span class="s0">):</span><span class="s1">an</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Qe</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">c</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">exec</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">){</span><span class="s1">c</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/[\\^$.*+?()[\]{}|]/g</span><span class="s0">,</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">$&amp;&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">useSticky</span><span class="s0">?</span><span class="s1">on</span><span class="s0">(</span><span class="s1">r</span><span class="s0">):</span><span class="s1">an</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;non exhaustive match&quot;</span><span class="s0">)}}))}));</span><span class="s4">let </span><span class="s1">l</span><span class="s0">;</span><span class="s4">let </span><span class="s1">d</span><span class="s0">;</span><span class="s4">let </span><span class="s1">f</span><span class="s0">;</span><span class="s4">let </span><span class="s1">h</span><span class="s0">;</span><span class="s4">let </span><span class="s1">p</span><span class="s0">;</span><span class="s1">n</span><span class="s0">(</span><span class="s2">&quot;misc mapping&quot;</span><span class="s0">,(()=&gt;{</span><span class="s1">l</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">));</span><span class="s1">d</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">GROUP</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">Vn</span><span class="s0">.</span><span class="s1">SKIPPED</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">m</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Be</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;non exhaustive match&quot;</span><span class="s0">)}}));</span><span class="s1">f</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LONGER_ALT</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)?(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">et</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">e</span><span class="s0">))):[</span><span class="s1">et</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)];</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}));</span><span class="s1">h</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PUSH_MODE</span><span class="s0">));</span><span class="s1">p</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;POP_MODE&quot;</span><span class="s0">)))}));</span><span class="s4">let </span><span class="s1">g</span><span class="s0">;</span><span class="s1">n</span><span class="s0">(</span><span class="s2">&quot;Line Terminator Handling&quot;</span><span class="s0">,(()=&gt;{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">gn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">lineTerminatorCharacters</span><span class="s0">);</span><span class="s1">g</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">false</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">positionTracking</span><span class="s0">!==</span><span class="s2">&quot;onlyOffset&quot;</span><span class="s0">){</span><span class="s1">g</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;LINE_BREAKS&quot;</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">LINE_BREAKS</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">pn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)===</span><span class="s4">false</span><span class="s0">&amp;&amp;</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">)}}))}}));</span><span class="s4">let </span><span class="s1">y</span><span class="s0">;</span><span class="s4">let </span><span class="s1">v</span><span class="s0">;</span><span class="s4">let </span><span class="s1">A</span><span class="s0">;</span><span class="s4">let </span><span class="s1">T</span><span class="s0">;</span><span class="s1">n</span><span class="s0">(</span><span class="s2">&quot;Misc Mapping #2&quot;</span><span class="s0">,(()=&gt;{</span><span class="s1">y</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">dn</span><span class="s0">);</span><span class="s1">v</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">fn</span><span class="s0">);</span><span class="s1">A</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">tt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">GROUP</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">m</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)&amp;&amp;!(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">Vn</span><span class="s0">.</span><span class="s1">SKIPPED</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=[]}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),{});</span><span class="s1">T</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">u</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;({</span><span class="s1">pattern</span><span class="s0">:</span><span class="s1">u</span><span class="s0">[</span><span class="s1">t</span><span class="s0">],</span><span class="s1">longerAlt</span><span class="s0">:</span><span class="s1">f</span><span class="s0">[</span><span class="s1">t</span><span class="s0">],</span><span class="s1">canLineTerminator</span><span class="s0">:</span><span class="s1">g</span><span class="s0">[</span><span class="s1">t</span><span class="s0">],</span><span class="s1">isCustom</span><span class="s0">:</span><span class="s1">y</span><span class="s0">[</span><span class="s1">t</span><span class="s0">],</span><span class="s1">short</span><span class="s0">:</span><span class="s1">v</span><span class="s0">[</span><span class="s1">t</span><span class="s0">],</span><span class="s1">group</span><span class="s0">:</span><span class="s1">d</span><span class="s0">[</span><span class="s1">t</span><span class="s0">],</span><span class="s1">push</span><span class="s0">:</span><span class="s1">h</span><span class="s0">[</span><span class="s1">t</span><span class="s0">],</span><span class="s1">pop</span><span class="s0">:</span><span class="s1">p</span><span class="s0">[</span><span class="s1">t</span><span class="s0">],</span><span class="s1">tokenTypeIdx</span><span class="s0">:</span><span class="s1">l</span><span class="s0">[</span><span class="s1">t</span><span class="s0">],</span><span class="s1">tokenType</span><span class="s0">:</span><span class="s1">i</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]})))}));</span><span class="s4">let </span><span class="s1">R</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">let </span><span class="s1">E</span><span class="s0">=[];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">safeMode</span><span class="s0">){</span><span class="s1">n</span><span class="s0">(</span><span class="s2">&quot;First Char Optimization&quot;</span><span class="s0">,(()=&gt;{</span><span class="s1">E</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">tt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Tn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">yn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">T</span><span class="s0">[</span><span class="s1">i</span><span class="s0">])}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">START_CHARS_HINT</span><span class="s0">)){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">START_CHARS_HINT</span><span class="s0">,(</span><span class="s1">n</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">):</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Tn</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">s</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">s</span><span class="s0">;</span><span class="s1">yn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">T</span><span class="s0">[</span><span class="s1">i</span><span class="s0">])}}))}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">B</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">.</span><span class="s1">unicode</span><span class="s0">){</span><span class="s1">R</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ensureOptimizations</span><span class="s0">){</span><span class="s1">Tt</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">It</span><span class="s0">}</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`</span><span class="s4">\t</span><span class="s2">Unable to analyze &lt; </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()} </span><span class="s2">&gt; pattern.</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">The regexp unicode flag is not currently supported by the regexp-to-ast library.</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">This will disable the lexer's first char optimizations.</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE&quot;</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">St</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ensureOptimizations</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">a</span><span class="s0">)){</span><span class="s1">R</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">a</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s1">yn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">T</span><span class="s0">[</span><span class="s1">i</span><span class="s0">])}))}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ensureOptimizations</span><span class="s0">){</span><span class="s1">Tt</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">It</span><span class="s0">}</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`</span><span class="s4">\t</span><span class="s2">TokenType: &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">&gt; is using a custom token pattern without providing &lt;start_chars_hint&gt; parameter.</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">This will disable the lexer's first char optimizations.</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE&quot;</span><span class="s0">)}</span><span class="s1">R</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),[])}))}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">emptyGroups</span><span class="s0">:</span><span class="s1">A</span><span class="s0">,</span><span class="s1">patternIdxToConfig</span><span class="s0">:</span><span class="s1">T</span><span class="s0">,</span><span class="s1">charCodeToPatternIdxToConfig</span><span class="s0">:</span><span class="s1">E</span><span class="s0">,</span><span class="s1">hasCustom</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">canBeOptimized</span><span class="s0">:</span><span class="s1">R</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">jt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Wt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">errors</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Ht</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">valid</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">valid</span><span class="s0">;</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">errors</span><span class="s0">);</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">Vt</span><span class="s0">(</span><span class="s1">s</span><span class="s0">));</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">en</span><span class="s0">(</span><span class="s1">s</span><span class="s0">));</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">tn</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">t</span><span class="s0">));</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">nn</span><span class="s0">(</span><span class="s1">s</span><span class="s0">));</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Vt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">nt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">B</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">Mt</span><span class="s0">])));</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">Yt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">));</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">Qt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">));</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">Zt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">));</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">Jt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">));</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">qt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">));</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Wt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">nt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Mt</span><span class="s0">)));</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;({</span><span class="s1">message</span><span class="s0">:</span><span class="s2">&quot;Token Type: -&gt;&quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s2">&quot;&lt;- missing static 'PATTERN' property&quot;</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">MISSING_PATTERN</span><span class="s0">,</span><span class="s1">tokenTypes</span><span class="s0">:[</span><span class="s1">e</span><span class="s0">]})));</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">pt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">errors</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">valid</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Ht</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">nt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">Mt</span><span class="s0">];</span><span class="s4">return</span><span class="s0">!</span><span class="s1">B</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Qe</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)&amp;&amp;!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;exec&quot;</span><span class="s0">)&amp;&amp;!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">m</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)}));</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;({</span><span class="s1">message</span><span class="s0">:</span><span class="s2">&quot;Token Type: -&gt;&quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s2">&quot;&lt;- static 'PATTERN' can only be a RegExp, a&quot;</span><span class="s0">+</span><span class="s2">&quot; Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.&quot;</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">INVALID_PATTERN</span><span class="s0">,</span><span class="s1">tokenTypes</span><span class="s0">:[</span><span class="s1">e</span><span class="s0">]})));</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">pt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">errors</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">valid</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">zt</span><span class="s0">=</span><span class="s5">/[^\\][$]/</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Yt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">class </span><span class="s1">t </span><span class="s4">extends </span><span class="s1">Ke</span><span class="s0">.</span><span class="s1">z</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">...arguments</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">found</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s1">visitEndAnchor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">found</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">nt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">;</span><span class="s4">try</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">xt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">new </span><span class="s1">t</span><span class="s0">;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">visit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">found</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return </span><span class="s1">zt</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">source</span><span class="s0">)}}));</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;({</span><span class="s1">message</span><span class="s0">:</span><span class="s2">&quot;Unexpected RegExp Anchor Error:</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">Token Type: -&gt;&quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s2">&quot;&lt;- static 'PATTERN' cannot contain end of input anchor '$'</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">for details.&quot;</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">EOI_ANCHOR_FOUND</span><span class="s0">,</span><span class="s1">tokenTypes</span><span class="s0">:[</span><span class="s1">e</span><span class="s0">]})));</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">qt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">nt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s2">&quot;&quot;</span><span class="s0">)}));</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;({</span><span class="s1">message</span><span class="s0">:</span><span class="s2">&quot;Token Type: -&gt;&quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s2">&quot;&lt;- static 'PATTERN' must not match an empty string&quot;</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">EMPTY_MATCH_PATTERN</span><span class="s0">,</span><span class="s1">tokenTypes</span><span class="s0">:[</span><span class="s1">e</span><span class="s0">]})));</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Xt</span><span class="s0">=</span><span class="s5">/[^\\[][\^]|^\^/</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Qt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">class </span><span class="s1">t </span><span class="s4">extends </span><span class="s1">Ke</span><span class="s0">.</span><span class="s1">z</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">...arguments</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">found</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s1">visitStartAnchor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">found</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">nt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">;</span><span class="s4">try</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">xt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">new </span><span class="s1">t</span><span class="s0">;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">visit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">found</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Xt</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">source</span><span class="s0">)}}));</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;({</span><span class="s1">message</span><span class="s0">:</span><span class="s2">&quot;Unexpected RegExp Anchor Error:</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">Token Type: -&gt;&quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s2">&quot;&lt;- static 'PATTERN' cannot contain start of input anchor '^'</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">for details.&quot;</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">SOI_ANCHOR_FOUND</span><span class="s0">,</span><span class="s1">tokenTypes</span><span class="s0">:[</span><span class="s1">e</span><span class="s0">]})));</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Zt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">nt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">Mt</span><span class="s0">];</span><span class="s4">return </span><span class="s1">t </span><span class="s4">instanceof </span><span class="s1">RegExp</span><span class="s0">&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">multiline</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">global</span><span class="s0">)}));</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;({</span><span class="s1">message</span><span class="s0">:</span><span class="s2">&quot;Token Type: -&gt;&quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s2">&quot;&lt;- static 'PATTERN' may NOT contain global('g') or multiline('m')&quot;</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">UNSUPPORTED_FLAGS_FOUND</span><span class="s0">,</span><span class="s1">tokenTypes</span><span class="s0">:[</span><span class="s1">e</span><span class="s0">]})));</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Jt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">n</span><span class="s0">=&gt;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">tt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">.</span><span class="s1">source</span><span class="s0">===</span><span class="s1">r</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">.</span><span class="s1">source</span><span class="s0">&amp;&amp;!</span><span class="s1">me</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">!==</span><span class="s1">Vn</span><span class="s0">.</span><span class="s1">NA</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),[])));</span><span class="s1">n</span><span class="s0">=</span><span class="s1">gt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">nt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">));</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">));</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">vt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">PATTERN</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">message</span><span class="s0">:</span><span class="s2">`The same RegExp pattern -&gt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&lt;-`</span><span class="s0">+</span><span class="s2">`has been used in all of the following Token Types: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">)} </span><span class="s2">&lt;-`</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">DUPLICATE_PATTERNS_FOUND</span><span class="s0">,</span><span class="s1">tokenTypes</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}));</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">en</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">nt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;GROUP&quot;</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">GROUP</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">!==</span><span class="s1">Vn</span><span class="s0">.</span><span class="s1">SKIPPED</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">Vn</span><span class="s0">.</span><span class="s1">NA</span><span class="s0">&amp;&amp;!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">m</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)}));</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;({</span><span class="s1">message</span><span class="s0">:</span><span class="s2">&quot;Token Type: -&gt;&quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s2">&quot;&lt;- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String&quot;</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">INVALID_GROUP_TYPE_FOUND</span><span class="s0">,</span><span class="s1">tokenTypes</span><span class="s0">:[</span><span class="s1">e</span><span class="s0">]})));</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">tn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">nt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PUSH_MODE</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;!</span><span class="s1">me</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PUSH_MODE</span><span class="s0">)));</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s2">`Token Type: -&gt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">&lt;- static 'PUSH_MODE' value cannot refer to a Lexer Mode -&gt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PUSH_MODE</span><span class="s0">}</span><span class="s2">&lt;-`</span><span class="s0">+</span><span class="s2">`which does not exist`</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">message</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">PUSH_MODE_DOES_NOT_EXIST</span><span class="s0">,</span><span class="s1">tokenTypes</span><span class="s0">:[</span><span class="s1">e</span><span class="s0">]}}));</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">nn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">tt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s1">Vn</span><span class="s0">.</span><span class="s1">NA</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">m</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">str</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">tokenType</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">B</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)&amp;&amp;</span><span class="s1">sn</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">str</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">source</span><span class="s0">,</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">tokenType</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),[]);(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)=&gt;{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">,(({</span><span class="s1">str</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">tokenType</span><span class="s0">:</span><span class="s1">s</span><span class="s0">})=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&lt;</span><span class="s1">r</span><span class="s0">&amp;&amp;</span><span class="s1">rn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s2">`Token: -&gt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">&lt;- can never be matched.</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`Because it appears AFTER the Token Type -&gt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">&lt;-`</span><span class="s0">+</span><span class="s2">`in the lexer's definition.</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">message</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">UNREACHABLE_PATTERN</span><span class="s0">,</span><span class="s1">tokenTypes</span><span class="s0">:[</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">]})}}))}));</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">rn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">B</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">index</span><span class="s0">===</span><span class="s3">0</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Qe</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,[],{})}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;exec&quot;</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,[],{})}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">===</span><span class="s1">e</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;non exhaustive match&quot;</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">sn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[</span><span class="s2">&quot;.&quot;</span><span class="s0">,</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">,</span><span class="s2">&quot;[&quot;</span><span class="s0">,</span><span class="s2">&quot;]&quot;</span><span class="s0">,</span><span class="s2">&quot;|&quot;</span><span class="s0">,</span><span class="s2">&quot;^&quot;</span><span class="s0">,</span><span class="s2">&quot;$&quot;</span><span class="s0">,</span><span class="s2">&quot;(&quot;</span><span class="s0">,</span><span class="s2">&quot;)&quot;</span><span class="s0">,</span><span class="s2">&quot;?&quot;</span><span class="s0">,</span><span class="s2">&quot;*&quot;</span><span class="s0">,</span><span class="s2">&quot;+&quot;</span><span class="s0">,</span><span class="s2">&quot;{&quot;</span><span class="s0">];</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">At</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">source</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)!==-</span><span class="s3">1</span><span class="s0">))===</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">an</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ignoreCase</span><span class="s0">?</span><span class="s2">&quot;i&quot;</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">return new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s2">`^(?:</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">source</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">on</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ignoreCase</span><span class="s0">?</span><span class="s2">&quot;iy&quot;</span><span class="s0">:</span><span class="s2">&quot;y&quot;</span><span class="s0">;</span><span class="s4">return new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">source</span><span class="s0">}</span><span class="s2">`</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">cn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Dt</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">message</span><span class="s0">:</span><span class="s2">&quot;A MultiMode Lexer cannot be initialized without a &lt;&quot;</span><span class="s0">+</span><span class="s1">Dt</span><span class="s0">+</span><span class="s2">&quot;&gt; property in its definition</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE</span><span class="s0">})}</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Ut</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">message</span><span class="s0">:</span><span class="s2">&quot;A MultiMode Lexer cannot be initialized without a &lt;&quot;</span><span class="s0">+</span><span class="s1">Ut</span><span class="s0">+</span><span class="s2">&quot;&gt; property in its definition</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY</span><span class="s0">})}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Ut</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Dt</span><span class="s0">)&amp;&amp;!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">modes</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">defaultMode</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">message</span><span class="s0">:</span><span class="s2">`A MultiMode Lexer cannot be initialized with a </span><span class="s1">$</span><span class="s0">{</span><span class="s1">Dt</span><span class="s0">}</span><span class="s2">: &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">defaultMode</span><span class="s0">}</span><span class="s2">&gt;`</span><span class="s0">+</span><span class="s2">`which does not exist</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST</span><span class="s0">})}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Ut</span><span class="s0">)){(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">modes</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Be</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">message</span><span class="s0">:</span><span class="s2">`A Lexer cannot be initialized using an undefined Token Type. Mode:`</span><span class="s0">+</span><span class="s2">`&lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">&gt; at index: &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">&gt;</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED</span><span class="s0">})}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">,</span><span class="s2">&quot;LONGER_ALT&quot;</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">LONGER_ALT</span><span class="s0">)?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">LONGER_ALT</span><span class="s0">:[</span><span class="s1">n</span><span class="s0">.</span><span class="s1">LONGER_ALT</span><span class="s0">];(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">s</span><span class="s0">,(</span><span class="s1">r</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Be</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">)&amp;&amp;!</span><span class="s1">me</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">message</span><span class="s0">:</span><span class="s2">`A MultiMode Lexer cannot be initialized with a longer_alt &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">&gt; on token &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">&gt; outside of mode &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">&gt;</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE</span><span class="s0">})}}))}}))}))}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">un</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=[];</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">gt</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Le</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">modes</span><span class="s0">)));</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">Xe</span><span class="s0">(</span><span class="s1">c</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">Mt</span><span class="s0">]===</span><span class="s1">Vn</span><span class="s0">.</span><span class="s1">NA</span><span class="s0">));</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">gn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">u</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">pn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">l</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">false</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">mn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">={</span><span class="s1">message</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">issue</span><span class="s0">,</span><span class="s1">tokenType</span><span class="s0">:</span><span class="s1">e</span><span class="s0">};</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;LINE_BREAKS&quot;</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LINE_BREAKS</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s1">a</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">)){</span><span class="s1">a</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}}}))}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&amp;&amp;!</span><span class="s1">a</span><span class="s0">){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">message</span><span class="s0">:</span><span class="s2">&quot;Warning: No LINE_BREAKS Found.</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">This Lexer has been defined to track line and column information,</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">But none of the Token Types can be identified as matching a line terminator.</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS </span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">for details.&quot;</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">NO_LINE_BREAKS_FLAGS</span><span class="s0">})}</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ln</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">R</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">);(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">n</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=[]}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;non exhaustive match&quot;</span><span class="s0">)}}));</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">dn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">B</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Qe</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;exec&quot;</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">m</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;non exhaustive match&quot;</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">fn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">m</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">hn</span><span class="s0">={</span><span class="s1">test</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lastIndex</span><span class="s0">;</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">;</span><span class="s1">n</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s3">10</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lastIndex</span><span class="s0">=</span><span class="s1">n</span><span class="s0">+</span><span class="s3">1</span><span class="s0">;</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s3">13</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">+</span><span class="s3">1</span><span class="s0">)===</span><span class="s3">10</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lastIndex</span><span class="s0">=</span><span class="s1">n</span><span class="s0">+</span><span class="s3">2</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lastIndex</span><span class="s0">=</span><span class="s1">n</span><span class="s0">+</span><span class="s3">1</span><span class="s0">}</span><span class="s4">return true</span><span class="s0">}}</span><span class="s4">return false</span><span class="s0">},</span><span class="s1">lastIndex</span><span class="s0">:</span><span class="s3">0</span><span class="s0">};</span><span class="s4">function </span><span class="s1">pn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;LINE_BREAKS&quot;</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">B</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">)){</span><span class="s4">try</span><span class="s0">{</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">issue</span><span class="s0">:</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">IDENTIFY_TERMINATOR</span><span class="s0">,</span><span class="s1">errMsg</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">message</span><span class="s0">}}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">m</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">dn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">issue</span><span class="s0">:</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">CUSTOM_LINE_BREAK</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;non exhaustive match&quot;</span><span class="s0">)}}}</span><span class="s4">function </span><span class="s1">mn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">issue</span><span class="s0">===</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">IDENTIFY_TERMINATOR</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;Warning: unable to identify line terminator usage in pattern.</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">`</span><span class="s4">\t</span><span class="s2">The problem is in the &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">&gt; Token Type</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`</span><span class="s4">\t </span><span class="s2">Root cause: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">errMsg</span><span class="s0">}</span><span class="s2">.</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">issue</span><span class="s0">===</span><span class="s1">Kn</span><span class="s0">.</span><span class="s1">CUSTOM_LINE_BREAK</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;Warning: A Custom Token Pattern should specify the &lt;line_breaks&gt; option.</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">`</span><span class="s4">\t</span><span class="s2">The problem is in the &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">&gt; Token Type</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;non exhaustive match&quot;</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">gn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">m</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}));</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">yn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=[</span><span class="s1">n</span><span class="s0">]}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">].</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">vn</span><span class="s0">=</span><span class="s3">256</span><span class="s0">;</span><span class="s4">let </span><span class="s1">An</span><span class="s0">=[];</span><span class="s4">function </span><span class="s1">Tn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">vn</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:</span><span class="s1">An</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">Rn</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">An</span><span class="s0">)){</span><span class="s1">An</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Array</span><span class="s0">(</span><span class="s3">65536</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s3">65536</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s1">An</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">&gt;</span><span class="s3">255</span><span class="s0">?</span><span class="s3">255</span><span class="s0">+~~(</span><span class="s1">e</span><span class="s0">/</span><span class="s3">255</span><span class="s0">):</span><span class="s1">e</span><span class="s0">}}}</span><span class="s4">var </span><span class="s1">En</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">63077</span><span class="s0">);</span><span class="s4">var </span><span class="s1">kn</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">42111</span><span class="s0">);</span><span class="s4">var </span><span class="s1">xn</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">80359</span><span class="s0">);</span><span class="s4">function </span><span class="s1">$n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s4">new </span><span class="s1">Date</span><span class="s0">).</span><span class="s1">getTime</span><span class="s0">();</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">();</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s4">new </span><span class="s1">Date</span><span class="s0">).</span><span class="s1">getTime</span><span class="s0">();</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">-</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">time</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">wn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">isParent</span><span class="s0">===</span><span class="s4">true</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">categoryMatchesMap</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]===</span><span class="s4">true</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">In</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">}</span><span class="s4">let </span><span class="s1">Sn</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Cn</span><span class="s0">={};</span><span class="s4">function </span><span class="s1">Nn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Ln</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">bn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">On</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">_n</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">isParent</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">categoryMatches</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">}))}</span><span class="s4">function </span><span class="s1">Ln</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">gt</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Le</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">CATEGORIES</span><span class="s0">))));</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">pt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">bn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Mn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">Cn</span><span class="s0">[</span><span class="s1">Sn</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">=</span><span class="s1">Sn</span><span class="s0">++}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Dn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">CATEGORIES</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">CATEGORIES</span><span class="s0">=[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">CATEGORIES</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Dn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">CATEGORIES</span><span class="s0">=[]}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Un</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">categoryMatches</span><span class="s0">=[]}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Fn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">categoryMatchesMap</span><span class="s0">={}}}))}</span><span class="s4">function </span><span class="s1">_n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">categoryMatches</span><span class="s0">=[];(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">categoryMatchesMap</span><span class="s0">,((</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">categoryMatches</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Cn</span><span class="s0">[</span><span class="s1">n</span><span class="s0">].</span><span class="s1">tokenTypeIdx</span><span class="s0">)}))}))}</span><span class="s4">function </span><span class="s1">On</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s1">Pn</span><span class="s0">([],</span><span class="s1">e</span><span class="s0">)}))}</span><span class="s4">function </span><span class="s1">Pn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">categoryMatchesMap</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">]=</span><span class="s4">true</span><span class="s0">}));(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CATEGORIES</span><span class="s0">,(</span><span class="s1">n</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">me</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">Pn</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}))}</span><span class="s4">function </span><span class="s1">Mn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;tokenTypeIdx&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Dn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;CATEGORIES&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Un</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;categoryMatches&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Fn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;categoryMatchesMap&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Gn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;tokenTypeIdx&quot;</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">Bn</span><span class="s0">={</span><span class="s1">buildUnableToPopLexerModeMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Unable to pop Lexer Mode after encountering Token -&gt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">image</span><span class="s0">}</span><span class="s2">&lt;- The Mode Stack is empty`</span><span class="s0">},</span><span class="s1">buildUnexpectedCharactersMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`unexpected character: -&gt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charAt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s2">&lt;- at offset: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">,`</span><span class="s0">+</span><span class="s2">` skipped </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">} </span><span class="s2">characters.`</span><span class="s0">}};</span><span class="s4">var </span><span class="s1">Kn</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;MISSING_PATTERN&quot;</span><span class="s0">]=</span><span class="s3">0</span><span class="s0">]=</span><span class="s2">&quot;MISSING_PATTERN&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;INVALID_PATTERN&quot;</span><span class="s0">]=</span><span class="s3">1</span><span class="s0">]=</span><span class="s2">&quot;INVALID_PATTERN&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;EOI_ANCHOR_FOUND&quot;</span><span class="s0">]=</span><span class="s3">2</span><span class="s0">]=</span><span class="s2">&quot;EOI_ANCHOR_FOUND&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;UNSUPPORTED_FLAGS_FOUND&quot;</span><span class="s0">]=</span><span class="s3">3</span><span class="s0">]=</span><span class="s2">&quot;UNSUPPORTED_FLAGS_FOUND&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;DUPLICATE_PATTERNS_FOUND&quot;</span><span class="s0">]=</span><span class="s3">4</span><span class="s0">]=</span><span class="s2">&quot;DUPLICATE_PATTERNS_FOUND&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;INVALID_GROUP_TYPE_FOUND&quot;</span><span class="s0">]=</span><span class="s3">5</span><span class="s0">]=</span><span class="s2">&quot;INVALID_GROUP_TYPE_FOUND&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;PUSH_MODE_DOES_NOT_EXIST&quot;</span><span class="s0">]=</span><span class="s3">6</span><span class="s0">]=</span><span class="s2">&quot;PUSH_MODE_DOES_NOT_EXIST&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE&quot;</span><span class="s0">]=</span><span class="s3">7</span><span class="s0">]=</span><span class="s2">&quot;MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY&quot;</span><span class="s0">]=</span><span class="s3">8</span><span class="s0">]=</span><span class="s2">&quot;MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST&quot;</span><span class="s0">]=</span><span class="s3">9</span><span class="s0">]=</span><span class="s2">&quot;MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED&quot;</span><span class="s0">]=</span><span class="s3">10</span><span class="s0">]=</span><span class="s2">&quot;LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;SOI_ANCHOR_FOUND&quot;</span><span class="s0">]=</span><span class="s3">11</span><span class="s0">]=</span><span class="s2">&quot;SOI_ANCHOR_FOUND&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;EMPTY_MATCH_PATTERN&quot;</span><span class="s0">]=</span><span class="s3">12</span><span class="s0">]=</span><span class="s2">&quot;EMPTY_MATCH_PATTERN&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;NO_LINE_BREAKS_FLAGS&quot;</span><span class="s0">]=</span><span class="s3">13</span><span class="s0">]=</span><span class="s2">&quot;NO_LINE_BREAKS_FLAGS&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;UNREACHABLE_PATTERN&quot;</span><span class="s0">]=</span><span class="s3">14</span><span class="s0">]=</span><span class="s2">&quot;UNREACHABLE_PATTERN&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;IDENTIFY_TERMINATOR&quot;</span><span class="s0">]=</span><span class="s3">15</span><span class="s0">]=</span><span class="s2">&quot;IDENTIFY_TERMINATOR&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;CUSTOM_LINE_BREAK&quot;</span><span class="s0">]=</span><span class="s3">16</span><span class="s0">]=</span><span class="s2">&quot;CUSTOM_LINE_BREAK&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE&quot;</span><span class="s0">]=</span><span class="s3">17</span><span class="s0">]=</span><span class="s2">&quot;MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE&quot;</span><span class="s0">})(</span><span class="s1">Kn</span><span class="s0">||(</span><span class="s1">Kn</span><span class="s0">={}));</span><span class="s4">const </span><span class="s1">jn</span><span class="s0">={</span><span class="s1">deferDefinitionErrorsHandling</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">positionTracking</span><span class="s0">:</span><span class="s2">&quot;full&quot;</span><span class="s0">,</span><span class="s1">lineTerminatorsPattern</span><span class="s0">:</span><span class="s5">/\n|\r\n?/g</span><span class="s0">,</span><span class="s1">lineTerminatorCharacters</span><span class="s0">:[</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">,</span><span class="s2">&quot;</span><span class="s4">\r</span><span class="s2">&quot;</span><span class="s0">],</span><span class="s1">ensureOptimizations</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">safeMode</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">errorMessageProvider</span><span class="s0">:</span><span class="s1">Bn</span><span class="s0">,</span><span class="s1">traceInitPerf</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">skipValidations</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">recoveryEnabled</span><span class="s0">:</span><span class="s4">true</span><span class="s0">};</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">(</span><span class="s1">jn</span><span class="s0">);</span><span class="s4">class </span><span class="s1">Vn</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">jn</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexerDefinition</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexerDefinitionErrors</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexerDefinitionWarning</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">patternIdxToConfig</span><span class="s0">={};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">charCodeToPatternIdxToConfig</span><span class="s0">={};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">modes</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">emptyGroups</span><span class="s0">={};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">trackStartLines</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">trackEndLines</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hasCustom</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">canModeBeOptimized</span><span class="s0">={};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitPerf</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitIndent</span><span class="s0">++;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Array</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitIndent</span><span class="s0">+</span><span class="s3">1</span><span class="s0">).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitIndent</span><span class="s0">&lt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitMaxIdent</span><span class="s0">){</span><span class="s1">console</span><span class="s0">.</span><span class="s1">log</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">--</span><span class="s4">\x3e </span><span class="s2">&lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&gt;`</span><span class="s0">)}</span><span class="s4">const</span><span class="s0">{</span><span class="s1">time</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">$n</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">&gt;</span><span class="s3">10</span><span class="s0">?</span><span class="s1">console</span><span class="s0">.</span><span class="s1">warn</span><span class="s0">:</span><span class="s1">console</span><span class="s0">.</span><span class="s1">log</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitIndent</span><span class="s0">&lt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitMaxIdent</span><span class="s0">){</span><span class="s1">s</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&lt;-- &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&gt; time: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">ms`</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitIndent</span><span class="s0">--;</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">t</span><span class="s0">()}};</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;boolean&quot;</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;The second argument to the Lexer constructor is now an ILexerConfig Object.</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;a boolean 2nd argument is no longer supported&quot;</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">=</span><span class="s1">$</span><span class="s0">({},</span><span class="s1">jn</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">traceInitPerf</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitMaxIdent</span><span class="s0">=</span><span class="s1">Infinity</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitPerf</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitMaxIdent</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitPerf</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitIndent</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">&quot;Lexer Constructor&quot;</span><span class="s0">,(()=&gt;{</span><span class="s4">let </span><span class="s1">n</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">&quot;Lexer Config handling&quot;</span><span class="s0">,(()=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">lineTerminatorsPattern</span><span class="s0">===</span><span class="s1">jn</span><span class="s0">.</span><span class="s1">lineTerminatorsPattern</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">lineTerminatorsPattern</span><span class="s0">=</span><span class="s1">hn</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">lineTerminatorCharacters</span><span class="s0">===</span><span class="s1">jn</span><span class="s0">.</span><span class="s1">lineTerminatorCharacters</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Error: Missing &lt;lineTerminatorCharacters&gt; property on the Lexer config.</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS&quot;</span><span class="s0">)}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">safeMode</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ensureOptimizations</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">'&quot;safeMode&quot; and &quot;ensureOptimizations&quot; flags are mutually exclusive.'</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">trackStartLines</span><span class="s0">=</span><span class="s5">/full|onlyStart/i</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">positionTracking</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">trackEndLines</span><span class="s0">=</span><span class="s5">/full/i</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">positionTracking</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">={</span><span class="s1">modes</span><span class="s0">:{</span><span class="s1">defaultMode</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)},</span><span class="s1">defaultMode</span><span class="s0">:</span><span class="s1">Dt</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">i</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)}}));</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">skipValidations</span><span class="s0">===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">&quot;performRuntimeChecks&quot;</span><span class="s0">,(()=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexerDefinitionErrors</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexerDefinitionErrors</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">cn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">trackStartLines</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">lineTerminatorCharacters</span><span class="s0">))}));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">&quot;performWarningRuntimeChecks&quot;</span><span class="s0">,(()=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexerDefinitionWarning</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexerDefinitionWarning</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">un</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">trackStartLines</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">lineTerminatorCharacters</span><span class="s0">))}))}</span><span class="s1">n</span><span class="s0">.</span><span class="s1">modes</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">modes</span><span class="s0">?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">modes</span><span class="s0">:{};(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">modes</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">modes</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">Xe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Be</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)))}));</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">R</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">modes</span><span class="s0">);(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">modes</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">`Mode: &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&gt; processing`</span><span class="s0">,(()=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">modes</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">skipValidations</span><span class="s0">===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">`validatePatterns`</span><span class="s0">,(()=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexerDefinitionErrors</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexerDefinitionErrors</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">jt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">))}))}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexerDefinitionErrors</span><span class="s0">)){</span><span class="s1">Nn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">`analyzeTokenTypes`</span><span class="s0">,(()=&gt;{</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Kt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">lineTerminatorCharacters</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">lineTerminatorCharacters</span><span class="s0">,</span><span class="s1">positionTracking</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">positionTracking</span><span class="s0">,</span><span class="s1">ensureOptimizations</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ensureOptimizations</span><span class="s0">,</span><span class="s1">safeMode</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">safeMode</span><span class="s0">,</span><span class="s1">tracer</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">})}));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">patternIdxToConfig</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">patternIdxToConfig</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">charCodeToPatternIdxToConfig</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">charCodeToPatternIdxToConfig</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">emptyGroups</span><span class="s0">=</span><span class="s1">$</span><span class="s0">({},</span><span class="s4">this</span><span class="s0">.</span><span class="s1">emptyGroups</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">emptyGroups</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hasCustom</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">hasCustom</span><span class="s0">||</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hasCustom</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">canModeBeOptimized</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">canBeOptimized</span><span class="s0">}}))}));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">defaultMode</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">defaultMode</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexerDefinitionErrors</span><span class="s0">)&amp;&amp;!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">deferDefinitionErrorsHandling</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexerDefinitionErrors</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">message</span><span class="s0">));</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;-----------------------</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">);</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Errors detected in definition of Lexer:</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s1">t</span><span class="s0">)}(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexerDefinitionWarning</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s1">Rt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">message</span><span class="s0">)}));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">&quot;Choosing sub-methods implementations&quot;</span><span class="s0">,(()=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ft</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">chopInput</span><span class="s0">=</span><span class="s1">En</span><span class="s0">.</span><span class="s1">A</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">match</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">matchWithTest</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">updateLastIndex</span><span class="s0">=</span><span class="s1">kn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">match</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">matchWithExec</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">handleModes</span><span class="s0">=</span><span class="s1">kn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">trackStartLines</span><span class="s0">===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">computeNewColumn</span><span class="s0">=</span><span class="s1">En</span><span class="s0">.</span><span class="s1">A</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">trackEndLines</span><span class="s0">===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">updateTokenEndLineColumnLocation</span><span class="s0">=</span><span class="s1">kn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s5">/full/i</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">positionTracking</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">createTokenInstance</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">createFullToken</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s5">/onlyStart/i</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">positionTracking</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">createTokenInstance</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">createStartOnlyToken</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s5">/onlyOffset/i</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">positionTracking</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">createTokenInstance</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">createOffsetOnlyToken</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Invalid &lt;positionTracking&gt; config option: &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">positionTracking</span><span class="s0">}</span><span class="s2">&quot;`</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hasCustom</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addToken</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addTokenUsingPush</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">handlePayload</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">handlePayloadWithCustom</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addToken</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addTokenUsingMemberAccess</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">handlePayload</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">handlePayloadNoCustom</span><span class="s0">}}));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">&quot;Failed Optimization Warnings&quot;</span><span class="s0">,(()=&gt;{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">tt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">canModeBeOptimized</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s4">false</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),[]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ensureOptimizations</span><span class="s0">&amp;&amp;!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Lexer Modes: &lt; </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">)} </span><span class="s2">&gt; cannot be optimized.</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">'</span><span class="s4">\t </span><span class="s2">Disable the &quot;ensureOptimizations&quot; lexer config flag to silently ignore this and run the lexer in an un-optimized mode.</span><span class="s4">\n</span><span class="s2">'</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t </span><span class="s2">Or inspect the console log for details on how to resolve these issues.&quot;</span><span class="s0">)}}));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">&quot;clearRegExpParserCache&quot;</span><span class="s0">,(()=&gt;{</span><span class="s1">$t</span><span class="s0">()}));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">&quot;toFastProperties&quot;</span><span class="s0">,(()=&gt;{</span><span class="s1">u</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}))}))}</span><span class="s1">tokenize</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">defaultMode</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexerDefinitionErrors</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexerDefinitionErrors</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">message</span><span class="s0">));</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;-----------------------</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">);</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Unable to Tokenize because Errors detected in definition of Lexer:</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">tokenizeInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">tokenizeInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">c</span><span class="s0">,</span><span class="s1">u</span><span class="s0">,</span><span class="s1">l</span><span class="s0">,</span><span class="s1">d</span><span class="s0">,</span><span class="s1">f</span><span class="s0">,</span><span class="s1">h</span><span class="s0">,</span><span class="s1">p</span><span class="s0">,</span><span class="s1">m</span><span class="s0">,</span><span class="s1">g</span><span class="s0">,</span><span class="s1">y</span><span class="s0">;</span><span class="s4">const </span><span class="s1">v</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">A</span><span class="s0">=</span><span class="s1">v</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">let </span><span class="s1">T</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">R</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">E</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hasCustom</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">floor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">/</span><span class="s3">10</span><span class="s0">);</span><span class="s4">const </span><span class="s1">k</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Array</span><span class="s0">(</span><span class="s1">E</span><span class="s0">);</span><span class="s4">const </span><span class="s1">x</span><span class="s0">=[];</span><span class="s4">let </span><span class="s1">$</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">trackStartLines</span><span class="s0">?</span><span class="s3">1</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">let </span><span class="s1">w</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">trackStartLines</span><span class="s0">?</span><span class="s3">1</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">I</span><span class="s0">=</span><span class="s1">ln</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">emptyGroups</span><span class="s0">);</span><span class="s4">const </span><span class="s1">S</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">trackStartLines</span><span class="s0">;</span><span class="s4">const </span><span class="s1">C</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">lineTerminatorsPattern</span><span class="s0">;</span><span class="s4">let </span><span class="s1">N</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">L</span><span class="s0">=[];</span><span class="s4">let </span><span class="s1">b</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">_</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">O</span><span class="s0">=[];</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">(</span><span class="s1">O</span><span class="s0">);</span><span class="s4">let </span><span class="s1">P</span><span class="s0">;</span><span class="s4">function </span><span class="s1">M</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">L</span><span class="s0">}</span><span class="s4">function </span><span class="s1">D</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Tn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">b</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">O</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">U</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">_</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenType</span><span class="s0">.</span><span class="s1">PUSH_MODE</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">errorMessageProvider</span><span class="s0">.</span><span class="s1">buildUnableToPopLexerModeMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">x</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">,</span><span class="s1">line</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startLine</span><span class="s0">,</span><span class="s1">column</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startColumn</span><span class="s0">,</span><span class="s1">length</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">image</span><span class="s0">.</span><span class="s1">length</span><span class="s0">,</span><span class="s1">message</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">_</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">xn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">_</span><span class="s0">);</span><span class="s1">L</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">patternIdxToConfig</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s1">b</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">charCodeToPatternIdxToConfig</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s1">N</span><span class="s0">=</span><span class="s1">L</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">canModeBeOptimized</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">safeMode</span><span class="s0">===</span><span class="s4">false</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">b</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">){</span><span class="s1">P</span><span class="s0">=</span><span class="s1">D</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">P</span><span class="s0">=</span><span class="s1">M</span><span class="s0">}}};</span><span class="s4">function </span><span class="s1">F</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">_</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">b</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">charCodeToPatternIdxToConfig</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s1">L</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">patternIdxToConfig</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s1">N</span><span class="s0">=</span><span class="s1">L</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">N</span><span class="s0">=</span><span class="s1">L</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">canModeBeOptimized</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">safeMode</span><span class="s0">===</span><span class="s4">false</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">b</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">){</span><span class="s1">P</span><span class="s0">=</span><span class="s1">D</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">P</span><span class="s0">=</span><span class="s1">M</span><span class="s0">}}</span><span class="s1">F</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">let </span><span class="s1">G</span><span class="s0">;</span><span class="s4">const </span><span class="s1">B</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">recoveryEnabled</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">T</span><span class="s0">&lt;</span><span class="s1">A</span><span class="s0">){</span><span class="s1">o</span><span class="s0">=</span><span class="s4">null</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">v</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">T</span><span class="s0">);</span><span class="s4">const </span><span class="s1">m</span><span class="s0">=</span><span class="s1">P</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">E</span><span class="s0">=</span><span class="s1">m</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">E</span><span class="s0">;</span><span class="s1">n</span><span class="s0">++){</span><span class="s1">G</span><span class="s0">=</span><span class="s1">m</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">G</span><span class="s0">.</span><span class="s1">pattern</span><span class="s0">;</span><span class="s1">c</span><span class="s0">=</span><span class="s4">null</span><span class="s0">;</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">G</span><span class="s0">.</span><span class="s1">short</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">l</span><span class="s0">!==</span><span class="s4">false</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">l</span><span class="s0">){</span><span class="s1">o</span><span class="s0">=</span><span class="s1">r</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">G</span><span class="s0">.</span><span class="s1">isCustom</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s1">y</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">v</span><span class="s0">,</span><span class="s1">T</span><span class="s0">,</span><span class="s1">k</span><span class="s0">,</span><span class="s1">I</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">y</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">){</span><span class="s1">o</span><span class="s0">=</span><span class="s1">y</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">y</span><span class="s0">.</span><span class="s1">payload</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">c</span><span class="s0">=</span><span class="s1">y</span><span class="s0">.</span><span class="s1">payload</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">o</span><span class="s0">=</span><span class="s4">null</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">updateLastIndex</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">T</span><span class="s0">);</span><span class="s1">o</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">match</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">T</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">){</span><span class="s1">a</span><span class="s0">=</span><span class="s1">G</span><span class="s0">.</span><span class="s1">longerAlt</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s1">i</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">i</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">;</span><span class="s1">i</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">L</span><span class="s0">[</span><span class="s1">a</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">pattern</span><span class="s0">;</span><span class="s1">u</span><span class="s0">=</span><span class="s4">null</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">isCustom</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s1">y</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">v</span><span class="s0">,</span><span class="s1">T</span><span class="s0">,</span><span class="s1">k</span><span class="s0">,</span><span class="s1">I</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">y</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s1">y</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">y</span><span class="s0">.</span><span class="s1">payload</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">u</span><span class="s0">=</span><span class="s1">y</span><span class="s0">.</span><span class="s1">payload</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">s</span><span class="s0">=</span><span class="s4">null</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">updateLastIndex</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">T</span><span class="s0">);</span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">match</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">T</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s1">o</span><span class="s0">=</span><span class="s1">s</span><span class="s0">;</span><span class="s1">c</span><span class="s0">=</span><span class="s1">u</span><span class="s0">;</span><span class="s1">G</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">break</span><span class="s0">}}}</span><span class="s4">break</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">){</span><span class="s1">l</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">d</span><span class="s0">=</span><span class="s1">G</span><span class="s0">.</span><span class="s1">group</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">d</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">f</span><span class="s0">=</span><span class="s1">G</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">;</span><span class="s1">h</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">createTokenInstance</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">T</span><span class="s0">,</span><span class="s1">f</span><span class="s0">,</span><span class="s1">G</span><span class="s0">.</span><span class="s1">tokenType</span><span class="s0">,</span><span class="s1">$</span><span class="s0">,</span><span class="s1">w</span><span class="s0">,</span><span class="s1">l</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">handlePayload</span><span class="s0">(</span><span class="s1">h</span><span class="s0">,</span><span class="s1">c</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">d</span><span class="s0">===</span><span class="s4">false</span><span class="s0">){</span><span class="s1">R</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addToken</span><span class="s0">(</span><span class="s1">k</span><span class="s0">,</span><span class="s1">R</span><span class="s0">,</span><span class="s1">h</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">I</span><span class="s0">[</span><span class="s1">d</span><span class="s0">].</span><span class="s1">push</span><span class="s0">(</span><span class="s1">h</span><span class="s0">)}}</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">chopInput</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">l</span><span class="s0">);</span><span class="s1">T</span><span class="s0">=</span><span class="s1">T</span><span class="s0">+</span><span class="s1">l</span><span class="s0">;</span><span class="s1">w</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">computeNewColumn</span><span class="s0">(</span><span class="s1">w</span><span class="s0">,</span><span class="s1">l</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">S</span><span class="s0">===</span><span class="s4">true</span><span class="s0">&amp;&amp;</span><span class="s1">G</span><span class="s0">.</span><span class="s1">canLineTerminator</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">t</span><span class="s0">;</span><span class="s4">let </span><span class="s1">n</span><span class="s0">;</span><span class="s1">C</span><span class="s0">.</span><span class="s1">lastIndex</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">do</span><span class="s0">{</span><span class="s1">t</span><span class="s0">=</span><span class="s1">C</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">C</span><span class="s0">.</span><span class="s1">lastIndex</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++}}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s4">true</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s3">0</span><span class="s0">){</span><span class="s1">$</span><span class="s0">=</span><span class="s1">$</span><span class="s0">+</span><span class="s1">e</span><span class="s0">;</span><span class="s1">w</span><span class="s0">=</span><span class="s1">l</span><span class="s0">-</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">updateTokenEndLineColumnLocation</span><span class="s0">(</span><span class="s1">h</span><span class="s0">,</span><span class="s1">d</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">$</span><span class="s0">,</span><span class="s1">w</span><span class="s0">,</span><span class="s1">l</span><span class="s0">)}}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">handleModes</span><span class="s0">(</span><span class="s1">G</span><span class="s0">,</span><span class="s1">U</span><span class="s0">,</span><span class="s1">F</span><span class="s0">,</span><span class="s1">h</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">T</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">$</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">w</span><span class="s0">;</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s1">B</span><span class="s0">===</span><span class="s4">false</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s4">false</span><span class="s0">&amp;&amp;</span><span class="s1">T</span><span class="s0">&lt;</span><span class="s1">A</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">chopInput</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">1</span><span class="s0">);</span><span class="s1">T</span><span class="s0">++;</span><span class="s4">for</span><span class="s0">(</span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">N</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">L</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">pattern</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">short</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">false</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">v</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">T</span><span class="s0">)===</span><span class="s1">i</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">isCustom</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">v</span><span class="s0">,</span><span class="s1">T</span><span class="s0">,</span><span class="s1">k</span><span class="s0">,</span><span class="s1">I</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">updateLastIndex</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">T</span><span class="s0">);</span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">break</span><span class="s0">}}}</span><span class="s1">p</span><span class="s0">=</span><span class="s1">T</span><span class="s0">-</span><span class="s1">t</span><span class="s0">;</span><span class="s1">w</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">computeNewColumn</span><span class="s0">(</span><span class="s1">w</span><span class="s0">,</span><span class="s1">p</span><span class="s0">);</span><span class="s1">g</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">errorMessageProvider</span><span class="s0">.</span><span class="s1">buildUnexpectedCharactersMessage</span><span class="s0">(</span><span class="s1">v</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">p</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s1">x</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">line</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">column</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">length</span><span class="s0">:</span><span class="s1">p</span><span class="s0">,</span><span class="s1">message</span><span class="s0">:</span><span class="s1">g</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">B</span><span class="s0">===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">break</span><span class="s0">}}}</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hasCustom</span><span class="s0">){</span><span class="s1">k</span><span class="s0">.</span><span class="s1">length</span><span class="s0">=</span><span class="s1">R</span><span class="s0">}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">tokens</span><span class="s0">:</span><span class="s1">k</span><span class="s0">,</span><span class="s1">groups</span><span class="s0">:</span><span class="s1">I</span><span class="s0">,</span><span class="s1">errors</span><span class="s0">:</span><span class="s1">x</span><span class="s0">}}</span><span class="s1">handleModes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">;</span><span class="s1">t</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">)}}</span><span class="s1">chopInput</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">updateLastIndex</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lastIndex</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">updateTokenEndLineColumnLocation</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">a</span><span class="s0">){</span><span class="s4">let </span><span class="s1">o</span><span class="s0">,</span><span class="s1">c</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s1">a</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">c</span><span class="s0">=</span><span class="s1">o</span><span class="s0">?-</span><span class="s3">1</span><span class="s0">:</span><span class="s3">0</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!(</span><span class="s1">r</span><span class="s0">===</span><span class="s3">1</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">===</span><span class="s4">true</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endLine</span><span class="s0">=</span><span class="s1">i</span><span class="s0">+</span><span class="s1">c</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endColumn</span><span class="s0">=</span><span class="s1">s</span><span class="s0">-</span><span class="s3">1</span><span class="s0">+-</span><span class="s1">c</span><span class="s0">}}}</span><span class="s1">computeNewColumn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">+</span><span class="s1">t</span><span class="s0">}</span><span class="s1">createOffsetOnlyToken</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">image</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">startOffset</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">tokenTypeIdx</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">tokenType</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}}</span><span class="s1">createStartOnlyToken</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">image</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">startOffset</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">startLine</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">startColumn</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">tokenTypeIdx</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">tokenType</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}}</span><span class="s1">createFullToken</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">a</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">image</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">startOffset</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">endOffset</span><span class="s0">:</span><span class="s1">t</span><span class="s0">+</span><span class="s1">a</span><span class="s0">-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">startLine</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">endLine</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">startColumn</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">endColumn</span><span class="s0">:</span><span class="s1">s</span><span class="s0">+</span><span class="s1">a</span><span class="s0">-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tokenTypeIdx</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">tokenType</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}}</span><span class="s1">addTokenUsingPush</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">addTokenUsingMemberAccess</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">n</span><span class="s0">;</span><span class="s1">t</span><span class="s0">++;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">handlePayloadNoCustom</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){}</span><span class="s1">handlePayloadWithCustom</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">payload</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">matchWithTest</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lastIndex</span><span class="s0">)}</span><span class="s4">return null</span><span class="s0">}</span><span class="s1">matchWithExec</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">?</span><span class="s1">n</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]:</span><span class="s4">null</span><span class="s0">}}</span><span class="s1">Vn</span><span class="s0">.</span><span class="s1">SKIPPED</span><span class="s0">=</span><span class="s2">&quot;This marks a skipped Token pattern, this means each token identified by it will&quot;</span><span class="s0">+</span><span class="s2">&quot;be consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.&quot;</span><span class="s0">;</span><span class="s1">Vn</span><span class="s0">.</span><span class="s1">NA</span><span class="s0">=</span><span class="s5">/NOT_APPLICABLE/</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Wn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">zn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">LABEL</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Hn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s4">function </span><span class="s1">zn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">m</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LABEL</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LABEL</span><span class="s0">!==</span><span class="s2">&quot;&quot;</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Yn</span><span class="s0">=</span><span class="s2">&quot;parent&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">qn</span><span class="s0">=</span><span class="s2">&quot;categories&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Xn</span><span class="s0">=</span><span class="s2">&quot;label&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Qn</span><span class="s0">=</span><span class="s2">&quot;group&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Zn</span><span class="s0">=</span><span class="s2">&quot;push_mode&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Jn</span><span class="s0">=</span><span class="s2">&quot;pop_mode&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">er</span><span class="s0">=</span><span class="s2">&quot;longer_alt&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">tr</span><span class="s0">=</span><span class="s2">&quot;line_breaks&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">nr</span><span class="s0">=</span><span class="s2">&quot;start_chars_hint&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">rr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">ir</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">ir</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">pattern</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={};</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Be</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Yn</span><span class="s0">)){</span><span class="s4">throw</span><span class="s2">&quot;The parent property is no longer supported.</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.&quot;</span><span class="s0">}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">qn</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">CATEGORIES</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">qn</span><span class="s0">]}</span><span class="s1">Nn</span><span class="s0">([</span><span class="s1">n</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Xn</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">LABEL</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">Xn</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Qn</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">GROUP</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">Qn</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Jn</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">POP_MODE</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">Jn</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Zn</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">PUSH_MODE</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">Zn</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">er</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">LONGER_ALT</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">er</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">tr</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">LINE_BREAKS</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">tr</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">nr</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">START_CHARS_HINT</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">nr</span><span class="s0">]}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">const </span><span class="s1">sr</span><span class="s0">=</span><span class="s1">rr</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;EOF&quot;</span><span class="s0">,</span><span class="s1">pattern</span><span class="s0">:</span><span class="s1">Vn</span><span class="s0">.</span><span class="s1">NA</span><span class="s0">});</span><span class="s1">Nn</span><span class="s0">([</span><span class="s1">sr</span><span class="s0">]);</span><span class="s4">function </span><span class="s1">ar</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">o</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">image</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">startOffset</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">endOffset</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">startLine</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">endLine</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">startColumn</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">endColumn</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">tokenTypeIdx</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">,</span><span class="s1">tokenType</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">or</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">wn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">cr</span><span class="s0">={</span><span class="s1">buildMismatchTokenMessage</span><span class="s0">({</span><span class="s1">expected</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">actual</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">previous</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">zn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">?</span><span class="s2">`--</span><span class="s4">\x3e </span><span class="s1">$</span><span class="s0">{</span><span class="s1">Wn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)} </span><span class="s2">&lt;--`</span><span class="s0">:</span><span class="s2">`token of type --</span><span class="s4">\x3e </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">} </span><span class="s2">&lt;--`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s2">`Expecting </span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">} </span><span class="s2">but found --</span><span class="s4">\x3e </span><span class="s2">'</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">image</span><span class="s0">}</span><span class="s2">' &lt;--`</span><span class="s0">;</span><span class="s4">return </span><span class="s1">a</span><span class="s0">},</span><span class="s1">buildNotAllInputParsedMessage</span><span class="s0">({</span><span class="s1">firstRedundant</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}){</span><span class="s4">return</span><span class="s2">&quot;Redundant input, expecting EOF but found: &quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">image</span><span class="s0">},</span><span class="s1">buildNoViableAltMessage</span><span class="s0">({</span><span class="s1">expectedPathsPerAlt</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">actual</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">previous</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">customUserDescription</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s2">&quot;Expecting: &quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">vt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">).</span><span class="s1">image</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">but found: '&quot;</span><span class="s0">+</span><span class="s1">o</span><span class="s0">+</span><span class="s2">&quot;'&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return </span><span class="s1">s</span><span class="s0">+</span><span class="s1">r</span><span class="s0">+</span><span class="s1">c</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">tt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)),[]);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s2">`[</span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Wn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">)}</span><span class="s2">]`</span><span class="s0">));</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;</span><span class="s2">`  </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">+</span><span class="s3">1</span><span class="s0">}</span><span class="s2">. </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">`</span><span class="s0">));</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s2">`one of these possible Token sequences:</span><span class="s4">\n</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">return </span><span class="s1">s</span><span class="s0">+</span><span class="s1">i</span><span class="s0">+</span><span class="s1">c</span><span class="s0">}},</span><span class="s1">buildEarlyExitMessage</span><span class="s0">({</span><span class="s1">expectedIterationPaths</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">actual</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">customUserDescription</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s2">&quot;Expecting: &quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">vt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">).</span><span class="s1">image</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">but found: '&quot;</span><span class="s0">+</span><span class="s1">s</span><span class="s0">+</span><span class="s2">&quot;'&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">+</span><span class="s1">n</span><span class="s0">+</span><span class="s1">o</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s2">`[</span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Wn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;,&quot;</span><span class="s0">)}</span><span class="s2">]`</span><span class="s0">));</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s2">`expecting at least one iteration which starts with one of these possible Token sequences::</span><span class="s4">\n  </span><span class="s2">`</span><span class="s0">+</span><span class="s2">`&lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot; ,&quot;</span><span class="s0">)}</span><span class="s2">&gt;`</span><span class="s0">;</span><span class="s4">return </span><span class="s1">i</span><span class="s0">+</span><span class="s1">n</span><span class="s0">+</span><span class="s1">o</span><span class="s0">}}};</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">(</span><span class="s1">cr</span><span class="s0">);</span><span class="s4">const </span><span class="s1">ur</span><span class="s0">={</span><span class="s1">buildRuleNotFoundError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;Invalid grammar, reference to a rule which is not defined: -&gt;&quot;</span><span class="s0">+</span><span class="s1">t</span><span class="s0">.</span><span class="s1">nonTerminalName</span><span class="s0">+</span><span class="s2">&quot;&lt;-</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;inside top level rule: -&gt;&quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s2">&quot;&lt;-&quot;</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}};</span><span class="s4">const </span><span class="s1">lr</span><span class="s0">={</span><span class="s1">buildDuplicateFoundError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">ee</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">terminalType</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">W</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">nonTerminalName</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s2">&quot;&quot;</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">vt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">$e</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">s</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">u</span><span class="s0">=</span><span class="s2">`-&gt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">c</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">}</span><span class="s2">&lt;- </span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">?</span><span class="s2">`with argument: -&gt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">&lt;-`</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">}</span><span class="s4">\n                  </span><span class="s2">appears more than once (</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">} </span><span class="s2">times) in the top level rule: -&gt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">&lt;-.                  </span><span class="s4">\n                  </span><span class="s2">For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES </span><span class="s4">\n                  </span><span class="s2">`</span><span class="s0">;</span><span class="s1">u</span><span class="s0">=</span><span class="s1">u</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/[ \t]+/g</span><span class="s0">,</span><span class="s2">&quot; &quot;</span><span class="s0">);</span><span class="s1">u</span><span class="s0">=</span><span class="s1">u</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/\s\s+/g</span><span class="s0">,</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">);</span><span class="s4">return </span><span class="s1">u</span><span class="s0">},</span><span class="s1">buildNamespaceConflictError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s2">`Namespace conflict found in grammar.</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">&gt;.</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`To resolve this make sure each Terminal and Non-Terminal names are unique</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`This is easy to accomplish by using the convention that Terminal names start with an uppercase letter</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`and Non-Terminal names start with a lower case letter.`</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">},</span><span class="s1">buildAlternationPrefixAmbiguityError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">prefixPath</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Wn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">alternation</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">===</span><span class="s3">0</span><span class="s0">?</span><span class="s2">&quot;&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">alternation</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s2">`Ambiguous alternatives: &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ambiguityIndices</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot; ,&quot;</span><span class="s0">)}</span><span class="s2">&gt; due to common lookahead prefix</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`in &lt;OR</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&gt; inside &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">topLevelRule</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">&gt; Rule,</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`&lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">&gt; may appears as a prefix path in all these alternatives.</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`For Further details.`</span><span class="s0">;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">},</span><span class="s1">buildAlternationAmbiguityError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">prefixPath</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Wn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">alternation</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">===</span><span class="s3">0</span><span class="s0">?</span><span class="s2">&quot;&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">alternation</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s2">`Ambiguous Alternatives Detected: &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ambiguityIndices</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot; ,&quot;</span><span class="s0">)}</span><span class="s2">&gt; in &lt;OR</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&gt;`</span><span class="s0">+</span><span class="s2">` inside &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">topLevelRule</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">&gt; Rule,</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`&lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">&gt; may appears as a prefix path in all these alternatives.</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">r</span><span class="s0">+</span><span class="s2">`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`For Further details.`</span><span class="s0">;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">},</span><span class="s1">buildEmptyRepetitionError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">$e</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">repetition</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">repetition</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">!==</span><span class="s3">0</span><span class="s0">){</span><span class="s1">t</span><span class="s0">+=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">repetition</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s2">`The repetition &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">&gt; within Rule &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">topLevelRule</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">&gt; can never consume any tokens.</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`This could lead to an infinite loop.`</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">},</span><span class="s1">buildTokenNameError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;deprecated&quot;</span><span class="s0">},</span><span class="s1">buildEmptyAlternationError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s2">`Ambiguous empty alternative: &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">emptyChoiceIdx</span><span class="s0">+</span><span class="s3">1</span><span class="s0">}</span><span class="s2">&gt;`</span><span class="s0">+</span><span class="s2">` in &lt;OR</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">alternation</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">}</span><span class="s2">&gt; inside &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">topLevelRule</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">&gt; Rule.</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`Only the last alternative may be an empty alternative.`</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">},</span><span class="s1">buildTooManyAlternativesError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s2">`An Alternation cannot have more than 256 alternatives:</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`&lt;OR</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">alternation</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">}</span><span class="s2">&gt; inside &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">topLevelRule</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">&gt; Rule.</span><span class="s4">\n </span><span class="s2">has </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">alternation</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">.</span><span class="s1">length</span><span class="s0">+</span><span class="s3">1</span><span class="s0">} </span><span class="s2">alternatives.`</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">},</span><span class="s1">buildLeftRecursionError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">topLevelRule</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">leftRecursionPath</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">));</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">--</span><span class="s4">\x3e </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">([</span><span class="s1">t</span><span class="s0">]).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot; --</span><span class="s4">\x3e </span><span class="s2">&quot;</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s2">`Left Recursion found in grammar.</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`rule: &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">&gt; can be invoked from itself (directly or indirectly)</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`without consuming any Tokens. The grammar path that causes this is: </span><span class="s4">\n </span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">` To fix this refactor your grammar to remove the left recursion.</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`</span><span class="s0">;</span><span class="s4">return </span><span class="s1">i</span><span class="s0">},</span><span class="s1">buildInvalidRuleNameError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;deprecated&quot;</span><span class="s0">},</span><span class="s1">buildDuplicateRuleNameError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">topLevelRule </span><span class="s4">instanceof </span><span class="s1">H</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">topLevelRule</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">topLevelRule</span><span class="s0">}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s2">`Duplicate definition, rule: -&gt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">&lt;- is already defined in the grammar: -&gt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">grammarName</span><span class="s0">}</span><span class="s2">&lt;-`</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}};</span><span class="s4">function </span><span class="s1">dr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">fr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">resolveRefs</span><span class="s0">();</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">errors</span><span class="s0">}</span><span class="s4">class </span><span class="s1">fr </span><span class="s4">extends </span><span class="s1">re</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameToTopRule</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errMsgProvider</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errors</span><span class="s0">=[]}</span><span class="s1">resolveRefs</span><span class="s0">(){(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameToTopRule</span><span class="s0">),(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currTopLevel</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">accept</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}))}</span><span class="s1">visitNonTerminal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameToTopRule</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">nonTerminalName</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errMsgProvider</span><span class="s0">.</span><span class="s1">buildRuleNotFoundError</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currTopLevel</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errors</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">message</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Ms</span><span class="s0">.</span><span class="s1">UNRESOLVED_SUBRULE_REF</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currTopLevel</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">unresolvedRefName</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">nonTerminalName</span><span class="s0">})}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">referencedRule</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}}}</span><span class="s4">var </span><span class="s1">hr</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">57852</span><span class="s0">);</span><span class="s4">var </span><span class="s1">pr</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">48657</span><span class="s0">);</span><span class="s4">function </span><span class="s1">mr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">==</span><span class="s4">null</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(++</span><span class="s1">i</span><span class="s0">&lt;</span><span class="s1">s</span><span class="s0">){</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s1">t</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">n</span><span class="s0">(</span><span class="s1">a</span><span class="s0">),</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">const </span><span class="s1">gr</span><span class="s0">=</span><span class="s1">mr</span><span class="s0">;</span><span class="s4">function </span><span class="s1">yr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">se</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">){</span><span class="s1">t</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">s</span><span class="s0">)}));</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">const </span><span class="s1">vr</span><span class="s0">=</span><span class="s1">yr</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Ar</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return function</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)?</span><span class="s1">gr</span><span class="s0">:</span><span class="s1">vr</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">?</span><span class="s1">t</span><span class="s0">():{};</span><span class="s4">return </span><span class="s1">i</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">I</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">,</span><span class="s3">2</span><span class="s0">),</span><span class="s1">s</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">Tr</span><span class="s0">=</span><span class="s1">Ar</span><span class="s0">;</span><span class="s4">var </span><span class="s1">Rr</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">;</span><span class="s4">var </span><span class="s1">Er</span><span class="s0">=</span><span class="s1">Rr</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">;</span><span class="s4">var </span><span class="s1">kr</span><span class="s0">=</span><span class="s1">Tr</span><span class="s0">((</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Er</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">].</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">pr</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,[</span><span class="s1">t</span><span class="s0">])}}));</span><span class="s4">const </span><span class="s1">xr</span><span class="s0">=</span><span class="s1">kr</span><span class="s0">;</span><span class="s4">function </span><span class="s1">$r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">==</span><span class="s4">null</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[]}</span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">?</span><span class="s3">1</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">f</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">t</span><span class="s0">=</span><span class="s1">r</span><span class="s0">-</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return </span><span class="s1">d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,</span><span class="s1">t</span><span class="s0">&lt;</span><span class="s3">0</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">wr</span><span class="s0">=</span><span class="s1">$r</span><span class="s0">;</span><span class="s4">class </span><span class="s1">Ir </span><span class="s4">extends </span><span class="s1">we</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">topProd</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">path</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">possibleTokTypes</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextProductionName</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextProductionOccurrence</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">found</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isAtEndOfPath</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s1">startWalking</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">found</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">path</span><span class="s0">.</span><span class="s1">ruleStack</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]!==</span><span class="s4">this</span><span class="s0">.</span><span class="s1">topProd</span><span class="s0">.</span><span class="s1">name</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;The path does not start with the walker's top Rule!&quot;</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">ruleStack</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">path</span><span class="s0">.</span><span class="s1">ruleStack</span><span class="s0">).</span><span class="s1">reverse</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">occurrenceStack</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">path</span><span class="s0">.</span><span class="s1">occurrenceStack</span><span class="s0">).</span><span class="s1">reverse</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">ruleStack</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">occurrenceStack</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">updateExpectedNext</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walk</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">topProd</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">possibleTokTypes</span><span class="s0">}</span><span class="s1">walk</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=[]){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">found</span><span class="s0">){</span><span class="s4">super</span><span class="s0">.</span><span class="s1">walk</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}</span><span class="s1">walkProdRef</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">referencedRule</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextProductionName</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextProductionOccurrence</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">updateExpectedNext</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walk</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">referencedRule</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}}</span><span class="s1">updateExpectedNext</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">ruleStack</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextProductionName</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextProductionOccurrence</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isAtEndOfPath</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextProductionName</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">ruleStack</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextProductionOccurrence</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">occurrenceStack</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">()}}}</span><span class="s4">class </span><span class="s1">Sr </span><span class="s4">extends </span><span class="s1">Ir</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">path</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextTerminalName</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextTerminalOccurrence</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextTerminalName</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">path</span><span class="s0">.</span><span class="s1">lastTok</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextTerminalOccurrence</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">path</span><span class="s0">.</span><span class="s1">lastTokOccurrence</span><span class="s0">}</span><span class="s1">walkTerminal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isAtEndOfPath</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">terminalType</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextTerminalName</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextTerminalOccurrence</span><span class="s0">&amp;&amp;!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">found</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">new </span><span class="s1">z</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:</span><span class="s1">e</span><span class="s0">});</span><span class="s4">this</span><span class="s0">.</span><span class="s1">possibleTokTypes</span><span class="s0">=</span><span class="s1">be</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">found</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}}</span><span class="s4">class </span><span class="s1">Cr </span><span class="s4">extends </span><span class="s1">we</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">topRule</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">occurrence</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">result</span><span class="s0">={</span><span class="s1">token</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">occurrence</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">isEndOfRule</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">}}</span><span class="s1">startWalking</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walk</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">topRule</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">result</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Nr </span><span class="s4">extends </span><span class="s1">Cr</span><span class="s0">{</span><span class="s1">walkMany</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">occurrence</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">vt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">n</span><span class="s0">));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">result</span><span class="s0">.</span><span class="s1">isEndOfRule</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">ee</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">result</span><span class="s0">.</span><span class="s1">token</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">terminalType</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">result</span><span class="s0">.</span><span class="s1">occurrence</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">super</span><span class="s0">.</span><span class="s1">walkMany</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}}</span><span class="s4">class </span><span class="s1">Lr </span><span class="s4">extends </span><span class="s1">Cr</span><span class="s0">{</span><span class="s1">walkManySep</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">occurrence</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">vt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">n</span><span class="s0">));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">result</span><span class="s0">.</span><span class="s1">isEndOfRule</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">ee</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">result</span><span class="s0">.</span><span class="s1">token</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">terminalType</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">result</span><span class="s0">.</span><span class="s1">occurrence</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">super</span><span class="s0">.</span><span class="s1">walkManySep</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}}</span><span class="s4">class </span><span class="s1">br </span><span class="s4">extends </span><span class="s1">Cr</span><span class="s0">{</span><span class="s1">walkAtLeastOne</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">occurrence</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">vt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">n</span><span class="s0">));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">result</span><span class="s0">.</span><span class="s1">isEndOfRule</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">ee</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">result</span><span class="s0">.</span><span class="s1">token</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">terminalType</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">result</span><span class="s0">.</span><span class="s1">occurrence</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">super</span><span class="s0">.</span><span class="s1">walkAtLeastOne</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}}</span><span class="s4">class </span><span class="s1">_r </span><span class="s4">extends </span><span class="s1">Cr</span><span class="s0">{</span><span class="s1">walkAtLeastOneSep</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">occurrence</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">vt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">n</span><span class="s0">));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">result</span><span class="s0">.</span><span class="s1">isEndOfRule</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">ee</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">result</span><span class="s0">.</span><span class="s1">token</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">terminalType</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">result</span><span class="s0">.</span><span class="s1">occurrence</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">super</span><span class="s0">.</span><span class="s1">walkAtLeastOneSep</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}}</span><span class="s4">function </span><span class="s1">Or</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=[]){</span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">function </span><span class="s1">o</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">a</span><span class="s0">+</span><span class="s3">1</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Or</span><span class="s0">(</span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">i</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">a</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">instanceof </span><span class="s1">z</span><span class="s0">){</span><span class="s4">return </span><span class="s1">u</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">instanceof </span><span class="s1">W</span><span class="s0">){</span><span class="s4">return </span><span class="s1">u</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">instanceof </span><span class="s1">Y</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">u</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">instanceof </span><span class="s1">q</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">([</span><span class="s4">new </span><span class="s1">Q</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">})]);</span><span class="s4">return </span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">instanceof </span><span class="s1">X</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[</span><span class="s4">new </span><span class="s1">z</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">}),</span><span class="s4">new </span><span class="s1">Q</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:[</span><span class="s4">new </span><span class="s1">ee</span><span class="s0">({</span><span class="s1">terminalType</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">separator</span><span class="s0">})].</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">)})];</span><span class="s4">return </span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">instanceof </span><span class="s1">Z</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">([</span><span class="s4">new </span><span class="s1">Q</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:[</span><span class="s4">new </span><span class="s1">ee</span><span class="s0">({</span><span class="s1">terminalType</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">separator</span><span class="s0">})].</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">)})]);</span><span class="s1">i</span><span class="s0">=</span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">instanceof </span><span class="s1">Q</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">([</span><span class="s4">new </span><span class="s1">Q</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">})]);</span><span class="s1">i</span><span class="s0">=</span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">instanceof </span><span class="s1">J</span><span class="s0">){(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">)===</span><span class="s4">false</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">)}}));</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">instanceof </span><span class="s1">ee</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">terminalType</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;non exhaustive match&quot;</span><span class="s0">)}</span><span class="s1">a</span><span class="s0">++}</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">partialPath</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">suffixDef</span><span class="s0">:</span><span class="s1">p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">a</span><span class="s0">)});</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Pr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s2">&quot;EXIT_NONE_TERMINAL&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s2">&quot;EXIT_ALTERNATIVE&quot;</span><span class="s0">;</span><span class="s4">let </span><span class="s1">u</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">l</span><span class="s0">-</span><span class="s1">r</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=[];</span><span class="s1">h</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">idx</span><span class="s0">:-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">def</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">ruleStack</span><span class="s0">:[],</span><span class="s1">occurrenceStack</span><span class="s0">:[]});</span><span class="s4">while</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">h</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">h</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">o</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">xn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">h</span><span class="s0">).</span><span class="s1">idx</span><span class="s0">&lt;=</span><span class="s1">d</span><span class="s0">){</span><span class="s1">h</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">()}</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">def</span><span class="s0">;</span><span class="s4">const </span><span class="s1">m</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">;</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ruleStack</span><span class="s0">;</span><span class="s4">const </span><span class="s1">y</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">occurrenceStack</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">const </span><span class="s1">v</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">v</span><span class="s0">===</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">={</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">def</span><span class="s0">:</span><span class="s1">p</span><span class="s0">(</span><span class="s1">r</span><span class="s0">),</span><span class="s1">ruleStack</span><span class="s0">:</span><span class="s1">wr</span><span class="s0">(</span><span class="s1">g</span><span class="s0">),</span><span class="s1">occurrenceStack</span><span class="s0">:</span><span class="s1">wr</span><span class="s0">(</span><span class="s1">y</span><span class="s0">)};</span><span class="s1">h</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">v </span><span class="s4">instanceof </span><span class="s1">ee</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">m</span><span class="s0">&lt;</span><span class="s1">l</span><span class="s0">-</span><span class="s3">1</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">m</span><span class="s0">+</span><span class="s3">1</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">v</span><span class="s0">.</span><span class="s1">terminalType</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">def</span><span class="s0">:</span><span class="s1">p</span><span class="s0">(</span><span class="s1">r</span><span class="s0">),</span><span class="s1">ruleStack</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">occurrenceStack</span><span class="s0">:</span><span class="s1">y</span><span class="s0">};</span><span class="s1">h</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">m</span><span class="s0">===</span><span class="s1">l</span><span class="s0">-</span><span class="s3">1</span><span class="s0">){</span><span class="s1">f</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">nextTokenType</span><span class="s0">:</span><span class="s1">v</span><span class="s0">.</span><span class="s1">terminalType</span><span class="s0">,</span><span class="s1">nextTokenOccurrence</span><span class="s0">:</span><span class="s1">v</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">,</span><span class="s1">ruleStack</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">occurrenceStack</span><span class="s0">:</span><span class="s1">y</span><span class="s0">});</span><span class="s1">u</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;non exhaustive match&quot;</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">v </span><span class="s4">instanceof </span><span class="s1">W</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">g</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">v</span><span class="s0">.</span><span class="s1">nonTerminalName</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">y</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">v</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">def</span><span class="s0">:</span><span class="s1">v</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">p</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)),</span><span class="s1">ruleStack</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">occurrenceStack</span><span class="s0">:</span><span class="s1">t</span><span class="s0">};</span><span class="s1">h</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">v </span><span class="s4">instanceof </span><span class="s1">Y</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">={</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">def</span><span class="s0">:</span><span class="s1">p</span><span class="s0">(</span><span class="s1">r</span><span class="s0">),</span><span class="s1">ruleStack</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">occurrenceStack</span><span class="s0">:</span><span class="s1">y</span><span class="s0">};</span><span class="s1">h</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">h</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">def</span><span class="s0">:</span><span class="s1">v</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">p</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)),</span><span class="s1">ruleStack</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">occurrenceStack</span><span class="s0">:</span><span class="s1">y</span><span class="s0">};</span><span class="s1">h</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">v </span><span class="s4">instanceof </span><span class="s1">q</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Q</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:</span><span class="s1">v</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">v</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">});</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">v</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">([</span><span class="s1">e</span><span class="s0">],</span><span class="s1">p</span><span class="s0">(</span><span class="s1">r</span><span class="s0">));</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">def</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">ruleStack</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">occurrenceStack</span><span class="s0">:</span><span class="s1">y</span><span class="s0">};</span><span class="s1">h</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">v </span><span class="s4">instanceof </span><span class="s1">X</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">ee</span><span class="s0">({</span><span class="s1">terminalType</span><span class="s0">:</span><span class="s1">v</span><span class="s0">.</span><span class="s1">separator</span><span class="s0">});</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Q</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:[</span><span class="s1">e</span><span class="s0">].</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">v</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">),</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">v</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">});</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">v</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">([</span><span class="s1">t</span><span class="s0">],</span><span class="s1">p</span><span class="s0">(</span><span class="s1">r</span><span class="s0">));</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">def</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">ruleStack</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">occurrenceStack</span><span class="s0">:</span><span class="s1">y</span><span class="s0">};</span><span class="s1">h</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">v </span><span class="s4">instanceof </span><span class="s1">Z</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">={</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">def</span><span class="s0">:</span><span class="s1">p</span><span class="s0">(</span><span class="s1">r</span><span class="s0">),</span><span class="s1">ruleStack</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">occurrenceStack</span><span class="s0">:</span><span class="s1">y</span><span class="s0">};</span><span class="s1">h</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">h</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">ee</span><span class="s0">({</span><span class="s1">terminalType</span><span class="s0">:</span><span class="s1">v</span><span class="s0">.</span><span class="s1">separator</span><span class="s0">});</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Q</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:[</span><span class="s1">t</span><span class="s0">].</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">v</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">),</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">v</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">});</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">v</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">([</span><span class="s1">n</span><span class="s0">],</span><span class="s1">p</span><span class="s0">(</span><span class="s1">r</span><span class="s0">));</span><span class="s4">const </span><span class="s1">s</span><span class="s0">={</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">def</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">ruleStack</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">occurrenceStack</span><span class="s0">:</span><span class="s1">y</span><span class="s0">};</span><span class="s1">h</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">v </span><span class="s4">instanceof </span><span class="s1">Q</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">={</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">def</span><span class="s0">:</span><span class="s1">p</span><span class="s0">(</span><span class="s1">r</span><span class="s0">),</span><span class="s1">ruleStack</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">occurrenceStack</span><span class="s0">:</span><span class="s1">y</span><span class="s0">};</span><span class="s1">h</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">h</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Q</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:</span><span class="s1">v</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">v</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">});</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">v</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">([</span><span class="s1">t</span><span class="s0">],</span><span class="s1">p</span><span class="s0">(</span><span class="s1">r</span><span class="s0">));</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">def</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">ruleStack</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">occurrenceStack</span><span class="s0">:</span><span class="s1">y</span><span class="s0">};</span><span class="s1">h</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">v </span><span class="s4">instanceof </span><span class="s1">J</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s1">v</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">--){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">v</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">def</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">p</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)),</span><span class="s1">ruleStack</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">occurrenceStack</span><span class="s0">:</span><span class="s1">y</span><span class="s0">};</span><span class="s1">h</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">h</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">v </span><span class="s4">instanceof </span><span class="s1">z</span><span class="s0">){</span><span class="s1">h</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">def</span><span class="s0">:</span><span class="s1">v</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">p</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)),</span><span class="s1">ruleStack</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">occurrenceStack</span><span class="s0">:</span><span class="s1">y</span><span class="s0">})}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">v </span><span class="s4">instanceof </span><span class="s1">H</span><span class="s0">){</span><span class="s1">h</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Mr</span><span class="s0">(</span><span class="s1">v</span><span class="s0">,</span><span class="s1">m</span><span class="s0">,</span><span class="s1">g</span><span class="s0">,</span><span class="s1">y</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;non exhaustive match&quot;</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">f</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Mr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">def</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,</span><span class="s1">ruleStack</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">occurrenceStack</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}}</span><span class="s4">var </span><span class="s1">Dr</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;OPTION&quot;</span><span class="s0">]=</span><span class="s3">0</span><span class="s0">]=</span><span class="s2">&quot;OPTION&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;REPETITION&quot;</span><span class="s0">]=</span><span class="s3">1</span><span class="s0">]=</span><span class="s2">&quot;REPETITION&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;REPETITION_MANDATORY&quot;</span><span class="s0">]=</span><span class="s3">2</span><span class="s0">]=</span><span class="s2">&quot;REPETITION_MANDATORY&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;REPETITION_MANDATORY_WITH_SEPARATOR&quot;</span><span class="s0">]=</span><span class="s3">3</span><span class="s0">]=</span><span class="s2">&quot;REPETITION_MANDATORY_WITH_SEPARATOR&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;REPETITION_WITH_SEPARATOR&quot;</span><span class="s0">]=</span><span class="s3">4</span><span class="s0">]=</span><span class="s2">&quot;REPETITION_WITH_SEPARATOR&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;ALTERNATION&quot;</span><span class="s0">]=</span><span class="s3">5</span><span class="s0">]=</span><span class="s2">&quot;ALTERNATION&quot;</span><span class="s0">})(</span><span class="s1">Dr</span><span class="s0">||(</span><span class="s1">Dr</span><span class="s0">={}));</span><span class="s4">function </span><span class="s1">Ur</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Y</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;Option&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">OPTION</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Q</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;Repetition&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">REPETITION</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">q</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;RepetitionMandatory&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">REPETITION_MANDATORY</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">X</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;RepetitionMandatoryWithSeparator&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">REPETITION_MANDATORY_WITH_SEPARATOR</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Z</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;RepetitionWithSeparator&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">REPETITION_WITH_SEPARATOR</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">J</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;Alternation&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">ALTERNATION</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;non exhaustive match&quot;</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Fr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">occurrence</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">rule</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">prodType</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">maxLookahead</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Ur</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">ALTERNATION</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Xr</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">Qr</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Gr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">){</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Xr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">ei</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)?</span><span class="s1">In</span><span class="s0">:</span><span class="s1">wn</span><span class="s0">;</span><span class="s4">return </span><span class="s1">s</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Br</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">){</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Qr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">ei</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)?</span><span class="s1">In</span><span class="s0">:</span><span class="s1">wn</span><span class="s0">;</span><span class="s4">return </span><span class="s1">s</span><span class="s0">(</span><span class="s1">a</span><span class="s0">[</span><span class="s3">0</span><span class="s0">],</span><span class="s1">o</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Kr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">Re</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Re</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">))));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return function</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">GATE</span><span class="s0">));</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">i</span><span class="s0">&lt;</span><span class="s1">s</span><span class="s0">;</span><span class="s1">i</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">continue</span><span class="s0">}</span><span class="s1">e</span><span class="s0">:</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">s</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">s</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s1">e</span><span class="s0">+</span><span class="s3">1</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">[</span><span class="s1">e</span><span class="s0">])===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">continue </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">&amp;&amp;!</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Le</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)));</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">tt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">]=</span><span class="s1">n</span><span class="s0">}(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">categoryMatches</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">n</span><span class="s0">}}))}));</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),{});</span><span class="s4">return function</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">]}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return function</span><span class="s0">(){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">t</span><span class="s0">&lt;</span><span class="s1">s</span><span class="s0">;</span><span class="s1">t</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">e</span><span class="s0">:</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">s</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s1">e</span><span class="s0">+</span><span class="s3">1</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">e</span><span class="s0">])===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">continue </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}}</span><span class="s4">function </span><span class="s1">jr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Re</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">));</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&amp;&amp;!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Le</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">categoryMatches</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">;</span><span class="s4">return function</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">).</span><span class="s1">tokenTypeIdx</span><span class="s0">===</span><span class="s1">n</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">tt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">]=</span><span class="s4">true</span><span class="s0">;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">categoryMatches</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s4">true</span><span class="s0">}));</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),[]);</span><span class="s4">return function</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">]===</span><span class="s4">true</span><span class="s0">}}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return function</span><span class="s0">(){</span><span class="s1">e</span><span class="s0">:</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">a</span><span class="s0">;</span><span class="s1">n</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s1">e</span><span class="s0">+</span><span class="s3">1</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">[</span><span class="s1">e</span><span class="s0">])===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">continue </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">return false</span><span class="s0">}}}</span><span class="s4">class </span><span class="s1">Vr </span><span class="s4">extends </span><span class="s1">we</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">topProd</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">targetOccurrence</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">targetProdType</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s1">startWalking</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">walk</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">topProd</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">restDef</span><span class="s0">}</span><span class="s1">checkIsTarget</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">targetOccurrence</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">targetProdType</span><span class="s0">===</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">restDef</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">return false</span><span class="s0">}</span><span class="s1">walkOption</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">checkIsTarget</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">OPTION</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">super</span><span class="s0">.</span><span class="s1">walkOption</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s1">walkAtLeastOne</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">checkIsTarget</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">REPETITION_MANDATORY</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">super</span><span class="s0">.</span><span class="s1">walkOption</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s1">walkAtLeastOneSep</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">checkIsTarget</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">REPETITION_MANDATORY_WITH_SEPARATOR</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">super</span><span class="s0">.</span><span class="s1">walkOption</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s1">walkMany</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">checkIsTarget</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">REPETITION</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">super</span><span class="s0">.</span><span class="s1">walkOption</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s1">walkManySep</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">checkIsTarget</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">REPETITION_WITH_SEPARATOR</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">super</span><span class="s0">.</span><span class="s1">walkOption</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}}</span><span class="s4">class </span><span class="s1">Wr </span><span class="s4">extends </span><span class="s1">re</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">targetOccurrence</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">targetProdType</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">targetRef</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">result</span><span class="s0">=[]}</span><span class="s1">checkIsTarget</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">targetOccurrence</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">targetProdType</span><span class="s0">===</span><span class="s1">t</span><span class="s0">&amp;&amp;(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">targetRef</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">targetRef</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">result</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">}}</span><span class="s1">visitOption</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">checkIsTarget</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">OPTION</span><span class="s0">)}</span><span class="s1">visitRepetition</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">checkIsTarget</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">REPETITION</span><span class="s0">)}</span><span class="s1">visitRepetitionMandatory</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">checkIsTarget</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">REPETITION_MANDATORY</span><span class="s0">)}</span><span class="s1">visitRepetitionMandatoryWithSeparator</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">checkIsTarget</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">REPETITION_MANDATORY_WITH_SEPARATOR</span><span class="s0">)}</span><span class="s1">visitRepetitionWithSeparator</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">checkIsTarget</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">REPETITION_WITH_SEPARATOR</span><span class="s0">)}</span><span class="s1">visitAlternation</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">checkIsTarget</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">ALTERNATION</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Hr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Array</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">;</span><span class="s1">n</span><span class="s0">++){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=[]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">zr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=[</span><span class="s2">&quot;&quot;</span><span class="s0">];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">n</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">+</span><span class="s2">&quot;_&quot;</span><span class="s0">+</span><span class="s1">r</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">categoryMatches</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s2">&quot;_&quot;</span><span class="s0">+</span><span class="s1">r</span><span class="s0">.</span><span class="s1">categoryMatches</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">+</span><span class="s1">t</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Yr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s1">n</span><span class="s0">){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}}}</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">function </span><span class="s1">qr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Or</span><span class="s0">([</span><span class="s1">e</span><span class="s0">],</span><span class="s3">1</span><span class="s0">)));</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Hr</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={};(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">zr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">partialPath</span><span class="s0">);(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s4">true</span><span class="s0">}))}));</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}));</span><span class="s4">let </span><span class="s1">c</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">a</span><span class="s0">&lt;=</span><span class="s1">t</span><span class="s0">;</span><span class="s1">a</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">c</span><span class="s0">;</span><span class="s1">c</span><span class="s0">=</span><span class="s1">Hr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">n</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">u</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">u</span><span class="s0">[</span><span class="s1">e</span><span class="s0">].</span><span class="s1">partialPath</span><span class="s0">;</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">u</span><span class="s0">[</span><span class="s1">e</span><span class="s0">].</span><span class="s1">suffixDef</span><span class="s0">;</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">zr</span><span class="s0">(</span><span class="s1">l</span><span class="s0">);</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=</span><span class="s1">Yr</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">f</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">h</span><span class="s0">||(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">d</span><span class="s0">)||</span><span class="s1">l</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Zr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">l</span><span class="s0">)===</span><span class="s4">false</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">l</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">f</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">f</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s1">o</span><span class="s0">[</span><span class="s1">n</span><span class="s0">][</span><span class="s1">t</span><span class="s0">]=</span><span class="s4">true</span><span class="s0">}}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Or</span><span class="s0">(</span><span class="s1">d</span><span class="s0">,</span><span class="s1">a</span><span class="s0">+</span><span class="s3">1</span><span class="s0">,</span><span class="s1">l</span><span class="s0">);</span><span class="s1">c</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">c</span><span class="s0">[</span><span class="s1">n</span><span class="s0">].</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">zr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">partialPath</span><span class="s0">);(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s1">o</span><span class="s0">[</span><span class="s1">n</span><span class="s0">][</span><span class="s1">e</span><span class="s0">]=</span><span class="s4">true</span><span class="s0">}))}))}}}}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Xr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Wr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">ALTERNATION</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">accept</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">return </span><span class="s1">qr</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">result</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Qr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Wr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">accept</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">result</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">startWalking</span><span class="s0">();</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s4">new </span><span class="s1">z</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:</span><span class="s1">s</span><span class="s0">});</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s4">new </span><span class="s1">z</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:</span><span class="s1">o</span><span class="s0">});</span><span class="s4">return </span><span class="s1">qr</span><span class="s0">([</span><span class="s1">c</span><span class="s0">,</span><span class="s1">u</span><span class="s0">],</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Zr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s1">e</span><span class="s0">:</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">n</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">!==</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s1">i</span><span class="s0">||</span><span class="s1">i</span><span class="s0">.</span><span class="s1">categoryMatchesMap</span><span class="s0">[</span><span class="s1">n</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">continue </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Jr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&amp;&amp;</span><span class="s1">Re</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s1">r</span><span class="s0">||</span><span class="s1">r</span><span class="s0">.</span><span class="s1">categoryMatchesMap</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">]}))}</span><span class="s4">function </span><span class="s1">ei</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Re</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Re</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Re</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">categoryMatches</span><span class="s0">)))))))}</span><span class="s4">function </span><span class="s1">ti</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lookaheadStrategy</span><span class="s0">.</span><span class="s1">validate</span><span class="s0">({</span><span class="s1">rules</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">rules</span><span class="s0">,</span><span class="s1">tokenTypes</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenTypes</span><span class="s0">,</span><span class="s1">grammarName</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">grammarName</span><span class="s0">});</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Ms</span><span class="s0">.</span><span class="s1">CUSTOM_LOOKAHEAD_VALIDATION</span><span class="s0">},</span><span class="s1">e</span><span class="s0">)))}</span><span class="s4">function </span><span class="s1">ni</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">hr</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">ri</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)));</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Ai</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">hr</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">mi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)));</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">hr</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;</span><span class="s1">oi</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)));</span><span class="s4">return </span><span class="s1">i</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">ri</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">ai</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">accept</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">allProductions</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">xr</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">ii</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">L</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">));</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">o</span><span class="s0">),(</span><span class="s1">n</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">vt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">buildDuplicateFoundError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">$e</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">={</span><span class="s1">message</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Ms</span><span class="s0">.</span><span class="s1">DUPLICATE_PRODUCTIONS</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">dslName</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">occurrence</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">};</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">si</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">parameter</span><span class="s0">=</span><span class="s1">o</span><span class="s0">}</span><span class="s4">return </span><span class="s1">a</span><span class="s0">}));</span><span class="s4">return </span><span class="s1">c</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ii</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">$e</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">_#_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">}</span><span class="s2">_#_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">si</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">si</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">ee</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">terminalType</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">W</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">nonTerminalName</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s2">&quot;&quot;</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">ai </span><span class="s4">extends </span><span class="s1">re</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">...arguments</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allProductions</span><span class="s0">=[]}</span><span class="s1">visitNonTerminal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allProductions</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">visitOption</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allProductions</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">visitRepetitionWithSeparator</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allProductions</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">visitRepetitionMandatory</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allProductions</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">visitRepetitionMandatoryWithSeparator</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allProductions</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">visitRepetition</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allProductions</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">visitAlternation</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allProductions</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">visitTerminal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allProductions</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">oi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">tt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,((</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">+</span><span class="s3">1</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}),</span><span class="s3">0</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">buildDuplicateRuleNameError</span><span class="s0">({</span><span class="s1">topLevelRule</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">grammarName</span><span class="s0">:</span><span class="s1">n</span><span class="s0">});</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">message</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Ms</span><span class="s0">.</span><span class="s1">DUPLICATE_RULE_NAME</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">})}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ci</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=[];</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">me</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">=</span><span class="s2">`Invalid rule override, rule: -&gt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&lt;- cannot be overridden in the grammar: -&gt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&lt;-`</span><span class="s0">+</span><span class="s2">`as it is not defined in any of the super grammars `</span><span class="s0">;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">message</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Ms</span><span class="s0">.</span><span class="s1">INVALID_RULE_OVERRIDE</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s1">e</span><span class="s0">})}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ui</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=[]){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">li</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">a</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">[]}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">me</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">message</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">buildLeftRecursionError</span><span class="s0">({</span><span class="s1">topLevelRule</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">leftRecursionPath</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}),</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Ms</span><span class="s0">.</span><span class="s1">LEFT_RECURSION</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">pt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">([</span><span class="s1">e</span><span class="s0">]));</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">hr</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">o</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">ui</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}));</span><span class="s4">return </span><span class="s1">i</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">li</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">vt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">W</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">referencedRule</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">z</span><span class="s0">||</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">Y</span><span class="s0">||</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">q</span><span class="s0">||</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">X</span><span class="s0">||</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">Z</span><span class="s0">||</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">Q</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">li</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">))}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">J</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Le</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">li</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">))))}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">ee</span><span class="s0">){}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;non exhaustive match&quot;</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">ke</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">li</span><span class="s0">(</span><span class="s1">n</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">di </span><span class="s4">extends </span><span class="s1">re</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">...arguments</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">alternations</span><span class="s0">=[]}</span><span class="s1">visitAlternation</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">alternations</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">fi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">di</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">accept</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">alternations</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">hr</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">,(</span><span class="s1">n</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">wr</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">);</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">hr</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">,((</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Pr</span><span class="s0">([</span><span class="s1">r</span><span class="s0">],[],</span><span class="s1">wn</span><span class="s0">,</span><span class="s3">1</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">a</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">[{</span><span class="s1">message</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">buildEmptyAlternationError</span><span class="s0">({</span><span class="s1">topLevelRule</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">alternation</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">emptyChoiceIdx</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}),</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Ms</span><span class="s0">.</span><span class="s1">NONE_LAST_EMPTY_ALT</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">occurrence</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">,</span><span class="s1">alternative</span><span class="s0">:</span><span class="s1">i</span><span class="s0">+</span><span class="s3">1</span><span class="s0">}]}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">[]}}))}));</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">hi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">new </span><span class="s1">di</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">accept</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">alternations</span><span class="s0">;</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Xe</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ignoreAmbiguities</span><span class="s0">===</span><span class="s4">true</span><span class="s0">));</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">hr</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">,(</span><span class="s1">r</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">||</span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Xr</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">yi</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">vi</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">o</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)}));</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">class </span><span class="s1">pi </span><span class="s4">extends </span><span class="s1">re</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">...arguments</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allProductions</span><span class="s0">=[]}</span><span class="s1">visitRepetitionWithSeparator</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allProductions</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">visitRepetitionMandatory</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allProductions</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">visitRepetitionMandatoryWithSeparator</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allProductions</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">visitRepetition</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allProductions</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">mi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">di</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">accept</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">alternations</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">hr</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">,(</span><span class="s1">n</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">255</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[{</span><span class="s1">message</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">buildTooManyAlternativesError</span><span class="s0">({</span><span class="s1">topLevelRule</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">alternation</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}),</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Ms</span><span class="s0">.</span><span class="s1">TOO_MANY_ALTS</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">occurrence</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">}]}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">[]}}));</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">gi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[];(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s4">new </span><span class="s1">pi</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">accept</span><span class="s0">(</span><span class="s1">a</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">allProductions</span><span class="s0">;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">o</span><span class="s0">,(</span><span class="s1">r</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Ur</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">||</span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">Qr</span><span class="s0">(</span><span class="s1">c</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">u</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Le</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">l</span><span class="s0">))){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">buildEmptyRepetitionError</span><span class="s0">({</span><span class="s1">topLevelRule</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">repetition</span><span class="s0">:</span><span class="s1">r</span><span class="s0">});</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">message</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Ms</span><span class="s0">.</span><span class="s1">NO_NON_EMPTY_LOOKAHEAD</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">})}}))}));</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">yi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">tt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">a</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">[</span><span class="s1">a</span><span class="s0">].</span><span class="s1">ignoreAmbiguities</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">,(</span><span class="s1">i</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=[</span><span class="s1">a</span><span class="s0">];(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">Zr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">[</span><span class="s1">n</span><span class="s0">].</span><span class="s1">ignoreAmbiguities</span><span class="s0">!==</span><span class="s4">true</span><span class="s0">){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">&amp;&amp;!</span><span class="s1">Zr</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">alts</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">path</span><span class="s0">:</span><span class="s1">i</span><span class="s0">})}}));</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}),[]);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">o</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">alts</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">+</span><span class="s3">1</span><span class="s0">));</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">buildAlternationAmbiguityError</span><span class="s0">({</span><span class="s1">topLevelRule</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">alternation</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">ambiguityIndices</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">prefixPath</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">});</span><span class="s4">return</span><span class="s0">{</span><span class="s1">message</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Ms</span><span class="s0">.</span><span class="s1">AMBIGUOUS_ALTS</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">occurrence</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">,</span><span class="s1">alternatives</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">alts</span><span class="s0">}}));</span><span class="s4">return </span><span class="s1">c</span><span class="s0">}</span><span class="s4">function </span><span class="s1">vi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">tt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;({</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">path</span><span class="s0">:</span><span class="s1">e</span><span class="s0">})));</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}),[]);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">gt</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">hr</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">ignoreAmbiguities</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[]}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">nt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">].</span><span class="s1">ignoreAmbiguities</span><span class="s0">!==</span><span class="s4">true</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">&lt;</span><span class="s1">o</span><span class="s0">&amp;&amp;</span><span class="s1">Jr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">,</span><span class="s1">c</span><span class="s0">)));</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">u</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">+</span><span class="s3">1</span><span class="s0">,</span><span class="s1">o</span><span class="s0">+</span><span class="s3">1</span><span class="s0">];</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">===</span><span class="s3">0</span><span class="s0">?</span><span class="s2">&quot;&quot;</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">buildAlternationPrefixAmbiguityError</span><span class="s0">({</span><span class="s1">topLevelRule</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">alternation</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">ambiguityIndices</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">prefixPath</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">});</span><span class="s4">return</span><span class="s0">{</span><span class="s1">message</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Ms</span><span class="s0">.</span><span class="s1">AMBIGUOUS_PREFIX_ALTS</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">occurrence</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">alternatives</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}}));</span><span class="s4">return </span><span class="s1">l</span><span class="s0">})));</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ai</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">));(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">me</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">buildNamespaceConflictError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">message</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Ms</span><span class="s0">.</span><span class="s1">CONFLICT_TOKENS_RULES_NAMESPACE</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})}}));</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ti</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">je</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">errMsgProvider</span><span class="s0">:</span><span class="s1">ur</span><span class="s0">});</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={};(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">rules</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">}));</span><span class="s4">return </span><span class="s1">dr</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">errMsgProvider</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Ri</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">je</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">errMsgProvider</span><span class="s0">:</span><span class="s1">lr</span><span class="s0">});</span><span class="s4">return </span><span class="s1">ni</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">rules</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenTypes</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">errMsgProvider</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">grammarName</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">Ei</span><span class="s0">=</span><span class="s2">&quot;MismatchedTokenException&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">ki</span><span class="s0">=</span><span class="s2">&quot;NoViableAltException&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">xi</span><span class="s0">=</span><span class="s2">&quot;EarlyExitException&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">$i</span><span class="s0">=</span><span class="s2">&quot;NotAllInputParsedException&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">wi</span><span class="s0">=[</span><span class="s1">Ei</span><span class="s0">,</span><span class="s1">ki</span><span class="s0">,</span><span class="s1">xi</span><span class="s0">,</span><span class="s1">$i</span><span class="s0">];</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">(</span><span class="s1">wi</span><span class="s0">);</span><span class="s4">function </span><span class="s1">Ii</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">me</span><span class="s0">(</span><span class="s1">wi</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">)}</span><span class="s4">class </span><span class="s1">Si </span><span class="s4">extends </span><span class="s1">Error</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">token</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">resyncedTokens</span><span class="s0">=[];</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">setPrototypeOf</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s4">new</span><span class="s0">.</span><span class="s1">target</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Error</span><span class="s0">.</span><span class="s1">captureStackTrace</span><span class="s0">){</span><span class="s1">Error</span><span class="s0">.</span><span class="s1">captureStackTrace</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">constructor</span><span class="s0">)}}}</span><span class="s4">class </span><span class="s1">Ci </span><span class="s4">extends </span><span class="s1">Si</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">previousToken</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s1">Ei</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Ni </span><span class="s4">extends </span><span class="s1">Si</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">previousToken</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s1">ki</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Li </span><span class="s4">extends </span><span class="s1">Si</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s1">$i</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">bi </span><span class="s4">extends </span><span class="s1">Si</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">previousToken</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s1">xi</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">_i</span><span class="s0">={};</span><span class="s4">const </span><span class="s1">Oi</span><span class="s0">=</span><span class="s2">&quot;InRuleRecoveryException&quot;</span><span class="s0">;</span><span class="s4">class </span><span class="s1">Pi </span><span class="s4">extends </span><span class="s1">Error</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s1">Oi</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Mi</span><span class="s0">{</span><span class="s1">initRecoverable</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">firstAfterRepMap</span><span class="s0">={};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">resyncFollows</span><span class="s0">={};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recoveryEnabled</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;recoveryEnabled&quot;</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">recoveryEnabled</span><span class="s0">:</span><span class="s1">Os</span><span class="s0">.</span><span class="s1">recoveryEnabled</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recoveryEnabled</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">attemptInRepetitionRecovery</span><span class="s0">=</span><span class="s1">Di</span><span class="s0">}}</span><span class="s1">getTokenToInsert</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">NaN</span><span class="s0">,</span><span class="s1">NaN</span><span class="s0">,</span><span class="s1">NaN</span><span class="s0">,</span><span class="s1">NaN</span><span class="s0">,</span><span class="s1">NaN</span><span class="s0">,</span><span class="s1">NaN</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">isInsertedInRecovery</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">canTokenTypeBeInsertedInRecovery</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s1">canTokenTypeBeDeletedInRecovery</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s1">tryInRepetitionRecovery</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">findReSyncTokenType</span><span class="s0">();</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">exportLexerState</span><span class="s0">();</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=[];</span><span class="s4">let </span><span class="s1">o</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s4">let </span><span class="s1">u</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=()=&gt;{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">0</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorMessageProvider</span><span class="s0">.</span><span class="s1">buildMismatchTokenMessage</span><span class="s0">({</span><span class="s1">expected</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">actual</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">previous</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getCurrRuleFullName</span><span class="s0">()});</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Ci</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">c</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">0</span><span class="s0">));</span><span class="s1">n</span><span class="s0">.</span><span class="s1">resyncedTokens</span><span class="s0">=</span><span class="s1">wr</span><span class="s0">(</span><span class="s1">a</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">SAVE_ERROR</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)};</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">o</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenMatcher</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">l</span><span class="s0">();</span><span class="s4">return</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)){</span><span class="s1">l</span><span class="s0">();</span><span class="s1">e</span><span class="s0">.</span><span class="s1">apply</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenMatcher</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">o</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">u</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">SKIP_TOKEN</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addToResyncTokens</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">a</span><span class="s0">)}}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">importLexerState</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}</span><span class="s1">shouldInRepetitionRecoveryBeTried</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenMatcher</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">),</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isBackTracking</span><span class="s0">()){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">canPerformInRuleRecovery</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getFollowsForInRuleRecovery</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">))){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">return true</span><span class="s0">}</span><span class="s1">getFollowsForInRuleRecovery</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getCurrentGrammarPath</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getNextPossibleTokenTypes</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">tryInRuleRecovery</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">canRecoverWithSingleTokenInsertion</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getTokenToInsert</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">canRecoverWithSingleTokenDeletion</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">SKIP_TOKEN</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeToken</span><span class="s0">();</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">throw new </span><span class="s1">Pi</span><span class="s0">(</span><span class="s2">&quot;sad sad panda&quot;</span><span class="s0">)}</span><span class="s1">canPerformInRuleRecovery</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">canRecoverWithSingleTokenInsertion</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)||</span><span class="s4">this</span><span class="s0">.</span><span class="s1">canRecoverWithSingleTokenDeletion</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">canRecoverWithSingleTokenInsertion</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">canTokenTypeBeInsertedInRecovery</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">At</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenMatcher</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)))!==</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">canRecoverWithSingleTokenDeletion</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">canTokenTypeBeDeletedInRecovery</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenMatcher</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">2</span><span class="s0">),</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">isInCurrentRuleReSyncSet</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getCurrFollowKey</span><span class="s0">();</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getFollowSetFromFollowKey</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">me</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">findReSyncTokenType</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">flattenFollowSet</span><span class="s0">();</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s3">2</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s4">true</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">At</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">or</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">n</span><span class="s0">++}}</span><span class="s1">getCurrFollowKey</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_STACK</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return </span><span class="s1">_i</span><span class="s0">}</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getLastExplicitRuleShortName</span><span class="s0">();</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getLastExplicitRuleOccurrenceIndex</span><span class="s0">();</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getPreviousExplicitRuleShortName</span><span class="s0">();</span><span class="s4">return</span><span class="s0">{</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">shortRuleNameToFullName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">idxInCallingRule</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">inRule</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">shortRuleNameToFullName</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}</span><span class="s1">buildFullFollowKeyStack</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_STACK</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_OCCURRENCE_STACK</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">_i</span><span class="s0">}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">shortRuleNameToFullName</span><span class="s0">(</span><span class="s1">n</span><span class="s0">),</span><span class="s1">idxInCallingRule</span><span class="s0">:</span><span class="s1">t</span><span class="s0">[</span><span class="s1">r</span><span class="s0">],</span><span class="s1">inRule</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">shortRuleNameToFullName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">r</span><span class="s0">-</span><span class="s3">1</span><span class="s0">])}}))}</span><span class="s1">flattenFollowSet</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildFullFollowKeyStack</span><span class="s0">(),(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getFollowSetFromFollowKey</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)));</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Le</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">getFollowSetFromFollowKey</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">_i</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">sr</span><span class="s0">]}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ruleName</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">idxInCallingRule</span><span class="s0">+</span><span class="s1">Me</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">inRule</span><span class="s0">;</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">resyncFollows</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]}</span><span class="s1">addToResyncTokens</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenMatcher</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">sr</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">reSyncTo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s4">while</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenMatcher</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)===</span><span class="s4">false</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">SKIP_TOKEN</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addToResyncTokens</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">wr</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">attemptInRepetitionRecovery</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">a</span><span class="s0">){}</span><span class="s1">getCurrentGrammarPath</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getHumanReadableRuleStack</span><span class="s0">();</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_OCCURRENCE_STACK</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={</span><span class="s1">ruleStack</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">occurrenceStack</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">lastTok</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">lastTokOccurrence</span><span class="s0">:</span><span class="s1">t</span><span class="s0">};</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s1">getHumanReadableRuleStack</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_STACK</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">shortRuleNameToFullName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)))}}</span><span class="s4">function </span><span class="s1">Di</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">a</span><span class="s0">){</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getKeyForAutomaticLookahead</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">let </span><span class="s1">c</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">firstAfterRepMap</span><span class="s0">[</span><span class="s1">o</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getCurrRuleFullName</span><span class="s0">();</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getGAstProductions</span><span class="s0">()[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">s</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s1">c</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">startWalking</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">firstAfterRepMap</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]=</span><span class="s1">c</span><span class="s0">}</span><span class="s4">let </span><span class="s1">u</span><span class="s0">=</span><span class="s1">c</span><span class="s0">.</span><span class="s1">token</span><span class="s0">;</span><span class="s4">let </span><span class="s1">l</span><span class="s0">=</span><span class="s1">c</span><span class="s0">.</span><span class="s1">occurrence</span><span class="s0">;</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">c</span><span class="s0">.</span><span class="s1">isEndOfRule</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_STACK</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">&amp;&amp;</span><span class="s1">d</span><span class="s0">&amp;&amp;</span><span class="s1">u</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">u</span><span class="s0">=</span><span class="s1">sr</span><span class="s0">;</span><span class="s1">l</span><span class="s0">=</span><span class="s3">1</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">l</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">shouldInRepetitionRecoveryBeTried</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">l</span><span class="s0">,</span><span class="s1">a</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tryInRepetitionRecovery</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">u</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">Ui</span><span class="s0">=</span><span class="s3">4</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Fi</span><span class="s0">=</span><span class="s3">8</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Gi</span><span class="s0">=</span><span class="s3">12</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Bi</span><span class="s0">=</span><span class="s3">8</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Ki</span><span class="s0">=</span><span class="s3">1</span><span class="s0">&lt;&lt;</span><span class="s1">Fi</span><span class="s0">;</span><span class="s4">const </span><span class="s1">ji</span><span class="s0">=</span><span class="s3">2</span><span class="s0">&lt;&lt;</span><span class="s1">Fi</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Vi</span><span class="s0">=</span><span class="s3">3</span><span class="s0">&lt;&lt;</span><span class="s1">Fi</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Wi</span><span class="s0">=</span><span class="s3">4</span><span class="s0">&lt;&lt;</span><span class="s1">Fi</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Hi</span><span class="s0">=</span><span class="s3">5</span><span class="s0">&lt;&lt;</span><span class="s1">Fi</span><span class="s0">;</span><span class="s4">const </span><span class="s1">zi</span><span class="s0">=</span><span class="s3">6</span><span class="s0">&lt;&lt;</span><span class="s1">Fi</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Yi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">|</span><span class="s1">t</span><span class="s0">|</span><span class="s1">e</span><span class="s0">}</span><span class="s4">const </span><span class="s1">qi</span><span class="s0">=</span><span class="s3">32</span><span class="s0">-</span><span class="s1">Bi</span><span class="s0">;</span><span class="s4">class </span><span class="s1">Xi</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">Os</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">}</span><span class="s1">validate</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">validateNoLeftRecursion</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">rules</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">validateEmptyOrAlternatives</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">rules</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">validateAmbiguousAlternationAlternatives</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">rules</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">validateSomeNonEmptyLookaheadPath</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">rules</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=[</span><span class="s1">...t</span><span class="s0">,</span><span class="s1">...n</span><span class="s0">,</span><span class="s1">...r</span><span class="s0">,</span><span class="s1">...i</span><span class="s0">];</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">validateNoLeftRecursion</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">hr</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">ui</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">lr</span><span class="s0">)))}</span><span class="s1">validateEmptyOrAlternatives</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">hr</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">fi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">lr</span><span class="s0">)))}</span><span class="s1">validateAmbiguousAlternationAlternatives</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">hr</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">hi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">lr</span><span class="s0">)))}</span><span class="s1">validateSomeNonEmptyLookaheadPath</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">gi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">lr</span><span class="s0">)}</span><span class="s1">buildLookaheadForAlternation</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Gr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">prodOccurrence</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">hasPredicates</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">dynamicTokensEnabled</span><span class="s0">,</span><span class="s1">Kr</span><span class="s0">)}</span><span class="s1">buildLookaheadForOptional</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Br</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">prodOccurrence</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">dynamicTokensEnabled</span><span class="s0">,</span><span class="s1">Ur</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">prodType</span><span class="s0">),</span><span class="s1">jr</span><span class="s0">)}}</span><span class="s4">class </span><span class="s1">Qi</span><span class="s0">{</span><span class="s1">initLooksAhead</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dynamicTokensEnabled</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;dynamicTokensEnabled&quot;</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">dynamicTokensEnabled</span><span class="s0">:</span><span class="s1">Os</span><span class="s0">.</span><span class="s1">dynamicTokensEnabled</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;maxLookahead&quot;</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">:</span><span class="s1">Os</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lookaheadStrategy</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;lookaheadStrategy&quot;</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lookaheadStrategy</span><span class="s0">:</span><span class="s4">new </span><span class="s1">Xi</span><span class="s0">({</span><span class="s1">maxLookahead</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">});</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lookAheadFuncsCache</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">}</span><span class="s1">preComputeLookaheadFunctions</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">} </span><span class="s2">Rule Lookahead`</span><span class="s0">,(()=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">alternation</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">repetition</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">option</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">repetitionMandatory</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">repetitionMandatoryWithSeparator</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">repetitionWithSeparator</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">es</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">===</span><span class="s3">0</span><span class="s0">?</span><span class="s2">&quot;&quot;</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">$e</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">,(()=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lookaheadStrategy</span><span class="s0">.</span><span class="s1">buildLookaheadForAlternation</span><span class="s0">({</span><span class="s1">prodOccurrence</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">,</span><span class="s1">rule</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">maxLookahead</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">||</span><span class="s4">this</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">,</span><span class="s1">hasPredicates</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">hasPredicates</span><span class="s0">,</span><span class="s1">dynamicTokensEnabled</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dynamicTokensEnabled</span><span class="s0">});</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Yi</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fullRuleNameToShort</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">],</span><span class="s1">Ki</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setLaFuncCache</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}))}));(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">computeLookaheadFunc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">,</span><span class="s1">Vi</span><span class="s0">,</span><span class="s2">&quot;Repetition&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">,</span><span class="s1">$e</span><span class="s0">(</span><span class="s1">t</span><span class="s0">))}));(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">computeLookaheadFunc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">,</span><span class="s1">ji</span><span class="s0">,</span><span class="s2">&quot;Option&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">,</span><span class="s1">$e</span><span class="s0">(</span><span class="s1">t</span><span class="s0">))}));(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">s</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">computeLookaheadFunc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">,</span><span class="s1">Wi</span><span class="s0">,</span><span class="s2">&quot;RepetitionMandatory&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">,</span><span class="s1">$e</span><span class="s0">(</span><span class="s1">t</span><span class="s0">))}));(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">a</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">computeLookaheadFunc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">,</span><span class="s1">zi</span><span class="s0">,</span><span class="s2">&quot;RepetitionMandatoryWithSeparator&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">,</span><span class="s1">$e</span><span class="s0">(</span><span class="s1">t</span><span class="s0">))}));(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">o</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">computeLookaheadFunc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">,</span><span class="s1">Hi</span><span class="s0">,</span><span class="s2">&quot;RepetitionWithSeparator&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">,</span><span class="s1">$e</span><span class="s0">(</span><span class="s1">t</span><span class="s0">))}))}))}))}</span><span class="s1">computeLookaheadFunc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">===</span><span class="s3">0</span><span class="s0">?</span><span class="s2">&quot;&quot;</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">,(()=&gt;{</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lookaheadStrategy</span><span class="s0">.</span><span class="s1">buildLookaheadForOptional</span><span class="s0">({</span><span class="s1">prodOccurrence</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">rule</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">maxLookahead</span><span class="s0">:</span><span class="s1">i</span><span class="s0">||</span><span class="s4">this</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">,</span><span class="s1">dynamicTokensEnabled</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dynamicTokensEnabled</span><span class="s0">,</span><span class="s1">prodType</span><span class="s0">:</span><span class="s1">r</span><span class="s0">});</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Yi</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fullRuleNameToShort</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">],</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setLaFuncCache</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}))}</span><span class="s1">getKeyForAutomaticLookahead</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getLastExplicitRuleShortName</span><span class="s0">();</span><span class="s4">return </span><span class="s1">Yi</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">getLaFuncFromCache</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">lookAheadFuncsCache</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">setLaFuncCache</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lookAheadFuncsCache</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">class </span><span class="s1">Zi </span><span class="s4">extends </span><span class="s1">re</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">...arguments</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dslMethods</span><span class="s0">={</span><span class="s1">option</span><span class="s0">:[],</span><span class="s1">alternation</span><span class="s0">:[],</span><span class="s1">repetition</span><span class="s0">:[],</span><span class="s1">repetitionWithSeparator</span><span class="s0">:[],</span><span class="s1">repetitionMandatory</span><span class="s0">:[],</span><span class="s1">repetitionMandatoryWithSeparator</span><span class="s0">:[]}}</span><span class="s1">reset</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dslMethods</span><span class="s0">={</span><span class="s1">option</span><span class="s0">:[],</span><span class="s1">alternation</span><span class="s0">:[],</span><span class="s1">repetition</span><span class="s0">:[],</span><span class="s1">repetitionWithSeparator</span><span class="s0">:[],</span><span class="s1">repetitionMandatory</span><span class="s0">:[],</span><span class="s1">repetitionMandatoryWithSeparator</span><span class="s0">:[]}}</span><span class="s1">visitOption</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dslMethods</span><span class="s0">.</span><span class="s1">option</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">visitRepetitionWithSeparator</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dslMethods</span><span class="s0">.</span><span class="s1">repetitionWithSeparator</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">visitRepetitionMandatory</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dslMethods</span><span class="s0">.</span><span class="s1">repetitionMandatory</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">visitRepetitionMandatoryWithSeparator</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dslMethods</span><span class="s0">.</span><span class="s1">repetitionMandatoryWithSeparator</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">visitRepetition</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dslMethods</span><span class="s0">.</span><span class="s1">repetition</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">visitAlternation</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dslMethods</span><span class="s0">.</span><span class="s1">alternation</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">Ji</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Zi</span><span class="s0">;</span><span class="s4">function </span><span class="s1">es</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">Ji</span><span class="s0">.</span><span class="s1">reset</span><span class="s0">();</span><span class="s1">e</span><span class="s0">.</span><span class="s1">accept</span><span class="s0">(</span><span class="s1">Ji</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Ji</span><span class="s0">.</span><span class="s1">dslMethods</span><span class="s0">;</span><span class="s1">Ji</span><span class="s0">.</span><span class="s1">reset</span><span class="s0">();</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ts</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">isNaN</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">)===</span><span class="s4">true</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endOffset</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">endOffset</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endOffset</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">endOffset</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endOffset</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">endOffset</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">ns</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">isNaN</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">)===</span><span class="s4">true</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startColumn</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">startColumn</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startLine</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">startLine</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endOffset</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">endOffset</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endColumn</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">endColumn</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endLine</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">endLine</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endOffset</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">endOffset</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endOffset</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">endOffset</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endColumn</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">endColumn</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endLine</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">endLine</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">rs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=[</span><span class="s1">t</span><span class="s0">]}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">[</span><span class="s1">n</span><span class="s0">].</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">is</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=[</span><span class="s1">n</span><span class="s0">]}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">[</span><span class="s1">t</span><span class="s0">].</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">ss</span><span class="s0">=</span><span class="s2">&quot;name&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s0">as(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">ss</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">configurable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">writable</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})}</span><span class="s4">function </span><span class="s1">os</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">R</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">i</span><span class="s0">&lt;</span><span class="s1">r</span><span class="s0">;</span><span class="s1">i</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">a</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">this</span><span class="s0">[</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">](</span><span class="s1">n</span><span class="s0">.</span><span class="s1">children</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}}}</span><span class="s4">function </span><span class="s1">cs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(){};as(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">+</span><span class="s2">&quot;BaseSemantics&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">={</span><span class="s1">visit</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Be</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return this</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">](</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)},</span><span class="s1">validateVisitor</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">ds</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">msg</span><span class="s0">));</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Errors Detected in CST Visitor &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">constructor</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">&gt;:</span><span class="s4">\n\t</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\n\n</span><span class="s2">&quot;</span><span class="s0">).</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/\n/g</span><span class="s0">,</span><span class="s2">&quot;</span><span class="s4">\n\t</span><span class="s2">&quot;</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">)}}};</span><span class="s1">n</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">constructor</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">_RULE_NAMES</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">us</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(){};as(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">e</span><span class="s0">+</span><span class="s2">&quot;BaseSemanticsWithDefaults&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">);(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s1">s</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">os</span><span class="s0">}));</span><span class="s1">i</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">=</span><span class="s1">s</span><span class="s0">;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">constructor</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">var </span><span class="s1">ls</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;REDUNDANT_METHOD&quot;</span><span class="s0">]=</span><span class="s3">0</span><span class="s0">]=</span><span class="s2">&quot;REDUNDANT_METHOD&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;MISSING_METHOD&quot;</span><span class="s0">]=</span><span class="s3">1</span><span class="s0">]=</span><span class="s2">&quot;MISSING_METHOD&quot;</span><span class="s0">})(</span><span class="s1">ls</span><span class="s0">||(</span><span class="s1">ls</span><span class="s0">={}));</span><span class="s4">function </span><span class="s1">ds</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">fs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">fs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">nt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Qe</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">])===</span><span class="s4">false</span><span class="s0">));</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;({</span><span class="s1">msg</span><span class="s0">:</span><span class="s2">`Missing visitor method: &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">&gt; on </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">constructor</span><span class="s0">.</span><span class="s1">name</span><span class="s0">} </span><span class="s2">CST Visitor.`</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">ls</span><span class="s0">.</span><span class="s1">MISSING_METHOD</span><span class="s0">,</span><span class="s1">methodName</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})));</span><span class="s4">return </span><span class="s1">gt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">class </span><span class="s1">hs</span><span class="s0">{</span><span class="s1">initTreeBuilder</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">CST_STACK</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">outputCst</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">outputCst</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeLocationTracking</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;nodeLocationTracking&quot;</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">nodeLocationTracking</span><span class="s0">:</span><span class="s1">Os</span><span class="s0">.</span><span class="s1">nodeLocationTracking</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">outputCst</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cstInvocationStateUpdate</span><span class="s0">=</span><span class="s1">kn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cstFinallyStateUpdate</span><span class="s0">=</span><span class="s1">kn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cstPostTerminal</span><span class="s0">=</span><span class="s1">kn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cstPostNonTerminal</span><span class="s0">=</span><span class="s1">kn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cstPostRule</span><span class="s0">=</span><span class="s1">kn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s5">/full/i</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeLocationTracking</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recoveryEnabled</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setNodeLocationFromToken</span><span class="s0">=</span><span class="s1">ns</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setNodeLocationFromNode</span><span class="s0">=</span><span class="s1">ns</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cstPostRule</span><span class="s0">=</span><span class="s1">kn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setInitialNodeLocation</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setInitialNodeLocationFullRecovery</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setNodeLocationFromToken</span><span class="s0">=</span><span class="s1">kn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setNodeLocationFromNode</span><span class="s0">=</span><span class="s1">kn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cstPostRule</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cstPostRuleFull</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setInitialNodeLocation</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setInitialNodeLocationFullRegular</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s5">/onlyOffset/i</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeLocationTracking</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recoveryEnabled</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setNodeLocationFromToken</span><span class="s0">=</span><span class="s1">ts</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setNodeLocationFromNode</span><span class="s0">=</span><span class="s1">ts</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cstPostRule</span><span class="s0">=</span><span class="s1">kn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setInitialNodeLocation</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setInitialNodeLocationOnlyOffsetRecovery</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setNodeLocationFromToken</span><span class="s0">=</span><span class="s1">kn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setNodeLocationFromNode</span><span class="s0">=</span><span class="s1">kn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cstPostRule</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cstPostRuleOnlyOffset</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setInitialNodeLocation</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setInitialNodeLocationOnlyOffsetRegular</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s5">/none/i</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeLocationTracking</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setNodeLocationFromToken</span><span class="s0">=</span><span class="s1">kn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setNodeLocationFromNode</span><span class="s0">=</span><span class="s1">kn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cstPostRule</span><span class="s0">=</span><span class="s1">kn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setInitialNodeLocation</span><span class="s0">=</span><span class="s1">kn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Invalid &lt;nodeLocationTracking&gt; config option: &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">nodeLocationTracking</span><span class="s0">}</span><span class="s2">&quot;`</span><span class="s0">)}}}</span><span class="s1">setInitialNodeLocationOnlyOffsetRecovery</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">location</span><span class="s0">={</span><span class="s1">startOffset</span><span class="s0">:</span><span class="s1">NaN</span><span class="s0">,</span><span class="s1">endOffset</span><span class="s0">:</span><span class="s1">NaN</span><span class="s0">}}</span><span class="s1">setInitialNodeLocationOnlyOffsetRegular</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">location</span><span class="s0">={</span><span class="s1">startOffset</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">).</span><span class="s1">startOffset</span><span class="s0">,</span><span class="s1">endOffset</span><span class="s0">:</span><span class="s1">NaN</span><span class="s0">}}</span><span class="s1">setInitialNodeLocationFullRecovery</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">location</span><span class="s0">={</span><span class="s1">startOffset</span><span class="s0">:</span><span class="s1">NaN</span><span class="s0">,</span><span class="s1">startLine</span><span class="s0">:</span><span class="s1">NaN</span><span class="s0">,</span><span class="s1">startColumn</span><span class="s0">:</span><span class="s1">NaN</span><span class="s0">,</span><span class="s1">endOffset</span><span class="s0">:</span><span class="s1">NaN</span><span class="s0">,</span><span class="s1">endLine</span><span class="s0">:</span><span class="s1">NaN</span><span class="s0">,</span><span class="s1">endColumn</span><span class="s0">:</span><span class="s1">NaN</span><span class="s0">}}</span><span class="s1">setInitialNodeLocationFullRegular</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">location</span><span class="s0">={</span><span class="s1">startOffset</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">,</span><span class="s1">startLine</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">startLine</span><span class="s0">,</span><span class="s1">startColumn</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">startColumn</span><span class="s0">,</span><span class="s1">endOffset</span><span class="s0">:</span><span class="s1">NaN</span><span class="s0">,</span><span class="s1">endLine</span><span class="s0">:</span><span class="s1">NaN</span><span class="s0">,</span><span class="s1">endColumn</span><span class="s0">:</span><span class="s1">NaN</span><span class="s0">}}</span><span class="s1">cstInvocationStateUpdate</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">children</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s4">null</span><span class="s0">)};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setInitialNodeLocation</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">CST_STACK</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">cstFinallyStateUpdate</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">CST_STACK</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">()}</span><span class="s1">cstPostRuleFull</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">0</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">location</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">&lt;=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">endOffset</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">endOffset</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">endLine</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">endLine</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">endColumn</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">endColumn</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">=</span><span class="s1">NaN</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">startLine</span><span class="s0">=</span><span class="s1">NaN</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">startColumn</span><span class="s0">=</span><span class="s1">NaN</span><span class="s0">}}</span><span class="s1">cstPostRuleOnlyOffset</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">0</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">location</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">&lt;=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">endOffset</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">endOffset</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">=</span><span class="s1">NaN</span><span class="s0">}}</span><span class="s1">cstPostTerminal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">CST_STACK</span><span class="s0">[</span><span class="s4">this</span><span class="s0">.</span><span class="s1">CST_STACK</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">];</span><span class="s1">rs</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setNodeLocationFromToken</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">location</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">cstPostNonTerminal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">CST_STACK</span><span class="s0">[</span><span class="s4">this</span><span class="s0">.</span><span class="s1">CST_STACK</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">];</span><span class="s1">is</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setNodeLocationFromNode</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">location</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">location</span><span class="s0">)}</span><span class="s1">getBaseCstVisitorConstructor</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Be</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">baseCstVisitorConstructor</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">cs</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">className</span><span class="s0">,(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">R</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">gastProductionsCache</span><span class="s0">));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">baseCstVisitorConstructor</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">baseCstVisitorConstructor</span><span class="s0">}</span><span class="s1">getBaseCstVisitorConstructorWithDefaults</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Be</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">baseCstVisitorWithDefaultsConstructor</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">us</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">className</span><span class="s0">,(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">R</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">gastProductionsCache</span><span class="s0">),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getBaseCstVisitorConstructor</span><span class="s0">());</span><span class="s4">this</span><span class="s0">.</span><span class="s1">baseCstVisitorWithDefaultsConstructor</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">baseCstVisitorWithDefaultsConstructor</span><span class="s0">}</span><span class="s1">getLastExplicitRuleShortName</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_STACK</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">]}</span><span class="s1">getPreviousExplicitRuleShortName</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_STACK</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">2</span><span class="s0">]}</span><span class="s1">getLastExplicitRuleOccurrenceIndex</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_OCCURRENCE_STACK</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">]}}</span><span class="s4">class </span><span class="s1">ps</span><span class="s0">{</span><span class="s1">initLexerAdapter</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokVector</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokVectorLength</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currIdx</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">}</span><span class="s1">set input</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">selfAnalysisDone</span><span class="s0">!==</span><span class="s4">true</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Missing &lt;performSelfAnalysis&gt; invocation at the end of the Parser's constructor.`</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">reset</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokVector</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokVectorLength</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">}</span><span class="s1">get input</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">tokVector</span><span class="s0">}</span><span class="s1">SKIP_TOKEN</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currIdx</span><span class="s0">&lt;=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokVector</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">2</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeToken</span><span class="s0">();</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">_s</span><span class="s0">}}</span><span class="s1">LA</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currIdx</span><span class="s0">+</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&lt;</span><span class="s3">0</span><span class="s0">||</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokVectorLength</span><span class="s0">&lt;=</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">_s</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">tokVector</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]}}</span><span class="s1">consumeToken</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currIdx</span><span class="s0">++}</span><span class="s1">exportLexerState</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">currIdx</span><span class="s0">}</span><span class="s1">importLexerState</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currIdx</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">resetLexerState</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currIdx</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">}</span><span class="s1">moveToTerminatedState</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currIdx</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokVector</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">}</span><span class="s1">getLexerPosition</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">exportLexerState</span><span class="s0">()}}</span><span class="s4">class </span><span class="s1">ms</span><span class="s0">{</span><span class="s1">ACTION</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s1">consume</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">consumeInternal</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">subrule</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">subruleInternal</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">option</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">optionInternal</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">or</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">orInternal</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">many</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">manyInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">atLeastOne</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">atLeastOneInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">CONSUME</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">consumeInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">CONSUME1</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">consumeInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">1</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">CONSUME2</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">consumeInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">2</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">CONSUME3</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">consumeInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">3</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">CONSUME4</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">consumeInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">4</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">CONSUME5</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">consumeInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">5</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">CONSUME6</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">consumeInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">6</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">CONSUME7</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">consumeInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">7</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">CONSUME8</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">consumeInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">8</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">CONSUME9</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">consumeInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">9</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">SUBRULE</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">subruleInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">SUBRULE1</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">subruleInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">1</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">SUBRULE2</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">subruleInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">2</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">SUBRULE3</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">subruleInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">3</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">SUBRULE4</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">subruleInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">4</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">SUBRULE5</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">subruleInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">5</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">SUBRULE6</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">subruleInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">6</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">SUBRULE7</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">subruleInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">7</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">SUBRULE8</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">subruleInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">8</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">SUBRULE9</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">subruleInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">9</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">OPTION</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">optionInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)}</span><span class="s1">OPTION1</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">optionInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">1</span><span class="s0">)}</span><span class="s1">OPTION2</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">optionInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">2</span><span class="s0">)}</span><span class="s1">OPTION3</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">optionInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">3</span><span class="s0">)}</span><span class="s1">OPTION4</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">optionInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">4</span><span class="s0">)}</span><span class="s1">OPTION5</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">optionInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">5</span><span class="s0">)}</span><span class="s1">OPTION6</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">optionInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">6</span><span class="s0">)}</span><span class="s1">OPTION7</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">optionInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">7</span><span class="s0">)}</span><span class="s1">OPTION8</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">optionInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">8</span><span class="s0">)}</span><span class="s1">OPTION9</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">optionInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">9</span><span class="s0">)}</span><span class="s1">OR</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">orInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)}</span><span class="s1">OR1</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">orInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">1</span><span class="s0">)}</span><span class="s1">OR2</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">orInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">2</span><span class="s0">)}</span><span class="s1">OR3</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">orInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">3</span><span class="s0">)}</span><span class="s1">OR4</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">orInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">4</span><span class="s0">)}</span><span class="s1">OR5</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">orInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">5</span><span class="s0">)}</span><span class="s1">OR6</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">orInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">6</span><span class="s0">)}</span><span class="s1">OR7</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">orInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">7</span><span class="s0">)}</span><span class="s1">OR8</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">orInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">8</span><span class="s0">)}</span><span class="s1">OR9</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">orInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">9</span><span class="s0">)}</span><span class="s1">MANY</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manyInternal</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">MANY1</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manyInternal</span><span class="s0">(</span><span class="s3">1</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">MANY2</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manyInternal</span><span class="s0">(</span><span class="s3">2</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">MANY3</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manyInternal</span><span class="s0">(</span><span class="s3">3</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">MANY4</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manyInternal</span><span class="s0">(</span><span class="s3">4</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">MANY5</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manyInternal</span><span class="s0">(</span><span class="s3">5</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">MANY6</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manyInternal</span><span class="s0">(</span><span class="s3">6</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">MANY7</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manyInternal</span><span class="s0">(</span><span class="s3">7</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">MANY8</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manyInternal</span><span class="s0">(</span><span class="s3">8</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">MANY9</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manyInternal</span><span class="s0">(</span><span class="s3">9</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">MANY_SEP</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manySepFirstInternal</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">MANY_SEP1</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manySepFirstInternal</span><span class="s0">(</span><span class="s3">1</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">MANY_SEP2</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manySepFirstInternal</span><span class="s0">(</span><span class="s3">2</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">MANY_SEP3</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manySepFirstInternal</span><span class="s0">(</span><span class="s3">3</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">MANY_SEP4</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manySepFirstInternal</span><span class="s0">(</span><span class="s3">4</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">MANY_SEP5</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manySepFirstInternal</span><span class="s0">(</span><span class="s3">5</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">MANY_SEP6</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manySepFirstInternal</span><span class="s0">(</span><span class="s3">6</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">MANY_SEP7</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manySepFirstInternal</span><span class="s0">(</span><span class="s3">7</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">MANY_SEP8</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manySepFirstInternal</span><span class="s0">(</span><span class="s3">8</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">MANY_SEP9</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manySepFirstInternal</span><span class="s0">(</span><span class="s3">9</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneInternal</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE1</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">atLeastOneInternal</span><span class="s0">(</span><span class="s3">1</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE2</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneInternal</span><span class="s0">(</span><span class="s3">2</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE3</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneInternal</span><span class="s0">(</span><span class="s3">3</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE4</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneInternal</span><span class="s0">(</span><span class="s3">4</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE5</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneInternal</span><span class="s0">(</span><span class="s3">5</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE6</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneInternal</span><span class="s0">(</span><span class="s3">6</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE7</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneInternal</span><span class="s0">(</span><span class="s3">7</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE8</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneInternal</span><span class="s0">(</span><span class="s3">8</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE9</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneInternal</span><span class="s0">(</span><span class="s3">9</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE_SEP</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneSepFirstInternal</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE_SEP1</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneSepFirstInternal</span><span class="s0">(</span><span class="s3">1</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE_SEP2</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneSepFirstInternal</span><span class="s0">(</span><span class="s3">2</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE_SEP3</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneSepFirstInternal</span><span class="s0">(</span><span class="s3">3</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE_SEP4</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneSepFirstInternal</span><span class="s0">(</span><span class="s3">4</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE_SEP5</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneSepFirstInternal</span><span class="s0">(</span><span class="s3">5</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE_SEP6</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneSepFirstInternal</span><span class="s0">(</span><span class="s3">6</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE_SEP7</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneSepFirstInternal</span><span class="s0">(</span><span class="s3">7</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE_SEP8</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneSepFirstInternal</span><span class="s0">(</span><span class="s3">8</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">AT_LEAST_ONE_SEP9</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneSepFirstInternal</span><span class="s0">(</span><span class="s3">9</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">RULE</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Ps</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">me</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">definedRulesNames</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">lr</span><span class="s0">.</span><span class="s1">buildDuplicateRuleNameError</span><span class="s0">({</span><span class="s1">topLevelRule</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">grammarName</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">className</span><span class="s0">});</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">message</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Ms</span><span class="s0">.</span><span class="s1">DUPLICATE_RULE_NAME</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s1">e</span><span class="s0">};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">definitionErrors</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">definedRulesNames</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">defineRule</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">this</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">OVERRIDE_RULE</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Ps</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">ci</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">definedRulesNames</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">className</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">definitionErrors</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">definitionErrors</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">defineRule</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">this</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s1">BACKTRACK</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return function</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isBackTrackingStack</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">saveRecogState</span><span class="s0">();</span><span class="s4">try</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">apply</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ii</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">r</span><span class="s0">}}</span><span class="s4">finally</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">reloadRecogState</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isBackTrackingStack</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">()}}}</span><span class="s1">getGAstProductions</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">gastProductionsCache</span><span class="s0">}</span><span class="s1">getSerializedGastProductions</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">te</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">gastProductionsCache</span><span class="s0">))}}</span><span class="s4">var </span><span class="s1">gs</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">85356</span><span class="s0">);</span><span class="s4">class </span><span class="s1">ys</span><span class="s0">{</span><span class="s1">initRecognizerEngine</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">className</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">constructor</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">shortRuleNameToFull</span><span class="s0">={};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fullRuleNameToShort</span><span class="s0">={};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">ruleShortNameIdx</span><span class="s0">=</span><span class="s3">256</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenMatcher</span><span class="s0">=</span><span class="s1">In</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">subruleIdx</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">definedRulesNames</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokensMap</span><span class="s0">={};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isBackTrackingStack</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_STACK</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_OCCURRENCE_STACK</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">gastProductionsCache</span><span class="s0">={};</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;serializedGrammar&quot;</span><span class="s0">)){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;The Parser's configuration can no longer contain a &lt;serializedGrammar&gt; property.</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">For Further details.&quot;</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;A Token Vocabulary cannot be empty.</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">Note that the first argument for the parser constructor</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">is no longer a Token vector (since v4.0).&quot;</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">startOffset</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;The Parser constructor no longer accepts a token vector as the first argument.</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">For Further details.&quot;</span><span class="s0">)}}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokensMap</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">tt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">name</span><span class="s0">]=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),{})}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;modes&quot;</span><span class="s0">)&amp;&amp;</span><span class="s1">Re</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Le</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">modes</span><span class="s0">)),</span><span class="s1">Gn</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Le</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">modes</span><span class="s0">));</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Ne</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokensMap</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">tt</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">name</span><span class="s0">]=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),{})}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">gs</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokensMap</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;&lt;tokensDictionary&gt; argument must be An Array of Token constructors,&quot;</span><span class="s0">+</span><span class="s2">&quot; A dictionary of Token constructors or an IMultiModeLexerDefinition&quot;</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokensMap</span><span class="s0">[</span><span class="s2">&quot;EOF&quot;</span><span class="s0">]=</span><span class="s1">sr</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;modes&quot;</span><span class="s0">)?(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Le</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">modes</span><span class="s0">)):(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Re</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">categoryMatches</span><span class="s0">)));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenMatcher</span><span class="s0">=</span><span class="s1">r</span><span class="s0">?</span><span class="s1">In</span><span class="s0">:</span><span class="s1">wn</span><span class="s0">;</span><span class="s1">Nn</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokensMap</span><span class="s0">))}</span><span class="s1">defineRule</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">selfAnalysisDone</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Grammar rule &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&gt; may not be defined after the 'performSelfAnalysis' method has been called'</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">,</span><span class="s2">&quot;resyncEnabled&quot;</span><span class="s0">)?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">resyncEnabled</span><span class="s0">:</span><span class="s1">Ps</span><span class="s0">.</span><span class="s1">resyncEnabled</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">,</span><span class="s2">&quot;recoveryValueFunc&quot;</span><span class="s0">)?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">recoveryValueFunc</span><span class="s0">:</span><span class="s1">Ps</span><span class="s0">.</span><span class="s1">recoveryValueFunc</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">ruleShortNameIdx</span><span class="s0">&lt;&lt;</span><span class="s1">Ui</span><span class="s0">+</span><span class="s1">Fi</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">ruleShortNameIdx</span><span class="s0">++;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">shortRuleNameToFull</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fullRuleNameToShort</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">s</span><span class="s0">;</span><span class="s4">let </span><span class="s1">a</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">outputCst</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s1">a</span><span class="s0">=</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">...a</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">ruleInvocationStateUpdate</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">subruleIdx</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">apply</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">a</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">CST_STACK</span><span class="s0">[</span><span class="s4">this</span><span class="s0">.</span><span class="s1">CST_STACK</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cstPostRule</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">o</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">invokeRuleCatch</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">finally</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">ruleFinallyStateUpdate</span><span class="s0">()}}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">a</span><span class="s0">=</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">...a</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">ruleInvocationStateUpdate</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">subruleIdx</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">apply</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">a</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">o</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">invokeRuleCatch</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">finally</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">ruleFinallyStateUpdate</span><span class="s0">()}}}</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,{</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">originalGrammarAction</span><span class="s0">:</span><span class="s1">t</span><span class="s0">});</span><span class="s4">return </span><span class="s1">c</span><span class="s0">}</span><span class="s1">invokeRuleCatch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_STACK</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">&amp;&amp;!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isBackTracking</span><span class="s0">()&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recoveryEnabled</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ii</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">findReSyncTokenType</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isInCurrentRuleReSyncSet</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">resyncedTokens</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">reSyncTo</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">outputCst</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">CST_STACK</span><span class="s0">[</span><span class="s4">this</span><span class="s0">.</span><span class="s1">CST_STACK</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">];</span><span class="s1">e</span><span class="s0">.</span><span class="s1">recoveredNode</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">outputCst</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">CST_STACK</span><span class="s0">[</span><span class="s4">this</span><span class="s0">.</span><span class="s1">CST_STACK</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">];</span><span class="s1">e</span><span class="s0">.</span><span class="s1">recoveredNode</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">partialCstResult</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">throw </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">moveToTerminatedState</span><span class="s0">();</span><span class="s4">return </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">e</span><span class="s0">}}</span><span class="s1">optionInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getKeyForAutomaticLookahead</span><span class="s0">(</span><span class="s1">ji</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">optionInternalLogic</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">optionInternalLogic</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getLaFuncFromCache</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;function&quot;</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">DEF</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">GATE</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=()=&gt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">atLeastOneInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getKeyForAutomaticLookahead</span><span class="s0">(</span><span class="s1">Wi</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">atLeastOneInternalLogic</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">atLeastOneInternalLogic</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getLaFuncFromCache</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">!==</span><span class="s2">&quot;function&quot;</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">DEF</span><span class="s0">;</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">GATE</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=()=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">doSingleRepetition</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">while</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)===</span><span class="s4">true</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">doSingleRepetition</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw this</span><span class="s0">.</span><span class="s1">raiseEarlyExitException</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">REPETITION_MANDATORY</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ERR_MSG</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">attemptInRepetitionRecovery</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneInternal</span><span class="s0">,[</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">],</span><span class="s1">r</span><span class="s0">,</span><span class="s1">Wi</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">br</span><span class="s0">)}</span><span class="s1">atLeastOneSepFirstInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getKeyForAutomaticLookahead</span><span class="s0">(</span><span class="s1">zi</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneSepFirstInternalLogic</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">atLeastOneSepFirstInternalLogic</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">DEF</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">SEP</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getLaFuncFromCache</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)===</span><span class="s4">true</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=()=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenMatcher</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">),</span><span class="s1">i</span><span class="s0">);</span><span class="s4">while</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenMatcher</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">),</span><span class="s1">i</span><span class="s0">)===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">CONSUME</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">attemptInRepetitionRecovery</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">repetitionSepSecondInternal</span><span class="s0">,[</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">_r</span><span class="s0">],</span><span class="s1">t</span><span class="s0">,</span><span class="s1">zi</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">_r</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw this</span><span class="s0">.</span><span class="s1">raiseEarlyExitException</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Dr</span><span class="s0">.</span><span class="s1">REPETITION_MANDATORY_WITH_SEPARATOR</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ERR_MSG</span><span class="s0">)}}</span><span class="s1">manyInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getKeyForAutomaticLookahead</span><span class="s0">(</span><span class="s1">Vi</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">manyInternalLogic</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">manyInternalLogic</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getLaFuncFromCache</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">!==</span><span class="s2">&quot;function&quot;</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">DEF</span><span class="s0">;</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">GATE</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=()=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)===</span><span class="s4">true</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">doSingleRepetition</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">attemptInRepetitionRecovery</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manyInternal</span><span class="s0">,[</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">],</span><span class="s1">r</span><span class="s0">,</span><span class="s1">Vi</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Nr</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s1">manySepFirstInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getKeyForAutomaticLookahead</span><span class="s0">(</span><span class="s1">Hi</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manySepFirstInternalLogic</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">manySepFirstInternalLogic</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">DEF</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">SEP</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getLaFuncFromCache</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)===</span><span class="s4">true</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=()=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenMatcher</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">),</span><span class="s1">i</span><span class="s0">);</span><span class="s4">while</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenMatcher</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">),</span><span class="s1">i</span><span class="s0">)===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">CONSUME</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">attemptInRepetitionRecovery</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">repetitionSepSecondInternal</span><span class="s0">,[</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">Lr</span><span class="s0">],</span><span class="s1">t</span><span class="s0">,</span><span class="s1">Hi</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Lr</span><span class="s0">)}}</span><span class="s1">repetitionSepSecondInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">while</span><span class="s0">(</span><span class="s1">n</span><span class="s0">()){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">CONSUME</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">attemptInRepetitionRecovery</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">repetitionSepSecondInternal</span><span class="s0">,[</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">],</span><span class="s1">n</span><span class="s0">,</span><span class="s1">zi</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s1">doSingleRepetition</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getLexerPosition</span><span class="s0">();</span><span class="s1">e</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getLexerPosition</span><span class="s0">();</span><span class="s4">return </span><span class="s1">n</span><span class="s0">&gt;</span><span class="s1">t</span><span class="s0">}</span><span class="s1">orInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getKeyForAutomaticLookahead</span><span class="s0">(</span><span class="s1">Ki</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">DEF</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getLaFuncFromCache</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">s</span><span class="s0">];</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">ALT</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">raiseNoAltException</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ERR_MSG</span><span class="s0">)}</span><span class="s1">ruleFinallyStateUpdate</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_STACK</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_OCCURRENCE_STACK</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cstFinallyStateUpdate</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_STACK</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isAtEndOfInput</span><span class="s0">()===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorMessageProvider</span><span class="s0">.</span><span class="s1">buildNotAllInputParsedMessage</span><span class="s0">({</span><span class="s1">firstRedundant</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getCurrRuleFullName</span><span class="s0">()});</span><span class="s4">this</span><span class="s0">.</span><span class="s1">SAVE_ERROR</span><span class="s0">(</span><span class="s4">new </span><span class="s1">Li</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">))}}</span><span class="s1">subruleInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">try</span><span class="s0">{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">ARGS</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">subruleIdx</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">apply</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cstPostNonTerminal</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">LABEL</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">LABEL</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ruleName</span><span class="s0">);</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">throw this</span><span class="s0">.</span><span class="s1">subruleInternalError</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ruleName</span><span class="s0">)}}</span><span class="s1">subruleInternalError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ii</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">partialCstResult</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cstPostNonTerminal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">partialCstResult</span><span class="s0">,</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">LABEL</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">LABEL</span><span class="s0">:</span><span class="s1">n</span><span class="s0">);</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">.</span><span class="s1">partialCstResult</span><span class="s0">}</span><span class="s4">throw </span><span class="s1">e</span><span class="s0">}</span><span class="s1">consumeInternal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">try</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenMatcher</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeToken</span><span class="s0">();</span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeInternalError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">consumeInternalRecovery</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cstPostTerminal</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">LABEL</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">LABEL</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">consumeInternalError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">0</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">ERR_MSG</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">ERR_MSG</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorMessageProvider</span><span class="s0">.</span><span class="s1">buildMismatchTokenMessage</span><span class="s0">({</span><span class="s1">expected</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">actual</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">previous</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getCurrRuleFullName</span><span class="s0">()})}</span><span class="s4">throw this</span><span class="s0">.</span><span class="s1">SAVE_ERROR</span><span class="s0">(</span><span class="s4">new </span><span class="s1">Ci</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">))}</span><span class="s1">consumeInternalRecovery</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recoveryEnabled</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s2">&quot;MismatchedTokenException&quot;</span><span class="s0">&amp;&amp;!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isBackTracking</span><span class="s0">()){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getFollowsForInRuleRecovery</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">try</span><span class="s0">{</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">tryInRuleRecovery</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">Oi</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">n</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">r</span><span class="s0">}}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">n</span><span class="s0">}}</span><span class="s1">saveRecogState</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errors</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_STACK</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">errors</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">lexerState</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">exportLexerState</span><span class="s0">(),</span><span class="s1">RULE_STACK</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">CST_STACK</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">CST_STACK</span><span class="s0">}}</span><span class="s1">reloadRecogState</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errors</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">errors</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">importLexerState</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lexerState</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_STACK</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">RULE_STACK</span><span class="s0">}</span><span class="s1">ruleInvocationStateUpdate</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_OCCURRENCE_STACK</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_STACK</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cstInvocationStateUpdate</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">isBackTracking</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">isBackTrackingStack</span><span class="s0">.</span><span class="s1">length</span><span class="s0">!==</span><span class="s3">0</span><span class="s0">}</span><span class="s1">getCurrRuleFullName</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getLastExplicitRuleShortName</span><span class="s0">();</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">shortRuleNameToFull</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s1">shortRuleNameToFullName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">shortRuleNameToFull</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s1">isAtEndOfInput</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">tokenMatcher</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">),</span><span class="s1">sr</span><span class="s0">)}</span><span class="s1">reset</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">resetLexerState</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">subruleIdx</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isBackTrackingStack</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errors</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_STACK</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">CST_STACK</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_OCCURRENCE_STACK</span><span class="s0">=[]}}</span><span class="s4">class </span><span class="s1">vs</span><span class="s0">{</span><span class="s1">initErrorHandler</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_errors</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorMessageProvider</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;errorMessageProvider&quot;</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">errorMessageProvider</span><span class="s0">:</span><span class="s1">Os</span><span class="s0">.</span><span class="s1">errorMessageProvider</span><span class="s0">}</span><span class="s1">SAVE_ERROR</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ii</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">context</span><span class="s0">={</span><span class="s1">ruleStack</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getHumanReadableRuleStack</span><span class="s0">(),</span><span class="s1">ruleOccurrenceStack</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RULE_OCCURRENCE_STACK</span><span class="s0">)};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_errors</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Trying to save an Error which is not a RecognitionException&quot;</span><span class="s0">)}}</span><span class="s1">get errors</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_errors</span><span class="s0">)}</span><span class="s1">set errors</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_errors</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">raiseEarlyExitException</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getCurrRuleFullName</span><span class="s0">();</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getGAstProductions</span><span class="s0">()[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Qr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">u</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">u</span><span class="s0">&lt;=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">;</span><span class="s1">u</span><span class="s0">++){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s1">u</span><span class="s0">))}</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorMessageProvider</span><span class="s0">.</span><span class="s1">buildEarlyExitMessage</span><span class="s0">({</span><span class="s1">expectedIterationPaths</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">actual</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">previous</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">0</span><span class="s0">),</span><span class="s1">customUserDescription</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s1">r</span><span class="s0">});</span><span class="s4">throw this</span><span class="s0">.</span><span class="s1">SAVE_ERROR</span><span class="s0">(</span><span class="s4">new </span><span class="s1">bi</span><span class="s0">(</span><span class="s1">c</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)))}</span><span class="s1">raiseNoAltException</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getCurrRuleFullName</span><span class="s0">();</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getGAstProductions</span><span class="s0">()[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Xr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">c</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">c</span><span class="s0">&lt;=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">;</span><span class="s1">c</span><span class="s0">++){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s1">c</span><span class="s0">))}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">0</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorMessageProvider</span><span class="s0">.</span><span class="s1">buildNoViableAltMessage</span><span class="s0">({</span><span class="s1">expectedPathsPerAlt</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">actual</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">previous</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">customUserDescription</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">ruleName</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getCurrRuleFullName</span><span class="s0">()});</span><span class="s4">throw this</span><span class="s0">.</span><span class="s1">SAVE_ERROR</span><span class="s0">(</span><span class="s4">new </span><span class="s1">Ni</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">),</span><span class="s1">a</span><span class="s0">))}}</span><span class="s4">class </span><span class="s1">As</span><span class="s0">{</span><span class="s1">initContentAssist</span><span class="s0">(){}</span><span class="s1">computeContentAssist</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">gastProductionsCache</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Be</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Rule -&gt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&lt;- does not exist in this grammar.`</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">Pr</span><span class="s0">([</span><span class="s1">n</span><span class="s0">],</span><span class="s1">t</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenMatcher</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">)}</span><span class="s1">getNextPossibleTokenTypes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">vt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ruleStack</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getGAstProductions</span><span class="s0">();</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Sr</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">).</span><span class="s1">startWalking</span><span class="s0">();</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">Ts</span><span class="s0">={</span><span class="s1">description</span><span class="s0">:</span><span class="s2">&quot;This Object indicates the Parser is during Recording Phase&quot;</span><span class="s0">};</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">(</span><span class="s1">Ts</span><span class="s0">);</span><span class="s4">const </span><span class="s1">Rs</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Es</span><span class="s0">=</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">pow</span><span class="s0">(</span><span class="s3">2</span><span class="s0">,</span><span class="s1">Fi</span><span class="s0">)-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">const </span><span class="s1">ks</span><span class="s0">=</span><span class="s1">rr</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;RECORDING_PHASE_TOKEN&quot;</span><span class="s0">,</span><span class="s1">pattern</span><span class="s0">:</span><span class="s1">Vn</span><span class="s0">.</span><span class="s1">NA</span><span class="s0">});</span><span class="s1">Nn</span><span class="s0">([</span><span class="s1">ks</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">xs</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">(</span><span class="s1">ks</span><span class="s0">,</span><span class="s2">&quot;This IToken indicates the Parser is in Recording Phase</span><span class="s4">\n\t</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;&quot;</span><span class="s0">+</span><span class="s2">&quot;See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details&quot;</span><span class="s0">,-</span><span class="s3">1</span><span class="s0">,-</span><span class="s3">1</span><span class="s0">,-</span><span class="s3">1</span><span class="s0">,-</span><span class="s3">1</span><span class="s0">,-</span><span class="s3">1</span><span class="s0">,-</span><span class="s3">1</span><span class="s0">);</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">(</span><span class="s1">xs</span><span class="s0">);</span><span class="s4">const </span><span class="s1">$s</span><span class="s0">={</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;This CSTNode indicates the Parser is in Recording Phase</span><span class="s4">\n\t</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details&quot;</span><span class="s0">,</span><span class="s1">children</span><span class="s0">:{}};</span><span class="s4">class </span><span class="s1">ws</span><span class="s0">{</span><span class="s1">initGastRecorder</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recordingProdStack</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RECORDING_PHASE</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s1">enableRecording</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RECORDING_PHASE</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">&quot;Enable Recording&quot;</span><span class="s0">,(()=&gt;{</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s3">10</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">this</span><span class="s0">[</span><span class="s2">`CONSUME</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">]=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">consumeInternalRecord</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)};</span><span class="s4">this</span><span class="s0">[</span><span class="s2">`SUBRULE</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">]=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">subruleInternalRecord</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)};</span><span class="s4">this</span><span class="s0">[</span><span class="s2">`OPTION</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">]=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">optionInternalRecord</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)};</span><span class="s4">this</span><span class="s0">[</span><span class="s2">`OR</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">]=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">orInternalRecord</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)};</span><span class="s4">this</span><span class="s0">[</span><span class="s2">`MANY</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">]=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manyInternalRecord</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)};</span><span class="s4">this</span><span class="s0">[</span><span class="s2">`MANY_SEP</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">]=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manySepFirstInternalRecord</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)};</span><span class="s4">this</span><span class="s0">[</span><span class="s2">`AT_LEAST_ONE</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">]=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneInternalRecord</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)};</span><span class="s4">this</span><span class="s0">[</span><span class="s2">`AT_LEAST_ONE_SEP</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">]=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneSepFirstInternalRecord</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">this</span><span class="s0">[</span><span class="s2">`consume`</span><span class="s0">]=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">consumeInternalRecord</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)};</span><span class="s4">this</span><span class="s0">[</span><span class="s2">`subrule`</span><span class="s0">]=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">subruleInternalRecord</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)};</span><span class="s4">this</span><span class="s0">[</span><span class="s2">`option`</span><span class="s0">]=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">optionInternalRecord</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)};</span><span class="s4">this</span><span class="s0">[</span><span class="s2">`or`</span><span class="s0">]=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">orInternalRecord</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)};</span><span class="s4">this</span><span class="s0">[</span><span class="s2">`many`</span><span class="s0">]=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">manyInternalRecord</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)};</span><span class="s4">this</span><span class="s0">[</span><span class="s2">`atLeastOne`</span><span class="s0">]=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOneInternalRecord</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">ACTION</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">ACTION_RECORD</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">BACKTRACK</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">BACKTRACK_RECORD</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA_RECORD</span><span class="s0">}))}</span><span class="s1">disableRecording</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">RECORDING_PHASE</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">&quot;Deleting Recording methods&quot;</span><span class="s0">,(()=&gt;{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">t</span><span class="s0">&lt;</span><span class="s3">10</span><span class="s0">;</span><span class="s1">t</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s2">`CONSUME</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">];</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s2">`SUBRULE</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">];</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s2">`OPTION</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">];</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s2">`OR</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">];</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s2">`MANY</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">];</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s2">`MANY_SEP</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">];</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s2">`AT_LEAST_ONE</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">];</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s2">`AT_LEAST_ONE_SEP</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">]}</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s2">`consume`</span><span class="s0">];</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s2">`subrule`</span><span class="s0">];</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s2">`option`</span><span class="s0">];</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s2">`or`</span><span class="s0">];</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s2">`many`</span><span class="s0">];</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s2">`atLeastOne`</span><span class="s0">];</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">.</span><span class="s1">ACTION</span><span class="s0">;</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">.</span><span class="s1">BACKTRACK</span><span class="s0">;</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">}))}</span><span class="s1">ACTION_RECORD</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}</span><span class="s1">BACKTRACK_RECORD</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">()=&gt;</span><span class="s4">true</span><span class="s0">}</span><span class="s1">LA_RECORD</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">_s</span><span class="s0">}</span><span class="s1">topLevelRuleRecord</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">H</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:[],</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">});</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recordingProdStack</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recordingProdStack</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">KNOWN_RECORDER_ERROR</span><span class="s0">!==</span><span class="s4">true</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">message</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">message</span><span class="s0">+</span><span class="s2">'</span><span class="s4">\n\t </span><span class="s2">This error was thrown during the &quot;grammar recording phase&quot; For more info see:</span><span class="s4">\n\t</span><span class="s2">'</span><span class="s0">+</span><span class="s2">&quot;https://chevrotain.io/docs/guide/internals.html#grammar-recording&quot;</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">n</span><span class="s0">}}</span><span class="s4">throw </span><span class="s1">n</span><span class="s0">}}</span><span class="s1">optionInternalRecord</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Is</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">Y</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">atLeastOneInternalRecord</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s1">Is</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">q</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">atLeastOneSepFirstInternalRecord</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s1">Is</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">X</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Rs</span><span class="s0">)}</span><span class="s1">manyInternalRecord</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s1">Is</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">Q</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">manySepFirstInternalRecord</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s1">Is</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">Z</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Rs</span><span class="s0">)}</span><span class="s1">orInternalRecord</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Ss</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">subruleInternalRecord</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s1">Ns</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">||(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;ruleName&quot;</span><span class="s0">)===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`&lt;SUBRULE</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Cs</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s2">&gt; argument is invalid`</span><span class="s0">+</span><span class="s2">` expecting a Parser method reference but got: &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">JSON</span><span class="s0">.</span><span class="s1">stringify</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">&gt;`</span><span class="s0">+</span><span class="s2">`</span><span class="s4">\n </span><span class="s2">inside top level rule: &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recordingProdStack</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">name</span><span class="s0">}</span><span class="s2">&gt;`</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">KNOWN_RECORDER_ERROR</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">throw </span><span class="s1">n</span><span class="s0">}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">xn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recordingProdStack</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ruleName</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">new </span><span class="s1">W</span><span class="s0">({</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">nonTerminalName</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">label</span><span class="s0">:</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">LABEL</span><span class="s0">,</span><span class="s1">referencedRule</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">});</span><span class="s1">r</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">outputCst</span><span class="s0">?</span><span class="s1">$s</span><span class="s0">:</span><span class="s1">Ts</span><span class="s0">}</span><span class="s1">consumeInternalRecord</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s1">Ns</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Mn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`&lt;CONSUME</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Cs</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s2">&gt; argument is invalid`</span><span class="s0">+</span><span class="s2">` expecting a TokenType reference but got: &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">JSON</span><span class="s0">.</span><span class="s1">stringify</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">&gt;`</span><span class="s0">+</span><span class="s2">`</span><span class="s4">\n </span><span class="s2">inside top level rule: &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recordingProdStack</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">name</span><span class="s0">}</span><span class="s2">&gt;`</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">KNOWN_RECORDER_ERROR</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">throw </span><span class="s1">n</span><span class="s0">}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">xn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recordingProdStack</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">new </span><span class="s1">ee</span><span class="s0">({</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">terminalType</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">label</span><span class="s0">:</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">LABEL</span><span class="s0">});</span><span class="s1">r</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">return </span><span class="s1">xs</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Is</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s4">false</span><span class="s0">){</span><span class="s1">Ns</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">xn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recordingProdStack</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Qe</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">DEF</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s4">new </span><span class="s1">e</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:[],</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">n</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">separator</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">SEP</span><span class="s0">}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;MAX_LOOKAHEAD&quot;</span><span class="s0">)){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">MAX_LOOKAHEAD</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recordingProdStack</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">a</span><span class="s0">);</span><span class="s1">s</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">a</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recordingProdStack</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s4">return </span><span class="s1">Ts</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ss</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s1">Ns</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">xn</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recordingProdStack</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)===</span><span class="s4">false</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">===</span><span class="s4">false</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">DEF</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s4">new </span><span class="s1">J</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:[],</span><span class="s1">idx</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">ignoreAmbiguities</span><span class="s0">:</span><span class="s1">i</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">IGNORE_AMBIGUITIES</span><span class="s0">===</span><span class="s4">true</span><span class="s0">});</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;MAX_LOOKAHEAD&quot;</span><span class="s0">)){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">MAX_LOOKAHEAD</span><span class="s0">}</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">de</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Qe</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">GATE</span><span class="s0">)));</span><span class="s1">a</span><span class="s0">.</span><span class="s1">hasPredicates</span><span class="s0">=</span><span class="s1">c</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">a</span><span class="s0">);(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">s</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">z</span><span class="s0">({</span><span class="s1">definition</span><span class="s0">:[]});</span><span class="s1">a</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;IGNORE_AMBIGUITIES&quot;</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ignoreAmbiguities</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">IGNORE_AMBIGUITIES</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;GATE&quot;</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ignoreAmbiguities</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recordingProdStack</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ALT</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recordingProdStack</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">()}));</span><span class="s4">return </span><span class="s1">Ts</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Cs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s3">0</span><span class="s0">?</span><span class="s2">&quot;&quot;</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ns</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s3">0</span><span class="s0">||</span><span class="s1">e</span><span class="s0">&gt;</span><span class="s1">Es</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Invalid DSL Method idx value: &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&gt;</span><span class="s4">\n\t</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`Idx value must be a none negative value smaller than </span><span class="s1">$</span><span class="s0">{</span><span class="s1">Es</span><span class="s0">+</span><span class="s3">1</span><span class="s0">}</span><span class="s2">`</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">KNOWN_RECORDER_ERROR</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">throw </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Ls</span><span class="s0">{</span><span class="s1">initPerformanceTracer</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;traceInitPerf&quot;</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">traceInitPerf</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitMaxIdent</span><span class="s0">=</span><span class="s1">n</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">Infinity</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitPerf</span><span class="s0">=</span><span class="s1">n</span><span class="s0">?</span><span class="s1">t</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitMaxIdent</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitPerf</span><span class="s0">=</span><span class="s1">Os</span><span class="s0">.</span><span class="s1">traceInitPerf</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitIndent</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">}</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitPerf</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitIndent</span><span class="s0">++;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Array</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitIndent</span><span class="s0">+</span><span class="s3">1</span><span class="s0">).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitIndent</span><span class="s0">&lt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitMaxIdent</span><span class="s0">){</span><span class="s1">console</span><span class="s0">.</span><span class="s1">log</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">--</span><span class="s4">\x3e </span><span class="s2">&lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&gt;`</span><span class="s0">)}</span><span class="s4">const</span><span class="s0">{</span><span class="s1">time</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">$n</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">&gt;</span><span class="s3">10</span><span class="s0">?</span><span class="s1">console</span><span class="s0">.</span><span class="s1">warn</span><span class="s0">:</span><span class="s1">console</span><span class="s0">.</span><span class="s1">log</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitIndent</span><span class="s0">&lt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitMaxIdent</span><span class="s0">){</span><span class="s1">s</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&lt;-- &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&gt; time: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">ms`</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traceInitIndent</span><span class="s0">--;</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">t</span><span class="s0">()}}}</span><span class="s4">function </span><span class="s1">bs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertyNames</span><span class="s0">(</span><span class="s1">n</span><span class="s0">).</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">r</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s2">&quot;constructor&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertyDescriptor</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&amp;&amp;(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">get</span><span class="s0">||</span><span class="s1">i</span><span class="s0">.</span><span class="s1">set</span><span class="s0">)){</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]}}))}))}</span><span class="s4">const </span><span class="s1">_s</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">(</span><span class="s1">sr</span><span class="s0">,</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">NaN</span><span class="s0">,</span><span class="s1">NaN</span><span class="s0">,</span><span class="s1">NaN</span><span class="s0">,</span><span class="s1">NaN</span><span class="s0">,</span><span class="s1">NaN</span><span class="s0">,</span><span class="s1">NaN</span><span class="s0">);</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">(</span><span class="s1">_s</span><span class="s0">);</span><span class="s4">const </span><span class="s1">Os</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">({</span><span class="s1">recoveryEnabled</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">maxLookahead</span><span class="s0">:</span><span class="s3">3</span><span class="s0">,</span><span class="s1">dynamicTokensEnabled</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">outputCst</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">errorMessageProvider</span><span class="s0">:</span><span class="s1">cr</span><span class="s0">,</span><span class="s1">nodeLocationTracking</span><span class="s0">:</span><span class="s2">&quot;none&quot;</span><span class="s0">,</span><span class="s1">traceInitPerf</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">skipValidations</span><span class="s0">:</span><span class="s4">false</span><span class="s0">});</span><span class="s4">const </span><span class="s1">Ps</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">({</span><span class="s1">recoveryValueFunc</span><span class="s0">:()=&gt;</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">resyncEnabled</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s4">var </span><span class="s1">Ms</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;INVALID_RULE_NAME&quot;</span><span class="s0">]=</span><span class="s3">0</span><span class="s0">]=</span><span class="s2">&quot;INVALID_RULE_NAME&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;DUPLICATE_RULE_NAME&quot;</span><span class="s0">]=</span><span class="s3">1</span><span class="s0">]=</span><span class="s2">&quot;DUPLICATE_RULE_NAME&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;INVALID_RULE_OVERRIDE&quot;</span><span class="s0">]=</span><span class="s3">2</span><span class="s0">]=</span><span class="s2">&quot;INVALID_RULE_OVERRIDE&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;DUPLICATE_PRODUCTIONS&quot;</span><span class="s0">]=</span><span class="s3">3</span><span class="s0">]=</span><span class="s2">&quot;DUPLICATE_PRODUCTIONS&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;UNRESOLVED_SUBRULE_REF&quot;</span><span class="s0">]=</span><span class="s3">4</span><span class="s0">]=</span><span class="s2">&quot;UNRESOLVED_SUBRULE_REF&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;LEFT_RECURSION&quot;</span><span class="s0">]=</span><span class="s3">5</span><span class="s0">]=</span><span class="s2">&quot;LEFT_RECURSION&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;NONE_LAST_EMPTY_ALT&quot;</span><span class="s0">]=</span><span class="s3">6</span><span class="s0">]=</span><span class="s2">&quot;NONE_LAST_EMPTY_ALT&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;AMBIGUOUS_ALTS&quot;</span><span class="s0">]=</span><span class="s3">7</span><span class="s0">]=</span><span class="s2">&quot;AMBIGUOUS_ALTS&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;CONFLICT_TOKENS_RULES_NAMESPACE&quot;</span><span class="s0">]=</span><span class="s3">8</span><span class="s0">]=</span><span class="s2">&quot;CONFLICT_TOKENS_RULES_NAMESPACE&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;INVALID_TOKEN_NAME&quot;</span><span class="s0">]=</span><span class="s3">9</span><span class="s0">]=</span><span class="s2">&quot;INVALID_TOKEN_NAME&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;NO_NON_EMPTY_LOOKAHEAD&quot;</span><span class="s0">]=</span><span class="s3">10</span><span class="s0">]=</span><span class="s2">&quot;NO_NON_EMPTY_LOOKAHEAD&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;AMBIGUOUS_PREFIX_ALTS&quot;</span><span class="s0">]=</span><span class="s3">11</span><span class="s0">]=</span><span class="s2">&quot;AMBIGUOUS_PREFIX_ALTS&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;TOO_MANY_ALTS&quot;</span><span class="s0">]=</span><span class="s3">12</span><span class="s0">]=</span><span class="s2">&quot;TOO_MANY_ALTS&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;CUSTOM_LOOKAHEAD_VALIDATION&quot;</span><span class="s0">]=</span><span class="s3">13</span><span class="s0">]=</span><span class="s2">&quot;CUSTOM_LOOKAHEAD_VALIDATION&quot;</span><span class="s0">})(</span><span class="s1">Ms</span><span class="s0">||(</span><span class="s1">Ms</span><span class="s0">={}));</span><span class="s4">function </span><span class="s1">Ds</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Us</span><span class="s0">{</span><span class="s4">static </span><span class="s1">performSelfAnalysis</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;The **static** `performSelfAnalysis` method has been deprecated.&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\t\n</span><span class="s2">Use the **instance** method with the same name instead.&quot;</span><span class="s0">)}</span><span class="s1">performSelfAnalysis</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">&quot;performSelfAnalysis&quot;</span><span class="s0">,(()=&gt;{</span><span class="s4">let </span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">selfAnalysisDone</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">className</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">&quot;toFastProps&quot;</span><span class="s0">,(()=&gt;{</span><span class="s1">u</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">&quot;Grammar Recording&quot;</span><span class="s0">,(()=&gt;{</span><span class="s4">try</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">enableRecording</span><span class="s0">();(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">definedRulesNames</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s2">&quot;originalGrammarAction&quot;</span><span class="s0">];</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">Rule`</span><span class="s0">,(()=&gt;{</span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">topLevelRuleRecord</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">gastProductionsCache</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">r</span><span class="s0">}))}</span><span class="s4">finally</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">disableRecording</span><span class="s0">()}}));</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">&quot;Grammar Resolving&quot;</span><span class="s0">,(()=&gt;{</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Ti</span><span class="s0">({</span><span class="s1">rules</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">gastProductionsCache</span><span class="s0">)});</span><span class="s4">this</span><span class="s0">.</span><span class="s1">definitionErrors</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">definitionErrors</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">&quot;Grammar Validations&quot;</span><span class="s0">,(()=&gt;{</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">skipValidations</span><span class="s0">===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Ri</span><span class="s0">({</span><span class="s1">rules</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">gastProductionsCache</span><span class="s0">),</span><span class="s1">tokenTypes</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokensMap</span><span class="s0">),</span><span class="s1">errMsgProvider</span><span class="s0">:</span><span class="s1">lr</span><span class="s0">,</span><span class="s1">grammarName</span><span class="s0">:</span><span class="s1">t</span><span class="s0">});</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">ti</span><span class="s0">({</span><span class="s1">lookaheadStrategy</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lookaheadStrategy</span><span class="s0">,</span><span class="s1">rules</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">gastProductionsCache</span><span class="s0">),</span><span class="s1">tokenTypes</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokensMap</span><span class="s0">),</span><span class="s1">grammarName</span><span class="s0">:</span><span class="s1">t</span><span class="s0">});</span><span class="s4">this</span><span class="s0">.</span><span class="s1">definitionErrors</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">definitionErrors</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}));</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">definitionErrors</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recoveryEnabled</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">&quot;computeAllProdsFollows&quot;</span><span class="s0">,(()=&gt;{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Ue</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">gastProductionsCache</span><span class="s0">));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">resyncFollows</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}))}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">TRACE_INIT</span><span class="s0">(</span><span class="s2">&quot;ComputeLookaheadFunctions&quot;</span><span class="s0">,(()=&gt;{</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">;(</span><span class="s1">t</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lookaheadStrategy</span><span class="s0">).</span><span class="s1">initialize</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">rules</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">gastProductionsCache</span><span class="s0">)});</span><span class="s4">this</span><span class="s0">.</span><span class="s1">preComputeLookaheadFunctions</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">gastProductionsCache</span><span class="s0">))}))}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Us</span><span class="s0">.</span><span class="s1">DEFER_DEFINITION_ERRORS_HANDLING</span><span class="s0">&amp;&amp;!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">definitionErrors</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">definitionErrors</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">message</span><span class="s0">));</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Parser Definition Errors detected:</span><span class="s4">\n </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">-------------------------------</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">)}}))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">definitionErrors</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">selfAnalysisDone</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">initErrorHandler</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">initLexerAdapter</span><span class="s0">();</span><span class="s1">n</span><span class="s0">.</span><span class="s1">initLooksAhead</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">initRecognizerEngine</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">initRecoverable</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">initTreeBuilder</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">initContentAssist</span><span class="s0">();</span><span class="s1">n</span><span class="s0">.</span><span class="s1">initGastRecorder</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">initPerformanceTracer</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;ignoredIssues&quot;</span><span class="s0">)){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;The &lt;ignoredIssues&gt; IParserConfig property has been deprecated.</span><span class="s4">\n\t</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;Please use the &lt;IGNORE_AMBIGUITIES&gt; flag on the relevant DSL method instead.</span><span class="s4">\n\t</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES</span><span class="s4">\n\t</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;For further details.&quot;</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">skipValidations</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;skipValidations&quot;</span><span class="s0">)?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">skipValidations</span><span class="s0">:</span><span class="s1">Os</span><span class="s0">.</span><span class="s1">skipValidations</span><span class="s0">}}</span><span class="s1">Us</span><span class="s0">.</span><span class="s1">DEFER_DEFINITION_ERRORS_HANDLING</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s1">bs</span><span class="s0">(</span><span class="s1">Us</span><span class="s0">,[</span><span class="s1">Mi</span><span class="s0">,</span><span class="s1">Qi</span><span class="s0">,</span><span class="s1">hs</span><span class="s0">,</span><span class="s1">ps</span><span class="s0">,</span><span class="s1">ys</span><span class="s0">,</span><span class="s1">ms</span><span class="s0">,</span><span class="s1">vs</span><span class="s0">,</span><span class="s1">As</span><span class="s0">,</span><span class="s1">ws</span><span class="s0">,</span><span class="s1">Ls</span><span class="s0">]);</span><span class="s4">class </span><span class="s1">Fs </span><span class="s4">extends </span><span class="s1">Us</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">Os</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">outputCst</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">class </span><span class="s1">Gs </span><span class="s4">extends </span><span class="s1">Us</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">Os</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">outputCst</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Bs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Ks</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">values</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">map</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">visitRule</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)))}</span><span class="s4">class </span><span class="s1">Ks </span><span class="s4">extends</span><span class="s0">(</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">GAstVisitor</span><span class="s0">){</span><span class="s1">visitRule</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitEach</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">groupBy</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">propertyName</span><span class="s0">));</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">map</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=!</span><span class="s1">some</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">canBeNull</span><span class="s0">));</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">type</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">map</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">))}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">optional</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}));</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}}</span><span class="s1">visitAlternative</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">visitEachAndOverrideWith</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,{</span><span class="s1">canBeNull</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})}</span><span class="s1">visitOption</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">visitEachAndOverrideWith</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,{</span><span class="s1">canBeNull</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})}</span><span class="s1">visitRepetition</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">visitEachAndOverrideWith</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,{</span><span class="s1">canBeNull</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})}</span><span class="s1">visitRepetitionMandatory</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">visitEach</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">)}</span><span class="s1">visitRepetitionMandatoryWithSeparator</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">visitEach</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">).</span><span class="s1">concat</span><span class="s0">({</span><span class="s1">propertyName</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">separator</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">canBeNull</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">js</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">separator</span><span class="s0">)})}</span><span class="s1">visitRepetitionWithSeparator</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">visitEachAndOverrideWith</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,{</span><span class="s1">canBeNull</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}).</span><span class="s1">concat</span><span class="s0">({</span><span class="s1">propertyName</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">separator</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">canBeNull</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">js</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">separator</span><span class="s0">)})}</span><span class="s1">visitAlternation</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">visitEachAndOverrideWith</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,{</span><span class="s1">canBeNull</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})}</span><span class="s1">visitTerminal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[{</span><span class="s1">propertyName</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">label</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">terminalType</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">canBeNull</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">js</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}]}</span><span class="s1">visitNonTerminal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[{</span><span class="s1">propertyName</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">label</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">nonTerminalName</span><span class="s0">,</span><span class="s1">canBeNull</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">js</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}]}</span><span class="s1">visitEachAndOverrideWith</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">map</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visitEach</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)))}</span><span class="s1">visitEach</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">flatten</span><span class="s0">(</span><span class="s1">map</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">visit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))))}}</span><span class="s4">function </span><span class="s1">js</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">NonTerminal</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">kind</span><span class="s0">:</span><span class="s2">&quot;rule&quot;</span><span class="s0">,</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">referencedRule</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">kind</span><span class="s0">:</span><span class="s2">&quot;token&quot;</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">Vs</span><span class="s0">={</span><span class="s1">includeVisitorInterface</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">visitorInterfaceName</span><span class="s0">:</span><span class="s2">&quot;ICstNodeVisitor&quot;</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Ws</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Vs</span><span class="s0">),</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">buildModel</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">genDts</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Hs</span><span class="s0">(){</span><span class="s1">console</span><span class="s0">.</span><span class="s1">warn</span><span class="s0">(</span><span class="s2">&quot;The clearCache function was 'soft' removed from the Chevrotain API.&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\n\t </span><span class="s2">It performs no action other than printing this message.&quot;</span><span class="s0">+</span><span class="s2">&quot;</span><span class="s4">\n\t </span><span class="s2">Please avoid using it as it will be completely removed in the future&quot;</span><span class="s0">)}</span><span class="s4">class </span><span class="s1">zs</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.</span><span class="s4">\t\n</span><span class="s2">&quot;</span><span class="s0">+</span><span class="s2">&quot;See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_7-0-0&quot;</span><span class="s0">)}}},</span><span class="s3">37810</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">t</span><span class="s0">:()=&gt;</span><span class="s1">Ji</span><span class="s0">,</span><span class="s1">u</span><span class="s0">:()=&gt;</span><span class="s1">es</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">5730</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">70977</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">65811</span><span class="s0">);</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">85684</span><span class="s0">);</span><span class="s4">function </span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Grammar</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of n</span><span class="s0">.</span><span class="s1">rules</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">rE</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">eb</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">lU</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">S</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">))){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">name</span><span class="s0">)}}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">multilineCommentRules</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">nameRegexp</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">El</span><span class="s0">}}</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">50450</span><span class="s0">);</span><span class="s4">var </span><span class="s1">u</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">8937</span><span class="s0">);</span><span class="s4">var </span><span class="s1">l</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">97133</span><span class="s0">);</span><span class="s4">function </span><span class="s1">d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s3">2</span><span class="s0">;</span><span class="s4">const </span><span class="s1">m</span><span class="s0">=</span><span class="s3">4</span><span class="s0">;</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=</span><span class="s3">5</span><span class="s0">;</span><span class="s4">const </span><span class="s1">y</span><span class="s0">=</span><span class="s3">6</span><span class="s0">;</span><span class="s4">const </span><span class="s1">v</span><span class="s0">=</span><span class="s3">7</span><span class="s0">;</span><span class="s4">const </span><span class="s1">A</span><span class="s0">=</span><span class="s3">8</span><span class="s0">;</span><span class="s4">const </span><span class="s1">T</span><span class="s0">=</span><span class="s3">9</span><span class="s0">;</span><span class="s4">const </span><span class="s1">R</span><span class="s0">=</span><span class="s3">10</span><span class="s0">;</span><span class="s4">const </span><span class="s1">E</span><span class="s0">=</span><span class="s3">11</span><span class="s0">;</span><span class="s4">const </span><span class="s1">k</span><span class="s0">=</span><span class="s3">12</span><span class="s0">;</span><span class="s4">class </span><span class="s1">x</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">target</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">isEpsilon</span><span class="s0">(){</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">$ </span><span class="s4">extends </span><span class="s1">x</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenType</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">w </span><span class="s4">extends </span><span class="s1">x</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">isEpsilon</span><span class="s0">(){</span><span class="s4">return true</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">I </span><span class="s4">extends </span><span class="s1">x</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">followState</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s1">isEpsilon</span><span class="s0">(){</span><span class="s4">return true</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">S</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={</span><span class="s1">decisionMap</span><span class="s0">:{},</span><span class="s1">decisionStates</span><span class="s0">:[],</span><span class="s1">ruleToStartState</span><span class="s0">:</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">,</span><span class="s1">ruleToStopState</span><span class="s0">:</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">,</span><span class="s1">states</span><span class="s0">:[]};</span><span class="s1">C</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">D</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">continue</span><span class="s0">}</span><span class="s1">z</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">C</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">p</span><span class="s0">});</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">v</span><span class="s0">});</span><span class="s1">i</span><span class="s0">.</span><span class="s1">stop</span><span class="s0">=</span><span class="s1">s</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ruleToStartState</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ruleToStopState</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">BK</span><span class="s0">){</span><span class="s4">return </span><span class="s1">W</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">terminalType</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">wL</span><span class="s0">){</span><span class="s4">return </span><span class="s1">H</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">ak</span><span class="s0">){</span><span class="s4">return </span><span class="s1">P</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">c$</span><span class="s0">){</span><span class="s4">return </span><span class="s1">M</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">Y2</span><span class="s0">){</span><span class="s4">return </span><span class="s1">L</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">Pp</span><span class="s0">){</span><span class="s4">return </span><span class="s1">b</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">$P</span><span class="s0">){</span><span class="s4">return </span><span class="s1">_</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">Cy</span><span class="s0">){</span><span class="s4">return </span><span class="s1">O</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">D</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">L</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">g</span><span class="s0">});</span><span class="s1">B</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">K</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">D</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">));</span><span class="s4">return </span><span class="s1">F</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">b</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">g</span><span class="s0">});</span><span class="s1">B</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">K</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">D</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">));</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">W</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">separator</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">F</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">_</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">m</span><span class="s0">});</span><span class="s1">B</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">K</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">D</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">));</span><span class="s4">return </span><span class="s1">U</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">O</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">m</span><span class="s0">});</span><span class="s1">B</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">K</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">D</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">));</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">W</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">separator</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">U</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">P</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">h</span><span class="s0">});</span><span class="s1">B</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,(</span><span class="s1">n</span><span class="s0">=&gt;</span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)));</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">K</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">...i</span><span class="s0">);</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">function </span><span class="s1">M</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">h</span><span class="s0">});</span><span class="s1">B</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">K</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">D</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">));</span><span class="s4">return </span><span class="s1">G</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">D</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">l</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,(</span><span class="s1">n</span><span class="s0">=&gt;</span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))),(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">V</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">U</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">left</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">right</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">E</span><span class="s0">});</span><span class="s1">B</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">k</span><span class="s0">});</span><span class="s1">s</span><span class="s0">.</span><span class="s1">loopback</span><span class="s0">=</span><span class="s1">o</span><span class="s0">;</span><span class="s1">c</span><span class="s0">.</span><span class="s1">loopback</span><span class="s0">=</span><span class="s1">o</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">decisionMap</span><span class="s0">[</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">?</span><span class="s2">&quot;RepetitionMandatoryWithSeparator&quot;</span><span class="s0">:</span><span class="s2">&quot;RepetitionMandatory&quot;</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">)]=</span><span class="s1">o</span><span class="s0">;</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">s</span><span class="s0">);</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">c</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">c</span><span class="s0">);</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">left</span><span class="s0">);</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">right</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">left</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">right</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">F</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">left</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">right</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">R</span><span class="s0">});</span><span class="s1">B</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">k</span><span class="s0">});</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">T</span><span class="s0">});</span><span class="s1">o</span><span class="s0">.</span><span class="s1">loopback</span><span class="s0">=</span><span class="s1">u</span><span class="s0">;</span><span class="s1">c</span><span class="s0">.</span><span class="s1">loopback</span><span class="s0">=</span><span class="s1">u</span><span class="s0">;</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">s</span><span class="s0">);</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">c</span><span class="s0">);</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">c</span><span class="s0">);</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">left</span><span class="s0">);</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">right</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">decisionMap</span><span class="s0">[</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">?</span><span class="s2">&quot;RepetitionWithSeparator&quot;</span><span class="s0">:</span><span class="s2">&quot;Repetition&quot;</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">)]=</span><span class="s1">o</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">left</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">right</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">G</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">left</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">right</span><span class="s0">;</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">decisionMap</span><span class="s0">[</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;Option&quot;</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">)]=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">B</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">decisionStates</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">decision</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">decisionStates</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">decision</span><span class="s0">}</span><span class="s4">function </span><span class="s1">K</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">...i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">A</span><span class="s0">,</span><span class="s1">start</span><span class="s0">:</span><span class="s1">n</span><span class="s0">});</span><span class="s1">n</span><span class="s0">.</span><span class="s1">end</span><span class="s0">=</span><span class="s1">s</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">left</span><span class="s0">);</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">right</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">={</span><span class="s1">left</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">right</span><span class="s0">:</span><span class="s1">s</span><span class="s0">};</span><span class="s1">e</span><span class="s0">.</span><span class="s1">decisionMap</span><span class="s0">[</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">j</span><span class="s0">(</span><span class="s1">r</span><span class="s0">),</span><span class="s1">r</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">)]=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">return </span><span class="s1">a</span><span class="s0">}</span><span class="s4">function </span><span class="s1">j</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">ak</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;Alternation&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">c$</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;Option&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">Y2</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;Repetition&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">Pp</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;RepetitionWithSeparator&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">$P</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;RepetitionMandatory&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">Cy</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;RepetitionMandatoryWithSeparator&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Invalid production type encountered&quot;</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">V</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">s</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">s</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">s</span><span class="s0">];</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">left</span><span class="s0">.</span><span class="s1">transitions</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">left</span><span class="s0">.</span><span class="s1">transitions</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r </span><span class="s4">instanceof </span><span class="s1">I</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">s</span><span class="s0">+</span><span class="s3">1</span><span class="s0">].</span><span class="s1">left</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">left</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">h</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">right</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">h</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;(</span><span class="s1">i</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">.</span><span class="s1">followState</span><span class="s0">===</span><span class="s1">n</span><span class="s0">.</span><span class="s1">right</span><span class="s0">||</span><span class="s1">r</span><span class="s0">.</span><span class="s1">target</span><span class="s0">===</span><span class="s1">n</span><span class="s0">.</span><span class="s1">right</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">followState</span><span class="s0">=</span><span class="s1">o</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">.</span><span class="s1">target</span><span class="s0">=</span><span class="s1">o</span><span class="s0">}</span><span class="s1">Q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">right</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">right</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">-</span><span class="s3">1</span><span class="s0">];</span><span class="s4">return</span><span class="s0">{</span><span class="s1">left</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">left</span><span class="s0">,</span><span class="s1">right</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">right</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">W</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">h</span><span class="s0">});</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">h</span><span class="s0">});</span><span class="s1">X</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s4">new </span><span class="s1">$</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">));</span><span class="s4">return</span><span class="s0">{</span><span class="s1">left</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">right</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">H</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">referencedRule</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ruleToStartState</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">h</span><span class="s0">});</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">h</span><span class="s0">});</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s4">new </span><span class="s1">I</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">a</span><span class="s0">);</span><span class="s1">X</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">left</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">right</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">z</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ruleToStartState</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">left</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ruleToStopState</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">right</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">={</span><span class="s1">left</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">right</span><span class="s0">:</span><span class="s1">i</span><span class="s0">};</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">w</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">X</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">atn</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">production</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">epsilonOnlyTransitions</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">rule</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">transitions</span><span class="s0">:[],</span><span class="s1">nextTokenWithinRule</span><span class="s0">:[],</span><span class="s1">stateNumber</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">states</span><span class="s0">.</span><span class="s1">length</span><span class="s0">},</span><span class="s1">r</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">states</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">X</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">transitions</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">epsilonOnlyTransitions</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">isEpsilon</span><span class="s0">()}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">transitions</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">states</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">states</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">t</span><span class="s0">),</span><span class="s3">1</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">Z</span><span class="s0">={};</span><span class="s4">class </span><span class="s1">J</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">={};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">configs</span><span class="s0">=[]}</span><span class="s1">get size</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">configs</span><span class="s0">.</span><span class="s1">length</span><span class="s0">}</span><span class="s1">finalize</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">={}}</span><span class="s1">add</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">ee</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!(</span><span class="s1">t </span><span class="s4">in this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">configs</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">configs</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s1">get elements</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">configs</span><span class="s0">}</span><span class="s1">get alts</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">configs</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">alt</span><span class="s0">))}</span><span class="s1">get key</span><span class="s0">(){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t </span><span class="s4">in this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">){</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">t</span><span class="s0">+</span><span class="s2">&quot;:&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">ee</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s4">true</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">?</span><span class="s2">`a</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">alt</span><span class="s0">}</span><span class="s2">`</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">}</span><span class="s2">s</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">state</span><span class="s0">.</span><span class="s1">stateNumber</span><span class="s0">}</span><span class="s2">:</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">stateNumber</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">())).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;_&quot;</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">var </span><span class="s1">te</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">963</span><span class="s0">);</span><span class="s4">var </span><span class="s1">ne</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">57852</span><span class="s0">);</span><span class="s4">var </span><span class="s1">re</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">1121</span><span class="s0">);</span><span class="s4">var </span><span class="s1">ie</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">19363</span><span class="s0">);</span><span class="s4">function </span><span class="s1">se</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">?(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ie</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">re</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,</span><span class="s3">2</span><span class="s0">)):[]}</span><span class="s4">const </span><span class="s1">ae</span><span class="s0">=</span><span class="s1">se</span><span class="s0">;</span><span class="s4">var </span><span class="s1">oe</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">74033</span><span class="s0">);</span><span class="s4">var </span><span class="s1">ce</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">69769</span><span class="s0">);</span><span class="s4">var </span><span class="s1">ue</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">74650</span><span class="s0">);</span><span class="s4">var </span><span class="s1">le</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">65339</span><span class="s0">);</span><span class="s4">function </span><span class="s1">de</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={};</span><span class="s4">return </span><span class="s1">r</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">();</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">s</span><span class="s0">={</span><span class="s1">atnStartState</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">decision</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">states</span><span class="s0">:{}};</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">s</span><span class="s0">;</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}}}</span><span class="s4">class </span><span class="s1">fe</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">predicates</span><span class="s0">=[]}</span><span class="s1">is</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&gt;=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">predicates</span><span class="s0">.</span><span class="s1">length</span><span class="s0">||</span><span class="s4">this</span><span class="s0">.</span><span class="s1">predicates</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">predicates</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">toString</span><span class="s0">(){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">predicates</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">;</span><span class="s1">n</span><span class="s0">++){</span><span class="s1">e</span><span class="s0">+=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">predicates</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]===</span><span class="s4">true</span><span class="s0">?</span><span class="s2">&quot;1&quot;</span><span class="s0">:</span><span class="s2">&quot;0&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">he</span><span class="s0">=</span><span class="s4">new </span><span class="s1">fe</span><span class="s0">;</span><span class="s4">class </span><span class="s1">pe </span><span class="s4">extends </span><span class="s1">c</span><span class="s0">.</span><span class="s1">T6</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">logging</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">logging</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">console</span><span class="s0">.</span><span class="s1">log</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">initialize</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atn</span><span class="s0">=</span><span class="s1">S</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">rules</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dfas</span><span class="s0">=</span><span class="s1">ge</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atn</span><span class="s0">)}</span><span class="s1">validateAmbiguousAlternationAlternatives</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">[]}</span><span class="s1">validateEmptyOrAlternatives</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">[]}</span><span class="s1">buildLookaheadForAlternation</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">prodOccurrence</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">rule</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">hasPredicates</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">dynamicTokensEnabled</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dfas</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">logging</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">d</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s2">&quot;Alternation&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atn</span><span class="s0">.</span><span class="s1">decisionMap</span><span class="s0">[</span><span class="s1">o</span><span class="s0">];</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">decision</span><span class="s0">;</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">jk</span><span class="s0">)({</span><span class="s1">maxLookahead</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">occurrence</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">prodType</span><span class="s0">:</span><span class="s2">&quot;Alternation&quot;</span><span class="s0">,</span><span class="s1">rule</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}),(</span><span class="s1">e</span><span class="s0">=&gt;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]))));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">me</span><span class="s0">(</span><span class="s1">h</span><span class="s0">,</span><span class="s4">false</span><span class="s0">)&amp;&amp;!</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">le</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">h</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">]=</span><span class="s1">n</span><span class="s0">;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">categoryMatches</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">n</span><span class="s0">}))}}));</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),{});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return function</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">r</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">])===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">GATE</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return function</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">]}}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">fe</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">i</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">;</span><span class="s1">i</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">].</span><span class="s1">GATE</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">n</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">))}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">ye</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">f</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">a</span><span class="s0">);</span><span class="s4">return typeof </span><span class="s1">r</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return function</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">ye</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">f</span><span class="s0">,</span><span class="s1">he</span><span class="s0">,</span><span class="s1">a</span><span class="s0">);</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">}}}</span><span class="s1">buildLookaheadForOptional</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">prodOccurrence</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">rule</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">prodType</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">dynamicTokensEnabled</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dfas</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">logging</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">d</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atn</span><span class="s0">.</span><span class="s1">decisionMap</span><span class="s0">[</span><span class="s1">o</span><span class="s0">];</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">decision</span><span class="s0">;</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">jk</span><span class="s0">)({</span><span class="s1">maxLookahead</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">occurrence</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">prodType</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">rule</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}),(</span><span class="s1">e</span><span class="s0">=&gt;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]))));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">me</span><span class="s0">(</span><span class="s1">h</span><span class="s0">)&amp;&amp;</span><span class="s1">h</span><span class="s0">[</span><span class="s3">0</span><span class="s0">][</span><span class="s3">0</span><span class="s0">]&amp;&amp;!</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">h</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">oe</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ue</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">categoryMatches</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">;</span><span class="s4">return function</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">).</span><span class="s1">tokenTypeIdx</span><span class="s0">===</span><span class="s1">n</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">le</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">]=</span><span class="s4">true</span><span class="s0">;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">categoryMatches</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s4">true</span><span class="s0">}))}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),{});</span><span class="s4">return function</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">]===</span><span class="s4">true</span><span class="s0">}}}</span><span class="s4">return function</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">ye</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">f</span><span class="s0">,</span><span class="s1">he</span><span class="s0">,</span><span class="s1">a</span><span class="s0">);</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">?</span><span class="s4">false</span><span class="s0">:</span><span class="s1">e</span><span class="s0">===</span><span class="s3">0</span><span class="s0">}}}</span><span class="s4">function </span><span class="s1">me</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s4">true</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">break</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=[</span><span class="s1">i</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">].</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">categoryMatches</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}}}</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">decisionStates</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Array</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">de</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">decisionStates</span><span class="s0">[</span><span class="s1">r</span><span class="s0">],</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ye</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">](</span><span class="s1">n</span><span class="s0">);</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">start</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Le</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">atnStartState</span><span class="s0">);</span><span class="s1">s</span><span class="s0">=</span><span class="s1">Ne</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">Se</span><span class="s0">(</span><span class="s1">e</span><span class="s0">));</span><span class="s1">i</span><span class="s0">.</span><span class="s1">start</span><span class="s0">=</span><span class="s1">s</span><span class="s0">}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">ve</span><span class="s0">.</span><span class="s1">apply</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,[</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">]);</span><span class="s4">return </span><span class="s1">a</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ve</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=[];</span><span class="s4">let </span><span class="s1">o</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s1">s</span><span class="s0">++);</span><span class="s4">while</span><span class="s0">(</span><span class="s4">true</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">xe</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">Ae</span><span class="s0">.</span><span class="s1">apply</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,[</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">])}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">Z</span><span class="s0">){</span><span class="s4">return </span><span class="s1">ke</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">isAcceptState</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">prediction</span><span class="s0">}</span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s1">a</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s1">o</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s1">s</span><span class="s0">++)}}</span><span class="s4">function </span><span class="s1">Ae</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">){</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">$e</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">configs</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">size</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s1">Ce</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">Z</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Z</span><span class="s0">}</span><span class="s4">let </span><span class="s1">o</span><span class="s0">=</span><span class="s1">Se</span><span class="s0">(</span><span class="s1">a</span><span class="s0">);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">Ie</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">isAcceptState</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">prediction</span><span class="s0">=</span><span class="s1">c</span><span class="s0">;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">configs</span><span class="s0">.</span><span class="s1">uniqueAlt</span><span class="s0">=</span><span class="s1">c</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Me</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">te</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">alts</span><span class="s0">);</span><span class="s1">o</span><span class="s0">.</span><span class="s1">isAcceptState</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">prediction</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">configs</span><span class="s0">.</span><span class="s1">uniqueAlt</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s1">Te</span><span class="s0">.</span><span class="s1">apply</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,[</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">alts</span><span class="s0">,</span><span class="s1">s</span><span class="s0">])}</span><span class="s1">o</span><span class="s0">=</span><span class="s1">Ce</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Te</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">u</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">u</span><span class="s0">&lt;=</span><span class="s1">t</span><span class="s0">;</span><span class="s1">u</span><span class="s0">++){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">LA</span><span class="s0">(</span><span class="s1">u</span><span class="s0">).</span><span class="s1">tokenType</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">atnStartState</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">production</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">Re</span><span class="s0">({</span><span class="s1">topLevelRule</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">ambiguityIndices</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">production</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">prefixPath</span><span class="s0">:</span><span class="s1">i</span><span class="s0">});</span><span class="s1">r</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Re</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">prefixPath</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">Sk</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">))).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">production</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">===</span><span class="s3">0</span><span class="s0">?</span><span class="s2">&quot;&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">production</span><span class="s0">.</span><span class="s1">idx</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s2">`Ambiguous Alternatives Detected: &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ambiguityIndices</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">)}</span><span class="s2">&gt; in &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Ee</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">production</span><span class="s0">)}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&gt;`</span><span class="s0">+</span><span class="s2">` inside &lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">topLevelRule</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">&gt; Rule,</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`&lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">&gt; may appears as a prefix path in all these alternatives.</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">r</span><span class="s0">+</span><span class="s2">`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES</span><span class="s4">\n</span><span class="s2">`</span><span class="s0">+</span><span class="s2">`For Further details.`</span><span class="s0">;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ee</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">wL</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;SUBRULE&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">c$</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;OPTION&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">ak</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;OR&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">$P</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;AT_LEAST_ONE&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">Cy</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;AT_LEAST_ONE_SEP&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">Pp</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;MANY_SEP&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">Y2</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;MANY&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">.</span><span class="s1">BK</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;CONSUME&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;non exhaustive match&quot;</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">ke</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ne</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">configs</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">state</span><span class="s0">.</span><span class="s1">transitions</span><span class="s0">));</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">ae</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">$</span><span class="s0">)).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenType</span><span class="s0">)),(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">));</span><span class="s4">return</span><span class="s0">{</span><span class="s1">actualToken</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">possibleTokenTypes</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">tokenPath</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">xe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">edges</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">$e</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">new </span><span class="s1">J</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">a of e</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">alt</span><span class="s0">)===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">state</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">v</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">a</span><span class="s0">);</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">state</span><span class="s0">.</span><span class="s1">transitions</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">;</span><span class="s1">n</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">state</span><span class="s0">.</span><span class="s1">transitions</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">we</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">add</span><span class="s0">({</span><span class="s1">state</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">alt</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">alt</span><span class="s0">,</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">})}}}</span><span class="s4">let </span><span class="s1">s</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">size</span><span class="s0">===</span><span class="s3">1</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s4">new </span><span class="s1">J</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of r</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">){</span><span class="s1">be</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">&amp;&amp;!</span><span class="s1">Oe</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of i</span><span class="s0">){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">function </span><span class="s1">we</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">$</span><span class="s0">&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">G</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenType</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">target</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ie</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of e</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">alt</span><span class="s0">)===</span><span class="s4">true</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">alt</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">r</span><span class="s0">.</span><span class="s1">alt</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Se</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">configs</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">edges</span><span class="s0">:{},</span><span class="s1">isAcceptState</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">prediction</span><span class="s0">:-</span><span class="s3">1</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Ce</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Ne</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">edges</span><span class="s0">[</span><span class="s1">n</span><span class="s0">.</span><span class="s1">tokenTypeIdx</span><span class="s0">]=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ne</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">Z</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">configs</span><span class="s0">.</span><span class="s1">key</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">states</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">configs</span><span class="s0">.</span><span class="s1">finalize</span><span class="s0">();</span><span class="s1">e</span><span class="s0">.</span><span class="s1">states</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Le</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">J</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">transitions</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">transitions</span><span class="s0">[</span><span class="s1">r</span><span class="s0">].</span><span class="s1">target</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={</span><span class="s1">state</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">alt</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">stack</span><span class="s0">:[]};</span><span class="s1">be</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">be</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">state</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">v</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[</span><span class="s1">...e</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">];</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={</span><span class="s1">state</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">alt</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">alt</span><span class="s0">,</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">n</span><span class="s0">};</span><span class="s1">be</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">epsilonOnlyTransitions</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">transitions</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">i</span><span class="s0">&lt;</span><span class="s1">r</span><span class="s0">;</span><span class="s1">i</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">transitions</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">_e</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">be</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}}</span><span class="s4">function </span><span class="s1">_e</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">instanceof </span><span class="s1">w</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">state</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">target</span><span class="s0">,</span><span class="s1">alt</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">alt</span><span class="s0">,</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">instanceof </span><span class="s1">I</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[</span><span class="s1">...e</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">followState</span><span class="s0">];</span><span class="s4">return</span><span class="s0">{</span><span class="s1">state</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">target</span><span class="s0">,</span><span class="s1">alt</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">alt</span><span class="s0">,</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Oe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">state</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">v</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Pe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">state</span><span class="s0">.</span><span class="s1">type</span><span class="s0">!==</span><span class="s1">v</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Me</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Pe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">De</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Ue</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;!</span><span class="s1">Fe</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">De</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">ee</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s4">false</span><span class="s0">);</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">r</span><span class="s0">={};</span><span class="s1">t</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s1">r</span><span class="s0">[</span><span class="s1">n</span><span class="s0">.</span><span class="s1">alt</span><span class="s0">]=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ue</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of Array</span><span class="s0">.</span><span class="s1">from</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">values</span><span class="s0">())){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">(</span><span class="s1">t</span><span class="s0">).</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Fe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of Array</span><span class="s0">.</span><span class="s1">from</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">values</span><span class="s0">())){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">(</span><span class="s1">t</span><span class="s0">).</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">var </span><span class="s1">Ge</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">63752</span><span class="s0">);</span><span class="s4">var </span><span class="s1">Be</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">Be</span><span class="s0">||(</span><span class="s1">Be</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Ke</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">Ke</span><span class="s0">||(</span><span class="s1">Ke</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">je</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">MIN_VALUE</span><span class="s0">=-</span><span class="s3">2147483648</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">MAX_VALUE</span><span class="s0">=</span><span class="s3">2147483647</span><span class="s0">;</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">MIN_VALUE</span><span class="s0">&lt;=</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">&lt;=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">MAX_VALUE</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">je</span><span class="s0">||(</span><span class="s1">je</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Ve</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">MIN_VALUE</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">MAX_VALUE</span><span class="s0">=</span><span class="s3">2147483647</span><span class="s0">;</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">MIN_VALUE</span><span class="s0">&lt;=</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">&lt;=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">MAX_VALUE</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">Ve</span><span class="s0">||(</span><span class="s1">Ve</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">We</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">Number</span><span class="s0">.</span><span class="s1">MAX_VALUE</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">Ve</span><span class="s0">.</span><span class="s1">MAX_VALUE</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">Number</span><span class="s0">.</span><span class="s1">MAX_VALUE</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">Ve</span><span class="s0">.</span><span class="s1">MAX_VALUE</span><span class="s0">}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">line</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">character</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">uinteger</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">line</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">uinteger</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">character</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">We</span><span class="s0">||(</span><span class="s1">We</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">He</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">uinteger</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">uinteger</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">uinteger</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">uinteger</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">start</span><span class="s0">:</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">),</span><span class="s1">end</span><span class="s0">:</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">We</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">We</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">start</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Range#create called with invalid arguments[</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">]`</span><span class="s0">)}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">We</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">start</span><span class="s0">)&amp;&amp;</span><span class="s1">We</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">end</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">He</span><span class="s0">||(</span><span class="s1">He</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">ze</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">uri</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">He</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">)&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">)||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">undefined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">ze</span><span class="s0">||(</span><span class="s1">ze</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Ye</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">targetUri</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">targetRange</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">targetSelectionRange</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">originSelectionRange</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">He</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">targetRange</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">targetUri</span><span class="s0">)&amp;&amp;</span><span class="s1">He</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">targetSelectionRange</span><span class="s0">)&amp;&amp;(</span><span class="s1">He</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">originSelectionRange</span><span class="s0">)||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">undefined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">originSelectionRange</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">Ye</span><span class="s0">||(</span><span class="s1">Ye</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">qe</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">red</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">green</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">blue</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">alpha</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">numberRange</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">red</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,</span><span class="s3">1</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">numberRange</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">green</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,</span><span class="s3">1</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">numberRange</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">blue</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,</span><span class="s3">1</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">numberRange</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">alpha</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,</span><span class="s3">1</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">qe</span><span class="s0">||(</span><span class="s1">qe</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Xe</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">range</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">color</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">He</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">)&amp;&amp;</span><span class="s1">qe</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">color</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">Xe</span><span class="s0">||(</span><span class="s1">Xe</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Qe</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">label</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">textEdit</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">additionalTextEdits</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">label</span><span class="s0">)&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">undefined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">textEdit</span><span class="s0">)||</span><span class="s1">at</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">))&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">undefined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">additionalTextEdits</span><span class="s0">)||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">typedArray</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">additionalTextEdits</span><span class="s0">,</span><span class="s1">at</span><span class="s0">.</span><span class="s1">is</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">Qe</span><span class="s0">||(</span><span class="s1">Qe</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Ze</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Comment</span><span class="s0">=</span><span class="s2">&quot;comment&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Imports</span><span class="s0">=</span><span class="s2">&quot;imports&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Region</span><span class="s0">=</span><span class="s2">&quot;region&quot;</span><span class="s0">})(</span><span class="s1">Ze</span><span class="s0">||(</span><span class="s1">Ze</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Je</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">){</span><span class="s4">const </span><span class="s1">a</span><span class="s0">={</span><span class="s1">startLine</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">endLine</span><span class="s0">:</span><span class="s1">t</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">startCharacter</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">endCharacter</span><span class="s0">=</span><span class="s1">r</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">collapsedText</span><span class="s0">=</span><span class="s1">s</span><span class="s0">}</span><span class="s4">return </span><span class="s1">a</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">uinteger</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">startLine</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">uinteger</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">startLine</span><span class="s0">)&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">undefined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">startCharacter</span><span class="s0">)||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">uinteger</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">startCharacter</span><span class="s0">))&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">undefined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">endCharacter</span><span class="s0">)||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">uinteger</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">endCharacter</span><span class="s0">))&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">undefined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">)||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">Je</span><span class="s0">||(</span><span class="s1">Je</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">et</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">location</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">message</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">ze</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">location</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">message</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">et</span><span class="s0">||(</span><span class="s1">et</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">tt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Error</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Warning</span><span class="s0">=</span><span class="s3">2</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Information</span><span class="s0">=</span><span class="s3">3</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Hint</span><span class="s0">=</span><span class="s3">4</span><span class="s0">})(</span><span class="s1">tt</span><span class="s0">||(</span><span class="s1">tt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">nt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Unnecessary</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Deprecated</span><span class="s0">=</span><span class="s3">2</span><span class="s0">})(</span><span class="s1">nt</span><span class="s0">||(</span><span class="s1">nt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">rt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">href</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">rt</span><span class="s0">||(</span><span class="s1">rt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">it</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">){</span><span class="s4">let </span><span class="s1">a</span><span class="s0">={</span><span class="s1">range</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">message</span><span class="s0">:</span><span class="s1">t</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">severity</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">code</span><span class="s0">=</span><span class="s1">r</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">source</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">relatedInformation</span><span class="s0">=</span><span class="s1">s</span><span class="s0">}</span><span class="s4">return </span><span class="s1">a</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">He</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">range</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">message</span><span class="s0">)&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">number</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">severity</span><span class="s0">)||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">undefined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">severity</span><span class="s0">))&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">integer</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">code</span><span class="s0">)||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">code</span><span class="s0">)||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">undefined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">code</span><span class="s0">))&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">undefined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">codeDescription</span><span class="s0">)||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">codeDescription</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">href</span><span class="s0">))&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">source</span><span class="s0">)||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">undefined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">source</span><span class="s0">))&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">undefined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">relatedInformation</span><span class="s0">)||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">typedArray</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">relatedInformation</span><span class="s0">,</span><span class="s1">et</span><span class="s0">.</span><span class="s1">is</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">it</span><span class="s0">||(</span><span class="s1">it</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">st</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">...n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">={</span><span class="s1">title</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">command</span><span class="s0">:</span><span class="s1">t</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">arguments</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">title</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">command</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">st</span><span class="s0">||(</span><span class="s1">st</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">at</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">range</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">newText</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">range</span><span class="s0">:{</span><span class="s1">start</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">e</span><span class="s0">},</span><span class="s1">newText</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">insert</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">function </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">range</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">newText</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">del</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">newText</span><span class="s0">)&amp;&amp;</span><span class="s1">He</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">i</span><span class="s0">})(</span><span class="s1">at</span><span class="s0">||(</span><span class="s1">at</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">ot</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">={</span><span class="s1">label</span><span class="s0">:</span><span class="s1">e</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">needsConfirmation</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">description</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">label</span><span class="s0">)&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">needsConfirmation</span><span class="s0">)||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">needsConfirmation</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">)&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">description</span><span class="s0">)||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">description</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">ot</span><span class="s0">||(</span><span class="s1">ot</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">ct</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">ct</span><span class="s0">||(</span><span class="s1">ct</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">ut</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">range</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">newText</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">annotationId</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">range</span><span class="s0">:{</span><span class="s1">start</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">e</span><span class="s0">},</span><span class="s1">newText</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">annotationId</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">insert</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">function </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">range</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">newText</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">annotationId</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">del</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">at</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;(</span><span class="s1">ot</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">annotationId</span><span class="s0">)||</span><span class="s1">ct</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">annotationId</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">i</span><span class="s0">})(</span><span class="s1">ut</span><span class="s0">||(</span><span class="s1">ut</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">lt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">textDocument</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">edits</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">Tt</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">textDocument</span><span class="s0">)&amp;&amp;</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">edits</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">lt</span><span class="s0">||(</span><span class="s1">lt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">dt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">={</span><span class="s1">kind</span><span class="s0">:</span><span class="s2">&quot;create&quot;</span><span class="s0">,</span><span class="s1">uri</span><span class="s0">:</span><span class="s1">e</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">overwrite</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ignoreIfExists</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">options</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">annotationId</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">===</span><span class="s2">&quot;create&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">)&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">options</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">overwrite</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">overwrite</span><span class="s0">))&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">ignoreIfExists</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">ignoreIfExists</span><span class="s0">)))&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">annotationId</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">ct</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">annotationId</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">dt</span><span class="s0">||(</span><span class="s1">dt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">ft</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">let </span><span class="s1">i</span><span class="s0">={</span><span class="s1">kind</span><span class="s0">:</span><span class="s2">&quot;rename&quot;</span><span class="s0">,</span><span class="s1">oldUri</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">newUri</span><span class="s0">:</span><span class="s1">t</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">overwrite</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">n</span><span class="s0">.</span><span class="s1">ignoreIfExists</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">options</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">annotationId</span><span class="s0">=</span><span class="s1">r</span><span class="s0">}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">===</span><span class="s2">&quot;rename&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">oldUri</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">newUri</span><span class="s0">)&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">options</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">overwrite</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">overwrite</span><span class="s0">))&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">ignoreIfExists</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">ignoreIfExists</span><span class="s0">)))&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">annotationId</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">ct</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">annotationId</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">ft</span><span class="s0">||(</span><span class="s1">ft</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">ht</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">={</span><span class="s1">kind</span><span class="s0">:</span><span class="s2">&quot;delete&quot;</span><span class="s0">,</span><span class="s1">uri</span><span class="s0">:</span><span class="s1">e</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">recursive</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ignoreIfNotExists</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">options</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">annotationId</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">===</span><span class="s2">&quot;delete&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">)&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">options</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">recursive</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">recursive</span><span class="s0">))&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">ignoreIfNotExists</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">ignoreIfNotExists</span><span class="s0">)))&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">annotationId</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">ct</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">annotationId</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">ht</span><span class="s0">||(</span><span class="s1">ht</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">pt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">changes</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">documentChanges</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">documentChanges</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">documentChanges</span><span class="s0">.</span><span class="s1">every</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">dt</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">ft</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">ht</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">lt</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}})))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">pt</span><span class="s0">||(</span><span class="s1">pt</span><span class="s0">={}));</span><span class="s4">class </span><span class="s1">mt</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">edits</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">changeAnnotations</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">insert</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">at</span><span class="s0">.</span><span class="s1">insert</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">ct</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">ut</span><span class="s0">.</span><span class="s1">insert</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assertChangeAnnotations</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">changeAnnotations</span><span class="s0">);</span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">changeAnnotations</span><span class="s0">.</span><span class="s1">manage</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">r</span><span class="s0">=</span><span class="s1">ut</span><span class="s0">.</span><span class="s1">insert</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">edits</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}}</span><span class="s1">replace</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">at</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">ct</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">ut</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assertChangeAnnotations</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">changeAnnotations</span><span class="s0">);</span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">changeAnnotations</span><span class="s0">.</span><span class="s1">manage</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">r</span><span class="s0">=</span><span class="s1">ut</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">edits</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}}</span><span class="s4">delete</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">at</span><span class="s0">.</span><span class="s1">del</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">ct</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s1">n</span><span class="s0">=</span><span class="s1">ut</span><span class="s0">.</span><span class="s1">del</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assertChangeAnnotations</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">changeAnnotations</span><span class="s0">);</span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">changeAnnotations</span><span class="s0">.</span><span class="s1">manage</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">n</span><span class="s0">=</span><span class="s1">ut</span><span class="s0">.</span><span class="s1">del</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">edits</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}}</span><span class="s1">add</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">edits</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">all</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">edits</span><span class="s0">}</span><span class="s1">clear</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">edits</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">edits</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)}</span><span class="s1">assertChangeAnnotations</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Text edit change is not configured to manage change annotations.`</span><span class="s0">)}}}</span><span class="s4">class </span><span class="s1">gt</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_annotations</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">?</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s4">null</span><span class="s0">):</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_counter</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_size</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s1">all</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_annotations</span><span class="s0">}</span><span class="s1">get size</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_size</span><span class="s0">}</span><span class="s1">manage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ct</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextId</span><span class="s0">();</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_annotations</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Id </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">} </span><span class="s2">is already in use.`</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`No annotation provided for id </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_annotations</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_size</span><span class="s0">++;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">nextId</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_counter</span><span class="s0">++;</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_counter</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()}}</span><span class="s4">class </span><span class="s1">yt</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_textEditChanges</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s4">null</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">documentChanges</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_changeAnnotations</span><span class="s0">=</span><span class="s4">new </span><span class="s1">gt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">changeAnnotations</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">changeAnnotations</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_changeAnnotations</span><span class="s0">.</span><span class="s1">all</span><span class="s0">();</span><span class="s1">e</span><span class="s0">.</span><span class="s1">documentChanges</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">lt</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">mt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">edits</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_changeAnnotations</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_textEditChanges</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">textDocument</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">]=</span><span class="s1">t</span><span class="s0">}}))}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">changes</span><span class="s0">){</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">changes</span><span class="s0">).</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">mt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">changes</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_textEditChanges</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">n</span><span class="s0">}))}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">={}}}</span><span class="s1">get edit</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">initDocumentChanges</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_changeAnnotations</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_changeAnnotations</span><span class="s0">.</span><span class="s1">size</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">.</span><span class="s1">changeAnnotations</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">.</span><span class="s1">changeAnnotations</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_changeAnnotations</span><span class="s0">.</span><span class="s1">all</span><span class="s0">()}}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">}</span><span class="s1">getTextEditChange</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">initDocumentChanges</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">.</span><span class="s1">documentChanges</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Workspace edit is not configured for document changes.&quot;</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={</span><span class="s1">uri</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">,</span><span class="s1">version</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">version</span><span class="s0">};</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_textEditChanges</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">r</span><span class="s0">={</span><span class="s1">textDocument</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">edits</span><span class="s0">:</span><span class="s1">e</span><span class="s0">};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">.</span><span class="s1">documentChanges</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">mt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_changeAnnotations</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_textEditChanges</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">]=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">initChanges</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">.</span><span class="s1">changes</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Workspace edit is not configured for normal text edit changes.&quot;</span><span class="s0">)}</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_textEditChanges</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">.</span><span class="s1">changes</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">n</span><span class="s0">;</span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">mt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_textEditChanges</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s1">initDocumentChanges</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">.</span><span class="s1">documentChanges</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">.</span><span class="s1">changes</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_changeAnnotations</span><span class="s0">=</span><span class="s4">new </span><span class="s1">gt</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">.</span><span class="s1">documentChanges</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">.</span><span class="s1">changeAnnotations</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_changeAnnotations</span><span class="s0">.</span><span class="s1">all</span><span class="s0">()}}</span><span class="s1">initChanges</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">.</span><span class="s1">documentChanges</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">.</span><span class="s1">changes</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">.</span><span class="s1">changes</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s4">null</span><span class="s0">)}}</span><span class="s1">createFile</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">initDocumentChanges</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">.</span><span class="s1">documentChanges</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Workspace edit is not configured for document changes.&quot;</span><span class="s0">)}</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ot</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)||</span><span class="s1">ct</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">let </span><span class="s1">s</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">dt</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">s</span><span class="s0">=</span><span class="s1">ct</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)?</span><span class="s1">r</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_changeAnnotations</span><span class="s0">.</span><span class="s1">manage</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">i</span><span class="s0">=</span><span class="s1">dt</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">.</span><span class="s1">documentChanges</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}}</span><span class="s1">renameFile</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">initDocumentChanges</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">.</span><span class="s1">documentChanges</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Workspace edit is not configured for document changes.&quot;</span><span class="s0">)}</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ot</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)||</span><span class="s1">ct</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">let </span><span class="s1">s</span><span class="s0">;</span><span class="s4">let </span><span class="s1">a</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s1">ft</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">a</span><span class="s0">=</span><span class="s1">ct</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)?</span><span class="s1">i</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_changeAnnotations</span><span class="s0">.</span><span class="s1">manage</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s1">s</span><span class="s0">=</span><span class="s1">ft</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">a</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">.</span><span class="s1">documentChanges</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">a</span><span class="s0">}}</span><span class="s1">deleteFile</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">initDocumentChanges</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">.</span><span class="s1">documentChanges</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Workspace edit is not configured for document changes.&quot;</span><span class="s0">)}</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ot</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)||</span><span class="s1">ct</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">let </span><span class="s1">s</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">ht</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">s</span><span class="s0">=</span><span class="s1">ct</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)?</span><span class="s1">r</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_changeAnnotations</span><span class="s0">.</span><span class="s1">manage</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">i</span><span class="s0">=</span><span class="s1">ht</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_workspaceEdit</span><span class="s0">.</span><span class="s1">documentChanges</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}}}</span><span class="s4">var </span><span class="s1">vt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">uri</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">vt</span><span class="s0">||(</span><span class="s1">vt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">At</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">uri</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">version</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">integer</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">version</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">At</span><span class="s0">||(</span><span class="s1">At</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Tt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">uri</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">version</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">)&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">version</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">integer</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">version</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">Tt</span><span class="s0">||(</span><span class="s1">Tt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Rt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">uri</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">languageId</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">version</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">text</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">languageId</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">integer</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">version</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">text</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">Rt</span><span class="s0">||(</span><span class="s1">Rt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Et</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PlainText</span><span class="s0">=</span><span class="s2">&quot;plaintext&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Markdown</span><span class="s0">=</span><span class="s2">&quot;markdown&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PlainText</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Markdown</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">Et</span><span class="s0">||(</span><span class="s1">Et</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">kt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">Et</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">kt</span><span class="s0">||(</span><span class="s1">kt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">xt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Text</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Method</span><span class="s0">=</span><span class="s3">2</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Function</span><span class="s0">=</span><span class="s3">3</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Constructor</span><span class="s0">=</span><span class="s3">4</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Field</span><span class="s0">=</span><span class="s3">5</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Variable</span><span class="s0">=</span><span class="s3">6</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Class</span><span class="s0">=</span><span class="s3">7</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Interface</span><span class="s0">=</span><span class="s3">8</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Module</span><span class="s0">=</span><span class="s3">9</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Property</span><span class="s0">=</span><span class="s3">10</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Unit</span><span class="s0">=</span><span class="s3">11</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Value</span><span class="s0">=</span><span class="s3">12</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Enum</span><span class="s0">=</span><span class="s3">13</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Keyword</span><span class="s0">=</span><span class="s3">14</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Snippet</span><span class="s0">=</span><span class="s3">15</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Color</span><span class="s0">=</span><span class="s3">16</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">File</span><span class="s0">=</span><span class="s3">17</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Reference</span><span class="s0">=</span><span class="s3">18</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Folder</span><span class="s0">=</span><span class="s3">19</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">EnumMember</span><span class="s0">=</span><span class="s3">20</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Constant</span><span class="s0">=</span><span class="s3">21</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Struct</span><span class="s0">=</span><span class="s3">22</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Event</span><span class="s0">=</span><span class="s3">23</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Operator</span><span class="s0">=</span><span class="s3">24</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">TypeParameter</span><span class="s0">=</span><span class="s3">25</span><span class="s0">})(</span><span class="s1">xt</span><span class="s0">||(</span><span class="s1">xt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">$t</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PlainText</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Snippet</span><span class="s0">=</span><span class="s3">2</span><span class="s0">})(</span><span class="s1">$t</span><span class="s0">||(</span><span class="s1">$t</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">wt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Deprecated</span><span class="s0">=</span><span class="s3">1</span><span class="s0">})(</span><span class="s1">wt</span><span class="s0">||(</span><span class="s1">wt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">It</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">newText</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">insert</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">replace</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">newText</span><span class="s0">)&amp;&amp;</span><span class="s1">He</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">insert</span><span class="s0">)&amp;&amp;</span><span class="s1">He</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">It</span><span class="s0">||(</span><span class="s1">It</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">St</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">asIs</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">adjustIndentation</span><span class="s0">=</span><span class="s3">2</span><span class="s0">})(</span><span class="s1">St</span><span class="s0">||(</span><span class="s1">St</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Ct</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">detail</span><span class="s0">)||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">detail</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">)&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">description</span><span class="s0">)||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">description</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">Ct</span><span class="s0">||(</span><span class="s1">Ct</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Nt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">label</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">Nt</span><span class="s0">||(</span><span class="s1">Nt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Lt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">items</span><span class="s0">:</span><span class="s1">e</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:[],</span><span class="s1">isIncomplete</span><span class="s0">:!!</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">Lt</span><span class="s0">||(</span><span class="s1">Lt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">bt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/[\\`*_{}[\]()#+\-.!]/g</span><span class="s0">,</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">$&amp;&quot;</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fromPlainText</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">language</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">bt</span><span class="s0">||(</span><span class="s1">bt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">_t</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;(</span><span class="s1">kt</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">contents</span><span class="s0">)||</span><span class="s1">bt</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">contents</span><span class="s0">)||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">typedArray</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">contents</span><span class="s0">,</span><span class="s1">bt</span><span class="s0">.</span><span class="s1">is</span><span class="s0">))&amp;&amp;(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">He</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">_t</span><span class="s0">||(</span><span class="s1">_t</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Ot</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">?{</span><span class="s1">label</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">documentation</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}:{</span><span class="s1">label</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">Ot</span><span class="s0">||(</span><span class="s1">Ot</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Pt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">...n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">={</span><span class="s1">label</span><span class="s0">:</span><span class="s1">e</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">documentation</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">parameters</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">.</span><span class="s1">parameters</span><span class="s0">=[]}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">Pt</span><span class="s0">||(</span><span class="s1">Pt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Mt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Text</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Read</span><span class="s0">=</span><span class="s3">2</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Write</span><span class="s0">=</span><span class="s3">3</span><span class="s0">})(</span><span class="s1">Mt</span><span class="s0">||(</span><span class="s1">Mt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Dt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">={</span><span class="s1">range</span><span class="s0">:</span><span class="s1">e</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">number</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">Dt</span><span class="s0">||(</span><span class="s1">Dt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Ut</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">File</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Module</span><span class="s0">=</span><span class="s3">2</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Namespace</span><span class="s0">=</span><span class="s3">3</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Package</span><span class="s0">=</span><span class="s3">4</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Class</span><span class="s0">=</span><span class="s3">5</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Method</span><span class="s0">=</span><span class="s3">6</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Property</span><span class="s0">=</span><span class="s3">7</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Field</span><span class="s0">=</span><span class="s3">8</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Constructor</span><span class="s0">=</span><span class="s3">9</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Enum</span><span class="s0">=</span><span class="s3">10</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Interface</span><span class="s0">=</span><span class="s3">11</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Function</span><span class="s0">=</span><span class="s3">12</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Variable</span><span class="s0">=</span><span class="s3">13</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Constant</span><span class="s0">=</span><span class="s3">14</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">String</span><span class="s0">=</span><span class="s3">15</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Number</span><span class="s0">=</span><span class="s3">16</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Boolean</span><span class="s0">=</span><span class="s3">17</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Array</span><span class="s0">=</span><span class="s3">18</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Object</span><span class="s0">=</span><span class="s3">19</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Key</span><span class="s0">=</span><span class="s3">20</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Null</span><span class="s0">=</span><span class="s3">21</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">EnumMember</span><span class="s0">=</span><span class="s3">22</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Struct</span><span class="s0">=</span><span class="s3">23</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Event</span><span class="s0">=</span><span class="s3">24</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Operator</span><span class="s0">=</span><span class="s3">25</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">TypeParameter</span><span class="s0">=</span><span class="s3">26</span><span class="s0">})(</span><span class="s1">Ut</span><span class="s0">||(</span><span class="s1">Ut</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Ft</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Deprecated</span><span class="s0">=</span><span class="s3">1</span><span class="s0">})(</span><span class="s1">Ft</span><span class="s0">||(</span><span class="s1">Ft</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Gt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">let </span><span class="s1">s</span><span class="s0">={</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">kind</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">location</span><span class="s0">:{</span><span class="s1">uri</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">containerName</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">Gt</span><span class="s0">||(</span><span class="s1">Gt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Bt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">kind</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">location</span><span class="s0">:{</span><span class="s1">uri</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}}:{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">kind</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">location</span><span class="s0">:{</span><span class="s1">uri</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">Bt</span><span class="s0">||(</span><span class="s1">Bt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Kt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">){</span><span class="s4">let </span><span class="s1">a</span><span class="s0">={</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">detail</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">kind</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">selectionRange</span><span class="s0">:</span><span class="s1">i</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">children</span><span class="s0">=</span><span class="s1">s</span><span class="s0">}</span><span class="s4">return </span><span class="s1">a</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">name</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">number</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">)&amp;&amp;</span><span class="s1">He</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">)&amp;&amp;</span><span class="s1">He</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">selectionRange</span><span class="s0">)&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">detail</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">detail</span><span class="s0">))&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">deprecated</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">deprecated</span><span class="s0">))&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">children</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">children</span><span class="s0">))&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tags</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tags</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">Kt</span><span class="s0">||(</span><span class="s1">Kt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">jt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Empty</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">QuickFix</span><span class="s0">=</span><span class="s2">&quot;quickfix&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Refactor</span><span class="s0">=</span><span class="s2">&quot;refactor&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">RefactorExtract</span><span class="s0">=</span><span class="s2">&quot;refactor.extract&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">RefactorInline</span><span class="s0">=</span><span class="s2">&quot;refactor.inline&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">RefactorRewrite</span><span class="s0">=</span><span class="s2">&quot;refactor.rewrite&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Source</span><span class="s0">=</span><span class="s2">&quot;source&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">SourceOrganizeImports</span><span class="s0">=</span><span class="s2">&quot;source.organizeImports&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">SourceFixAll</span><span class="s0">=</span><span class="s2">&quot;source.fixAll&quot;</span><span class="s0">})(</span><span class="s1">jt</span><span class="s0">||(</span><span class="s1">jt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Vt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Invoked</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Automatic</span><span class="s0">=</span><span class="s3">2</span><span class="s0">})(</span><span class="s1">Vt</span><span class="s0">||(</span><span class="s1">Vt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Wt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">={</span><span class="s1">diagnostics</span><span class="s0">:</span><span class="s1">e</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">only</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">triggerKind</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">typedArray</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">diagnostics</span><span class="s0">,</span><span class="s1">it</span><span class="s0">.</span><span class="s1">is</span><span class="s0">)&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">only</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">typedArray</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">only</span><span class="s0">,</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">))&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">triggerKind</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">triggerKind</span><span class="s0">===</span><span class="s1">Vt</span><span class="s0">.</span><span class="s1">Invoked</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">triggerKind</span><span class="s0">===</span><span class="s1">Vt</span><span class="s0">.</span><span class="s1">Automatic</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">Wt</span><span class="s0">||(</span><span class="s1">Wt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Ht</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">={</span><span class="s1">title</span><span class="s0">:</span><span class="s1">e</span><span class="s0">};</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">st</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">command</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">.</span><span class="s1">edit</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">title</span><span class="s0">)&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">diagnostics</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">typedArray</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">diagnostics</span><span class="s0">,</span><span class="s1">it</span><span class="s0">.</span><span class="s1">is</span><span class="s0">))&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">))&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">edit</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">command</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">command</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">st</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">command</span><span class="s0">))&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">isPreferred</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">isPreferred</span><span class="s0">))&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">edit</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">pt</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">edit</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">Ht</span><span class="s0">||(</span><span class="s1">Ht</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">zt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">={</span><span class="s1">range</span><span class="s0">:</span><span class="s1">e</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">data</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">He</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">)&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">undefined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">command</span><span class="s0">)||</span><span class="s1">st</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">command</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">zt</span><span class="s0">||(</span><span class="s1">zt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Yt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">tabSize</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">insertSpaces</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">uinteger</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tabSize</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">insertSpaces</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">Yt</span><span class="s0">||(</span><span class="s1">Yt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">qt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">range</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">target</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">data</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">He</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">)&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">undefined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">target</span><span class="s0">)||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">target</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">qt</span><span class="s0">||(</span><span class="s1">qt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Xt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">range</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">parent</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">He</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">range</span><span class="s0">)&amp;&amp;(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">Xt</span><span class="s0">||(</span><span class="s1">Xt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Qt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;namespace&quot;</span><span class="s0">]=</span><span class="s2">&quot;namespace&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;type&quot;</span><span class="s0">]=</span><span class="s2">&quot;type&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;class&quot;</span><span class="s0">]=</span><span class="s2">&quot;class&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;enum&quot;</span><span class="s0">]=</span><span class="s2">&quot;enum&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;interface&quot;</span><span class="s0">]=</span><span class="s2">&quot;interface&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;struct&quot;</span><span class="s0">]=</span><span class="s2">&quot;struct&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;typeParameter&quot;</span><span class="s0">]=</span><span class="s2">&quot;typeParameter&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;parameter&quot;</span><span class="s0">]=</span><span class="s2">&quot;parameter&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;variable&quot;</span><span class="s0">]=</span><span class="s2">&quot;variable&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;property&quot;</span><span class="s0">]=</span><span class="s2">&quot;property&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;enumMember&quot;</span><span class="s0">]=</span><span class="s2">&quot;enumMember&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;event&quot;</span><span class="s0">]=</span><span class="s2">&quot;event&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;function&quot;</span><span class="s0">]=</span><span class="s2">&quot;function&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;method&quot;</span><span class="s0">]=</span><span class="s2">&quot;method&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;macro&quot;</span><span class="s0">]=</span><span class="s2">&quot;macro&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;keyword&quot;</span><span class="s0">]=</span><span class="s2">&quot;keyword&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;modifier&quot;</span><span class="s0">]=</span><span class="s2">&quot;modifier&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;comment&quot;</span><span class="s0">]=</span><span class="s2">&quot;comment&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;string&quot;</span><span class="s0">]=</span><span class="s2">&quot;string&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;number&quot;</span><span class="s0">]=</span><span class="s2">&quot;number&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;regexp&quot;</span><span class="s0">]=</span><span class="s2">&quot;regexp&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;operator&quot;</span><span class="s0">]=</span><span class="s2">&quot;operator&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;decorator&quot;</span><span class="s0">]=</span><span class="s2">&quot;decorator&quot;</span><span class="s0">})(</span><span class="s1">Qt</span><span class="s0">||(</span><span class="s1">Qt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Zt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;declaration&quot;</span><span class="s0">]=</span><span class="s2">&quot;declaration&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;definition&quot;</span><span class="s0">]=</span><span class="s2">&quot;definition&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;readonly&quot;</span><span class="s0">]=</span><span class="s2">&quot;readonly&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;static&quot;</span><span class="s0">]=</span><span class="s2">&quot;static&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;deprecated&quot;</span><span class="s0">]=</span><span class="s2">&quot;deprecated&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;abstract&quot;</span><span class="s0">]=</span><span class="s2">&quot;abstract&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;async&quot;</span><span class="s0">]=</span><span class="s2">&quot;async&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;modification&quot;</span><span class="s0">]=</span><span class="s2">&quot;modification&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;documentation&quot;</span><span class="s0">]=</span><span class="s2">&quot;documentation&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;defaultLibrary&quot;</span><span class="s0">]=</span><span class="s2">&quot;defaultLibrary&quot;</span><span class="s0">})(</span><span class="s1">Zt</span><span class="s0">||(</span><span class="s1">Zt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Jt</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">resultId</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">.</span><span class="s1">resultId</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">)&amp;&amp;</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">data</span><span class="s0">)&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">||</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">.</span><span class="s1">data</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]===</span><span class="s2">&quot;number&quot;</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">Jt</span><span class="s0">||(</span><span class="s1">Jt</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">en</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">range</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">text</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">He</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">text</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">en</span><span class="s0">||(</span><span class="s1">en</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">tn</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">range</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">variableName</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">caseSensitiveLookup</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">He</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">caseSensitiveLookup</span><span class="s0">)&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">variableName</span><span class="s0">)||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">variableName</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">tn</span><span class="s0">||(</span><span class="s1">tn</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">nn</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">range</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">expression</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">He</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">)&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">expression</span><span class="s0">)||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">expression</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">nn</span><span class="s0">||(</span><span class="s1">nn</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">rn</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">frameId</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">stoppedLocation</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">He</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">stoppedLocation</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">rn</span><span class="s0">||(</span><span class="s1">rn</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">sn</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Type</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Parameter</span><span class="s0">=</span><span class="s3">2</span><span class="s0">;</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s3">1</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s3">2</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">sn</span><span class="s0">||(</span><span class="s1">sn</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">an</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tooltip</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tooltip</span><span class="s0">)||</span><span class="s1">kt</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tooltip</span><span class="s0">))&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">location</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">ze</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">location</span><span class="s0">))&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">command</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">st</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">command</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">an</span><span class="s0">||(</span><span class="s1">an</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">on</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">={</span><span class="s1">position</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">label</span><span class="s0">:</span><span class="s1">t</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">We</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">position</span><span class="s0">)&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">label</span><span class="s0">)||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">typedArray</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">label</span><span class="s0">,</span><span class="s1">an</span><span class="s0">.</span><span class="s1">is</span><span class="s0">))&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">sn</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">))&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">textEdits</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">typedArray</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">textEdits</span><span class="s0">,</span><span class="s1">at</span><span class="s0">.</span><span class="s1">is</span><span class="s0">)&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tooltip</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tooltip</span><span class="s0">)||</span><span class="s1">kt</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tooltip</span><span class="s0">))&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">paddingLeft</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">paddingLeft</span><span class="s0">))&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">paddingRight</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">paddingRight</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">})(</span><span class="s1">on</span><span class="s0">||(</span><span class="s1">on</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">cn</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">kind</span><span class="s0">:</span><span class="s2">&quot;snippet&quot;</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">createSnippet</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">cn</span><span class="s0">||(</span><span class="s1">cn</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">un</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">insertText</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">filterText</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">command</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">un</span><span class="s0">||(</span><span class="s1">un</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">ln</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">items</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">ln</span><span class="s0">||(</span><span class="s1">ln</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">dn</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Invoked</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Automatic</span><span class="s0">=</span><span class="s3">1</span><span class="s0">})(</span><span class="s1">dn</span><span class="s0">||(</span><span class="s1">dn</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">fn</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">range</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">text</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">fn</span><span class="s0">||(</span><span class="s1">fn</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">hn</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">triggerKind</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">selectedCompletionInfo</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">hn</span><span class="s0">||(</span><span class="s1">hn</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">pn</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">Ke</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">name</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">pn</span><span class="s0">||(</span><span class="s1">pn</span><span class="s0">={}));</span><span class="s4">const </span><span class="s1">mn</span><span class="s0">=</span><span class="s4">null</span><span class="s0">&amp;&amp;[</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">,</span><span class="s2">&quot;</span><span class="s4">\r\n</span><span class="s2">&quot;</span><span class="s0">,</span><span class="s2">&quot;</span><span class="s4">\r</span><span class="s2">&quot;</span><span class="s0">];</span><span class="s4">var </span><span class="s1">gn</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">yn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">vn</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">)&amp;&amp;(</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">undefined</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">languageId</span><span class="s0">)||</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">languageId</span><span class="s0">))&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">uinteger</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">lineCount</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">getText</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">positionAt</span><span class="s0">)&amp;&amp;</span><span class="s1">vn</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">offsetAt</span><span class="s0">)?</span><span class="s4">true</span><span class="s0">:</span><span class="s4">false</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">function </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getText</span><span class="s0">();</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">-</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">character</span><span class="s0">-</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">character</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}));</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">i</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">i</span><span class="s0">--){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">offsetAt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">);</span><span class="s4">let </span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">offsetAt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">end</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">&lt;=</span><span class="s1">s</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">)+</span><span class="s1">t</span><span class="s0">.</span><span class="s1">newText</span><span class="s0">+</span><span class="s1">n</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Overlapping edit&quot;</span><span class="s0">)}</span><span class="s1">s</span><span class="s0">=</span><span class="s1">a</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">applyEdits</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&lt;=</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">/</span><span class="s3">2</span><span class="s0">|</span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">i</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">i</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">o</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">c</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">a</span><span class="s0">&lt;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">&lt;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">(</span><span class="s1">r</span><span class="s0">[</span><span class="s1">a</span><span class="s0">],</span><span class="s1">s</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&lt;=</span><span class="s3">0</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">c</span><span class="s0">++]=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">a</span><span class="s0">++]}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">[</span><span class="s1">c</span><span class="s0">++]=</span><span class="s1">s</span><span class="s0">[</span><span class="s1">o</span><span class="s0">++]}}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">a</span><span class="s0">&lt;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">c</span><span class="s0">++]=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">a</span><span class="s0">++]}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">o</span><span class="s0">&lt;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">c</span><span class="s0">++]=</span><span class="s1">s</span><span class="s0">[</span><span class="s1">o</span><span class="s0">++]}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}})(</span><span class="s1">gn</span><span class="s0">||(</span><span class="s1">gn</span><span class="s0">={}));</span><span class="s4">class </span><span class="s1">yn</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_uri</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_languageId</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_version</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_lineOffsets</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">get uri</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_uri</span><span class="s0">}</span><span class="s1">get languageId</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_languageId</span><span class="s0">}</span><span class="s1">get version</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_version</span><span class="s0">}</span><span class="s1">getText</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">offsetAt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">start</span><span class="s0">);</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">offsetAt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">end</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">}</span><span class="s1">update</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">text</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_version</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_lineOffsets</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">getLineOffsets</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_lineOffsets</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=[];</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">;</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">n</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">charAt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">n</span><span class="s0">=</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;</span><span class="s4">\r</span><span class="s2">&quot;</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;</span><span class="s4">\r</span><span class="s2">&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">+</span><span class="s3">1</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">charAt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">+</span><span class="s3">1</span><span class="s0">)===</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">){</span><span class="s1">r</span><span class="s0">++}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_lineOffsets</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_lineOffsets</span><span class="s0">}</span><span class="s1">positionAt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">max</span><span class="s0">(</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">min</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">.</span><span class="s1">length</span><span class="s0">),</span><span class="s3">0</span><span class="s0">);</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getLineOffsets</span><span class="s0">();</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">r</span><span class="s0">){</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">floor</span><span class="s0">((</span><span class="s1">n</span><span class="s0">+</span><span class="s1">r</span><span class="s0">)/</span><span class="s3">2</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]&gt;</span><span class="s1">e</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">=</span><span class="s1">i</span><span class="s0">+</span><span class="s3">1</span><span class="s0">}}</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">return </span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">e</span><span class="s0">-</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">])}</span><span class="s1">offsetAt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getLineOffsets</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">line</span><span class="s0">&gt;=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">.</span><span class="s1">length</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">line</span><span class="s0">&lt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s3">0</span><span class="s0">}</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">line</span><span class="s0">];</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">line</span><span class="s0">+</span><span class="s3">1</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">?</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">line</span><span class="s0">+</span><span class="s3">1</span><span class="s0">]:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Math</span><span class="s0">.</span><span class="s1">max</span><span class="s0">(</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">min</span><span class="s0">(</span><span class="s1">n</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">character</span><span class="s0">,</span><span class="s1">r</span><span class="s0">),</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">get lineCount</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">getLineOffsets</span><span class="s0">().</span><span class="s1">length</span><span class="s0">}}</span><span class="s4">var </span><span class="s1">vn</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;undefined&quot;</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">function </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;undefined&quot;</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">undefined</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s4">true</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">false</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">function </span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s2">&quot;[object String]&quot;</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">string</span><span class="s0">=</span><span class="s1">s</span><span class="s0">;</span><span class="s4">function </span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s2">&quot;[object Number]&quot;</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">number</span><span class="s0">=</span><span class="s1">a</span><span class="s0">;</span><span class="s4">function </span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s2">&quot;[object Number]&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">&lt;=</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s1">r</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">numberRange</span><span class="s0">=</span><span class="s1">o</span><span class="s0">;</span><span class="s4">function </span><span class="s1">c</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s2">&quot;[object Number]&quot;</span><span class="s0">&amp;&amp;-</span><span class="s3">2147483648</span><span class="s0">&lt;=</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s3">2147483647</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">integer</span><span class="s0">=</span><span class="s1">c</span><span class="s0">;</span><span class="s4">function </span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s2">&quot;[object Number]&quot;</span><span class="s0">&amp;&amp;</span><span class="s3">0</span><span class="s0">&lt;=</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s3">2147483647</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uinteger</span><span class="s0">=</span><span class="s1">u</span><span class="s0">;</span><span class="s4">function </span><span class="s1">l</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s2">&quot;[object Function]&quot;</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">func</span><span class="s0">=</span><span class="s1">l</span><span class="s0">;</span><span class="s4">function </span><span class="s1">d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">objectLiteral</span><span class="s0">=</span><span class="s1">d</span><span class="s0">;</span><span class="s4">function </span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">every</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">typedArray</span><span class="s0">=</span><span class="s1">f</span><span class="s0">})(</span><span class="s1">vn</span><span class="s0">||(</span><span class="s1">vn</span><span class="s0">={}));</span><span class="s4">class </span><span class="s1">An</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeStack</span><span class="s0">=[]}</span><span class="s1">get current</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeStack</span><span class="s0">[</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeStack</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">rootNode</span><span class="s0">}</span><span class="s1">buildRootNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">rootNode</span><span class="s0">=</span><span class="s4">new </span><span class="s1">xn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">rootNode</span><span class="s0">.</span><span class="s1">root</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">rootNode</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeStack</span><span class="s0">=[</span><span class="s4">this</span><span class="s0">.</span><span class="s1">rootNode</span><span class="s0">];</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">rootNode</span><span class="s0">}</span><span class="s1">buildCompositeNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">En</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">grammarSource</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">root</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">rootNode</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">current</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeStack</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">buildLeafNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">image</span><span class="s0">.</span><span class="s1">length</span><span class="s0">,(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">wf</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenType</span><span class="s0">,!</span><span class="s1">t</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">grammarSource</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">root</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">rootNode</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">current</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">removeNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s3">1</span><span class="s0">)}}}</span><span class="s1">addHiddenNodes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">image</span><span class="s0">.</span><span class="s1">length</span><span class="s0">,(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">wf</span><span class="s0">)(</span><span class="s1">s</span><span class="s0">),</span><span class="s1">s</span><span class="s0">.</span><span class="s1">tokenType</span><span class="s0">,</span><span class="s4">true</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">root</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">rootNode</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">current</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...t</span><span class="s0">);</span><span class="s4">return</span><span class="s0">}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">container</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">container</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">container</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,</span><span class="s1">...t</span><span class="s0">);</span><span class="s1">i</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">break</span><span class="s0">}</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">container</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">rootNode</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">unshift</span><span class="s0">(</span><span class="s1">...t</span><span class="s0">)}}</span><span class="s1">construct</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">current</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">current</span><span class="s0">.</span><span class="s1">astNode</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeStack</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s4">if</span><span class="s0">((</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">removeNode</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}}</span><span class="s4">class </span><span class="s1">Tn</span><span class="s0">{</span><span class="s1">get parent</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">container</span><span class="s0">}</span><span class="s1">get feature</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">grammarSource</span><span class="s0">}</span><span class="s1">get hidden</span><span class="s0">(){</span><span class="s4">return false</span><span class="s0">}</span><span class="s1">get astNode</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">typeof</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_astNode</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">)===</span><span class="s2">&quot;string&quot;</span><span class="s0">?</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_astNode</span><span class="s0">:(</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">container</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">astNode</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;This node has no associated AST element&quot;</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">set astNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_astNode</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">get element</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">astNode</span><span class="s0">}</span><span class="s1">get text</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">root</span><span class="s0">.</span><span class="s1">fullText</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">offset</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">end</span><span class="s0">)}}</span><span class="s4">class </span><span class="s1">Rn </span><span class="s4">extends </span><span class="s1">Tn</span><span class="s0">{</span><span class="s1">get offset</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_offset</span><span class="s0">}</span><span class="s1">get length</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_length</span><span class="s0">}</span><span class="s1">get end</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_offset</span><span class="s0">+</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_length</span><span class="s0">}</span><span class="s1">get hidden</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_hidden</span><span class="s0">}</span><span class="s1">get tokenType</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_tokenType</span><span class="s0">}</span><span class="s1">get range</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_range</span><span class="s0">}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s4">false</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_hidden</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_offset</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tokenType</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_length</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_range</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">En </span><span class="s4">extends </span><span class="s1">Tn</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">...arguments</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">content</span><span class="s0">=</span><span class="s4">new </span><span class="s1">kn</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s1">get children</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">content</span><span class="s0">}</span><span class="s1">get offset</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s1">t</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">firstNonHiddenNode</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">offset</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s3">0</span><span class="s0">}</span><span class="s1">get length</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">end</span><span class="s0">-</span><span class="s4">this</span><span class="s0">.</span><span class="s1">offset</span><span class="s0">}</span><span class="s1">get end</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s1">t</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lastNonHiddenNode</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">end</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s3">0</span><span class="s0">}</span><span class="s1">get range</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">firstNonHiddenNode</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lastNonHiddenNode</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_rangeCache</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">range</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">range</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_rangeCache</span><span class="s0">={</span><span class="s1">start</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">start</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">end</span><span class="s0">.</span><span class="s1">line</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">start</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">end</span><span class="s0">}}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_rangeCache</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">start</span><span class="s0">:</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">end</span><span class="s0">:</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)}}}</span><span class="s1">get firstNonHiddenNode</span><span class="s0">(){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">content</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">hidden</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">content</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]}</span><span class="s1">get lastNonHiddenNode</span><span class="s0">(){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">--){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">content</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">hidden</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">content</span><span class="s0">[</span><span class="s4">this</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">]}}</span><span class="s4">class </span><span class="s1">kn </span><span class="s4">extends </span><span class="s1">Array</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">setPrototypeOf</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">kn</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">)}</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addParents</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return super</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">)}</span><span class="s1">unshift</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addParents</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return super</span><span class="s0">.</span><span class="s1">unshift</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">)}</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">...n</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addParents</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return super</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">...n</span><span class="s0">)}</span><span class="s1">addParents</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">container</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">}}}</span><span class="s4">class </span><span class="s1">xn </span><span class="s4">extends </span><span class="s1">En</span><span class="s0">{</span><span class="s1">get text</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_text</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">offset</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">end</span><span class="s0">)}</span><span class="s1">get fullText</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_text</span><span class="s0">}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_text</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_text</span><span class="s0">=</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">$n</span><span class="s0">=</span><span class="s1">Symbol</span><span class="s0">(</span><span class="s2">&quot;Datatype&quot;</span><span class="s0">);</span><span class="s4">function </span><span class="s1">wn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">===</span><span class="s1">$n</span><span class="s0">}</span><span class="s4">const </span><span class="s1">In</span><span class="s0">=</span><span class="s2">&quot;​&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Sn</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endsWith</span><span class="s0">(</span><span class="s1">In</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">:</span><span class="s1">e</span><span class="s0">+</span><span class="s1">In</span><span class="s0">;</span><span class="s4">class </span><span class="s1">Cn</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_unorderedGroups</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allRules</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexer</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">Lexer</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexer</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LanguageMetaData</span><span class="s0">.</span><span class="s1">mode</span><span class="s0">===</span><span class="s2">&quot;production&quot;</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Pn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">ParserConfig</span><span class="s0">),{</span><span class="s1">skipValidations</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">errorMessageProvider</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">ParserErrorMessageProvider</span><span class="s0">}))}</span><span class="s1">alternatives</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">.</span><span class="s1">wrapOr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">optional</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">.</span><span class="s1">wrapOption</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">many</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">.</span><span class="s1">wrapMany</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">atLeastOne</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">.</span><span class="s1">wrapAtLeastOne</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">getRule</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">allRules</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">isRecording</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">.</span><span class="s1">IS_RECORDING</span><span class="s0">}</span><span class="s1">get unorderedGroups</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_unorderedGroups</span><span class="s0">}</span><span class="s1">getRuleStack</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">.</span><span class="s1">RULE_STACK</span><span class="s0">}</span><span class="s1">finalize</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">.</span><span class="s1">wrapSelfAnalysis</span><span class="s0">()}}</span><span class="s4">class </span><span class="s1">Nn </span><span class="s4">extends </span><span class="s1">Cn</span><span class="s0">{</span><span class="s1">get current</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">[</span><span class="s4">this</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">]}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeBuilder</span><span class="s0">=</span><span class="s4">new </span><span class="s1">An</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assignmentMap</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">linker</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">references</span><span class="s0">.</span><span class="s1">Linker</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">converter</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">ValueConverter</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">astReflection</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">shared</span><span class="s0">.</span><span class="s1">AstReflection</span><span class="s0">}</span><span class="s1">rule</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">computeRuleType</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">.</span><span class="s1">DEFINE_RULE</span><span class="s0">(</span><span class="s1">Sn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">startImplementation</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">).</span><span class="s1">bind</span><span class="s0">(</span><span class="s4">this</span><span class="s0">));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allRules</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">entry</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">mainRule</span><span class="s0">=</span><span class="s1">r</span><span class="s0">}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">computeRuleType</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fragment</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">Xq</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">$n</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">PV</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}}</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">={}){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeBuilder</span><span class="s0">.</span><span class="s1">buildRootNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexerResult</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexer</span><span class="s0">.</span><span class="s1">tokenize</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">.</span><span class="s1">input</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">tokens</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">?</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allRules</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">):</span><span class="s4">this</span><span class="s0">.</span><span class="s1">mainRule</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">?</span><span class="s2">`No rule found with name '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">}</span><span class="s2">'`</span><span class="s0">:</span><span class="s2">&quot;No main rule available.&quot;</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">,{});</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeBuilder</span><span class="s0">.</span><span class="s1">addHiddenNodes</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">hidden</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">unorderedGroups</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexerResult</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">lexerErrors</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">errors</span><span class="s0">,</span><span class="s1">lexerReport</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">report</span><span class="s0">,</span><span class="s1">parserErrors</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">.</span><span class="s1">errors</span><span class="s0">}}</span><span class="s1">startImplementation</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isRecording</span><span class="s0">()&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={</span><span class="s1">$type</span><span class="s0">:</span><span class="s1">e</span><span class="s0">};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">$n</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">}}</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">try</span><span class="s0">{</span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">construct</span><span class="s0">()}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}}</span><span class="s1">extractHiddenTokens</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexerResult</span><span class="s0">.</span><span class="s1">hidden</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[]}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">&gt;</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)}</span><span class="s1">consume</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">.</span><span class="s1">wrapConsume</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isRecording</span><span class="s0">()&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isValidToken</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">extractHiddenTokens</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeBuilder</span><span class="s0">.</span><span class="s1">addHiddenNodes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeBuilder</span><span class="s0">.</span><span class="s1">buildLeafNode</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">assignment</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">isCrossRef</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getAssignment</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">current</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">wb</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)?</span><span class="s1">r</span><span class="s0">.</span><span class="s1">image</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">converter</span><span class="s0">.</span><span class="s1">convert</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">image</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">operator</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">feature</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">wn</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">image</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">wb</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">converter</span><span class="s0">.</span><span class="s1">convert</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">).</span><span class="s1">toString</span><span class="s0">()}</span><span class="s1">o</span><span class="s0">.</span><span class="s1">value</span><span class="s0">+=</span><span class="s1">e</span><span class="s0">}}}</span><span class="s1">isValidToken</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">isInsertedInRecovery</span><span class="s0">&amp;&amp;!</span><span class="s1">isNaN</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">)&amp;&amp;</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">endOffset</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">isNaN</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endOffset</span><span class="s0">)}</span><span class="s1">subrule</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">let </span><span class="s1">s</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isRecording</span><span class="s0">()&amp;&amp;!</span><span class="s1">n</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeBuilder</span><span class="s0">.</span><span class="s1">buildCompositeNode</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">.</span><span class="s1">wrapSubrule</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isRecording</span><span class="s0">()&amp;&amp;</span><span class="s1">s</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">performSubruleAssignment</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}}</span><span class="s1">performSubruleAssignment</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">assignment</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">isCrossRef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getAssignment</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">operator</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">feature</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">current</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">wn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">+=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assignWithoutOverride</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}}}</span><span class="s1">action</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isRecording</span><span class="s0">()){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">current</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">feature</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">operator</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">construct</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeBuilder</span><span class="s0">.</span><span class="s1">removeNode</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeBuilder</span><span class="s0">.</span><span class="s1">buildCompositeNode</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={</span><span class="s1">$type</span><span class="s0">:</span><span class="s1">e</span><span class="s0">};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">operator</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">feature</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">,</span><span class="s4">false</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}}}</span><span class="s1">construct</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isRecording</span><span class="s0">()){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">current</span><span class="s0">;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">SD</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeBuilder</span><span class="s0">.</span><span class="s1">construct</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">wn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">converter</span><span class="s0">.</span><span class="s1">convert</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">OP</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">astReflection</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">getAssignment</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assignmentMap</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">XG</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">wh</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assignmentMap</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">assignment</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">isCrossRef</span><span class="s0">:</span><span class="s1">t</span><span class="s0">?(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">_c</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">terminal</span><span class="s0">):</span><span class="s4">false</span><span class="s0">})}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">assignmentMap</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">current</span><span class="s0">;</span><span class="s4">let </span><span class="s1">a</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s1">a</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">linker</span><span class="s0">.</span><span class="s1">buildReference</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;=&quot;</span><span class="s0">:{</span><span class="s1">s</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">a</span><span class="s0">;</span><span class="s4">break</span><span class="s0">}</span><span class="s4">case</span><span class="s2">&quot;?=&quot;</span><span class="s0">:{</span><span class="s1">s</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">break</span><span class="s0">}</span><span class="s4">case</span><span class="s2">&quot;+=&quot;</span><span class="s0">:{</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">s</span><span class="s0">[</span><span class="s1">t</span><span class="s0">])){</span><span class="s1">s</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=[]}</span><span class="s1">s</span><span class="s0">[</span><span class="s1">t</span><span class="s0">].</span><span class="s1">push</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)}}}</span><span class="s1">assignWithoutOverride</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const</span><span class="s0">[</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">]</span><span class="s1">of Object</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...t</span><span class="s0">);</span><span class="s1">e</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">i</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">astNode</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">get definitionErrors</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">.</span><span class="s1">definitionErrors</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Ln</span><span class="s0">{</span><span class="s1">buildMismatchTokenMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">c</span><span class="s0">.</span><span class="s1">my</span><span class="s0">.</span><span class="s1">buildMismatchTokenMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">buildNotAllInputParsedMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">c</span><span class="s0">.</span><span class="s1">my</span><span class="s0">.</span><span class="s1">buildNotAllInputParsedMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">buildNoViableAltMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">c</span><span class="s0">.</span><span class="s1">my</span><span class="s0">.</span><span class="s1">buildNoViableAltMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">buildEarlyExitMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">c</span><span class="s0">.</span><span class="s1">my</span><span class="s0">.</span><span class="s1">buildEarlyExitMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">class </span><span class="s1">bn </span><span class="s4">extends </span><span class="s1">Ln</span><span class="s0">{</span><span class="s1">buildMismatchTokenMessage</span><span class="s0">({</span><span class="s1">expected</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">actual</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LABEL</span><span class="s0">?</span><span class="s2">&quot;`&quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LABEL</span><span class="s0">+</span><span class="s2">&quot;`&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">.</span><span class="s1">endsWith</span><span class="s0">(</span><span class="s2">&quot;:KW&quot;</span><span class="s0">)?</span><span class="s2">`keyword '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">3</span><span class="s0">)}</span><span class="s2">'`</span><span class="s0">:</span><span class="s2">`token of type '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">'`</span><span class="s0">;</span><span class="s4">return</span><span class="s2">`Expecting </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">} </span><span class="s2">but found </span><span class="s4">\`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">image</span><span class="s0">}</span><span class="s4">\`</span><span class="s2">.`</span><span class="s0">}</span><span class="s1">buildNotAllInputParsedMessage</span><span class="s0">({</span><span class="s1">firstRedundant</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}){</span><span class="s4">return</span><span class="s2">`Expecting end of file but found </span><span class="s4">\`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">image</span><span class="s0">}</span><span class="s4">\`</span><span class="s2">.`</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">_n </span><span class="s4">extends </span><span class="s1">Cn</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">...arguments</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokens</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">elementStack</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lastElementStack</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextTokenIndex</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">stackSize</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s1">action</span><span class="s0">(){}</span><span class="s1">construct</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">resetState</span><span class="s0">();</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexer</span><span class="s0">.</span><span class="s1">tokenize</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">mode</span><span class="s0">:</span><span class="s2">&quot;partial&quot;</span><span class="s0">});</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokens</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tokens</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">.</span><span class="s1">input</span><span class="s0">=[</span><span class="s1">...</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokens</span><span class="s0">];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">mainRule</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">,{});</span><span class="s4">this</span><span class="s0">.</span><span class="s1">unorderedGroups</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">();</span><span class="s4">return</span><span class="s0">{</span><span class="s1">tokens</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokens</span><span class="s0">,</span><span class="s1">elementStack</span><span class="s0">:[</span><span class="s1">...</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lastElementStack</span><span class="s0">],</span><span class="s1">tokenIndex</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextTokenIndex</span><span class="s0">}}</span><span class="s1">rule</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">.</span><span class="s1">DEFINE_RULE</span><span class="s0">(</span><span class="s1">Sn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">startImplementation</span><span class="s0">(</span><span class="s1">t</span><span class="s0">).</span><span class="s1">bind</span><span class="s0">(</span><span class="s4">this</span><span class="s0">));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allRules</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">entry</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">mainRule</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">resetState</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">elementStack</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lastElementStack</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextTokenIndex</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">stackSize</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s1">startImplementation</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">keepStackSize</span><span class="s0">();</span><span class="s4">try</span><span class="s0">{</span><span class="s1">e</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">finally</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">resetStackSize</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}}</span><span class="s1">removeUnexpectedElements</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">elementStack</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">stackSize</span><span class="s0">)}</span><span class="s1">keepStackSize</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">elementStack</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">stackSize</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">resetStackSize</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">removeUnexpectedElements</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">stackSize</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">consume</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">.</span><span class="s1">wrapConsume</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isRecording</span><span class="s0">()){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lastElementStack</span><span class="s0">=[</span><span class="s1">...</span><span class="s4">this</span><span class="s0">.</span><span class="s1">elementStack</span><span class="s0">,</span><span class="s1">n</span><span class="s0">];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextTokenIndex</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currIdx</span><span class="s0">+</span><span class="s3">1</span><span class="s0">}}</span><span class="s1">subrule</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">before</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">.</span><span class="s1">wrapSubrule</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">after</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s1">before</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isRecording</span><span class="s0">()){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">elementStack</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s1">after</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isRecording</span><span class="s0">()){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">elementStack</span><span class="s0">.</span><span class="s1">lastIndexOf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">elementStack</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}}</span><span class="s1">get currIdx</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">wrapper</span><span class="s0">.</span><span class="s1">currIdx</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">On</span><span class="s0">={</span><span class="s1">recoveryEnabled</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">nodeLocationTracking</span><span class="s0">:</span><span class="s2">&quot;full&quot;</span><span class="s0">,</span><span class="s1">skipValidations</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">errorMessageProvider</span><span class="s0">:</span><span class="s4">new </span><span class="s1">bn</span><span class="s0">};</span><span class="s4">class </span><span class="s1">Pn </span><span class="s4">extends </span><span class="s1">c</span><span class="s0">.</span><span class="s1">jr</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;maxLookahead&quot;</span><span class="s4">in </span><span class="s1">t</span><span class="s0">;</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">On</span><span class="s0">),{</span><span class="s1">lookaheadStrategy</span><span class="s0">:</span><span class="s1">n</span><span class="s0">?</span><span class="s4">new </span><span class="s1">c</span><span class="s0">.</span><span class="s1">T6</span><span class="s0">({</span><span class="s1">maxLookahead</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">maxLookahead</span><span class="s0">}):</span><span class="s4">new </span><span class="s1">pe</span><span class="s0">({</span><span class="s1">logging</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">skipValidations</span><span class="s0">?()=&gt;{}:</span><span class="s1">undefined</span><span class="s0">})}),</span><span class="s1">t</span><span class="s0">))}</span><span class="s1">get IS_RECORDING</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">RECORDING_PHASE</span><span class="s0">}</span><span class="s1">DEFINE_RULE</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">RULE</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">wrapSelfAnalysis</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">performSelfAnalysis</span><span class="s0">()}</span><span class="s1">wrapConsume</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">consume</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">wrapSubrule</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">subrule</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">ARGS</span><span class="s0">:[</span><span class="s1">n</span><span class="s0">]})}</span><span class="s1">wrapOr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">or</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">wrapOption</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">option</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">wrapMany</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">many</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">wrapAtLeastOne</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">atLeastOne</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">var </span><span class="s1">Mn</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">73101</span><span class="s0">);</span><span class="s4">var </span><span class="s1">Dn</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">64386</span><span class="s0">);</span><span class="s4">function </span><span class="s1">Un</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">={</span><span class="s1">parser</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">tokens</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">ruleNames</span><span class="s0">:</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">};</span><span class="s1">Fn</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Fn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">YV</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,</span><span class="s4">false</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Dn</span><span class="s0">.</span><span class="s1">Td</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">rules</span><span class="s0">).</span><span class="s1">filter</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">s7</span><span class="s0">).</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)));</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">consume</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">optional</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">subrule</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">many</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">or</span><span class="s0">:</span><span class="s3">1</span><span class="s0">});</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">Gn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">))}}</span><span class="s4">function </span><span class="s1">Gn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s4">false</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">wb</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Xn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">ve</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Bn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">wh</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Gn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">terminal</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">_c</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">qn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">$g</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Kn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">jp</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Wn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">cY</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Hn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">IZ</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">zn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">FO</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">consume</span><span class="s0">++;</span><span class="s1">r</span><span class="s0">=()=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">consume</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">LT</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw new </span><span class="s1">Mn</span><span class="s0">.</span><span class="s1">W</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">,</span><span class="s2">`Unexpected element type: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">Qn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">?</span><span class="s1">undefined</span><span class="s0">:</span><span class="s1">Yn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">),</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">cardinality</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Bn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">Uz</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return</span><span class="s0">()=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">action</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Kn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">s7</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">subrule</span><span class="s0">++;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">fragment</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">arguments</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">?</span><span class="s1">jn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">arguments</span><span class="s0">):()=&gt;({});</span><span class="s4">return </span><span class="s1">a</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">subrule</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">Zn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">),</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">s</span><span class="s0">(</span><span class="s1">a</span><span class="s0">))}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">rE</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">consume</span><span class="s0">++;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">er</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">);</span><span class="s4">return</span><span class="s0">()=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">consume</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Mn</span><span class="s0">.</span><span class="s1">W</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">,</span><span class="s2">`Undefined rule: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">.</span><span class="s1">$refText</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Mn</span><span class="s0">.</span><span class="s1">d</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">jn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Vn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)));</span><span class="s4">return </span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">i</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">i</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parameters</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s1">r</span><span class="s0">[</span><span class="s1">s</span><span class="s0">.</span><span class="s1">name</span><span class="s0">]=</span><span class="s1">a</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Vn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">RP</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Vn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">left</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Vn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">right</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">Tu</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Vn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">left</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Vn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">right</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">Ct</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Vn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">=&gt;!</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">TF</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parameter</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]===</span><span class="s4">true</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">Cz</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Boolean</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">true</span><span class="s0">);</span><span class="s4">return</span><span class="s0">()=&gt;</span><span class="s1">t</span><span class="s0">}(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Mn</span><span class="s0">.</span><span class="s1">d</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Wn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Gn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">[</span><span class="s3">0</span><span class="s0">])}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of t</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={</span><span class="s1">ALT</span><span class="s0">:</span><span class="s1">Gn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s4">true</span><span class="s0">)};</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Yn</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">GATE</span><span class="s0">=</span><span class="s1">Vn</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">or</span><span class="s0">++;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">alternatives</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">ALT</span><span class="s0">:()=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ALT</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)};</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">GATE</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">GATE</span><span class="s0">=()=&gt;</span><span class="s1">r</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">})))}}</span><span class="s4">function </span><span class="s1">Hn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Gn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">[</span><span class="s3">0</span><span class="s0">])}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of t</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={</span><span class="s1">ALT</span><span class="s0">:</span><span class="s1">Gn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s4">true</span><span class="s0">)};</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Yn</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">GATE</span><span class="s0">=</span><span class="s1">Vn</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">or</span><span class="s0">++;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">getRuleStack</span><span class="s0">().</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;-&quot;</span><span class="s0">);</span><span class="s4">return</span><span class="s2">`uGroup_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">};</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">alternatives</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">a</span><span class="s0">={</span><span class="s1">ALT</span><span class="s0">:()=&gt;</span><span class="s4">true</span><span class="s0">};</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">;</span><span class="s1">a</span><span class="s0">.</span><span class="s1">ALT</span><span class="s0">=()=&gt;{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">ALT</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">o</span><span class="s0">.</span><span class="s1">isRecording</span><span class="s0">()){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">o</span><span class="s0">.</span><span class="s1">unorderedGroups</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">unorderedGroups</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[])}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">unorderedGroups</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">[</span><span class="s1">s</span><span class="s0">])===</span><span class="s2">&quot;undefined&quot;</span><span class="s0">){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]=</span><span class="s4">true</span><span class="s0">}}};</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">GATE</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">GATE</span><span class="s0">=()=&gt;</span><span class="s1">c</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">a</span><span class="s0">.</span><span class="s1">GATE</span><span class="s0">=()=&gt;{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">unorderedGroups</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">i</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">o</span><span class="s0">));</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=!(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">a</span><span class="s0">})));</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Qn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Yn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">),</span><span class="s1">s</span><span class="s0">,</span><span class="s2">&quot;*&quot;</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s1">a</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">isRecording</span><span class="s0">()){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">unorderedGroups</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">i</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">))}}}</span><span class="s4">function </span><span class="s1">zn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=&gt;</span><span class="s1">Gn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)));</span><span class="s4">return </span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=&gt;</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)))}</span><span class="s4">function </span><span class="s1">Yn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">IZ</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">guardCondition</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">qn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">terminal</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Could not resolve reference to type: &quot;</span><span class="s0">+</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">.</span><span class="s1">$refText</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">U5</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">terminal</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Could not find name assignment for type: &quot;</span><span class="s0">+(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">Uz</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">))}</span><span class="s4">return </span><span class="s1">qn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">$g</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">s7</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">subrule</span><span class="s0">++;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">subrule</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">Zn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">),</span><span class="s4">false</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">$g</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">rE</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">consume</span><span class="s0">++;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">er</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">.</span><span class="s1">name</span><span class="s0">);</span><span class="s4">return</span><span class="s0">()=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">consume</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">wb</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">consume</span><span class="s0">++;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">er</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">);</span><span class="s4">return</span><span class="s0">()=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">consume</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Could not build cross reference parser&quot;</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Xn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">consume</span><span class="s0">++;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokens</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Could not find token for keyword: &quot;</span><span class="s0">+</span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">()=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">consume</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Qn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">Vn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">or</span><span class="s0">++;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">alternatives</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,[{</span><span class="s1">ALT</span><span class="s0">:()=&gt;</span><span class="s1">n</span><span class="s0">(</span><span class="s1">r</span><span class="s0">),</span><span class="s1">GATE</span><span class="s0">:()=&gt;</span><span class="s1">i</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)},{</span><span class="s1">ALT</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">mT</span><span class="s0">)(),</span><span class="s1">GATE</span><span class="s0">:()=&gt;!</span><span class="s1">i</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}])}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s2">&quot;*&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">many</span><span class="s0">++;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">many</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">DEF</span><span class="s0">:()=&gt;</span><span class="s1">n</span><span class="s0">(</span><span class="s1">r</span><span class="s0">),</span><span class="s1">GATE</span><span class="s0">:</span><span class="s1">i</span><span class="s0">?()=&gt;</span><span class="s1">i</span><span class="s0">(</span><span class="s1">r</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">})}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s2">&quot;+&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">many</span><span class="s0">++;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">or</span><span class="s0">++;</span><span class="s4">return </span><span class="s1">s</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">alternatives</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,[{</span><span class="s1">ALT</span><span class="s0">:()=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">atLeastOne</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">DEF</span><span class="s0">:()=&gt;</span><span class="s1">n</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}),</span><span class="s1">GATE</span><span class="s0">:()=&gt;</span><span class="s1">i</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)},{</span><span class="s1">ALT</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">mT</span><span class="s0">)(),</span><span class="s1">GATE</span><span class="s0">:()=&gt;!</span><span class="s1">i</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}])}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">r</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">atLeastOne</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">DEF</span><span class="s0">:()=&gt;</span><span class="s1">n</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)})}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s2">&quot;?&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">optional</span><span class="s0">++;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">optional</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">DEF</span><span class="s0">:()=&gt;</span><span class="s1">n</span><span class="s0">(</span><span class="s1">r</span><span class="s0">),</span><span class="s1">GATE</span><span class="s0">:</span><span class="s1">i</span><span class="s0">?()=&gt;</span><span class="s1">i</span><span class="s0">(</span><span class="s1">r</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">})}</span><span class="s4">else</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Mn</span><span class="s0">.</span><span class="s1">d</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Zn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Jn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">getRule</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">)</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Rule &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&quot; not found.&quot;`</span><span class="s0">);</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Jn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">s7</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ruleNames</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">ruleNames</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">s7</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">IZ</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">)||(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">jp</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">)||(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">cY</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()+</span><span class="s2">&quot;:&quot;</span><span class="s0">+</span><span class="s1">i</span><span class="s0">}</span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">i</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s2">&quot;:&quot;</span><span class="s0">+</span><span class="s1">i</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ruleNames</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">er</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokens</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">)</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Token &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">&quot; not found.&quot;`</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">tr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Grammar</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">Lexer</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">new </span><span class="s1">_n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">Un</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">finalize</span><span class="s0">();</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">nr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">rr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">finalize</span><span class="s0">();</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">rr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Grammar</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">Lexer</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Nn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Un</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">)}</span><span class="s4">var </span><span class="s1">ir</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">25355</span><span class="s0">);</span><span class="s4">var </span><span class="s1">sr</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">14480</span><span class="s0">);</span><span class="s4">var </span><span class="s1">ar</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">59850</span><span class="s0">);</span><span class="s4">var </span><span class="s1">or</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">64032</span><span class="s0">);</span><span class="s4">function </span><span class="s1">cr</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Promise</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">setImmediate</span><span class="s0">===</span><span class="s2">&quot;undefined&quot;</span><span class="s0">){</span><span class="s1">setTimeout</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">setImmediate</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}))}</span><span class="s4">let </span><span class="s1">ur</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">lr</span><span class="s0">=</span><span class="s3">10</span><span class="s0">;</span><span class="s4">function </span><span class="s1">dr</span><span class="s0">(){</span><span class="s1">ur</span><span class="s0">=</span><span class="s1">performance</span><span class="s0">.</span><span class="s1">now</span><span class="s0">();</span><span class="s4">return new </span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationTokenSource</span><span class="s0">}</span><span class="s4">function </span><span class="s1">fr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">lr</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">const </span><span class="s1">hr</span><span class="s0">=</span><span class="s1">Symbol</span><span class="s0">(</span><span class="s2">&quot;OperationCancelled&quot;</span><span class="s0">);</span><span class="s4">function </span><span class="s1">pr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s1">hr</span><span class="s0">}</span><span class="s1">async </span><span class="s4">function </span><span class="s1">mr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">performance</span><span class="s0">.</span><span class="s1">now</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">-</span><span class="s1">ur</span><span class="s0">&gt;=</span><span class="s1">lr</span><span class="s0">){</span><span class="s1">ur</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">await </span><span class="s1">cr</span><span class="s0">();</span><span class="s1">ur</span><span class="s0">=</span><span class="s1">performance</span><span class="s0">.</span><span class="s1">now</span><span class="s0">()}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">isCancellationRequested</span><span class="s0">){</span><span class="s4">throw </span><span class="s1">hr</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">gr</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">promise</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Promise</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">=</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s1">e</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">reject</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">}}))}}</span><span class="s4">class </span><span class="s1">yr</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_uri</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_languageId</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_version</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_lineOffsets</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">get uri</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_uri</span><span class="s0">}</span><span class="s1">get languageId</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_languageId</span><span class="s0">}</span><span class="s1">get version</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_version</span><span class="s0">}</span><span class="s1">getText</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">offsetAt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">start</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">offsetAt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">end</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">}</span><span class="s1">update</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">yr</span><span class="s0">.</span><span class="s1">isIncremental</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Er</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">range</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">offsetAt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">start</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">offsetAt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">end</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)+</span><span class="s1">n</span><span class="s0">.</span><span class="s1">text</span><span class="s0">+</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">.</span><span class="s1">length</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">max</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">,</span><span class="s3">0</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">max</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">end</span><span class="s0">.</span><span class="s1">line</span><span class="s0">,</span><span class="s3">0</span><span class="s0">);</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_lineOffsets</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">Tr</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">text</span><span class="s0">,</span><span class="s4">false</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">-</span><span class="s1">i</span><span class="s0">===</span><span class="s1">o</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s1">a</span><span class="s0">[</span><span class="s1">e</span><span class="s0">+</span><span class="s1">i</span><span class="s0">+</span><span class="s3">1</span><span class="s0">]=</span><span class="s1">o</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&lt;</span><span class="s3">1e4</span><span class="s0">){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">i</span><span class="s0">+</span><span class="s3">1</span><span class="s0">,</span><span class="s1">s</span><span class="s0">-</span><span class="s1">i</span><span class="s0">,</span><span class="s1">...o</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_lineOffsets</span><span class="s0">=</span><span class="s1">a</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">+</span><span class="s3">1</span><span class="s0">).</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">s</span><span class="s0">+</span><span class="s3">1</span><span class="s0">))}}</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">text</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-(</span><span class="s1">r</span><span class="s0">-</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">!==</span><span class="s3">0</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">+</span><span class="s3">1</span><span class="s0">+</span><span class="s1">o</span><span class="s0">.</span><span class="s1">length</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s1">a</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">a</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]+</span><span class="s1">c</span><span class="s0">}}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">yr</span><span class="s0">.</span><span class="s1">isFull</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">text</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_lineOffsets</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Unknown change event received&quot;</span><span class="s0">)}}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_version</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">getLineOffsets</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_lineOffsets</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_lineOffsets</span><span class="s0">=</span><span class="s1">Tr</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">,</span><span class="s4">true</span><span class="s0">)}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_lineOffsets</span><span class="s0">}</span><span class="s1">positionAt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">max</span><span class="s0">(</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">min</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">.</span><span class="s1">length</span><span class="s0">),</span><span class="s3">0</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getLineOffsets</span><span class="s0">();</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">line</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">character</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">floor</span><span class="s0">((</span><span class="s1">n</span><span class="s0">+</span><span class="s1">r</span><span class="s0">)/</span><span class="s3">2</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]&gt;</span><span class="s1">e</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">=</span><span class="s1">i</span><span class="s0">+</span><span class="s3">1</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">ensureBeforeEOL</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">line</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">character</span><span class="s0">:</span><span class="s1">e</span><span class="s0">-</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]}}</span><span class="s1">offsetAt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getLineOffsets</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">line</span><span class="s0">&gt;=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">.</span><span class="s1">length</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">line</span><span class="s0">&lt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s3">0</span><span class="s0">}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">line</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">character</span><span class="s0">&lt;=</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">line</span><span class="s0">+</span><span class="s3">1</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">?</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">line</span><span class="s0">+</span><span class="s3">1</span><span class="s0">]:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">min</span><span class="s0">(</span><span class="s1">n</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">character</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">ensureBeforeEOL</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">ensureBeforeEOL</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">while</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&gt;</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">Rr</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_content</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">-</span><span class="s3">1</span><span class="s0">))){</span><span class="s1">e</span><span class="s0">--}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">get lineCount</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">getLineOffsets</span><span class="s0">().</span><span class="s1">length</span><span class="s0">}</span><span class="s4">static </span><span class="s1">isIncremental</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">.</span><span class="s1">text</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">rangeLength</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">.</span><span class="s1">rangeLength</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">)}</span><span class="s4">static </span><span class="s1">isFull</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">.</span><span class="s1">text</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">rangeLength</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">var </span><span class="s1">vr</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">yr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">yr</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">update</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;TextDocument.update: document must be created by TextDocument.create&quot;</span><span class="s0">)}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">update</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">function </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getText</span><span class="s0">();</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Ar</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">kr</span><span class="s0">),((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">-</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">character</span><span class="s0">-</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">character</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}));</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">a of r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">offsetAt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Overlapping edit&quot;</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&gt;</span><span class="s1">i</span><span class="s0">){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">))}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">newText</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">newText</span><span class="s0">)}</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">offsetAt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">end</span><span class="s0">)}</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s1">i</span><span class="s0">));</span><span class="s4">return </span><span class="s1">s</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;&quot;</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">applyEdits</span><span class="s0">=</span><span class="s1">r</span><span class="s0">})(</span><span class="s1">vr</span><span class="s0">||(</span><span class="s1">vr</span><span class="s0">={}));</span><span class="s4">function </span><span class="s1">Ar</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&lt;=</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">/</span><span class="s3">2</span><span class="s0">|</span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">Ar</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">Ar</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">o</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">s</span><span class="s0">&lt;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">(</span><span class="s1">r</span><span class="s0">[</span><span class="s1">s</span><span class="s0">],</span><span class="s1">i</span><span class="s0">[</span><span class="s1">a</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&lt;=</span><span class="s3">0</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">o</span><span class="s0">++]=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">s</span><span class="s0">++]}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">[</span><span class="s1">o</span><span class="s0">++]=</span><span class="s1">i</span><span class="s0">[</span><span class="s1">a</span><span class="s0">++]}}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">s</span><span class="s0">&lt;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">o</span><span class="s0">++]=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">s</span><span class="s0">++]}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">a</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">o</span><span class="s0">++]=</span><span class="s1">i</span><span class="s0">[</span><span class="s1">a</span><span class="s0">++]}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Tr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">?[</span><span class="s1">n</span><span class="s0">]:[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">i</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">i</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Rr</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s3">13</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">+</span><span class="s3">1</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">+</span><span class="s3">1</span><span class="s0">)===</span><span class="s3">10</span><span class="s0">){</span><span class="s1">i</span><span class="s0">++}</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">+</span><span class="s1">i</span><span class="s0">+</span><span class="s3">1</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Rr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s3">13</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s3">10</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Er</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">start</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">end</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">line</span><span class="s0">&gt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">line</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">line</span><span class="s0">===</span><span class="s1">n</span><span class="s0">.</span><span class="s1">line</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">character</span><span class="s0">&gt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">character</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">start</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">kr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Er</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">newText</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">newText</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">var </span><span class="s1">xr</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">14247</span><span class="s0">);</span><span class="s4">var </span><span class="s1">$r</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Changed&quot;</span><span class="s0">]=</span><span class="s3">0</span><span class="s0">]=</span><span class="s2">&quot;Changed&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Parsed&quot;</span><span class="s0">]=</span><span class="s3">1</span><span class="s0">]=</span><span class="s2">&quot;Parsed&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;IndexedContent&quot;</span><span class="s0">]=</span><span class="s3">2</span><span class="s0">]=</span><span class="s2">&quot;IndexedContent&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;ComputedScopes&quot;</span><span class="s0">]=</span><span class="s3">3</span><span class="s0">]=</span><span class="s2">&quot;ComputedScopes&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Linked&quot;</span><span class="s0">]=</span><span class="s3">4</span><span class="s0">]=</span><span class="s2">&quot;Linked&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;IndexedReferences&quot;</span><span class="s0">]=</span><span class="s3">5</span><span class="s0">]=</span><span class="s2">&quot;IndexedReferences&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Validated&quot;</span><span class="s0">]=</span><span class="s3">6</span><span class="s0">]=</span><span class="s2">&quot;Validated&quot;</span><span class="s0">})(</span><span class="s1">$r</span><span class="s0">||(</span><span class="s1">$r</span><span class="s0">={}));</span><span class="s4">class </span><span class="s1">wr</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">serviceRegistry</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ServiceRegistry</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">textDocuments</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">TextDocuments</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fileSystemProvider</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">FileSystemProvider</span><span class="s0">}</span><span class="s1">async fromUri</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">fileSystemProvider</span><span class="s0">.</span><span class="s1">readFile</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">createAsync</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">fromTextDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">xr</span><span class="s0">.</span><span class="s1">r</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">createAsync</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s1">fromString</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">createAsync</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s1">fromModel</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">$model</span><span class="s0">:</span><span class="s1">e</span><span class="s0">})}</span><span class="s1">create</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">createLangiumDocument</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s2">&quot;$model&quot;</span><span class="s4">in </span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">value</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$model</span><span class="s0">,</span><span class="s1">parserErrors</span><span class="s0">:[],</span><span class="s1">lexerErrors</span><span class="s0">:[]};</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">createLangiumDocument</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">getText</span><span class="s0">(),</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">createLangiumDocument</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}</span><span class="s1">async createAsync</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">parseAsync</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">createLangiumDocument</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">parseAsync</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">getText</span><span class="s0">(),</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">createLangiumDocument</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}</span><span class="s1">createLangiumDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s1">i</span><span class="s0">={</span><span class="s1">parseResult</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">uri</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">state</span><span class="s0">:</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">Parsed</span><span class="s0">,</span><span class="s1">references</span><span class="s0">:[],</span><span class="s1">textDocument</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">createTextDocumentGetter</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s1">i</span><span class="s0">={</span><span class="s1">parseResult</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">uri</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">state</span><span class="s0">:</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">Parsed</span><span class="s0">,</span><span class="s1">references</span><span class="s0">:[],</span><span class="s1">get textDocument</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">()}}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">.</span><span class="s1">$document</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s1">async update</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parseResult</span><span class="s0">.</span><span class="s1">value</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">root</span><span class="s0">.</span><span class="s1">fullText</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">textDocuments</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">());</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">s</span><span class="s0">?</span><span class="s1">s</span><span class="s0">.</span><span class="s1">getText</span><span class="s0">():</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">fileSystemProvider</span><span class="s0">.</span><span class="s1">readFile</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;textDocument&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">s</span><span class="s0">})}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">createTextDocumentGetter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">,</span><span class="s1">a</span><span class="s0">);</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;textDocument&quot;</span><span class="s0">,{</span><span class="s1">get</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">!==</span><span class="s1">a</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parseResult</span><span class="s0">=</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">parseAsync</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parseResult</span><span class="s0">.</span><span class="s1">value</span><span class="s0">.</span><span class="s1">$document</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">state</span><span class="s0">=</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">Parsed</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">serviceRegistry</span><span class="s0">.</span><span class="s1">getServices</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">LangiumParser</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">parseAsync</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">serviceRegistry</span><span class="s0">.</span><span class="s1">getServices</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">AsyncParser</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">createTextDocumentGetter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">serviceRegistry</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">return</span><span class="s0">()=&gt;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">r</span><span class="s0">=</span><span class="s1">vr</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">(),</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getServices</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">LanguageMetaData</span><span class="s0">.</span><span class="s1">languageId</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">)}}</span><span class="s4">class </span><span class="s1">Ir</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">documentMap</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocumentFactory</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">LangiumDocumentFactory</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">serviceRegistry</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ServiceRegistry</span><span class="s0">}</span><span class="s1">get all</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Dn</span><span class="s0">.</span><span class="s1">Td</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">documentMap</span><span class="s0">.</span><span class="s1">values</span><span class="s0">())}</span><span class="s1">addDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">documentMap</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`A document with the URI '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">' is already present.`</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">documentMap</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">getDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">();</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">documentMap</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">async getOrCreateDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">n</span><span class="s0">=</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">langiumDocumentFactory</span><span class="s0">.</span><span class="s1">fromUri</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addDocument</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">createDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">langiumDocumentFactory</span><span class="s0">.</span><span class="s1">fromString</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">).</span><span class="s1">then</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}))}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocumentFactory</span><span class="s0">.</span><span class="s1">fromString</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addDocument</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}</span><span class="s1">hasDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">documentMap</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">())}</span><span class="s1">invalidateDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">();</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">documentMap</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">serviceRegistry</span><span class="s0">.</span><span class="s1">getServices</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">references</span><span class="s0">.</span><span class="s1">Linker</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">unlink</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">state</span><span class="s0">=</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">Changed</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">precomputedScopes</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">diagnostics</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">deleteDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">();</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">documentMap</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">state</span><span class="s0">=</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">Changed</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">documentMap</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">Sr</span><span class="s0">=</span><span class="s1">Symbol</span><span class="s0">(</span><span class="s2">&quot;ref_resolving&quot;</span><span class="s0">);</span><span class="s4">class </span><span class="s1">Cr</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">reflection</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">shared</span><span class="s0">.</span><span class="s1">AstReflection</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocuments</span><span class="s0">=()=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">shared</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">LangiumDocuments</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">scopeProvider</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">references</span><span class="s0">.</span><span class="s1">ScopeProvider</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">astNodeLocator</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">AstNodeLocator</span><span class="s0">}</span><span class="s1">async link</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">jm</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parseResult</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)){</span><span class="s4">await </span><span class="s1">mr</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">DM</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">).</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">doLink</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)))}}</span><span class="s1">doLink</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">reference</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">_ref</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">_ref</span><span class="s0">=</span><span class="s1">Sr</span><span class="s0">;</span><span class="s4">try</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getCandidate</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">Zl</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">_ref</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">.</span><span class="s1">_nodeDescription</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocuments</span><span class="s0">().</span><span class="s1">hasDocument</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">documentUri</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">loadAstNode</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">_ref</span><span class="s0">=</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">createLinkingError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">.</span><span class="s1">_ref</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}}}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s1">console</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`An error occurred while resolving reference to '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">.</span><span class="s1">$refText</span><span class="s0">}</span><span class="s2">':`</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">message</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">String</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">_ref</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">message</span><span class="s0">:</span><span class="s2">`An error occurred while resolving reference to '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">.</span><span class="s1">$refText</span><span class="s0">}</span><span class="s2">': </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">})}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">references</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}}</span><span class="s1">unlink</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">.</span><span class="s1">references</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">t</span><span class="s0">.</span><span class="s1">_ref</span><span class="s0">;</span><span class="s4">delete </span><span class="s1">t</span><span class="s0">.</span><span class="s1">_nodeDescription</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">references</span><span class="s0">=[]}</span><span class="s1">getCandidate</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">scopeProvider</span><span class="s0">.</span><span class="s1">getScope</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">getElement</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">reference</span><span class="s0">.</span><span class="s1">$refText</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">createLinkingError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">buildReference</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">={</span><span class="s1">$refNode</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">$refText</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">get ref</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">ng</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ref</span><span class="s0">)){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_ref</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">Nr</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_nodeDescription</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">loadAstNode</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_nodeDescription</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ref</span><span class="s0">=</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">createLinkingError</span><span class="s0">({</span><span class="s1">reference</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">container</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">property</span><span class="s0">:</span><span class="s1">t</span><span class="s0">},</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_nodeDescription</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ref</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ref</span><span class="s0">=</span><span class="s1">Sr</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">cQ</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">$document</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">getLinkedNode</span><span class="s0">({</span><span class="s1">reference</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">container</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">property</span><span class="s0">:</span><span class="s1">t</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">error</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">state</span><span class="s0">&lt;</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">ComputedScopes</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_ref</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ref</span><span class="s0">=(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">node</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">error</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_nodeDescription</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">descr</span><span class="s0">;</span><span class="s1">r</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">references</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ref</span><span class="s0">===</span><span class="s1">Sr</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Cyclic reference resolution detected: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">.</span><span class="s1">astNodeLocator</span><span class="s0">.</span><span class="s1">getAstNodePath</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">/</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">(symbol '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">')`</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">ng</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ref</span><span class="s0">)?</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ref</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">},</span><span class="s1">get $nodeDescription</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_nodeDescription</span><span class="s0">},</span><span class="s1">get error</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">Zl</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ref</span><span class="s0">)?</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ref</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">}};</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s1">getLinkedNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">try</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getCandidate</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">Zl</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">error</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">loadAstNode</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">node</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">descr</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">descr</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">error</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">createLinkingError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s1">console</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`An error occurred while resolving reference to '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">reference</span><span class="s0">.</span><span class="s1">$refText</span><span class="s0">}</span><span class="s2">':`</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">message</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">String</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">error</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">message</span><span class="s0">:</span><span class="s2">`An error occurred while resolving reference to '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">reference</span><span class="s0">.</span><span class="s1">$refText</span><span class="s0">}</span><span class="s2">': </span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">`</span><span class="s0">})}}}</span><span class="s1">loadAstNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">node</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">node</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocuments</span><span class="s0">().</span><span class="s1">getDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">documentUri</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">astNodeLocator</span><span class="s0">.</span><span class="s1">getAstNode</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">parseResult</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">)}</span><span class="s1">createLinkingError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">cQ</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">).</span><span class="s1">$document</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">state</span><span class="s0">&lt;</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">ComputedScopes</span><span class="s0">){</span><span class="s1">console</span><span class="s0">.</span><span class="s1">warn</span><span class="s0">(</span><span class="s2">`Attempted reference resolution before document reached ComputedScopes state (</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">}</span><span class="s2">).`</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">reflection</span><span class="s0">.</span><span class="s1">getReferenceType</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">message</span><span class="s0">:</span><span class="s2">`Could not resolve reference to </span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">} </span><span class="s2">named '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">reference</span><span class="s0">.</span><span class="s1">$refText</span><span class="s0">}</span><span class="s2">'.`</span><span class="s0">,</span><span class="s1">targetDescription</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})}}</span><span class="s4">function </span><span class="s1">Nr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">}</span><span class="s4">class </span><span class="s1">Lr</span><span class="s0">{</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Nr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">getNameNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">qO</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">,</span><span class="s2">&quot;name&quot;</span><span class="s0">)}}</span><span class="s4">var </span><span class="s1">br</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">basename</span><span class="s0">=</span><span class="s1">xr</span><span class="s0">.</span><span class="s1">A</span><span class="s0">.</span><span class="s1">basename</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">dirname</span><span class="s0">=</span><span class="s1">xr</span><span class="s0">.</span><span class="s1">A</span><span class="s0">.</span><span class="s1">dirname</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">extname</span><span class="s0">=</span><span class="s1">xr</span><span class="s0">.</span><span class="s1">A</span><span class="s0">.</span><span class="s1">extname</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">joinPath</span><span class="s0">=</span><span class="s1">xr</span><span class="s0">.</span><span class="s1">A</span><span class="s0">.</span><span class="s1">joinPath</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">resolvePath</span><span class="s0">=</span><span class="s1">xr</span><span class="s0">.</span><span class="s1">A</span><span class="s0">.</span><span class="s1">resolvePath</span><span class="s0">;</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">())===(</span><span class="s1">t</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">())}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">equals</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">path</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">split</span><span class="s0">(</span><span class="s2">&quot;/&quot;</span><span class="s0">).</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">));</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">split</span><span class="s0">(</span><span class="s2">&quot;/&quot;</span><span class="s0">).</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">));</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(;</span><span class="s1">a</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">a</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">a</span><span class="s0">]!==</span><span class="s1">s</span><span class="s0">[</span><span class="s1">a</span><span class="s0">]){</span><span class="s4">break</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s2">&quot;../&quot;</span><span class="s0">.</span><span class="s1">repeat</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s1">a</span><span class="s0">);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">a</span><span class="s0">).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;/&quot;</span><span class="s0">);</span><span class="s4">return </span><span class="s1">o</span><span class="s0">+</span><span class="s1">c</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">relative</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">function </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">xr</span><span class="s0">.</span><span class="s1">r</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()).</span><span class="s1">toString</span><span class="s0">()}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">normalize</span><span class="s0">=</span><span class="s1">r</span><span class="s0">})(</span><span class="s1">br</span><span class="s0">||(</span><span class="s1">br</span><span class="s0">={}));</span><span class="s4">class </span><span class="s1">_r</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameProvider</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">references</span><span class="s0">.</span><span class="s1">NameProvider</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">index</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">shared</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">IndexManager</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeLocator</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">AstNodeLocator</span><span class="s0">}</span><span class="s1">findDeclaration</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">Rp</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">astNode</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">feature</span><span class="s0">];</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">A_</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">A_</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$refNode</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$refNode</span><span class="s0">.</span><span class="s1">offset</span><span class="s0">&lt;=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">offset</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$refNode</span><span class="s0">.</span><span class="s1">end</span><span class="s0">&gt;=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">end</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">}}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameProvider</span><span class="s0">.</span><span class="s1">getNameNode</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&amp;&amp;(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">e</span><span class="s0">||(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">pO</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">))){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">findDeclarationNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">findDeclaration</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameProvider</span><span class="s0">.</span><span class="s1">getNameNode</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">findReferences</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">includeDeclaration</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getReferenceToSelf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">index</span><span class="s0">.</span><span class="s1">findAllReferences</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeLocator</span><span class="s0">.</span><span class="s1">getAstNodePath</span><span class="s0">(</span><span class="s1">e</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">documentUri</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">br</span><span class="s0">.</span><span class="s1">equals</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">sourceUri</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">documentUri</span><span class="s0">)))}</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...r</span><span class="s0">);</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Dn</span><span class="s0">.</span><span class="s1">Td</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">getReferenceToSelf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameProvider</span><span class="s0">.</span><span class="s1">getNameNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">YE</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeLocator</span><span class="s0">.</span><span class="s1">getAstNodePath</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">sourceUri</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">,</span><span class="s1">sourcePath</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">targetUri</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">,</span><span class="s1">targetPath</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">segment</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">SX</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">),</span><span class="s1">local</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Or</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const</span><span class="s0">[</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">]</span><span class="s1">of e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}}</span><span class="s1">get size</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">Dn</span><span class="s0">.</span><span class="s1">iD</span><span class="s0">.</span><span class="s1">sum</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Dn</span><span class="s0">.</span><span class="s1">Td</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">values</span><span class="s0">()).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)))}</span><span class="s1">clear</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">()}</span><span class="s4">delete</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s3">1</span><span class="s0">)}</span><span class="s4">return true</span><span class="s0">}}</span><span class="s4">return false</span><span class="s0">}}</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:[]}</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&gt;=</span><span class="s3">0</span><span class="s0">}</span><span class="s4">return false</span><span class="s0">}}</span><span class="s1">add</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s1">t</span><span class="s0">])}</span><span class="s4">return this</span><span class="s0">}</span><span class="s1">addAll</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">from</span><span class="s0">(</span><span class="s1">t</span><span class="s0">))}</span><span class="s4">return this</span><span class="s0">}</span><span class="s1">forEach</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">(((</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s4">this</span><span class="s0">)))))}[</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">](){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">().</span><span class="s1">iterator</span><span class="s0">()}</span><span class="s1">entries</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Dn</span><span class="s0">.</span><span class="s1">Td</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">()).</span><span class="s1">flatMap</span><span class="s0">((([</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">])=&gt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=&gt;[</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">]))))}</span><span class="s1">keys</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Dn</span><span class="s0">.</span><span class="s1">Td</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">())}</span><span class="s1">values</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Dn</span><span class="s0">.</span><span class="s1">Td</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">values</span><span class="s0">()).</span><span class="s1">flat</span><span class="s0">()}</span><span class="s1">entriesGroupedByKey</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Dn</span><span class="s0">.</span><span class="s1">Td</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">())}}</span><span class="s4">class </span><span class="s1">Pr</span><span class="s0">{</span><span class="s1">get size</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">size</span><span class="s0">}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">inverse</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const</span><span class="s0">[</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">]</span><span class="s1">of e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}}</span><span class="s1">clear</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">inverse</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">()}</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">inverse</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">}</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">getKey</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">inverse</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">delete</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">inverse</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Mr</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameProvider</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">references</span><span class="s0">.</span><span class="s1">NameProvider</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">descriptions</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">AstNodeDescriptionProvider</span><span class="s0">}</span><span class="s1">async computeExports</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">computeExportsForNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parseResult</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">async computeExportsForNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">VN</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">exportNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">await </span><span class="s1">mr</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">exportNode</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s1">exportNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameProvider</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">descriptions</span><span class="s0">.</span><span class="s1">createDescription</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))}}</span><span class="s1">async computeLocalScopes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parseResult</span><span class="s0">.</span><span class="s1">value</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Or</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">Uo</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">await </span><span class="s1">mr</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">processNode</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">processNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameProvider</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">descriptions</span><span class="s0">.</span><span class="s1">createDescription</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">))}}}}</span><span class="s4">class </span><span class="s1">Dr</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">outerScope</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">caseInsensitive</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">caseInsensitive</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s4">false</span><span class="s0">}</span><span class="s1">getAllElements</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">outerScope</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">outerScope</span><span class="s0">.</span><span class="s1">getAllElements</span><span class="s0">())}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">}}</span><span class="s1">getElement</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">caseInsensitive</span><span class="s0">?</span><span class="s4">this</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">.</span><span class="s1">find</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=&gt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">name</span><span class="s0">.</span><span class="s1">toLowerCase</span><span class="s0">()===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toLowerCase</span><span class="s0">())):</span><span class="s4">this</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">.</span><span class="s1">find</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=&gt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">e</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">outerScope</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">outerScope</span><span class="s0">.</span><span class="s1">getElement</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Ur</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">caseInsensitive</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">caseInsensitive</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s4">false</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">caseInsensitive</span><span class="s0">?</span><span class="s1">i</span><span class="s0">.</span><span class="s1">name</span><span class="s0">.</span><span class="s1">toLowerCase</span><span class="s0">():</span><span class="s1">i</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">outerScope</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">getElement</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">caseInsensitive</span><span class="s0">?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toLowerCase</span><span class="s0">():</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">outerScope</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">outerScope</span><span class="s0">.</span><span class="s1">getElement</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">getAllElements</span><span class="s0">(){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Dn</span><span class="s0">.</span><span class="s1">Td</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">.</span><span class="s1">values</span><span class="s0">());</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">outerScope</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">outerScope</span><span class="s0">.</span><span class="s1">getAllElements</span><span class="s0">())}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">Fr</span><span class="s0">={</span><span class="s1">getElement</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">},</span><span class="s1">getAllElements</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">Dn</span><span class="s0">.</span><span class="s1">B5</span><span class="s0">}};</span><span class="s4">class </span><span class="s1">Gr</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">toDispose</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isDisposed</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s1">onDispose</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">toDispose</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">dispose</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">throwIfDisposed</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isDisposed</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">toDispose</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">()))}</span><span class="s1">throwIfDisposed</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isDisposed</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;This cache has already been disposed&quot;</span><span class="s0">)}}}</span><span class="s4">class </span><span class="s1">Br </span><span class="s4">extends </span><span class="s1">Gr</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">...arguments</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cache</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">}</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">throwIfDisposed</span><span class="s0">();</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">cache</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">throwIfDisposed</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cache</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">throwIfDisposed</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cache</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">cache</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cache</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">delete</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">throwIfDisposed</span><span class="s0">();</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">cache</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">clear</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">throwIfDisposed</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cache</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">()}}</span><span class="s4">class </span><span class="s1">Kr </span><span class="s4">extends </span><span class="s1">Gr</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cache</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">converter</span><span class="s0">=</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">}</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">throwIfDisposed</span><span class="s0">();</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">cacheForContext</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">has</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">throwIfDisposed</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cacheForContext</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">set</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">throwIfDisposed</span><span class="s0">();</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cacheForContext</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">();</span><span class="s1">r</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">delete</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">throwIfDisposed</span><span class="s0">();</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">cacheForContext</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">clear</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">throwIfDisposed</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">converter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cache</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cache</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">()}}</span><span class="s1">cacheForContext</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">converter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cache</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cache</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">jr </span><span class="s4">extends </span><span class="s1">Kr</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">super</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">toDispose</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">DocumentBuilder</span><span class="s0">.</span><span class="s1">onDocumentPhase</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">())})));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">toDispose</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">DocumentBuilder</span><span class="s0">.</span><span class="s1">onUpdate</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}})))}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">toDispose</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">DocumentBuilder</span><span class="s0">.</span><span class="s1">onUpdate</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of n</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}})))}}}</span><span class="s4">class </span><span class="s1">Vr </span><span class="s4">extends </span><span class="s1">Br</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">toDispose</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">DocumentBuilder</span><span class="s0">.</span><span class="s1">onBuildPhase</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,(()=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">()})));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">toDispose</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">DocumentBuilder</span><span class="s0">.</span><span class="s1">onUpdate</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">()}})))}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">toDispose</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">DocumentBuilder</span><span class="s0">.</span><span class="s1">onUpdate</span><span class="s0">((()=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">()})))}}}</span><span class="s4">class </span><span class="s1">Wr</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">reflection</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">shared</span><span class="s0">.</span><span class="s1">AstReflection</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameProvider</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">references</span><span class="s0">.</span><span class="s1">NameProvider</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">descriptions</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">AstNodeDescriptionProvider</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">indexManager</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">shared</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">IndexManager</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">globalScopeCache</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">shared</span><span class="s0">)}</span><span class="s1">getScope</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">reflection</span><span class="s0">.</span><span class="s1">getReferenceType</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">YE</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">).</span><span class="s1">precomputedScopes</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">;</span><span class="s4">do</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Dn</span><span class="s0">.</span><span class="s1">Td</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">reflection</span><span class="s0">.</span><span class="s1">isSubtype</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))))}</span><span class="s1">i</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getGlobalScope</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">s</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">s</span><span class="s0">--){</span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">createScope</span><span class="s0">(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">s</span><span class="s0">],</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s1">createScope</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">Dr</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Dn</span><span class="s0">.</span><span class="s1">Td</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">createScopeForNodes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Dn</span><span class="s0">.</span><span class="s1">Td</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameProvider</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">descriptions</span><span class="s0">.</span><span class="s1">createDescription</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">})).</span><span class="s1">nonNullable</span><span class="s0">();</span><span class="s4">return new </span><span class="s1">Dr</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">getGlobalScope</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">globalScopeCache</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(()=&gt;</span><span class="s4">new </span><span class="s1">Ur</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">indexManager</span><span class="s0">.</span><span class="s1">allElements</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))))}}</span><span class="s4">function </span><span class="s1">Hr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">$comment</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">zr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">&amp;&amp;!!</span><span class="s1">e</span><span class="s0">&amp;&amp;(</span><span class="s2">&quot;$ref&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">||</span><span class="s2">&quot;$error&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">)}</span><span class="s4">class </span><span class="s1">Yr</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">ignoreProperties</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s2">&quot;$container&quot;</span><span class="s0">,</span><span class="s2">&quot;$containerProperty&quot;</span><span class="s0">,</span><span class="s2">&quot;$containerIndex&quot;</span><span class="s0">,</span><span class="s2">&quot;$document&quot;</span><span class="s0">,</span><span class="s2">&quot;$cstNode&quot;</span><span class="s0">]);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocuments</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">shared</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">LangiumDocuments</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">astNodeLocator</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">AstNodeLocator</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameProvider</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">references</span><span class="s0">.</span><span class="s1">NameProvider</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">commentProvider</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">documentation</span><span class="s0">.</span><span class="s1">CommentProvider</span><span class="s0">}</span><span class="s1">serialize</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:{};</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">replacer</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">replacer</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">?(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;</span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">):</span><span class="s1">i</span><span class="s0">;</span><span class="s4">try</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currentDocument</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">YE</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">JSON</span><span class="s0">.</span><span class="s1">stringify</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">t</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">space</span><span class="s0">)}</span><span class="s4">finally</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currentDocument</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}}</span><span class="s1">deserialize</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:{};</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">JSON</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">linkNode</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">replacer</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">refText</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">sourceText</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">textRegions</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">comments</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">uriConverter</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}){</span><span class="s4">var </span><span class="s1">o</span><span class="s0">,</span><span class="s1">c</span><span class="s0">,</span><span class="s1">u</span><span class="s0">,</span><span class="s1">l</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">ignoreProperties</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">A_</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$refText</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">YE</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currentDocument</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currentDocument</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">a</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()}}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">astNodeLocator</span><span class="s0">.</span><span class="s1">getAstNodePath</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">$ref</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">#</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">`</span><span class="s0">,</span><span class="s1">$refText</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">$error</span><span class="s0">:(</span><span class="s1">c</span><span class="s0">=(</span><span class="s1">o</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">error</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">o</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">message</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">c</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">c</span><span class="s0">:</span><span class="s2">&quot;Could not resolve reference&quot;</span><span class="s0">,</span><span class="s1">$refText</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}}}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">ng</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addAstNodeRegionWithAssignmentsTo</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">t</span><span class="s0">));</span><span class="s4">if</span><span class="s0">((!</span><span class="s1">e</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$document</span><span class="s0">)&amp;&amp;(</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$textRegion</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$textRegion</span><span class="s0">.</span><span class="s1">documentURI</span><span class="s0">=(</span><span class="s1">u</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currentDocument</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">u</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">u</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&amp;&amp;!</span><span class="s1">e</span><span class="s0">){</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">t</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$sourceText</span><span class="s0">=(</span><span class="s1">l</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">l</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">l</span><span class="s0">.</span><span class="s1">text</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">commentProvider</span><span class="s0">.</span><span class="s1">getComment</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$comment</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/\r/g</span><span class="s0">,</span><span class="s2">&quot;&quot;</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s1">addAstNodeRegionWithAssignmentsTo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=&gt;({</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">offset</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">end</span><span class="s0">,</span><span class="s1">length</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$textRegion</span><span class="s0">=</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">assignments</span><span class="s0">={};</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startsWith</span><span class="s0">(</span><span class="s2">&quot;$&quot;</span><span class="s0">))).</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">Bd</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">,</span><span class="s1">n</span><span class="s0">).</span><span class="s1">map</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">!==</span><span class="s3">0</span><span class="s0">){</span><span class="s1">r</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">s</span><span class="s0">}}));</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">linkNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const</span><span class="s0">[</span><span class="s1">o</span><span class="s0">,</span><span class="s1">c</span><span class="s0">]</span><span class="s1">of Object</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">c</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">c</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">zr</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">c</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">reviveReference</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">ng</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">linkNode</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">zr</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">reviveReference</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">c</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">ng</span><span class="s0">)(</span><span class="s1">c</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">linkNode</span><span class="s0">(</span><span class="s1">c</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">a</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">a</span><span class="s0">.</span><span class="s1">$containerProperty</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s1">a</span><span class="s0">.</span><span class="s1">$containerIndex</span><span class="s0">=</span><span class="s1">s</span><span class="s0">}</span><span class="s1">reviveReference</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">$refText</span><span class="s0">;</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">$error</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">$ref</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getRefNode</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">$ref</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">uriConverter</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">ng</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameProvider</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">$refText</span><span class="s0">:</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">ref</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">$refText</span><span class="s0">:</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">};</span><span class="s1">n</span><span class="s0">.</span><span class="s1">error</span><span class="s0">={</span><span class="s1">container</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">property</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">message</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">reference</span><span class="s0">:</span><span class="s1">n</span><span class="s0">};</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s1">getRefNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s2">&quot;#&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">astNodeLocator</span><span class="s0">.</span><span class="s1">getAstNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s3">1</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;Could not resolve path: &quot;</span><span class="s0">+</span><span class="s1">t</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">?</span><span class="s1">n</span><span class="s0">(</span><span class="s1">t</span><span class="s0">):</span><span class="s1">xr</span><span class="s0">.</span><span class="s1">r</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocuments</span><span class="s0">.</span><span class="s1">getDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;Could not find document for URI: &quot;</span><span class="s0">+</span><span class="s1">t</span><span class="s0">}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">parseResult</span><span class="s0">.</span><span class="s1">value</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">?</span><span class="s1">n</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)):</span><span class="s1">xr</span><span class="s0">.</span><span class="s1">r</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">));</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocuments</span><span class="s0">.</span><span class="s1">getDocument</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;Could not find document for URI: &quot;</span><span class="s0">+</span><span class="s1">t</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return </span><span class="s1">s</span><span class="s0">.</span><span class="s1">parseResult</span><span class="s0">.</span><span class="s1">value</span><span class="s0">}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">astNodeLocator</span><span class="s0">.</span><span class="s1">getAstNode</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">parseResult</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">r</span><span class="s0">+</span><span class="s3">1</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">a</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;Could not resolve URI: &quot;</span><span class="s0">+</span><span class="s1">t</span><span class="s0">}</span><span class="s4">return </span><span class="s1">a</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return </span><span class="s1">String</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}}}</span><span class="s4">class </span><span class="s1">qr</span><span class="s0">{</span><span class="s1">get map</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">fileExtensionMap</span><span class="s0">}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">languageIdMap</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fileExtensionMap</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">textDocuments</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">TextDocuments</span><span class="s0">}</span><span class="s1">register</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LanguageMetaData</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of t</span><span class="s0">.</span><span class="s1">fileExtensions</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fileExtensionMap</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">console</span><span class="s0">.</span><span class="s1">warn</span><span class="s0">(</span><span class="s2">`The file extension </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">} </span><span class="s2">is used by multiple languages. It is now assigned to '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">languageId</span><span class="s0">}</span><span class="s2">'.`</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fileExtensionMap</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">languageIdMap</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">languageId</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">languageIdMap</span><span class="s0">.</span><span class="s1">size</span><span class="s0">===</span><span class="s3">1</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">singleton</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">singleton</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}}</span><span class="s1">getServices</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">singleton</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">singleton</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">languageIdMap</span><span class="s0">.</span><span class="s1">size</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;The service registry is empty. Use `register` to register the services of a language.&quot;</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s1">n</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">textDocuments</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">languageId</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">languageIdMap</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">br</span><span class="s0">.</span><span class="s1">extname</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fileExtensionMap</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`The service registry contains no services for the extension '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">' for language '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">'.`</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`The service registry contains no services for the extension '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">'.`</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s1">hasServices</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getServices</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}}</span><span class="s1">get all</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">Array</span><span class="s0">.</span><span class="s1">from</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">languageIdMap</span><span class="s0">.</span><span class="s1">values</span><span class="s0">())}}</span><span class="s4">function </span><span class="s1">Xr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">code</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">var </span><span class="s1">Qr</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">all</span><span class="s0">=[</span><span class="s2">&quot;fast&quot;</span><span class="s0">,</span><span class="s2">&quot;slow&quot;</span><span class="s0">,</span><span class="s2">&quot;built-in&quot;</span><span class="s0">]})(</span><span class="s1">Qr</span><span class="s0">||(</span><span class="s1">Qr</span><span class="s0">={}));</span><span class="s4">class </span><span class="s1">Zr</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Or</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">entriesBefore</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">entriesAfter</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">reflection</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">shared</span><span class="s0">.</span><span class="s1">AstReflection</span><span class="s0">}</span><span class="s1">register</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;fast&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;built-in&quot;</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;The 'built-in' category is reserved for lexer, parser, and linker errors.&quot;</span><span class="s0">)}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const</span><span class="s0">[</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">]</span><span class="s1">of Object</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">={</span><span class="s1">check</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapValidationException</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">),</span><span class="s1">category</span><span class="s0">:</span><span class="s1">n</span><span class="s0">};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addEntry</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={</span><span class="s1">check</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapValidationException</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">),</span><span class="s1">category</span><span class="s0">:</span><span class="s1">n</span><span class="s0">};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addEntry</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Mn</span><span class="s0">.</span><span class="s1">d</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)}}}</span><span class="s1">wrapValidationException</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">async</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)=&gt;{</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">handleException</span><span class="s0">((()=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)),</span><span class="s2">&quot;An error occurred during validation&quot;</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s1">async handleException</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">await </span><span class="s1">e</span><span class="s0">()}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">pr</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">throw </span><span class="s1">i</span><span class="s0">}</span><span class="s1">console</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">:`</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">Error</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">){</span><span class="s1">console</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">Error</span><span class="s0">?</span><span class="s1">i</span><span class="s0">.</span><span class="s1">message</span><span class="s0">:</span><span class="s1">String</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s1">n</span><span class="s0">(</span><span class="s2">&quot;error&quot;</span><span class="s0">,</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">`</span><span class="s0">,{</span><span class="s1">node</span><span class="s0">:</span><span class="s1">r</span><span class="s0">})}}</span><span class="s1">addEntry</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;AstNode&quot;</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s2">&quot;AstNode&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return</span><span class="s0">}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">reflection</span><span class="s0">.</span><span class="s1">getAllSubTypes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}</span><span class="s1">getChecks</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Dn</span><span class="s0">.</span><span class="s1">Td</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)).</span><span class="s1">concat</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;AstNode&quot;</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">category</span><span class="s0">)))}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">check</span><span class="s0">))}</span><span class="s1">registerBeforeDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">entriesBefore</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapPreparationException</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;An error occurred during set-up of the validation&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">))}</span><span class="s1">registerAfterDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">entriesAfter</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">wrapPreparationException</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;An error occurred during tear-down of the validation&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">))}</span><span class="s1">wrapPreparationException</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">async</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">a</span><span class="s0">)=&gt;{</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">handleException</span><span class="s0">((()=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">a</span><span class="s0">)),</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}}</span><span class="s1">get checksBefore</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">entriesBefore</span><span class="s0">}</span><span class="s1">get checksAfter</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">entriesAfter</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Jr</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">validationRegistry</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">validation</span><span class="s0">.</span><span class="s1">ValidationRegistry</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">metadata</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LanguageMetaData</span><span class="s0">}</span><span class="s1">async validateDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">={},</span><span class="s1">n</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parseResult</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">await </span><span class="s1">mr</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">categories</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">categories</span><span class="s0">.</span><span class="s1">includes</span><span class="s0">(</span><span class="s2">&quot;built-in&quot;</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">processLexingErrors</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">stopAfterLexingErrors</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">some</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">return</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">code</span><span class="s0">)===</span><span class="s1">ri</span><span class="s0">.</span><span class="s1">LexingError</span><span class="s0">}))){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">processParsingErrors</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">stopAfterParsingErrors</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">some</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">return</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">code</span><span class="s0">)===</span><span class="s1">ri</span><span class="s0">.</span><span class="s1">ParsingError</span><span class="s0">}))){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">processLinkingErrors</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">stopAfterLinkingErrors</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">some</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">return</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">code</span><span class="s0">)===</span><span class="s1">ri</span><span class="s0">.</span><span class="s1">LinkingError</span><span class="s0">}))){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}}</span><span class="s4">try</span><span class="s0">{</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">validateAst</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">pr</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">throw </span><span class="s1">s</span><span class="s0">}</span><span class="s1">console</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">&quot;An error occurred during validation:&quot;</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">await </span><span class="s1">mr</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s1">processLexingErrors</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=[</span><span class="s1">...e</span><span class="s0">.</span><span class="s1">lexerErrors</span><span class="s0">,</span><span class="s1">...</span><span class="s0">(</span><span class="s1">i</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lexerReport</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">diagnostics</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:[]];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of a</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s1">s</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">severity</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s2">&quot;error&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">severity</span><span class="s0">:</span><span class="s1">ti</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">range</span><span class="s0">:{</span><span class="s1">start</span><span class="s0">:{</span><span class="s1">line</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">line</span><span class="s0">-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">character</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">column</span><span class="s0">-</span><span class="s3">1</span><span class="s0">},</span><span class="s1">end</span><span class="s0">:{</span><span class="s1">line</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">line</span><span class="s0">-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">character</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">column</span><span class="s0">+</span><span class="s1">o</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">}},</span><span class="s1">message</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">message</span><span class="s0">,</span><span class="s1">data</span><span class="s0">:</span><span class="s1">ni</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">source</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getSource</span><span class="s0">()};</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}</span><span class="s1">processParsingErrors</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of e</span><span class="s0">.</span><span class="s1">parserErrors</span><span class="s0">){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">isNaN</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">token</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s2">&quot;previousToken&quot;</span><span class="s4">in </span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">previousToken</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">isNaN</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">startOffset</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">line</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">endLine</span><span class="s0">-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">character</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">endColumn</span><span class="s0">};</span><span class="s1">e</span><span class="s0">={</span><span class="s1">start</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={</span><span class="s1">line</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">character</span><span class="s0">:</span><span class="s3">0</span><span class="s0">};</span><span class="s1">e</span><span class="s0">={</span><span class="s1">start</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">wf</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">token</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">severity</span><span class="s0">:</span><span class="s1">ti</span><span class="s0">(</span><span class="s2">&quot;error&quot;</span><span class="s0">),</span><span class="s1">range</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">message</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">message</span><span class="s0">,</span><span class="s1">data</span><span class="s0">:</span><span class="s1">Xr</span><span class="s0">(</span><span class="s1">ri</span><span class="s0">.</span><span class="s1">ParsingError</span><span class="s0">),</span><span class="s1">source</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getSource</span><span class="s0">()};</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}}</span><span class="s1">processLinkingErrors</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of e</span><span class="s0">.</span><span class="s1">references</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">error</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">node</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">,</span><span class="s1">property</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">property</span><span class="s0">,</span><span class="s1">index</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">index</span><span class="s0">,</span><span class="s1">data</span><span class="s0">:{</span><span class="s1">code</span><span class="s0">:</span><span class="s1">ri</span><span class="s0">.</span><span class="s1">LinkingError</span><span class="s0">,</span><span class="s1">containerType</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">,</span><span class="s1">property</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">property</span><span class="s0">,</span><span class="s1">refText</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">reference</span><span class="s0">.</span><span class="s1">$refText</span><span class="s0">}};</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">toDiagnostic</span><span class="s0">(</span><span class="s2">&quot;error&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">message</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))}}}</span><span class="s1">async validateAst</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">toDiagnostic</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))};</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">validateAstBefore</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">validateAstNodes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">validateAstAfter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">async validateAstBefore</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">validationRegistry</span><span class="s0">.</span><span class="s1">checksBefore</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">a of s</span><span class="s0">){</span><span class="s4">await </span><span class="s1">mr</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">await </span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">categories</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:[],</span><span class="s1">r</span><span class="s0">)}}</span><span class="s1">async validateAstNodes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">await </span><span class="s1">Promise</span><span class="s0">.</span><span class="s1">all</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">jm</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">async e</span><span class="s0">=&gt;{</span><span class="s4">await </span><span class="s1">mr</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">validationRegistry</span><span class="s0">.</span><span class="s1">getChecks</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">categories</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of i</span><span class="s0">){</span><span class="s4">await </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}})))}</span><span class="s1">async validateAstAfter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">validationRegistry</span><span class="s0">.</span><span class="s1">checksAfter</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">a of s</span><span class="s0">){</span><span class="s4">await </span><span class="s1">mr</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">await </span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">categories</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:[],</span><span class="s1">r</span><span class="s0">)}}</span><span class="s1">toDiagnostic</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">message</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">ei</span><span class="s0">(</span><span class="s1">n</span><span class="s0">),</span><span class="s1">severity</span><span class="s0">:</span><span class="s1">ti</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">code</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">code</span><span class="s0">,</span><span class="s1">codeDescription</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">codeDescription</span><span class="s0">,</span><span class="s1">tags</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">tags</span><span class="s0">,</span><span class="s1">relatedInformation</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">relatedInformation</span><span class="s0">,</span><span class="s1">data</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">data</span><span class="s0">,</span><span class="s1">source</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getSource</span><span class="s0">()}}</span><span class="s1">getSource</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">metadata</span><span class="s0">.</span><span class="s1">languageId</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">ei</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">}</span><span class="s4">let </span><span class="s1">t</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">property</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">qO</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">node</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">property</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">index</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">keyword</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">SS</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">node</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">keyword</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">index</span><span class="s0">)}</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">node</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">start</span><span class="s0">:{</span><span class="s1">line</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">character</span><span class="s0">:</span><span class="s3">0</span><span class="s0">},</span><span class="s1">end</span><span class="s0">:{</span><span class="s1">line</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">character</span><span class="s0">:</span><span class="s3">0</span><span class="s0">}}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ti</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;error&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s3">1</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;warning&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s3">2</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;info&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s3">3</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;hint&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s3">4</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Invalid diagnostic severity: &quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">ni</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;error&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">Xr</span><span class="s0">(</span><span class="s1">ri</span><span class="s0">.</span><span class="s1">LexingError</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;warning&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">Xr</span><span class="s0">(</span><span class="s1">ri</span><span class="s0">.</span><span class="s1">LexingWarning</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;info&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">Xr</span><span class="s0">(</span><span class="s1">ri</span><span class="s0">.</span><span class="s1">LexingInfo</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;hint&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">Xr</span><span class="s0">(</span><span class="s1">ri</span><span class="s0">.</span><span class="s1">LexingHint</span><span class="s0">);</span><span class="s4">default</span><span class="s0">:</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Invalid diagnostic severity: &quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">var </span><span class="s1">ri</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LexingError</span><span class="s0">=</span><span class="s2">&quot;lexing-error&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LexingWarning</span><span class="s0">=</span><span class="s2">&quot;lexing-warning&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LexingInfo</span><span class="s0">=</span><span class="s2">&quot;lexing-info&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LexingHint</span><span class="s0">=</span><span class="s2">&quot;lexing-hint&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ParsingError</span><span class="s0">=</span><span class="s2">&quot;parsing-error&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LinkingError</span><span class="s0">=</span><span class="s2">&quot;linking-error&quot;</span><span class="s0">})(</span><span class="s1">ri</span><span class="s0">||(</span><span class="s1">ri</span><span class="s0">={}));</span><span class="s4">class </span><span class="s1">ii</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">astNodeLocator</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">AstNodeLocator</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameProvider</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">references</span><span class="s0">.</span><span class="s1">NameProvider</span><span class="s0">}</span><span class="s1">createDescription</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">YE</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameProvider</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">astNodeLocator</span><span class="s0">.</span><span class="s1">getAstNodePath</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Node at path </span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">} </span><span class="s2">has no name.`</span><span class="s0">)}</span><span class="s4">let </span><span class="s1">a</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=()=&gt;{</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">return </span><span class="s1">a</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">a</span><span class="s0">:</span><span class="s1">a</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">SX</span><span class="s0">)((</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameProvider</span><span class="s0">.</span><span class="s1">getNameNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">)};</span><span class="s4">return</span><span class="s0">{</span><span class="s1">node</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">name</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">get nameSegment</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">o</span><span class="s0">()},</span><span class="s1">selectionSegment</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">SX</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">),</span><span class="s1">type</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">,</span><span class="s1">documentUri</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">,</span><span class="s1">path</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}}}</span><span class="s4">class </span><span class="s1">si</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeLocator</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">AstNodeLocator</span><span class="s0">}</span><span class="s1">async createDescriptions</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parseResult</span><span class="s0">.</span><span class="s1">value</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">jm</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">await </span><span class="s1">mr</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">DM</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">).</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">Zl</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">))).</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">createDescription</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}))}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">createDescription</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">reference</span><span class="s0">.</span><span class="s1">$nodeDescription</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">reference</span><span class="s0">.</span><span class="s1">$refNode</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">||!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">YE</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">).</span><span class="s1">uri</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">sourceUri</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">sourcePath</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nodeLocator</span><span class="s0">.</span><span class="s1">getAstNodePath</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">),</span><span class="s1">targetUri</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">documentUri</span><span class="s0">,</span><span class="s1">targetPath</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">path</span><span class="s0">,</span><span class="s1">segment</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">SX</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">),</span><span class="s1">local</span><span class="s0">:</span><span class="s1">br</span><span class="s0">.</span><span class="s1">equals</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">documentUri</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}}}</span><span class="s4">class </span><span class="s1">ai</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">segmentSeparator</span><span class="s0">=</span><span class="s2">&quot;/&quot;</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">indexSeparator</span><span class="s0">=</span><span class="s2">&quot;@&quot;</span><span class="s0">}</span><span class="s1">getAstNodePath</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getAstNodePath</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getPathSegment</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">+</span><span class="s4">this</span><span class="s0">.</span><span class="s1">segmentSeparator</span><span class="s0">+</span><span class="s1">n</span><span class="s0">;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">return</span><span class="s2">&quot;&quot;</span><span class="s0">}</span><span class="s1">getPathSegment</span><span class="s0">({</span><span class="s1">$containerProperty</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">$containerIndex</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Missing '$containerProperty' in AST node.&quot;</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">+</span><span class="s4">this</span><span class="s0">.</span><span class="s1">indexSeparator</span><span class="s0">+</span><span class="s1">t</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">getAstNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">split</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">segmentSeparator</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">indexSeparator</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">parseInt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">n</span><span class="s0">+</span><span class="s3">1</span><span class="s0">));</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">return </span><span class="s1">s</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">s</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">s</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]}),</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">var </span><span class="s1">oi</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">62676</span><span class="s0">);</span><span class="s4">class </span><span class="s1">ci</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ready</span><span class="s0">=</span><span class="s4">new </span><span class="s1">gr</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">settings</span><span class="s0">={};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">workspaceConfig</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">onConfigurationSectionUpdateEmitter</span><span class="s0">=</span><span class="s4">new </span><span class="s1">oi</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">serviceRegistry</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ServiceRegistry</span><span class="s0">}</span><span class="s1">get ready</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_ready</span><span class="s0">.</span><span class="s1">promise</span><span class="s0">}</span><span class="s1">initialize</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">workspaceConfig</span><span class="s0">=(</span><span class="s1">n</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">capabilities</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">configuration</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s4">false</span><span class="s0">}</span><span class="s1">async initialized</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">workspaceConfig</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">register</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">serviceRegistry</span><span class="s0">.</span><span class="s1">all</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">register</span><span class="s0">({</span><span class="s1">section</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">toSectionName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LanguageMetaData</span><span class="s0">.</span><span class="s1">languageId</span><span class="s0">)))})}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fetchConfiguration</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">serviceRegistry</span><span class="s0">.</span><span class="s1">all</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;({</span><span class="s1">section</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">toSectionName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LanguageMetaData</span><span class="s0">.</span><span class="s1">languageId</span><span class="s0">)})));</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">await </span><span class="s1">e</span><span class="s0">.</span><span class="s1">fetchConfiguration</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">updateSectionConfiguration</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">section</span><span class="s0">,</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">])}))}}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ready</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">()}</span><span class="s1">updateConfiguration</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">settings</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">settings</span><span class="s0">).</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">settings</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">updateSectionConfiguration</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">onConfigurationSectionUpdateEmitter</span><span class="s0">.</span><span class="s1">fire</span><span class="s0">({</span><span class="s1">section</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">configuration</span><span class="s0">:</span><span class="s1">n</span><span class="s0">})}))}</span><span class="s1">updateSectionConfiguration</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">settings</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">async getConfiguration</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">ready</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">toSectionName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">settings</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">settings</span><span class="s0">[</span><span class="s1">n</span><span class="s0">][</span><span class="s1">t</span><span class="s0">]}}</span><span class="s1">toSectionName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">get onConfigurationSectionUpdate</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">onConfigurationSectionUpdateEmitter</span><span class="s0">.</span><span class="s1">event</span><span class="s0">}}</span><span class="s4">var </span><span class="s1">ui</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">dispose</span><span class="s0">:</span><span class="s1">async</span><span class="s0">()=&gt;</span><span class="s4">await </span><span class="s1">e</span><span class="s0">()}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">ui</span><span class="s0">||(</span><span class="s1">ui</span><span class="s0">={}));</span><span class="s4">class </span><span class="s1">li</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">updateBuildOptions</span><span class="s0">={</span><span class="s1">validation</span><span class="s0">:{</span><span class="s1">categories</span><span class="s0">:[</span><span class="s2">&quot;built-in&quot;</span><span class="s0">,</span><span class="s2">&quot;fast&quot;</span><span class="s0">]}};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">updateListeners</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildPhaseListeners</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Or</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">documentPhaseListeners</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Or</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildState</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">documentBuildWaiters</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currentState</span><span class="s0">=</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">Changed</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocuments</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">LangiumDocuments</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocumentFactory</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">LangiumDocumentFactory</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">textDocuments</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">TextDocuments</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">indexManager</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">IndexManager</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">serviceRegistry</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ServiceRegistry</span><span class="s0">}</span><span class="s1">async build</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">={},</span><span class="s1">n</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">state</span><span class="s0">===</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">Validated</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">.</span><span class="s1">validation</span><span class="s0">===</span><span class="s2">&quot;boolean&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">validation</span><span class="s0">){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">state</span><span class="s0">=</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">IndexedReferences</span><span class="s0">;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">diagnostics</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildState</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">.</span><span class="s1">validation</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildState</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">result</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">validationChecks</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">validation</span><span class="s0">.</span><span class="s1">categories</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">Qr</span><span class="s0">.</span><span class="s1">all</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;!</span><span class="s1">a</span><span class="s0">.</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildState</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">completed</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">options</span><span class="s0">:{</span><span class="s1">validation</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">t</span><span class="s0">.</span><span class="s1">validation</span><span class="s0">),{</span><span class="s1">categories</span><span class="s0">:</span><span class="s1">o</span><span class="s0">})},</span><span class="s1">result</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">result</span><span class="s0">});</span><span class="s1">s</span><span class="s0">.</span><span class="s1">state</span><span class="s0">=</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">IndexedReferences</span><span class="s0">}}}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildState</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currentState</span><span class="s0">=</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">Changed</span><span class="s0">;</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">emitUpdate</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">)),[]);</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">buildDocuments</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">async update</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currentState</span><span class="s0">=</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">Changed</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocuments</span><span class="s0">.</span><span class="s1">deleteDocument</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildState</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">());</span><span class="s4">this</span><span class="s0">.</span><span class="s1">indexManager</span><span class="s0">.</span><span class="s1">remove</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocuments</span><span class="s0">.</span><span class="s1">invalidateDocument</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocumentFactory</span><span class="s0">.</span><span class="s1">fromModel</span><span class="s0">({</span><span class="s1">$type</span><span class="s0">:</span><span class="s2">&quot;INVALID&quot;</span><span class="s0">},</span><span class="s1">s</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">state</span><span class="s0">=</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">Changed</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocuments</span><span class="s0">.</span><span class="s1">addDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildState</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">())}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Dn</span><span class="s0">.</span><span class="s1">Td</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">t</span><span class="s0">).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">())).</span><span class="s1">toSet</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocuments</span><span class="s0">.</span><span class="s1">all</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;!</span><span class="s1">r</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">())&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">shouldRelink</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">))).</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">serviceRegistry</span><span class="s0">.</span><span class="s1">getServices</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">).</span><span class="s1">references</span><span class="s0">.</span><span class="s1">Linker</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">unlink</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">state</span><span class="s0">=</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">min</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">state</span><span class="s0">,</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">ComputedScopes</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">diagnostics</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}));</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">emitUpdate</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">await </span><span class="s1">mr</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">sortDocuments</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocuments</span><span class="s0">.</span><span class="s1">all</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">state</span><span class="s0">&lt;</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">Linked</span><span class="s0">||!((</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildState</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()))===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">completed</span><span class="s0">)})).</span><span class="s1">toArray</span><span class="s0">());</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">buildDocuments</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">updateBuildOptions</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">async emitUpdate</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">await </span><span class="s1">Promise</span><span class="s0">.</span><span class="s1">all</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">updateListeners</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;</span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">))))}</span><span class="s1">sortDocuments</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">){</span><span class="s4">while</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hasTextDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">])){</span><span class="s1">t</span><span class="s0">++}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">&amp;&amp;!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hasTextDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])){</span><span class="s1">n</span><span class="s0">--}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">){[</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">],</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]]=[</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">],</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]]}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">hasTextDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Boolean</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">textDocuments</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">))}</span><span class="s1">shouldRelink</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">references</span><span class="s0">.</span><span class="s1">some</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">error</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">))){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">indexManager</span><span class="s0">.</span><span class="s1">isAffected</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">onUpdate</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">updateListeners</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">ui</span><span class="s0">.</span><span class="s1">create</span><span class="s0">((()=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">updateListeners</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">updateListeners</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s3">1</span><span class="s0">)}}))}</span><span class="s1">async buildDocuments</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">prepareBuild</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">runCancelable</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">Parsed</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocumentFactory</span><span class="s0">.</span><span class="s1">update</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)));</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">runCancelable</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">IndexedContent</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">indexManager</span><span class="s0">.</span><span class="s1">updateContent</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)));</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">runCancelable</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">ComputedScopes</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">async e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">serviceRegistry</span><span class="s0">.</span><span class="s1">getServices</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">).</span><span class="s1">references</span><span class="s0">.</span><span class="s1">ScopeComputation</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">precomputedScopes</span><span class="s0">=</span><span class="s4">await </span><span class="s1">t</span><span class="s0">.</span><span class="s1">computeLocalScopes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}));</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">runCancelable</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">Linked</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">serviceRegistry</span><span class="s0">.</span><span class="s1">getServices</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">).</span><span class="s1">references</span><span class="s0">.</span><span class="s1">Linker</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">link</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}));</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">runCancelable</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">IndexedReferences</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">indexManager</span><span class="s0">.</span><span class="s1">updateReferences</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)));</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">shouldValidate</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)));</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">runCancelable</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">$r</span><span class="s0">.</span><span class="s1">Validated</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">validate</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)));</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildState</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">());</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">completed</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}}</span><span class="s1">prepareBuild</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">();</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildState</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">||</span><span class="s1">r</span><span class="s0">.</span><span class="s1">completed</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildState</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">completed</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">options</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">result</span><span class="s0">:</span><span class="s1">r</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">result</span><span class="s0">})}}}</span><span class="s1">async runCancelable</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">state</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">));</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">a of i</span><span class="s0">){</span><span class="s4">await </span><span class="s1">mr</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">await </span><span class="s1">r</span><span class="s0">(</span><span class="s1">a</span><span class="s0">);</span><span class="s1">a</span><span class="s0">.</span><span class="s1">state</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">notifyDocumentPhase</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">state</span><span class="s0">===</span><span class="s1">t</span><span class="s0">));</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">notifyBuildPhase</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currentState</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">onBuildPhase</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildPhaseListeners</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">ui</span><span class="s0">.</span><span class="s1">create</span><span class="s0">((()=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildPhaseListeners</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}))}</span><span class="s1">onDocumentPhase</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">documentPhaseListeners</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">ui</span><span class="s0">.</span><span class="s1">create</span><span class="s0">((()=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">documentPhaseListeners</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}))}</span><span class="s1">waitUntil</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;path&quot;</span><span class="s4">in </span><span class="s1">t</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">n</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">None</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocuments</span><span class="s0">.</span><span class="s1">getDocument</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">state</span><span class="s0">&gt;</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Promise</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">currentState</span><span class="s0">&gt;=</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Promise</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">(</span><span class="s1">undefined</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">isCancellationRequested</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Promise</span><span class="s0">.</span><span class="s1">reject</span><span class="s0">(</span><span class="s1">hr</span><span class="s0">)}</span><span class="s4">return new </span><span class="s1">Promise</span><span class="s0">(((</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">onBuildPhase</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(()=&gt;{</span><span class="s1">s</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">();</span><span class="s1">a</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocuments</span><span class="s0">.</span><span class="s1">getDocument</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">(</span><span class="s1">undefined</span><span class="s0">)}}));</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">onCancellationRequested</span><span class="s0">((()=&gt;{</span><span class="s1">s</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">();</span><span class="s1">a</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">();</span><span class="s1">i</span><span class="s0">(</span><span class="s1">hr</span><span class="s0">)}))}))}</span><span class="s1">async notifyDocumentPhase</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">documentPhaseListeners</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">();</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">a of i</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">await </span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">pr</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">throw </span><span class="s1">s</span><span class="s0">}}}}</span><span class="s1">async notifyBuildPhase</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildPhaseListeners</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">();</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of i</span><span class="s0">){</span><span class="s4">await </span><span class="s1">mr</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">await </span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s1">shouldValidate</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Boolean</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getBuildOptions</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">validation</span><span class="s0">)}</span><span class="s1">async validate</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">serviceRegistry</span><span class="s0">.</span><span class="s1">getServices</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">).</span><span class="s1">validation</span><span class="s0">.</span><span class="s1">DocumentValidator</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getBuildOptions</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">validation</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s4">typeof </span><span class="s1">s</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s4">await </span><span class="s1">i</span><span class="s0">.</span><span class="s1">validateDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">diagnostics</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">diagnostics</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...o</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">diagnostics</span><span class="s0">=</span><span class="s1">o</span><span class="s0">}</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildState</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">());</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">){(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">c</span><span class="s0">.</span><span class="s1">result</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">c</span><span class="s0">.</span><span class="s1">result</span><span class="s0">={};</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">a</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">a</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">categories</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">Qr</span><span class="s0">.</span><span class="s1">all</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">.</span><span class="s1">result</span><span class="s0">.</span><span class="s1">validationChecks</span><span class="s0">){</span><span class="s1">c</span><span class="s0">.</span><span class="s1">result</span><span class="s0">.</span><span class="s1">validationChecks</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">c</span><span class="s0">.</span><span class="s1">result</span><span class="s0">.</span><span class="s1">validationChecks</span><span class="s0">=[</span><span class="s1">...e</span><span class="s0">]}}}</span><span class="s1">getBuildOptions</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s1">n</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildState</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()))===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">options</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:{}}}</span><span class="s4">class </span><span class="s1">di</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">symbolIndex</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">symbolByTypeIndex</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Kr</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">referenceIndex</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">documents</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">LangiumDocuments</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">serviceRegistry</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ServiceRegistry</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">astReflection</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">AstReflection</span><span class="s0">}</span><span class="s1">findAllReferences</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">YE</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">uri</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">referenceIndex</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">br</span><span class="s0">.</span><span class="s1">equals</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">targetUri</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">targetPath</span><span class="s0">===</span><span class="s1">t</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}))}));</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Dn</span><span class="s0">.</span><span class="s1">Td</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">)}</span><span class="s1">allElements</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Dn</span><span class="s0">.</span><span class="s1">Td</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">symbolIndex</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">());</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;!</span><span class="s1">t</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)))}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getFileDescriptions</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">))).</span><span class="s1">flat</span><span class="s0">()}</span><span class="s1">getFileDescriptions</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">symbolIndex</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:[]}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">symbolByTypeIndex</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,(()=&gt;{</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">symbolIndex</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:[];</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">astReflection</span><span class="s0">.</span><span class="s1">isSubtype</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)))}));</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">remove</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">symbolIndex</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">symbolByTypeIndex</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">referenceIndex</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">async updateContent</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">serviceRegistry</span><span class="s0">.</span><span class="s1">getServices</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">await </span><span class="s1">n</span><span class="s0">.</span><span class="s1">references</span><span class="s0">.</span><span class="s1">ScopeComputation</span><span class="s0">.</span><span class="s1">computeExports</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">symbolIndex</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">symbolByTypeIndex</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s1">async updateReferences</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">serviceRegistry</span><span class="s0">.</span><span class="s1">getServices</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">await </span><span class="s1">n</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">ReferenceDescriptionProvider</span><span class="s0">.</span><span class="s1">createDescriptions</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">referenceIndex</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">(),</span><span class="s1">r</span><span class="s0">)}</span><span class="s1">isAffected</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">referenceIndex</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">());</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">some</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">local</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">targetUri</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">())))}}</span><span class="s4">class </span><span class="s1">fi</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">initialBuildOptions</span><span class="s0">={};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ready</span><span class="s0">=</span><span class="s4">new </span><span class="s1">gr</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">serviceRegistry</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ServiceRegistry</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocuments</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">LangiumDocuments</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">documentBuilder</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">DocumentBuilder</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fileSystemProvider</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">FileSystemProvider</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">mutex</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">WorkspaceLock</span><span class="s0">}</span><span class="s1">get ready</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_ready</span><span class="s0">.</span><span class="s1">promise</span><span class="s0">}</span><span class="s1">get workspaceFolders</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">folders</span><span class="s0">}</span><span class="s1">initialize</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">folders</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">workspaceFolders</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">initialized</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">mutex</span><span class="s0">.</span><span class="s1">write</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">initializeWorkspace</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">folders</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:[],</span><span class="s1">e</span><span class="s0">)}))}</span><span class="s1">async initializeWorkspace</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">performStartup</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">await </span><span class="s1">mr</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">documentBuilder</span><span class="s0">.</span><span class="s1">build</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">initialBuildOptions</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">async performStartup</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">serviceRegistry</span><span class="s0">.</span><span class="s1">all</span><span class="s0">.</span><span class="s1">flatMap</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LanguageMetaData</span><span class="s0">.</span><span class="s1">fileExtensions</span><span class="s0">));</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocuments</span><span class="s0">.</span><span class="s1">hasDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">langiumDocuments</span><span class="s0">.</span><span class="s1">addDocument</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}};</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">loadAdditionalDocuments</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">await </span><span class="s1">Promise</span><span class="s0">.</span><span class="s1">all</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;[</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getRootFolder</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)])).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">async e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">traverseFolder</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">))));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ready</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">();</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">loadAdditionalDocuments</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Promise</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">()}</span><span class="s1">getRootFolder</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">xr</span><span class="s0">.</span><span class="s1">r</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">)}</span><span class="s1">async traverseFolder</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">fileSystemProvider</span><span class="s0">.</span><span class="s1">readDirectory</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">await </span><span class="s1">Promise</span><span class="s0">.</span><span class="s1">all</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">async t</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">includeEntry</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">isDirectory</span><span class="s0">){</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">traverseFolder</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">isFile</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">langiumDocuments</span><span class="s0">.</span><span class="s1">getOrCreateDocument</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">);</span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}})))}</span><span class="s1">includeEntry</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">br</span><span class="s0">.</span><span class="s1">basename</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">startsWith</span><span class="s0">(</span><span class="s2">&quot;.&quot;</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">isDirectory</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">!==</span><span class="s2">&quot;node_modules&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s2">&quot;out&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">isFile</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">br</span><span class="s0">.</span><span class="s1">extname</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">uri</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">hi</span><span class="s0">{</span><span class="s1">buildUnexpectedCharactersMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">return </span><span class="s1">c</span><span class="s0">.</span><span class="s1">PW</span><span class="s0">.</span><span class="s1">buildUnexpectedCharactersMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s1">buildUnableToPopLexerModeMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">c</span><span class="s0">.</span><span class="s1">PW</span><span class="s0">.</span><span class="s1">buildUnableToPopLexerModeMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">pi</span><span class="s0">={</span><span class="s1">mode</span><span class="s0">:</span><span class="s2">&quot;full&quot;</span><span class="s0">};</span><span class="s4">class </span><span class="s1">mi</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorMessageProvider</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">LexerErrorMessageProvider</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenBuilder</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">TokenBuilder</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenBuilder</span><span class="s0">.</span><span class="s1">buildTokens</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Grammar</span><span class="s0">,{</span><span class="s1">caseInsensitive</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LanguageMetaData</span><span class="s0">.</span><span class="s1">caseInsensitive</span><span class="s0">});</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenTypes</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">toTokenTypeDictionary</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">vi</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">values</span><span class="s0">(</span><span class="s1">t</span><span class="s0">):</span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">LanguageMetaData</span><span class="s0">.</span><span class="s1">mode</span><span class="s0">===</span><span class="s2">&quot;production&quot;</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">chevrotainLexer</span><span class="s0">=</span><span class="s4">new </span><span class="s1">c</span><span class="s0">.</span><span class="s1">JG</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">positionTracking</span><span class="s0">:</span><span class="s2">&quot;full&quot;</span><span class="s0">,</span><span class="s1">skipValidations</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">errorMessageProvider</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorMessageProvider</span><span class="s0">})}</span><span class="s1">get definition</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">tokenTypes</span><span class="s0">}</span><span class="s1">tokenize</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">pi</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">chevrotainLexer</span><span class="s0">.</span><span class="s1">tokenize</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">tokens</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">tokens</span><span class="s0">,</span><span class="s1">errors</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">errors</span><span class="s0">,</span><span class="s1">hidden</span><span class="s0">:(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">groups</span><span class="s0">.</span><span class="s1">hidden</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:[],</span><span class="s1">report</span><span class="s0">:(</span><span class="s1">i</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenBuilder</span><span class="s0">).</span><span class="s1">flushLexingReport</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}}</span><span class="s1">toTokenTypeDictionary</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))</span><span class="s4">return </span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">yi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">values</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">modes</span><span class="s0">).</span><span class="s1">flat</span><span class="s0">():</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={};</span><span class="s1">t</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">));</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">gi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">||</span><span class="s2">&quot;name&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">[</span><span class="s3">0</span><span class="s0">])}</span><span class="s4">function </span><span class="s1">yi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;modes&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;defaultMode&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">vi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!</span><span class="s1">gi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;!</span><span class="s1">yi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Ai</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Ri</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Di</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">xi</span><span class="s0">({</span><span class="s1">lines</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">position</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">options</span><span class="s0">:</span><span class="s1">a</span><span class="s0">});</span><span class="s4">return </span><span class="s1">Ni</span><span class="s0">({</span><span class="s1">index</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">tokens</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">position</span><span class="s0">:</span><span class="s1">i</span><span class="s0">})}</span><span class="s4">function </span><span class="s1">Ti</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Di</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Ri</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">];</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">start</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">end</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Boolean</span><span class="s0">(</span><span class="s1">a</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">a</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">i</span><span class="s0">))&amp;&amp;</span><span class="s1">Boolean</span><span class="s0">(</span><span class="s1">o</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">o</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">s</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">Ri</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">text</span><span class="s0">}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">split</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">TH</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Ei</span><span class="s0">=</span><span class="s5">/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy</span><span class="s0">;</span><span class="s4">const </span><span class="s1">ki</span><span class="s0">=</span><span class="s5">/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu</span><span class="s0">;</span><span class="s4">function </span><span class="s1">xi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">position</span><span class="s0">.</span><span class="s1">line</span><span class="s0">;</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">position</span><span class="s0">.</span><span class="s1">character</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">o</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">o</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lines</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">o</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">o</span><span class="s0">===</span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">o</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lines</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">let </span><span class="s1">l</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lines</span><span class="s0">[</span><span class="s1">o</span><span class="s0">];</span><span class="s4">let </span><span class="s1">d</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">start</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">start</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">l</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s1">d</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">index</span><span class="s0">+</span><span class="s1">n</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">length</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">line</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">l</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">d</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">index</span><span class="s0">+</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">length</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">end</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">l</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">l</span><span class="s0">=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">index</span><span class="s0">)}}</span><span class="s1">l</span><span class="s0">=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ci</span><span class="s0">(</span><span class="s1">l</span><span class="s0">));</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">Si</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,</span><span class="s1">d</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">&gt;=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">a</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;break&quot;</span><span class="s0">,</span><span class="s1">content</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">He</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)})}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Ei</span><span class="s0">.</span><span class="s1">lastIndex</span><span class="s0">=</span><span class="s1">d</span><span class="s0">;</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Ei</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">l</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s3">1</span><span class="s0">];</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">a</span><span class="s0">+</span><span class="s1">d</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">a</span><span class="s0">+</span><span class="s1">d</span><span class="s0">+</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;tag&quot;</span><span class="s0">,</span><span class="s1">content</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">He</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)});</span><span class="s1">d</span><span class="s0">+=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">d</span><span class="s0">=</span><span class="s1">Si</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,</span><span class="s1">d</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">d</span><span class="s0">&lt;</span><span class="s1">l</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">d</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">from</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">matchAll</span><span class="s0">(</span><span class="s1">ki</span><span class="s0">));</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...$i</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">a</span><span class="s0">+</span><span class="s1">d</span><span class="s0">))}}</span><span class="s1">s</span><span class="s0">++;</span><span class="s1">a</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">[</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">].</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;break&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,-</span><span class="s3">1</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">$i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">+</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;text&quot;</span><span class="s0">,</span><span class="s1">content</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">He</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)})}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">index</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;text&quot;</span><span class="s0">,</span><span class="s1">content</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">e</span><span class="s0">),</span><span class="s1">range</span><span class="s0">:</span><span class="s1">He</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">+</span><span class="s1">r</span><span class="s0">),</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">+</span><span class="s1">r</span><span class="s0">))})}</span><span class="s4">let </span><span class="s1">c</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">length</span><span class="s0">+</span><span class="s3">1</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">o</span><span class="s0">[</span><span class="s3">1</span><span class="s0">];</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;inline-tag&quot;</span><span class="s0">,</span><span class="s1">content</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">He</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">+</span><span class="s1">c</span><span class="s0">+</span><span class="s1">r</span><span class="s0">),</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">+</span><span class="s1">c</span><span class="s0">+</span><span class="s1">u</span><span class="s0">.</span><span class="s1">length</span><span class="s0">+</span><span class="s1">r</span><span class="s0">))});</span><span class="s1">c</span><span class="s0">+=</span><span class="s1">u</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">4</span><span class="s0">){</span><span class="s1">c</span><span class="s0">+=</span><span class="s1">o</span><span class="s0">[</span><span class="s3">2</span><span class="s0">].</span><span class="s1">length</span><span class="s0">;</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">o</span><span class="s0">[</span><span class="s3">3</span><span class="s0">];</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;text&quot;</span><span class="s0">,</span><span class="s1">content</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">He</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">+</span><span class="s1">c</span><span class="s0">+</span><span class="s1">r</span><span class="s0">),</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">+</span><span class="s1">c</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">+</span><span class="s1">r</span><span class="s0">))})}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;text&quot;</span><span class="s0">,</span><span class="s1">content</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">He</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">+</span><span class="s1">c</span><span class="s0">+</span><span class="s1">r</span><span class="s0">),</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">+</span><span class="s1">c</span><span class="s0">+</span><span class="s1">r</span><span class="s0">))})}</span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">+</span><span class="s1">o</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">length</span><span class="s0">}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;text&quot;</span><span class="s0">,</span><span class="s1">content</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">He</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">+</span><span class="s1">r</span><span class="s0">),</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">+</span><span class="s1">r</span><span class="s0">+</span><span class="s1">a</span><span class="s0">.</span><span class="s1">length</span><span class="s0">))})}}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">const </span><span class="s1">wi</span><span class="s0">=</span><span class="s5">/\S/</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Ii</span><span class="s0">=</span><span class="s5">/\s*$/</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Si</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">t</span><span class="s0">).</span><span class="s1">match</span><span class="s0">(</span><span class="s1">wi</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">+</span><span class="s1">n</span><span class="s0">.</span><span class="s1">index</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Ci</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">match</span><span class="s0">(</span><span class="s1">Ii</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">.</span><span class="s1">index</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">index</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ni</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">We</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">position</span><span class="s0">.</span><span class="s1">line</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">position</span><span class="s0">.</span><span class="s1">character</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokens</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">Fi</span><span class="s0">([],</span><span class="s1">He</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">s</span><span class="s0">))}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=[];</span><span class="s4">while</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">index</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokens</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Li</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">a</span><span class="s0">[</span><span class="s1">a</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=(</span><span class="s1">n</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">a</span><span class="s0">[</span><span class="s3">0</span><span class="s0">])===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">s</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=(</span><span class="s1">i</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">a</span><span class="s0">[</span><span class="s1">a</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">])===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">end</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">s</span><span class="s0">;</span><span class="s4">return new </span><span class="s1">Fi</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">He</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">c</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">Li</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokens</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">index</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;tag&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Pi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">false</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;text&quot;</span><span class="s0">||</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;inline-tag&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">_i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">bi</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">index</span><span class="s0">++;</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">bi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Vi</span><span class="s0">(</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s2">&quot;inlines&quot;</span><span class="s4">in </span><span class="s1">t</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">inlines</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">inlines</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}}</span><span class="s4">function </span><span class="s1">_i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokens</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">index</span><span class="s0">];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">while</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">!==</span><span class="s2">&quot;break&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">!==</span><span class="s2">&quot;tag&quot;</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Oi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">));</span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokens</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">index</span><span class="s0">]}</span><span class="s4">return new </span><span class="s1">ji</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">He</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">end</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">Oi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokens</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">index</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;inline-tag&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Pi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">true</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">Mi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Pi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokens</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">index</span><span class="s0">++];</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokens</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">index</span><span class="s0">];</span><span class="s4">if</span><span class="s0">((</span><span class="s1">i</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)===</span><span class="s2">&quot;text&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Mi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return new </span><span class="s1">Gi</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s4">new </span><span class="s1">ji</span><span class="s0">([</span><span class="s1">i</span><span class="s0">],</span><span class="s1">i</span><span class="s0">.</span><span class="s1">range</span><span class="s0">),</span><span class="s1">t</span><span class="s0">,</span><span class="s1">He</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">end</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">_i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return new </span><span class="s1">Gi</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">He</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">end</span><span class="s0">))}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">range</span><span class="s0">;</span><span class="s4">return new </span><span class="s1">Gi</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s4">new </span><span class="s1">ji</span><span class="s0">([],</span><span class="s1">e</span><span class="s0">),</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Mi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokens</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">index</span><span class="s0">++];</span><span class="s4">return new </span><span class="s1">Vi</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">content</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Di</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Di</span><span class="s0">({</span><span class="s1">start</span><span class="s0">:</span><span class="s2">&quot;/**&quot;</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s2">&quot;*/&quot;</span><span class="s0">,</span><span class="s1">line</span><span class="s0">:</span><span class="s2">&quot;*&quot;</span><span class="s0">})}</span><span class="s4">const</span><span class="s0">{</span><span class="s1">start</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">line</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">start</span><span class="s0">:</span><span class="s1">Ui</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s4">true</span><span class="s0">),</span><span class="s1">end</span><span class="s0">:</span><span class="s1">Ui</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s4">false</span><span class="s0">),</span><span class="s1">line</span><span class="s0">:</span><span class="s1">Ui</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s4">true</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Ui</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">||</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">?(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">Nt</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">):</span><span class="s1">e</span><span class="s0">.</span><span class="s1">source</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s2">`^</span><span class="s4">\\</span><span class="s2">s*</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s2">`</span><span class="s4">\\</span><span class="s2">s*</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s4">\\</span><span class="s2">s*$`</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Fi</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">range</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">getTag</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">getAllTags</span><span class="s0">().</span><span class="s1">find</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=&gt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">e</span><span class="s0">))}</span><span class="s1">getTags</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">getAllTags</span><span class="s0">().</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=&gt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">e</span><span class="s0">))}</span><span class="s1">getAllTags</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s2">&quot;name&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">))}</span><span class="s1">toString</span><span class="s0">(){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">();</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">Wi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)+</span><span class="s1">n</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">trim</span><span class="s0">()}</span><span class="s1">toMarkdown</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">toMarkdown</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">toMarkdown</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">t</span><span class="s0">+=</span><span class="s1">Wi</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)+</span><span class="s1">r</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">trim</span><span class="s0">()}}</span><span class="s4">class </span><span class="s1">Gi</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">content</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">inline</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">range</span><span class="s0">=</span><span class="s1">r</span><span class="s0">}</span><span class="s1">toString</span><span class="s0">(){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s2">`@</span><span class="s1">$</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">inlines</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">inlines</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s4">\n</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">inline</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`{</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">}`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s1">toMarkdown</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s1">n</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">renderTag</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">toMarkdownDefault</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">toMarkdownDefault</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">toMarkdown</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">inline</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Bi</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:{});</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tag</span><span class="s0">)===</span><span class="s2">&quot;italic&quot;</span><span class="s0">||(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tag</span><span class="s0">)===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;*&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">((</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tag</span><span class="s0">)===</span><span class="s2">&quot;bold&quot;</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;**&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">((</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tag</span><span class="s0">)===</span><span class="s2">&quot;bold-italic&quot;</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;***&quot;</span><span class="s0">}</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">@</span><span class="s1">$</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">inlines</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">} </span><span class="s2">— </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">inlines</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s4">\n</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">inline</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`{</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">}`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}}}</span><span class="s4">function </span><span class="s1">Bi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;linkplain&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;linkcode&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;link&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s2">&quot; &quot;</span><span class="s0">);</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Si</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">s</span><span class="s0">);</span><span class="s1">a</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;linkcode&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;link&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">link</span><span class="s0">===</span><span class="s2">&quot;code&quot;</span><span class="s0">){</span><span class="s1">a</span><span class="s0">=</span><span class="s2">`</span><span class="s4">\`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">}</span><span class="s4">\`</span><span class="s2">`</span><span class="s0">}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=(</span><span class="s1">i</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">renderLink</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">a</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">Ki</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">a</span><span class="s0">);</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ki</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s1">xr</span><span class="s0">.</span><span class="s1">r</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">true</span><span class="s0">);</span><span class="s4">return</span><span class="s2">`[</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">](</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">ji</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">inlines</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">range</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">toString</span><span class="s0">(){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">t</span><span class="s0">&lt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">inlines</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">t</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">inlines</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">inlines</span><span class="s0">[</span><span class="s1">t</span><span class="s0">+</span><span class="s3">1</span><span class="s0">];</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">&gt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">){</span><span class="s1">e</span><span class="s0">+=</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">toMarkdown</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">inlines</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">n</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">inlines</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">inlines</span><span class="s0">[</span><span class="s1">n</span><span class="s0">+</span><span class="s3">1</span><span class="s0">];</span><span class="s1">t</span><span class="s0">+=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">toMarkdown</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">&gt;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">){</span><span class="s1">t</span><span class="s0">+=</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Vi</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">text</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">range</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">toString</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">text</span><span class="s0">}</span><span class="s1">toMarkdown</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">text</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Wi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endsWith</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s2">&quot;</span><span class="s4">\n\n</span><span class="s2">&quot;</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Hi</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">indexManager</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">shared</span><span class="s0">.</span><span class="s1">workspace</span><span class="s0">.</span><span class="s1">IndexManager</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">commentProvider</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">documentation</span><span class="s0">.</span><span class="s1">CommentProvider</span><span class="s0">}</span><span class="s1">getDocumentation</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">commentProvider</span><span class="s0">.</span><span class="s1">getComment</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">Ti</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Ai</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">toMarkdown</span><span class="s0">({</span><span class="s1">renderLink</span><span class="s0">:(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">documentationLinkRenderer</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">),</span><span class="s1">renderTag</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">documentationTagRenderer</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)})}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">documentationLinkRenderer</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">findNameInPrecomputedScopes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">findNameInGlobalScope</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">nameSegment</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">nameSegment</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">+</span><span class="s3">1</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">nameSegment</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">character</span><span class="s0">+</span><span class="s3">1</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">documentUri</span><span class="s0">.</span><span class="s1">with</span><span class="s0">({</span><span class="s1">fragment</span><span class="s0">:</span><span class="s2">`L</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">,</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">});</span><span class="s4">return</span><span class="s2">`[</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">](</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s1">documentationTagRenderer</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">findNameInPrecomputedScopes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">YE</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">precomputedScopes</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">do</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">find</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">t</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">i</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">findNameInGlobalScope</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">indexManager</span><span class="s0">.</span><span class="s1">allElements</span><span class="s0">().</span><span class="s1">find</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">t</span><span class="s0">));</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">zi</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">grammarConfig</span><span class="s0">=()=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">GrammarConfig</span><span class="s0">}</span><span class="s1">getComment</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Hr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">$comment</span><span class="s0">}</span><span class="s4">return</span><span class="s0">(</span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">v</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">grammarConfig</span><span class="s0">().</span><span class="s1">multilineCommentRules</span><span class="s0">))===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">text</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Yi</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">syncParser</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">LangiumParser</span><span class="s0">}</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Promise</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">syncParser</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}}</span><span class="s4">class </span><span class="s1">qi</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">threadCount</span><span class="s0">=</span><span class="s3">8</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">terminationDelay</span><span class="s0">=</span><span class="s3">200</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">workerPool</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">queue</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hydrator</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">serializer</span><span class="s0">.</span><span class="s1">Hydrator</span><span class="s0">}</span><span class="s1">initializeWorkers</span><span class="s0">(){</span><span class="s4">while</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">workerPool</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&lt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">threadCount</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">createWorker</span><span class="s0">();</span><span class="s1">e</span><span class="s0">.</span><span class="s1">onReady</span><span class="s0">((()=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">queue</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">queue</span><span class="s0">.</span><span class="s1">shift</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lock</span><span class="s0">();</span><span class="s1">t</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}}));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">workerPool</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s1">async parse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">acquireParserWorker</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Deferred</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">onCancellationRequested</span><span class="s0">((()=&gt;{</span><span class="s1">i</span><span class="s0">=</span><span class="s1">setTimeout</span><span class="s0">((()=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">terminateWorker</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">terminationDelay</span><span class="s0">)}));</span><span class="s1">n</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">then</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hydrator</span><span class="s0">.</span><span class="s1">hydrate</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)})).</span><span class="s1">catch</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s1">r</span><span class="s0">.</span><span class="s1">reject</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)})).</span><span class="s1">finally</span><span class="s0">((()=&gt;{</span><span class="s1">s</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">();</span><span class="s1">clearTimeout</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}));</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">promise</span><span class="s0">}</span><span class="s1">terminateWorker</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">terminate</span><span class="s0">();</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">workerPool</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">workerPool</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s3">1</span><span class="s0">)}}</span><span class="s1">async acquireParserWorker</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">initializeWorkers</span><span class="s0">();</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">workerPool</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">ready</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">lock</span><span class="s0">();</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Deferred</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">onCancellationRequested</span><span class="s0">((()=&gt;{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">queue</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">queue</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">1</span><span class="s0">)}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">reject</span><span class="s0">(</span><span class="s1">OperationCancelled</span><span class="s0">)}));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">queue</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">promise</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Xi</span><span class="s0">{</span><span class="s1">get ready</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_ready</span><span class="s0">}</span><span class="s1">get onReady</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">onReadyEmitter</span><span class="s0">.</span><span class="s1">event</span><span class="s0">}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">onReadyEmitter</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Emitter</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">deferred</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Deferred</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ready</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parsing</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">sendMessage</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_terminate</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">t</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">deferred</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">unlock</span><span class="s0">()}));</span><span class="s1">n</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">deferred</span><span class="s0">.</span><span class="s1">reject</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">unlock</span><span class="s0">()}))}</span><span class="s1">terminate</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">deferred</span><span class="s0">.</span><span class="s1">reject</span><span class="s0">(</span><span class="s1">OperationCancelled</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_terminate</span><span class="s0">()}</span><span class="s1">lock</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ready</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s1">unlock</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parsing</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ready</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">onReadyEmitter</span><span class="s0">.</span><span class="s1">fire</span><span class="s0">()}</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parsing</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Parser worker is busy&quot;</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parsing</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">deferred</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Deferred</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">sendMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">deferred</span><span class="s0">.</span><span class="s1">promise</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Qi</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">previousTokenSource</span><span class="s0">=</span><span class="s4">new </span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationTokenSource</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">writeQueue</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">readQueue</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">done</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s1">write</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">cancelWrite</span><span class="s0">();</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">dr</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">previousTokenSource</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">enqueue</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">writeQueue</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">token</span><span class="s0">)}</span><span class="s1">read</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">enqueue</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">readQueue</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">enqueue</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s1">ar</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">new </span><span class="s1">gr</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={</span><span class="s1">action</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">deferred</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">cancellationToken</span><span class="s0">:</span><span class="s1">n</span><span class="s0">};</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">performNextOperation</span><span class="s0">();</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">promise</span><span class="s0">}</span><span class="s1">async performNextOperation</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[];</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">writeQueue</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">writeQueue</span><span class="s0">.</span><span class="s1">shift</span><span class="s0">())}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">readQueue</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...</span><span class="s4">this</span><span class="s0">.</span><span class="s1">readQueue</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">readQueue</span><span class="s0">.</span><span class="s1">length</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">done</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">await </span><span class="s1">Promise</span><span class="s0">.</span><span class="s1">all</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">async</span><span class="s0">({</span><span class="s1">action</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">deferred</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">cancellationToken</span><span class="s0">:</span><span class="s1">n</span><span class="s0">})=&gt;{</span><span class="s4">try</span><span class="s0">{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">await </span><span class="s1">Promise</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">().</span><span class="s1">then</span><span class="s0">((()=&gt;</span><span class="s1">e</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)));</span><span class="s1">t</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">pr</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">(</span><span class="s1">undefined</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">reject</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}}})));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">done</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">performNextOperation</span><span class="s0">()}</span><span class="s1">cancelWrite</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">previousTokenSource</span><span class="s0">.</span><span class="s1">cancel</span><span class="s0">()}}</span><span class="s4">class </span><span class="s1">Zi</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">grammarElementIdMap</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Pr</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">tokenTypeIdMap</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Pr</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">grammar</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Grammar</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lexer</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parser</span><span class="s0">.</span><span class="s1">Lexer</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">linker</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">references</span><span class="s0">.</span><span class="s1">Linker</span><span class="s0">}</span><span class="s1">dehydrate</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">lexerErrors</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lexerErrors</span><span class="s0">,</span><span class="s1">lexerReport</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lexerReport</span><span class="s0">?</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dehydrateLexerReport</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lexerReport</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">parserErrors</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parserErrors</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">message</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">message</span><span class="s0">}))),</span><span class="s1">value</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dehydrateAstNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">createDehyrationContext</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">))}}</span><span class="s1">dehydrateLexerReport</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">createDehyrationContext</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">jm</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,{})}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">NS</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{})}}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">astNodes</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">cstNodes</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}</span><span class="s1">dehydrateAstNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">astNodes</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$containerIndex</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$containerIndex</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$containerProperty</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$containerProperty</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dehydrateCstNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const</span><span class="s0">[</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">]</span><span class="s1">of Object</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">startsWith</span><span class="s0">(</span><span class="s2">&quot;$&quot;</span><span class="s0">)){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[];</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">ng</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dehydrateAstNode</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">))}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">A_</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dehydrateReference</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">ng</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dehydrateAstNode</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">A_</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dehydrateReference</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">i</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">dehydrateReference</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={};</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$refText</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$refText</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$refNode</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$refNode</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">cstNodes</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$refNode</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">dehydrateCstNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">cstNodes</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">br</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">fullText</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fullText</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">grammarSource</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getGrammarElementId</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">grammarSource</span><span class="s0">)}</span><span class="s1">n</span><span class="s0">.</span><span class="s1">hidden</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">hidden</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">astNode</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">astNodes</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">astNode</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">mD</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">content</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dehydrateCstNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)))}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">FC</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">tokenType</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenType</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">offset</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">offset</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">startLine</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">startColumn</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">character</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">endLine</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">end</span><span class="s0">.</span><span class="s1">line</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">endColumn</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">end</span><span class="s0">.</span><span class="s1">character</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">hydrate</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">createHydrationContext</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s2">&quot;$cstNode&quot;</span><span class="s4">in </span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hydrateCstNode</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">lexerErrors</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lexerErrors</span><span class="s0">,</span><span class="s1">lexerReport</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lexerReport</span><span class="s0">,</span><span class="s1">parserErrors</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parserErrors</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hydrateAstNode</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s1">createHydrationContext</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">jm</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,{})}</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">NS</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">)){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s2">&quot;fullText&quot;</span><span class="s4">in </span><span class="s1">t</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">xn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">fullText</span><span class="s0">);</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s2">&quot;content&quot;</span><span class="s4">in </span><span class="s1">t</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">En</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s2">&quot;tokenType&quot;</span><span class="s4">in </span><span class="s1">t</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hydrateCstLeafNode</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">root</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}}}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">astNodes</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">cstNodes</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}</span><span class="s1">hydrateAstNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">astNodes</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$containerIndex</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$containerIndex</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$containerProperty</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$containerProperty</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">cstNodes</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">)}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const</span><span class="s0">[</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">]</span><span class="s1">of Object</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">startsWith</span><span class="s0">(</span><span class="s2">&quot;$&quot;</span><span class="s0">)){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[];</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">ng</span><span class="s0">)(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setParent</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hydrateAstNode</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">t</span><span class="s0">),</span><span class="s1">n</span><span class="s0">))}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">A_</span><span class="s0">)(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hydrateReference</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}}}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">ng</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setParent</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hydrateAstNode</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">),</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">A_</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hydrateReference</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">i</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">setParent</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">hydrateReference</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">linker</span><span class="s0">.</span><span class="s1">buildReference</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cstNodes</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$refNode</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$refText</span><span class="s0">)}</span><span class="s1">hydrateCstNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">cstNodes</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">grammarSource</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">grammarSource</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getGrammarElement</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">grammarSource</span><span class="s0">)}</span><span class="s1">r</span><span class="s0">.</span><span class="s1">astNode</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">astNodes</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">astNode</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">or</span><span class="s0">.</span><span class="s1">mD</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of e</span><span class="s0">.</span><span class="s1">content</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hydrateCstNode</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">++);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">hydrateCstLeafNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getTokenType</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenType</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">offset</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startLine</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startColumn</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endLine</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endColumn</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">hidden</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,{</span><span class="s1">start</span><span class="s0">:{</span><span class="s1">line</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">character</span><span class="s0">:</span><span class="s1">s</span><span class="s0">},</span><span class="s1">end</span><span class="s0">:{</span><span class="s1">line</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">character</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}},</span><span class="s1">t</span><span class="s0">,</span><span class="s1">c</span><span class="s0">);</span><span class="s4">return </span><span class="s1">u</span><span class="s0">}</span><span class="s1">getTokenType</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">lexer</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s1">getGrammarElementId</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">grammarElementIdMap</span><span class="s0">.</span><span class="s1">size</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">createGrammarElementIdMap</span><span class="s0">()}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">grammarElementIdMap</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">getGrammarElement</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">grammarElementIdMap</span><span class="s0">.</span><span class="s1">size</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">createGrammarElementIdMap</span><span class="s0">()}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">grammarElementIdMap</span><span class="s0">.</span><span class="s1">getKey</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">createGrammarElementIdMap</span><span class="s0">(){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Ge</span><span class="s0">.</span><span class="s1">jm</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">grammar</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">r1</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">grammarElementIdMap</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">++)}}}}</span><span class="s4">function </span><span class="s1">Ji</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">documentation</span><span class="s0">:{</span><span class="s1">CommentProvider</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">zi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">DocumentationProvider</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">Hi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)},</span><span class="s1">parser</span><span class="s0">:{</span><span class="s1">AsyncParser</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">Yi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">GrammarConfig</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">LangiumParser</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">nr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">CompletionParser</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">tr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">ValueConverter</span><span class="s0">:()=&gt;</span><span class="s4">new </span><span class="s1">sr</span><span class="s0">.</span><span class="s1">d</span><span class="s0">,</span><span class="s1">TokenBuilder</span><span class="s0">:()=&gt;</span><span class="s4">new </span><span class="s1">ir</span><span class="s0">.</span><span class="s1">Q</span><span class="s0">,</span><span class="s1">Lexer</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">mi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">ParserErrorMessageProvider</span><span class="s0">:()=&gt;</span><span class="s4">new </span><span class="s1">bn</span><span class="s0">,</span><span class="s1">LexerErrorMessageProvider</span><span class="s0">:()=&gt;</span><span class="s4">new </span><span class="s1">hi</span><span class="s0">},</span><span class="s1">workspace</span><span class="s0">:{</span><span class="s1">AstNodeLocator</span><span class="s0">:()=&gt;</span><span class="s4">new </span><span class="s1">ai</span><span class="s0">,</span><span class="s1">AstNodeDescriptionProvider</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">ii</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">ReferenceDescriptionProvider</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">si</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)},</span><span class="s1">references</span><span class="s0">:{</span><span class="s1">Linker</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">Cr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">NameProvider</span><span class="s0">:()=&gt;</span><span class="s4">new </span><span class="s1">Lr</span><span class="s0">,</span><span class="s1">ScopeProvider</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">Wr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">ScopeComputation</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">Mr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">References</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">_r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)},</span><span class="s1">serializer</span><span class="s0">:{</span><span class="s1">Hydrator</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">Zi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">JsonSerializer</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">Yr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)},</span><span class="s1">validation</span><span class="s0">:{</span><span class="s1">DocumentValidator</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">Jr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">ValidationRegistry</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">Zr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)},</span><span class="s1">shared</span><span class="s0">:()=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">shared</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">es</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">ServiceRegistry</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">qr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">workspace</span><span class="s0">:{</span><span class="s1">LangiumDocuments</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">Ir</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">LangiumDocumentFactory</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">wr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">DocumentBuilder</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">li</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">IndexManager</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">di</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">WorkspaceManager</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">fi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">FileSystemProvider</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fileSystemProvider</span><span class="s0">(</span><span class="s1">t</span><span class="s0">),</span><span class="s1">WorkspaceLock</span><span class="s0">:()=&gt;</span><span class="s4">new </span><span class="s1">Qi</span><span class="s0">,</span><span class="s1">ConfigurationProvider</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">ci</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}}},</span><span class="s3">41281</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">WQ</span><span class="s0">:()=&gt;</span><span class="s1">i</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">merge</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;</span><span class="s1">l</span><span class="s0">(</span><span class="s1">l</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),</span><span class="s1">t</span><span class="s0">)})(</span><span class="s1">r</span><span class="s0">||(</span><span class="s1">r</span><span class="s0">={}));</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">c</span><span class="s0">,</span><span class="s1">u</span><span class="s0">){</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=[</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">c</span><span class="s0">,</span><span class="s1">u</span><span class="s0">].</span><span class="s1">reduce</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,{});</span><span class="s4">return </span><span class="s1">o</span><span class="s0">(</span><span class="s1">d</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Symbol</span><span class="s0">(</span><span class="s2">&quot;isProxy&quot;</span><span class="s0">);</span><span class="s4">function </span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of Object</span><span class="s0">.</span><span class="s1">values</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">a</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Proxy</span><span class="s0">({},{</span><span class="s1">deleteProperty</span><span class="s0">:()=&gt;</span><span class="s4">false</span><span class="s0">,</span><span class="s1">set</span><span class="s0">:()=&gt;{</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Cannot set property on injected service container&quot;</span><span class="s0">)},</span><span class="s1">get</span><span class="s0">:(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s1">s</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">u</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">||</span><span class="s1">n</span><span class="s0">)}},</span><span class="s1">getOwnPropertyDescriptor</span><span class="s0">:(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)=&gt;(</span><span class="s1">u</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">||</span><span class="s1">n</span><span class="s0">),</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertyDescriptor</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)),</span><span class="s1">has</span><span class="s0">:(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">n </span><span class="s4">in </span><span class="s1">e</span><span class="s0">,</span><span class="s1">ownKeys</span><span class="s0">:()=&gt;[</span><span class="s1">...Object</span><span class="s0">.</span><span class="s1">getOwnPropertyNames</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)]});</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">Symbol</span><span class="s0">();</span><span class="s4">function </span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">in </span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]</span><span class="s4">instanceof </span><span class="s1">Error</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Construction failure. Please make sure that your dependencies are constructable.&quot;</span><span class="s0">,{</span><span class="s1">cause</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]})}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]===</span><span class="s1">c</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">'Cycle detected. Please make &quot;'</span><span class="s0">+</span><span class="s1">String</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)+</span><span class="s2">'&quot; lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies'</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">in </span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">c</span><span class="s0">;</span><span class="s4">try</span><span class="s0">{</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s4">typeof </span><span class="s1">s</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">?</span><span class="s1">s</span><span class="s0">(</span><span class="s1">r</span><span class="s0">):</span><span class="s1">o</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">Error</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">throw </span><span class="s1">i</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">l</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const</span><span class="s0">[</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">]</span><span class="s1">of Object</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">r</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">l</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">r</span><span class="s0">}}}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}},</span><span class="s3">85684</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">$g</span><span class="s0">:()=&gt;</span><span class="s1">be</span><span class="s0">,</span><span class="s1">Bg</span><span class="s0">:()=&gt;</span><span class="s1">ve</span><span class="s0">,</span><span class="s1">Ct</span><span class="s0">:()=&gt;</span><span class="s1">G</span><span class="s0">,</span><span class="s1">Cz</span><span class="s0">:()=&gt;</span><span class="s1">x</span><span class="s0">,</span><span class="s1">D8</span><span class="s0">:()=&gt;</span><span class="s1">ee</span><span class="s0">,</span><span class="s1">FO</span><span class="s0">:()=&gt;</span><span class="s1">Ee</span><span class="s0">,</span><span class="s1">Fy</span><span class="s0">:()=&gt;</span><span class="s1">Oe</span><span class="s0">,</span><span class="s1">GL</span><span class="s0">:()=&gt;</span><span class="s1">Se</span><span class="s0">,</span><span class="s1">IZ</span><span class="s0">:()=&gt;</span><span class="s1">xe</span><span class="s0">,</span><span class="s1">Mz</span><span class="s0">:()=&gt;</span><span class="s1">Ke</span><span class="s0">,</span><span class="s1">O4</span><span class="s0">:()=&gt;</span><span class="s1">Me</span><span class="s0">,</span><span class="s1">QX</span><span class="s0">:()=&gt;</span><span class="s1">We</span><span class="s0">,</span><span class="s1">RP</span><span class="s0">:()=&gt;</span><span class="s1">S</span><span class="s0">,</span><span class="s1">S2</span><span class="s0">:()=&gt;</span><span class="s1">M</span><span class="s0">,</span><span class="s1">SP</span><span class="s0">:()=&gt;</span><span class="s1">O</span><span class="s0">,</span><span class="s1">TF</span><span class="s0">:()=&gt;</span><span class="s1">H</span><span class="s0">,</span><span class="s1">Tu</span><span class="s0">:()=&gt;</span><span class="s1">w</span><span class="s0">,</span><span class="s1">Xj</span><span class="s0">:()=&gt;</span><span class="s1">ae</span><span class="s0">,</span><span class="s1">_c</span><span class="s0">:()=&gt;</span><span class="s1">Te</span><span class="s0">,</span><span class="s1">cY</span><span class="s0">:()=&gt;</span><span class="s1">Ge</span><span class="s0">,</span><span class="s1">fG</span><span class="s0">:()=&gt;</span><span class="s1">Z</span><span class="s0">,</span><span class="s1">jp</span><span class="s0">:()=&gt;</span><span class="s1">pe</span><span class="s0">,</span><span class="s1">lF</span><span class="s0">:()=&gt;</span><span class="s1">Ue</span><span class="s0">,</span><span class="s1">r1</span><span class="s0">:()=&gt;</span><span class="s1">v</span><span class="s0">,</span><span class="s1">rE</span><span class="s0">:()=&gt;</span><span class="s1">ie</span><span class="s0">,</span><span class="s1">s7</span><span class="s0">:()=&gt;</span><span class="s1">Y</span><span class="s0">,</span><span class="s1">vd</span><span class="s0">:()=&gt;</span><span class="s1">Ne</span><span class="s0">,</span><span class="s1">ve</span><span class="s0">:()=&gt;</span><span class="s1">fe</span><span class="s0">,</span><span class="s1">wb</span><span class="s0">:()=&gt;</span><span class="s1">we</span><span class="s0">,</span><span class="s1">wh</span><span class="s0">:()=&gt;</span><span class="s1">ge</span><span class="s0">,</span><span class="s1">z2</span><span class="s0">:()=&gt;</span><span class="s1">Ve</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">64032</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={</span><span class="s1">ID</span><span class="s0">:</span><span class="s5">/\^?[_a-zA-Z][\w_]*/</span><span class="s0">,</span><span class="s1">STRING</span><span class="s0">:</span><span class="s5">/&quot;(\\.|[^&quot;\\])*&quot;|'(\\.|[^'\\])*'/</span><span class="s0">,</span><span class="s1">NUMBER</span><span class="s0">:</span><span class="s5">/NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/</span><span class="s0">,</span><span class="s1">RegexLiteral</span><span class="s0">:</span><span class="s5">/\/(?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/</span><span class="s0">,</span><span class="s1">WS</span><span class="s0">:</span><span class="s5">/\s+/</span><span class="s0">,</span><span class="s1">ML_COMMENT</span><span class="s0">:</span><span class="s5">/\/\*[\s\S]*?\*\//</span><span class="s0">,</span><span class="s1">SL_COMMENT</span><span class="s0">:</span><span class="s5">/\/\/[^\n\r]*/</span><span class="s0">};</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s2">&quot;AbstractRule&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s2">&quot;AbstractType&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">c</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s2">&quot;Condition&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">l</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">u</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;current&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;entry&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;extends&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;false&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;fragment&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;grammar&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;hidden&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;import&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;interface&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;returns&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;terminal&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;true&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;type&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;infer&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;infers&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;with&quot;</span><span class="s0">||</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">&amp;&amp;</span><span class="s5">/\^?[_a-zA-Z][\w_]*/</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;boolean&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;Date&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;bigint&quot;</span><span class="s0">}</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=</span><span class="s2">&quot;TypeDefinition&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">h</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">m</span><span class="s0">=</span><span class="s2">&quot;ValueLiteral&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">g</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">m</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">y</span><span class="s0">=</span><span class="s2">&quot;AbstractElement&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">v</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">y</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">A</span><span class="s0">=</span><span class="s2">&quot;ArrayLiteral&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">T</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">A</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">R</span><span class="s0">=</span><span class="s2">&quot;ArrayType&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">E</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">R</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">k</span><span class="s0">=</span><span class="s2">&quot;BooleanLiteral&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">x</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">k</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">$</span><span class="s0">=</span><span class="s2">&quot;Conjunction&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">w</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">$</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">I</span><span class="s0">=</span><span class="s2">&quot;Disjunction&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">S</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">I</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">C</span><span class="s0">=</span><span class="s2">&quot;Grammar&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">C</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">L</span><span class="s0">=</span><span class="s2">&quot;GrammarImport&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">b</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">L</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">_</span><span class="s0">=</span><span class="s2">&quot;InferredType&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">O</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">_</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">P</span><span class="s0">=</span><span class="s2">&quot;Interface&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">M</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">P</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">D</span><span class="s0">=</span><span class="s2">&quot;NamedArgument&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">U</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">D</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">F</span><span class="s0">=</span><span class="s2">&quot;Negation&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">G</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">F</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">B</span><span class="s0">=</span><span class="s2">&quot;NumberLiteral&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">K</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">B</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">j</span><span class="s0">=</span><span class="s2">&quot;Parameter&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">V</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">j</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">W</span><span class="s0">=</span><span class="s2">&quot;ParameterReference&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">H</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">W</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">z</span><span class="s0">=</span><span class="s2">&quot;ParserRule&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">z</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">q</span><span class="s0">=</span><span class="s2">&quot;ReferenceType&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">X</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">q</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">Q</span><span class="s0">=</span><span class="s2">&quot;ReturnType&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Z</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Q</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">J</span><span class="s0">=</span><span class="s2">&quot;SimpleType&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">ee</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">J</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">te</span><span class="s0">=</span><span class="s2">&quot;StringLiteral&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">ne</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">te</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">re</span><span class="s0">=</span><span class="s2">&quot;TerminalRule&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">ie</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">re</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">se</span><span class="s0">=</span><span class="s2">&quot;Type&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">ae</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">se</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">oe</span><span class="s0">=</span><span class="s2">&quot;TypeAttribute&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">ce</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">oe</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">ue</span><span class="s0">=</span><span class="s2">&quot;UnionType&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">le</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">ue</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">de</span><span class="s0">=</span><span class="s2">&quot;Action&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">fe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">de</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">he</span><span class="s0">=</span><span class="s2">&quot;Alternatives&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">pe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">he</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">me</span><span class="s0">=</span><span class="s2">&quot;Assignment&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">ge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">me</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">ye</span><span class="s0">=</span><span class="s2">&quot;CharacterRange&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">ve</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">ye</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">Ae</span><span class="s0">=</span><span class="s2">&quot;CrossReference&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Te</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Ae</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">Re</span><span class="s0">=</span><span class="s2">&quot;EndOfFile&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Ee</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Re</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">ke</span><span class="s0">=</span><span class="s2">&quot;Group&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">xe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">ke</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">$e</span><span class="s0">=</span><span class="s2">&quot;Keyword&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">we</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">$e</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">Ie</span><span class="s0">=</span><span class="s2">&quot;NegatedToken&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Se</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Ie</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">Ce</span><span class="s0">=</span><span class="s2">&quot;RegexToken&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Ne</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Ce</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">Le</span><span class="s0">=</span><span class="s2">&quot;RuleCall&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">be</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Le</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">_e</span><span class="s0">=</span><span class="s2">&quot;TerminalAlternatives&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Oe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">_e</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">Pe</span><span class="s0">=</span><span class="s2">&quot;TerminalGroup&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Me</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Pe</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">De</span><span class="s0">=</span><span class="s2">&quot;TerminalRuleCall&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Ue</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">De</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">Fe</span><span class="s0">=</span><span class="s2">&quot;UnorderedGroup&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Ge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Fe</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">Be</span><span class="s0">=</span><span class="s2">&quot;UntilToken&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Ke</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Be</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">je</span><span class="s0">=</span><span class="s2">&quot;Wildcard&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Ve</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">He</span><span class="s0">.</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">je</span><span class="s0">)}</span><span class="s4">class </span><span class="s1">We </span><span class="s4">extends </span><span class="s1">r</span><span class="s0">.</span><span class="s1">kD</span><span class="s0">{</span><span class="s1">getAllTypes</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">y</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">de</span><span class="s0">,</span><span class="s1">he</span><span class="s0">,</span><span class="s1">A</span><span class="s0">,</span><span class="s1">R</span><span class="s0">,</span><span class="s1">me</span><span class="s0">,</span><span class="s1">k</span><span class="s0">,</span><span class="s1">ye</span><span class="s0">,</span><span class="s1">u</span><span class="s0">,</span><span class="s1">$</span><span class="s0">,</span><span class="s1">Ae</span><span class="s0">,</span><span class="s1">I</span><span class="s0">,</span><span class="s1">Re</span><span class="s0">,</span><span class="s1">C</span><span class="s0">,</span><span class="s1">L</span><span class="s0">,</span><span class="s1">ke</span><span class="s0">,</span><span class="s1">_</span><span class="s0">,</span><span class="s1">P</span><span class="s0">,</span><span class="s1">$e</span><span class="s0">,</span><span class="s1">D</span><span class="s0">,</span><span class="s1">Ie</span><span class="s0">,</span><span class="s1">F</span><span class="s0">,</span><span class="s1">B</span><span class="s0">,</span><span class="s1">j</span><span class="s0">,</span><span class="s1">W</span><span class="s0">,</span><span class="s1">z</span><span class="s0">,</span><span class="s1">q</span><span class="s0">,</span><span class="s1">Ce</span><span class="s0">,</span><span class="s1">Q</span><span class="s0">,</span><span class="s1">Le</span><span class="s0">,</span><span class="s1">J</span><span class="s0">,</span><span class="s1">te</span><span class="s0">,</span><span class="s1">_e</span><span class="s0">,</span><span class="s1">Pe</span><span class="s0">,</span><span class="s1">re</span><span class="s0">,</span><span class="s1">De</span><span class="s0">,</span><span class="s1">se</span><span class="s0">,</span><span class="s1">oe</span><span class="s0">,</span><span class="s1">h</span><span class="s0">,</span><span class="s1">ue</span><span class="s0">,</span><span class="s1">Fe</span><span class="s0">,</span><span class="s1">Be</span><span class="s0">,</span><span class="s1">m</span><span class="s0">,</span><span class="s1">je</span><span class="s0">]}</span><span class="s1">computeIsSubtype</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">de</span><span class="s0">:</span><span class="s4">case </span><span class="s1">he</span><span class="s0">:</span><span class="s4">case </span><span class="s1">me</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ye</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ae</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Re</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ke</span><span class="s0">:</span><span class="s4">case </span><span class="s1">$e</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ie</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ce</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Le</span><span class="s0">:</span><span class="s4">case </span><span class="s1">_e</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Pe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">De</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Fe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Be</span><span class="s0">:</span><span class="s4">case </span><span class="s1">je</span><span class="s0">:{</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">isSubtype</span><span class="s0">(</span><span class="s1">y</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">case </span><span class="s1">A</span><span class="s0">:</span><span class="s4">case </span><span class="s1">B</span><span class="s0">:</span><span class="s4">case </span><span class="s1">te</span><span class="s0">:{</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">isSubtype</span><span class="s0">(</span><span class="s1">m</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">case </span><span class="s1">R</span><span class="s0">:</span><span class="s4">case </span><span class="s1">q</span><span class="s0">:</span><span class="s4">case </span><span class="s1">J</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ue</span><span class="s0">:{</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">isSubtype</span><span class="s0">(</span><span class="s1">h</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">case </span><span class="s1">k</span><span class="s0">:{</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">isSubtype</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)||</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isSubtype</span><span class="s0">(</span><span class="s1">m</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">case </span><span class="s1">$</span><span class="s0">:</span><span class="s4">case </span><span class="s1">I</span><span class="s0">:</span><span class="s4">case </span><span class="s1">F</span><span class="s0">:</span><span class="s4">case </span><span class="s1">W</span><span class="s0">:{</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">isSubtype</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">case </span><span class="s1">_</span><span class="s0">:</span><span class="s4">case </span><span class="s1">P</span><span class="s0">:</span><span class="s4">case </span><span class="s1">se</span><span class="s0">:{</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">isSubtype</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">case </span><span class="s1">z</span><span class="s0">:{</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">isSubtype</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)||</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isSubtype</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">case </span><span class="s1">re</span><span class="s0">:{</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">isSubtype</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">default</span><span class="s0">:{</span><span class="s4">return false</span><span class="s0">}}}</span><span class="s1">getReferenceType</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">}</span><span class="s2">:</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">property</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;Action:type&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;CrossReference:type&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;Interface:superTypes&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;ParserRule:returnType&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;SimpleType:typeRef&quot;</span><span class="s0">:{</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}</span><span class="s4">case</span><span class="s2">&quot;Grammar:hiddenTokens&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;ParserRule:hiddenTokens&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;RuleCall:rule&quot;</span><span class="s0">:{</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">case</span><span class="s2">&quot;Grammar:usedGrammars&quot;</span><span class="s0">:{</span><span class="s4">return </span><span class="s1">C</span><span class="s0">}</span><span class="s4">case</span><span class="s2">&quot;NamedArgument:parameter&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;ParameterReference:parameter&quot;</span><span class="s0">:{</span><span class="s4">return </span><span class="s1">j</span><span class="s0">}</span><span class="s4">case</span><span class="s2">&quot;TerminalRuleCall:rule&quot;</span><span class="s0">:{</span><span class="s4">return </span><span class="s1">re</span><span class="s0">}</span><span class="s4">default</span><span class="s0">:{</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">is not a valid reference id.`</span><span class="s0">)}}}</span><span class="s1">getTypeMetaData</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">y</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">y</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;cardinality&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lookahead&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">A</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">A</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;elements&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]}]}}</span><span class="s4">case </span><span class="s1">R</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">R</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;elementType&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">k</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">k</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;true&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s4">false</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">$</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">$</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;left&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;right&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">I</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">I</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;left&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;right&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">C</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">C</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;definesHiddenTokens&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;hiddenTokens&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;imports&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;interfaces&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;isDeclared&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;name&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;rules&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;types&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;usedGrammars&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]}]}}</span><span class="s4">case </span><span class="s1">L</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">L</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;path&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">_</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">_</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;name&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">P</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">P</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;attributes&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;name&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;superTypes&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]}]}}</span><span class="s4">case </span><span class="s1">D</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">D</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;calledByName&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;parameter&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;value&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">F</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">F</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;value&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">B</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">B</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;value&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">j</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">j</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;name&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">W</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">W</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;parameter&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">z</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">z</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;dataType&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;definesHiddenTokens&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;definition&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;entry&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;fragment&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;hiddenTokens&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;inferredType&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;name&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;parameters&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;returnType&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;wildcard&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s4">false</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">q</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">q</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;referenceType&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">Q</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">Q</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;name&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">J</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">J</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;primitiveType&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;stringType&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;typeRef&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">te</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">te</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;value&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">re</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">re</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;definition&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;fragment&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;hidden&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;name&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;type&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">se</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">se</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;name&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;type&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">oe</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">oe</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;defaultValue&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;isOptional&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;name&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;type&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">ue</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">ue</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;types&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]}]}}</span><span class="s4">case </span><span class="s1">de</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">de</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;cardinality&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;feature&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;inferredType&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lookahead&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;operator&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;type&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">he</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">he</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;cardinality&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;elements&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lookahead&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">me</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">me</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;cardinality&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;feature&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lookahead&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;operator&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;terminal&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">ye</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">ye</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;cardinality&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;left&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lookahead&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;right&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">Ae</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">Ae</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;cardinality&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;deprecatedSyntax&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lookahead&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;terminal&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;type&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">Re</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">Re</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;cardinality&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lookahead&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">ke</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">ke</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;cardinality&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;elements&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;guardCondition&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lookahead&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">$e</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">$e</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;cardinality&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lookahead&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;value&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">Ie</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">Ie</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;cardinality&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lookahead&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;terminal&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">Ce</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">Ce</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;cardinality&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lookahead&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;regex&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">Le</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">Le</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;arguments&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;cardinality&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lookahead&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;rule&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">_e</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">_e</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;cardinality&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;elements&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lookahead&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">Pe</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">Pe</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;cardinality&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;elements&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lookahead&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">De</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">De</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;cardinality&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lookahead&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;rule&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">Fe</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">Fe</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;cardinality&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;elements&quot;</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:[]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lookahead&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">Be</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">Be</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;cardinality&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lookahead&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;terminal&quot;</span><span class="s0">}]}}</span><span class="s4">case </span><span class="s1">je</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">je</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;cardinality&quot;</span><span class="s0">},{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;lookahead&quot;</span><span class="s0">}]}}</span><span class="s4">default</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">properties</span><span class="s0">:[]}}}}}</span><span class="s4">const </span><span class="s1">He</span><span class="s0">=</span><span class="s4">new </span><span class="s1">We</span><span class="s0">},</span><span class="s3">25355</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">Q</span><span class="s0">:()=&gt;</span><span class="s1">u</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">50450</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">85684</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">63752</span><span class="s0">);</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">70977</span><span class="s0">);</span><span class="s4">var </span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">65811</span><span class="s0">);</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">64386</span><span class="s0">);</span><span class="s4">class </span><span class="s1">u</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">diagnostics</span><span class="s0">=[]}</span><span class="s1">buildTokens</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">Td</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">YV</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">false</span><span class="s0">));</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildTerminalTokens</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildKeywordTokens</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;test&quot;</span><span class="s4">in </span><span class="s1">t</span><span class="s0">&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">Yv</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">unshift</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}));</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s1">flushLexingReport</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">diagnostics</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">popDiagnostics</span><span class="s0">()}}</span><span class="s1">popDiagnostics</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[</span><span class="s1">...</span><span class="s4">this</span><span class="s0">.</span><span class="s1">diagnostics</span><span class="s0">];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">diagnostics</span><span class="s0">=[];</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">buildTerminalTokens</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">rE</span><span class="s0">).</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fragment</span><span class="s0">)).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildTerminalToken</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))).</span><span class="s1">toArray</span><span class="s0">()}</span><span class="s1">buildTerminalToken</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">S</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">requiresCustomPattern</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?</span><span class="s4">this</span><span class="s0">.</span><span class="s1">regexPatternFunction</span><span class="s0">(</span><span class="s1">t</span><span class="s0">):</span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">PATTERN</span><span class="s0">:</span><span class="s1">n</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">LINE_BREAKS</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">hidden</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">GROUP</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">Yv</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)?</span><span class="s1">r</span><span class="s0">.</span><span class="s1">JG</span><span class="s0">.</span><span class="s1">SKIPPED</span><span class="s0">:</span><span class="s2">&quot;hidden&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s1">requiresCustomPattern</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">flags</span><span class="s0">.</span><span class="s1">includes</span><span class="s0">(</span><span class="s2">&quot;u&quot;</span><span class="s0">)||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">flags</span><span class="s0">.</span><span class="s1">includes</span><span class="s0">(</span><span class="s2">&quot;s&quot;</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">source</span><span class="s0">.</span><span class="s1">includes</span><span class="s0">(</span><span class="s2">&quot;?&lt;=&quot;</span><span class="s0">)||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">source</span><span class="s0">.</span><span class="s1">includes</span><span class="s0">(</span><span class="s2">&quot;?&lt;!&quot;</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return false</span><span class="s0">}}</span><span class="s1">regexPatternFunction</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">flags</span><span class="s0">+</span><span class="s2">&quot;y&quot;</span><span class="s0">);</span><span class="s4">return</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">lastIndex</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}}</span><span class="s1">buildKeywordTokens</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">s7</span><span class="s0">).</span><span class="s1">flatMap</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">Uo</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">filter</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">wb</span><span class="s0">))).</span><span class="s1">distinct</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)).</span><span class="s1">toArray</span><span class="s0">().</span><span class="s1">sort</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildKeywordToken</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">Boolean</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">caseInsensitive</span><span class="s0">))))}</span><span class="s1">buildKeywordToken</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buildKeywordPattern</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">PATTERN</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">LONGER_ALT</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">findLongerAlt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)};</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">r</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">LINE_BREAKS</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s1">buildKeywordPattern</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">?</span><span class="s4">new </span><span class="s1">RegExp</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">Ao</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)):</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">}</span><span class="s1">findLongerAlt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">PATTERN</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s1">r</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">source</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">PC</span><span class="s0">)(</span><span class="s2">&quot;^&quot;</span><span class="s0">+</span><span class="s1">r</span><span class="s0">.</span><span class="s1">source</span><span class="s0">+</span><span class="s2">&quot;$&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}),[])}}},</span><span class="s3">14480</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">d</span><span class="s0">:()=&gt;</span><span class="s1">s</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">85684</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">70977</span><span class="s0">);</span><span class="s4">class </span><span class="s1">s</span><span class="s0">{</span><span class="s1">convert</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">grammarSource</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">_c</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">g4</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">$g</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;This cst node was not parsed by a rule.&quot;</span><span class="s0">)}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">runConverter</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">runConverter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">.</span><span class="s1">toUpperCase</span><span class="s0">()){</span><span class="s4">case</span><span class="s2">&quot;INT&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">a</span><span class="s0">.</span><span class="s1">convertInt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;STRING&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">a</span><span class="s0">.</span><span class="s1">convertString</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;ID&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">a</span><span class="s0">.</span><span class="s1">convertID</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">switch</span><span class="s0">((</span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">P3</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">))===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">toLowerCase</span><span class="s0">()){</span><span class="s4">case</span><span class="s2">&quot;number&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">a</span><span class="s0">.</span><span class="s1">convertNumber</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;boolean&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">a</span><span class="s0">.</span><span class="s1">convertBoolean</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;bigint&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">a</span><span class="s0">.</span><span class="s1">convertBigint</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;date&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">a</span><span class="s0">.</span><span class="s1">convertDate</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">default</span><span class="s0">:</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}}</span><span class="s4">var </span><span class="s1">a</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charAt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charAt</span><span class="s0">(++</span><span class="s1">r</span><span class="s0">);</span><span class="s1">t</span><span class="s0">+=</span><span class="s1">n</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">+=</span><span class="s1">i</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">convertString</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;b&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;</span><span class="s4">\b</span><span class="s2">&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;f&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;</span><span class="s4">\f</span><span class="s2">&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;n&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;r&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;</span><span class="s4">\r</span><span class="s2">&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;t&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;v&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;</span><span class="s4">\v</span><span class="s2">&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;0&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;</span><span class="s4">\0</span><span class="s2">&quot;</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)===</span><span class="s2">&quot;^&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s3">1</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">convertID</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">parseInt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">convertInt</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">function </span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">BigInt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">convertBigint</span><span class="s0">=</span><span class="s1">s</span><span class="s0">;</span><span class="s4">function </span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">Date</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">convertDate</span><span class="s0">=</span><span class="s1">a</span><span class="s0">;</span><span class="s4">function </span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Number</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">convertNumber</span><span class="s0">=</span><span class="s1">o</span><span class="s0">;</span><span class="s4">function </span><span class="s1">c</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">toLowerCase</span><span class="s0">()===</span><span class="s2">&quot;true&quot;</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">convertBoolean</span><span class="s0">=</span><span class="s1">c</span><span class="s0">})(</span><span class="s1">a</span><span class="s0">||(</span><span class="s1">a</span><span class="s0">={}))},</span><span class="s3">64032</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">A_</span><span class="s0">:()=&gt;</span><span class="s1">i</span><span class="s0">,</span><span class="s1">FC</span><span class="s0">:()=&gt;</span><span class="s1">u</span><span class="s0">,</span><span class="s1">Nr</span><span class="s0">:()=&gt;</span><span class="s1">s</span><span class="s0">,</span><span class="s1">Zl</span><span class="s0">:()=&gt;</span><span class="s1">a</span><span class="s0">,</span><span class="s1">br</span><span class="s0">:()=&gt;</span><span class="s1">l</span><span class="s0">,</span><span class="s1">kD</span><span class="s0">:()=&gt;</span><span class="s1">o</span><span class="s0">,</span><span class="s1">mD</span><span class="s0">:()=&gt;</span><span class="s1">c</span><span class="s0">,</span><span class="s1">ng</span><span class="s0">:()=&gt;</span><span class="s1">r</span><span class="s0">});</span><span class="s4">function </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">$refText</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">)&amp;&amp;</span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">reference</span><span class="s0">)&amp;&amp;</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">message</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">}</span><span class="s4">class </span><span class="s1">o</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">subtypes</span><span class="s0">={};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allSubtypes</span><span class="s0">={}}</span><span class="s1">isInstance</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isSubtype</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">isSubtype</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">subtypes</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">subtypes</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]={}}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">computeIsSubtype</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}}</span><span class="s1">getAllSubTypes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allSubtypes</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getAllTypes</span><span class="s0">();</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isSubtype</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allSubtypes</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}}</span><span class="s4">function </span><span class="s1">c</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">content</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenType</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">l</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">c</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">fullText</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">}},</span><span class="s3">63752</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">DM</span><span class="s0">:()=&gt;</span><span class="s1">m</span><span class="s0">,</span><span class="s1">OP</span><span class="s0">:()=&gt;</span><span class="s1">y</span><span class="s0">,</span><span class="s1">SD</span><span class="s0">:()=&gt;</span><span class="s1">a</span><span class="s0">,</span><span class="s1">Uo</span><span class="s0">:()=&gt;</span><span class="s1">f</span><span class="s0">,</span><span class="s1">VN</span><span class="s0">:()=&gt;</span><span class="s1">d</span><span class="s0">,</span><span class="s1">XG</span><span class="s0">:()=&gt;</span><span class="s1">o</span><span class="s0">,</span><span class="s1">YE</span><span class="s0">:()=&gt;</span><span class="s1">u</span><span class="s0">,</span><span class="s1">cQ</span><span class="s0">:()=&gt;</span><span class="s1">l</span><span class="s0">,</span><span class="s1">jm</span><span class="s0">:()=&gt;</span><span class="s1">h</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">64032</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">64386</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">5730</span><span class="s0">);</span><span class="s4">function </span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const</span><span class="s0">[</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">]</span><span class="s1">of Object</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">startsWith</span><span class="s0">(</span><span class="s2">&quot;$&quot;</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">(((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">ng</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$containerProperty</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$containerIndex</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}}))}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">ng</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$containerProperty</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}}}}</span><span class="s4">function </span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">c</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">function </span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">l</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$document</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;AST node has no document.&quot;</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">l</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">while</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Node must be an AstNode.&quot;</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">;</span><span class="s4">return new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">fq</span><span class="s0">((()=&gt;({</span><span class="s1">keys</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">keyIndex</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">arrayIndex</span><span class="s0">:</span><span class="s3">0</span><span class="s0">})),(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">while</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">keyIndex</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">keyIndex</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">.</span><span class="s1">startsWith</span><span class="s0">(</span><span class="s2">&quot;$&quot;</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">ng</span><span class="s0">)(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">keyIndex</span><span class="s0">++;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">p</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">done</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">while</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">arrayIndex</span><span class="s0">&lt;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">arrayIndex</span><span class="s0">++;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">ng</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">p</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">done</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">arrayIndex</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">keyIndex</span><span class="s0">++}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">.</span><span class="s1">Rf</span><span class="s0">}))}</span><span class="s4">function </span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Root node must be an AstNode.&quot;</span><span class="s0">)}</span><span class="s4">return new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">Vj</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)))}</span><span class="s4">function </span><span class="s1">h</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Root node must be an AstNode.&quot;</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s1">t</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">)&amp;&amp;!</span><span class="s1">p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">)){</span><span class="s4">return new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">Vj</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(()=&gt;[]))}</span><span class="s4">return new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">Vj</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)),{</span><span class="s1">includeRoot</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})}</span><span class="s4">function </span><span class="s1">p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cstNode</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">range</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">r4</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">m</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">fq</span><span class="s0">((()=&gt;({</span><span class="s1">keys</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">keyIndex</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">arrayIndex</span><span class="s0">:</span><span class="s3">0</span><span class="s0">})),(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">while</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">keyIndex</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">keyIndex</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">startsWith</span><span class="s0">(</span><span class="s2">&quot;$&quot;</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A_</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">keyIndex</span><span class="s0">++;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">done</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:{</span><span class="s1">reference</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">container</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">property</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">while</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">arrayIndex</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">arrayIndex</span><span class="s0">++;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s1">s</span><span class="s0">];</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A_</span><span class="s0">)(</span><span class="s1">a</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">done</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:{</span><span class="s1">reference</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">container</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">property</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">index</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}}}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">arrayIndex</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">keyIndex</span><span class="s0">++}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">.</span><span class="s1">Rf</span><span class="s0">}))}</span><span class="s4">function </span><span class="s1">g</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">parseResult</span><span class="s0">.</span><span class="s1">value</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s1">h</span><span class="s0">(</span><span class="s1">t</span><span class="s0">).</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s1">m</span><span class="s0">(</span><span class="s1">t</span><span class="s0">).</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">reference</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">===</span><span class="s1">e</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">reference</span><span class="s0">)}}))}));</span><span class="s4">return </span><span class="s1">stream</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getTypeMetaData</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of n</span><span class="s0">.</span><span class="s1">properties</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">defaultValue</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">[</span><span class="s1">i</span><span class="s0">.</span><span class="s1">name</span><span class="s0">]===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">r</span><span class="s0">[</span><span class="s1">i</span><span class="s0">.</span><span class="s1">name</span><span class="s0">]=</span><span class="s1">v</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">defaultValue</span><span class="s0">)}}}</span><span class="s4">function </span><span class="s1">v</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">...e</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">v</span><span class="s0">)]}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">A</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">$type</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const</span><span class="s0">[</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">]</span><span class="s1">of Object</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">.</span><span class="s1">startsWith</span><span class="s0">(</span><span class="s2">&quot;$&quot;</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">isAstNode</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">A</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">isReference</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">t</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">$refNode</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">$refText</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">isAstNode</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">A</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">t</span><span class="s0">))}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">isReference</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">$refNode</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">$refText</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}}</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">i</span><span class="s0">}}}</span><span class="s1">a</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}},</span><span class="s3">5730</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">El</span><span class="s0">:()=&gt;</span><span class="s1">h</span><span class="s0">,</span><span class="s1">NS</span><span class="s0">:()=&gt;</span><span class="s1">s</span><span class="s0">,</span><span class="s1">SX</span><span class="s0">:()=&gt;</span><span class="s1">u</span><span class="s0">,</span><span class="s1">pO</span><span class="s0">:()=&gt;</span><span class="s1">o</span><span class="s0">,</span><span class="s1">r4</span><span class="s0">:()=&gt;</span><span class="s1">f</span><span class="s0">,</span><span class="s1">v</span><span class="s0">:()=&gt;</span><span class="s1">m</span><span class="s0">,</span><span class="s1">wf</span><span class="s0">:()=&gt;</span><span class="s1">c</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">64032</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">64386</span><span class="s0">);</span><span class="s4">function </span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">Vj</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">mD</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">content</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">[]}}),{</span><span class="s1">includeRoot</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})}</span><span class="s4">function </span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">filter</span><span class="s0">(</span><span class="s1">isLeafCstNode</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">while</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">function </span><span class="s1">c</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">start</span><span class="s0">:{</span><span class="s1">character</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startColumn</span><span class="s0">-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">line</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startLine</span><span class="s0">-</span><span class="s3">1</span><span class="s0">},</span><span class="s1">end</span><span class="s0">:{</span><span class="s1">character</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endColumn</span><span class="s0">,</span><span class="s1">line</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endLine</span><span class="s0">-</span><span class="s3">1</span><span class="s0">}}}</span><span class="s4">function </span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const</span><span class="s0">{</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">range</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">length</span><span class="s0">:</span><span class="s1">n</span><span class="s0">-</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">var </span><span class="s1">l</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Before&quot;</span><span class="s0">]=</span><span class="s3">0</span><span class="s0">]=</span><span class="s2">&quot;Before&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;After&quot;</span><span class="s0">]=</span><span class="s3">1</span><span class="s0">]=</span><span class="s2">&quot;After&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;OverlapFront&quot;</span><span class="s0">]=</span><span class="s3">2</span><span class="s0">]=</span><span class="s2">&quot;OverlapFront&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;OverlapBack&quot;</span><span class="s0">]=</span><span class="s3">3</span><span class="s0">]=</span><span class="s2">&quot;OverlapBack&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Inside&quot;</span><span class="s0">]=</span><span class="s3">4</span><span class="s0">]=</span><span class="s2">&quot;Inside&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Outside&quot;</span><span class="s0">]=</span><span class="s3">5</span><span class="s0">]=</span><span class="s2">&quot;Outside&quot;</span><span class="s0">})(</span><span class="s1">l</span><span class="s0">||(</span><span class="s1">l</span><span class="s0">={}));</span><span class="s4">function </span><span class="s1">d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">end</span><span class="s0">.</span><span class="s1">line</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">end</span><span class="s0">.</span><span class="s1">line</span><span class="s0">===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">end</span><span class="s0">.</span><span class="s1">character</span><span class="s0">&lt;=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">character</span><span class="s0">){</span><span class="s4">return </span><span class="s1">l</span><span class="s0">.</span><span class="s1">Before</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">&gt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">end</span><span class="s0">.</span><span class="s1">line</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">end</span><span class="s0">.</span><span class="s1">line</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">character</span><span class="s0">&gt;=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">end</span><span class="s0">.</span><span class="s1">character</span><span class="s0">){</span><span class="s4">return </span><span class="s1">l</span><span class="s0">.</span><span class="s1">After</span><span class="s0">}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">&gt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">character</span><span class="s0">&gt;=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">character</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">end</span><span class="s0">.</span><span class="s1">line</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">end</span><span class="s0">.</span><span class="s1">line</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">end</span><span class="s0">.</span><span class="s1">line</span><span class="s0">===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">end</span><span class="s0">.</span><span class="s1">line</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">end</span><span class="s0">.</span><span class="s1">character</span><span class="s0">&lt;=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">end</span><span class="s0">.</span><span class="s1">character</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return </span><span class="s1">l</span><span class="s0">.</span><span class="s1">Inside</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">l</span><span class="s0">.</span><span class="s1">OverlapBack</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return </span><span class="s1">l</span><span class="s0">.</span><span class="s1">OverlapFront</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">l</span><span class="s0">.</span><span class="s1">Outside</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">&gt;</span><span class="s1">l</span><span class="s0">.</span><span class="s1">After</span><span class="s0">}</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=</span><span class="s5">/^[\w\p{L}]$/u</span><span class="s0">;</span><span class="s4">function </span><span class="s1">p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s1">h</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">-</span><span class="s1">e</span><span class="s0">.</span><span class="s1">offset</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">text</span><span class="s0">.</span><span class="s1">charAt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">--}}</span><span class="s4">return </span><span class="s1">y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">m</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">T</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">true</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">g</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">br</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">findIndex</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">hidden</span><span class="s0">));</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">r</span><span class="s0">--){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">content</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">g</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">g</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">FC</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">tokenType</span><span class="s0">.</span><span class="s1">name</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">isLeafCstNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">isCompositeCstNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">A</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s4">false</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">y</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">v</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">isLeafCstNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">isCompositeCstNode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">A</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s4">true</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">v</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">A</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&lt;=</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">floor</span><span class="s0">((</span><span class="s1">r</span><span class="s0">+</span><span class="s1">i</span><span class="s0">)/</span><span class="s3">2</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">content</span><span class="s0">[</span><span class="s1">a</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">offset</span><span class="s0">&lt;=</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">end</span><span class="s0">&gt;</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">end</span><span class="s0">&lt;=</span><span class="s1">t</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">?</span><span class="s1">o</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">a</span><span class="s0">+</span><span class="s3">1</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">i</span><span class="s0">=</span><span class="s1">a</span><span class="s0">-</span><span class="s3">1</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">function </span><span class="s1">T</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s4">true</span><span class="s0">){</span><span class="s4">while</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">while</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">r</span><span class="s0">--;</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">content</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">||!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">hidden</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">R</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s4">true</span><span class="s0">){</span><span class="s4">while</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">){</span><span class="s1">r</span><span class="s0">++;</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">content</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">||!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">hidden</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">E</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">character</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">;</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">=</span><span class="s1">s</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">content</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">!==</span><span class="s1">t</span><span class="s0">){</span><span class="s4">break</span><span class="s0">}</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">k</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">x</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[]}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">a</span><span class="s0">+</span><span class="s3">1</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">b</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">x</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">$</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">$</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">s</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">&lt;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">s</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">s</span><span class="s0">];</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">s</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">){</span><span class="s1">i</span><span class="s0">={</span><span class="s1">parent</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">,</span><span class="s1">a</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">index</span><span class="s0">,</span><span class="s1">b</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">index</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">break</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">$</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">while</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">parent</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">index</span><span class="s0">:</span><span class="s1">r</span><span class="s0">});</span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">reverse</span><span class="s0">()}},</span><span class="s3">73101</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">W</span><span class="s0">:()=&gt;</span><span class="s1">r</span><span class="s0">,</span><span class="s1">d</span><span class="s0">:()=&gt;</span><span class="s1">i</span><span class="s0">});</span><span class="s4">class </span><span class="s1">r </span><span class="s4">extends </span><span class="s1">Error</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">?</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">at </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">line</span><span class="s0">}</span><span class="s2">:</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">start</span><span class="s0">.</span><span class="s1">character</span><span class="s0">}</span><span class="s2">`</span><span class="s0">:</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Error! The input value was not handled.&quot;</span><span class="s0">)}},</span><span class="s3">70977</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">Bd</span><span class="s0">:()=&gt;</span><span class="s1">m</span><span class="s0">,</span><span class="s1">P3</span><span class="s0">:()=&gt;</span><span class="s1">M</span><span class="s0">,</span><span class="s1">PV</span><span class="s0">:()=&gt;</span><span class="s1">b</span><span class="s0">,</span><span class="s1">Rp</span><span class="s0">:()=&gt;</span><span class="s1">R</span><span class="s0">,</span><span class="s1">S</span><span class="s0">:()=&gt;</span><span class="s1">D</span><span class="s0">,</span><span class="s1">SS</span><span class="s0">:()=&gt;</span><span class="s1">A</span><span class="s0">,</span><span class="s1">U5</span><span class="s0">:()=&gt;</span><span class="s1">E</span><span class="s0">,</span><span class="s1">Uz</span><span class="s0">:()=&gt;</span><span class="s1">_</span><span class="s0">,</span><span class="s1">Xq</span><span class="s0">:()=&gt;</span><span class="s1">S</span><span class="s0">,</span><span class="s1">YV</span><span class="s0">:()=&gt;</span><span class="s1">d</span><span class="s0">,</span><span class="s1">eb</span><span class="s0">:()=&gt;</span><span class="s1">p</span><span class="s0">,</span><span class="s1">g4</span><span class="s0">:()=&gt;</span><span class="s1">h</span><span class="s0">,</span><span class="s1">qO</span><span class="s0">:()=&gt;</span><span class="s1">g</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">73101</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">85684</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">64032</span><span class="s0">);</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">63752</span><span class="s0">);</span><span class="s4">var </span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">5730</span><span class="s0">);</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">65811</span><span class="s0">);</span><span class="s4">function </span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">rules</span><span class="s0">.</span><span class="s1">find</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">s7</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">entry</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">l</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">rules</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">rE</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">hidden</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">rules</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=[</span><span class="s1">r</span><span class="s0">].</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">l</span><span class="s0">(</span><span class="s1">e</span><span class="s0">));</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of s</span><span class="s0">){</span><span class="s1">f</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of e</span><span class="s0">.</span><span class="s1">rules</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">name</span><span class="s0">)||</span><span class="s1">i</span><span class="s0">.</span><span class="s1">rE</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)&amp;&amp;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">hidden</span><span class="s0">){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">a</span><span class="s0">}</span><span class="s4">function </span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">);(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">Uo</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">$g</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">lF</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&amp;&amp;!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">name</span><span class="s0">)){</span><span class="s1">f</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}}))}</span><span class="s4">function </span><span class="s1">h</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">terminal</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">terminal</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">E</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">terminal</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">hidden</span><span class="s0">&amp;&amp;!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">Yv</span><span class="s0">)(</span><span class="s1">D</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">m</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">||!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[]}</span><span class="s4">return </span><span class="s1">y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">astNode</span><span class="s0">,</span><span class="s4">true</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">g</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">||!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">astNode</span><span class="s0">,</span><span class="s4">true</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">max</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">min</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">XG</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">grammarSource</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">wh</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">feature</span><span class="s0">===</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">mD</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">astNode</span><span class="s0">===</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">content</span><span class="s0">.</span><span class="s1">flatMap</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s4">false</span><span class="s0">)))}</span><span class="s4">return</span><span class="s0">[]}</span><span class="s4">function </span><span class="s1">v</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[]}</span><span class="s4">return </span><span class="s1">T</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">astNode</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">A</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">T</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">astNode</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">max</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">min</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">T</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">astNode</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[]}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">wb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">grammarSource</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">grammarSource</span><span class="s0">.</span><span class="s1">value</span><span class="s0">===</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">NS</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">iterator</span><span class="s0">();</span><span class="s4">let </span><span class="s1">s</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=[];</span><span class="s4">do</span><span class="s0">{</span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">value</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">astNode</span><span class="s0">===</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">wb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">grammarSource</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">grammarSource</span><span class="s0">.</span><span class="s1">value</span><span class="s0">===</span><span class="s1">t</span><span class="s0">){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">.</span><span class="s1">prune</span><span class="s0">()}}}</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">.</span><span class="s1">done</span><span class="s0">);</span><span class="s4">return </span><span class="s1">a</span><span class="s0">}</span><span class="s4">function </span><span class="s1">R</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">astNode</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">astNode</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">XG</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">grammarSource</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">wh</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">e</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">container</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">E</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">SP</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ve</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">s7</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">d</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">k</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">k</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">;</span><span class="s4">function </span><span class="s1">s</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">XG</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">wh</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">o</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s1">k</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">n</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">);</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">n</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">Uo</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">wh</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)&amp;&amp;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">feature</span><span class="s0">.</span><span class="s1">toLowerCase</span><span class="s0">()===</span><span class="s2">&quot;name&quot;</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">$g</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">s7</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">s</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">D8</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)&amp;&amp;((</span><span class="s1">r</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">typeRef</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">s</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">typeRef</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">x</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$container</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ast</span><span class="s0">.</span><span class="s1">isGroup</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">--){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ast</span><span class="s0">.</span><span class="s1">isAction</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">streamAllContents</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]).</span><span class="s1">find</span><span class="s0">(</span><span class="s1">ast</span><span class="s0">.</span><span class="s1">isAction</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ast</span><span class="s0">.</span><span class="s1">isAbstractElement</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">x</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">$</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;?&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;*&quot;</span><span class="s0">||</span><span class="s1">ast</span><span class="s0">.</span><span class="s1">isGroup</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">Boolean</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">guardCondition</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">w</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;*&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;+&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">I</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;+=&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">S</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">C</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">C</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">Uo</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">$g</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">s7</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">)&amp;&amp;!</span><span class="s1">C</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">wh</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ve</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">Boolean</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">L</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">L</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ast</span><span class="s0">.</span><span class="s1">isArrayType</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">ast</span><span class="s0">.</span><span class="s1">isReferenceType</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">ast</span><span class="s0">.</span><span class="s1">isUnionType</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">types</span><span class="s0">.</span><span class="s1">every</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">L</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)))}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">ast</span><span class="s0">.</span><span class="s1">isSimpleType</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">primitiveType</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">stringType</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">typeRef</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">typeRef</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ast</span><span class="s0">.</span><span class="s1">isType</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">L</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">b</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">inferredType</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">inferredType</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">dataType</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">dataType</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">returnType</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">returnType</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">s7</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">S2</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)||</span><span class="s1">i</span><span class="s0">.</span><span class="s1">Xj</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">_</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">s7</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">S</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">:(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">b</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">S2</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">i</span><span class="s0">.</span><span class="s1">Xj</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">i</span><span class="s0">.</span><span class="s1">fG</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ve</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">O</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">SP</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Cannot get name of Unknown Type&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">O</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">inferredType</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">inferredType</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">){</span><span class="s4">return </span><span class="s1">_</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">P</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ast</span><span class="s0">.</span><span class="s1">isTerminalRule</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">(</span><span class="s1">n</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">name</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s2">&quot;string&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">S</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">:(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">b</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">M</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">rE</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">(</span><span class="s1">n</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">name</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s2">&quot;string&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">b</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">D</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={</span><span class="s1">s</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">i</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">u</span><span class="s0">:</span><span class="s4">false</span><span class="s0">};</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">F</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">(</span><span class="s1">t</span><span class="s0">).</span><span class="s1">filter</span><span class="s0">((([,</span><span class="s1">e</span><span class="s0">])=&gt;</span><span class="s1">e</span><span class="s0">)).</span><span class="s1">map</span><span class="s0">((([</span><span class="s1">e</span><span class="s0">])=&gt;</span><span class="s1">e</span><span class="s0">)).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;&quot;</span><span class="s0">);</span><span class="s4">return new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">U</span><span class="s0">=</span><span class="s5">/[\s\S]/</span><span class="s0">.</span><span class="s1">source</span><span class="s0">;</span><span class="s4">function </span><span class="s1">F</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">Fy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">G</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">O4</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">B</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">Bg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">V</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">lF</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">.</span><span class="s1">ref</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Missing rule reference.&quot;</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">H</span><span class="s0">(</span><span class="s1">F</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">definition</span><span class="s0">),{</span><span class="s1">cardinality</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">cardinality</span><span class="s0">,</span><span class="s1">lookahead</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lookahead</span><span class="s0">})}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">GL</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">j</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">Mz</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">K</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">vd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">regex</span><span class="s0">.</span><span class="s1">lastIndexOf</span><span class="s0">(</span><span class="s2">&quot;/&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">regex</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s3">1</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">regex</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">n</span><span class="s0">+</span><span class="s3">1</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">i</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">includes</span><span class="s0">(</span><span class="s2">&quot;i&quot;</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">includes</span><span class="s0">(</span><span class="s2">&quot;s&quot;</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">u</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">includes</span><span class="s0">(</span><span class="s2">&quot;u&quot;</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">H</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,{</span><span class="s1">cardinality</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">cardinality</span><span class="s0">,</span><span class="s1">lookahead</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lookahead</span><span class="s0">,</span><span class="s1">wrap</span><span class="s0">:</span><span class="s4">false</span><span class="s0">})}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">z2</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">H</span><span class="s0">(</span><span class="s1">U</span><span class="s0">,{</span><span class="s1">cardinality</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">cardinality</span><span class="s0">,</span><span class="s1">lookahead</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lookahead</span><span class="s0">})}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Invalid terminal element: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$type</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">G</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">H</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">F</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;|&quot;</span><span class="s0">),{</span><span class="s1">cardinality</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">cardinality</span><span class="s0">,</span><span class="s1">lookahead</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lookahead</span><span class="s0">})}</span><span class="s4">function </span><span class="s1">B</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">H</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">F</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;&quot;</span><span class="s0">),{</span><span class="s1">cardinality</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">cardinality</span><span class="s0">,</span><span class="s1">lookahead</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lookahead</span><span class="s0">})}</span><span class="s4">function </span><span class="s1">K</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">H</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">U</span><span class="s0">}</span><span class="s2">*?</span><span class="s1">$</span><span class="s0">{</span><span class="s1">F</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">terminal</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">,{</span><span class="s1">cardinality</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">cardinality</span><span class="s0">,</span><span class="s1">lookahead</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lookahead</span><span class="s0">})}</span><span class="s4">function </span><span class="s1">j</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">H</span><span class="s0">(</span><span class="s2">`(?!</span><span class="s1">$</span><span class="s0">{</span><span class="s1">F</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">terminal</span><span class="s0">)}</span><span class="s2">)</span><span class="s1">$</span><span class="s0">{</span><span class="s1">U</span><span class="s0">}</span><span class="s2">*?`</span><span class="s0">,{</span><span class="s1">cardinality</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">cardinality</span><span class="s0">,</span><span class="s1">lookahead</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lookahead</span><span class="s0">})}</span><span class="s4">function </span><span class="s1">V</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">right</span><span class="s0">){</span><span class="s4">return </span><span class="s1">H</span><span class="s0">(</span><span class="s2">`[</span><span class="s1">$</span><span class="s0">{</span><span class="s1">W</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">left</span><span class="s0">)}</span><span class="s2">-</span><span class="s1">$</span><span class="s0">{</span><span class="s1">W</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">right</span><span class="s0">)}</span><span class="s2">]`</span><span class="s0">,{</span><span class="s1">cardinality</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">cardinality</span><span class="s0">,</span><span class="s1">lookahead</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lookahead</span><span class="s0">,</span><span class="s1">wrap</span><span class="s0">:</span><span class="s4">false</span><span class="s0">})}</span><span class="s4">return </span><span class="s1">H</span><span class="s0">(</span><span class="s1">W</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">left</span><span class="s0">),{</span><span class="s1">cardinality</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">cardinality</span><span class="s0">,</span><span class="s1">lookahead</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lookahead</span><span class="s0">,</span><span class="s1">wrap</span><span class="s0">:</span><span class="s4">false</span><span class="s0">})}</span><span class="s4">function </span><span class="s1">W</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">Nt</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">H</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">wrap</span><span class="s0">!==</span><span class="s4">false</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">lookahead</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s2">`(</span><span class="s1">$</span><span class="s0">{(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">lookahead</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">cardinality</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">cardinality</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}},</span><span class="s3">65811</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">Ao</span><span class="s0">:()=&gt;</span><span class="s1">h</span><span class="s0">,</span><span class="s1">Nt</span><span class="s0">:()=&gt;</span><span class="s1">f</span><span class="s0">,</span><span class="s1">PC</span><span class="s0">:()=&gt;</span><span class="s1">p</span><span class="s0">,</span><span class="s1">TH</span><span class="s0">:()=&gt;</span><span class="s1">i</span><span class="s0">,</span><span class="s1">Yv</span><span class="s0">:()=&gt;</span><span class="s1">d</span><span class="s0">,</span><span class="s1">lU</span><span class="s0">:()=&gt;</span><span class="s1">u</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">83173</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s5">/\r?\n/gm</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">new </span><span class="s1">r</span><span class="s0">.</span><span class="s1">H</span><span class="s0">;</span><span class="s4">class </span><span class="s1">a </span><span class="s4">extends </span><span class="s1">r</span><span class="s0">.</span><span class="s1">z</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">...arguments</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isStarting</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">endRegexpStack</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">multiline</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s1">get endRegex</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">endRegexpStack</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;&quot;</span><span class="s0">)}</span><span class="s1">reset</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">multiline</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">regex</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">startRegexp</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isStarting</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">endRegexpStack</span><span class="s0">=[]}</span><span class="s1">visitGroup</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">quantifier</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isStarting</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">endRegexpStack</span><span class="s0">=[]}}</span><span class="s1">visitCharacter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">String</span><span class="s0">.</span><span class="s1">fromCharCode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">multiline</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">multiline</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">quantifier</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isStarting</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">endRegexpStack</span><span class="s0">=[]}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">f</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">endRegexpStack</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isStarting</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">startRegexp</span><span class="s0">+=</span><span class="s1">e</span><span class="s0">}}}</span><span class="s1">visitSet</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">multiline</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">regex</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">loc</span><span class="s0">.</span><span class="s1">begin</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">loc</span><span class="s0">.</span><span class="s1">end</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">multiline</span><span class="s0">=</span><span class="s1">Boolean</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">.</span><span class="s1">match</span><span class="s0">(</span><span class="s1">n</span><span class="s0">))}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">quantifier</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isStarting</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">endRegexpStack</span><span class="s0">=[]}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">regex</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">loc</span><span class="s0">.</span><span class="s1">begin</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">loc</span><span class="s0">.</span><span class="s1">end</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">endRegexpStack</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">isStarting</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">startRegexp</span><span class="s0">+=</span><span class="s1">t</span><span class="s0">}}}</span><span class="s1">visitChildren</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;Group&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">quantifier</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}}</span><span class="s4">super</span><span class="s0">.</span><span class="s1">visitChildren</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s4">new </span><span class="s1">a</span><span class="s0">;</span><span class="s4">function </span><span class="s1">c</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">source</span><span class="s0">}</span><span class="s1">e</span><span class="s0">=</span><span class="s2">`/</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">/`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">pattern</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">.</span><span class="s1">value</span><span class="s0">){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">reset</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">o</span><span class="s0">.</span><span class="s1">visit</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">start</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">startRegexp</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">endRegex</span><span class="s0">})}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[]}}</span><span class="s4">function </span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">();</span><span class="s1">o</span><span class="s0">.</span><span class="s1">reset</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">o</span><span class="s0">.</span><span class="s1">visit</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">pattern</span><span class="s0">(</span><span class="s1">e</span><span class="s0">));</span><span class="s4">return </span><span class="s1">o</span><span class="s0">.</span><span class="s1">multiline</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=(</span><span class="s2">&quot;</span><span class="s4">\f\n\r\t\v </span><span class="s2">          &quot;</span><span class="s0">+</span><span class="s2">&quot;   </span><span class="s4">\u2028\u2029</span><span class="s2">  　</span><span class="s4">\ufeff</span><span class="s2">&quot;</span><span class="s0">).</span><span class="s1">split</span><span class="s0">(</span><span class="s2">&quot;&quot;</span><span class="s0">);</span><span class="s4">function </span><span class="s1">d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">?</span><span class="s4">new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">):</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">l</span><span class="s0">.</span><span class="s1">some</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)))}</span><span class="s4">function </span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/[.*+?^${}()|[\]\\]/g</span><span class="s0">,</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">$&amp;&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">h</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Array</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">map</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s5">/\w/</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s2">`[</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toLowerCase</span><span class="s0">()}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toUpperCase</span><span class="s0">()}</span><span class="s2">]`</span><span class="s0">:</span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">m</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">match</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">r</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">}</span><span class="s4">function </span><span class="s1">m</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">source</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">s</span><span class="s0">;</span><span class="s4">function </span><span class="s1">a</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">o</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">e</span><span class="s0">+=</span><span class="s2">&quot;(?:&quot;</span><span class="s0">+</span><span class="s1">n</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)+</span><span class="s2">&quot;|$)&quot;</span><span class="s0">;</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]){</span><span class="s4">case</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">:</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">+</span><span class="s3">1</span><span class="s0">]){</span><span class="s4">case</span><span class="s2">&quot;c&quot;</span><span class="s0">:</span><span class="s1">o</span><span class="s0">(</span><span class="s3">3</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;x&quot;</span><span class="s0">:</span><span class="s1">o</span><span class="s0">(</span><span class="s3">4</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;u&quot;</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">unicode</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">+</span><span class="s3">2</span><span class="s0">]===</span><span class="s2">&quot;{&quot;</span><span class="s0">){</span><span class="s1">o</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s2">&quot;}&quot;</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)-</span><span class="s1">r</span><span class="s0">+</span><span class="s3">1</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">o</span><span class="s0">(</span><span class="s3">6</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">o</span><span class="s0">(</span><span class="s3">2</span><span class="s0">)}</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;p&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;P&quot;</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">unicode</span><span class="s0">){</span><span class="s1">o</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s2">&quot;}&quot;</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)-</span><span class="s1">r</span><span class="s0">+</span><span class="s3">1</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">o</span><span class="s0">(</span><span class="s3">2</span><span class="s0">)}</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;k&quot;</span><span class="s0">:</span><span class="s1">o</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s2">&quot;&gt;&quot;</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)-</span><span class="s1">r</span><span class="s0">+</span><span class="s3">1</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s1">o</span><span class="s0">(</span><span class="s3">2</span><span class="s0">);</span><span class="s4">break</span><span class="s0">}</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;[&quot;</span><span class="s0">:</span><span class="s1">s</span><span class="s0">=</span><span class="s5">/\[(?:\\.|.)*?\]/g</span><span class="s0">;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">lastIndex</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">s</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)||[];</span><span class="s1">o</span><span class="s0">(</span><span class="s1">s</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">length</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;|&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;^&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;$&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;*&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;+&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;?&quot;</span><span class="s0">:</span><span class="s1">a</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;{&quot;</span><span class="s0">:</span><span class="s1">s</span><span class="s0">=</span><span class="s5">/\{\d+,?\d*\}/g</span><span class="s0">;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">lastIndex</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">s</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s1">a</span><span class="s0">(</span><span class="s1">s</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">length</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">o</span><span class="s0">(</span><span class="s3">1</span><span class="s0">)}</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;(&quot;</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">+</span><span class="s3">1</span><span class="s0">]===</span><span class="s2">&quot;?&quot;</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">+</span><span class="s3">2</span><span class="s0">]){</span><span class="s4">case</span><span class="s2">&quot;:&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">+=</span><span class="s2">&quot;(?:&quot;</span><span class="s0">;</span><span class="s1">r</span><span class="s0">+=</span><span class="s3">3</span><span class="s0">;</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">i</span><span class="s0">()+</span><span class="s2">&quot;|$)&quot;</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;=&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">+=</span><span class="s2">&quot;(?=&quot;</span><span class="s0">;</span><span class="s1">r</span><span class="s0">+=</span><span class="s3">3</span><span class="s0">;</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">i</span><span class="s0">()+</span><span class="s2">&quot;)&quot;</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;!&quot;</span><span class="s0">:</span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">r</span><span class="s0">+=</span><span class="s3">3</span><span class="s0">;</span><span class="s1">i</span><span class="s0">();</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">r</span><span class="s0">-</span><span class="s1">s</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;&lt;&quot;</span><span class="s0">:</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">+</span><span class="s3">3</span><span class="s0">]){</span><span class="s4">case</span><span class="s2">&quot;=&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;!&quot;</span><span class="s0">:</span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">r</span><span class="s0">+=</span><span class="s3">4</span><span class="s0">;</span><span class="s1">i</span><span class="s0">();</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">r</span><span class="s0">-</span><span class="s1">s</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s1">a</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s2">&quot;&gt;&quot;</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)-</span><span class="s1">r</span><span class="s0">+</span><span class="s3">1</span><span class="s0">);</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">i</span><span class="s0">()+</span><span class="s2">&quot;|$)&quot;</span><span class="s0">;</span><span class="s4">break</span><span class="s0">}</span><span class="s4">break</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">a</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">i</span><span class="s0">()+</span><span class="s2">&quot;|$)&quot;</span><span class="s0">}</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;)&quot;</span><span class="s0">:++</span><span class="s1">r</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s1">o</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s4">break</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">return new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s1">i</span><span class="s0">(),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">flags</span><span class="s0">)}},</span><span class="s3">64386</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">B5</span><span class="s0">:()=&gt;</span><span class="s1">a</span><span class="s0">,</span><span class="s1">Rf</span><span class="s0">:()=&gt;</span><span class="s1">o</span><span class="s0">,</span><span class="s1">Td</span><span class="s0">:()=&gt;</span><span class="s1">c</span><span class="s0">,</span><span class="s1">Vj</span><span class="s0">:()=&gt;</span><span class="s1">u</span><span class="s0">,</span><span class="s1">fq</span><span class="s0">:()=&gt;</span><span class="s1">r</span><span class="s0">,</span><span class="s1">iD</span><span class="s0">:()=&gt;</span><span class="s1">l</span><span class="s0">});</span><span class="s4">class </span><span class="s1">r</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">startFn</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextFn</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">iterator</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">={</span><span class="s1">state</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">startFn</span><span class="s0">(),</span><span class="s1">next</span><span class="s0">:()=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextFn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">state</span><span class="s0">),[</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">]:()=&gt;</span><span class="s1">e</span><span class="s0">};</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}[</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">](){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">()}</span><span class="s1">isEmpty</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">();</span><span class="s4">return </span><span class="s1">Boolean</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">next</span><span class="s0">().</span><span class="s1">done</span><span class="s0">)}</span><span class="s1">count</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">();</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s1">t</span><span class="s0">++;</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">next</span><span class="s0">()}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">toArray</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">();</span><span class="s4">let </span><span class="s1">n</span><span class="s0">;</span><span class="s4">do</span><span class="s0">{</span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)}}</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">done</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">toSet</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s1">toMap</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;[</span><span class="s1">e</span><span class="s0">?</span><span class="s1">e</span><span class="s0">(</span><span class="s1">n</span><span class="s0">):</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">?</span><span class="s1">t</span><span class="s0">(</span><span class="s1">n</span><span class="s0">):</span><span class="s1">n</span><span class="s0">]));</span><span class="s4">return new </span><span class="s1">Map</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">toString</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">join</span><span class="s0">()}</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">r</span><span class="s0">((()=&gt;({</span><span class="s1">first</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">startFn</span><span class="s0">(),</span><span class="s1">firstDone</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">iterator</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">]()})),(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">let </span><span class="s1">t</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">firstDone</span><span class="s0">){</span><span class="s4">do</span><span class="s0">{</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextFn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">first</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">done</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">firstDone</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">do</span><span class="s0">{</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">done</span><span class="s0">);</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}))}</span><span class="s1">join</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s2">&quot;,&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">();</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">do</span><span class="s0">{</span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s1">n</span><span class="s0">+=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">n</span><span class="s0">+=</span><span class="s1">i</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)}</span><span class="s1">s</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">.</span><span class="s1">done</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">();</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&gt;=</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">value</span><span class="s0">===</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s1">r</span><span class="s0">++}</span><span class="s4">return</span><span class="s0">-</span><span class="s3">1</span><span class="s0">}</span><span class="s1">every</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">();</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">next</span><span class="s0">()}</span><span class="s4">return true</span><span class="s0">}</span><span class="s1">some</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">();</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}</span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">next</span><span class="s0">()}</span><span class="s4">return false</span><span class="s0">}</span><span class="s1">forEach</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">();</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s1">e</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s1">n</span><span class="s0">++}}</span><span class="s1">map</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">r</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">startFn</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">done</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextFn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">done</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">e</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}}}))}</span><span class="s1">filter</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">r</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">startFn</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">let </span><span class="s1">n</span><span class="s0">;</span><span class="s4">do</span><span class="s0">{</span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextFn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">done</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">done</span><span class="s0">);</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}))}</span><span class="s1">nonNullable</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">))}</span><span class="s1">reduce</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">();</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">value</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)}</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">next</span><span class="s0">()}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">reduceRight</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">recursiveReduce</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">(),</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">recursiveReduce</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">recursiveReduce</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">value</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)}</span><span class="s1">find</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">();</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">}</span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">next</span><span class="s0">()}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">findIndex</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">();</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s1">n</span><span class="s0">++}</span><span class="s4">return</span><span class="s0">-</span><span class="s3">1</span><span class="s0">}</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">();</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">===</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">next</span><span class="s0">()}</span><span class="s4">return false</span><span class="s0">}</span><span class="s1">flatMap</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">r</span><span class="s0">((()=&gt;({</span><span class="s4">this</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">startFn</span><span class="s0">()})),(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">do</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">const</span><span class="s0">{</span><span class="s1">done</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextFn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">this</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">]()}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">done</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}}}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">);</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}))}</span><span class="s1">flat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s3">1</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">?</span><span class="s4">this</span><span class="s0">.</span><span class="s1">flat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">-</span><span class="s3">1</span><span class="s0">):</span><span class="s4">this</span><span class="s0">;</span><span class="s4">return new </span><span class="s1">r</span><span class="s0">((()=&gt;({</span><span class="s4">this</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">startFn</span><span class="s0">()})),(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">do</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">const</span><span class="s0">{</span><span class="s1">done</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">nextFn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">this</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">]()}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">done</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}}}}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">);</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}))}</span><span class="s1">head</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">();</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">}</span><span class="s1">tail</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">r</span><span class="s0">((()=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">startFn</span><span class="s0">();</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">;</span><span class="s1">n</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextFn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextFn</span><span class="s0">)}</span><span class="s1">limit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">r</span><span class="s0">((()=&gt;({</span><span class="s1">size</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">state</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">startFn</span><span class="s0">()})),(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">size</span><span class="s0">++;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">size</span><span class="s0">&gt;</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">nextFn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">state</span><span class="s0">)}))}</span><span class="s1">distinct</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">r</span><span class="s0">((()=&gt;({</span><span class="s1">set</span><span class="s0">:</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">,</span><span class="s1">internalState</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">startFn</span><span class="s0">()})),(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">let </span><span class="s1">n</span><span class="s0">;</span><span class="s4">do</span><span class="s0">{</span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextFn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">internalState</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">?</span><span class="s1">e</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">):</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">set</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">set</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}}</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">done</span><span class="s0">);</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}))}</span><span class="s1">exclude</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">?</span><span class="s1">t</span><span class="s0">(</span><span class="s1">r</span><span class="s0">):</span><span class="s1">r</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">?</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">):</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return</span><span class="s0">!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}))}}</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;undefined&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;undefined&quot;</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()}</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">[</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">]===</span><span class="s2">&quot;function&quot;</span><span class="s0">}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s4">new </span><span class="s1">r</span><span class="s0">((()=&gt;</span><span class="s1">undefined</span><span class="s0">),(()=&gt;</span><span class="s1">o</span><span class="s0">));</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">({</span><span class="s1">done</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">});</span><span class="s4">function </span><span class="s1">c</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">instanceof </span><span class="s1">r</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return new </span><span class="s1">r</span><span class="s0">((()=&gt;</span><span class="s1">t</span><span class="s0">[</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">]()),(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">next</span><span class="s0">()))}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">r</span><span class="s0">((()=&gt;({</span><span class="s1">index</span><span class="s0">:</span><span class="s3">0</span><span class="s0">})),(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">index</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">done</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">index</span><span class="s0">++]}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}}))}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">r</span><span class="s0">((()=&gt;({</span><span class="s1">collIndex</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">arrIndex</span><span class="s0">:</span><span class="s3">0</span><span class="s0">})),(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">do</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">array</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">arrIndex</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">array</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">done</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">array</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">arrIndex</span><span class="s0">++]}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">array</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">arrIndex</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">collIndex</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">collIndex</span><span class="s0">++];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">]()}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">array</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}}}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">array</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">collIndex</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">);</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}))}</span><span class="s4">return </span><span class="s1">a</span><span class="s0">}</span><span class="s4">class </span><span class="s1">u </span><span class="s4">extends </span><span class="s1">r</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">((()=&gt;({</span><span class="s1">iterators</span><span class="s0">:(</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">includeRoot</span><span class="s0">)?[[</span><span class="s1">e</span><span class="s0">][</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">]()]:[</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)[</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">]()],</span><span class="s1">pruned</span><span class="s0">:</span><span class="s4">false</span><span class="s0">})),(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">pruned</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">iterators</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s1">e</span><span class="s0">.</span><span class="s1">pruned</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">iterators</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">iterators</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">iterators</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">];</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">next</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">done</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">iterators</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">()}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">iterators</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)[</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">]());</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}))}</span><span class="s1">iterator</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">={</span><span class="s1">state</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">startFn</span><span class="s0">(),</span><span class="s1">next</span><span class="s0">:()=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextFn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">state</span><span class="s0">),</span><span class="s1">prune</span><span class="s0">:()=&gt;{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">state</span><span class="s0">.</span><span class="s1">pruned</span><span class="s0">=</span><span class="s4">true</span><span class="s0">},[</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">]:()=&gt;</span><span class="s1">e</span><span class="s0">};</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">var </span><span class="s1">l</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;</span><span class="s1">e</span><span class="s0">+</span><span class="s1">t</span><span class="s0">),</span><span class="s3">0</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">sum</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;</span><span class="s1">e</span><span class="s0">*</span><span class="s1">t</span><span class="s0">),</span><span class="s3">0</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">product</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">function </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">min</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">min</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">max</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">max</span><span class="s0">=</span><span class="s1">i</span><span class="s0">})(</span><span class="s1">l</span><span class="s0">||(</span><span class="s1">l</span><span class="s0">={}))},</span><span class="s3">6052</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">D</span><span class="s0">:()=&gt;</span><span class="s1">i</span><span class="s0">});</span><span class="s4">class </span><span class="s1">r</span><span class="s0">{</span><span class="s1">readFile</span><span class="s0">(){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;No file system is available.&quot;</span><span class="s0">)}</span><span class="s1">async readDirectory</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">[]}}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={</span><span class="s1">fileSystemProvider</span><span class="s0">:()=&gt;</span><span class="s4">new </span><span class="s1">r</span><span class="s0">}},</span><span class="s3">95852</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">A</span><span class="s0">:()=&gt;</span><span class="s1">s</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">62579</span><span class="s0">);</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(++</span><span class="s1">i</span><span class="s0">&lt;</span><span class="s1">s</span><span class="s0">){</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">],</span><span class="s1">o</span><span class="s0">=</span><span class="s1">t</span><span class="s0">(</span><span class="s1">a</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;(</span><span class="s1">c</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">?</span><span class="s1">o</span><span class="s0">===</span><span class="s1">o</span><span class="s0">&amp;&amp;!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">o</span><span class="s0">):</span><span class="s1">n</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">c</span><span class="s0">))){</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s1">o</span><span class="s0">,</span><span class="s1">u</span><span class="s0">=</span><span class="s1">a</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">u</span><span class="s0">}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">},</span><span class="s3">51135</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">A</span><span class="s0">:()=&gt;</span><span class="s1">i</span><span class="s0">});</span><span class="s4">function </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">},</span><span class="s3">97457</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">A</span><span class="s0">:()=&gt;</span><span class="s1">a</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">15912</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">21585</span><span class="s0">);</span><span class="s4">function </span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">Array</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">):[];(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s1">s</span><span class="s0">[++</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}));</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">s</span><span class="s0">},</span><span class="s3">44835</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">A</span><span class="s0">:()=&gt;</span><span class="s1">f</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">22883</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">16542</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">65900</span><span class="s0">);</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">78912</span><span class="s0">);</span><span class="s4">var </span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">85356</span><span class="s0">);</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">43512</span><span class="s0">);</span><span class="s4">function </span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">var </span><span class="s1">u</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">l</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">,</span><span class="s1">d</span><span class="s0">=</span><span class="s1">l</span><span class="s0">-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">f</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">f</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;++</span><span class="s1">u</span><span class="s0">&lt;</span><span class="s1">l</span><span class="s0">){</span><span class="s4">var </span><span class="s1">h</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">u</span><span class="s0">]),</span><span class="s1">p</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">h</span><span class="s0">===</span><span class="s2">&quot;__proto__&quot;</span><span class="s0">||</span><span class="s1">h</span><span class="s0">===</span><span class="s2">&quot;constructor&quot;</span><span class="s0">||</span><span class="s1">h</span><span class="s0">===</span><span class="s2">&quot;prototype&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">!=</span><span class="s1">d</span><span class="s0">){</span><span class="s4">var </span><span class="s1">m</span><span class="s0">=</span><span class="s1">f</span><span class="s0">[</span><span class="s1">h</span><span class="s0">];</span><span class="s1">p</span><span class="s0">=</span><span class="s1">r</span><span class="s0">?</span><span class="s1">r</span><span class="s0">(</span><span class="s1">m</span><span class="s0">,</span><span class="s1">h</span><span class="s0">,</span><span class="s1">f</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">p</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">p</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">m</span><span class="s0">)?</span><span class="s1">m</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">u</span><span class="s0">+</span><span class="s3">1</span><span class="s0">])?[]:{}}}(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">h</span><span class="s0">,</span><span class="s1">p</span><span class="s0">);</span><span class="s1">f</span><span class="s0">=</span><span class="s1">f</span><span class="s0">[</span><span class="s1">h</span><span class="s0">]}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">u</span><span class="s0">;</span><span class="s4">function </span><span class="s1">d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">a</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">,</span><span class="s1">o</span><span class="s0">={};</span><span class="s4">while</span><span class="s0">(++</span><span class="s1">i</span><span class="s0">&lt;</span><span class="s1">a</span><span class="s0">){</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">],</span><span class="s1">u</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">c</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">c</span><span class="s0">)){</span><span class="s1">l</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">c</span><span class="s0">,</span><span class="s1">e</span><span class="s0">),</span><span class="s1">u</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">d</span><span class="s0">},</span><span class="s3">97134</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">A</span><span class="s0">:()=&gt;</span><span class="s1">a</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">59386</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s3">4</span><span class="s0">;</span><span class="s4">function </span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">s</span><span class="s0">},</span><span class="s3">38693</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">A</span><span class="s0">:()=&gt;</span><span class="s1">l</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">55881</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">24461</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">31943</span><span class="s0">);</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">13839</span><span class="s0">);</span><span class="s4">var </span><span class="s1">o</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">;</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">;</span><span class="s4">var </span><span class="s1">u</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)((</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">var </span><span class="s1">u</span><span class="s0">=</span><span class="s1">r</span><span class="s0">&gt;</span><span class="s3">2</span><span class="s0">?</span><span class="s1">t</span><span class="s0">[</span><span class="s3">2</span><span class="s0">]:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">],</span><span class="s1">t</span><span class="s0">[</span><span class="s3">1</span><span class="s0">],</span><span class="s1">u</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">=</span><span class="s3">1</span><span class="s0">}</span><span class="s4">while</span><span class="s0">(++</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">r</span><span class="s0">){</span><span class="s4">var </span><span class="s1">l</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">var </span><span class="s1">d</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">l</span><span class="s0">);</span><span class="s4">var </span><span class="s1">f</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">var </span><span class="s1">h</span><span class="s0">=</span><span class="s1">d</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(++</span><span class="s1">f</span><span class="s0">&lt;</span><span class="s1">h</span><span class="s0">){</span><span class="s4">var </span><span class="s1">p</span><span class="s0">=</span><span class="s1">d</span><span class="s0">[</span><span class="s1">f</span><span class="s0">];</span><span class="s4">var </span><span class="s1">m</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">p</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">m</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">m</span><span class="s0">,</span><span class="s1">o</span><span class="s0">[</span><span class="s1">p</span><span class="s0">])&amp;&amp;!</span><span class="s1">c</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">p</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">p</span><span class="s0">]=</span><span class="s1">l</span><span class="s0">[</span><span class="s1">p</span><span class="s0">]}}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}));</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">u</span><span class="s0">},</span><span class="s3">85075</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">A</span><span class="s0">:()=&gt;</span><span class="s1">p</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">1121</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">21585</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">37947</span><span class="s0">);</span><span class="s4">function </span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return function</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">a</span><span class="s0">){</span><span class="s4">var </span><span class="s1">o</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">,</span><span class="s3">3</span><span class="s0">);</span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">n</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">c</span><span class="s0">(</span><span class="s1">o</span><span class="s0">[</span><span class="s1">e</span><span class="s0">],</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)}}</span><span class="s4">var </span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">a</span><span class="s0">);</span><span class="s4">return </span><span class="s1">u</span><span class="s0">&gt;-</span><span class="s3">1</span><span class="s0">?</span><span class="s1">o</span><span class="s0">[</span><span class="s1">c</span><span class="s0">?</span><span class="s1">t</span><span class="s0">[</span><span class="s1">u</span><span class="s0">]:</span><span class="s1">u</span><span class="s0">]:</span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">a</span><span class="s0">;</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">97314</span><span class="s0">);</span><span class="s4">var </span><span class="s1">u</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">29914</span><span class="s0">);</span><span class="s4">var </span><span class="s1">l</span><span class="s0">=</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">max</span><span class="s0">;</span><span class="s4">function </span><span class="s1">d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">==</span><span class="s4">null</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">){</span><span class="s4">return</span><span class="s0">-</span><span class="s3">1</span><span class="s0">}</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">==</span><span class="s4">null</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">&lt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s1">l</span><span class="s0">(</span><span class="s1">i</span><span class="s0">+</span><span class="s1">s</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,</span><span class="s3">3</span><span class="s0">),</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">d</span><span class="s0">;</span><span class="s4">var </span><span class="s1">h</span><span class="s0">=</span><span class="s1">o</span><span class="s0">(</span><span class="s1">f</span><span class="s0">);</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s1">h</span><span class="s0">},</span><span class="s3">57852</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">A</span><span class="s0">:()=&gt;</span><span class="s1">a</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">62040</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">8937</span><span class="s0">);</span><span class="s4">function </span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">),</span><span class="s3">1</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">s</span><span class="s0">},</span><span class="s3">74033</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">A</span><span class="s0">:()=&gt;</span><span class="s1">s</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">62040</span><span class="s0">);</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">==</span><span class="s4">null</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">?(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">1</span><span class="s0">):[]}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">},</span><span class="s3">2850</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">A</span><span class="s0">:()=&gt;</span><span class="s1">u</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">;</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">;</span><span class="s4">function </span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">s</span><span class="s0">;</span><span class="s4">var </span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">64491</span><span class="s0">);</span><span class="s4">function </span><span class="s1">c</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">a</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">c</span><span class="s0">},</span><span class="s3">86378</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">A</span><span class="s0">:()=&gt;</span><span class="s1">c</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">64128</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">39990</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">53315</span><span class="s0">);</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s2">&quot;[object String]&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">==</span><span class="s2">&quot;string&quot;</span><span class="s0">||!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)==</span><span class="s1">a</span><span class="s0">}</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">o</span><span class="s0">},</span><span class="s3">80359</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">A</span><span class="s0">:()=&gt;</span><span class="s1">i</span><span class="s0">});</span><span class="s4">function </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">==</span><span class="s4">null</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">?</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">-</span><span class="s3">1</span><span class="s0">]:</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">},</span><span class="s3">8937</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">A</span><span class="s0">:()=&gt;</span><span class="s1">c</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">98519</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">1121</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">97457</span><span class="s0">);</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">39990</span><span class="s0">);</span><span class="s4">function </span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">,</span><span class="s3">3</span><span class="s0">))}</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">o</span><span class="s0">},</span><span class="s3">963</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">A</span><span class="s0">:()=&gt;</span><span class="s1">o</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">95852</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">51135</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">63077</span><span class="s0">);</span><span class="s4">function </span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">?(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">A</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">A</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">a</span><span class="s0">},</span><span class="s3">52712</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">A</span><span class="s0">:()=&gt;</span><span class="s1">R</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s5">/\s/</span><span class="s0">;</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">t</span><span class="s0">--&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charAt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">))){}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s5">/^\s+/</span><span class="s0">;</span><span class="s4">function </span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)+</span><span class="s3">1</span><span class="s0">).</span><span class="s1">replace</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s2">&quot;&quot;</span><span class="s0">):</span><span class="s1">e</span><span class="s0">}</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">o</span><span class="s0">;</span><span class="s4">var </span><span class="s1">u</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">85356</span><span class="s0">);</span><span class="s4">var </span><span class="s1">l</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">62579</span><span class="s0">);</span><span class="s4">var </span><span class="s1">d</span><span class="s0">=</span><span class="s3">0</span><span class="s0">/</span><span class="s3">0</span><span class="s0">;</span><span class="s4">var </span><span class="s1">f</span><span class="s0">=</span><span class="s5">/^[-+]0x[0-9a-f]+$/i</span><span class="s0">;</span><span class="s4">var </span><span class="s1">h</span><span class="s0">=</span><span class="s5">/^0b[01]+$/i</span><span class="s0">;</span><span class="s4">var </span><span class="s1">p</span><span class="s0">=</span><span class="s5">/^0o[0-7]+$/i</span><span class="s0">;</span><span class="s4">var </span><span class="s1">m</span><span class="s0">=</span><span class="s1">parseInt</span><span class="s0">;</span><span class="s4">function </span><span class="s1">g</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">==</span><span class="s2">&quot;number&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">l</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">d</span><span class="s0">}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">valueOf</span><span class="s0">==</span><span class="s2">&quot;function&quot;</span><span class="s0">?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">valueOf</span><span class="s0">():</span><span class="s1">e</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)?</span><span class="s1">t</span><span class="s0">+</span><span class="s2">&quot;&quot;</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">!=</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:+</span><span class="s1">e</span><span class="s0">}</span><span class="s1">e</span><span class="s0">=</span><span class="s1">c</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s1">h</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">||</span><span class="s1">p</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">m</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">2</span><span class="s0">),</span><span class="s1">n</span><span class="s0">?</span><span class="s3">2</span><span class="s0">:</span><span class="s3">8</span><span class="s0">):</span><span class="s1">f</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">d</span><span class="s0">:+</span><span class="s1">e</span><span class="s0">}</span><span class="s4">const </span><span class="s1">y</span><span class="s0">=</span><span class="s1">g</span><span class="s0">;</span><span class="s4">var </span><span class="s1">v</span><span class="s0">=</span><span class="s3">1</span><span class="s0">/</span><span class="s3">0</span><span class="s0">,</span><span class="s1">A</span><span class="s0">=</span><span class="s3">17976931348623157e292</span><span class="s0">;</span><span class="s4">function </span><span class="s1">T</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:</span><span class="s3">0</span><span class="s0">}</span><span class="s1">e</span><span class="s0">=</span><span class="s1">y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">v</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===-</span><span class="s1">v</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s3">0</span><span class="s0">?-</span><span class="s3">1</span><span class="s0">:</span><span class="s3">1</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">*</span><span class="s1">A</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s1">e</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:</span><span class="s3">0</span><span class="s0">}</span><span class="s4">const </span><span class="s1">R</span><span class="s0">=</span><span class="s1">T</span><span class="s0">},</span><span class="s3">29914</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">A</span><span class="s0">:()=&gt;</span><span class="s1">s</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">52712</span><span class="s0">);</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">A</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">%</span><span class="s3">1</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">===</span><span class="s1">t</span><span class="s0">?</span><span class="s1">n</span><span class="s0">?</span><span class="s1">t</span><span class="s0">-</span><span class="s1">n</span><span class="s0">:</span><span class="s1">t</span><span class="s0">:</span><span class="s3">0</span><span class="s0">}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">},</span><span class="s3">65606</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">exports</span><span class="s0">={};</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">var </span><span class="s1">r</span><span class="s0">;</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;setTimeout has not been defined&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">s</span><span class="s0">(){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;clearTimeout has not been defined&quot;</span><span class="s0">)}(</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">setTimeout</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">setTimeout</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">try</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">clearTimeout</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">clearTimeout</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">=</span><span class="s1">s</span><span class="s0">}}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">s</span><span class="s0">}})();</span><span class="s4">function </span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">setTimeout</span><span class="s0">){</span><span class="s4">return </span><span class="s1">setTimeout</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">((</span><span class="s1">n</span><span class="s0">===</span><span class="s1">i</span><span class="s0">||!</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">setTimeout</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">setTimeout</span><span class="s0">;</span><span class="s4">return </span><span class="s1">setTimeout</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)}</span><span class="s4">try</span><span class="s0">{</span><span class="s4">return </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)}}}</span><span class="s4">function </span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s1">clearTimeout</span><span class="s0">){</span><span class="s4">return </span><span class="s1">clearTimeout</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">((</span><span class="s1">r</span><span class="s0">===</span><span class="s1">s</span><span class="s0">||!</span><span class="s1">r</span><span class="s0">)&amp;&amp;</span><span class="s1">clearTimeout</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">clearTimeout</span><span class="s0">;</span><span class="s4">return </span><span class="s1">clearTimeout</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">try</span><span class="s0">{</span><span class="s4">return </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}}}</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=[];</span><span class="s4">var </span><span class="s1">u</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">var </span><span class="s1">l</span><span class="s0">;</span><span class="s4">var </span><span class="s1">d</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">function </span><span class="s1">f</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">u</span><span class="s0">||!</span><span class="s1">l</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s1">u</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">l</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s1">c</span><span class="s0">=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">d</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s1">h</span><span class="s0">()}}</span><span class="s4">function </span><span class="s1">h</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">var </span><span class="s1">e</span><span class="s0">=</span><span class="s1">a</span><span class="s0">(</span><span class="s1">f</span><span class="s0">);</span><span class="s1">u</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s1">c</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">l</span><span class="s0">=</span><span class="s1">c</span><span class="s0">;</span><span class="s1">c</span><span class="s0">=[];</span><span class="s4">while</span><span class="s0">(++</span><span class="s1">d</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">l</span><span class="s0">){</span><span class="s1">l</span><span class="s0">[</span><span class="s1">d</span><span class="s0">].</span><span class="s1">run</span><span class="s0">()}}</span><span class="s1">d</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">t</span><span class="s0">=</span><span class="s1">c</span><span class="s0">.</span><span class="s1">length</span><span class="s0">}</span><span class="s1">l</span><span class="s0">=</span><span class="s4">null</span><span class="s0">;</span><span class="s1">u</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">nextTick</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Array</span><span class="s0">(</span><span class="s1">arguments</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">arguments</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">arguments</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">n</span><span class="s0">++){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">-</span><span class="s3">1</span><span class="s0">]=</span><span class="s1">arguments</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}}</span><span class="s1">c</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">new </span><span class="s1">p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">&amp;&amp;!</span><span class="s1">u</span><span class="s0">){</span><span class="s1">a</span><span class="s0">(</span><span class="s1">h</span><span class="s0">)}};</span><span class="s4">function </span><span class="s1">p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fun</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">array</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">p</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">run</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fun</span><span class="s0">.</span><span class="s1">apply</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">array</span><span class="s0">)};</span><span class="s1">t</span><span class="s0">.</span><span class="s1">title</span><span class="s0">=</span><span class="s2">&quot;browser&quot;</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">browser</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">env</span><span class="s0">={};</span><span class="s1">t</span><span class="s0">.</span><span class="s1">argv</span><span class="s0">=[];</span><span class="s1">t</span><span class="s0">.</span><span class="s1">version</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">versions</span><span class="s0">={};</span><span class="s4">function </span><span class="s1">m</span><span class="s0">(){}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">on</span><span class="s0">=</span><span class="s1">m</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">addListener</span><span class="s0">=</span><span class="s1">m</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">once</span><span class="s0">=</span><span class="s1">m</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">off</span><span class="s0">=</span><span class="s1">m</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">removeListener</span><span class="s0">=</span><span class="s1">m</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">removeAllListeners</span><span class="s0">=</span><span class="s1">m</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">emit</span><span class="s0">=</span><span class="s1">m</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">prependListener</span><span class="s0">=</span><span class="s1">m</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">prependOnceListener</span><span class="s0">=</span><span class="s1">m</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">listeners</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[]};</span><span class="s1">t</span><span class="s0">.</span><span class="s1">binding</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;process.binding is not supported&quot;</span><span class="s0">)};</span><span class="s1">t</span><span class="s0">.</span><span class="s1">cwd</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">&quot;/&quot;</span><span class="s0">};</span><span class="s1">t</span><span class="s0">.</span><span class="s1">chdir</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;process.chdir is not supported&quot;</span><span class="s0">)};</span><span class="s1">t</span><span class="s0">.</span><span class="s1">umask</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s3">0</span><span class="s0">}},</span><span class="s3">59850</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CancellationTokenSource</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">=</span><span class="s4">void </span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">69590</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">78585</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">62676</span><span class="s0">);</span><span class="s4">var </span><span class="s1">a</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">None</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">({</span><span class="s1">isCancellationRequested</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">onCancellationRequested</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">Event</span><span class="s0">.</span><span class="s1">None</span><span class="s0">});</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Cancelled</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">({</span><span class="s1">isCancellationRequested</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">onCancellationRequested</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">Event</span><span class="s0">.</span><span class="s1">None</span><span class="s0">});</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">&amp;&amp;(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">None</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Cancelled</span><span class="s0">||</span><span class="s1">i</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">isCancellationRequested</span><span class="s0">)&amp;&amp;!!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">onCancellationRequested</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">a</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">=</span><span class="s1">a</span><span class="s0">={}));</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">((</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">default</span><span class="s0">)().</span><span class="s1">timer</span><span class="s0">.</span><span class="s1">setTimeout</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">(</span><span class="s1">t</span><span class="s0">),</span><span class="s3">0</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">dispose</span><span class="s0">(){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">()}}}));</span><span class="s4">class </span><span class="s1">c</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_isCancelled</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s1">cancel</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_isCancelled</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_isCancelled</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_emitter</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_emitter</span><span class="s0">.</span><span class="s1">fire</span><span class="s0">(</span><span class="s1">undefined</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">()}}}</span><span class="s1">get isCancellationRequested</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_isCancelled</span><span class="s0">}</span><span class="s1">get onCancellationRequested</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_isCancelled</span><span class="s0">){</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_emitter</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_emitter</span><span class="s0">=</span><span class="s4">new </span><span class="s1">s</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_emitter</span><span class="s0">.</span><span class="s1">event</span><span class="s0">}</span><span class="s1">dispose</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_emitter</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_emitter</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_emitter</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}}}</span><span class="s4">class </span><span class="s1">u</span><span class="s0">{</span><span class="s1">get token</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_token</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_token</span><span class="s0">=</span><span class="s4">new </span><span class="s1">c</span><span class="s0">}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_token</span><span class="s0">}</span><span class="s1">cancel</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_token</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_token</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">Cancelled</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_token</span><span class="s0">.</span><span class="s1">cancel</span><span class="s0">()}}</span><span class="s1">dispose</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_token</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_token</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">None</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_token </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_token</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">()}}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CancellationTokenSource</span><span class="s0">=</span><span class="s1">u</span><span class="s0">},</span><span class="s3">62676</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Event</span><span class="s0">=</span><span class="s4">void </span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">69590</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={</span><span class="s1">dispose</span><span class="s0">(){}};</span><span class="s1">e</span><span class="s0">.</span><span class="s1">None</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}})(</span><span class="s1">i</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Event</span><span class="s0">=</span><span class="s1">i</span><span class="s0">={}));</span><span class="s4">class </span><span class="s1">s</span><span class="s0">{</span><span class="s1">add</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s4">null</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_contexts</span><span class="s0">=[]}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_contexts</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">dispose</span><span class="s0">:()=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">remove</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)})}}</span><span class="s1">remove</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s4">null</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]===</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_contexts</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]===</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s3">1</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_contexts</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s3">1</span><span class="s0">);</span><span class="s4">return</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;When adding a listener with a context, you should remove it with the same context&quot;</span><span class="s0">)}}</span><span class="s1">invoke</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[]}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[],</span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">),</span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_contexts</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">a</span><span class="s0">&lt;</span><span class="s1">o</span><span class="s0">;</span><span class="s1">a</span><span class="s0">++){</span><span class="s4">try</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">a</span><span class="s0">].</span><span class="s1">apply</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">a</span><span class="s0">],</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">default</span><span class="s0">)().</span><span class="s1">console</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">isEmpty</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">||</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">}</span><span class="s1">dispose</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_contexts</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_options</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">get event</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_event</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_event</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">=</span><span class="s4">new </span><span class="s1">s</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_options</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_options</span><span class="s0">.</span><span class="s1">onFirstListenerAdd</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">isEmpty</span><span class="s0">()){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_options</span><span class="s0">.</span><span class="s1">onFirstListenerAdd</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">={</span><span class="s1">dispose</span><span class="s0">:()=&gt;{</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">remove</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">_noop</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_options</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_options</span><span class="s0">.</span><span class="s1">onLastListenerRemove</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">isEmpty</span><span class="s0">()){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_options</span><span class="s0">.</span><span class="s1">onLastListenerRemove</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}}};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_event</span><span class="s0">}</span><span class="s1">fire</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">invoke</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}}</span><span class="s1">dispose</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">=</span><span class="s1">a</span><span class="s0">;</span><span class="s1">a</span><span class="s0">.</span><span class="s1">_noop</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(){}},</span><span class="s3">78585</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">t</span><span class="s0">.</span><span class="s1">stringArray</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">array</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">func</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">error</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">number</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">string</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">=</span><span class="s4">void </span><span class="s3">0</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s4">true</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">false</span><span class="s0">}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">function </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">||</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">String</span><span class="s0">}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">string</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">||</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Number</span><span class="s0">}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">number</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">function </span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Error</span><span class="s0">}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">error</span><span class="s0">=</span><span class="s1">s</span><span class="s0">;</span><span class="s4">function </span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">func</span><span class="s0">=</span><span class="s1">a</span><span class="s0">;</span><span class="s4">function </span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">array</span><span class="s0">=</span><span class="s1">o</span><span class="s0">;</span><span class="s4">function </span><span class="s1">c</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">every</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)))}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">stringArray</span><span class="s0">=</span><span class="s1">c</span><span class="s0">},</span><span class="s3">69590</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s4">let </span><span class="s1">n</span><span class="s0">;</span><span class="s4">function </span><span class="s1">r</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`No runtime abstraction layer installed`</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`No runtime abstraction layer provided`</span><span class="s0">)}</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">install</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">r</span><span class="s0">||(</span><span class="s1">r</span><span class="s0">={}));</span><span class="s1">t</span><span class="s0">[</span><span class="s2">&quot;default&quot;</span><span class="s0">]=</span><span class="s1">r</span><span class="s0">},</span><span class="s3">14247</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">A</span><span class="s0">:()=&gt;</span><span class="s1">a</span><span class="s0">,</span><span class="s1">r</span><span class="s0">:()=&gt;</span><span class="s1">s</span><span class="s0">});</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">65606</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;(()=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">e</span><span class="s0">={</span><span class="s3">470</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s2">&quot;string&quot;</span><span class="s0">!=</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">)</span><span class="s4">throw new </span><span class="s1">TypeError</span><span class="s0">(</span><span class="s2">&quot;Path must be a string. Received &quot;</span><span class="s0">+</span><span class="s1">JSON</span><span class="s0">.</span><span class="s1">stringify</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">a</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">o</span><span class="s0">&lt;=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;++</span><span class="s1">o</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s3">47</span><span class="s0">===</span><span class="s1">n</span><span class="s0">)</span><span class="s4">break</span><span class="s0">;</span><span class="s1">n</span><span class="s0">=</span><span class="s3">47</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s3">47</span><span class="s0">===</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s1">o</span><span class="s0">-</span><span class="s3">1</span><span class="s0">||</span><span class="s3">1</span><span class="s0">===</span><span class="s1">a</span><span class="s0">);</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">o</span><span class="s0">-</span><span class="s3">1</span><span class="s0">&amp;&amp;</span><span class="s3">2</span><span class="s0">===</span><span class="s1">a</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&lt;</span><span class="s3">2</span><span class="s0">||</span><span class="s3">2</span><span class="s0">!==</span><span class="s1">i</span><span class="s0">||</span><span class="s3">46</span><span class="s0">!==</span><span class="s1">r</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">)||</span><span class="s3">46</span><span class="s0">!==</span><span class="s1">r</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">2</span><span class="s0">))</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">2</span><span class="s0">){</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">lastIndexOf</span><span class="s0">(</span><span class="s2">&quot;/&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">!==</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">){-</span><span class="s3">1</span><span class="s0">===</span><span class="s1">c</span><span class="s0">?(</span><span class="s1">r</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s3">0</span><span class="s0">):</span><span class="s1">i</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">)).</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">-</span><span class="s1">r</span><span class="s0">.</span><span class="s1">lastIndexOf</span><span class="s0">(</span><span class="s2">&quot;/&quot;</span><span class="s0">),</span><span class="s1">s</span><span class="s0">=</span><span class="s1">o</span><span class="s0">,</span><span class="s1">a</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">continue</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s3">2</span><span class="s0">===</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">||</span><span class="s3">1</span><span class="s0">===</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=</span><span class="s1">o</span><span class="s0">,</span><span class="s1">a</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">continue</span><span class="s0">}</span><span class="s1">t</span><span class="s0">&amp;&amp;(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">+=</span><span class="s2">&quot;/..&quot;</span><span class="s0">:</span><span class="s1">r</span><span class="s0">=</span><span class="s2">&quot;..&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s3">2</span><span class="s0">)}</span><span class="s4">else </span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">+=</span><span class="s2">&quot;/&quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">s</span><span class="s0">+</span><span class="s3">1</span><span class="s0">,</span><span class="s1">o</span><span class="s0">):</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">s</span><span class="s0">+</span><span class="s3">1</span><span class="s0">,</span><span class="s1">o</span><span class="s0">),</span><span class="s1">i</span><span class="s0">=</span><span class="s1">o</span><span class="s0">-</span><span class="s1">s</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">s</span><span class="s0">=</span><span class="s1">o</span><span class="s0">,</span><span class="s1">a</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s4">else </span><span class="s3">46</span><span class="s0">===</span><span class="s1">n</span><span class="s0">&amp;&amp;-</span><span class="s3">1</span><span class="s0">!==</span><span class="s1">a</span><span class="s0">?++</span><span class="s1">a</span><span class="s0">:</span><span class="s1">a</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">var </span><span class="s1">i</span><span class="s0">={</span><span class="s1">resolve</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=!</span><span class="s3">1</span><span class="s0">,</span><span class="s1">a</span><span class="s0">=</span><span class="s1">arguments</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">a</span><span class="s0">&gt;=-</span><span class="s3">1</span><span class="s0">&amp;&amp;!</span><span class="s1">s</span><span class="s0">;</span><span class="s1">a</span><span class="s0">--){</span><span class="s4">var </span><span class="s1">o</span><span class="s0">;</span><span class="s1">a</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">?</span><span class="s1">o</span><span class="s0">=</span><span class="s1">arguments</span><span class="s0">[</span><span class="s1">a</span><span class="s0">]:(</span><span class="s4">void </span><span class="s3">0</span><span class="s0">===</span><span class="s1">e</span><span class="s0">&amp;&amp;(</span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cwd</span><span class="s0">()),</span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">),</span><span class="s1">t</span><span class="s0">(</span><span class="s1">o</span><span class="s0">),</span><span class="s3">0</span><span class="s0">!==</span><span class="s1">o</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&amp;&amp;(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">o</span><span class="s0">+</span><span class="s2">&quot;/&quot;</span><span class="s0">+</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=</span><span class="s3">47</span><span class="s0">===</span><span class="s1">o</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">))}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,!</span><span class="s1">s</span><span class="s0">),</span><span class="s1">s</span><span class="s0">?</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">?</span><span class="s2">&quot;/&quot;</span><span class="s0">+</span><span class="s1">i</span><span class="s0">:</span><span class="s2">&quot;/&quot;</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s2">&quot;.&quot;</span><span class="s0">},</span><span class="s1">normalize</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s3">0</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)</span><span class="s4">return</span><span class="s2">&quot;.&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">47</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">),</span><span class="s1">i</span><span class="s0">=</span><span class="s3">47</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">);</span><span class="s4">return </span><span class="s3">0</span><span class="s0">!==(</span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,!</span><span class="s1">r</span><span class="s0">)).</span><span class="s1">length</span><span class="s0">||</span><span class="s1">r</span><span class="s0">||(</span><span class="s1">e</span><span class="s0">=</span><span class="s2">&quot;.&quot;</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">&amp;&amp;(</span><span class="s1">e</span><span class="s0">+=</span><span class="s2">&quot;/&quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">?</span><span class="s2">&quot;/&quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">:</span><span class="s1">e</span><span class="s0">},</span><span class="s1">isAbsolute</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s3">47</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)},</span><span class="s1">join</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s3">0</span><span class="s0">===</span><span class="s1">arguments</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)</span><span class="s4">return</span><span class="s2">&quot;.&quot;</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">arguments</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;++</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">arguments</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s1">t</span><span class="s0">(</span><span class="s1">r</span><span class="s0">),</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">&amp;&amp;(</span><span class="s4">void </span><span class="s3">0</span><span class="s0">===</span><span class="s1">e</span><span class="s0">?</span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">:</span><span class="s1">e</span><span class="s0">+=</span><span class="s2">&quot;/&quot;</span><span class="s0">+</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">return void </span><span class="s3">0</span><span class="s0">===</span><span class="s1">e</span><span class="s0">?</span><span class="s2">&quot;.&quot;</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">normalize</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)},</span><span class="s1">relative</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">t</span><span class="s0">(</span><span class="s1">n</span><span class="s0">),</span><span class="s1">e</span><span class="s0">===</span><span class="s1">n</span><span class="s0">)</span><span class="s4">return</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))===(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)))</span><span class="s4">return</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&amp;&amp;</span><span class="s3">47</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);++</span><span class="s1">r</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">,</span><span class="s1">a</span><span class="s0">=</span><span class="s1">s</span><span class="s0">-</span><span class="s1">r</span><span class="s0">,</span><span class="s1">o</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">o</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&amp;&amp;</span><span class="s3">47</span><span class="s0">===</span><span class="s1">n</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);++</span><span class="s1">o</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s1">o</span><span class="s0">,</span><span class="s1">u</span><span class="s0">=</span><span class="s1">a</span><span class="s0">&lt;</span><span class="s1">c</span><span class="s0">?</span><span class="s1">a</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">l</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">d</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">d</span><span class="s0">&lt;=</span><span class="s1">u</span><span class="s0">;++</span><span class="s1">d</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">d</span><span class="s0">===</span><span class="s1">u</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">&gt;</span><span class="s1">u</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s3">47</span><span class="s0">===</span><span class="s1">n</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">o</span><span class="s0">+</span><span class="s1">d</span><span class="s0">))</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">o</span><span class="s0">+</span><span class="s1">d</span><span class="s0">+</span><span class="s3">1</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s3">0</span><span class="s0">===</span><span class="s1">d</span><span class="s0">)</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">o</span><span class="s0">+</span><span class="s1">d</span><span class="s0">)}</span><span class="s4">else </span><span class="s1">a</span><span class="s0">&gt;</span><span class="s1">u</span><span class="s0">&amp;&amp;(</span><span class="s3">47</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">+</span><span class="s1">d</span><span class="s0">)?</span><span class="s1">l</span><span class="s0">=</span><span class="s1">d</span><span class="s0">:</span><span class="s3">0</span><span class="s0">===</span><span class="s1">d</span><span class="s0">&amp;&amp;(</span><span class="s1">l</span><span class="s0">=</span><span class="s3">0</span><span class="s0">));</span><span class="s4">break</span><span class="s0">}</span><span class="s4">var </span><span class="s1">f</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">+</span><span class="s1">d</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">o</span><span class="s0">+</span><span class="s1">d</span><span class="s0">))</span><span class="s4">break</span><span class="s0">;</span><span class="s3">47</span><span class="s0">===</span><span class="s1">f</span><span class="s0">&amp;&amp;(</span><span class="s1">l</span><span class="s0">=</span><span class="s1">d</span><span class="s0">)}</span><span class="s4">var </span><span class="s1">h</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s1">d</span><span class="s0">=</span><span class="s1">r</span><span class="s0">+</span><span class="s1">l</span><span class="s0">+</span><span class="s3">1</span><span class="s0">;</span><span class="s1">d</span><span class="s0">&lt;=</span><span class="s1">s</span><span class="s0">;++</span><span class="s1">d</span><span class="s0">)</span><span class="s1">d</span><span class="s0">!==</span><span class="s1">s</span><span class="s0">&amp;&amp;</span><span class="s3">47</span><span class="s0">!==</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">d</span><span class="s0">)||(</span><span class="s3">0</span><span class="s0">===</span><span class="s1">h</span><span class="s0">.</span><span class="s1">length</span><span class="s0">?</span><span class="s1">h</span><span class="s0">+=</span><span class="s2">&quot;..&quot;</span><span class="s0">:</span><span class="s1">h</span><span class="s0">+=</span><span class="s2">&quot;/..&quot;</span><span class="s0">);</span><span class="s4">return </span><span class="s1">h</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">?</span><span class="s1">h</span><span class="s0">+</span><span class="s1">n</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">o</span><span class="s0">+</span><span class="s1">l</span><span class="s0">):(</span><span class="s1">o</span><span class="s0">+=</span><span class="s1">l</span><span class="s0">,</span><span class="s3">47</span><span class="s0">===</span><span class="s1">n</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)&amp;&amp;++</span><span class="s1">o</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">o</span><span class="s0">))},</span><span class="s1">_makeLong</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">},</span><span class="s1">dirname</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s3">0</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)</span><span class="s4">return</span><span class="s2">&quot;.&quot;</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">),</span><span class="s1">r</span><span class="s0">=</span><span class="s3">47</span><span class="s0">===</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=!</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">a</span><span class="s0">&gt;=</span><span class="s3">1</span><span class="s0">;--</span><span class="s1">a</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s3">47</span><span class="s0">===(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">))){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">a</span><span class="s0">;</span><span class="s4">break</span><span class="s0">}}</span><span class="s4">else </span><span class="s1">s</span><span class="s0">=!</span><span class="s3">1</span><span class="s0">;</span><span class="s4">return</span><span class="s0">-</span><span class="s3">1</span><span class="s0">===</span><span class="s1">i</span><span class="s0">?</span><span class="s1">r</span><span class="s0">?</span><span class="s2">&quot;/&quot;</span><span class="s0">:</span><span class="s2">&quot;.&quot;</span><span class="s0">:</span><span class="s1">r</span><span class="s0">&amp;&amp;</span><span class="s3">1</span><span class="s0">===</span><span class="s1">i</span><span class="s0">?</span><span class="s2">&quot;//&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)},</span><span class="s1">basename</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">void </span><span class="s3">0</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;string&quot;</span><span class="s0">!=</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">)</span><span class="s4">throw new </span><span class="s1">TypeError</span><span class="s0">(</span><span class="s2">'&quot;ext&quot; argument must be a string'</span><span class="s0">);</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">var </span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">a</span><span class="s0">=!</span><span class="s3">0</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">void </span><span class="s3">0</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&lt;=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">===</span><span class="s1">e</span><span class="s0">)</span><span class="s4">return</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">c</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">;--</span><span class="s1">r</span><span class="s0">){</span><span class="s4">var </span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s3">47</span><span class="s0">===</span><span class="s1">u</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">a</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">+</span><span class="s3">1</span><span class="s0">;</span><span class="s4">break</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">-</span><span class="s3">1</span><span class="s0">===</span><span class="s1">c</span><span class="s0">&amp;&amp;(</span><span class="s1">a</span><span class="s0">=!</span><span class="s3">1</span><span class="s0">,</span><span class="s1">c</span><span class="s0">=</span><span class="s1">r</span><span class="s0">+</span><span class="s3">1</span><span class="s0">),</span><span class="s1">o</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">&amp;&amp;(</span><span class="s1">u</span><span class="s0">===</span><span class="s1">n</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)?-</span><span class="s3">1</span><span class="s0">==--</span><span class="s1">o</span><span class="s0">&amp;&amp;(</span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">):(</span><span class="s1">o</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=</span><span class="s1">c</span><span class="s0">))}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">===</span><span class="s1">s</span><span class="s0">?</span><span class="s1">s</span><span class="s0">=</span><span class="s1">c</span><span class="s0">:-</span><span class="s3">1</span><span class="s0">===</span><span class="s1">s</span><span class="s0">&amp;&amp;(</span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">for</span><span class="s0">(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">;--</span><span class="s1">r</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s3">47</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">a</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">+</span><span class="s3">1</span><span class="s0">;</span><span class="s4">break</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">-</span><span class="s3">1</span><span class="s0">===</span><span class="s1">s</span><span class="s0">&amp;&amp;(</span><span class="s1">a</span><span class="s0">=!</span><span class="s3">1</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">+</span><span class="s3">1</span><span class="s0">);</span><span class="s4">return</span><span class="s0">-</span><span class="s3">1</span><span class="s0">===</span><span class="s1">s</span><span class="s0">?</span><span class="s2">&quot;&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)},</span><span class="s1">extname</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=!</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">o</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">;--</span><span class="s1">o</span><span class="s0">){</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s3">47</span><span class="s0">!==</span><span class="s1">c</span><span class="s0">)-</span><span class="s3">1</span><span class="s0">===</span><span class="s1">i</span><span class="s0">&amp;&amp;(</span><span class="s1">s</span><span class="s0">=!</span><span class="s3">1</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">o</span><span class="s0">+</span><span class="s3">1</span><span class="s0">),</span><span class="s3">46</span><span class="s0">===</span><span class="s1">c</span><span class="s0">?-</span><span class="s3">1</span><span class="s0">===</span><span class="s1">n</span><span class="s0">?</span><span class="s1">n</span><span class="s0">=</span><span class="s1">o</span><span class="s0">:</span><span class="s3">1</span><span class="s0">!==</span><span class="s1">a</span><span class="s0">&amp;&amp;(</span><span class="s1">a</span><span class="s0">=</span><span class="s3">1</span><span class="s0">):-</span><span class="s3">1</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">&amp;&amp;(</span><span class="s1">a</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">);</span><span class="s4">else if</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">o</span><span class="s0">+</span><span class="s3">1</span><span class="s0">;</span><span class="s4">break</span><span class="s0">}}</span><span class="s4">return</span><span class="s0">-</span><span class="s3">1</span><span class="s0">===</span><span class="s1">n</span><span class="s0">||-</span><span class="s3">1</span><span class="s0">===</span><span class="s1">i</span><span class="s0">||</span><span class="s3">0</span><span class="s0">===</span><span class="s1">a</span><span class="s0">||</span><span class="s3">1</span><span class="s0">===</span><span class="s1">a</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">===</span><span class="s1">i</span><span class="s0">-</span><span class="s3">1</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">===</span><span class="s1">r</span><span class="s0">+</span><span class="s3">1</span><span class="s0">?</span><span class="s2">&quot;&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)},</span><span class="s1">format</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">null</span><span class="s0">===</span><span class="s1">e</span><span class="s0">||</span><span class="s2">&quot;object&quot;</span><span class="s0">!=</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">)</span><span class="s4">throw new </span><span class="s1">TypeError</span><span class="s0">(</span><span class="s2">'The &quot;pathObject&quot; argument must be of type Object. Received type '</span><span class="s0">+</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">);</span><span class="s4">return function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">dir</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">root</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">base</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">name</span><span class="s0">||</span><span class="s2">&quot;&quot;</span><span class="s0">)+(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ext</span><span class="s0">||</span><span class="s2">&quot;&quot;</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">?</span><span class="s1">n</span><span class="s0">===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">root</span><span class="s0">?</span><span class="s1">n</span><span class="s0">+</span><span class="s1">r</span><span class="s0">:</span><span class="s1">n</span><span class="s0">+</span><span class="s2">&quot;/&quot;</span><span class="s0">+</span><span class="s1">r</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)},</span><span class="s1">parse</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">var </span><span class="s1">n</span><span class="s0">={</span><span class="s1">root</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">dir</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">base</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">ext</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s3">0</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)</span><span class="s4">return </span><span class="s1">n</span><span class="s0">;</span><span class="s4">var </span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">),</span><span class="s1">s</span><span class="s0">=</span><span class="s3">47</span><span class="s0">===</span><span class="s1">i</span><span class="s0">;</span><span class="s1">s</span><span class="s0">?(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">root</span><span class="s0">=</span><span class="s2">&quot;/&quot;</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s3">1</span><span class="s0">):</span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">o</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">c</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">u</span><span class="s0">=!</span><span class="s3">0</span><span class="s0">,</span><span class="s1">l</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">d</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">l</span><span class="s0">&gt;=</span><span class="s1">r</span><span class="s0">;--</span><span class="s1">l</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s3">47</span><span class="s0">!==(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">l</span><span class="s0">)))-</span><span class="s3">1</span><span class="s0">===</span><span class="s1">c</span><span class="s0">&amp;&amp;(</span><span class="s1">u</span><span class="s0">=!</span><span class="s3">1</span><span class="s0">,</span><span class="s1">c</span><span class="s0">=</span><span class="s1">l</span><span class="s0">+</span><span class="s3">1</span><span class="s0">),</span><span class="s3">46</span><span class="s0">===</span><span class="s1">i</span><span class="s0">?-</span><span class="s3">1</span><span class="s0">===</span><span class="s1">a</span><span class="s0">?</span><span class="s1">a</span><span class="s0">=</span><span class="s1">l</span><span class="s0">:</span><span class="s3">1</span><span class="s0">!==</span><span class="s1">d</span><span class="s0">&amp;&amp;(</span><span class="s1">d</span><span class="s0">=</span><span class="s3">1</span><span class="s0">):-</span><span class="s3">1</span><span class="s0">!==</span><span class="s1">a</span><span class="s0">&amp;&amp;(</span><span class="s1">d</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">);</span><span class="s4">else if</span><span class="s0">(!</span><span class="s1">u</span><span class="s0">){</span><span class="s1">o</span><span class="s0">=</span><span class="s1">l</span><span class="s0">+</span><span class="s3">1</span><span class="s0">;</span><span class="s4">break</span><span class="s0">}</span><span class="s4">return</span><span class="s0">-</span><span class="s3">1</span><span class="s0">===</span><span class="s1">a</span><span class="s0">||-</span><span class="s3">1</span><span class="s0">===</span><span class="s1">c</span><span class="s0">||</span><span class="s3">0</span><span class="s0">===</span><span class="s1">d</span><span class="s0">||</span><span class="s3">1</span><span class="s0">===</span><span class="s1">d</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">===</span><span class="s1">c</span><span class="s0">-</span><span class="s3">1</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">===</span><span class="s1">o</span><span class="s0">+</span><span class="s3">1</span><span class="s0">?-</span><span class="s3">1</span><span class="s0">!==</span><span class="s1">c</span><span class="s0">&amp;&amp;(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">base</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s3">0</span><span class="s0">===</span><span class="s1">o</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">1</span><span class="s0">,</span><span class="s1">c</span><span class="s0">):</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">c</span><span class="s0">)):(</span><span class="s3">0</span><span class="s0">===</span><span class="s1">o</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">?(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">1</span><span class="s0">,</span><span class="s1">a</span><span class="s0">),</span><span class="s1">n</span><span class="s0">.</span><span class="s1">base</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">1</span><span class="s0">,</span><span class="s1">c</span><span class="s0">)):(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">a</span><span class="s0">),</span><span class="s1">n</span><span class="s0">.</span><span class="s1">base</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">c</span><span class="s0">)),</span><span class="s1">n</span><span class="s0">.</span><span class="s1">ext</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">c</span><span class="s0">)),</span><span class="s1">o</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">dir</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">-</span><span class="s3">1</span><span class="s0">):</span><span class="s1">s</span><span class="s0">&amp;&amp;(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">dir</span><span class="s0">=</span><span class="s2">&quot;/&quot;</span><span class="s0">),</span><span class="s1">n</span><span class="s0">},</span><span class="s1">sep</span><span class="s0">:</span><span class="s2">&quot;/&quot;</span><span class="s0">,</span><span class="s1">delimiter</span><span class="s0">:</span><span class="s2">&quot;:&quot;</span><span class="s0">,</span><span class="s1">win32</span><span class="s0">:</span><span class="s4">null</span><span class="s0">,</span><span class="s1">posix</span><span class="s0">:</span><span class="s4">null</span><span class="s0">};</span><span class="s1">i</span><span class="s0">.</span><span class="s1">posix</span><span class="s0">=</span><span class="s1">i</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">exports</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}},</span><span class="s1">t</span><span class="s0">={};</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s4">void </span><span class="s3">0</span><span class="s0">!==</span><span class="s1">i</span><span class="s0">)</span><span class="s4">return </span><span class="s1">i</span><span class="s0">.</span><span class="s1">exports</span><span class="s0">;</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]={</span><span class="s1">exports</span><span class="s0">:{}};</span><span class="s4">return </span><span class="s1">e</span><span class="s0">[</span><span class="s1">r</span><span class="s0">](</span><span class="s1">s</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">exports</span><span class="s0">,</span><span class="s1">n</span><span class="s0">),</span><span class="s1">s</span><span class="s0">.</span><span class="s1">exports</span><span class="s0">}</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r </span><span class="s4">in </span><span class="s1">t</span><span class="s0">)</span><span class="s1">n</span><span class="s0">.</span><span class="s1">o</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)&amp;&amp;!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:!</span><span class="s3">0</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s1">t</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]})},</span><span class="s1">n</span><span class="s0">.</span><span class="s1">o</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">),</span><span class="s1">n</span><span class="s0">.</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s2">&quot;undefined&quot;</span><span class="s0">!=</span><span class="s4">typeof </span><span class="s1">Symbol</span><span class="s0">&amp;&amp;</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">toStringTag</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">toStringTag</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s2">&quot;Module&quot;</span><span class="s0">}),</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:!</span><span class="s3">0</span><span class="s0">})};</span><span class="s4">var </span><span class="s1">s</span><span class="s0">={};(()=&gt;{</span><span class="s4">let </span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">r</span><span class="s0">(</span><span class="s1">s</span><span class="s0">),</span><span class="s1">n</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,{</span><span class="s1">URI</span><span class="s0">:()=&gt;</span><span class="s1">d</span><span class="s0">,</span><span class="s1">Utils</span><span class="s0">:()=&gt;</span><span class="s1">$</span><span class="s0">}),</span><span class="s2">&quot;object&quot;</span><span class="s0">==</span><span class="s4">typeof </span><span class="s1">r</span><span class="s0">)</span><span class="s1">e</span><span class="s0">=</span><span class="s2">&quot;win32&quot;</span><span class="s0">===</span><span class="s1">r</span><span class="s0">.</span><span class="s1">platform</span><span class="s0">;</span><span class="s4">else if</span><span class="s0">(</span><span class="s2">&quot;object&quot;</span><span class="s0">==</span><span class="s4">typeof </span><span class="s1">navigator</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">navigator</span><span class="s0">.</span><span class="s1">userAgent</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s2">&quot;Windows&quot;</span><span class="s0">)&gt;=</span><span class="s3">0</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s5">/^\w[\w\d+.-]*$/</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s5">/^\//</span><span class="s0">,</span><span class="s1">a</span><span class="s0">=</span><span class="s5">/^\/\//</span><span class="s0">;</span><span class="s4">function </span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scheme</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">)</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`[UriError]: Scheme is missing: {scheme: &quot;&quot;, authority: &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">authority</span><span class="s0">}</span><span class="s2">&quot;, path: &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">}</span><span class="s2">&quot;, query: &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">query</span><span class="s0">}</span><span class="s2">&quot;, fragment: &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fragment</span><span class="s0">}</span><span class="s2">&quot;}`</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scheme</span><span class="s0">&amp;&amp;!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scheme</span><span class="s0">))</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;[UriError]: Scheme contains illegal characters.&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">authority</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">))</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">'[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (&quot;/&quot;) character'</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">))</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">'[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (&quot;//&quot;)'</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">u</span><span class="s0">=</span><span class="s2">&quot;/&quot;</span><span class="s0">,</span><span class="s1">l</span><span class="s0">=</span><span class="s5">/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/</span><span class="s0">;</span><span class="s4">class </span><span class="s1">d</span><span class="s0">{</span><span class="s4">static </span><span class="s1">isUri</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">d</span><span class="s0">||!!</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;string&quot;</span><span class="s0">==</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">authority</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;string&quot;</span><span class="s0">==</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">fragment</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;string&quot;</span><span class="s0">==</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;string&quot;</span><span class="s0">==</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">query</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;string&quot;</span><span class="s0">==</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">scheme</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;string&quot;</span><span class="s0">==</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">fsPath</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s0">==</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">with</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s0">==</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">}</span><span class="s1">scheme</span><span class="s0">;</span><span class="s1">authority</span><span class="s0">;</span><span class="s1">path</span><span class="s0">;</span><span class="s1">query</span><span class="s0">;</span><span class="s1">fragment</span><span class="s0">;</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=!</span><span class="s3">1</span><span class="s0">){</span><span class="s2">&quot;object&quot;</span><span class="s0">==</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">?(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">scheme</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scheme</span><span class="s0">||</span><span class="s1">c</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">authority</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">authority</span><span class="s0">||</span><span class="s1">c</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">path</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">||</span><span class="s1">c</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">query</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">query</span><span class="s0">||</span><span class="s1">c</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fragment</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fragment</span><span class="s0">||</span><span class="s1">c</span><span class="s0">):(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">scheme</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">||</span><span class="s1">t</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:</span><span class="s2">&quot;file&quot;</span><span class="s0">}(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">authority</span><span class="s0">=</span><span class="s1">t</span><span class="s0">||</span><span class="s1">c</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">path</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;https&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;http&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;file&quot;</span><span class="s0">:</span><span class="s1">t</span><span class="s0">?</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]!==</span><span class="s1">u</span><span class="s0">&amp;&amp;(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">u</span><span class="s0">+</span><span class="s1">t</span><span class="s0">):</span><span class="s1">t</span><span class="s0">=</span><span class="s1">u</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">scheme</span><span class="s0">,</span><span class="s1">n</span><span class="s0">||</span><span class="s1">c</span><span class="s0">),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">query</span><span class="s0">=</span><span class="s1">r</span><span class="s0">||</span><span class="s1">c</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fragment</span><span class="s0">=</span><span class="s1">i</span><span class="s0">||</span><span class="s1">c</span><span class="s0">,</span><span class="s1">o</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">s</span><span class="s0">))}</span><span class="s1">get fsPath</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">y</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,!</span><span class="s3">1</span><span class="s0">)}</span><span class="s4">with</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">)</span><span class="s4">return this</span><span class="s0">;</span><span class="s4">let</span><span class="s0">{</span><span class="s1">scheme</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">authority</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">path</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">query</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">fragment</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return void </span><span class="s3">0</span><span class="s0">===</span><span class="s1">t</span><span class="s0">?</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">scheme</span><span class="s0">:</span><span class="s4">null</span><span class="s0">===</span><span class="s1">t</span><span class="s0">&amp;&amp;(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">c</span><span class="s0">),</span><span class="s4">void </span><span class="s3">0</span><span class="s0">===</span><span class="s1">n</span><span class="s0">?</span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">authority</span><span class="s0">:</span><span class="s4">null</span><span class="s0">===</span><span class="s1">n</span><span class="s0">&amp;&amp;(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">c</span><span class="s0">),</span><span class="s4">void </span><span class="s3">0</span><span class="s0">===</span><span class="s1">r</span><span class="s0">?</span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">path</span><span class="s0">:</span><span class="s4">null</span><span class="s0">===</span><span class="s1">r</span><span class="s0">&amp;&amp;(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">c</span><span class="s0">),</span><span class="s4">void </span><span class="s3">0</span><span class="s0">===</span><span class="s1">i</span><span class="s0">?</span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">query</span><span class="s0">:</span><span class="s4">null</span><span class="s0">===</span><span class="s1">i</span><span class="s0">&amp;&amp;(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">c</span><span class="s0">),</span><span class="s4">void </span><span class="s3">0</span><span class="s0">===</span><span class="s1">s</span><span class="s0">?</span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fragment</span><span class="s0">:</span><span class="s4">null</span><span class="s0">===</span><span class="s1">s</span><span class="s0">&amp;&amp;(</span><span class="s1">s</span><span class="s0">=</span><span class="s1">c</span><span class="s0">),</span><span class="s1">t</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">scheme</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">authority</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">path</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">query</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fragment</span><span class="s0">?</span><span class="s4">this</span><span class="s0">:</span><span class="s4">new </span><span class="s1">h</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">static </span><span class="s1">parse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=!</span><span class="s3">1</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">?</span><span class="s4">new </span><span class="s1">h</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s3">2</span><span class="s0">]||</span><span class="s1">c</span><span class="s0">,</span><span class="s1">R</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s3">4</span><span class="s0">]||</span><span class="s1">c</span><span class="s0">),</span><span class="s1">R</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s3">5</span><span class="s0">]||</span><span class="s1">c</span><span class="s0">),</span><span class="s1">R</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s3">7</span><span class="s0">]||</span><span class="s1">c</span><span class="s0">),</span><span class="s1">R</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s3">9</span><span class="s0">]||</span><span class="s1">c</span><span class="s0">),</span><span class="s1">t</span><span class="s0">):</span><span class="s4">new </span><span class="s1">h</span><span class="s0">(</span><span class="s1">c</span><span class="s0">,</span><span class="s1">c</span><span class="s0">,</span><span class="s1">c</span><span class="s0">,</span><span class="s1">c</span><span class="s0">,</span><span class="s1">c</span><span class="s0">)}</span><span class="s4">static </span><span class="s1">file</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">c</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&amp;&amp;(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/\\/g</span><span class="s0">,</span><span class="s1">u</span><span class="s0">)),</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]===</span><span class="s1">u</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]===</span><span class="s1">u</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s3">2</span><span class="s0">);-</span><span class="s3">1</span><span class="s0">===</span><span class="s1">e</span><span class="s0">?(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s3">2</span><span class="s0">),</span><span class="s1">t</span><span class="s0">=</span><span class="s1">u</span><span class="s0">):(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s3">2</span><span class="s0">,</span><span class="s1">e</span><span class="s0">),</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">u</span><span class="s0">)}</span><span class="s4">return new </span><span class="s1">h</span><span class="s0">(</span><span class="s2">&quot;file&quot;</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">c</span><span class="s0">,</span><span class="s1">c</span><span class="s0">)}</span><span class="s4">static </span><span class="s1">from</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">h</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scheme</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">authority</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">query</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fragment</span><span class="s0">);</span><span class="s4">return </span><span class="s1">o</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,!</span><span class="s3">0</span><span class="s0">),</span><span class="s1">t</span><span class="s0">}</span><span class="s1">toString</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=!</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return </span><span class="s1">v</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">toJSON</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">}</span><span class="s4">static </span><span class="s1">revive</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">d</span><span class="s0">)</span><span class="s4">return </span><span class="s1">e</span><span class="s0">;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">h</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">_formatted</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">external</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">_fsPath</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">_sep</span><span class="s0">===</span><span class="s1">f</span><span class="s0">?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fsPath</span><span class="s0">:</span><span class="s4">null</span><span class="s0">,</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">e</span><span class="s0">?</span><span class="s3">1</span><span class="s0">:</span><span class="s4">void </span><span class="s3">0</span><span class="s0">;</span><span class="s4">class </span><span class="s1">h </span><span class="s4">extends </span><span class="s1">d</span><span class="s0">{</span><span class="s1">_formatted</span><span class="s0">=</span><span class="s4">null</span><span class="s0">;</span><span class="s1">_fsPath</span><span class="s0">=</span><span class="s4">null</span><span class="s0">;</span><span class="s1">get fsPath</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_fsPath</span><span class="s0">||(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_fsPath</span><span class="s0">=</span><span class="s1">y</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,!</span><span class="s3">1</span><span class="s0">)),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_fsPath</span><span class="s0">}</span><span class="s1">toString</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=!</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">?</span><span class="s1">v</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,!</span><span class="s3">0</span><span class="s0">):(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_formatted</span><span class="s0">||(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_formatted</span><span class="s0">=</span><span class="s1">v</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,!</span><span class="s3">1</span><span class="s0">)),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_formatted</span><span class="s0">)}</span><span class="s1">toJSON</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">={</span><span class="s1">$mid</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_fsPath</span><span class="s0">&amp;&amp;(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fsPath</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_fsPath</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">_sep</span><span class="s0">=</span><span class="s1">f</span><span class="s0">),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_formatted</span><span class="s0">&amp;&amp;(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">external</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_formatted</span><span class="s0">),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">path</span><span class="s0">&amp;&amp;(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">path</span><span class="s0">),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">scheme</span><span class="s0">&amp;&amp;(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scheme</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">scheme</span><span class="s0">),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">authority</span><span class="s0">&amp;&amp;(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">authority</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">authority</span><span class="s0">),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">query</span><span class="s0">&amp;&amp;(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">query</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">query</span><span class="s0">),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fragment</span><span class="s0">&amp;&amp;(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fragment</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fragment</span><span class="s0">),</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">p</span><span class="s0">={</span><span class="s3">58</span><span class="s0">:</span><span class="s2">&quot;%3A&quot;</span><span class="s0">,</span><span class="s3">47</span><span class="s0">:</span><span class="s2">&quot;%2F&quot;</span><span class="s0">,</span><span class="s3">63</span><span class="s0">:</span><span class="s2">&quot;%3F&quot;</span><span class="s0">,</span><span class="s3">35</span><span class="s0">:</span><span class="s2">&quot;%23&quot;</span><span class="s0">,</span><span class="s3">91</span><span class="s0">:</span><span class="s2">&quot;%5B&quot;</span><span class="s0">,</span><span class="s3">93</span><span class="s0">:</span><span class="s2">&quot;%5D&quot;</span><span class="s0">,</span><span class="s3">64</span><span class="s0">:</span><span class="s2">&quot;%40&quot;</span><span class="s0">,</span><span class="s3">33</span><span class="s0">:</span><span class="s2">&quot;%21&quot;</span><span class="s0">,</span><span class="s3">36</span><span class="s0">:</span><span class="s2">&quot;%24&quot;</span><span class="s0">,</span><span class="s3">38</span><span class="s0">:</span><span class="s2">&quot;%26&quot;</span><span class="s0">,</span><span class="s3">39</span><span class="s0">:</span><span class="s2">&quot;%27&quot;</span><span class="s0">,</span><span class="s3">40</span><span class="s0">:</span><span class="s2">&quot;%28&quot;</span><span class="s0">,</span><span class="s3">41</span><span class="s0">:</span><span class="s2">&quot;%29&quot;</span><span class="s0">,</span><span class="s3">42</span><span class="s0">:</span><span class="s2">&quot;%2A&quot;</span><span class="s0">,</span><span class="s3">43</span><span class="s0">:</span><span class="s2">&quot;%2B&quot;</span><span class="s0">,</span><span class="s3">44</span><span class="s0">:</span><span class="s2">&quot;%2C&quot;</span><span class="s0">,</span><span class="s3">59</span><span class="s0">:</span><span class="s2">&quot;%3B&quot;</span><span class="s0">,</span><span class="s3">61</span><span class="s0">:</span><span class="s2">&quot;%3D&quot;</span><span class="s0">,</span><span class="s3">32</span><span class="s0">:</span><span class="s2">&quot;%20&quot;</span><span class="s0">};</span><span class="s4">function </span><span class="s1">m</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">s</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">s</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">&gt;=</span><span class="s3">97</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">&lt;=</span><span class="s3">122</span><span class="s0">||</span><span class="s1">a</span><span class="s0">&gt;=</span><span class="s3">65</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">&lt;=</span><span class="s3">90</span><span class="s0">||</span><span class="s1">a</span><span class="s0">&gt;=</span><span class="s3">48</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">&lt;=</span><span class="s3">57</span><span class="s0">||</span><span class="s3">45</span><span class="s0">===</span><span class="s1">a</span><span class="s0">||</span><span class="s3">46</span><span class="s0">===</span><span class="s1">a</span><span class="s0">||</span><span class="s3">95</span><span class="s0">===</span><span class="s1">a</span><span class="s0">||</span><span class="s3">126</span><span class="s0">===</span><span class="s1">a</span><span class="s0">||</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s3">47</span><span class="s0">===</span><span class="s1">a</span><span class="s0">||</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s3">91</span><span class="s0">===</span><span class="s1">a</span><span class="s0">||</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s3">93</span><span class="s0">===</span><span class="s1">a</span><span class="s0">||</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s3">58</span><span class="s0">===</span><span class="s1">a</span><span class="s0">)-</span><span class="s3">1</span><span class="s0">!==</span><span class="s1">i</span><span class="s0">&amp;&amp;(</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">encodeURIComponent</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)),</span><span class="s1">i</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">),</span><span class="s4">void </span><span class="s3">0</span><span class="s0">!==</span><span class="s1">r</span><span class="s0">&amp;&amp;(</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charAt</span><span class="s0">(</span><span class="s1">s</span><span class="s0">));</span><span class="s4">else</span><span class="s0">{</span><span class="s4">void </span><span class="s3">0</span><span class="s0">===</span><span class="s1">r</span><span class="s0">&amp;&amp;(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">));</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">p</span><span class="s0">[</span><span class="s1">a</span><span class="s0">];</span><span class="s4">void </span><span class="s3">0</span><span class="s0">!==</span><span class="s1">t</span><span class="s0">?(-</span><span class="s3">1</span><span class="s0">!==</span><span class="s1">i</span><span class="s0">&amp;&amp;(</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">encodeURIComponent</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)),</span><span class="s1">i</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">),</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">t</span><span class="s0">):-</span><span class="s3">1</span><span class="s0">===</span><span class="s1">i</span><span class="s0">&amp;&amp;(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">s</span><span class="s0">)}}</span><span class="s4">return</span><span class="s0">-</span><span class="s3">1</span><span class="s0">!==</span><span class="s1">i</span><span class="s0">&amp;&amp;(</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">encodeURIComponent</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">i</span><span class="s0">))),</span><span class="s4">void </span><span class="s3">0</span><span class="s0">!==</span><span class="s1">r</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">g</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">n</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s3">35</span><span class="s0">===</span><span class="s1">r</span><span class="s0">||</span><span class="s3">63</span><span class="s0">===</span><span class="s1">r</span><span class="s0">?(</span><span class="s4">void </span><span class="s3">0</span><span class="s0">===</span><span class="s1">t</span><span class="s0">&amp;&amp;(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)),</span><span class="s1">t</span><span class="s0">+=</span><span class="s1">p</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]):</span><span class="s4">void </span><span class="s3">0</span><span class="s0">!==</span><span class="s1">t</span><span class="s0">&amp;&amp;(</span><span class="s1">t</span><span class="s0">+=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])}</span><span class="s4">return void </span><span class="s3">0</span><span class="s0">!==</span><span class="s1">t</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">y</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">authority</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">path</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;file&quot;</span><span class="s0">===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">scheme</span><span class="s0">?</span><span class="s2">`//</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">authority</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">path</span><span class="s0">}</span><span class="s2">`</span><span class="s0">:</span><span class="s3">47</span><span class="s0">===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">path</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">path</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">1</span><span class="s0">)&gt;=</span><span class="s3">65</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">path</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">1</span><span class="s0">)&lt;=</span><span class="s3">90</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">path</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">1</span><span class="s0">)&gt;=</span><span class="s3">97</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">path</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">1</span><span class="s0">)&lt;=</span><span class="s3">122</span><span class="s0">)&amp;&amp;</span><span class="s3">58</span><span class="s0">===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">path</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">2</span><span class="s0">)?</span><span class="s1">n</span><span class="s0">?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">path</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">1</span><span class="s0">):</span><span class="s1">t</span><span class="s0">.</span><span class="s1">path</span><span class="s0">[</span><span class="s3">1</span><span class="s0">].</span><span class="s1">toLowerCase</span><span class="s0">()+</span><span class="s1">t</span><span class="s0">.</span><span class="s1">path</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">2</span><span class="s0">):</span><span class="s1">t</span><span class="s0">.</span><span class="s1">path</span><span class="s0">,</span><span class="s1">e</span><span class="s0">&amp;&amp;(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/\//g</span><span class="s0">,</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">)),</span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">v</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">?</span><span class="s1">g</span><span class="s0">:</span><span class="s1">m</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">,{</span><span class="s1">scheme</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">authority</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">path</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">query</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">fragment</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&amp;&amp;(</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">+=</span><span class="s2">&quot;:&quot;</span><span class="s0">),(</span><span class="s1">s</span><span class="s0">||</span><span class="s2">&quot;file&quot;</span><span class="s0">===</span><span class="s1">i</span><span class="s0">)&amp;&amp;(</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">u</span><span class="s0">,</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">u</span><span class="s0">),</span><span class="s1">s</span><span class="s0">){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s2">&quot;@&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(-</span><span class="s3">1</span><span class="s0">!==</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s1">s</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">+</span><span class="s3">1</span><span class="s0">),</span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">lastIndexOf</span><span class="s0">(</span><span class="s2">&quot;:&quot;</span><span class="s0">),-</span><span class="s3">1</span><span class="s0">===</span><span class="s1">e</span><span class="s0">?</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">n</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,!</span><span class="s3">1</span><span class="s0">,!</span><span class="s3">1</span><span class="s0">):(</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">n</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">e</span><span class="s0">),!</span><span class="s3">1</span><span class="s0">,!</span><span class="s3">1</span><span class="s0">),</span><span class="s1">r</span><span class="s0">+=</span><span class="s2">&quot;:&quot;</span><span class="s0">,</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">n</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">+</span><span class="s3">1</span><span class="s0">),!</span><span class="s3">1</span><span class="s0">,!</span><span class="s3">0</span><span class="s0">)),</span><span class="s1">r</span><span class="s0">+=</span><span class="s2">&quot;@&quot;</span><span class="s0">}</span><span class="s1">s</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">toLowerCase</span><span class="s0">(),</span><span class="s1">e</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">lastIndexOf</span><span class="s0">(</span><span class="s2">&quot;:&quot;</span><span class="s0">),-</span><span class="s3">1</span><span class="s0">===</span><span class="s1">e</span><span class="s0">?</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">n</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,!</span><span class="s3">1</span><span class="s0">,!</span><span class="s3">0</span><span class="s0">):(</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">n</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">e</span><span class="s0">),!</span><span class="s3">1</span><span class="s0">,!</span><span class="s3">0</span><span class="s0">),</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;=</span><span class="s3">3</span><span class="s0">&amp;&amp;</span><span class="s3">47</span><span class="s0">===</span><span class="s1">a</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)&amp;&amp;</span><span class="s3">58</span><span class="s0">===</span><span class="s1">a</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">2</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s1">e</span><span class="s0">&gt;=</span><span class="s3">65</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s3">90</span><span class="s0">&amp;&amp;(</span><span class="s1">a</span><span class="s0">=</span><span class="s2">`/</span><span class="s1">$</span><span class="s0">{</span><span class="s1">String</span><span class="s0">.</span><span class="s1">fromCharCode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">+</span><span class="s3">32</span><span class="s0">)}</span><span class="s2">:</span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">3</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;=</span><span class="s3">2</span><span class="s0">&amp;&amp;</span><span class="s3">58</span><span class="s0">===</span><span class="s1">a</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">1</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">);</span><span class="s1">e</span><span class="s0">&gt;=</span><span class="s3">65</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s3">90</span><span class="s0">&amp;&amp;(</span><span class="s1">a</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">String</span><span class="s0">.</span><span class="s1">fromCharCode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">+</span><span class="s3">32</span><span class="s0">)}</span><span class="s2">:</span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">2</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">)}</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">n</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,!</span><span class="s3">0</span><span class="s0">,!</span><span class="s3">1</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">o</span><span class="s0">&amp;&amp;(</span><span class="s1">r</span><span class="s0">+=</span><span class="s2">&quot;?&quot;</span><span class="s0">,</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">n</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,!</span><span class="s3">1</span><span class="s0">,!</span><span class="s3">1</span><span class="s0">)),</span><span class="s1">c</span><span class="s0">&amp;&amp;(</span><span class="s1">r</span><span class="s0">+=</span><span class="s2">&quot;#&quot;</span><span class="s0">,</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">t</span><span class="s0">?</span><span class="s1">c</span><span class="s0">:</span><span class="s1">m</span><span class="s0">(</span><span class="s1">c</span><span class="s0">,!</span><span class="s3">1</span><span class="s0">,!</span><span class="s3">1</span><span class="s0">)),</span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">A</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">return </span><span class="s1">decodeURIComponent</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">3</span><span class="s0">?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s3">3</span><span class="s0">)+</span><span class="s1">A</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">3</span><span class="s0">)):</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">T</span><span class="s0">=</span><span class="s5">/(%[0-9A-Za-z][0-9A-Za-z])+/g</span><span class="s0">;</span><span class="s4">function </span><span class="s1">R</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">match</span><span class="s0">(</span><span class="s1">T</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s1">T</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">A</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))):</span><span class="s1">e</span><span class="s0">}</span><span class="s4">var </span><span class="s1">E</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s3">470</span><span class="s0">);</span><span class="s4">const </span><span class="s1">k</span><span class="s0">=</span><span class="s1">E</span><span class="s0">.</span><span class="s1">posix</span><span class="s0">||</span><span class="s1">E</span><span class="s0">,</span><span class="s1">x</span><span class="s0">=</span><span class="s2">&quot;/&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">$</span><span class="s0">;!</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">joinPath</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">...t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">with</span><span class="s0">({</span><span class="s1">path</span><span class="s0">:</span><span class="s1">k</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">,</span><span class="s1">...t</span><span class="s0">)})},</span><span class="s1">e</span><span class="s0">.</span><span class="s1">resolvePath</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">...t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=!</span><span class="s3">1</span><span class="s0">;</span><span class="s1">n</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]!==</span><span class="s1">x</span><span class="s0">&amp;&amp;(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">x</span><span class="s0">+</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=!</span><span class="s3">0</span><span class="s0">);</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s1">k</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">...t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">r</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]===</span><span class="s1">x</span><span class="s0">&amp;&amp;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">authority</span><span class="s0">&amp;&amp;(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s3">1</span><span class="s0">)),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">with</span><span class="s0">({</span><span class="s1">path</span><span class="s0">:</span><span class="s1">i</span><span class="s0">})},</span><span class="s1">e</span><span class="s0">.</span><span class="s1">dirname</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s3">0</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">.</span><span class="s1">length</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">===</span><span class="s1">x</span><span class="s0">)</span><span class="s4">return </span><span class="s1">e</span><span class="s0">;</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">k</span><span class="s0">.</span><span class="s1">dirname</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">);</span><span class="s4">return </span><span class="s3">1</span><span class="s0">===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&amp;&amp;</span><span class="s3">46</span><span class="s0">===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)&amp;&amp;(</span><span class="s1">t</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">with</span><span class="s0">({</span><span class="s1">path</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})},</span><span class="s1">e</span><span class="s0">.</span><span class="s1">basename</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">k</span><span class="s0">.</span><span class="s1">basename</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">)},</span><span class="s1">e</span><span class="s0">.</span><span class="s1">extname</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">k</span><span class="s0">.</span><span class="s1">extname</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">path</span><span class="s0">)}}(</span><span class="s1">$</span><span class="s0">||(</span><span class="s1">$</span><span class="s0">={}))})(),</span><span class="s1">i</span><span class="s0">=</span><span class="s1">s</span><span class="s0">})();</span><span class="s4">const</span><span class="s0">{</span><span class="s1">URI</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">Utils</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">i</span><span class="s0">}}]);</span></pre>
</body>
</html>