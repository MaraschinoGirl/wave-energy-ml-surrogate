<html>
<head>
<title>100.cbc26eb447514f5af591.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
100.cbc26eb447514f5af591.js.map</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;100.cbc26eb447514f5af591.js?v=cbc26eb447514f5af591&quot;</span><span class="s0">,</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mCAAmC;;AAEnC;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;;;AAGR,4EAA4E;;AAE5E;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA,MAAM;AACN;AACA;;;AAGA;AACA,8BAA8B;;AAE9B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,EAAE;;;AAGF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,GAAG;;;AAGH;;AAEA;AACA;AACA;;AAEA;AACA,aAAa;AACb,YAAY;AACZ,YAAY;AACZ,eAAe;AACf,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,qCAAqC;;AAErC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA,IAAI;AACJ;;;AAGA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,wGAAwG,MAAM;AAC9G;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,6EAA6E,OAAO,MAAM;AAC1F;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4CAA4C;AAC5C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA,EAAE;AACF;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb,iNAAiN;;AAEjN;AACA;AACA;AACA;AACA;AACA,2CAA2C;;AAE3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,uBAAuB;AACzC;;AAEA,qBAAqB,2BAA2B;AAChD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wCAAwC;;AAExC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA;AACA,gCAAgC,UAAU,QAAQ;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA,oBAAoB,0BAA0B;AAC9C;AACA;;AAEA;AACA;AACA;;;AAGA;AACA,qBAAqB;;AAErB,oBAAoB,0BAA0B;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,YAAY,QAAQ,OAAO,SAAS;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE;AACtE;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,sCAAsC,OAAO;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;;AAElB;;AAEA;AACA;AACA,kBAAkB;;AAElB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,YAAY;AACZ;;;AAGA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,8CAA8C;;AAE9C,8CAA8C;;AAE9C;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA,IAAI;;;AAGJ,kBAAkB,0BAA0B;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B;;AAE9B;AACA;AACA;;AAEA,mBAAmB;;AAEnB;AACA;AACA,qEAAqE;AACrE;AACA;;AAEA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB;;AAEjB,kBAAkB,0BAA0B;AAC5C;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,8GAA8G;;AAE9G;;AAEA;AACA;AACA,uEAAuE;AACvE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;;AAEvD;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,oDAAoD;AACpD;;AAEA;AACA;AACA,uEAAuE;AACvE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,0BAA0B;AAC9C;AACA;;AAEA;AACA;;AAEA;AACA,8DAA8D;;AAE9D;AACA;AACA;AACA;AACA;;AAEA;;AAEA,oBAAoB,0BAA0B;AAC9C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAwD;;AAExD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA,mBAAmB;;AAEnB;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;;AAEnD;AACA,sDAAsD;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;;AAEpD;AACA;AACA;AACA;AACA;AACA,gEAAgE;;AAEhE;AACA;AACA;AACA,4DAA4D;;AAE5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE;;AAEtE,yDAAyD;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;;AAEzD;AACA;AACA,+DAA+D;;AAE/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;;AAEnD;AACA;AACA;AACA;AACA;AACA,mEAAmE;;AAEnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE;;AAElE;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;;AAEzD;AACA;AACA;AACA,2DAA2D;;AAE3D;AACA;AACA,6DAA6D;;AAE7D;AACA,0DAA0D;;AAE1D;AACA;AACA;AACA,+DAA+D;;AAE/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;;AAEA;AACA;AACA,gEAAgE;AAChE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;;AAEA,kEAAkE;;AAElE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE;;AAElE;AACA;AACA;AACA;AACA;AACA,2DAA2D;;AAE3D,4DAA4D;;AAE5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE;;AAEnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,+CAA+C,eAAe;;AAEtH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,KAAK;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,OAAO;AACxC,oCAAoC,OAAO;AAC3C,oCAAoC;AACpC,kCAAkC,OAAO;AACzC,oCAAoC,OAAO;AAC3C,oCAAoC;AACpC,iCAAiC;AACjC,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;;AAE5D,+DAA+D;;AAE/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;;AAE3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;;AAE5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;;AAE1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;;AAEnD,mDAAmD;;AAEnD,mDAAmD;;AAEnD,mDAAmD;;AAEnD,mDAAmD;;AAEnD,mDAAmD;;AAEnD,mDAAmD;;AAEnD,mDAAmD;;AAEnD,mDAAmD;;AAEnD,mDAAmD;;AAEnD,mDAAmD;;AAEnD,mDAAmD;;AAEnD,6DAA6D;AAC7D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE;;AAEpE;AACA,yDAAyD;;AAEzD,mEAAmE;AACnE;;AAEA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;;AAEA;;AAEA,gBAAgB,4BAA4B;AAC5C;AACA;AACA,EAAE;;;AAGF,wCAAwC;;AAExC,iBAAiB,yBAAyB;AAC1C;;AAEA;AACA,EAAE;;;AAGF;;AAEA,kBAAkB,sBAAsB;AACxC;;AAEA;AACA;AACA,EAAE;;;AAGF,iDAAiD;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;;AAElD,kDAAkD;AAClD;AACA;AACA;AACA;;AAEA;;AAEA,kBAAkB,sBAAsB;AACxC,kCAAkC;AAClC;AACA;;;AAGA,wDAAwD;;AAExD;AACA;AACA,wDAAwD;;AAExD;AACA;AACA,wDAAwD;;AAExD;AACA;AACA,wDAAwD;;AAExD;AACA;AACA,wDAAwD;;AAExD;AACA;AACA,wDAAwD;;AAExD;AACA;AACA,wDAAwD;;AAExD;AACA;AACA,wDAAwD;;AAExD;AACA;AACA,wDAAwD;;AAExD;AACA;;AAEA;AACA;AACA;AACA,0DAA0D;;AAE1D;AACA;AACA,0DAA0D;;AAE1D;AACA;AACA,IAAI;;AAEJ,EAAE;;;AAGF,gDAAgD;;AAEhD;AACA,kDAAkD;;AAElD,kBAAkB,UAAU;AAC5B;;AAEA,wDAAwD;;AAExD;AACA;AACA,wDAAwD;;AAExD;AACA;AACA,wDAAwD;;AAExD;AACA;AACA,wDAAwD;;AAExD;AACA;AACA,EAAE;AACF;AACA;AACA;;;AAGA;;AAEA,kBAAkB,yBAAyB;AAC3C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;;AAElC,kCAAkC;;AAElC;AACA,mCAAmC;;AAEnC;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,0BAA0B;;AAE1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA,sBAAsB,iBAAiB;AACvC;AACA;;AAEA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA,IAAI;AACJ;;AAEA;AACA;;AAEA;AACA,MAAM;AACN;;AAEA;AACA,MAAM;AACN;AACA,0FAA0F;;;AAG1F;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,IAAI;AACJ;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,kBAAkB,sBAAsB;AACxC;AACA;;AAEA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,kBAAkB,0BAA0B;AAC5C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;;AAEA;;AAEA;;AAEA,oBAAoB,wBAAwB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,IAAI,oCAAoC;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,kBAAkB,qBAAqB;AACvC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;AACA;AACA;AACA;;AAEA,oBAAoB,uBAAuB;AAC3C;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;;AAGA;AACA,uCAAuC;;AAEvC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,sDAAsD;AACrG;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,aAAa;AACpD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH,UAAU;AACV,UAAU;AACV,WAAW;AACX;AACA;AACA,GAAG;AACH,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,kBAAkB;AACpC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAkB,uBAAuB;AACzC;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;;;AAGJ,uCAAuC;AACvC;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;;;AAGA;AACA,4EAA4E;AAC5E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,uCAAuC;;AAEvC;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,SAAS,kBAAkB;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM,mCAAmC;AACzC;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN,4CAA4C;AAC5C;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oEAAoE;AACpE;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sDAAsD;AACtD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;;AAEA;AACA,6DAA6D,OAAO;AACpE;AACA;;AAEA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,kBAAkB,KAAK;;AAEvB;;AAEA,kBAAkB,uBAAuB;AACzC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;;AAEA;AACA;AACA,IAAI;;;AAGJ;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA,gDAAgD;AAChD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAoB,0BAA0B;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,oBAAoB,0BAA0B;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,8CAA8C;AAC9C;;AAEA;AACA,iCAAiC;AACjC,MAAM;AACN,iCAAiC;AACjC,MAAM;AACN,iCAAiC;AACjC,MAAM;AACN,uCAAuC;AACvC,MAAM;AACN,uCAAuC;AACvC,MAAM;AACN,uCAAuC;AACvC,MAAM;AACN,uCAAuC;AACvC,MAAM;AACN,uCAAuC;AACvC,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oEAAoE;AACpE;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gCAAgC,GAAG;AACnC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,kBAAkB,uBAAuB;AACzC;;AAEA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,QAAQ;AACR;AACA,kBAAkB;AAClB,QAAQ;AACR;AACA,kBAAkB;AAClB,QAAQ;AACR;AACA,sBAAsB;AACtB;AACA,QAAQ;AACR;;AAEA;AACA;AACA;AACA,UAAU;;AAEV,QAAQ;AACR;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mEAAmE;;AAEnE;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;AAGA,+DAA+D;;AAE/D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA+B;;AAE/B;;AAEA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;;AAEA,sBAAsB,oBAAoB;AAC1C;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA,IAAI,mBAAmB;AACvB;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;;AAEhD,uBAAuB;;AAEvB,qBAAqB;AACrB;;AAEA,0DAA0D;;AAE1D;AACA,IAAI;AACJ;AACA;AACA,IAAI;;;AAGJ,+DAA+D;;AAE/D,gEAAgE;AAChE,mDAAmD;AACnD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,4CAA4C;;AAE5C,0EAA0E;;AAE1E,gDAAgD;AAChD;AACA;AACA;AACA;;AAEA,2CAA2C;;AAE3C,iHAAiH;;AAEjH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP,4CAA4C;AAC5C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kEAAkE;AAClE;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAM;;;AAGN,qBAAqB,gEAAgE,UAAU;AAC/F;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0CAA0C;AAC1C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,OAAO;AACP,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA,0CAA0C;AAC1C;;AAEA,0EAA0E;;AAE1E;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,wMAAwM;;AAExM;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC,GAAG;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,sDAAsD;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,2HAA2H,IAAI;AAC/H;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,+BAA+B;AAC/B,iCAAiC,wBAAwB,GAAG,YAAY;AACxE;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,sDAAsD;AACtD;;AAEA,iFAAiF;;AAEjF,yFAAyF;;AAEzF;AACA,sCAAsC;AACtC,MAAM;;;AAGN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,MAAM;;;AAGN;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;;;AAGA;AACA,yCAAyC;;AAEzC;AACA,MAAM;AACN;AACA,yCAAyC;AACzC,MAAM;AACN;AACA;AACA,MAAM;AACN,2CAA2C;;AAE3C;AACA,MAAM;AACN;;AAEA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC;AACD;AACA;AACA,yCAAyC;AACzC;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG,YAAY,GAAG,GAAG;AACrB,kCAAkC,EAAE,UAAU,GAAG;;AAEjD;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,GAAG;;AAEJ;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN,uBAAuB;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,oDAAoD;;AAEpD;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA,0BAA0B;AAC1B;;AAEA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA,oBAAoB;;AAEpB,kBAAkB,uBAAuB;AACzC;AACA,kCAAkC;;AAElC;;AAEA,oBAAoB,qBAAqB;AACzC;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,wBAAwB;AACxB;;AAEA;AACA,gEAAgE;;AAEhE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX,6CAA6C;AAC7C;AACA;AACA,yBAAyB,eAAe,EAAE,eAAe;AACzD;AACA,iCAAiC,cAAc;AAC/C;;AAEA,gCAAgC,qBAAqB;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,UAAU;;;AAGV,wDAAwD;AACxD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAAgC;AAChC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;;;AAGJ,4BAA4B;;AAE5B,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF,+CAA+C,IAAI;AACnD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,oDAAoD;AACpD;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA,CAAC;;AAED,IAAI,KAAK;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA,oBAAoB,kBAAkB;AACtC;AACA;AACA;;AAEA;AACA;;AAEA;AACA,0EAA0E;AAC1E;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA,MAAM;AACN,4BAA4B;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA,uFAAuF;AACvF;AACA;AACA,sBAAsB,KAAK,KAAK;;AAEhC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN,8DAA8D;AAC9D;AACA;AACA;;AAEA,wDAAwD;;AAExD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gBAAgB;AAChB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA,2BAA2B;;AAE3B,6CAA6C;AAC7C;;AAEA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA,8CAA8C;AAC9C;AACA,qCAAqC;AACrC;AACA,UAAU;AACV,qCAAqC;;;AAGrC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA,MAAM,mCAAmC,QAAQ;;;AAGjD;AACA;AACA,MAAM;;AAEN;AACA;AACA;;AAEA;AACA;AACA,wBAAwB;AACxB,MAAM;;;AAGN;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,GAAG;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,iBAAiB;;AAEjB;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA,gJAAgJ;AAChJ;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,aAAa;AACpD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB,8BAA8B;AAC9B;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uBAAuB;AAC3B;AACA;AACA;AACA;AACA;AACA,IAAI,uBAAuB;AAC3B;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB;AACtB,IAAI;AACJ;;;AAGA,0EAA0E;;AAE1E,4GAA4G;;AAE5G,oFAAoF;AACpF;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;;;AAGJ,gDAAgD;AAChD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA,qBAAqB;;AAErB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA,4DAA4D;;AAE5D;AACA;AACA;AACA;AACA,MAAM;;;AAGN;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;;AAGA,gBAAgB;;AAEhB,kBAAkB;;AAElB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,+CAA+C;;AAE/C;AACA,kDAAkD;AAClD;AACA;;AAEA,uGAAuG;;AAEvG;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B;AAC5B,MAAM;AACN,4BAA4B;AAC5B;;AAEA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA,oGAAoG,mBAAmB,gHAAgH;;AAEvO,oSAAoS;;AAEpS,mGAAmG;AACnG;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;;;AAGJ;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC,GAAG;;AAEJ;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,CAAC,GAAG;AACJ;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,qBAAqB;AAC3C;AACA;AACA;AACA;;AAEA;AACA,sDAAsD;AACtD;;AAEA;AACA;AACA;AACA,MAAM;;;AAGN;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;;;AAGJ;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;;;AAGJ,sEAAsE;AACtE;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,8EAA8E;;AAE9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG,YAAY,OAAO,OAAO;AACxC;AACA,mFAAmF;AACnF;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,0FAA0F,mBAAmB;;AAE7G;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAM;;;AAGN;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,+CAA+C;AAC/C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,iCAAiC;;AAEjC,6BAA6B;;AAE7B;AACA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,yBAAyB;;AAEzB;AACA;AACA;AACA,2BAA2B;;AAE3B,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;;;AAGN,8BAA8B;;AAE9B;AACA,uBAAuB,mBAAmB;AAC1C,qCAAqC;AACrC;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB;;AAEpB;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;;;AAGN;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK,YAAY;;AAEjB;AACA;AACA,2EAA2E;;AAE3E,oEAAoE;;AAEpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,GAAG;;AAER;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA,MAAM;;;AAGN;AACA;AACA,2BAA2B;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,kCAAkC;;AAElC;AACA,MAAM;AACN;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;;AAEnD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB;;AAElB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,2BAA2B,yBAAyB;AACpD;AACA,GAAG;AACH,+CAA+C;AAC/C;AACA;AACA;;;AAGA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA,cAAc;;AAEd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAc,UAAU,IAAI;AAC5B;AACA,UAAU;AACV,cAAc,OAAO;AACrB,6FAA6F,OAAO;AACpG;AACA;;AAEA;AACA,MAAM;AACN,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA,yBAAyB,aAAa;AACtC,sBAAsB;AACtB,uBAAuB,2BAA2B;AAClD,4BAA4B;AAC5B,yBAAyB;;AAEzB;AACA;AACA;;AAEA;AACA,gBAAgB;;AAEhB;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;;;AAGJ,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;AAGA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,4BAA4B;;AAE5B;AACA,mBAAmB,YAAY;AAC/B,oDAAoD,YAAY;AAChE;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA,GAAG,sBAAsB;AACzB;AACA;;AAEA;AACA;AACA,uCAAuC;;AAEvC,sCAAsC;;AAEtC,uBAAuB;;AAEvB;AACA,oBAAoB,wBAAwB;AAC5C;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA,cAAc,uBAAuB;AACrC;AACA,gCAAgC;;AAEhC,8BAA8B;;AAE9B;AACA;AACA;;AAEA;;AAEA,gBAAgB,kBAAkB;AAClC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uBAAuB;AACvB;;AAEA;AACA;AACA,MAAM;AACN;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gCAAgC;;AAEhC,sBAAsB;;AAEtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA,+BAA+B;AAC/B;AACA,kDAAkD;AAClD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,gBAAgB,QAAQ;AACxB;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iDAAiD;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kBAAkB,uBAAuB;AACzC;AACA;;AAEA,oBAAoB,eAAe;AACnC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;;AAEA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iDAAiD,YAAY,GAAG;AAChE;AACA,iDAAiD;AACjD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0BAA0B,WAAW;AACrC;AACA;;AAEA;AACA;AACA;;AAEA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;;AAEA;;AAEA,sBAAsB,oBAAoB;AAC1C;AACA;;AAEA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;;AAEA,oBAAoB,yBAAyB;AAC7C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,cAAc;AACjB;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB,yBAAyB;AAC7C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,kBAAkB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,GAAG,GAAG;AACN;AACA;;AAEA,oBAAoB,eAAe;AACnC;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA,kBAAkB;AAClB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,IAAI,QAAQ,OAAO,OAAO;AAC1B;;;AAGA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC,GAAG;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,sBAAsB,OAAO;AAC7B;AACA;AACA,KAAK,oCAAoC;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA,gFAAgF;;AAEhF;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM;AACN,GAAG;;AAEH;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,mBAAmB,UAAU,eAAe;AAC5C;AACA;AACA;AACA;AACA,0BAA0B,IAAI,UAAU;;AAExC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,6BAA6B,UAAU;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,UAAU;AACvC;;AAEA;AACA,GAAG;;AAEH;AACA;AACA,CAAC,GAAG;AACJ,qBAAqB,IAAI;AACzB,UAAU,OAAO,OAAO,GAAG,GAAG,MAAM,MAAM,OAAO,MAAM;AACvD,IAAI,QAAQ,MAAM,OAAO;AACzB;AACA,IAAI,QAAQ;;AAEZ;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D,qDAAqD;AACrD;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC,GAAG;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC,GAAG;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC;AACD,0CAA0C,EAAE;AAC5C,sCAAsC;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA,CAAC;;AAED;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;;AAEA;;AAEA,oBAAoB,2BAA2B;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA;AACA;AACA;AACA,QAAQ,iCAAiC,gBAAgB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gDAAgD,iBAAiB,iBAAiB,iBAAiB;AACnG,QAAQ;;;AAGR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,MAAM;AACN;AACA,qDAAqD;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,CAAC,GAAG;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,IAAI;AACJ;;;AAGA;AACA;AACA,oEAAoE;;AAEpE;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA,2CAA2C;AAC3C,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB;AACxB,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,GAAG;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,MAAM;AACN;AACA,yBAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;;;AAGN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC,GAAG;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,6BAA6B;;AAE7B;AACA;;AAEA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;;;AAGJ,iFAAiF;;AAEjF,oDAAoD;AACpD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP,KAAK,YAAY;;AAEjB;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP,KAAK,YAAY;;AAEjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA,oBAAoB,iBAAiB;AACrC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,YAAY,MAAM,OAAO,KAAK,OAAO,GAAG,GAAG;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0BAA0B,iBAAiB;AAC3C;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,wDAAwD,EAAE;;AAE1D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA,mEAAmE;;AAEnE;;AAEA,sBAAsB,uBAAuB;AAC7C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA,8CAA8C;;AAE9C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,6EAA6E;;AAE7E;AACA,MAAM;AACN;AACA;;AAEA;AACA,+EAA+E;AAC/E;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,kCAAkC;AAClC;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,GAAG;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP,KAAK;AACL,IAAI;AACJ,uCAAuC;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP,KAAK;AACL,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,mCAAmC;;AAEnC;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA,+BAA+B;AAC/B,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA,oBAAoB,uBAAuB;AAC3C;AACA;;AAEA;AACA,IAAI;;;AAGJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF;AACnF;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA,oEAAoE,gCAAgC;AACpG;;AAEA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC,GAAG;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC,GAAG,oCAAoC;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC,GAAG;;AAEJ;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC,GAAG;;AAEJ;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK,GAAG;;AAER;;AAEA,oBAAoB,uBAAuB;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA,4EAA4E;;AAE5E,0BAA0B;;AAE1B,kBAAkB,uBAAuB;AACzC;;AAEA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,oDAAoD;AACpD;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH,uBAAuB,2BAA2B;;;AAGlD;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;AACD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,6EAA6E;;AAE7E,mEAAmE;;AAEnE;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,gFAAgF;AAChF;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,0BAA0B;AAChD;AACA;AACA;AACA,MAAM;;;AAGN;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK,YAAY;;AAEjB;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,oEAAoE;;AAEpE;AACA;AACA,uEAAuE;;AAEvE;AACA;AACA,uCAAuC;;AAEvC;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA,wEAAwE;AACxE;;AAEA,kBAAkB,kBAAkB;AACpC;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA,qCAAqC,OAAO,QAAQ;AACpD,gCAAgC,IAAI,UAAU,IAAI,WAAW,aAAa;AAC1E;;AAEA,sBAAsB,uBAAuB;AAC7C,kCAAkC;;AAElC;;AAEA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uBAAuB;;AAEvB;AACA,wBAAwB,0BAA0B;AAClD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,yBAAyB,2BAA2B;AACpD;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK,YAAY;;AAEjB;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;;;AAGA,sDAAsD;;AAEtD;AACA;AACA;;AAEA;AACA;AACA,MAAM;;;AAGN;AACA,iFAAiF;;AAEjF;AACA;AACA;AACA;AACA,MAAM;AACN,6CAA6C;;AAE7C;AACA;AACA,MAAM;;;AAGN;AACA,oDAAoD;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,kEAAkE;AAClE;;AAEA,sDAAsD;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO,YAAY;AACnB;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,+DAA+D;AAC/D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,yCAAyC;;AAEzC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAM;;;AAGN;;AAEA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA,MAAM;AACN;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,oDAAoD;;AAEpD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,MAAM;AACN;AACA,MAAM;;;AAGN;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;;AAEA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC;AACD;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT,WAAW;AACX;AACA;AACA,GAAG;AACH,eAAe;AACf;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA,gEAAgE;AAChE;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;;AAEzB;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,wDAAwD;;AAExD,oEAAoE;;AAEpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,mBAAmB;;AAEnB;;AAEA,oBAAoB,iBAAiB;AACrC;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;;AAEvC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,kDAAkD;;AAElD,6FAA6F;AAC7F,QAAQ;AACR;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;;;AAGA;AACA;AACA,oGAAoG;AACpG;;AAEA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAsB,4BAA4B;AAClD;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wCAAwC;AACxC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA,CAAC,GAAG,wBAAwB,IAAI,IAAI;AACpC,yCAAyC;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,GAAG,yBAAyB,IAAI,IAAI;AACrC,0CAA0C;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,GAAG,wBAAwB,IAAI,IAAI,IAAI;AACxC;AACA;AACA,4BAA4B;;AAE5B;AACA,qCAAqC;;AAErC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,CAAC,GAAG,oBAAoB,IAAI,IAAI;AAChC;AACA;AACA,8BAA8B,eAAe,aAAa;;AAE1D,0CAA0C,cAAc,IAAI,IAAI,uBAAuB,IAAI,IAAI;;AAE/F;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,CAAC,GAAG;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,eAAe;AACjC,CAAC,GAAG,eAAe,OAAO,OAAO;AACjC,iBAAiB,OAAO,OAAO;AAC/B,yCAAyC,OAAO,gBAAgB;;AAEhE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,uCAAuC,cAAc,sCAAsC;AAC3F;;AAEA;AACA,yCAAyC,cAAc,mDAAmD;AAC1G;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0DAA0D;AAC1D;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA,mFAAmF;;AAEnF;AACA,uCAAuC;;AAEvC;AACA;AACA,CAAC;AACD;AACA,uCAAuC;;AAEvC;AACA;AACA,CAAC;AACD;AACA;AACA,uBAAuB;;AAEvB;AACA;AACA,CAAC,GAAG;AACJ;AACA,iBAAiB;;AAEjB,0BAA0B;AAC1B,0BAA0B,IAAI;AAC9B,SAAS;AACT,WAAW;AACX,WAAW;AACX,aAAa;AACb,aAAa;;AAEb;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,8BAA8B,gBAAgB,aAAa;AAC3D,8BAA8B,iBAAiB,aAAa;AAC5D;AACA,yBAAyB,YAAY;AACrC,eAAe,WAAW,gBAAgB;;AAE1C,8CAA8C,cAAc,IAAI,SAAS;AACzE,yCAAyC,iBAAiB,OAAO,iBAAiB;AAClF,+CAA+C,cAAc,iBAAiB,SAAS,IAAI;;AAE3F,iCAAiC,EAAE,IAAI;;AAEvC,iCAAiC,EAAE;AACnC,iCAAiC,EAAE;AACnC,iCAAiC,EAAE;AACnC,iCAAiC,EAAE;AACnC,iCAAiC,EAAE;AACnC,iCAAiC,EAAE;AACnC,iCAAiC,EAAE;AACnC,kCAAkC,EAAE,IAAI;;AAExC,kCAAkC,EAAE;AACpC,kCAAkC,EAAE,IAAI;;AAExC,6BAA6B,EAAE,IAAI;AACnC;AACA;;AAEA,kCAAkC;;AAElC,kCAAkC,SAAS,IAAI;AAC/C,kCAAkC,SAAS,IAAI;AAC/C,kCAAkC,SAAS,IAAI,IAAI;;AAEnD,uCAAuC,EAAE,IAAI;;AAE7C,uCAAuC,OAAO,IAAI,IAAI;AACtD,sBAAsB,MAAM,UAAU,SAAS;AAC/C;AACA;AACA;;AAEA,oCAAoC,UAAU,mBAAmB,WAAW,IAAI;AAChF,YAAY,OAAO;AACnB;AACA,YAAY,SAAS;AACrB,mBAAmB,cAAc;;AAEjC,oCAAoC,UAAU,SAAS,UAAU,UAAU;AAC3E;AACA;AACA,sCAAsC,WAAW,KAAK,WAAW,cAAc,MAAM,UAAU,UAAU;AACzG,kCAAkC;;AAElC,qCAAqC,eAAe,QAAQ,KAAK,WAAW,OAAO,uBAAuB,OAAO,UAAU,eAAe;AAC1I,qCAAqC,WAAW,eAAe,IAAI,UAAU,eAAe;AAC5F,qCAAqC,WAAW,aAAa,IAAI,UAAU,eAAe;AAC1F,qCAAqC,WAAW,oBAAoB,GAAG,MAAM,UAAU,eAAe;AACtG,qCAAqC,WAAW,eAAe,MAAM,GAAG,MAAM,UAAU,eAAe;AACvG,qCAAqC,WAAW,eAAe,IAAI,GAAG,MAAM,UAAU,eAAe;AACrG,qCAAqC,WAAW,SAAS,IAAI,UAAU,eAAe,IAAI;;AAE1F;AACA,mCAAmC,gBAAgB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;;AAEA,yCAAyC,aAAa,SAAS,cAAc;AAC7E,yCAAyC,aAAa,SAAS,cAAc;AAC7E,yCAAyC,aAAa,SAAS,cAAc;AAC7E,yCAAyC,aAAa,SAAS,cAAc,IAAI;AACjF;AACA,UAAU,MAAM;AAChB,kBAAkB,EAAE,MAAM,EAAE,MAAM;AAClC;AACA;;AAEA,yBAAyB,iBAAiB,KAAK,MAAM;AACrD,kCAAkC;AAClC;AACA;AACA;AACA,sCAAsC,QAAQ;;AAE9C,oCAAoC,QAAQ;AAC5C,oCAAoC,QAAQ;AAC5C,oCAAoC,QAAQ;AAC5C,qCAAqC,SAAS;AAC9C,iCAAiC,KAAK;AACtC,iCAAiC,KAAK;AACtC,oCAAoC,QAAQ;AAC5C,sCAAsC,UAAU;AAChD,kCAAkC,MAAM;AACxC,kCAAkC,MAAM;AACxC,oCAAoC,QAAQ,IAAI,cAAc,UAAU,IAAI,UAAU,EAAE;;AAExF,mCAAmC,UAAU,EAAE,QAAQ,SAAS,IAAI,iBAAiB,QAAQ,6BAA6B;AAC1H,sBAAsB,EAAE;;AAExB,wDAAwD,kBAAkB,aAAa,iBAAiB,EAAE,qBAAqB,eAAe,OAAO,IAAI,MAAM;;AAE/J,+BAA+B,gBAAgB,GAAG,EAAE,IAAI,YAAY,QAAQ;AAC5E,gBAAgB,QAAQ;AACxB,kBAAkB,QAAQ;;AAE1B,gCAAgC,uBAAuB;AACvD,oCAAoC,mBAAmB;AACvD,sCAAsC,kBAAkB,IAAI,iBAAiB,QAAQ,GAAG,SAAS,iBAAiB;AAClH,UAAU,gBAAgB;AAC1B;;AAEA,yBAAyB,UAAU,WAAW,QAAQ,mBAAmB,IAAI;AAC7E,0BAA0B,UAAU,WAAW,QAAQ,oBAAoB,IAAI,IAAI;;AAEnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA,CAAC;AACD;AACA,oCAAoC;AACpC,OAAO;;AAEP;AACA;AACA,IAAI;AACJ;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA,CAAC;AACD;AACA;AACA,sCAAsC;AACtC;AACA;;AAEA,sCAAsC;AACtC;AACA;;AAEA;AACA;AACA,mCAAmC;AACnC,yBAAyB,SAAS,IAAI;AACtC;;AAEA,uCAAuC,YAAY,YAAY,WAAW,iBAAiB,IAAI,qBAAqB;AACpH;;AAEA,+BAA+B,KAAK,QAAQ,IAAI;;AAEhD,mCAAmC,UAAU;AAC7C,iBAAiB,IAAI,oBAAoB;AACzC;;AAEA,4BAA4B,IAAI;AAChC,+BAA+B,KAAK,QAAQ,IAAI;;AAEhD,kCAAkC,iBAAiB,IAAI,sBAAsB;AAC7E;;AAEA,gBAAgB,eAAe,KAAK,QAAQ,IAAI;;AAEhD,gCAAgC,IAAI,iBAAiB,IAAI,qBAAqB;AAC9E;;AAEA,+BAA+B,KAAK,QAAQ,IAAI;;AAEhD,sCAAsC,eAAe,cAAc,oBAAoB;AACvF;;AAEA,yCAAyC,KAAK,QAAQ,IAAI,eAAe,gBAAgB,sBAAsB;AAC/G;;AAEA,2CAA2C,KAAK,OAAO,IAAI,gBAAgB;;AAE3E,yCAAyC,eAAe;;AAExD,+CAA+C,aAAa;;AAE5D,4CAA4C,cAAc;;AAE1D,6CAA6C;;AAE7C;AACA,0CAA0C,EAAE,GAAG,EAAE;AACjD;AACA;AACA;AACA;;AAEA,yBAAyB,OAAO,IAAI;AACpC,CAAC,GAAG,iBAAiB,OAAO;AAC5B,MAAM,mBAAmB;AACzB;AACA,eAAe,KAAK,IAAI;AACxB;AACA,iBAAiB,MAAM,IAAI,MAAM,mBAAmB;AACpD,eAAe,KAAK,IAAI;AACxB,wBAAwB,mBAAmB;AAC3C;;AAEA,oCAAoC,YAAY,YAAY,YAAY,WAAW,eAAe,SAAS,kBAAkB,YAAY,YAAY,YAAY,WAAW;AAC5K,oDAAoD,aAAa,YAAY,YAAY,WAAW;AACpG,8BAA8B,SAAS,aAAa;AACpD,oDAAoD,aAAa,aAAa,aAAa,YAAY,MAAM,SAAS,YAAY;AAClI;AACA;AACA;AACA,iCAAiC;;AAEjC,yCAAyC,YAAY,8BAA8B,EAAE;AACrF;AACA;AACA;;AAEA,+BAA+B,cAAc,+BAA+B,OAAO,EAAE,qBAAqB,KAAK,IAAI,yBAAyB,QAAQ;AACpJ,YAAY;AACZ,2BAA2B,MAAM;AACjC;AACA;AACA,mCAAmC;AACnC,gCAAgC;AAChC,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC,cAAc,8BAA8B,qBAAqB,gBAAgB,yBAAyB,OAAO,IAAI;;AAEtJ,iCAAiC,cAAc,8BAA8B,qBAAqB,gBAAgB,yBAAyB,OAAO,IAAI,gCAAgC;AACtL,kBAAkB;AAClB,mBAAmB;AACnB;;AAEA;AACA;AACA,kCAAkC,KAAK,IAAI,qBAAqB;AAChE;AACA,gCAAgC;;AAEhC,qCAAqC,kBAAkB,SAAS;AAChE;;AAEA,uCAAuC,wBAAwB,IAAI,6BAA6B,oBAAoB,YAAY;;AAEhI,yCAAyC,eAAe,sBAAsB,aAAa,cAAc,MAAM,SAAS,cAAc,IAAI,6BAA6B,oBAAoB,aAAa;;AAExM,yCAAyC,eAAe,sBAAsB,cAAc,GAAG,MAAM,SAAS,cAAc,IAAI;AAChI,6BAA6B,kBAAkB,aAAa;;AAE5D,yCAAyC,eAAe,oBAAoB,cAAc,GAAG,MAAM,SAAS,wBAAwB,IAAI,4BAA4B,oBAAoB,aAAa,SAAS;;AAE9M,wCAAwC,eAAe,sBAAsB,cAAc,UAAU,IAAI,MAAM,SAAS,wBAAwB,IAAI,4BAA4B,kBAAkB,aAAa,SAAS;;AAExN,wCAAwC,eAAe,oBAAoB,cAAc,UAAU,IAAI,MAAM,SAAS,0BAA0B,IAAI,6BAA6B,UAAU,aAAa;;AAExM,yCAAyC,eAAe,WAAW,cAAc,cAAc,MAAM,SAAS,cAAc,IAAI;AAChI,6BAA6B,UAAU,aAAa;;AAEpD,yCAAyC,eAAe,WAAW,cAAc,YAAY,MAAM,SAAS,wBAAwB,IAAI,4BAA4B,SAAS,EAAE,SAAS,aAAa;;AAErM,wCAAwC,eAAe,UAAU,EAAE,UAAU,cAAc,cAAc,MAAM,SAAS,cAAc,IAAI,4BAA4B,SAAS,EAAE,SAAS,aAAa;;AAEvM,wCAAwC,eAAe,UAAU,EAAE,UAAU,cAAc,YAAY,MAAM,SAAS,0BAA0B,IAAI,gCAAgC,oBAAoB,aAAa;;AAErN,4CAA4C,eAAe,sBAAsB,cAAc,UAAU,MAAM,SAAS,wBAAwB,IAAI,gCAAgC,kBAAkB,aAAa;;AAEnN,4CAA4C,eAAe,oBAAoB,cAAc,UAAU,MAAM,SAAS,0BAA0B,IAAI,6BAA6B,oBAAoB,aAAa;;AAElN,yCAAyC,eAAe,sBAAsB,cAAc,OAAO,MAAM,SAAS,wBAAwB,IAAI,6BAA6B,kBAAkB,aAAa;;AAE1M,yCAAyC,eAAe,oBAAoB,cAAc,OAAO,MAAM,SAAS,0BAA0B,IAAI;;AAE9I,qCAAqC;;AAErC,oCAAoC;;AAEpC,qCAAqC;;AAErC,qCAAqC;;AAErC,qCAAqC;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;;AAE/C,oDAAoD;;AAEpD,8CAA8C;;AAE9C,qCAAqC,eAAe,cAAc,aAAa;AAC/E,0CAA0C,eAAe,cAAc,WAAW;AAClF,wCAAwC,kBAAkB,cAAc,aAAa;AACrF,6CAA6C,kBAAkB,cAAc,WAAW,IAAI;;AAE5F,sCAAsC,WAAW,UAAU,eAAe;AAC1E,gDAAgD,UAAU;AAC1D,gDAAgD,UAAU,IAAI;AAC9D;;AAEA,gDAAgD,UAAU;AAC1D,iDAAiD,WAAW;AAC5D,mDAAmD,WAAW,KAAK;AACnE,mDAAmD,YAAY,KAAK;AACpE,mDAAmD,kBAAkB,KAAK;AAC1E,oDAAoD,iBAAiB,KAAK,IAAI;AAC9E;;AAEA,0CAA0C,cAAc,OAAO;AAC/D,0CAA0C,cAAc,OAAO;AAC/D,sCAAsC,UAAU,OAAO;AACvD,0CAA0C,cAAc,OAAO;AAC/D,sCAAsC,UAAU,OAAO;AACvD,0CAA0C,cAAc,OAAO;AAC/D,0CAA0C,cAAc,EAAE;AAC1D,+CAA+C,mBAAmB,EAAE;AACpE,2CAA2C,eAAe,OAAO;AACjE,2CAA2C,eAAe,OAAO;AACjE,6CAA6C,iBAAiB,EAAE;AAChE,8CAA8C,kBAAkB,EAAE;AAClE,6CAA6C,iBAAiB,EAAE;AAChE,8CAA8C,kBAAkB,EAAE;AAClE,sCAAsC,UAAU,OAAO;AACvD,sCAAsC,UAAU,OAAO,IAAI;AAC3D;AACA;AACA;;AAEA,0CAA0C,gBAAgB,iBAAiB,MAAM,WAAW,eAAe;AAC3G,0CAA0C,iBAAiB,iBAAiB,MAAM,YAAY,eAAe;AAC7G,sCAAsC;;AAEtC,sCAAsC;;AAEtC,uCAAuC,gBAAgB,GAAG,gBAAgB,MAAM,WAAW,eAAe;AAC1G,uCAAuC,iBAAiB,mBAAmB,MAAM,YAAY,eAAe;AAC5G,mCAAmC;;AAEnC,mCAAmC;AACnC;AACA;AACA;AACA;;AAEA,mCAAmC,cAAc,MAAM,WAAW,aAAa,OAAO,UAAU,OAAO,SAAS,MAAM,OAAO,WAAW,OAAO,UAAU,QAAQ,IAAI,MAAM,UAAU;AACrL,8BAA8B;AAC9B;AACA;AACA;AACA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,EAAE;AAC/B,6BAA6B,EAAE;AAC/B,6BAA6B,EAAE;AAC/B;AACA;AACA,iCAAiC,EAAE;AACnC,gCAAgC,EAAE;AAClC;AACA,+BAA+B,EAAE;AACjC;AACA,iCAAiC,EAAE;AACnC,mCAAmC,EAAE;AACrC;AACA;AACA;AACA,mCAAmC,EAAE;AACrC,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,EAAE;AAClC;AACA,iCAAiC,EAAE;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,EAAE;AAChC,mCAAmC,EAAE;AACrC,8BAA8B,EAAE;AAChC,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA,iCAAiC,EAAE;AACnC,iCAAiC,EAAE;AACnC,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC,yCAAyC,4CAA4C,QAAQ;;AAE7F;AACA,gCAAgC,EAAE,IAAI;AACtC;AACA;;AAEA,gDAAgD,UAAU;AAC1D,gDAAgD,UAAU;AAC1D,uCAAuC,eAAe,MAAM,YAAY;AACxE;AACA;;AAEA,kCAAkC,SAAS,GAAG,EAAE;AAChD,kCAAkC,EAAE,GAAG,SAAS;AAChD,qCAAqC,SAAS,GAAG,SAAS;AAC1D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC,eAAe,MAAM,sBAAsB,sBAAsB,gBAAgB;AACpH,gCAAgC,SAAS,IAAI,MAAM,GAAG,mBAAmB,GAAG,mBAAmB,cAAc;AAC7G,gCAAgC,GAAG,KAAK,SAAS,OAAO,IAAI;AAC5D;AACA;;AAEA,yBAAyB,SAAS,IAAI;;AAEtC,mCAAmC,UAAU,GAAG;AAChD,qCAAqC,UAAU,GAAG;AAClD,mCAAmC,UAAU,GAAG;AAChD,kCAAkC,UAAU,GAAG;AAC/C,oCAAoC,UAAU,GAAG;AACjD,mCAAmC,MAAM,GAAG;AAC5C,qCAAqC,UAAU,GAAG;AAClD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,qCAAqC,UAAU,GAAG;AAClD,qCAAqC,UAAU,GAAG;AAClD,qCAAqC,UAAU,GAAG;AAClD,qCAAqC,UAAU,GAAG;AAClD,qCAAqC,UAAU,GAAG;AAClD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,mCAAmC,UAAU,GAAG;AAChD,mCAAmC,UAAU,GAAG;AAChD,mCAAmC,UAAU,GAAG;AAChD,mCAAmC,UAAU,GAAG;AAChD,mCAAmC,UAAU,GAAG;AAChD,sCAAsC,UAAU,GAAG;AACnD,sCAAsC,UAAU,GAAG;AACnD,sCAAsC,UAAU,GAAG;AACnD,sCAAsC,UAAU,GAAG;AACnD,sCAAsC,UAAU,GAAG;AACnD,sCAAsC,UAAU,GAAG;AACnD,sCAAsC,UAAU,GAAG;AACnD,sCAAsC,UAAU,GAAG;AACnD,sCAAsC,UAAU,GAAG;AACnD,sCAAsC,UAAU,GAAG;AACnD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,oCAAoC,UAAU,GAAG;AACjD,qCAAqC,UAAU,GAAG;AAClD,sCAAsC,UAAU,GAAG;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;;AAEtB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B;;AAE5B;AACA;AACA;;AAEA,+BAA+B;;AAE/B;AACA;AACA;AACA,QAAQ;AACR,MAAM;AACN;AACA;AACA;AACA;AACA,QAAQ;AACR,MAAM;;;AAGN;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,WAAW;AACX;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,uDAAuD,KAAK;AAC5D;AACA;AACA,qCAAqC;AACrC,eAAe,KAAK;AACpB;AACA;;AAEA;AACA;AACA,4CAA4C,IAAI;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,yBAAyB;AACzB;AACA,QAAQ,wBAAwB;AAChC;;AAEA;AACA,uCAAuC;AACvC;AACA,QAAQ;AACR,yIAAyI;AACzI;;AAEA;AACA,+DAA+D;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM,oCAAoC,4CAA4C,gBAAgB;AACtG;;;AAGA,yBAAyB,0CAA0C;AACnE;AACA;AACA;;AAEA,sBAAsB;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,sBAAsB,mBAAmB;AACzC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,qBAAqB,cAAc;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B;;AAE/B,sCAAsC,QAAQ;AAC9C;;AAEA;AACA;AACA;AACA;;AAEA,6BAA6B;;AAE7B;AACA;AACA,qCAAqC;AACrC,YAAY;AACZ;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,MAAM;;;AAGN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,WAAW;AACX;AACA;AACA,sCAAsC;AACtC;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;;;AAGA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,wBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;;AAEA,iEAAiE;;AAEjE,8BAA8B;;AAE9B;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,+CAA+C;;AAE/C,0BAA0B;;AAE1B;AACA;AACA;;AAEA,oBAAoB;AACpB,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,oBAAoB,oDAAoD;;AAExE,sCAAsC;AACtC;AACA;AACA,kBAAkB,IAAI;;AAEtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,8BAA8B;;AAE9B;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE;AACzE;;;AAGA;AACA;AACA;;AAEA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,0BAA0B;;AAE1B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,0DAA0D;;AAE1D;AACA;AACA,MAAM;;;AAGN;AACA;;AAEA;AACA;AACA,4BAA4B;;AAE5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA,wBAAwB;;AAExB;AACA;AACA;AACA;AACA,UAAU;AACV;;;AAGA;AACA;AACA,UAAU;;;AAGV;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;;AAExB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAU;;;AAGV;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAoB;;AAEpB;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;;AAGA,8DAA8D,KAAK;AACnE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB,eAAe;AACnC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAoB;;AAEpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA,6BAA6B,EAAE,YAAY,EAAE;;AAE7C;AACA;AACA;;AAEA;;AAEA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,yBAAyB;;AAEzB;;AAEA,qDAAqD;AACrD,0EAA0E,KAAK;AAC/E,MAAM;AACN;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB;;AAExB,sBAAsB;AACtB;;AAEA,wDAAwD,EAAE;;AAE1D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,2CAA2C;;AAE3C,2CAA2C;;AAE3C;AACA,2CAA2C;;AAE3C,2CAA2C;;AAE3C;AACA;AACA,MAAM;AACN,2CAA2C;AAC3C;AACA;;;AAGA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yDAAyD;;AAEzD,wBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wCAAwC,IAAI;AAC5C;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB,mBAAmB;AACnB;AACA,gCAAgC,MAAM;AACtC,gCAAgC;;AAEhC;AACA;AACA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA,oBAAoB,OAAO;AAC3B,wBAAwB;;AAExB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;;;AAGA;AACA;AACA;;AAEA,8BAA8B;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;;;AAGN;;AAEA;AACA;;AAEA;AACA,yBAAyB;AACzB,QAAQ;AACR,yBAAyB;AACzB;AACA,MAAM;;;AAGN;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;;;AAGR;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,mBAAmB,eAAe,GAAG;AACrC;;AAEA,oBAAoB;;AAEpB;AACA,sBAAsB,qBAAqB;AAC3C;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;;;AAGN;AACA;;AAEA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8CAA8C;;AAE9C;AACA,6BAA6B;;AAE7B;AACA,kDAAkD;AAClD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEuV&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/katex/dist/katex.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Lexing or parsing positional information for error reporting.</span><span class="s3">\n </span><span class="s1">* This object is immutable.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class SourceLocation {</span><span class="s3">\n  </span><span class="s1">// The + prefix indicates that these fields aren't writeable</span><span class="s3">\n  </span><span class="s1">// Lexer holding the input string.</span><span class="s3">\n  </span><span class="s1">// Start offset, zero-based inclusive.</span><span class="s3">\n  </span><span class="s1">// End offset, zero-based exclusive.</span><span class="s3">\n  </span><span class="s1">constructor(lexer, start, end) {</span><span class="s3">\n    </span><span class="s1">this.lexer = void 0;</span><span class="s3">\n    </span><span class="s1">this.start = void 0;</span><span class="s3">\n    </span><span class="s1">this.end = void 0;</span><span class="s3">\n    </span><span class="s1">this.lexer = lexer;</span><span class="s3">\n    </span><span class="s1">this.start = start;</span><span class="s3">\n    </span><span class="s1">this.end = end;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Merges two `SourceLocation`s from location providers, given they are</span><span class="s3">\n   </span><span class="s1">* provided in order of appearance.</span><span class="s3">\n   </span><span class="s1">* - Returns the first one's location if only the first is provided.</span><span class="s3">\n   </span><span class="s1">* - Returns a merged range of the first and the last if both are provided</span><span class="s3">\n   </span><span class="s1">*   and their lexers match.</span><span class="s3">\n   </span><span class="s1">* - Otherwise, returns null.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">static range(first, second) {</span><span class="s3">\n    </span><span class="s1">if (!second) {</span><span class="s3">\n      </span><span class="s1">return first &amp;&amp; first.loc;</span><span class="s3">\n    </span><span class="s1">} else if (!first || !first.loc || !second.loc || first.loc.lexer !== second.loc.lexer) {</span><span class="s3">\n      </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return new SourceLocation(first.loc.lexer, first.loc.start, second.loc.end);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Interface required to break circular dependency between Token, Lexer, and</span><span class="s3">\n </span><span class="s1">* ParseError.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The resulting token returned from `lex`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* It consists of the token text plus some position information.</span><span class="s3">\n </span><span class="s1">* The position information is essentially a range in an input string,</span><span class="s3">\n </span><span class="s1">* but instead of referencing the bare input string, we refer to the lexer.</span><span class="s3">\n </span><span class="s1">* That way it is possible to attach extra metadata to the input string,</span><span class="s3">\n </span><span class="s1">* like for example a file name or similar.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* The position information is optional, so it is OK to construct synthetic</span><span class="s3">\n </span><span class="s1">* tokens if appropriate. Not providing available position information may</span><span class="s3">\n </span><span class="s1">* lead to degraded error reporting, though.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class Token {</span><span class="s3">\n  </span><span class="s1">// don't expand the token</span><span class="s3">\n  </span><span class="s1">// used in </span><span class="s3">\\</span><span class="s1">noexpand</span><span class="s3">\n  </span><span class="s1">constructor(text, // the text of this token</span><span class="s3">\n  </span><span class="s1">loc) {</span><span class="s3">\n    </span><span class="s1">this.text = void 0;</span><span class="s3">\n    </span><span class="s1">this.loc = void 0;</span><span class="s3">\n    </span><span class="s1">this.noexpand = void 0;</span><span class="s3">\n    </span><span class="s1">this.treatAsRelax = void 0;</span><span class="s3">\n    </span><span class="s1">this.text = text;</span><span class="s3">\n    </span><span class="s1">this.loc = loc;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Given a pair of tokens (this and endToken), compute a `Token` encompassing</span><span class="s3">\n   </span><span class="s1">* the whole input range enclosed by these two.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">range(endToken, // last token of the range, inclusive</span><span class="s3">\n  </span><span class="s1">text // the text of the newly constructed token</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return new Token(text, SourceLocation.range(this, endToken));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This is the ParseError class, which is the main error thrown by KaTeX</span><span class="s3">\n </span><span class="s1">* functions when something has gone wrong. This is used to distinguish internal</span><span class="s3">\n </span><span class="s1">* errors from errors in the expression that the user provided.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* If possible, a caller should provide a Token or ParseNode with information</span><span class="s3">\n </span><span class="s1">* about where in the source string the problem occurred.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class ParseError {</span><span class="s3">\n  </span><span class="s1">// Error start position based on passed-in Token or ParseNode.</span><span class="s3">\n  </span><span class="s1">// Length of affected text based on passed-in Token or ParseNode.</span><span class="s3">\n  </span><span class="s1">// The underlying error message without any context added.</span><span class="s3">\n  </span><span class="s1">constructor(message, // The error message</span><span class="s3">\n  </span><span class="s1">token // An object providing position information</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">this.name = void 0;</span><span class="s3">\n    </span><span class="s1">this.position = void 0;</span><span class="s3">\n    </span><span class="s1">this.length = void 0;</span><span class="s3">\n    </span><span class="s1">this.rawMessage = void 0;</span><span class="s3">\n    </span><span class="s1">var error = </span><span class="s3">\&quot;</span><span class="s1">KaTeX parse error: </span><span class="s3">\&quot; </span><span class="s1">+ message;</span><span class="s3">\n    </span><span class="s1">var start;</span><span class="s3">\n    </span><span class="s1">var end;</span><span class="s3">\n    </span><span class="s1">var loc = token &amp;&amp; token.loc;</span><span class="s3">\n\n    </span><span class="s1">if (loc &amp;&amp; loc.start &lt;= loc.end) {</span><span class="s3">\n      </span><span class="s1">// If we have the input and a position, make the error a bit fancier</span><span class="s3">\n      </span><span class="s1">// Get the input</span><span class="s3">\n      </span><span class="s1">var input = loc.lexer.input; // Prepend some information</span><span class="s3">\n\n      </span><span class="s1">start = loc.start;</span><span class="s3">\n      </span><span class="s1">end = loc.end;</span><span class="s3">\n\n      </span><span class="s1">if (start === input.length) {</span><span class="s3">\n        </span><span class="s1">error += </span><span class="s3">\&quot; </span><span class="s1">at end of input: </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">error += </span><span class="s3">\&quot; </span><span class="s1">at position </span><span class="s3">\&quot; </span><span class="s1">+ (start + 1) + </span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">} // Underline token in question using combining underscores</span><span class="s3">\n\n\n      </span><span class="s1">var underlined = input.slice(start, end).replace(/[^]/g, </span><span class="s3">\&quot;</span><span class="s1">$&amp;</span><span class="s3">\\</span><span class="s1">u0332</span><span class="s3">\&quot;</span><span class="s1">); // Extract some context from the input and add it to the error</span><span class="s3">\n\n      </span><span class="s1">var left;</span><span class="s3">\n\n      </span><span class="s1">if (start &gt; 15) {</span><span class="s3">\n        </span><span class="s1">left = </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot; </span><span class="s1">+ input.slice(start - 15, start);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">left = input.slice(0, start);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">var right;</span><span class="s3">\n\n      </span><span class="s1">if (end + 15 &lt; input.length) {</span><span class="s3">\n        </span><span class="s1">right = input.slice(end, end + 15) + </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">right = input.slice(end);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">error += left + underlined + right;</span><span class="s3">\n    </span><span class="s1">} // Some hackery to make ParseError a prototype of Error</span><span class="s3">\n    </span><span class="s1">// See http://stackoverflow.com/a/8460753</span><span class="s3">\n    </span><span class="s1">// $FlowFixMe</span><span class="s3">\n\n\n    </span><span class="s1">var self = new Error(error);</span><span class="s3">\n    </span><span class="s1">self.name = </span><span class="s3">\&quot;</span><span class="s1">ParseError</span><span class="s3">\&quot;</span><span class="s1">; // $FlowFixMe</span><span class="s3">\n\n    </span><span class="s1">self.__proto__ = ParseError.prototype;</span><span class="s3">\n    </span><span class="s1">self.position = start;</span><span class="s3">\n\n    </span><span class="s1">if (start != null &amp;&amp; end != null) {</span><span class="s3">\n      </span><span class="s1">self.length = end - start;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">self.rawMessage = message;</span><span class="s3">\n    </span><span class="s1">return self;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">} // $FlowFixMe More hackery</span><span class="s3">\n\n\n</span><span class="s1">ParseError.prototype.__proto__ = Error.prototype;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This file contains a list of utility functions which are useful in other</span><span class="s3">\n </span><span class="s1">* files.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Return whether an element is contained in a list</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var contains = function contains(list, elem) {</span><span class="s3">\n  </span><span class="s1">return list.indexOf(elem) !== -1;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Provide a default value if a setting is undefined</span><span class="s3">\n </span><span class="s1">* NOTE: Couldn't use `T` as the output type due to facebook/flow#5022.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var deflt = function deflt(setting, defaultIfUndefined) {</span><span class="s3">\n  </span><span class="s1">return setting === undefined ? defaultIfUndefined : setting;</span><span class="s3">\n</span><span class="s1">}; // hyphenate and escape adapted from Facebook's React under Apache 2 license</span><span class="s3">\n\n\n</span><span class="s1">var uppercase = /([A-Z])/g;</span><span class="s3">\n\n</span><span class="s1">var hyphenate = function hyphenate(str) {</span><span class="s3">\n  </span><span class="s1">return str.replace(uppercase, </span><span class="s3">\&quot;</span><span class="s1">-$1</span><span class="s3">\&quot;</span><span class="s1">).toLowerCase();</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var ESCAPE_LOOKUP = {</span><span class="s3">\n  \&quot;</span><span class="s1">&amp;</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">&amp;amp;</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">&amp;gt;</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">&amp;lt;</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\&quot;\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">&amp;quot;</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">&amp;#x27;</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var ESCAPE_REGEX = /[&amp;&gt;&lt;</span><span class="s3">\&quot;</span><span class="s1">']/g;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Escapes text to prevent scripting attacks.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">function escape(text) {</span><span class="s3">\n  </span><span class="s1">return String(text).replace(ESCAPE_REGEX, match =&gt; ESCAPE_LOOKUP[match]);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Sometimes we want to pull out the innermost element of a group. In most</span><span class="s3">\n </span><span class="s1">* cases, this will just be the group itself, but when ordgroups and colors have</span><span class="s3">\n </span><span class="s1">* a single element, we want to pull that out.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var getBaseElem = function getBaseElem(group) {</span><span class="s3">\n  </span><span class="s1">if (group.type === </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">if (group.body.length === 1) {</span><span class="s3">\n      </span><span class="s1">return getBaseElem(group.body[0]);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return group;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else if (group.type === </span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">if (group.body.length === 1) {</span><span class="s3">\n      </span><span class="s1">return getBaseElem(group.body[0]);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return group;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else if (group.type === </span><span class="s3">\&quot;</span><span class="s1">font</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return getBaseElem(group.body);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return group;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* TeXbook algorithms often reference </span><span class="s3">\&quot;</span><span class="s1">character boxes</span><span class="s3">\&quot;</span><span class="s1">, which are simply groups</span><span class="s3">\n </span><span class="s1">* with a single character in them. To decide if something is a character box,</span><span class="s3">\n </span><span class="s1">* we find its innermost group, and see if it is a single character.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var isCharacterBox = function isCharacterBox(group) {</span><span class="s3">\n  </span><span class="s1">var baseElem = getBaseElem(group); // These are all they types of groups which hold single characters</span><span class="s3">\n\n  </span><span class="s1">return baseElem.type === </span><span class="s3">\&quot;</span><span class="s1">mathord</span><span class="s3">\&quot; </span><span class="s1">|| baseElem.type === </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot; </span><span class="s1">|| baseElem.type === </span><span class="s3">\&quot;</span><span class="s1">atom</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var assert = function assert(value) {</span><span class="s3">\n  </span><span class="s1">if (!value) {</span><span class="s3">\n    </span><span class="s1">throw new Error('Expected non-null, but got ' + String(value));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return value;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Return the protocol of a URL, or </span><span class="s3">\&quot;</span><span class="s1">_relative</span><span class="s3">\&quot; </span><span class="s1">if the URL does not specify a</span><span class="s3">\n </span><span class="s1">* protocol (and thus is relative), or `null` if URL has invalid protocol</span><span class="s3">\n </span><span class="s1">* (so should be outright rejected).</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">var protocolFromUrl = function protocolFromUrl(url) {</span><span class="s3">\n  </span><span class="s1">// Check for possible leading protocol.</span><span class="s3">\n  </span><span class="s1">// https://url.spec.whatwg.org/#url-parsing strips leading whitespace</span><span class="s3">\n  </span><span class="s1">// (U+20) or C0 control (U+00-U+1F) characters.</span><span class="s3">\n  </span><span class="s1">// eslint-disable-next-line no-control-regex</span><span class="s3">\n  </span><span class="s1">var protocol = /^[</span><span class="s3">\\</span><span class="s1">x00-</span><span class="s3">\\</span><span class="s1">x20]*([^</span><span class="s3">\\\\</span><span class="s1">/#?]*?)(:|&amp;#0*58|&amp;#x0*3a|&amp;colon)/i.exec(url);</span><span class="s3">\n\n  </span><span class="s1">if (!protocol) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">_relative</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} // Reject weird colons</span><span class="s3">\n\n\n  </span><span class="s1">if (protocol[2] !== </span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return null;</span><span class="s3">\n  </span><span class="s1">} // Reject invalid characters in scheme according to</span><span class="s3">\n  </span><span class="s1">// https://datatracker.ietf.org/doc/html/rfc3986#section-3.1</span><span class="s3">\n\n\n  </span><span class="s1">if (!/^[a-zA-Z][a-zA-Z0-9+</span><span class="s3">\\</span><span class="s1">-.]*$/.test(protocol[1])) {</span><span class="s3">\n    </span><span class="s1">return null;</span><span class="s3">\n  </span><span class="s1">} // Lowercase the protocol</span><span class="s3">\n\n\n  </span><span class="s1">return protocol[1].toLowerCase();</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var utils = {</span><span class="s3">\n  </span><span class="s1">contains,</span><span class="s3">\n  </span><span class="s1">deflt,</span><span class="s3">\n  </span><span class="s1">escape,</span><span class="s3">\n  </span><span class="s1">hyphenate,</span><span class="s3">\n  </span><span class="s1">getBaseElem,</span><span class="s3">\n  </span><span class="s1">isCharacterBox,</span><span class="s3">\n  </span><span class="s1">protocolFromUrl</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">/* eslint no-console:0 */</span><span class="s3">\n</span><span class="s1">// TODO: automatically generate documentation</span><span class="s3">\n</span><span class="s1">// TODO: check all properties on Settings exist</span><span class="s3">\n</span><span class="s1">// TODO: check the type of a property on Settings matches</span><span class="s3">\n</span><span class="s1">var SETTINGS_SCHEMA = {</span><span class="s3">\n  </span><span class="s1">displayMode: {</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Render math in display mode, which puts the math in </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">display style (so </span><span class="s3">\\\\</span><span class="s1">int and </span><span class="s3">\\\\</span><span class="s1">sum are large, for example), and </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">centers the math on the page on its own line.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">cli: </span><span class="s3">\&quot;</span><span class="s1">-d, --display-mode</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">output: {</span><span class="s3">\n    </span><span class="s1">type: {</span><span class="s3">\n      </span><span class="s1">enum: [</span><span class="s3">\&quot;</span><span class="s1">htmlAndMathml</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">html</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mathml</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Determines the markup language of the output.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">cli: </span><span class="s3">\&quot;</span><span class="s1">-F, --format &lt;type&gt;</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">leqno: {</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Render display math in leqno style (left-justified tags).</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">fleqn: {</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Render display math flush left.</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">throwOnError: {</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">default: true,</span><span class="s3">\n    </span><span class="s1">cli: </span><span class="s3">\&quot;</span><span class="s1">-t, --no-throw-on-error</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">cliDescription: </span><span class="s3">\&quot;</span><span class="s1">Render errors (in the color given by --error-color) ins</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">tead of throwing a ParseError exception when encountering an error.</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">errorColor: {</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">default: </span><span class="s3">\&quot;</span><span class="s1">#cc0000</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">cli: </span><span class="s3">\&quot;</span><span class="s1">-c, --error-color &lt;color&gt;</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">cliDescription: </span><span class="s3">\&quot;</span><span class="s1">A color string given in the format 'rgb' or 'rrggbb' </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">(no #). This option determines the color of errors rendered by the </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">-t option.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">cliProcessor: color =&gt; </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">+ color</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">macros: {</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">cli: </span><span class="s3">\&quot;</span><span class="s1">-m, --macro &lt;def&gt;</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">cliDescription: </span><span class="s3">\&quot;</span><span class="s1">Define custom macro of the form '</span><span class="s3">\\\\</span><span class="s1">foo:expansion' (use </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">multiple -m arguments for multiple macros).</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">cliDefault: [],</span><span class="s3">\n    </span><span class="s1">cliProcessor: (def, defs) =&gt; {</span><span class="s3">\n      </span><span class="s1">defs.push(def);</span><span class="s3">\n      </span><span class="s1">return defs;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">minRuleThickness: {</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Specifies a minimum thickness, in ems, for fraction lines,</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot; </span><span class="s1">`</span><span class="s3">\\\\</span><span class="s1">sqrt` top lines, `{array}` vertical lines, `</span><span class="s3">\\\\</span><span class="s1">hline`, </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">`</span><span class="s3">\\\\</span><span class="s1">hdashline`, `</span><span class="s3">\\\\</span><span class="s1">underline`, `</span><span class="s3">\\\\</span><span class="s1">overline`, and the borders of </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">`</span><span class="s3">\\\\</span><span class="s1">fbox`, `</span><span class="s3">\\\\</span><span class="s1">boxed`, and `</span><span class="s3">\\\\</span><span class="s1">fcolorbox`.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">processor: t =&gt; Math.max(0, t),</span><span class="s3">\n    </span><span class="s1">cli: </span><span class="s3">\&quot;</span><span class="s1">--min-rule-thickness &lt;size&gt;</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">cliProcessor: parseFloat</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">colorIsTextColor: {</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Makes </span><span class="s3">\\\\</span><span class="s1">color behave like LaTeX's 2-argument </span><span class="s3">\\\\</span><span class="s1">textcolor, </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">instead of LaTeX's one-argument </span><span class="s3">\\\\</span><span class="s1">color mode change.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">cli: </span><span class="s3">\&quot;</span><span class="s1">-b, --color-is-text-color</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">strict: {</span><span class="s3">\n    </span><span class="s1">type: [{</span><span class="s3">\n      </span><span class="s1">enum: [</span><span class="s3">\&quot;</span><span class="s1">warn</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">ignore</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Turn on strict / LaTeX faithfulness mode, which throws an </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">error if the input uses features that are not supported by LaTeX.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">cli: </span><span class="s3">\&quot;</span><span class="s1">-S, --strict</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">cliDefault: false</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">trust: {</span><span class="s3">\n    </span><span class="s1">type: [</span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Trust the input, enabling all HTML features such as </span><span class="s3">\\\\</span><span class="s1">url.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">cli: </span><span class="s3">\&quot;</span><span class="s1">-T, --trust</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">maxSize: {</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">default: Infinity,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">If non-zero, all user-specified sizes, e.g. in </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">rule{500em}{500em}, will be capped to maxSize ems. Otherwise, </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">elements and spaces can be arbitrarily large</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">processor: s =&gt; Math.max(0, s),</span><span class="s3">\n    </span><span class="s1">cli: </span><span class="s3">\&quot;</span><span class="s1">-s, --max-size &lt;n&gt;</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">cliProcessor: parseInt</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">maxExpand: {</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">default: 1000,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Limit the number of macro expansions to the specified </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">number, to prevent e.g. infinite macro loops. If set to Infinity, </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">the macro expander will try to fully expand as in LaTeX.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">processor: n =&gt; Math.max(0, n),</span><span class="s3">\n    </span><span class="s1">cli: </span><span class="s3">\&quot;</span><span class="s1">-e, --max-expand &lt;n&gt;</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">cliProcessor: n =&gt; n === </span><span class="s3">\&quot;</span><span class="s1">Infinity</span><span class="s3">\&quot; </span><span class="s1">? Infinity : parseInt(n)</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">globalGroup: {</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">cli: false</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">function getDefaultValue(schema) {</span><span class="s3">\n  </span><span class="s1">if (schema.default) {</span><span class="s3">\n    </span><span class="s1">return schema.default;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var type = schema.type;</span><span class="s3">\n  </span><span class="s1">var defaultType = Array.isArray(type) ? type[0] : type;</span><span class="s3">\n\n  </span><span class="s1">if (typeof defaultType !== 'string') {</span><span class="s3">\n    </span><span class="s1">return defaultType.enum[0];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">switch (defaultType) {</span><span class="s3">\n    </span><span class="s1">case 'boolean':</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n\n    </span><span class="s1">case 'string':</span><span class="s3">\n      </span><span class="s1">return '';</span><span class="s3">\n\n    </span><span class="s1">case 'number':</span><span class="s3">\n      </span><span class="s1">return 0;</span><span class="s3">\n\n    </span><span class="s1">case 'object':</span><span class="s3">\n      </span><span class="s1">return {};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The main Settings object</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* The current options stored are:</span><span class="s3">\n </span><span class="s1">*  - displayMode: Whether the expression should be typeset as inline math</span><span class="s3">\n </span><span class="s1">*                 (false, the default), meaning that the math starts in</span><span class="s3">\n </span><span class="s1">*                 </span><span class="s3">\\</span><span class="s1">textstyle and is placed in an inline-block); or as display</span><span class="s3">\n </span><span class="s1">*                 math (true), meaning that the math starts in </span><span class="s3">\\</span><span class="s1">displaystyle</span><span class="s3">\n </span><span class="s1">*                 and is placed in a block with vertical margin.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">class Settings {</span><span class="s3">\n  </span><span class="s1">constructor(options) {</span><span class="s3">\n    </span><span class="s1">this.displayMode = void 0;</span><span class="s3">\n    </span><span class="s1">this.output = void 0;</span><span class="s3">\n    </span><span class="s1">this.leqno = void 0;</span><span class="s3">\n    </span><span class="s1">this.fleqn = void 0;</span><span class="s3">\n    </span><span class="s1">this.throwOnError = void 0;</span><span class="s3">\n    </span><span class="s1">this.errorColor = void 0;</span><span class="s3">\n    </span><span class="s1">this.macros = void 0;</span><span class="s3">\n    </span><span class="s1">this.minRuleThickness = void 0;</span><span class="s3">\n    </span><span class="s1">this.colorIsTextColor = void 0;</span><span class="s3">\n    </span><span class="s1">this.strict = void 0;</span><span class="s3">\n    </span><span class="s1">this.trust = void 0;</span><span class="s3">\n    </span><span class="s1">this.maxSize = void 0;</span><span class="s3">\n    </span><span class="s1">this.maxExpand = void 0;</span><span class="s3">\n    </span><span class="s1">this.globalGroup = void 0;</span><span class="s3">\n    </span><span class="s1">// allow null options</span><span class="s3">\n    </span><span class="s1">options = options || {};</span><span class="s3">\n\n    </span><span class="s1">for (var prop in SETTINGS_SCHEMA) {</span><span class="s3">\n      </span><span class="s1">if (SETTINGS_SCHEMA.hasOwnProperty(prop)) {</span><span class="s3">\n        </span><span class="s1">// $FlowFixMe</span><span class="s3">\n        </span><span class="s1">var schema = SETTINGS_SCHEMA[prop]; // TODO: validate options</span><span class="s3">\n        </span><span class="s1">// $FlowFixMe</span><span class="s3">\n\n        </span><span class="s1">this[prop] = options[prop] !== undefined ? schema.processor ? schema.processor(options[prop]) : options[prop] : getDefaultValue(schema);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Report nonstrict (non-LaTeX-compatible) input.</span><span class="s3">\n   </span><span class="s1">* Can safely not be called if `this.strict` is false in JavaScript.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">reportNonstrict(errorCode, errorMsg, token) {</span><span class="s3">\n    </span><span class="s1">var strict = this.strict;</span><span class="s3">\n\n    </span><span class="s1">if (typeof strict === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// Allow return value of strict function to be boolean or string</span><span class="s3">\n      </span><span class="s1">// (or null/undefined, meaning no further processing).</span><span class="s3">\n      </span><span class="s1">strict = strict(errorCode, errorMsg, token);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (!strict || strict === </span><span class="s3">\&quot;</span><span class="s1">ignore</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">} else if (strict === true || strict === </span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">LaTeX-incompatible input and strict mode is set to 'error': </span><span class="s3">\&quot; </span><span class="s1">+ (errorMsg + </span><span class="s3">\&quot; </span><span class="s1">[</span><span class="s3">\&quot; </span><span class="s1">+ errorCode + </span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot;</span><span class="s1">), token);</span><span class="s3">\n    </span><span class="s1">} else if (strict === </span><span class="s3">\&quot;</span><span class="s1">warn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">typeof console !== </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; console.warn(</span><span class="s3">\&quot;</span><span class="s1">LaTeX-incompatible input and strict mode is set to 'warn': </span><span class="s3">\&quot; </span><span class="s1">+ (errorMsg + </span><span class="s3">\&quot; </span><span class="s1">[</span><span class="s3">\&quot; </span><span class="s1">+ errorCode + </span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">// won't happen in type-safe code</span><span class="s3">\n      </span><span class="s1">typeof console !== </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; console.warn(</span><span class="s3">\&quot;</span><span class="s1">LaTeX-incompatible input and strict mode is set to </span><span class="s3">\&quot; </span><span class="s1">+ (</span><span class="s3">\&quot;</span><span class="s1">unrecognized '</span><span class="s3">\&quot; </span><span class="s1">+ strict + </span><span class="s3">\&quot;</span><span class="s1">': </span><span class="s3">\&quot; </span><span class="s1">+ errorMsg + </span><span class="s3">\&quot; </span><span class="s1">[</span><span class="s3">\&quot; </span><span class="s1">+ errorCode + </span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Check whether to apply strict (LaTeX-adhering) behavior for unusual</span><span class="s3">\n   </span><span class="s1">* input (like `</span><span class="s3">\\\\</span><span class="s1">`).  Unlike `nonstrict`, will not throw an error;</span><span class="s3">\n   </span><span class="s1">* instead, </span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot; </span><span class="s1">translates to a return value of `true`, while </span><span class="s3">\&quot;</span><span class="s1">ignore</span><span class="s3">\&quot;\n   </span><span class="s1">* translates to a return value of `false`.  May still print a warning:</span><span class="s3">\n   </span><span class="s1">* </span><span class="s3">\&quot;</span><span class="s1">warn</span><span class="s3">\&quot; </span><span class="s1">prints a warning and returns `false`.</span><span class="s3">\n   </span><span class="s1">* This is for the second category of `errorCode`s listed in the README.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">useStrictBehavior(errorCode, errorMsg, token) {</span><span class="s3">\n    </span><span class="s1">var strict = this.strict;</span><span class="s3">\n\n    </span><span class="s1">if (typeof strict === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// Allow return value of strict function to be boolean or string</span><span class="s3">\n      </span><span class="s1">// (or null/undefined, meaning no further processing).</span><span class="s3">\n      </span><span class="s1">// But catch any exceptions thrown by function, treating them</span><span class="s3">\n      </span><span class="s1">// like </span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\n      </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">strict = strict(errorCode, errorMsg, token);</span><span class="s3">\n      </span><span class="s1">} catch (error) {</span><span class="s3">\n        </span><span class="s1">strict = </span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (!strict || strict === </span><span class="s3">\&quot;</span><span class="s1">ignore</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">} else if (strict === true || strict === </span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">} else if (strict === </span><span class="s3">\&quot;</span><span class="s1">warn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">typeof console !== </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; console.warn(</span><span class="s3">\&quot;</span><span class="s1">LaTeX-incompatible input and strict mode is set to 'warn': </span><span class="s3">\&quot; </span><span class="s1">+ (errorMsg + </span><span class="s3">\&quot; </span><span class="s1">[</span><span class="s3">\&quot; </span><span class="s1">+ errorCode + </span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">// won't happen in type-safe code</span><span class="s3">\n      </span><span class="s1">typeof console !== </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; console.warn(</span><span class="s3">\&quot;</span><span class="s1">LaTeX-incompatible input and strict mode is set to </span><span class="s3">\&quot; </span><span class="s1">+ (</span><span class="s3">\&quot;</span><span class="s1">unrecognized '</span><span class="s3">\&quot; </span><span class="s1">+ strict + </span><span class="s3">\&quot;</span><span class="s1">': </span><span class="s3">\&quot; </span><span class="s1">+ errorMsg + </span><span class="s3">\&quot; </span><span class="s1">[</span><span class="s3">\&quot; </span><span class="s1">+ errorCode + </span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Check whether to test potentially dangerous input, and return</span><span class="s3">\n   </span><span class="s1">* `true` (trusted) or `false` (untrusted).  The sole argument `context`</span><span class="s3">\n   </span><span class="s1">* should be an object with `command` field specifying the relevant LaTeX</span><span class="s3">\n   </span><span class="s1">* command (as a string starting with `</span><span class="s3">\\</span><span class="s1">`), and any other arguments, etc.</span><span class="s3">\n   </span><span class="s1">* If `context` has a `url` field, a `protocol` field will automatically</span><span class="s3">\n   </span><span class="s1">* get added by this function (changing the specified object).</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">isTrusted(context) {</span><span class="s3">\n    </span><span class="s1">if (context.url &amp;&amp; !context.protocol) {</span><span class="s3">\n      </span><span class="s1">var protocol = utils.protocolFromUrl(context.url);</span><span class="s3">\n\n      </span><span class="s1">if (protocol == null) {</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">context.protocol = protocol;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var trust = typeof this.trust === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? this.trust(context) : this.trust;</span><span class="s3">\n    </span><span class="s1">return Boolean(trust);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This file contains information and classes for the various kinds of styles</span><span class="s3">\n </span><span class="s1">* used in TeX. It provides a generic `Style` class, which holds information</span><span class="s3">\n </span><span class="s1">* about a specific style. It then provides instances of all the different kinds</span><span class="s3">\n </span><span class="s1">* of styles possible, and provides functions to move between them and get</span><span class="s3">\n </span><span class="s1">* information about them.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The main style class. Contains a unique id for the style, a size (which is</span><span class="s3">\n </span><span class="s1">* the same for cramped and uncramped version of a style), and a cramped flag.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class Style {</span><span class="s3">\n  </span><span class="s1">constructor(id, size, cramped) {</span><span class="s3">\n    </span><span class="s1">this.id = void 0;</span><span class="s3">\n    </span><span class="s1">this.size = void 0;</span><span class="s3">\n    </span><span class="s1">this.cramped = void 0;</span><span class="s3">\n    </span><span class="s1">this.id = id;</span><span class="s3">\n    </span><span class="s1">this.size = size;</span><span class="s3">\n    </span><span class="s1">this.cramped = cramped;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Get the style of a superscript given a base in the current style.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">sup() {</span><span class="s3">\n    </span><span class="s1">return styles[sup[this.id]];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Get the style of a subscript given a base in the current style.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">sub() {</span><span class="s3">\n    </span><span class="s1">return styles[sub[this.id]];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Get the style of a fraction numerator given the fraction in the current</span><span class="s3">\n   </span><span class="s1">* style.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">fracNum() {</span><span class="s3">\n    </span><span class="s1">return styles[fracNum[this.id]];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Get the style of a fraction denominator given the fraction in the current</span><span class="s3">\n   </span><span class="s1">* style.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">fracDen() {</span><span class="s3">\n    </span><span class="s1">return styles[fracDen[this.id]];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Get the cramped version of a style (in particular, cramping a cramped style</span><span class="s3">\n   </span><span class="s1">* doesn't change the style).</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">cramp() {</span><span class="s3">\n    </span><span class="s1">return styles[cramp[this.id]];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Get a text or display version of this style.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">text() {</span><span class="s3">\n    </span><span class="s1">return styles[text$1[this.id]];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Return true if this style is tightly spaced (scriptstyle/scriptscriptstyle)</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">isTight() {</span><span class="s3">\n    </span><span class="s1">return this.size &gt;= 2;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">} // Export an interface for type checking, but don't expose the implementation.</span><span class="s3">\n</span><span class="s1">// This way, no more styles can be generated.</span><span class="s3">\n\n\n</span><span class="s1">// IDs of the different styles</span><span class="s3">\n</span><span class="s1">var D = 0;</span><span class="s3">\n</span><span class="s1">var Dc = 1;</span><span class="s3">\n</span><span class="s1">var T = 2;</span><span class="s3">\n</span><span class="s1">var Tc = 3;</span><span class="s3">\n</span><span class="s1">var S = 4;</span><span class="s3">\n</span><span class="s1">var Sc = 5;</span><span class="s3">\n</span><span class="s1">var SS = 6;</span><span class="s3">\n</span><span class="s1">var SSc = 7; // Instances of the different styles</span><span class="s3">\n\n</span><span class="s1">var styles = [new Style(D, 0, false), new Style(Dc, 0, true), new Style(T, 1, false), new Style(Tc, 1, true), new Style(S, 2, false), new Style(Sc, 2, true), new Style(SS, 3, false), new Style(SSc, 3, true)]; // Lookup tables for switching from one style to another</span><span class="s3">\n\n</span><span class="s1">var sup = [S, Sc, S, Sc, SS, SSc, SS, SSc];</span><span class="s3">\n</span><span class="s1">var sub = [Sc, Sc, Sc, Sc, SSc, SSc, SSc, SSc];</span><span class="s3">\n</span><span class="s1">var fracNum = [T, Tc, S, Sc, SS, SSc, SS, SSc];</span><span class="s3">\n</span><span class="s1">var fracDen = [Tc, Tc, Sc, Sc, SSc, SSc, SSc, SSc];</span><span class="s3">\n</span><span class="s1">var cramp = [Dc, Dc, Tc, Tc, Sc, Sc, SSc, SSc];</span><span class="s3">\n</span><span class="s1">var text$1 = [D, Dc, T, Tc, T, Tc, T, Tc]; // We only export some of the styles.</span><span class="s3">\n\n</span><span class="s1">var Style$1 = {</span><span class="s3">\n  </span><span class="s1">DISPLAY: styles[D],</span><span class="s3">\n  </span><span class="s1">TEXT: styles[T],</span><span class="s3">\n  </span><span class="s1">SCRIPT: styles[S],</span><span class="s3">\n  </span><span class="s1">SCRIPTSCRIPT: styles[SS]</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">/*</span><span class="s3">\n </span><span class="s1">* This file defines the Unicode scripts and script families that we</span><span class="s3">\n </span><span class="s1">* support. To add new scripts or families, just add a new entry to the</span><span class="s3">\n </span><span class="s1">* scriptData array below. Adding scripts to the scriptData array allows</span><span class="s3">\n </span><span class="s1">* characters from that script to appear in </span><span class="s3">\\</span><span class="s1">text{} environments.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Each script or script family has a name and an array of blocks.</span><span class="s3">\n </span><span class="s1">* Each block is an array of two numbers which specify the start and</span><span class="s3">\n </span><span class="s1">* end points (inclusive) of a block of Unicode codepoints.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Unicode block data for the families of scripts we support in </span><span class="s3">\\</span><span class="s1">text{}.</span><span class="s3">\n </span><span class="s1">* Scripts only need to appear here if they do not have font metrics.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var scriptData = [{</span><span class="s3">\n  </span><span class="s1">// Latin characters beyond the Latin-1 characters we have metrics for.</span><span class="s3">\n  </span><span class="s1">// Needed for Czech, Hungarian and Turkish text, for example.</span><span class="s3">\n  </span><span class="s1">name: 'latin',</span><span class="s3">\n  </span><span class="s1">blocks: [[0x0100, 0x024f], // Latin Extended-A and Latin Extended-B</span><span class="s3">\n  </span><span class="s1">[0x0300, 0x036f] // Combining Diacritical marks</span><span class="s3">\n  </span><span class="s1">]</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">// The Cyrillic script used by Russian and related languages.</span><span class="s3">\n  </span><span class="s1">// A Cyrillic subset used to be supported as explicitly defined</span><span class="s3">\n  </span><span class="s1">// symbols in symbols.js</span><span class="s3">\n  </span><span class="s1">name: 'cyrillic',</span><span class="s3">\n  </span><span class="s1">blocks: [[0x0400, 0x04ff]]</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">// Armenian</span><span class="s3">\n  </span><span class="s1">name: 'armenian',</span><span class="s3">\n  </span><span class="s1">blocks: [[0x0530, 0x058F]]</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">// The Brahmic scripts of South and Southeast Asia</span><span class="s3">\n  </span><span class="s1">// Devanagari (0900097F)</span><span class="s3">\n  </span><span class="s1">// Bengali (098009FF)</span><span class="s3">\n  </span><span class="s1">// Gurmukhi (0A000A7F)</span><span class="s3">\n  </span><span class="s1">// Gujarati (0A800AFF)</span><span class="s3">\n  </span><span class="s1">// Oriya (0B000B7F)</span><span class="s3">\n  </span><span class="s1">// Tamil (0B800BFF)</span><span class="s3">\n  </span><span class="s1">// Telugu (0C000C7F)</span><span class="s3">\n  </span><span class="s1">// Kannada (0C800CFF)</span><span class="s3">\n  </span><span class="s1">// Malayalam (0D000D7F)</span><span class="s3">\n  </span><span class="s1">// Sinhala (0D800DFF)</span><span class="s3">\n  </span><span class="s1">// Thai (0E000E7F)</span><span class="s3">\n  </span><span class="s1">// Lao (0E800EFF)</span><span class="s3">\n  </span><span class="s1">// Tibetan (0F000FFF)</span><span class="s3">\n  </span><span class="s1">// Myanmar (1000109F)</span><span class="s3">\n  </span><span class="s1">name: 'brahmic',</span><span class="s3">\n  </span><span class="s1">blocks: [[0x0900, 0x109F]]</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">name: 'georgian',</span><span class="s3">\n  </span><span class="s1">blocks: [[0x10A0, 0x10ff]]</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">// Chinese and Japanese.</span><span class="s3">\n  </span><span class="s1">// The </span><span class="s3">\&quot;</span><span class="s1">k</span><span class="s3">\&quot; </span><span class="s1">in cjk is for Korean, but we've separated Korean out</span><span class="s3">\n  </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">cjk</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">blocks: [[0x3000, 0x30FF], // CJK symbols and punctuation, Hiragana, Katakana</span><span class="s3">\n  </span><span class="s1">[0x4E00, 0x9FAF], // CJK ideograms</span><span class="s3">\n  </span><span class="s1">[0xFF00, 0xFF60] // Fullwidth punctuation</span><span class="s3">\n  </span><span class="s1">// TODO: add halfwidth Katakana and Romanji glyphs</span><span class="s3">\n  </span><span class="s1">]</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">// Korean</span><span class="s3">\n  </span><span class="s1">name: 'hangul',</span><span class="s3">\n  </span><span class="s1">blocks: [[0xAC00, 0xD7AF]]</span><span class="s3">\n</span><span class="s1">}];</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Given a codepoint, return the name of the script or script family</span><span class="s3">\n </span><span class="s1">* it is from, or null if it is not part of a known block</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">function scriptFromCodepoint(codepoint) {</span><span class="s3">\n  </span><span class="s1">for (var i = 0; i &lt; scriptData.length; i++) {</span><span class="s3">\n    </span><span class="s1">var script = scriptData[i];</span><span class="s3">\n\n    </span><span class="s1">for (var _i = 0; _i &lt; script.blocks.length; _i++) {</span><span class="s3">\n      </span><span class="s1">var block = script.blocks[_i];</span><span class="s3">\n\n      </span><span class="s1">if (codepoint &gt;= block[0] &amp;&amp; codepoint &lt;= block[1]) {</span><span class="s3">\n        </span><span class="s1">return script.name;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A flattened version of all the supported blocks in a single array.</span><span class="s3">\n </span><span class="s1">* This is an optimization to make supportedCodepoint() fast.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">var allBlocks = [];</span><span class="s3">\n</span><span class="s1">scriptData.forEach(s =&gt; s.blocks.forEach(b =&gt; allBlocks.push(...b)));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Given a codepoint, return true if it falls within one of the</span><span class="s3">\n </span><span class="s1">* scripts or script families defined above and false otherwise.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Micro benchmarks shows that this is faster than</span><span class="s3">\n </span><span class="s1">* /[</span><span class="s3">\\</span><span class="s1">u3000-</span><span class="s3">\\</span><span class="s1">u30FF</span><span class="s3">\\</span><span class="s1">u4E00-</span><span class="s3">\\</span><span class="s1">u9FAF</span><span class="s3">\\</span><span class="s1">uFF00-</span><span class="s3">\\</span><span class="s1">uFF60</span><span class="s3">\\</span><span class="s1">uAC00-</span><span class="s3">\\</span><span class="s1">uD7AF</span><span class="s3">\\</span><span class="s1">u0900-</span><span class="s3">\\</span><span class="s1">u109F]/.test()</span><span class="s3">\n </span><span class="s1">* in Firefox, Chrome and Node.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">function supportedCodepoint(codepoint) {</span><span class="s3">\n  </span><span class="s1">for (var i = 0; i &lt; allBlocks.length; i += 2) {</span><span class="s3">\n    </span><span class="s1">if (codepoint &gt;= allBlocks[i] &amp;&amp; codepoint &lt;= allBlocks[i + 1]) {</span><span class="s3">\n      </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return false;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This file provides support to domTree.js and delimiter.js.</span><span class="s3">\n </span><span class="s1">* It's a storehouse of path geometry for SVG images.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">// In all paths below, the viewBox-to-em scale is 1000:1.</span><span class="s3">\n</span><span class="s1">var hLinePad = 80; // padding above a sqrt vinculum. Prevents image cropping.</span><span class="s3">\n</span><span class="s1">// The vinculum of a </span><span class="s3">\\</span><span class="s1">sqrt can be made thicker by a KaTeX rendering option.</span><span class="s3">\n</span><span class="s1">// Think of variable extraVinculum as two detours in the SVG path.</span><span class="s3">\n</span><span class="s1">// The detour begins at the lower left of the area labeled extraVinculum below.</span><span class="s3">\n</span><span class="s1">// The detour proceeds one extraVinculum distance up and slightly to the right,</span><span class="s3">\n</span><span class="s1">// displacing the radiused corner between surd and vinculum. The radius is</span><span class="s3">\n</span><span class="s1">// traversed as usual, then the detour resumes. It goes right, to the end of</span><span class="s3">\n</span><span class="s1">// the very long vinculum, then down one extraVinculum distance,</span><span class="s3">\n</span><span class="s1">// after which it resumes regular path geometry for the radical.</span><span class="s3">\n\n</span><span class="s1">/*                                                  vinculum</span><span class="s3">\n                                                   </span><span class="s1">/</span><span class="s3">\n         </span><span class="s1">/extraVinculum</span><span class="s3">\n        </span><span class="s1">/ 0.04em (40 unit) std vinculum thickness</span><span class="s3">\n       </span><span class="s1">/ /</span><span class="s3">\n      </span><span class="s1">/ /</span><span class="s3">\n     </span><span class="s1">/ /</span><span class="s3">\\\n    </span><span class="s1">/ / surd</span><span class="s3">\n</span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">var sqrtMain = function sqrtMain(extraVinculum, hLinePad) {</span><span class="s3">\n  </span><span class="s1">// sqrtMain path geometry is from glyph U221A in the font KaTeX Main</span><span class="s3">\n  </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M95,</span><span class="s3">\&quot; </span><span class="s1">+ (622 + extraVinculum + hLinePad) + </span><span class="s3">\&quot;\\</span><span class="s1">nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14</span><span class="s3">\\</span><span class="s1">nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54</span><span class="s3">\\</span><span class="s1">nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10</span><span class="s3">\\</span><span class="s1">ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429</span><span class="s3">\\</span><span class="s1">nc69,-144,104.5,-217.7,106.5,-221</span><span class="s3">\\</span><span class="s1">nl</span><span class="s3">\&quot; </span><span class="s1">+ extraVinculum / 2.075 + </span><span class="s3">\&quot; </span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">+ extraVinculum + </span><span class="s3">\&quot;\\</span><span class="s1">nc5.3,-9.3,12,-14,20,-14</span><span class="s3">\\</span><span class="s1">nH400000v</span><span class="s3">\&quot; </span><span class="s1">+ (40 + extraVinculum) + </span><span class="s3">\&quot;</span><span class="s1">H845.2724</span><span class="s3">\\</span><span class="s1">ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7</span><span class="s3">\\</span><span class="s1">nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z</span><span class="s3">\\</span><span class="s1">nM</span><span class="s3">\&quot; </span><span class="s1">+ (834 + extraVinculum) + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ hLinePad + </span><span class="s3">\&quot;</span><span class="s1">h400000v</span><span class="s3">\&quot; </span><span class="s1">+ (40 + extraVinculum) + </span><span class="s3">\&quot;</span><span class="s1">h-400000z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var sqrtSize1 = function sqrtSize1(extraVinculum, hLinePad) {</span><span class="s3">\n  </span><span class="s1">// size1 is from glyph U221A in the font KaTeX_Size1-Regular</span><span class="s3">\n  </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M263,</span><span class="s3">\&quot; </span><span class="s1">+ (601 + extraVinculum + hLinePad) + </span><span class="s3">\&quot;</span><span class="s1">c0.7,0,18,39.7,52,119</span><span class="s3">\\</span><span class="s1">nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120</span><span class="s3">\\</span><span class="s1">nc340,-704.7,510.7,-1060.3,512,-1067</span><span class="s3">\\</span><span class="s1">nl</span><span class="s3">\&quot; </span><span class="s1">+ extraVinculum / 2.084 + </span><span class="s3">\&quot; </span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">+ extraVinculum + </span><span class="s3">\&quot;\\</span><span class="s1">nc4.7,-7.3,11,-11,19,-11</span><span class="s3">\\</span><span class="s1">nH40000v</span><span class="s3">\&quot; </span><span class="s1">+ (40 + extraVinculum) + </span><span class="s3">\&quot;</span><span class="s1">H1012.3</span><span class="s3">\\</span><span class="s1">ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232</span><span class="s3">\\</span><span class="s1">nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1</span><span class="s3">\\</span><span class="s1">ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26</span><span class="s3">\\</span><span class="s1">nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z</span><span class="s3">\\</span><span class="s1">nM</span><span class="s3">\&quot; </span><span class="s1">+ (1001 + extraVinculum) + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ hLinePad + </span><span class="s3">\&quot;</span><span class="s1">h400000v</span><span class="s3">\&quot; </span><span class="s1">+ (40 + extraVinculum) + </span><span class="s3">\&quot;</span><span class="s1">h-400000z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var sqrtSize2 = function sqrtSize2(extraVinculum, hLinePad) {</span><span class="s3">\n  </span><span class="s1">// size2 is from glyph U221A in the font KaTeX_Size2-Regular</span><span class="s3">\n  </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M983 </span><span class="s3">\&quot; </span><span class="s1">+ (10 + extraVinculum + hLinePad) + </span><span class="s3">\&quot;\\</span><span class="s1">nl</span><span class="s3">\&quot; </span><span class="s1">+ extraVinculum / 3.13 + </span><span class="s3">\&quot; </span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">+ extraVinculum + </span><span class="s3">\&quot;\\</span><span class="s1">nc4,-6.7,10,-10,18,-10 H400000v</span><span class="s3">\&quot; </span><span class="s1">+ (40 + extraVinculum) + </span><span class="s3">\&quot;\\</span><span class="s1">nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7</span><span class="s3">\\</span><span class="s1">ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744</span><span class="s3">\\</span><span class="s1">nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30</span><span class="s3">\\</span><span class="s1">nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722</span><span class="s3">\\</span><span class="s1">nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5</span><span class="s3">\\</span><span class="s1">nc53.7,-170.3,84.5,-266.8,92.5,-289.5z</span><span class="s3">\\</span><span class="s1">nM</span><span class="s3">\&quot; </span><span class="s1">+ (1001 + extraVinculum) + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ hLinePad + </span><span class="s3">\&quot;</span><span class="s1">h400000v</span><span class="s3">\&quot; </span><span class="s1">+ (40 + extraVinculum) + </span><span class="s3">\&quot;</span><span class="s1">h-400000z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var sqrtSize3 = function sqrtSize3(extraVinculum, hLinePad) {</span><span class="s3">\n  </span><span class="s1">// size3 is from glyph U221A in the font KaTeX_Size3-Regular</span><span class="s3">\n  </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M424,</span><span class="s3">\&quot; </span><span class="s1">+ (2398 + extraVinculum + hLinePad) + </span><span class="s3">\&quot;\\</span><span class="s1">nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514</span><span class="s3">\\</span><span class="s1">nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20</span><span class="s3">\\</span><span class="s1">ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121</span><span class="s3">\\</span><span class="s1">ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081</span><span class="s3">\\</span><span class="s1">nl</span><span class="s3">\&quot; </span><span class="s1">+ extraVinculum / 4.223 + </span><span class="s3">\&quot; </span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">+ extraVinculum + </span><span class="s3">\&quot;</span><span class="s1">c4,-6.7,10,-10,18,-10 H400000</span><span class="s3">\\</span><span class="s1">nv</span><span class="s3">\&quot; </span><span class="s1">+ (40 + extraVinculum) + </span><span class="s3">\&quot;</span><span class="s1">H1014.6</span><span class="s3">\\</span><span class="s1">ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185</span><span class="s3">\\</span><span class="s1">nc-2,6,-10,9,-24,9</span><span class="s3">\\</span><span class="s1">nc-8,0,-12,-0.7,-12,-2z M</span><span class="s3">\&quot; </span><span class="s1">+ (1001 + extraVinculum) + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ hLinePad + </span><span class="s3">\&quot;\\</span><span class="s1">nh400000v</span><span class="s3">\&quot; </span><span class="s1">+ (40 + extraVinculum) + </span><span class="s3">\&quot;</span><span class="s1">h-400000z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var sqrtSize4 = function sqrtSize4(extraVinculum, hLinePad) {</span><span class="s3">\n  </span><span class="s1">// size4 is from glyph U221A in the font KaTeX_Size4-Regular</span><span class="s3">\n  </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M473,</span><span class="s3">\&quot; </span><span class="s1">+ (2713 + extraVinculum + hLinePad) + </span><span class="s3">\&quot;\\</span><span class="s1">nc339.3,-1799.3,509.3,-2700,510,-2702 l</span><span class="s3">\&quot; </span><span class="s1">+ extraVinculum / 5.298 + </span><span class="s3">\&quot; </span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">+ extraVinculum + </span><span class="s3">\&quot;\\</span><span class="s1">nc3.3,-7.3,9.3,-11,18,-11 H400000v</span><span class="s3">\&quot; </span><span class="s1">+ (40 + extraVinculum) + </span><span class="s3">\&quot;</span><span class="s1">H1017.7</span><span class="s3">\\</span><span class="s1">ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9</span><span class="s3">\\</span><span class="s1">nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200</span><span class="s3">\\</span><span class="s1">nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26</span><span class="s3">\\</span><span class="s1">ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,</span><span class="s3">\\</span><span class="s1">n606zM</span><span class="s3">\&quot; </span><span class="s1">+ (1001 + extraVinculum) + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ hLinePad + </span><span class="s3">\&quot;</span><span class="s1">h400000v</span><span class="s3">\&quot; </span><span class="s1">+ (40 + extraVinculum) + </span><span class="s3">\&quot;</span><span class="s1">H1017.7z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var phasePath = function phasePath(y) {</span><span class="s3">\n  </span><span class="s1">var x = y / 2; // x coordinate at top of angle</span><span class="s3">\n\n  </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M400000 </span><span class="s3">\&quot; </span><span class="s1">+ y + </span><span class="s3">\&quot; </span><span class="s1">H0 L</span><span class="s3">\&quot; </span><span class="s1">+ x + </span><span class="s3">\&quot; </span><span class="s1">0 l65 45 L145 </span><span class="s3">\&quot; </span><span class="s1">+ (y - 80) + </span><span class="s3">\&quot; </span><span class="s1">H400000z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var sqrtTall = function sqrtTall(extraVinculum, hLinePad, viewBoxHeight) {</span><span class="s3">\n  </span><span class="s1">// sqrtTall is from glyph U23B7 in the font KaTeX_Size4-Regular</span><span class="s3">\n  </span><span class="s1">// One path edge has a variable length. It runs vertically from the vinculum</span><span class="s3">\n  </span><span class="s1">// to a point near (14 units) the bottom of the surd. The vinculum</span><span class="s3">\n  </span><span class="s1">// is normally 40 units thick. So the length of the line in question is:</span><span class="s3">\n  </span><span class="s1">var vertSegment = viewBoxHeight - 54 - hLinePad - extraVinculum;</span><span class="s3">\n  </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M702 </span><span class="s3">\&quot; </span><span class="s1">+ (extraVinculum + hLinePad) + </span><span class="s3">\&quot;</span><span class="s1">H400000</span><span class="s3">\&quot; </span><span class="s1">+ (40 + extraVinculum) + </span><span class="s3">\&quot;\\</span><span class="s1">nH742v</span><span class="s3">\&quot; </span><span class="s1">+ vertSegment + </span><span class="s3">\&quot;</span><span class="s1">l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1</span><span class="s3">\\</span><span class="s1">nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170</span><span class="s3">\\</span><span class="s1">nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667</span><span class="s3">\\</span><span class="s1">n219 661 l218 661zM702 </span><span class="s3">\&quot; </span><span class="s1">+ hLinePad + </span><span class="s3">\&quot;</span><span class="s1">H400000v</span><span class="s3">\&quot; </span><span class="s1">+ (40 + extraVinculum) + </span><span class="s3">\&quot;</span><span class="s1">H742z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var sqrtPath = function sqrtPath(size, extraVinculum, viewBoxHeight) {</span><span class="s3">\n  </span><span class="s1">extraVinculum = 1000 * extraVinculum; // Convert from document ems to viewBox.</span><span class="s3">\n\n  </span><span class="s1">var path = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n  </span><span class="s1">switch (size) {</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">sqrtMain</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">path = sqrtMain(extraVinculum, hLinePad);</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">sqrtSize1</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">path = sqrtSize1(extraVinculum, hLinePad);</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">sqrtSize2</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">path = sqrtSize2(extraVinculum, hLinePad);</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">sqrtSize3</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">path = sqrtSize3(extraVinculum, hLinePad);</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">sqrtSize4</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">path = sqrtSize4(extraVinculum, hLinePad);</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">sqrtTall</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">path = sqrtTall(extraVinculum, hLinePad, viewBoxHeight);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return path;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var innerPath = function innerPath(name, height) {</span><span class="s3">\n  </span><span class="s1">// The inner part of stretchy tall delimiters</span><span class="s3">\n  </span><span class="s1">switch (name) {</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;\\</span><span class="s1">u239c</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M291 0 H417 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H291z M291 0 H417 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H291z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;\\</span><span class="s1">u2223</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M145 0 H188 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H145z M145 0 H188 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H145z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;\\</span><span class="s1">u2225</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M145 0 H188 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H145z M145 0 H188 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H145z</span><span class="s3">\&quot; </span><span class="s1">+ (</span><span class="s3">\&quot;</span><span class="s1">M367 0 H410 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H367z M367 0 H410 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H367z</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;\\</span><span class="s1">u239f</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M457 0 H583 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H457z M457 0 H583 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H457z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;\\</span><span class="s1">u23a2</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M319 0 H403 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H319z M319 0 H403 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H319z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;\\</span><span class="s1">u23a5</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M263 0 H347 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H263z M263 0 H347 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H263z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;\\</span><span class="s1">u23aa</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M384 0 H504 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H384z M384 0 H504 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H384z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;\\</span><span class="s1">u23d0</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M312 0 H355 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H312z M312 0 H355 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H312z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;\\</span><span class="s1">u2016</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M257 0 H300 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H257z M257 0 H300 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H257z</span><span class="s3">\&quot; </span><span class="s1">+ (</span><span class="s3">\&quot;</span><span class="s1">M478 0 H521 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H478z M478 0 H521 V</span><span class="s3">\&quot; </span><span class="s1">+ height + </span><span class="s3">\&quot; </span><span class="s1">H478z</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">default:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var path = {</span><span class="s3">\n  </span><span class="s1">// The doubleleftarrow geometry is from glyph U+21D0 in the font KaTeX Main</span><span class="s3">\n  </span><span class="s1">doubleleftarrow: </span><span class="s3">\&quot;</span><span class="s1">M262 157</span><span class="s3">\\</span><span class="s1">nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3</span><span class="s3">\\</span><span class="s1">n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28</span><span class="s3">\\</span><span class="s1">n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5</span><span class="s3">\\</span><span class="s1">nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5</span><span class="s3">\\</span><span class="s1">n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87</span><span class="s3">\\</span><span class="s1">n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7</span><span class="s3">\\</span><span class="s1">n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z</span><span class="s3">\\</span><span class="s1">nm8 0v40h399730v-40zm0 194v40h399730v-40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// doublerightarrow is from glyph U+21D2 in font KaTeX Main</span><span class="s3">\n  </span><span class="s1">doublerightarrow: </span><span class="s3">\&quot;</span><span class="s1">M399738 392l</span><span class="s3">\\</span><span class="s1">n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5</span><span class="s3">\\</span><span class="s1">n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88</span><span class="s3">\\</span><span class="s1">n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68</span><span class="s3">\\</span><span class="s1">n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18</span><span class="s3">\\</span><span class="s1">n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782</span><span class="s3">\\</span><span class="s1">nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3</span><span class="s3">\\</span><span class="s1">n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// leftarrow is from glyph U+2190 in font KaTeX Main</span><span class="s3">\n  </span><span class="s1">leftarrow: </span><span class="s3">\&quot;</span><span class="s1">M400000 241H110l3-3c68.7-52.7 113.7-120</span><span class="s3">\\</span><span class="s1">n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8</span><span class="s3">\\</span><span class="s1">n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247</span><span class="s3">\\</span><span class="s1">nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208</span><span class="s3">\\</span><span class="s1">n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3</span><span class="s3">\\</span><span class="s1">n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202</span><span class="s3">\\</span><span class="s1">n l-3-3h399890zM100 241v40h399900v-40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// overbrace is from glyphs U+23A9/23A8/23A7 in font KaTeX_Size4-Regular</span><span class="s3">\n  </span><span class="s1">leftbrace: </span><span class="s3">\&quot;</span><span class="s1">M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117</span><span class="s3">\\</span><span class="s1">n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7</span><span class="s3">\\</span><span class="s1">n 5-6 9-10 13-.7 1-7.3 1-20 1H6z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">leftbraceunder: </span><span class="s3">\&quot;</span><span class="s1">M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13</span><span class="s3">\\</span><span class="s1">n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688</span><span class="s3">\\</span><span class="s1">n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7</span><span class="s3">\\</span><span class="s1">n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// overgroup is from the MnSymbol package (public domain)</span><span class="s3">\n  </span><span class="s1">leftgroup: </span><span class="s3">\&quot;</span><span class="s1">M400000 80</span><span class="s3">\\</span><span class="s1">nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0</span><span class="s3">\\</span><span class="s1">n 435 0h399565z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">leftgroupunder: </span><span class="s3">\&quot;</span><span class="s1">M400000 262</span><span class="s3">\\</span><span class="s1">nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219</span><span class="s3">\\</span><span class="s1">n 435 219h399565z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// Harpoons are from glyph U+21BD in font KaTeX Main</span><span class="s3">\n  </span><span class="s1">leftharpoon: </span><span class="s3">\&quot;</span><span class="s1">M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3</span><span class="s3">\\</span><span class="s1">n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5</span><span class="s3">\\</span><span class="s1">n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7</span><span class="s3">\\</span><span class="s1">n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">leftharpoonplus: </span><span class="s3">\&quot;</span><span class="s1">M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5</span><span class="s3">\\</span><span class="s1">n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3</span><span class="s3">\\</span><span class="s1">n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7</span><span class="s3">\\</span><span class="s1">n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z</span><span class="s3">\\</span><span class="s1">nm0 0v40h400000v-40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">leftharpoondown: </span><span class="s3">\&quot;</span><span class="s1">M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333</span><span class="s3">\\</span><span class="s1">n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5</span><span class="s3">\\</span><span class="s1">n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667</span><span class="s3">\\</span><span class="s1">n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">leftharpoondownplus: </span><span class="s3">\&quot;</span><span class="s1">M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12</span><span class="s3">\\</span><span class="s1">n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7</span><span class="s3">\\</span><span class="s1">n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0</span><span class="s3">\\</span><span class="s1">nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// hook is from glyph U+21A9 in font KaTeX Main</span><span class="s3">\n  </span><span class="s1">lefthook: </span><span class="s3">\&quot;</span><span class="s1">M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5</span><span class="s3">\\</span><span class="s1">n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3</span><span class="s3">\\</span><span class="s1">n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21</span><span class="s3">\\</span><span class="s1">n 71.5 23h399859zM103 281v-40h399897v40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">leftlinesegment: </span><span class="s3">\&quot;</span><span class="s1">M40 281 V428 H0 V94 H40 V241 H400000 v40z</span><span class="s3">\\</span><span class="s1">nM40 281 V428 H0 V94 H40 V241 H400000 v40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">leftmapsto: </span><span class="s3">\&quot;</span><span class="s1">M40 281 V448H0V74H40V241H400000v40z</span><span class="s3">\\</span><span class="s1">nM40 281 V448H0V74H40V241H400000v40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// tofrom is from glyph U+21C4 in font KaTeX AMS Regular</span><span class="s3">\n  </span><span class="s1">leftToFrom: </span><span class="s3">\&quot;</span><span class="s1">M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23</span><span class="s3">\\</span><span class="s1">n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8</span><span class="s3">\\</span><span class="s1">nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3</span><span class="s3">\\</span><span class="s1">n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">longequal: </span><span class="s3">\&quot;</span><span class="s1">M0 50 h400000 v40H0z m0 194h40000v40H0z</span><span class="s3">\\</span><span class="s1">nM0 50 h400000 v40H0z m0 194h40000v40H0z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">midbrace: </span><span class="s3">\&quot;</span><span class="s1">M200428 334</span><span class="s3">\\</span><span class="s1">nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14</span><span class="s3">\\</span><span class="s1">n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7</span><span class="s3">\\</span><span class="s1">n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11</span><span class="s3">\\</span><span class="s1">n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">midbraceunder: </span><span class="s3">\&quot;</span><span class="s1">M199572 214</span><span class="s3">\\</span><span class="s1">nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14</span><span class="s3">\\</span><span class="s1">n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3</span><span class="s3">\\</span><span class="s1">n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0</span><span class="s3">\\</span><span class="s1">n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">oiintSize1: </span><span class="s3">\&quot;</span><span class="s1">M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6</span><span class="s3">\\</span><span class="s1">n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z</span><span class="s3">\\</span><span class="s1">nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8</span><span class="s3">\\</span><span class="s1">n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">oiintSize2: </span><span class="s3">\&quot;</span><span class="s1">M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8</span><span class="s3">\\</span><span class="s1">n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z</span><span class="s3">\\</span><span class="s1">nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2</span><span class="s3">\\</span><span class="s1">nc0 110 84 276 504 276s502.4-166 502.4-276z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">oiiintSize1: </span><span class="s3">\&quot;</span><span class="s1">M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6</span><span class="s3">\\</span><span class="s1">n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z</span><span class="s3">\\</span><span class="s1">nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0</span><span class="s3">\\</span><span class="s1">n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">oiiintSize2: </span><span class="s3">\&quot;</span><span class="s1">M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8</span><span class="s3">\\</span><span class="s1">n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z</span><span class="s3">\\</span><span class="s1">nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1</span><span class="s3">\\</span><span class="s1">nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">rightarrow: </span><span class="s3">\&quot;</span><span class="s1">M0 241v40h399891c-47.3 35.3-84 78-110 128</span><span class="s3">\\</span><span class="s1">n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20</span><span class="s3">\\</span><span class="s1">n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7</span><span class="s3">\\</span><span class="s1">n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85</span><span class="s3">\\</span><span class="s1">n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5</span><span class="s3">\\</span><span class="s1">n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67</span><span class="s3">\\</span><span class="s1">n 151.7 139 205zm0 0v40h399900v-40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">rightbrace: </span><span class="s3">\&quot;</span><span class="s1">M400000 542l</span><span class="s3">\\</span><span class="s1">n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5</span><span class="s3">\\</span><span class="s1">ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1</span><span class="s3">\\</span><span class="s1">nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">rightbraceunder: </span><span class="s3">\&quot;</span><span class="s1">M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3</span><span class="s3">\\</span><span class="s1">n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237</span><span class="s3">\\</span><span class="s1">n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">rightgroup: </span><span class="s3">\&quot;</span><span class="s1">M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0</span><span class="s3">\\</span><span class="s1">n 3-1 3-3v-38c-76-158-257-219-435-219H0z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">rightgroupunder: </span><span class="s3">\&quot;</span><span class="s1">M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18</span><span class="s3">\\</span><span class="s1">n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">rightharpoon: </span><span class="s3">\&quot;</span><span class="s1">M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3</span><span class="s3">\\</span><span class="s1">n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2</span><span class="s3">\\</span><span class="s1">n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58</span><span class="s3">\\</span><span class="s1">n 69.2 92 94.5zm0 0v40h399900v-40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">rightharpoonplus: </span><span class="s3">\&quot;</span><span class="s1">M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11</span><span class="s3">\\</span><span class="s1">n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7</span><span class="s3">\\</span><span class="s1">n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z</span><span class="s3">\\</span><span class="s1">nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">rightharpoondown: </span><span class="s3">\&quot;</span><span class="s1">M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8</span><span class="s3">\\</span><span class="s1">n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5</span><span class="s3">\\</span><span class="s1">n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95</span><span class="s3">\\</span><span class="s1">n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">rightharpoondownplus: </span><span class="s3">\&quot;</span><span class="s1">M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8</span><span class="s3">\\</span><span class="s1">n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3</span><span class="s3">\\</span><span class="s1">n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3</span><span class="s3">\\</span><span class="s1">n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z</span><span class="s3">\\</span><span class="s1">nm0-194v40h400000v-40zm0 0v40h400000v-40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">righthook: </span><span class="s3">\&quot;</span><span class="s1">M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3</span><span class="s3">\\</span><span class="s1">n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0</span><span class="s3">\\</span><span class="s1">n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21</span><span class="s3">\\</span><span class="s1">n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">rightlinesegment: </span><span class="s3">\&quot;</span><span class="s1">M399960 241 V94 h40 V428 h-40 V281 H0 v-40z</span><span class="s3">\\</span><span class="s1">nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">rightToFrom: </span><span class="s3">\&quot;</span><span class="s1">M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23</span><span class="s3">\\</span><span class="s1">n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32</span><span class="s3">\\</span><span class="s1">n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142</span><span class="s3">\\</span><span class="s1">n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// twoheadleftarrow is from glyph U+219E in font KaTeX AMS Regular</span><span class="s3">\n  </span><span class="s1">twoheadleftarrow: </span><span class="s3">\&quot;</span><span class="s1">M0 167c68 40</span><span class="s3">\\</span><span class="s1">n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69</span><span class="s3">\\</span><span class="s1">n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3</span><span class="s3">\\</span><span class="s1">n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19</span><span class="s3">\\</span><span class="s1">n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101</span><span class="s3">\\</span><span class="s1">n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">twoheadrightarrow: </span><span class="s3">\&quot;</span><span class="s1">M400000 167</span><span class="s3">\\</span><span class="s1">nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3</span><span class="s3">\\</span><span class="s1">n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42</span><span class="s3">\\</span><span class="s1">n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333</span><span class="s3">\\</span><span class="s1">n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70</span><span class="s3">\\</span><span class="s1">n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// tilde1 is a modified version of a glyph from the MnSymbol package</span><span class="s3">\n  </span><span class="s1">tilde1: </span><span class="s3">\&quot;</span><span class="s1">M200 55.538c-77 0-168 73.953-177 73.953-3 0-7</span><span class="s3">\\</span><span class="s1">n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0</span><span class="s3">\\</span><span class="s1">n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0</span><span class="s3">\\</span><span class="s1">n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128</span><span class="s3">\\</span><span class="s1">n-68.267.847-113-73.952-191-73.952z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// ditto tilde2, tilde3, &amp; tilde4</span><span class="s3">\n  </span><span class="s1">tilde2: </span><span class="s3">\&quot;</span><span class="s1">M344 55.266c-142 0-300.638 81.316-311.5 86.418</span><span class="s3">\\</span><span class="s1">n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9</span><span class="s3">\\</span><span class="s1">n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114</span><span class="s3">\\</span><span class="s1">nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751</span><span class="s3">\\</span><span class="s1">n 181.476 676 181.476c-149 0-189-126.21-332-126.21z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">tilde3: </span><span class="s3">\&quot;</span><span class="s1">M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457</span><span class="s3">\\</span><span class="s1">n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0</span><span class="s3">\\</span><span class="s1">n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697</span><span class="s3">\\</span><span class="s1">n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696</span><span class="s3">\\</span><span class="s1">n -338 0-409-156.573-744-156.573z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">tilde4: </span><span class="s3">\&quot;</span><span class="s1">M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345</span><span class="s3">\\</span><span class="s1">n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409</span><span class="s3">\\</span><span class="s1">n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9</span><span class="s3">\\</span><span class="s1">n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409</span><span class="s3">\\</span><span class="s1">n -175.236-744-175.236z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// vec is from glyph U+20D7 in font KaTeX Main</span><span class="s3">\n  </span><span class="s1">vec: </span><span class="s3">\&quot;</span><span class="s1">M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5</span><span class="s3">\\</span><span class="s1">n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11</span><span class="s3">\\</span><span class="s1">n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63</span><span class="s3">\\</span><span class="s1">n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1</span><span class="s3">\\</span><span class="s1">n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59</span><span class="s3">\\</span><span class="s1">nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359</span><span class="s3">\\</span><span class="s1">nc-16-25.333-24-45-24-59z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// widehat1 is a modified version of a glyph from the MnSymbol package</span><span class="s3">\n  </span><span class="s1">widehat1: </span><span class="s3">\&quot;</span><span class="s1">M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22</span><span class="s3">\\</span><span class="s1">nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// ditto widehat2, widehat3, &amp; widehat4</span><span class="s3">\n  </span><span class="s1">widehat2: </span><span class="s3">\&quot;</span><span class="s1">M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10</span><span class="s3">\\</span><span class="s1">n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">widehat3: </span><span class="s3">\&quot;</span><span class="s1">M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10</span><span class="s3">\\</span><span class="s1">n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">widehat4: </span><span class="s3">\&quot;</span><span class="s1">M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10</span><span class="s3">\\</span><span class="s1">n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// widecheck paths are all inverted versions of widehat</span><span class="s3">\n  </span><span class="s1">widecheck1: </span><span class="s3">\&quot;</span><span class="s1">M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,</span><span class="s3">\\</span><span class="s1">n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">widecheck2: </span><span class="s3">\&quot;</span><span class="s1">M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,</span><span class="s3">\\</span><span class="s1">n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">widecheck3: </span><span class="s3">\&quot;</span><span class="s1">M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,</span><span class="s3">\\</span><span class="s1">n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">widecheck4: </span><span class="s3">\&quot;</span><span class="s1">M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,</span><span class="s3">\\</span><span class="s1">n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// The next ten paths support reaction arrows from the mhchem package.</span><span class="s3">\n  </span><span class="s1">// Arrows for </span><span class="s3">\\</span><span class="s1">ce{&lt;--&gt;} are offset from xAxis by 0.22ex, per mhchem in LaTeX</span><span class="s3">\n  </span><span class="s1">// baraboveleftarrow is mostly from glyph U+2190 in font KaTeX Main</span><span class="s3">\n  </span><span class="s1">baraboveleftarrow: </span><span class="s3">\&quot;</span><span class="s1">M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202</span><span class="s3">\\</span><span class="s1">nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5</span><span class="s3">\\</span><span class="s1">nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130</span><span class="s3">\\</span><span class="s1">ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47</span><span class="s3">\\</span><span class="s1">n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6</span><span class="s3">\\</span><span class="s1">ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11</span><span class="s3">\\</span><span class="s1">nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z</span><span class="s3">\\</span><span class="s1">nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// rightarrowabovebar is mostly from glyph U+2192, KaTeX Main</span><span class="s3">\n  </span><span class="s1">rightarrowabovebar: </span><span class="s3">\&quot;</span><span class="s1">M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32</span><span class="s3">\\</span><span class="s1">n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0</span><span class="s3">\\</span><span class="s1">n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39</span><span class="s3">\\</span><span class="s1">n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5</span><span class="s3">\\</span><span class="s1">n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5</span><span class="s3">\\</span><span class="s1">n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67</span><span class="s3">\\</span><span class="s1">n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// The short left harpoon has 0.5em (i.e. 500 units) kern on the left end.</span><span class="s3">\n  </span><span class="s1">// Ref from mhchem.sty: </span><span class="s3">\\</span><span class="s1">rlap{</span><span class="s3">\\</span><span class="s1">raisebox{-.22ex}{$</span><span class="s3">\\</span><span class="s1">kern0.5em</span><span class="s3">\n  </span><span class="s1">baraboveshortleftharpoon: </span><span class="s3">\&quot;</span><span class="s1">M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11</span><span class="s3">\\</span><span class="s1">nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17</span><span class="s3">\\</span><span class="s1">nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21</span><span class="s3">\\</span><span class="s1">nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40</span><span class="s3">\\</span><span class="s1">nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z</span><span class="s3">\\</span><span class="s1">nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">rightharpoonaboveshortbar: </span><span class="s3">\&quot;</span><span class="s1">M0,241 l0,40c399126,0,399993,0,399993,0</span><span class="s3">\\</span><span class="s1">nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,</span><span class="s3">\\</span><span class="s1">n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6</span><span class="s3">\\</span><span class="s1">nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z</span><span class="s3">\\</span><span class="s1">nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">shortbaraboveleftharpoon: </span><span class="s3">\&quot;</span><span class="s1">M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11</span><span class="s3">\\</span><span class="s1">nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,</span><span class="s3">\\</span><span class="s1">n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,</span><span class="s3">\\</span><span class="s1">n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z</span><span class="s3">\\</span><span class="s1">nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">shortrightharpoonabovebar: </span><span class="s3">\&quot;</span><span class="s1">M53,241l0,40c398570,0,399437,0,399437,0</span><span class="s3">\\</span><span class="s1">nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,</span><span class="s3">\\</span><span class="s1">n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6</span><span class="s3">\\</span><span class="s1">nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z</span><span class="s3">\\</span><span class="s1">nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var tallDelim = function tallDelim(label, midHeight) {</span><span class="s3">\n  </span><span class="s1">switch (label) {</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">lbrack</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M403 1759 V84 H666 V0 H319 V1759 v</span><span class="s3">\&quot; </span><span class="s1">+ midHeight + </span><span class="s3">\&quot; </span><span class="s1">v1759 h347 v-84</span><span class="s3">\\</span><span class="s1">nH403z M403 1759 V0 H319 V1759 v</span><span class="s3">\&quot; </span><span class="s1">+ midHeight + </span><span class="s3">\&quot; </span><span class="s1">v1759 h84z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">rbrack</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M347 1759 V0 H0 V84 H263 V1759 v</span><span class="s3">\&quot; </span><span class="s1">+ midHeight + </span><span class="s3">\&quot; </span><span class="s1">v1759 H0 v84 H347z</span><span class="s3">\\</span><span class="s1">nM347 1759 V0 H263 V1759 v</span><span class="s3">\&quot; </span><span class="s1">+ midHeight + </span><span class="s3">\&quot; </span><span class="s1">v1759 h84z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">vert</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M145 15 v585 v</span><span class="s3">\&quot; </span><span class="s1">+ midHeight + </span><span class="s3">\&quot; </span><span class="s1">v585 c2.667,10,9.667,15,21,15</span><span class="s3">\\</span><span class="s1">nc10,0,16.667,-5,20,-15 v-585 v</span><span class="s3">\&quot; </span><span class="s1">+ -midHeight + </span><span class="s3">\&quot; </span><span class="s1">v-585 c-2.667,-10,-9.667,-15,-21,-15</span><span class="s3">\\</span><span class="s1">nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v</span><span class="s3">\&quot; </span><span class="s1">+ midHeight + </span><span class="s3">\&quot; </span><span class="s1">v585 h43z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">doublevert</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M145 15 v585 v</span><span class="s3">\&quot; </span><span class="s1">+ midHeight + </span><span class="s3">\&quot; </span><span class="s1">v585 c2.667,10,9.667,15,21,15</span><span class="s3">\\</span><span class="s1">nc10,0,16.667,-5,20,-15 v-585 v</span><span class="s3">\&quot; </span><span class="s1">+ -midHeight + </span><span class="s3">\&quot; </span><span class="s1">v-585 c-2.667,-10,-9.667,-15,-21,-15</span><span class="s3">\\</span><span class="s1">nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v</span><span class="s3">\&quot; </span><span class="s1">+ midHeight + </span><span class="s3">\&quot; </span><span class="s1">v585 h43z</span><span class="s3">\\</span><span class="s1">nM367 15 v585 v</span><span class="s3">\&quot; </span><span class="s1">+ midHeight + </span><span class="s3">\&quot; </span><span class="s1">v585 c2.667,10,9.667,15,21,15</span><span class="s3">\\</span><span class="s1">nc10,0,16.667,-5,20,-15 v-585 v</span><span class="s3">\&quot; </span><span class="s1">+ -midHeight + </span><span class="s3">\&quot; </span><span class="s1">v-585 c-2.667,-10,-9.667,-15,-21,-15</span><span class="s3">\\</span><span class="s1">nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v</span><span class="s3">\&quot; </span><span class="s1">+ midHeight + </span><span class="s3">\&quot; </span><span class="s1">v585 h43z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">lfloor</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M319 602 V0 H403 V602 v</span><span class="s3">\&quot; </span><span class="s1">+ midHeight + </span><span class="s3">\&quot; </span><span class="s1">v1715 h263 v84 H319z</span><span class="s3">\\</span><span class="s1">nMM319 602 V0 H403 V602 v</span><span class="s3">\&quot; </span><span class="s1">+ midHeight + </span><span class="s3">\&quot; </span><span class="s1">v1715 H319z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">rfloor</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M319 602 V0 H403 V602 v</span><span class="s3">\&quot; </span><span class="s1">+ midHeight + </span><span class="s3">\&quot; </span><span class="s1">v1799 H0 v-84 H319z</span><span class="s3">\\</span><span class="s1">nMM319 602 V0 H403 V602 v</span><span class="s3">\&quot; </span><span class="s1">+ midHeight + </span><span class="s3">\&quot; </span><span class="s1">v1715 H319z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">lceil</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M403 1759 V84 H666 V0 H319 V1759 v</span><span class="s3">\&quot; </span><span class="s1">+ midHeight + </span><span class="s3">\&quot; </span><span class="s1">v602 h84z</span><span class="s3">\\</span><span class="s1">nM403 1759 V0 H319 V1759 v</span><span class="s3">\&quot; </span><span class="s1">+ midHeight + </span><span class="s3">\&quot; </span><span class="s1">v602 h84z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">rceil</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M347 1759 V0 H0 V84 H263 V1759 v</span><span class="s3">\&quot; </span><span class="s1">+ midHeight + </span><span class="s3">\&quot; </span><span class="s1">v602 h84z</span><span class="s3">\\</span><span class="s1">nM347 1759 V0 h-84 V1759 v</span><span class="s3">\&quot; </span><span class="s1">+ midHeight + </span><span class="s3">\&quot; </span><span class="s1">v602 h84z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">lparen</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1</span><span class="s3">\\</span><span class="s1">nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,</span><span class="s3">\\</span><span class="s1">n-36,557 l0,</span><span class="s3">\&quot; </span><span class="s1">+ (midHeight + 84) + </span><span class="s3">\&quot;</span><span class="s1">c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,</span><span class="s3">\\</span><span class="s1">n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9</span><span class="s3">\\</span><span class="s1">nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,</span><span class="s3">\\</span><span class="s1">n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189</span><span class="s3">\\</span><span class="s1">nl0,-</span><span class="s3">\&quot; </span><span class="s1">+ (midHeight + 92) + </span><span class="s3">\&quot;</span><span class="s1">c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,</span><span class="s3">\\</span><span class="s1">n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">rparen</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,</span><span class="s3">\\</span><span class="s1">n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5</span><span class="s3">\\</span><span class="s1">nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,</span><span class="s3">\&quot; </span><span class="s1">+ (midHeight + 9) + </span><span class="s3">\&quot;\\</span><span class="s1">nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664</span><span class="s3">\\</span><span class="s1">nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11</span><span class="s3">\\</span><span class="s1">nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17</span><span class="s3">\\</span><span class="s1">nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558</span><span class="s3">\\</span><span class="s1">nl0,-</span><span class="s3">\&quot; </span><span class="s1">+ (midHeight + 144) + </span><span class="s3">\&quot;</span><span class="s1">c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,</span><span class="s3">\\</span><span class="s1">n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">default:</span><span class="s3">\n      </span><span class="s1">// We should not ever get here.</span><span class="s3">\n      </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Unknown stretchy delimiter.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This node represents a document fragment, which contains elements, but when</span><span class="s3">\n </span><span class="s1">* placed into the DOM doesn't have any representation itself. It only contains</span><span class="s3">\n </span><span class="s1">* children and doesn't have any DOM node properties.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class DocumentFragment {</span><span class="s3">\n  </span><span class="s1">// HtmlDomNode</span><span class="s3">\n  </span><span class="s1">// Never used; needed for satisfying interface.</span><span class="s3">\n  </span><span class="s1">constructor(children) {</span><span class="s3">\n    </span><span class="s1">this.children = void 0;</span><span class="s3">\n    </span><span class="s1">this.classes = void 0;</span><span class="s3">\n    </span><span class="s1">this.height = void 0;</span><span class="s3">\n    </span><span class="s1">this.depth = void 0;</span><span class="s3">\n    </span><span class="s1">this.maxFontSize = void 0;</span><span class="s3">\n    </span><span class="s1">this.style = void 0;</span><span class="s3">\n    </span><span class="s1">this.children = children;</span><span class="s3">\n    </span><span class="s1">this.classes = [];</span><span class="s3">\n    </span><span class="s1">this.height = 0;</span><span class="s3">\n    </span><span class="s1">this.depth = 0;</span><span class="s3">\n    </span><span class="s1">this.maxFontSize = 0;</span><span class="s3">\n    </span><span class="s1">this.style = {};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">hasClass(className) {</span><span class="s3">\n    </span><span class="s1">return utils.contains(this.classes, className);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/** Convert the fragment into a node. */</span><span class="s3">\n\n\n  </span><span class="s1">toNode() {</span><span class="s3">\n    </span><span class="s1">var frag = document.createDocumentFragment();</span><span class="s3">\n\n    </span><span class="s1">for (var i = 0; i &lt; this.children.length; i++) {</span><span class="s3">\n      </span><span class="s1">frag.appendChild(this.children[i].toNode());</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return frag;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/** Convert the fragment into HTML markup. */</span><span class="s3">\n\n\n  </span><span class="s1">toMarkup() {</span><span class="s3">\n    </span><span class="s1">var markup = </span><span class="s3">\&quot;\&quot;</span><span class="s1">; // Simply concatenate the markup for the children together.</span><span class="s3">\n\n    </span><span class="s1">for (var i = 0; i &lt; this.children.length; i++) {</span><span class="s3">\n      </span><span class="s1">markup += this.children[i].toMarkup();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return markup;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Converts the math node into a string, similar to innerText. Applies to</span><span class="s3">\n   </span><span class="s1">* MathDomNode's only.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">toText() {</span><span class="s3">\n    </span><span class="s1">// To avoid this, we would subclass documentFragment separately for</span><span class="s3">\n    </span><span class="s1">// MathML, but polyfills for subclassing is expensive per PR 1469.</span><span class="s3">\n    </span><span class="s1">// $FlowFixMe: Only works for ChildType = MathDomNode.</span><span class="s3">\n    </span><span class="s1">var toText = child =&gt; child.toText();</span><span class="s3">\n\n    </span><span class="s1">return this.children.map(toText).join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// This file is GENERATED by buildMetrics.sh. DO NOT MODIFY.</span><span class="s3">\n</span><span class="s1">var fontMetricsData = {</span><span class="s3">\n  \&quot;</span><span class="s1">AMS-Regular</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">32</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">65</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">66</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">67</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">68</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">69</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">70</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">71</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">72</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">73</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.38889],</span><span class="s3">\n    \&quot;</span><span class="s1">74</span><span class="s3">\&quot;</span><span class="s1">: [0.16667, 0.68889, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">75</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">76</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">77</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.94445],</span><span class="s3">\n    \&quot;</span><span class="s1">78</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">79</span><span class="s3">\&quot;</span><span class="s1">: [0.16667, 0.68889, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">80</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">81</span><span class="s3">\&quot;</span><span class="s1">: [0.16667, 0.68889, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">82</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">83</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">84</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">85</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">86</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">87</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">88</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">89</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">90</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">107</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">160</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">165</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.675, 0.025, 0, 0.75],</span><span class="s3">\n    \&quot;</span><span class="s1">174</span><span class="s3">\&quot;</span><span class="s1">: [0.15559, 0.69224, 0, 0, 0.94666],</span><span class="s3">\n    \&quot;</span><span class="s1">240</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">295</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.54028],</span><span class="s3">\n    \&quot;</span><span class="s1">710</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.825, 0, 0, 2.33334],</span><span class="s3">\n    \&quot;</span><span class="s1">732</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.9, 0, 0, 2.33334],</span><span class="s3">\n    \&quot;</span><span class="s1">770</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.825, 0, 0, 2.33334],</span><span class="s3">\n    \&quot;</span><span class="s1">771</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.9, 0, 0, 2.33334],</span><span class="s3">\n    \&quot;</span><span class="s1">989</span><span class="s3">\&quot;</span><span class="s1">: [0.08167, 0.58167, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">1008</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.04028, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">8245</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.54986, 0, 0, 0.275],</span><span class="s3">\n    \&quot;</span><span class="s1">8463</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.54028],</span><span class="s3">\n    \&quot;</span><span class="s1">8487</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">8498</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">8502</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">8503</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">8504</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">8513</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.63889],</span><span class="s3">\n    \&quot;</span><span class="s1">8592</span><span class="s3">\&quot;</span><span class="s1">: [-0.03598, 0.46402, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8594</span><span class="s3">\&quot;</span><span class="s1">: [-0.03598, 0.46402, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8602</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8603</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8606</span><span class="s3">\&quot;</span><span class="s1">: [0.01354, 0.52239, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8608</span><span class="s3">\&quot;</span><span class="s1">: [0.01354, 0.52239, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8610</span><span class="s3">\&quot;</span><span class="s1">: [0.01354, 0.52239, 0, 0, 1.11111],</span><span class="s3">\n    \&quot;</span><span class="s1">8611</span><span class="s3">\&quot;</span><span class="s1">: [0.01354, 0.52239, 0, 0, 1.11111],</span><span class="s3">\n    \&quot;</span><span class="s1">8619</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.54986, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8620</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.54986, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8621</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.37788, 0, 0, 1.38889],</span><span class="s3">\n    \&quot;</span><span class="s1">8622</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8624</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8625</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8630</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8631</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8634</span><span class="s3">\&quot;</span><span class="s1">: [0.08198, 0.58198, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8635</span><span class="s3">\&quot;</span><span class="s1">: [0.08198, 0.58198, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8638</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69224, 0, 0, 0.41667],</span><span class="s3">\n    \&quot;</span><span class="s1">8639</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69224, 0, 0, 0.41667],</span><span class="s3">\n    \&quot;</span><span class="s1">8642</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69224, 0, 0, 0.41667],</span><span class="s3">\n    \&quot;</span><span class="s1">8643</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69224, 0, 0, 0.41667],</span><span class="s3">\n    \&quot;</span><span class="s1">8644</span><span class="s3">\&quot;</span><span class="s1">: [0.1808, 0.675, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8646</span><span class="s3">\&quot;</span><span class="s1">: [0.1808, 0.675, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8647</span><span class="s3">\&quot;</span><span class="s1">: [0.1808, 0.675, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8648</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69224, 0, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">8649</span><span class="s3">\&quot;</span><span class="s1">: [0.1808, 0.675, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8650</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69224, 0, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">8651</span><span class="s3">\&quot;</span><span class="s1">: [0.01354, 0.52239, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8652</span><span class="s3">\&quot;</span><span class="s1">: [0.01354, 0.52239, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8653</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8654</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8655</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8666</span><span class="s3">\&quot;</span><span class="s1">: [0.13667, 0.63667, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8667</span><span class="s3">\&quot;</span><span class="s1">: [0.13667, 0.63667, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8669</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.37788, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8672</span><span class="s3">\&quot;</span><span class="s1">: [-0.064, 0.437, 0, 0, 1.334],</span><span class="s3">\n    \&quot;</span><span class="s1">8674</span><span class="s3">\&quot;</span><span class="s1">: [-0.064, 0.437, 0, 0, 1.334],</span><span class="s3">\n    \&quot;</span><span class="s1">8705</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.825, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8708</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">8709</span><span class="s3">\&quot;</span><span class="s1">: [0.08167, 0.58167, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8717</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.42917],</span><span class="s3">\n    \&quot;</span><span class="s1">8722</span><span class="s3">\&quot;</span><span class="s1">: [-0.03598, 0.46402, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8724</span><span class="s3">\&quot;</span><span class="s1">: [0.08198, 0.69224, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8726</span><span class="s3">\&quot;</span><span class="s1">: [0.08167, 0.58167, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8733</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8736</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">8737</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">8738</span><span class="s3">\&quot;</span><span class="s1">: [0.03517, 0.52239, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">8739</span><span class="s3">\&quot;</span><span class="s1">: [0.08167, 0.58167, 0, 0, 0.22222],</span><span class="s3">\n    \&quot;</span><span class="s1">8740</span><span class="s3">\&quot;</span><span class="s1">: [0.25142, 0.74111, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">8741</span><span class="s3">\&quot;</span><span class="s1">: [0.08167, 0.58167, 0, 0, 0.38889],</span><span class="s3">\n    \&quot;</span><span class="s1">8742</span><span class="s3">\&quot;</span><span class="s1">: [0.25142, 0.74111, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8756</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">8757</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">8764</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8765</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.37788, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8769</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8770</span><span class="s3">\&quot;</span><span class="s1">: [-0.03625, 0.46375, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8774</span><span class="s3">\&quot;</span><span class="s1">: [0.30274, 0.79383, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8776</span><span class="s3">\&quot;</span><span class="s1">: [-0.01688, 0.48312, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8778</span><span class="s3">\&quot;</span><span class="s1">: [0.08167, 0.58167, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8782</span><span class="s3">\&quot;</span><span class="s1">: [0.06062, 0.54986, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8783</span><span class="s3">\&quot;</span><span class="s1">: [0.06062, 0.54986, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8785</span><span class="s3">\&quot;</span><span class="s1">: [0.08198, 0.58198, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8786</span><span class="s3">\&quot;</span><span class="s1">: [0.08198, 0.58198, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8787</span><span class="s3">\&quot;</span><span class="s1">: [0.08198, 0.58198, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8790</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8791</span><span class="s3">\&quot;</span><span class="s1">: [0.22958, 0.72958, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8796</span><span class="s3">\&quot;</span><span class="s1">: [0.08198, 0.91667, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8806</span><span class="s3">\&quot;</span><span class="s1">: [0.25583, 0.75583, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8807</span><span class="s3">\&quot;</span><span class="s1">: [0.25583, 0.75583, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8808</span><span class="s3">\&quot;</span><span class="s1">: [0.25142, 0.75726, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8809</span><span class="s3">\&quot;</span><span class="s1">: [0.25142, 0.75726, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8812</span><span class="s3">\&quot;</span><span class="s1">: [0.25583, 0.75583, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8814</span><span class="s3">\&quot;</span><span class="s1">: [0.20576, 0.70576, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8815</span><span class="s3">\&quot;</span><span class="s1">: [0.20576, 0.70576, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8816</span><span class="s3">\&quot;</span><span class="s1">: [0.30274, 0.79383, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8817</span><span class="s3">\&quot;</span><span class="s1">: [0.30274, 0.79383, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8818</span><span class="s3">\&quot;</span><span class="s1">: [0.22958, 0.72958, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8819</span><span class="s3">\&quot;</span><span class="s1">: [0.22958, 0.72958, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8822</span><span class="s3">\&quot;</span><span class="s1">: [0.1808, 0.675, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8823</span><span class="s3">\&quot;</span><span class="s1">: [0.1808, 0.675, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8828</span><span class="s3">\&quot;</span><span class="s1">: [0.13667, 0.63667, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8829</span><span class="s3">\&quot;</span><span class="s1">: [0.13667, 0.63667, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8830</span><span class="s3">\&quot;</span><span class="s1">: [0.22958, 0.72958, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8831</span><span class="s3">\&quot;</span><span class="s1">: [0.22958, 0.72958, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8832</span><span class="s3">\&quot;</span><span class="s1">: [0.20576, 0.70576, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8833</span><span class="s3">\&quot;</span><span class="s1">: [0.20576, 0.70576, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8840</span><span class="s3">\&quot;</span><span class="s1">: [0.30274, 0.79383, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8841</span><span class="s3">\&quot;</span><span class="s1">: [0.30274, 0.79383, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8842</span><span class="s3">\&quot;</span><span class="s1">: [0.13597, 0.63597, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8843</span><span class="s3">\&quot;</span><span class="s1">: [0.13597, 0.63597, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8847</span><span class="s3">\&quot;</span><span class="s1">: [0.03517, 0.54986, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8848</span><span class="s3">\&quot;</span><span class="s1">: [0.03517, 0.54986, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8858</span><span class="s3">\&quot;</span><span class="s1">: [0.08198, 0.58198, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8859</span><span class="s3">\&quot;</span><span class="s1">: [0.08198, 0.58198, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8861</span><span class="s3">\&quot;</span><span class="s1">: [0.08198, 0.58198, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8862</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.675, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8863</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.675, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8864</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.675, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8865</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.675, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8872</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">8873</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">8874</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.88889],</span><span class="s3">\n    \&quot;</span><span class="s1">8876</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">8877</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">8878</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">8879</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">8882</span><span class="s3">\&quot;</span><span class="s1">: [0.03517, 0.54986, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8883</span><span class="s3">\&quot;</span><span class="s1">: [0.03517, 0.54986, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8884</span><span class="s3">\&quot;</span><span class="s1">: [0.13667, 0.63667, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8885</span><span class="s3">\&quot;</span><span class="s1">: [0.13667, 0.63667, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8888</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.54986, 0, 0, 1.11111],</span><span class="s3">\n    \&quot;</span><span class="s1">8890</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">8891</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69224, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">8892</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69224, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">8901</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.54986, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">8903</span><span class="s3">\&quot;</span><span class="s1">: [0.08167, 0.58167, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8905</span><span class="s3">\&quot;</span><span class="s1">: [0.08167, 0.58167, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8906</span><span class="s3">\&quot;</span><span class="s1">: [0.08167, 0.58167, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8907</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8908</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8909</span><span class="s3">\&quot;</span><span class="s1">: [-0.03598, 0.46402, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8910</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.54986, 0, 0, 0.76042],</span><span class="s3">\n    \&quot;</span><span class="s1">8911</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.54986, 0, 0, 0.76042],</span><span class="s3">\n    \&quot;</span><span class="s1">8912</span><span class="s3">\&quot;</span><span class="s1">: [0.03517, 0.54986, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8913</span><span class="s3">\&quot;</span><span class="s1">: [0.03517, 0.54986, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8914</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.54986, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">8915</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.54986, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">8916</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">8918</span><span class="s3">\&quot;</span><span class="s1">: [0.0391, 0.5391, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8919</span><span class="s3">\&quot;</span><span class="s1">: [0.0391, 0.5391, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8920</span><span class="s3">\&quot;</span><span class="s1">: [0.03517, 0.54986, 0, 0, 1.33334],</span><span class="s3">\n    \&quot;</span><span class="s1">8921</span><span class="s3">\&quot;</span><span class="s1">: [0.03517, 0.54986, 0, 0, 1.33334],</span><span class="s3">\n    \&quot;</span><span class="s1">8922</span><span class="s3">\&quot;</span><span class="s1">: [0.38569, 0.88569, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8923</span><span class="s3">\&quot;</span><span class="s1">: [0.38569, 0.88569, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8926</span><span class="s3">\&quot;</span><span class="s1">: [0.13667, 0.63667, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8927</span><span class="s3">\&quot;</span><span class="s1">: [0.13667, 0.63667, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8928</span><span class="s3">\&quot;</span><span class="s1">: [0.30274, 0.79383, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8929</span><span class="s3">\&quot;</span><span class="s1">: [0.30274, 0.79383, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8934</span><span class="s3">\&quot;</span><span class="s1">: [0.23222, 0.74111, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8935</span><span class="s3">\&quot;</span><span class="s1">: [0.23222, 0.74111, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8936</span><span class="s3">\&quot;</span><span class="s1">: [0.23222, 0.74111, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8937</span><span class="s3">\&quot;</span><span class="s1">: [0.23222, 0.74111, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8938</span><span class="s3">\&quot;</span><span class="s1">: [0.20576, 0.70576, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8939</span><span class="s3">\&quot;</span><span class="s1">: [0.20576, 0.70576, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8940</span><span class="s3">\&quot;</span><span class="s1">: [0.30274, 0.79383, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8941</span><span class="s3">\&quot;</span><span class="s1">: [0.30274, 0.79383, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8994</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69224, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8995</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69224, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">9416</span><span class="s3">\&quot;</span><span class="s1">: [0.15559, 0.69224, 0, 0, 0.90222],</span><span class="s3">\n    \&quot;</span><span class="s1">9484</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">9488</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">9492</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.37788, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">9496</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.37788, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">9585</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.68889, 0, 0, 0.88889],</span><span class="s3">\n    \&quot;</span><span class="s1">9586</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.74111, 0, 0, 0.88889],</span><span class="s3">\n    \&quot;</span><span class="s1">9632</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.675, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">9633</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.675, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">9650</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.54986, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">9651</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.54986, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">9654</span><span class="s3">\&quot;</span><span class="s1">: [0.03517, 0.54986, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">9660</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.54986, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">9661</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.54986, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">9664</span><span class="s3">\&quot;</span><span class="s1">: [0.03517, 0.54986, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">9674</span><span class="s3">\&quot;</span><span class="s1">: [0.11111, 0.69224, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">9733</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69224, 0, 0, 0.94445],</span><span class="s3">\n    \&quot;</span><span class="s1">10003</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">10016</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">10731</span><span class="s3">\&quot;</span><span class="s1">: [0.11111, 0.69224, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">10846</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.75583, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">10877</span><span class="s3">\&quot;</span><span class="s1">: [0.13667, 0.63667, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10878</span><span class="s3">\&quot;</span><span class="s1">: [0.13667, 0.63667, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10885</span><span class="s3">\&quot;</span><span class="s1">: [0.25583, 0.75583, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10886</span><span class="s3">\&quot;</span><span class="s1">: [0.25583, 0.75583, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10887</span><span class="s3">\&quot;</span><span class="s1">: [0.13597, 0.63597, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10888</span><span class="s3">\&quot;</span><span class="s1">: [0.13597, 0.63597, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10889</span><span class="s3">\&quot;</span><span class="s1">: [0.26167, 0.75726, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10890</span><span class="s3">\&quot;</span><span class="s1">: [0.26167, 0.75726, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10891</span><span class="s3">\&quot;</span><span class="s1">: [0.48256, 0.98256, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10892</span><span class="s3">\&quot;</span><span class="s1">: [0.48256, 0.98256, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10901</span><span class="s3">\&quot;</span><span class="s1">: [0.13667, 0.63667, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10902</span><span class="s3">\&quot;</span><span class="s1">: [0.13667, 0.63667, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10933</span><span class="s3">\&quot;</span><span class="s1">: [0.25142, 0.75726, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10934</span><span class="s3">\&quot;</span><span class="s1">: [0.25142, 0.75726, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10935</span><span class="s3">\&quot;</span><span class="s1">: [0.26167, 0.75726, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10936</span><span class="s3">\&quot;</span><span class="s1">: [0.26167, 0.75726, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10937</span><span class="s3">\&quot;</span><span class="s1">: [0.26167, 0.75726, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10938</span><span class="s3">\&quot;</span><span class="s1">: [0.26167, 0.75726, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10949</span><span class="s3">\&quot;</span><span class="s1">: [0.25583, 0.75583, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10950</span><span class="s3">\&quot;</span><span class="s1">: [0.25583, 0.75583, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10955</span><span class="s3">\&quot;</span><span class="s1">: [0.28481, 0.79383, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10956</span><span class="s3">\&quot;</span><span class="s1">: [0.28481, 0.79383, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">57350</span><span class="s3">\&quot;</span><span class="s1">: [0.08167, 0.58167, 0, 0, 0.22222],</span><span class="s3">\n    \&quot;</span><span class="s1">57351</span><span class="s3">\&quot;</span><span class="s1">: [0.08167, 0.58167, 0, 0, 0.38889],</span><span class="s3">\n    \&quot;</span><span class="s1">57352</span><span class="s3">\&quot;</span><span class="s1">: [0.08167, 0.58167, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">57353</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.04028, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">57356</span><span class="s3">\&quot;</span><span class="s1">: [0.25142, 0.75726, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">57357</span><span class="s3">\&quot;</span><span class="s1">: [0.25142, 0.75726, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">57358</span><span class="s3">\&quot;</span><span class="s1">: [0.41951, 0.91951, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">57359</span><span class="s3">\&quot;</span><span class="s1">: [0.30274, 0.79383, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">57360</span><span class="s3">\&quot;</span><span class="s1">: [0.30274, 0.79383, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">57361</span><span class="s3">\&quot;</span><span class="s1">: [0.41951, 0.91951, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">57366</span><span class="s3">\&quot;</span><span class="s1">: [0.25142, 0.75726, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">57367</span><span class="s3">\&quot;</span><span class="s1">: [0.25142, 0.75726, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">57368</span><span class="s3">\&quot;</span><span class="s1">: [0.25142, 0.75726, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">57369</span><span class="s3">\&quot;</span><span class="s1">: [0.25142, 0.75726, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">57370</span><span class="s3">\&quot;</span><span class="s1">: [0.13597, 0.63597, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">57371</span><span class="s3">\&quot;</span><span class="s1">: [0.13597, 0.63597, 0, 0, 0.77778]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">Caligraphic-Regular</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">32</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">65</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0.19445, 0.79847],</span><span class="s3">\n    \&quot;</span><span class="s1">66</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.03041, 0.13889, 0.65681],</span><span class="s3">\n    \&quot;</span><span class="s1">67</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.05834, 0.13889, 0.52653],</span><span class="s3">\n    \&quot;</span><span class="s1">68</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.02778, 0.08334, 0.77139],</span><span class="s3">\n    \&quot;</span><span class="s1">69</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.08944, 0.11111, 0.52778],</span><span class="s3">\n    \&quot;</span><span class="s1">70</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.09931, 0.11111, 0.71875],</span><span class="s3">\n    \&quot;</span><span class="s1">71</span><span class="s3">\&quot;</span><span class="s1">: [0.09722, 0.68333, 0.0593, 0.11111, 0.59487],</span><span class="s3">\n    \&quot;</span><span class="s1">72</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.00965, 0.11111, 0.84452],</span><span class="s3">\n    \&quot;</span><span class="s1">73</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.07382, 0, 0.54452],</span><span class="s3">\n    \&quot;</span><span class="s1">74</span><span class="s3">\&quot;</span><span class="s1">: [0.09722, 0.68333, 0.18472, 0.16667, 0.67778],</span><span class="s3">\n    \&quot;</span><span class="s1">75</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.01445, 0.05556, 0.76195],</span><span class="s3">\n    \&quot;</span><span class="s1">76</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0.13889, 0.68972],</span><span class="s3">\n    \&quot;</span><span class="s1">77</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0.13889, 1.2009],</span><span class="s3">\n    \&quot;</span><span class="s1">78</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.14736, 0.08334, 0.82049],</span><span class="s3">\n    \&quot;</span><span class="s1">79</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.02778, 0.11111, 0.79611],</span><span class="s3">\n    \&quot;</span><span class="s1">80</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.08222, 0.08334, 0.69556],</span><span class="s3">\n    \&quot;</span><span class="s1">81</span><span class="s3">\&quot;</span><span class="s1">: [0.09722, 0.68333, 0, 0.11111, 0.81667],</span><span class="s3">\n    \&quot;</span><span class="s1">82</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0.08334, 0.8475],</span><span class="s3">\n    \&quot;</span><span class="s1">83</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.075, 0.13889, 0.60556],</span><span class="s3">\n    \&quot;</span><span class="s1">84</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.25417, 0, 0.54464],</span><span class="s3">\n    \&quot;</span><span class="s1">85</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.09931, 0.08334, 0.62583],</span><span class="s3">\n    \&quot;</span><span class="s1">86</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.08222, 0, 0.61278],</span><span class="s3">\n    \&quot;</span><span class="s1">87</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.08222, 0.08334, 0.98778],</span><span class="s3">\n    \&quot;</span><span class="s1">88</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.14643, 0.13889, 0.7133],</span><span class="s3">\n    \&quot;</span><span class="s1">89</span><span class="s3">\&quot;</span><span class="s1">: [0.09722, 0.68333, 0.08222, 0.08334, 0.66834],</span><span class="s3">\n    \&quot;</span><span class="s1">90</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.07944, 0.13889, 0.72473],</span><span class="s3">\n    \&quot;</span><span class="s1">160</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">Fraktur-Regular</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">32</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">33</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.29574],</span><span class="s3">\n    \&quot;</span><span class="s1">34</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.21471],</span><span class="s3">\n    \&quot;</span><span class="s1">38</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.73786],</span><span class="s3">\n    \&quot;</span><span class="s1">39</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.21201],</span><span class="s3">\n    \&quot;</span><span class="s1">40</span><span class="s3">\&quot;</span><span class="s1">: [0.24982, 0.74947, 0, 0, 0.38865],</span><span class="s3">\n    \&quot;</span><span class="s1">41</span><span class="s3">\&quot;</span><span class="s1">: [0.24982, 0.74947, 0, 0, 0.38865],</span><span class="s3">\n    \&quot;</span><span class="s1">42</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.62119, 0, 0, 0.27764],</span><span class="s3">\n    \&quot;</span><span class="s1">43</span><span class="s3">\&quot;</span><span class="s1">: [0.08319, 0.58283, 0, 0, 0.75623],</span><span class="s3">\n    \&quot;</span><span class="s1">44</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.10803, 0, 0, 0.27764],</span><span class="s3">\n    \&quot;</span><span class="s1">45</span><span class="s3">\&quot;</span><span class="s1">: [0.08319, 0.58283, 0, 0, 0.75623],</span><span class="s3">\n    \&quot;</span><span class="s1">46</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.10803, 0, 0, 0.27764],</span><span class="s3">\n    \&quot;</span><span class="s1">47</span><span class="s3">\&quot;</span><span class="s1">: [0.24982, 0.74947, 0, 0, 0.50181],</span><span class="s3">\n    \&quot;</span><span class="s1">48</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.47534, 0, 0, 0.50181],</span><span class="s3">\n    \&quot;</span><span class="s1">49</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.47534, 0, 0, 0.50181],</span><span class="s3">\n    \&quot;</span><span class="s1">50</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.47534, 0, 0, 0.50181],</span><span class="s3">\n    \&quot;</span><span class="s1">51</span><span class="s3">\&quot;</span><span class="s1">: [0.18906, 0.47534, 0, 0, 0.50181],</span><span class="s3">\n    \&quot;</span><span class="s1">52</span><span class="s3">\&quot;</span><span class="s1">: [0.18906, 0.47534, 0, 0, 0.50181],</span><span class="s3">\n    \&quot;</span><span class="s1">53</span><span class="s3">\&quot;</span><span class="s1">: [0.18906, 0.47534, 0, 0, 0.50181],</span><span class="s3">\n    \&quot;</span><span class="s1">54</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.50181],</span><span class="s3">\n    \&quot;</span><span class="s1">55</span><span class="s3">\&quot;</span><span class="s1">: [0.18906, 0.47534, 0, 0, 0.50181],</span><span class="s3">\n    \&quot;</span><span class="s1">56</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.50181],</span><span class="s3">\n    \&quot;</span><span class="s1">57</span><span class="s3">\&quot;</span><span class="s1">: [0.18906, 0.47534, 0, 0, 0.50181],</span><span class="s3">\n    \&quot;</span><span class="s1">58</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.47534, 0, 0, 0.21606],</span><span class="s3">\n    \&quot;</span><span class="s1">59</span><span class="s3">\&quot;</span><span class="s1">: [0.12604, 0.47534, 0, 0, 0.21606],</span><span class="s3">\n    \&quot;</span><span class="s1">61</span><span class="s3">\&quot;</span><span class="s1">: [-0.13099, 0.36866, 0, 0, 0.75623],</span><span class="s3">\n    \&quot;</span><span class="s1">63</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.36245],</span><span class="s3">\n    \&quot;</span><span class="s1">65</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.7176],</span><span class="s3">\n    \&quot;</span><span class="s1">66</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.88397],</span><span class="s3">\n    \&quot;</span><span class="s1">67</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.61254],</span><span class="s3">\n    \&quot;</span><span class="s1">68</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.83158],</span><span class="s3">\n    \&quot;</span><span class="s1">69</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.66278],</span><span class="s3">\n    \&quot;</span><span class="s1">70</span><span class="s3">\&quot;</span><span class="s1">: [0.12604, 0.69141, 0, 0, 0.61119],</span><span class="s3">\n    \&quot;</span><span class="s1">71</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.78539],</span><span class="s3">\n    \&quot;</span><span class="s1">72</span><span class="s3">\&quot;</span><span class="s1">: [0.06302, 0.69141, 0, 0, 0.7203],</span><span class="s3">\n    \&quot;</span><span class="s1">73</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.55448],</span><span class="s3">\n    \&quot;</span><span class="s1">74</span><span class="s3">\&quot;</span><span class="s1">: [0.12604, 0.69141, 0, 0, 0.55231],</span><span class="s3">\n    \&quot;</span><span class="s1">75</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.66845],</span><span class="s3">\n    \&quot;</span><span class="s1">76</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.66602],</span><span class="s3">\n    \&quot;</span><span class="s1">77</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 1.04953],</span><span class="s3">\n    \&quot;</span><span class="s1">78</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.83212],</span><span class="s3">\n    \&quot;</span><span class="s1">79</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.82699],</span><span class="s3">\n    \&quot;</span><span class="s1">80</span><span class="s3">\&quot;</span><span class="s1">: [0.18906, 0.69141, 0, 0, 0.82753],</span><span class="s3">\n    \&quot;</span><span class="s1">81</span><span class="s3">\&quot;</span><span class="s1">: [0.03781, 0.69141, 0, 0, 0.82699],</span><span class="s3">\n    \&quot;</span><span class="s1">82</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.82807],</span><span class="s3">\n    \&quot;</span><span class="s1">83</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.82861],</span><span class="s3">\n    \&quot;</span><span class="s1">84</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.66899],</span><span class="s3">\n    \&quot;</span><span class="s1">85</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.64576],</span><span class="s3">\n    \&quot;</span><span class="s1">86</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.83131],</span><span class="s3">\n    \&quot;</span><span class="s1">87</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 1.04602],</span><span class="s3">\n    \&quot;</span><span class="s1">88</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.71922],</span><span class="s3">\n    \&quot;</span><span class="s1">89</span><span class="s3">\&quot;</span><span class="s1">: [0.18906, 0.69141, 0, 0, 0.83293],</span><span class="s3">\n    \&quot;</span><span class="s1">90</span><span class="s3">\&quot;</span><span class="s1">: [0.12604, 0.69141, 0, 0, 0.60201],</span><span class="s3">\n    \&quot;</span><span class="s1">91</span><span class="s3">\&quot;</span><span class="s1">: [0.24982, 0.74947, 0, 0, 0.27764],</span><span class="s3">\n    \&quot;</span><span class="s1">93</span><span class="s3">\&quot;</span><span class="s1">: [0.24982, 0.74947, 0, 0, 0.27764],</span><span class="s3">\n    \&quot;</span><span class="s1">94</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.49965],</span><span class="s3">\n    \&quot;</span><span class="s1">97</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.47534, 0, 0, 0.50046],</span><span class="s3">\n    \&quot;</span><span class="s1">98</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.51315],</span><span class="s3">\n    \&quot;</span><span class="s1">99</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.47534, 0, 0, 0.38946],</span><span class="s3">\n    \&quot;</span><span class="s1">100</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.62119, 0, 0, 0.49857],</span><span class="s3">\n    \&quot;</span><span class="s1">101</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.47534, 0, 0, 0.40053],</span><span class="s3">\n    \&quot;</span><span class="s1">102</span><span class="s3">\&quot;</span><span class="s1">: [0.18906, 0.69141, 0, 0, 0.32626],</span><span class="s3">\n    \&quot;</span><span class="s1">103</span><span class="s3">\&quot;</span><span class="s1">: [0.18906, 0.47534, 0, 0, 0.5037],</span><span class="s3">\n    \&quot;</span><span class="s1">104</span><span class="s3">\&quot;</span><span class="s1">: [0.18906, 0.69141, 0, 0, 0.52126],</span><span class="s3">\n    \&quot;</span><span class="s1">105</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.27899],</span><span class="s3">\n    \&quot;</span><span class="s1">106</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.28088],</span><span class="s3">\n    \&quot;</span><span class="s1">107</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.38946],</span><span class="s3">\n    \&quot;</span><span class="s1">108</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.27953],</span><span class="s3">\n    \&quot;</span><span class="s1">109</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.47534, 0, 0, 0.76676],</span><span class="s3">\n    \&quot;</span><span class="s1">110</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.47534, 0, 0, 0.52666],</span><span class="s3">\n    \&quot;</span><span class="s1">111</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.47534, 0, 0, 0.48885],</span><span class="s3">\n    \&quot;</span><span class="s1">112</span><span class="s3">\&quot;</span><span class="s1">: [0.18906, 0.52396, 0, 0, 0.50046],</span><span class="s3">\n    \&quot;</span><span class="s1">113</span><span class="s3">\&quot;</span><span class="s1">: [0.18906, 0.47534, 0, 0, 0.48912],</span><span class="s3">\n    \&quot;</span><span class="s1">114</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.47534, 0, 0, 0.38919],</span><span class="s3">\n    \&quot;</span><span class="s1">115</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.47534, 0, 0, 0.44266],</span><span class="s3">\n    \&quot;</span><span class="s1">116</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.62119, 0, 0, 0.33301],</span><span class="s3">\n    \&quot;</span><span class="s1">117</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.47534, 0, 0, 0.5172],</span><span class="s3">\n    \&quot;</span><span class="s1">118</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.52396, 0, 0, 0.5118],</span><span class="s3">\n    \&quot;</span><span class="s1">119</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.52396, 0, 0, 0.77351],</span><span class="s3">\n    \&quot;</span><span class="s1">120</span><span class="s3">\&quot;</span><span class="s1">: [0.18906, 0.47534, 0, 0, 0.38865],</span><span class="s3">\n    \&quot;</span><span class="s1">121</span><span class="s3">\&quot;</span><span class="s1">: [0.18906, 0.47534, 0, 0, 0.49884],</span><span class="s3">\n    \&quot;</span><span class="s1">122</span><span class="s3">\&quot;</span><span class="s1">: [0.18906, 0.47534, 0, 0, 0.39054],</span><span class="s3">\n    \&quot;</span><span class="s1">160</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">8216</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.21471],</span><span class="s3">\n    \&quot;</span><span class="s1">8217</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.21471],</span><span class="s3">\n    \&quot;</span><span class="s1">58112</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.62119, 0, 0, 0.49749],</span><span class="s3">\n    \&quot;</span><span class="s1">58113</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.62119, 0, 0, 0.4983],</span><span class="s3">\n    \&quot;</span><span class="s1">58114</span><span class="s3">\&quot;</span><span class="s1">: [0.18906, 0.69141, 0, 0, 0.33328],</span><span class="s3">\n    \&quot;</span><span class="s1">58115</span><span class="s3">\&quot;</span><span class="s1">: [0.18906, 0.69141, 0, 0, 0.32923],</span><span class="s3">\n    \&quot;</span><span class="s1">58116</span><span class="s3">\&quot;</span><span class="s1">: [0.18906, 0.47534, 0, 0, 0.50343],</span><span class="s3">\n    \&quot;</span><span class="s1">58117</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69141, 0, 0, 0.33301],</span><span class="s3">\n    \&quot;</span><span class="s1">58118</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.62119, 0, 0, 0.33409],</span><span class="s3">\n    \&quot;</span><span class="s1">58119</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.47534, 0, 0, 0.50073]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">Main-Bold</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">32</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">33</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.35],</span><span class="s3">\n    \&quot;</span><span class="s1">34</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.60278],</span><span class="s3">\n    \&quot;</span><span class="s1">35</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.95833],</span><span class="s3">\n    \&quot;</span><span class="s1">36</span><span class="s3">\&quot;</span><span class="s1">: [0.05556, 0.75, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">37</span><span class="s3">\&quot;</span><span class="s1">: [0.05556, 0.75, 0, 0, 0.95833],</span><span class="s3">\n    \&quot;</span><span class="s1">38</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">39</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.31944],</span><span class="s3">\n    \&quot;</span><span class="s1">40</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.44722],</span><span class="s3">\n    \&quot;</span><span class="s1">41</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.44722],</span><span class="s3">\n    \&quot;</span><span class="s1">42</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.75, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">43</span><span class="s3">\&quot;</span><span class="s1">: [0.13333, 0.63333, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">44</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.15556, 0, 0, 0.31944],</span><span class="s3">\n    \&quot;</span><span class="s1">45</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.38333],</span><span class="s3">\n    \&quot;</span><span class="s1">46</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.15556, 0, 0, 0.31944],</span><span class="s3">\n    \&quot;</span><span class="s1">47</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">48</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">49</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">50</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">51</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">52</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">53</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">54</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">55</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">56</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">57</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">58</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.31944],</span><span class="s3">\n    \&quot;</span><span class="s1">59</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.31944],</span><span class="s3">\n    \&quot;</span><span class="s1">60</span><span class="s3">\&quot;</span><span class="s1">: [0.08556, 0.58556, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">61</span><span class="s3">\&quot;</span><span class="s1">: [-0.10889, 0.39111, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">62</span><span class="s3">\&quot;</span><span class="s1">: [0.08556, 0.58556, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">63</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.54305],</span><span class="s3">\n    \&quot;</span><span class="s1">64</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">65</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.86944],</span><span class="s3">\n    \&quot;</span><span class="s1">66</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.81805],</span><span class="s3">\n    \&quot;</span><span class="s1">67</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.83055],</span><span class="s3">\n    \&quot;</span><span class="s1">68</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.88194],</span><span class="s3">\n    \&quot;</span><span class="s1">69</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.75555],</span><span class="s3">\n    \&quot;</span><span class="s1">70</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.72361],</span><span class="s3">\n    \&quot;</span><span class="s1">71</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.90416],</span><span class="s3">\n    \&quot;</span><span class="s1">72</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.9],</span><span class="s3">\n    \&quot;</span><span class="s1">73</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.43611],</span><span class="s3">\n    \&quot;</span><span class="s1">74</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.59444],</span><span class="s3">\n    \&quot;</span><span class="s1">75</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.90138],</span><span class="s3">\n    \&quot;</span><span class="s1">76</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.69166],</span><span class="s3">\n    \&quot;</span><span class="s1">77</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 1.09166],</span><span class="s3">\n    \&quot;</span><span class="s1">78</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.9],</span><span class="s3">\n    \&quot;</span><span class="s1">79</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.86388],</span><span class="s3">\n    \&quot;</span><span class="s1">80</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.78611],</span><span class="s3">\n    \&quot;</span><span class="s1">81</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.68611, 0, 0, 0.86388],</span><span class="s3">\n    \&quot;</span><span class="s1">82</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.8625],</span><span class="s3">\n    \&quot;</span><span class="s1">83</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.63889],</span><span class="s3">\n    \&quot;</span><span class="s1">84</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.8],</span><span class="s3">\n    \&quot;</span><span class="s1">85</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.88472],</span><span class="s3">\n    \&quot;</span><span class="s1">86</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.01597, 0, 0.86944],</span><span class="s3">\n    \&quot;</span><span class="s1">87</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.01597, 0, 1.18888],</span><span class="s3">\n    \&quot;</span><span class="s1">88</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.86944],</span><span class="s3">\n    \&quot;</span><span class="s1">89</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.02875, 0, 0.86944],</span><span class="s3">\n    \&quot;</span><span class="s1">90</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.70277],</span><span class="s3">\n    \&quot;</span><span class="s1">91</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.31944],</span><span class="s3">\n    \&quot;</span><span class="s1">92</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">93</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.31944],</span><span class="s3">\n    \&quot;</span><span class="s1">94</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">95</span><span class="s3">\&quot;</span><span class="s1">: [0.31, 0.13444, 0.03194, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">97</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.55902],</span><span class="s3">\n    \&quot;</span><span class="s1">98</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.63889],</span><span class="s3">\n    \&quot;</span><span class="s1">99</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">100</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.63889],</span><span class="s3">\n    \&quot;</span><span class="s1">101</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.52708],</span><span class="s3">\n    \&quot;</span><span class="s1">102</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.10903, 0, 0.35139],</span><span class="s3">\n    \&quot;</span><span class="s1">103</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.01597, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">104</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.63889],</span><span class="s3">\n    \&quot;</span><span class="s1">105</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.31944],</span><span class="s3">\n    \&quot;</span><span class="s1">106</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.35139],</span><span class="s3">\n    \&quot;</span><span class="s1">107</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.60694],</span><span class="s3">\n    \&quot;</span><span class="s1">108</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.31944],</span><span class="s3">\n    \&quot;</span><span class="s1">109</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.95833],</span><span class="s3">\n    \&quot;</span><span class="s1">110</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.63889],</span><span class="s3">\n    \&quot;</span><span class="s1">111</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">112</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.63889],</span><span class="s3">\n    \&quot;</span><span class="s1">113</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.60694],</span><span class="s3">\n    \&quot;</span><span class="s1">114</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.47361],</span><span class="s3">\n    \&quot;</span><span class="s1">115</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.45361],</span><span class="s3">\n    \&quot;</span><span class="s1">116</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.63492, 0, 0, 0.44722],</span><span class="s3">\n    \&quot;</span><span class="s1">117</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.63889],</span><span class="s3">\n    \&quot;</span><span class="s1">118</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.01597, 0, 0.60694],</span><span class="s3">\n    \&quot;</span><span class="s1">119</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.01597, 0, 0.83055],</span><span class="s3">\n    \&quot;</span><span class="s1">120</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.60694],</span><span class="s3">\n    \&quot;</span><span class="s1">121</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.01597, 0, 0.60694],</span><span class="s3">\n    \&quot;</span><span class="s1">122</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">123</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">124</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.31944],</span><span class="s3">\n    \&quot;</span><span class="s1">125</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">126</span><span class="s3">\&quot;</span><span class="s1">: [0.35, 0.34444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">160</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">163</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.86853],</span><span class="s3">\n    \&quot;</span><span class="s1">168</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">172</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">176</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.86944],</span><span class="s3">\n    \&quot;</span><span class="s1">177</span><span class="s3">\&quot;</span><span class="s1">: [0.13333, 0.63333, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">184</span><span class="s3">\&quot;</span><span class="s1">: [0.17014, 0, 0, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">198</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 1.04166],</span><span class="s3">\n    \&quot;</span><span class="s1">215</span><span class="s3">\&quot;</span><span class="s1">: [0.13333, 0.63333, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">216</span><span class="s3">\&quot;</span><span class="s1">: [0.04861, 0.73472, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">223</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.59722],</span><span class="s3">\n    \&quot;</span><span class="s1">230</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.83055],</span><span class="s3">\n    \&quot;</span><span class="s1">247</span><span class="s3">\&quot;</span><span class="s1">: [0.13333, 0.63333, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">248</span><span class="s3">\&quot;</span><span class="s1">: [0.09722, 0.54167, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">305</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.31944],</span><span class="s3">\n    \&quot;</span><span class="s1">338</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 1.16944],</span><span class="s3">\n    \&quot;</span><span class="s1">339</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">567</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.35139],</span><span class="s3">\n    \&quot;</span><span class="s1">710</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">711</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.63194, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">713</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.59611, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">714</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">715</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">728</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">729</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.31944],</span><span class="s3">\n    \&quot;</span><span class="s1">730</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.86944],</span><span class="s3">\n    \&quot;</span><span class="s1">732</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">733</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">915</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.69166],</span><span class="s3">\n    \&quot;</span><span class="s1">916</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.95833],</span><span class="s3">\n    \&quot;</span><span class="s1">920</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">923</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.80555],</span><span class="s3">\n    \&quot;</span><span class="s1">926</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">928</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.9],</span><span class="s3">\n    \&quot;</span><span class="s1">931</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.83055],</span><span class="s3">\n    \&quot;</span><span class="s1">933</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">934</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.83055],</span><span class="s3">\n    \&quot;</span><span class="s1">936</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">937</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.83055],</span><span class="s3">\n    \&quot;</span><span class="s1">8211</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.03194, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">8212</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.03194, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">8216</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.31944],</span><span class="s3">\n    \&quot;</span><span class="s1">8217</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.31944],</span><span class="s3">\n    \&quot;</span><span class="s1">8220</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.60278],</span><span class="s3">\n    \&quot;</span><span class="s1">8221</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.60278],</span><span class="s3">\n    \&quot;</span><span class="s1">8224</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">8225</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">8242</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.55556, 0, 0, 0.34444],</span><span class="s3">\n    \&quot;</span><span class="s1">8407</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.72444, 0.15486, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">8463</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.66759],</span><span class="s3">\n    \&quot;</span><span class="s1">8465</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.83055],</span><span class="s3">\n    \&quot;</span><span class="s1">8467</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.47361],</span><span class="s3">\n    \&quot;</span><span class="s1">8472</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.74027],</span><span class="s3">\n    \&quot;</span><span class="s1">8476</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.83055],</span><span class="s3">\n    \&quot;</span><span class="s1">8501</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.70277],</span><span class="s3">\n    \&quot;</span><span class="s1">8592</span><span class="s3">\&quot;</span><span class="s1">: [-0.10889, 0.39111, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">8593</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">8594</span><span class="s3">\&quot;</span><span class="s1">: [-0.10889, 0.39111, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">8595</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">8596</span><span class="s3">\&quot;</span><span class="s1">: [-0.10889, 0.39111, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">8597</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">8598</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">8599</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">8600</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">8601</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">8636</span><span class="s3">\&quot;</span><span class="s1">: [-0.10889, 0.39111, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">8637</span><span class="s3">\&quot;</span><span class="s1">: [-0.10889, 0.39111, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">8640</span><span class="s3">\&quot;</span><span class="s1">: [-0.10889, 0.39111, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">8641</span><span class="s3">\&quot;</span><span class="s1">: [-0.10889, 0.39111, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">8656</span><span class="s3">\&quot;</span><span class="s1">: [-0.10889, 0.39111, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">8657</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.70277],</span><span class="s3">\n    \&quot;</span><span class="s1">8658</span><span class="s3">\&quot;</span><span class="s1">: [-0.10889, 0.39111, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">8659</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.70277],</span><span class="s3">\n    \&quot;</span><span class="s1">8660</span><span class="s3">\&quot;</span><span class="s1">: [-0.10889, 0.39111, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">8661</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.70277],</span><span class="s3">\n    \&quot;</span><span class="s1">8704</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.63889],</span><span class="s3">\n    \&quot;</span><span class="s1">8706</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.06389, 0, 0.62847],</span><span class="s3">\n    \&quot;</span><span class="s1">8707</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.63889],</span><span class="s3">\n    \&quot;</span><span class="s1">8709</span><span class="s3">\&quot;</span><span class="s1">: [0.05556, 0.75, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">8711</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.95833],</span><span class="s3">\n    \&quot;</span><span class="s1">8712</span><span class="s3">\&quot;</span><span class="s1">: [0.08556, 0.58556, 0, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">8715</span><span class="s3">\&quot;</span><span class="s1">: [0.08556, 0.58556, 0, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">8722</span><span class="s3">\&quot;</span><span class="s1">: [0.13333, 0.63333, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8723</span><span class="s3">\&quot;</span><span class="s1">: [0.13333, 0.63333, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8725</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">8726</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">8727</span><span class="s3">\&quot;</span><span class="s1">: [-0.02778, 0.47222, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">8728</span><span class="s3">\&quot;</span><span class="s1">: [-0.02639, 0.47361, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">8729</span><span class="s3">\&quot;</span><span class="s1">: [-0.02639, 0.47361, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">8730</span><span class="s3">\&quot;</span><span class="s1">: [0.18, 0.82, 0, 0, 0.95833],</span><span class="s3">\n    \&quot;</span><span class="s1">8733</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8734</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">8736</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">8739</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.31944],</span><span class="s3">\n    \&quot;</span><span class="s1">8741</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">8743</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.55556, 0, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">8744</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.55556, 0, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">8745</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.55556, 0, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">8746</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.55556, 0, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">8747</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0.12778, 0, 0.56875],</span><span class="s3">\n    \&quot;</span><span class="s1">8764</span><span class="s3">\&quot;</span><span class="s1">: [-0.10889, 0.39111, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8768</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.31944],</span><span class="s3">\n    \&quot;</span><span class="s1">8771</span><span class="s3">\&quot;</span><span class="s1">: [0.00222, 0.50222, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8773</span><span class="s3">\&quot;</span><span class="s1">: [0.027, 0.638, 0, 0, 0.894],</span><span class="s3">\n    \&quot;</span><span class="s1">8776</span><span class="s3">\&quot;</span><span class="s1">: [0.02444, 0.52444, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8781</span><span class="s3">\&quot;</span><span class="s1">: [0.00222, 0.50222, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8801</span><span class="s3">\&quot;</span><span class="s1">: [0.00222, 0.50222, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8804</span><span class="s3">\&quot;</span><span class="s1">: [0.19667, 0.69667, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8805</span><span class="s3">\&quot;</span><span class="s1">: [0.19667, 0.69667, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8810</span><span class="s3">\&quot;</span><span class="s1">: [0.08556, 0.58556, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">8811</span><span class="s3">\&quot;</span><span class="s1">: [0.08556, 0.58556, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">8826</span><span class="s3">\&quot;</span><span class="s1">: [0.08556, 0.58556, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8827</span><span class="s3">\&quot;</span><span class="s1">: [0.08556, 0.58556, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8834</span><span class="s3">\&quot;</span><span class="s1">: [0.08556, 0.58556, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8835</span><span class="s3">\&quot;</span><span class="s1">: [0.08556, 0.58556, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8838</span><span class="s3">\&quot;</span><span class="s1">: [0.19667, 0.69667, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8839</span><span class="s3">\&quot;</span><span class="s1">: [0.19667, 0.69667, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8846</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.55556, 0, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">8849</span><span class="s3">\&quot;</span><span class="s1">: [0.19667, 0.69667, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8850</span><span class="s3">\&quot;</span><span class="s1">: [0.19667, 0.69667, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8851</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.55556, 0, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">8852</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.55556, 0, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">8853</span><span class="s3">\&quot;</span><span class="s1">: [0.13333, 0.63333, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8854</span><span class="s3">\&quot;</span><span class="s1">: [0.13333, 0.63333, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8855</span><span class="s3">\&quot;</span><span class="s1">: [0.13333, 0.63333, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8856</span><span class="s3">\&quot;</span><span class="s1">: [0.13333, 0.63333, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8857</span><span class="s3">\&quot;</span><span class="s1">: [0.13333, 0.63333, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8866</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.70277],</span><span class="s3">\n    \&quot;</span><span class="s1">8867</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.70277],</span><span class="s3">\n    \&quot;</span><span class="s1">8868</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8869</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">8900</span><span class="s3">\&quot;</span><span class="s1">: [-0.02639, 0.47361, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">8901</span><span class="s3">\&quot;</span><span class="s1">: [-0.02639, 0.47361, 0, 0, 0.31944],</span><span class="s3">\n    \&quot;</span><span class="s1">8902</span><span class="s3">\&quot;</span><span class="s1">: [-0.02778, 0.47222, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">8968</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">8969</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">8970</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">8971</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">8994</span><span class="s3">\&quot;</span><span class="s1">: [-0.13889, 0.36111, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">8995</span><span class="s3">\&quot;</span><span class="s1">: [-0.13889, 0.36111, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">9651</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 1.02222],</span><span class="s3">\n    \&quot;</span><span class="s1">9657</span><span class="s3">\&quot;</span><span class="s1">: [-0.02778, 0.47222, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">9661</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 1.02222],</span><span class="s3">\n    \&quot;</span><span class="s1">9667</span><span class="s3">\&quot;</span><span class="s1">: [-0.02778, 0.47222, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">9711</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 1.14999],</span><span class="s3">\n    \&quot;</span><span class="s1">9824</span><span class="s3">\&quot;</span><span class="s1">: [0.12963, 0.69444, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">9825</span><span class="s3">\&quot;</span><span class="s1">: [0.12963, 0.69444, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">9826</span><span class="s3">\&quot;</span><span class="s1">: [0.12963, 0.69444, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">9827</span><span class="s3">\&quot;</span><span class="s1">: [0.12963, 0.69444, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">9837</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.75, 0, 0, 0.44722],</span><span class="s3">\n    \&quot;</span><span class="s1">9838</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.44722],</span><span class="s3">\n    \&quot;</span><span class="s1">9839</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.44722],</span><span class="s3">\n    \&quot;</span><span class="s1">10216</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.44722],</span><span class="s3">\n    \&quot;</span><span class="s1">10217</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.44722],</span><span class="s3">\n    \&quot;</span><span class="s1">10815</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.9],</span><span class="s3">\n    \&quot;</span><span class="s1">10927</span><span class="s3">\&quot;</span><span class="s1">: [0.19667, 0.69667, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">10928</span><span class="s3">\&quot;</span><span class="s1">: [0.19667, 0.69667, 0, 0, 0.89444],</span><span class="s3">\n    \&quot;</span><span class="s1">57376</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">Main-BoldItalic</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">32</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">33</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.11417, 0, 0.38611],</span><span class="s3">\n    \&quot;</span><span class="s1">34</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.07939, 0, 0.62055],</span><span class="s3">\n    \&quot;</span><span class="s1">35</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0.06833, 0, 0.94444],</span><span class="s3">\n    \&quot;</span><span class="s1">37</span><span class="s3">\&quot;</span><span class="s1">: [0.05556, 0.75, 0.12861, 0, 0.94444],</span><span class="s3">\n    \&quot;</span><span class="s1">38</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.08528, 0, 0.88555],</span><span class="s3">\n    \&quot;</span><span class="s1">39</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.12945, 0, 0.35555],</span><span class="s3">\n    \&quot;</span><span class="s1">40</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0.15806, 0, 0.47333],</span><span class="s3">\n    \&quot;</span><span class="s1">41</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0.03306, 0, 0.47333],</span><span class="s3">\n    \&quot;</span><span class="s1">42</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.75, 0.14333, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">43</span><span class="s3">\&quot;</span><span class="s1">: [0.10333, 0.60333, 0.03306, 0, 0.88555],</span><span class="s3">\n    \&quot;</span><span class="s1">44</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.14722, 0, 0, 0.35555],</span><span class="s3">\n    \&quot;</span><span class="s1">45</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.02611, 0, 0.41444],</span><span class="s3">\n    \&quot;</span><span class="s1">46</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.14722, 0, 0, 0.35555],</span><span class="s3">\n    \&quot;</span><span class="s1">47</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0.15806, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">48</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0.13167, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">49</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0.13167, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">50</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0.13167, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">51</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0.13167, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">52</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.64444, 0.13167, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">53</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0.13167, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">54</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0.13167, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">55</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.64444, 0.13167, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">56</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0.13167, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">57</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0.13167, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">58</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.06695, 0, 0.35555],</span><span class="s3">\n    \&quot;</span><span class="s1">59</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.06695, 0, 0.35555],</span><span class="s3">\n    \&quot;</span><span class="s1">61</span><span class="s3">\&quot;</span><span class="s1">: [-0.10889, 0.39111, 0.06833, 0, 0.88555],</span><span class="s3">\n    \&quot;</span><span class="s1">63</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.11472, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">64</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.09208, 0, 0.88555],</span><span class="s3">\n    \&quot;</span><span class="s1">65</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.86555],</span><span class="s3">\n    \&quot;</span><span class="s1">66</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.0992, 0, 0.81666],</span><span class="s3">\n    \&quot;</span><span class="s1">67</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.14208, 0, 0.82666],</span><span class="s3">\n    \&quot;</span><span class="s1">68</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.09062, 0, 0.87555],</span><span class="s3">\n    \&quot;</span><span class="s1">69</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.11431, 0, 0.75666],</span><span class="s3">\n    \&quot;</span><span class="s1">70</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.12903, 0, 0.72722],</span><span class="s3">\n    \&quot;</span><span class="s1">71</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.07347, 0, 0.89527],</span><span class="s3">\n    \&quot;</span><span class="s1">72</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.17208, 0, 0.8961],</span><span class="s3">\n    \&quot;</span><span class="s1">73</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.15681, 0, 0.47166],</span><span class="s3">\n    \&quot;</span><span class="s1">74</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.145, 0, 0.61055],</span><span class="s3">\n    \&quot;</span><span class="s1">75</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.14208, 0, 0.89499],</span><span class="s3">\n    \&quot;</span><span class="s1">76</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.69777],</span><span class="s3">\n    \&quot;</span><span class="s1">77</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.17208, 0, 1.07277],</span><span class="s3">\n    \&quot;</span><span class="s1">78</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.17208, 0, 0.8961],</span><span class="s3">\n    \&quot;</span><span class="s1">79</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.09062, 0, 0.85499],</span><span class="s3">\n    \&quot;</span><span class="s1">80</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.0992, 0, 0.78721],</span><span class="s3">\n    \&quot;</span><span class="s1">81</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.68611, 0.09062, 0, 0.85499],</span><span class="s3">\n    \&quot;</span><span class="s1">82</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.02559, 0, 0.85944],</span><span class="s3">\n    \&quot;</span><span class="s1">83</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.11264, 0, 0.64999],</span><span class="s3">\n    \&quot;</span><span class="s1">84</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.12903, 0, 0.7961],</span><span class="s3">\n    \&quot;</span><span class="s1">85</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.17208, 0, 0.88083],</span><span class="s3">\n    \&quot;</span><span class="s1">86</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.18625, 0, 0.86555],</span><span class="s3">\n    \&quot;</span><span class="s1">87</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.18625, 0, 1.15999],</span><span class="s3">\n    \&quot;</span><span class="s1">88</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.15681, 0, 0.86555],</span><span class="s3">\n    \&quot;</span><span class="s1">89</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.19803, 0, 0.86555],</span><span class="s3">\n    \&quot;</span><span class="s1">90</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.14208, 0, 0.70888],</span><span class="s3">\n    \&quot;</span><span class="s1">91</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0.1875, 0, 0.35611],</span><span class="s3">\n    \&quot;</span><span class="s1">93</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0.09972, 0, 0.35611],</span><span class="s3">\n    \&quot;</span><span class="s1">94</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.06709, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">95</span><span class="s3">\&quot;</span><span class="s1">: [0.31, 0.13444, 0.09811, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">97</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.09426, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">98</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.07861, 0, 0.53222],</span><span class="s3">\n    \&quot;</span><span class="s1">99</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.05222, 0, 0.53222],</span><span class="s3">\n    \&quot;</span><span class="s1">100</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.10861, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">101</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.085, 0, 0.53222],</span><span class="s3">\n    \&quot;</span><span class="s1">102</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0.21778, 0, 0.4],</span><span class="s3">\n    \&quot;</span><span class="s1">103</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.105, 0, 0.53222],</span><span class="s3">\n    \&quot;</span><span class="s1">104</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.09426, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">105</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69326, 0.11387, 0, 0.35555],</span><span class="s3">\n    \&quot;</span><span class="s1">106</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69326, 0.1672, 0, 0.35555],</span><span class="s3">\n    \&quot;</span><span class="s1">107</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.11111, 0, 0.53222],</span><span class="s3">\n    \&quot;</span><span class="s1">108</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.10861, 0, 0.29666],</span><span class="s3">\n    \&quot;</span><span class="s1">109</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.09426, 0, 0.94444],</span><span class="s3">\n    \&quot;</span><span class="s1">110</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.09426, 0, 0.64999],</span><span class="s3">\n    \&quot;</span><span class="s1">111</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.07861, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">112</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.07861, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">113</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.105, 0, 0.53222],</span><span class="s3">\n    \&quot;</span><span class="s1">114</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.11111, 0, 0.50167],</span><span class="s3">\n    \&quot;</span><span class="s1">115</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.08167, 0, 0.48694],</span><span class="s3">\n    \&quot;</span><span class="s1">116</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.63492, 0.09639, 0, 0.385],</span><span class="s3">\n    \&quot;</span><span class="s1">117</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.09426, 0, 0.62055],</span><span class="s3">\n    \&quot;</span><span class="s1">118</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.11111, 0, 0.53222],</span><span class="s3">\n    \&quot;</span><span class="s1">119</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.11111, 0, 0.76777],</span><span class="s3">\n    \&quot;</span><span class="s1">120</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.12583, 0, 0.56055],</span><span class="s3">\n    \&quot;</span><span class="s1">121</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.105, 0, 0.56166],</span><span class="s3">\n    \&quot;</span><span class="s1">122</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.13889, 0, 0.49055],</span><span class="s3">\n    \&quot;</span><span class="s1">126</span><span class="s3">\&quot;</span><span class="s1">: [0.35, 0.34444, 0.11472, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">160</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">168</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.11473, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">176</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.94888],</span><span class="s3">\n    \&quot;</span><span class="s1">184</span><span class="s3">\&quot;</span><span class="s1">: [0.17014, 0, 0, 0, 0.53222],</span><span class="s3">\n    \&quot;</span><span class="s1">198</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.11431, 0, 1.02277],</span><span class="s3">\n    \&quot;</span><span class="s1">216</span><span class="s3">\&quot;</span><span class="s1">: [0.04861, 0.73472, 0.09062, 0, 0.88555],</span><span class="s3">\n    \&quot;</span><span class="s1">223</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0.09736, 0, 0.665],</span><span class="s3">\n    \&quot;</span><span class="s1">230</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.085, 0, 0.82666],</span><span class="s3">\n    \&quot;</span><span class="s1">248</span><span class="s3">\&quot;</span><span class="s1">: [0.09722, 0.54167, 0.09458, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">305</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.09426, 0, 0.35555],</span><span class="s3">\n    \&quot;</span><span class="s1">338</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.11431, 0, 1.14054],</span><span class="s3">\n    \&quot;</span><span class="s1">339</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.085, 0, 0.82666],</span><span class="s3">\n    \&quot;</span><span class="s1">567</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.04611, 0, 0.385],</span><span class="s3">\n    \&quot;</span><span class="s1">710</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.06709, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">711</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.63194, 0.08271, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">713</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.59444, 0.10444, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">714</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.08528, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">715</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">728</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.10333, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">729</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.12945, 0, 0.35555],</span><span class="s3">\n    \&quot;</span><span class="s1">730</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.94888],</span><span class="s3">\n    \&quot;</span><span class="s1">732</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.11472, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">733</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.11472, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">915</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.12903, 0, 0.69777],</span><span class="s3">\n    \&quot;</span><span class="s1">916</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.94444],</span><span class="s3">\n    \&quot;</span><span class="s1">920</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.09062, 0, 0.88555],</span><span class="s3">\n    \&quot;</span><span class="s1">923</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.80666],</span><span class="s3">\n    \&quot;</span><span class="s1">926</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.15092, 0, 0.76777],</span><span class="s3">\n    \&quot;</span><span class="s1">928</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.17208, 0, 0.8961],</span><span class="s3">\n    \&quot;</span><span class="s1">931</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.11431, 0, 0.82666],</span><span class="s3">\n    \&quot;</span><span class="s1">933</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.10778, 0, 0.88555],</span><span class="s3">\n    \&quot;</span><span class="s1">934</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.05632, 0, 0.82666],</span><span class="s3">\n    \&quot;</span><span class="s1">936</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.10778, 0, 0.88555],</span><span class="s3">\n    \&quot;</span><span class="s1">937</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.0992, 0, 0.82666],</span><span class="s3">\n    \&quot;</span><span class="s1">8211</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.09811, 0, 0.59111],</span><span class="s3">\n    \&quot;</span><span class="s1">8212</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.09811, 0, 1.18221],</span><span class="s3">\n    \&quot;</span><span class="s1">8216</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.12945, 0, 0.35555],</span><span class="s3">\n    \&quot;</span><span class="s1">8217</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.12945, 0, 0.35555],</span><span class="s3">\n    \&quot;</span><span class="s1">8220</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.16772, 0, 0.62055],</span><span class="s3">\n    \&quot;</span><span class="s1">8221</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.07939, 0, 0.62055]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">Main-Italic</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">32</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">33</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.12417, 0, 0.30667],</span><span class="s3">\n    \&quot;</span><span class="s1">34</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.06961, 0, 0.51444],</span><span class="s3">\n    \&quot;</span><span class="s1">35</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0.06616, 0, 0.81777],</span><span class="s3">\n    \&quot;</span><span class="s1">37</span><span class="s3">\&quot;</span><span class="s1">: [0.05556, 0.75, 0.13639, 0, 0.81777],</span><span class="s3">\n    \&quot;</span><span class="s1">38</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.09694, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">39</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.12417, 0, 0.30667],</span><span class="s3">\n    \&quot;</span><span class="s1">40</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0.16194, 0, 0.40889],</span><span class="s3">\n    \&quot;</span><span class="s1">41</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0.03694, 0, 0.40889],</span><span class="s3">\n    \&quot;</span><span class="s1">42</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.75, 0.14917, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">43</span><span class="s3">\&quot;</span><span class="s1">: [0.05667, 0.56167, 0.03694, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">44</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.10556, 0, 0, 0.30667],</span><span class="s3">\n    \&quot;</span><span class="s1">45</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.02826, 0, 0.35778],</span><span class="s3">\n    \&quot;</span><span class="s1">46</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.10556, 0, 0, 0.30667],</span><span class="s3">\n    \&quot;</span><span class="s1">47</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0.16194, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">48</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0.13556, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">49</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0.13556, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">50</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0.13556, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">51</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0.13556, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">52</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.64444, 0.13556, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">53</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0.13556, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">54</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0.13556, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">55</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.64444, 0.13556, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">56</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0.13556, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">57</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0.13556, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">58</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.0582, 0, 0.30667],</span><span class="s3">\n    \&quot;</span><span class="s1">59</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0.0582, 0, 0.30667],</span><span class="s3">\n    \&quot;</span><span class="s1">61</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0.06616, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">63</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.1225, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">64</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.09597, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">65</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.74333],</span><span class="s3">\n    \&quot;</span><span class="s1">66</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.10257, 0, 0.70389],</span><span class="s3">\n    \&quot;</span><span class="s1">67</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.14528, 0, 0.71555],</span><span class="s3">\n    \&quot;</span><span class="s1">68</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.09403, 0, 0.755],</span><span class="s3">\n    \&quot;</span><span class="s1">69</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.12028, 0, 0.67833],</span><span class="s3">\n    \&quot;</span><span class="s1">70</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.13305, 0, 0.65277],</span><span class="s3">\n    \&quot;</span><span class="s1">71</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.08722, 0, 0.77361],</span><span class="s3">\n    \&quot;</span><span class="s1">72</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.16389, 0, 0.74333],</span><span class="s3">\n    \&quot;</span><span class="s1">73</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.15806, 0, 0.38555],</span><span class="s3">\n    \&quot;</span><span class="s1">74</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.14028, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">75</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.14528, 0, 0.76888],</span><span class="s3">\n    \&quot;</span><span class="s1">76</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.62722],</span><span class="s3">\n    \&quot;</span><span class="s1">77</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.16389, 0, 0.89666],</span><span class="s3">\n    \&quot;</span><span class="s1">78</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.16389, 0, 0.74333],</span><span class="s3">\n    \&quot;</span><span class="s1">79</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.09403, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">80</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.10257, 0, 0.67833],</span><span class="s3">\n    \&quot;</span><span class="s1">81</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.68333, 0.09403, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">82</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.03868, 0, 0.72944],</span><span class="s3">\n    \&quot;</span><span class="s1">83</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.11972, 0, 0.56222],</span><span class="s3">\n    \&quot;</span><span class="s1">84</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.13305, 0, 0.71555],</span><span class="s3">\n    \&quot;</span><span class="s1">85</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.16389, 0, 0.74333],</span><span class="s3">\n    \&quot;</span><span class="s1">86</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.18361, 0, 0.74333],</span><span class="s3">\n    \&quot;</span><span class="s1">87</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.18361, 0, 0.99888],</span><span class="s3">\n    \&quot;</span><span class="s1">88</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.15806, 0, 0.74333],</span><span class="s3">\n    \&quot;</span><span class="s1">89</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.19383, 0, 0.74333],</span><span class="s3">\n    \&quot;</span><span class="s1">90</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.14528, 0, 0.61333],</span><span class="s3">\n    \&quot;</span><span class="s1">91</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0.1875, 0, 0.30667],</span><span class="s3">\n    \&quot;</span><span class="s1">93</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0.10528, 0, 0.30667],</span><span class="s3">\n    \&quot;</span><span class="s1">94</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.06646, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">95</span><span class="s3">\&quot;</span><span class="s1">: [0.31, 0.12056, 0.09208, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">97</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.07671, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">98</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.06312, 0, 0.46],</span><span class="s3">\n    \&quot;</span><span class="s1">99</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.05653, 0, 0.46],</span><span class="s3">\n    \&quot;</span><span class="s1">100</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.10333, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">101</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.07514, 0, 0.46],</span><span class="s3">\n    \&quot;</span><span class="s1">102</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0.21194, 0, 0.30667],</span><span class="s3">\n    \&quot;</span><span class="s1">103</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0.08847, 0, 0.46],</span><span class="s3">\n    \&quot;</span><span class="s1">104</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.07671, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">105</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65536, 0.1019, 0, 0.30667],</span><span class="s3">\n    \&quot;</span><span class="s1">106</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.65536, 0.14467, 0, 0.30667],</span><span class="s3">\n    \&quot;</span><span class="s1">107</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.10764, 0, 0.46],</span><span class="s3">\n    \&quot;</span><span class="s1">108</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.10333, 0, 0.25555],</span><span class="s3">\n    \&quot;</span><span class="s1">109</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.07671, 0, 0.81777],</span><span class="s3">\n    \&quot;</span><span class="s1">110</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.07671, 0, 0.56222],</span><span class="s3">\n    \&quot;</span><span class="s1">111</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.06312, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">112</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0.06312, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">113</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0.08847, 0, 0.46],</span><span class="s3">\n    \&quot;</span><span class="s1">114</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.10764, 0, 0.42166],</span><span class="s3">\n    \&quot;</span><span class="s1">115</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.08208, 0, 0.40889],</span><span class="s3">\n    \&quot;</span><span class="s1">116</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61508, 0.09486, 0, 0.33222],</span><span class="s3">\n    \&quot;</span><span class="s1">117</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.07671, 0, 0.53666],</span><span class="s3">\n    \&quot;</span><span class="s1">118</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.10764, 0, 0.46],</span><span class="s3">\n    \&quot;</span><span class="s1">119</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.10764, 0, 0.66444],</span><span class="s3">\n    \&quot;</span><span class="s1">120</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.12042, 0, 0.46389],</span><span class="s3">\n    \&quot;</span><span class="s1">121</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0.08847, 0, 0.48555],</span><span class="s3">\n    \&quot;</span><span class="s1">122</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.12292, 0, 0.40889],</span><span class="s3">\n    \&quot;</span><span class="s1">126</span><span class="s3">\&quot;</span><span class="s1">: [0.35, 0.31786, 0.11585, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">160</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">168</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.66786, 0.10474, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">176</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.83129],</span><span class="s3">\n    \&quot;</span><span class="s1">184</span><span class="s3">\&quot;</span><span class="s1">: [0.17014, 0, 0, 0, 0.46],</span><span class="s3">\n    \&quot;</span><span class="s1">198</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.12028, 0, 0.88277],</span><span class="s3">\n    \&quot;</span><span class="s1">216</span><span class="s3">\&quot;</span><span class="s1">: [0.04861, 0.73194, 0.09403, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">223</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0.10514, 0, 0.53666],</span><span class="s3">\n    \&quot;</span><span class="s1">230</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.07514, 0, 0.71555],</span><span class="s3">\n    \&quot;</span><span class="s1">248</span><span class="s3">\&quot;</span><span class="s1">: [0.09722, 0.52778, 0.09194, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">338</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.12028, 0, 0.98499],</span><span class="s3">\n    \&quot;</span><span class="s1">339</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.07514, 0, 0.71555],</span><span class="s3">\n    \&quot;</span><span class="s1">710</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.06646, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">711</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.62847, 0.08295, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">713</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.56167, 0.10333, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">714</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.09694, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">715</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">728</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.10806, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">729</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.66786, 0.11752, 0, 0.30667],</span><span class="s3">\n    \&quot;</span><span class="s1">730</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.83129],</span><span class="s3">\n    \&quot;</span><span class="s1">732</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.66786, 0.11585, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">733</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.1225, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">915</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.13305, 0, 0.62722],</span><span class="s3">\n    \&quot;</span><span class="s1">916</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.81777],</span><span class="s3">\n    \&quot;</span><span class="s1">920</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.09403, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">923</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.69222],</span><span class="s3">\n    \&quot;</span><span class="s1">926</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.15294, 0, 0.66444],</span><span class="s3">\n    \&quot;</span><span class="s1">928</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.16389, 0, 0.74333],</span><span class="s3">\n    \&quot;</span><span class="s1">931</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.12028, 0, 0.71555],</span><span class="s3">\n    \&quot;</span><span class="s1">933</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.11111, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">934</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.05986, 0, 0.71555],</span><span class="s3">\n    \&quot;</span><span class="s1">936</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.11111, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">937</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.10257, 0, 0.71555],</span><span class="s3">\n    \&quot;</span><span class="s1">8211</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.09208, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">8212</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.09208, 0, 1.02222],</span><span class="s3">\n    \&quot;</span><span class="s1">8216</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.12417, 0, 0.30667],</span><span class="s3">\n    \&quot;</span><span class="s1">8217</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.12417, 0, 0.30667],</span><span class="s3">\n    \&quot;</span><span class="s1">8220</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.1685, 0, 0.51444],</span><span class="s3">\n    \&quot;</span><span class="s1">8221</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.06961, 0, 0.51444],</span><span class="s3">\n    \&quot;</span><span class="s1">8463</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.54028]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">Main-Regular</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">32</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">33</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">34</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">35</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">36</span><span class="s3">\&quot;</span><span class="s1">: [0.05556, 0.75, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">37</span><span class="s3">\&quot;</span><span class="s1">: [0.05556, 0.75, 0, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">38</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">39</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">40</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.38889],</span><span class="s3">\n    \&quot;</span><span class="s1">41</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.38889],</span><span class="s3">\n    \&quot;</span><span class="s1">42</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.75, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">43</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.58333, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">44</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.10556, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">45</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.33333],</span><span class="s3">\n    \&quot;</span><span class="s1">46</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.10556, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">47</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">48</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">49</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">50</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">51</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">52</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">53</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">54</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">55</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">56</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">57</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">58</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">59</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">60</span><span class="s3">\&quot;</span><span class="s1">: [0.0391, 0.5391, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">61</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">62</span><span class="s3">\&quot;</span><span class="s1">: [0.0391, 0.5391, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">63</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.47222],</span><span class="s3">\n    \&quot;</span><span class="s1">64</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">65</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.75],</span><span class="s3">\n    \&quot;</span><span class="s1">66</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.70834],</span><span class="s3">\n    \&quot;</span><span class="s1">67</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">68</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.76389],</span><span class="s3">\n    \&quot;</span><span class="s1">69</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.68056],</span><span class="s3">\n    \&quot;</span><span class="s1">70</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.65278],</span><span class="s3">\n    \&quot;</span><span class="s1">71</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.78472],</span><span class="s3">\n    \&quot;</span><span class="s1">72</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.75],</span><span class="s3">\n    \&quot;</span><span class="s1">73</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.36111],</span><span class="s3">\n    \&quot;</span><span class="s1">74</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.51389],</span><span class="s3">\n    \&quot;</span><span class="s1">75</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">76</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.625],</span><span class="s3">\n    \&quot;</span><span class="s1">77</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.91667],</span><span class="s3">\n    \&quot;</span><span class="s1">78</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.75],</span><span class="s3">\n    \&quot;</span><span class="s1">79</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">80</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.68056],</span><span class="s3">\n    \&quot;</span><span class="s1">81</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.68333, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">82</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.73611],</span><span class="s3">\n    \&quot;</span><span class="s1">83</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">84</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">85</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.75],</span><span class="s3">\n    \&quot;</span><span class="s1">86</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.01389, 0, 0.75],</span><span class="s3">\n    \&quot;</span><span class="s1">87</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.01389, 0, 1.02778],</span><span class="s3">\n    \&quot;</span><span class="s1">88</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.75],</span><span class="s3">\n    \&quot;</span><span class="s1">89</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.025, 0, 0.75],</span><span class="s3">\n    \&quot;</span><span class="s1">90</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">91</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">92</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">93</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">94</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">95</span><span class="s3">\&quot;</span><span class="s1">: [0.31, 0.12056, 0.02778, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">97</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">98</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">99</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">100</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">101</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">102</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.07778, 0, 0.30556],</span><span class="s3">\n    \&quot;</span><span class="s1">103</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0.01389, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">104</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">105</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.66786, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">106</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.66786, 0, 0, 0.30556],</span><span class="s3">\n    \&quot;</span><span class="s1">107</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.52778],</span><span class="s3">\n    \&quot;</span><span class="s1">108</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">109</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">110</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">111</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">112</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">113</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0, 0, 0.52778],</span><span class="s3">\n    \&quot;</span><span class="s1">114</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.39167],</span><span class="s3">\n    \&quot;</span><span class="s1">115</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.39445],</span><span class="s3">\n    \&quot;</span><span class="s1">116</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61508, 0, 0, 0.38889],</span><span class="s3">\n    \&quot;</span><span class="s1">117</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">118</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.01389, 0, 0.52778],</span><span class="s3">\n    \&quot;</span><span class="s1">119</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.01389, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">120</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.52778],</span><span class="s3">\n    \&quot;</span><span class="s1">121</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0.01389, 0, 0.52778],</span><span class="s3">\n    \&quot;</span><span class="s1">122</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">123</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">124</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">125</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">126</span><span class="s3">\&quot;</span><span class="s1">: [0.35, 0.31786, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">160</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">163</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.76909],</span><span class="s3">\n    \&quot;</span><span class="s1">167</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">168</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.66786, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">172</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">176</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.75],</span><span class="s3">\n    \&quot;</span><span class="s1">177</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.58333, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">182</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">184</span><span class="s3">\&quot;</span><span class="s1">: [0.17014, 0, 0, 0, 0.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">198</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.90278],</span><span class="s3">\n    \&quot;</span><span class="s1">215</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.58333, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">216</span><span class="s3">\&quot;</span><span class="s1">: [0.04861, 0.73194, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">223</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">230</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">247</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.58333, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">248</span><span class="s3">\&quot;</span><span class="s1">: [0.09722, 0.52778, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">305</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">338</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 1.01389],</span><span class="s3">\n    \&quot;</span><span class="s1">339</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">567</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0, 0, 0.30556],</span><span class="s3">\n    \&quot;</span><span class="s1">710</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">711</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.62847, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">713</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.56778, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">714</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">715</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">728</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">729</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.66786, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">730</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.75],</span><span class="s3">\n    \&quot;</span><span class="s1">732</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.66786, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">733</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">915</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.625],</span><span class="s3">\n    \&quot;</span><span class="s1">916</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">920</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">923</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.69445],</span><span class="s3">\n    \&quot;</span><span class="s1">926</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">928</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.75],</span><span class="s3">\n    \&quot;</span><span class="s1">931</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">933</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">934</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">936</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">937</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">8211</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.02778, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8212</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.02778, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8216</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">8217</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">8220</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8221</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8224</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">8225</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">8230</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.123, 0, 0, 1.172],</span><span class="s3">\n    \&quot;</span><span class="s1">8242</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.55556, 0, 0, 0.275],</span><span class="s3">\n    \&quot;</span><span class="s1">8407</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.71444, 0.15382, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8463</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68889, 0, 0, 0.54028],</span><span class="s3">\n    \&quot;</span><span class="s1">8465</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">8467</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0.11111, 0.41667],</span><span class="s3">\n    \&quot;</span><span class="s1">8472</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0, 0.11111, 0.63646],</span><span class="s3">\n    \&quot;</span><span class="s1">8476</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">8501</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">8592</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8593</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8594</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8595</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8596</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8597</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8598</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8599</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8600</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8601</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8614</span><span class="s3">\&quot;</span><span class="s1">: [0.011, 0.511, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8617</span><span class="s3">\&quot;</span><span class="s1">: [0.011, 0.511, 0, 0, 1.126],</span><span class="s3">\n    \&quot;</span><span class="s1">8618</span><span class="s3">\&quot;</span><span class="s1">: [0.011, 0.511, 0, 0, 1.126],</span><span class="s3">\n    \&quot;</span><span class="s1">8636</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8637</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8640</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8641</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8652</span><span class="s3">\&quot;</span><span class="s1">: [0.011, 0.671, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8656</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8657</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">8658</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8659</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">8660</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8661</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">8704</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">8706</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.05556, 0.08334, 0.5309],</span><span class="s3">\n    \&quot;</span><span class="s1">8707</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">8709</span><span class="s3">\&quot;</span><span class="s1">: [0.05556, 0.75, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8711</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">8712</span><span class="s3">\&quot;</span><span class="s1">: [0.0391, 0.5391, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">8715</span><span class="s3">\&quot;</span><span class="s1">: [0.0391, 0.5391, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">8722</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.58333, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8723</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.58333, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8725</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8726</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8727</span><span class="s3">\&quot;</span><span class="s1">: [-0.03472, 0.46528, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8728</span><span class="s3">\&quot;</span><span class="s1">: [-0.05555, 0.44445, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8729</span><span class="s3">\&quot;</span><span class="s1">: [-0.05555, 0.44445, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8730</span><span class="s3">\&quot;</span><span class="s1">: [0.2, 0.8, 0, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">8733</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8734</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8736</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69224, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">8739</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">8741</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8743</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.55556, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">8744</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.55556, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">8745</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.55556, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">8746</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.55556, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">8747</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0.11111, 0, 0.41667],</span><span class="s3">\n    \&quot;</span><span class="s1">8764</span><span class="s3">\&quot;</span><span class="s1">: [-0.13313, 0.36687, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8768</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">8771</span><span class="s3">\&quot;</span><span class="s1">: [-0.03625, 0.46375, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8773</span><span class="s3">\&quot;</span><span class="s1">: [-0.022, 0.589, 0, 0, 0.778],</span><span class="s3">\n    \&quot;</span><span class="s1">8776</span><span class="s3">\&quot;</span><span class="s1">: [-0.01688, 0.48312, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8781</span><span class="s3">\&quot;</span><span class="s1">: [-0.03625, 0.46375, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8784</span><span class="s3">\&quot;</span><span class="s1">: [-0.133, 0.673, 0, 0, 0.778],</span><span class="s3">\n    \&quot;</span><span class="s1">8801</span><span class="s3">\&quot;</span><span class="s1">: [-0.03625, 0.46375, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8804</span><span class="s3">\&quot;</span><span class="s1">: [0.13597, 0.63597, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8805</span><span class="s3">\&quot;</span><span class="s1">: [0.13597, 0.63597, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8810</span><span class="s3">\&quot;</span><span class="s1">: [0.0391, 0.5391, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8811</span><span class="s3">\&quot;</span><span class="s1">: [0.0391, 0.5391, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8826</span><span class="s3">\&quot;</span><span class="s1">: [0.0391, 0.5391, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8827</span><span class="s3">\&quot;</span><span class="s1">: [0.0391, 0.5391, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8834</span><span class="s3">\&quot;</span><span class="s1">: [0.0391, 0.5391, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8835</span><span class="s3">\&quot;</span><span class="s1">: [0.0391, 0.5391, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8838</span><span class="s3">\&quot;</span><span class="s1">: [0.13597, 0.63597, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8839</span><span class="s3">\&quot;</span><span class="s1">: [0.13597, 0.63597, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8846</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.55556, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">8849</span><span class="s3">\&quot;</span><span class="s1">: [0.13597, 0.63597, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8850</span><span class="s3">\&quot;</span><span class="s1">: [0.13597, 0.63597, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8851</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.55556, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">8852</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.55556, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">8853</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.58333, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8854</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.58333, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8855</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.58333, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8856</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.58333, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8857</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.58333, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8866</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">8867</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">8868</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8869</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8872</span><span class="s3">\&quot;</span><span class="s1">: [0.249, 0.75, 0, 0, 0.867],</span><span class="s3">\n    \&quot;</span><span class="s1">8900</span><span class="s3">\&quot;</span><span class="s1">: [-0.05555, 0.44445, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8901</span><span class="s3">\&quot;</span><span class="s1">: [-0.05555, 0.44445, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">8902</span><span class="s3">\&quot;</span><span class="s1">: [-0.03472, 0.46528, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8904</span><span class="s3">\&quot;</span><span class="s1">: [0.005, 0.505, 0, 0, 0.9],</span><span class="s3">\n    \&quot;</span><span class="s1">8942</span><span class="s3">\&quot;</span><span class="s1">: [0.03, 0.903, 0, 0, 0.278],</span><span class="s3">\n    \&quot;</span><span class="s1">8943</span><span class="s3">\&quot;</span><span class="s1">: [-0.19, 0.313, 0, 0, 1.172],</span><span class="s3">\n    \&quot;</span><span class="s1">8945</span><span class="s3">\&quot;</span><span class="s1">: [-0.1, 0.823, 0, 0, 1.282],</span><span class="s3">\n    \&quot;</span><span class="s1">8968</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">8969</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">8970</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">8971</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">8994</span><span class="s3">\&quot;</span><span class="s1">: [-0.14236, 0.35764, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8995</span><span class="s3">\&quot;</span><span class="s1">: [-0.14236, 0.35764, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">9136</span><span class="s3">\&quot;</span><span class="s1">: [0.244, 0.744, 0, 0, 0.412],</span><span class="s3">\n    \&quot;</span><span class="s1">9137</span><span class="s3">\&quot;</span><span class="s1">: [0.244, 0.745, 0, 0, 0.412],</span><span class="s3">\n    \&quot;</span><span class="s1">9651</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.88889],</span><span class="s3">\n    \&quot;</span><span class="s1">9657</span><span class="s3">\&quot;</span><span class="s1">: [-0.03472, 0.46528, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">9661</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.88889],</span><span class="s3">\n    \&quot;</span><span class="s1">9667</span><span class="s3">\&quot;</span><span class="s1">: [-0.03472, 0.46528, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">9711</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">9824</span><span class="s3">\&quot;</span><span class="s1">: [0.12963, 0.69444, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">9825</span><span class="s3">\&quot;</span><span class="s1">: [0.12963, 0.69444, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">9826</span><span class="s3">\&quot;</span><span class="s1">: [0.12963, 0.69444, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">9827</span><span class="s3">\&quot;</span><span class="s1">: [0.12963, 0.69444, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">9837</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.75, 0, 0, 0.38889],</span><span class="s3">\n    \&quot;</span><span class="s1">9838</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.38889],</span><span class="s3">\n    \&quot;</span><span class="s1">9839</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.38889],</span><span class="s3">\n    \&quot;</span><span class="s1">10216</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.38889],</span><span class="s3">\n    \&quot;</span><span class="s1">10217</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.38889],</span><span class="s3">\n    \&quot;</span><span class="s1">10222</span><span class="s3">\&quot;</span><span class="s1">: [0.244, 0.744, 0, 0, 0.412],</span><span class="s3">\n    \&quot;</span><span class="s1">10223</span><span class="s3">\&quot;</span><span class="s1">: [0.244, 0.745, 0, 0, 0.412],</span><span class="s3">\n    \&quot;</span><span class="s1">10229</span><span class="s3">\&quot;</span><span class="s1">: [0.011, 0.511, 0, 0, 1.609],</span><span class="s3">\n    \&quot;</span><span class="s1">10230</span><span class="s3">\&quot;</span><span class="s1">: [0.011, 0.511, 0, 0, 1.638],</span><span class="s3">\n    \&quot;</span><span class="s1">10231</span><span class="s3">\&quot;</span><span class="s1">: [0.011, 0.511, 0, 0, 1.859],</span><span class="s3">\n    \&quot;</span><span class="s1">10232</span><span class="s3">\&quot;</span><span class="s1">: [0.024, 0.525, 0, 0, 1.609],</span><span class="s3">\n    \&quot;</span><span class="s1">10233</span><span class="s3">\&quot;</span><span class="s1">: [0.024, 0.525, 0, 0, 1.638],</span><span class="s3">\n    \&quot;</span><span class="s1">10234</span><span class="s3">\&quot;</span><span class="s1">: [0.024, 0.525, 0, 0, 1.858],</span><span class="s3">\n    \&quot;</span><span class="s1">10236</span><span class="s3">\&quot;</span><span class="s1">: [0.011, 0.511, 0, 0, 1.638],</span><span class="s3">\n    \&quot;</span><span class="s1">10815</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0, 0.75],</span><span class="s3">\n    \&quot;</span><span class="s1">10927</span><span class="s3">\&quot;</span><span class="s1">: [0.13597, 0.63597, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">10928</span><span class="s3">\&quot;</span><span class="s1">: [0.13597, 0.63597, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">57376</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">Math-BoldItalic</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">32</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">48</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">49</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">50</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">51</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">52</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">53</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">54</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">55</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">56</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">57</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.575],</span><span class="s3">\n    \&quot;</span><span class="s1">65</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.86944],</span><span class="s3">\n    \&quot;</span><span class="s1">66</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.04835, 0, 0.8664],</span><span class="s3">\n    \&quot;</span><span class="s1">67</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.06979, 0, 0.81694],</span><span class="s3">\n    \&quot;</span><span class="s1">68</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.03194, 0, 0.93812],</span><span class="s3">\n    \&quot;</span><span class="s1">69</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.05451, 0, 0.81007],</span><span class="s3">\n    \&quot;</span><span class="s1">70</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.15972, 0, 0.68889],</span><span class="s3">\n    \&quot;</span><span class="s1">71</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.88673],</span><span class="s3">\n    \&quot;</span><span class="s1">72</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.08229, 0, 0.98229],</span><span class="s3">\n    \&quot;</span><span class="s1">73</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.07778, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">74</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.10069, 0, 0.63125],</span><span class="s3">\n    \&quot;</span><span class="s1">75</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.06979, 0, 0.97118],</span><span class="s3">\n    \&quot;</span><span class="s1">76</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.75555],</span><span class="s3">\n    \&quot;</span><span class="s1">77</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.11424, 0, 1.14201],</span><span class="s3">\n    \&quot;</span><span class="s1">78</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.11424, 0, 0.95034],</span><span class="s3">\n    \&quot;</span><span class="s1">79</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.03194, 0, 0.83666],</span><span class="s3">\n    \&quot;</span><span class="s1">80</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.15972, 0, 0.72309],</span><span class="s3">\n    \&quot;</span><span class="s1">81</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.68611, 0, 0, 0.86861],</span><span class="s3">\n    \&quot;</span><span class="s1">82</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.00421, 0, 0.87235],</span><span class="s3">\n    \&quot;</span><span class="s1">83</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.05382, 0, 0.69271],</span><span class="s3">\n    \&quot;</span><span class="s1">84</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.15972, 0, 0.63663],</span><span class="s3">\n    \&quot;</span><span class="s1">85</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.11424, 0, 0.80027],</span><span class="s3">\n    \&quot;</span><span class="s1">86</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.25555, 0, 0.67778],</span><span class="s3">\n    \&quot;</span><span class="s1">87</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.15972, 0, 1.09305],</span><span class="s3">\n    \&quot;</span><span class="s1">88</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.07778, 0, 0.94722],</span><span class="s3">\n    \&quot;</span><span class="s1">89</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.25555, 0, 0.67458],</span><span class="s3">\n    \&quot;</span><span class="s1">90</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.06979, 0, 0.77257],</span><span class="s3">\n    \&quot;</span><span class="s1">97</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.63287],</span><span class="s3">\n    \&quot;</span><span class="s1">98</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.52083],</span><span class="s3">\n    \&quot;</span><span class="s1">99</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.51342],</span><span class="s3">\n    \&quot;</span><span class="s1">100</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.60972],</span><span class="s3">\n    \&quot;</span><span class="s1">101</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.55361],</span><span class="s3">\n    \&quot;</span><span class="s1">102</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0.11042, 0, 0.56806],</span><span class="s3">\n    \&quot;</span><span class="s1">103</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.03704, 0, 0.5449],</span><span class="s3">\n    \&quot;</span><span class="s1">104</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.66759],</span><span class="s3">\n    \&quot;</span><span class="s1">105</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69326, 0, 0, 0.4048],</span><span class="s3">\n    \&quot;</span><span class="s1">106</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69326, 0.0622, 0, 0.47083],</span><span class="s3">\n    \&quot;</span><span class="s1">107</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.01852, 0, 0.6037],</span><span class="s3">\n    \&quot;</span><span class="s1">108</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.0088, 0, 0.34815],</span><span class="s3">\n    \&quot;</span><span class="s1">109</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 1.0324],</span><span class="s3">\n    \&quot;</span><span class="s1">110</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.71296],</span><span class="s3">\n    \&quot;</span><span class="s1">111</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.58472],</span><span class="s3">\n    \&quot;</span><span class="s1">112</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.60092],</span><span class="s3">\n    \&quot;</span><span class="s1">113</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.03704, 0, 0.54213],</span><span class="s3">\n    \&quot;</span><span class="s1">114</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.03194, 0, 0.5287],</span><span class="s3">\n    \&quot;</span><span class="s1">115</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.53125],</span><span class="s3">\n    \&quot;</span><span class="s1">116</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.63492, 0, 0, 0.41528],</span><span class="s3">\n    \&quot;</span><span class="s1">117</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.68102],</span><span class="s3">\n    \&quot;</span><span class="s1">118</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.03704, 0, 0.56666],</span><span class="s3">\n    \&quot;</span><span class="s1">119</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.02778, 0, 0.83148],</span><span class="s3">\n    \&quot;</span><span class="s1">120</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.65903],</span><span class="s3">\n    \&quot;</span><span class="s1">121</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.03704, 0, 0.59028],</span><span class="s3">\n    \&quot;</span><span class="s1">122</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.04213, 0, 0.55509],</span><span class="s3">\n    \&quot;</span><span class="s1">160</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">915</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.15972, 0, 0.65694],</span><span class="s3">\n    \&quot;</span><span class="s1">916</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.95833],</span><span class="s3">\n    \&quot;</span><span class="s1">920</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.03194, 0, 0.86722],</span><span class="s3">\n    \&quot;</span><span class="s1">923</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.80555],</span><span class="s3">\n    \&quot;</span><span class="s1">926</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.07458, 0, 0.84125],</span><span class="s3">\n    \&quot;</span><span class="s1">928</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.08229, 0, 0.98229],</span><span class="s3">\n    \&quot;</span><span class="s1">931</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.05451, 0, 0.88507],</span><span class="s3">\n    \&quot;</span><span class="s1">933</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.15972, 0, 0.67083],</span><span class="s3">\n    \&quot;</span><span class="s1">934</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0, 0, 0.76666],</span><span class="s3">\n    \&quot;</span><span class="s1">936</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.11653, 0, 0.71402],</span><span class="s3">\n    \&quot;</span><span class="s1">937</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68611, 0.04835, 0, 0.8789],</span><span class="s3">\n    \&quot;</span><span class="s1">945</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.76064],</span><span class="s3">\n    \&quot;</span><span class="s1">946</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0.03403, 0, 0.65972],</span><span class="s3">\n    \&quot;</span><span class="s1">947</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.06389, 0, 0.59003],</span><span class="s3">\n    \&quot;</span><span class="s1">948</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.03819, 0, 0.52222],</span><span class="s3">\n    \&quot;</span><span class="s1">949</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.52882],</span><span class="s3">\n    \&quot;</span><span class="s1">950</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0.06215, 0, 0.50833],</span><span class="s3">\n    \&quot;</span><span class="s1">951</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.03704, 0, 0.6],</span><span class="s3">\n    \&quot;</span><span class="s1">952</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.03194, 0, 0.5618],</span><span class="s3">\n    \&quot;</span><span class="s1">953</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.41204],</span><span class="s3">\n    \&quot;</span><span class="s1">954</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.66759],</span><span class="s3">\n    \&quot;</span><span class="s1">955</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.67083],</span><span class="s3">\n    \&quot;</span><span class="s1">956</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.70787],</span><span class="s3">\n    \&quot;</span><span class="s1">957</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.06898, 0, 0.57685],</span><span class="s3">\n    \&quot;</span><span class="s1">958</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0.03021, 0, 0.50833],</span><span class="s3">\n    \&quot;</span><span class="s1">959</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.58472],</span><span class="s3">\n    \&quot;</span><span class="s1">960</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.03704, 0, 0.68241],</span><span class="s3">\n    \&quot;</span><span class="s1">961</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.6118],</span><span class="s3">\n    \&quot;</span><span class="s1">962</span><span class="s3">\&quot;</span><span class="s1">: [0.09722, 0.44444, 0.07917, 0, 0.42361],</span><span class="s3">\n    \&quot;</span><span class="s1">963</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.03704, 0, 0.68588],</span><span class="s3">\n    \&quot;</span><span class="s1">964</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.13472, 0, 0.52083],</span><span class="s3">\n    \&quot;</span><span class="s1">965</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.03704, 0, 0.63055],</span><span class="s3">\n    \&quot;</span><span class="s1">966</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.74722],</span><span class="s3">\n    \&quot;</span><span class="s1">967</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.71805],</span><span class="s3">\n    \&quot;</span><span class="s1">968</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0.03704, 0, 0.75833],</span><span class="s3">\n    \&quot;</span><span class="s1">969</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.03704, 0, 0.71782],</span><span class="s3">\n    \&quot;</span><span class="s1">977</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.69155],</span><span class="s3">\n    \&quot;</span><span class="s1">981</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.7125],</span><span class="s3">\n    \&quot;</span><span class="s1">982</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.03194, 0, 0.975],</span><span class="s3">\n    \&quot;</span><span class="s1">1009</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.6118],</span><span class="s3">\n    \&quot;</span><span class="s1">1013</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.48333],</span><span class="s3">\n    \&quot;</span><span class="s1">57649</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.39352],</span><span class="s3">\n    \&quot;</span><span class="s1">57911</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.43889]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">Math-Italic</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">32</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">48</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">49</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">50</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">51</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">52</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">53</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">54</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">55</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">56</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.64444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">57</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">65</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0.13889, 0.75],</span><span class="s3">\n    \&quot;</span><span class="s1">66</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.05017, 0.08334, 0.75851],</span><span class="s3">\n    \&quot;</span><span class="s1">67</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.07153, 0.08334, 0.71472],</span><span class="s3">\n    \&quot;</span><span class="s1">68</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.02778, 0.05556, 0.82792],</span><span class="s3">\n    \&quot;</span><span class="s1">69</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.05764, 0.08334, 0.7382],</span><span class="s3">\n    \&quot;</span><span class="s1">70</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.13889, 0.08334, 0.64306],</span><span class="s3">\n    \&quot;</span><span class="s1">71</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0.08334, 0.78625],</span><span class="s3">\n    \&quot;</span><span class="s1">72</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.08125, 0.05556, 0.83125],</span><span class="s3">\n    \&quot;</span><span class="s1">73</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.07847, 0.11111, 0.43958],</span><span class="s3">\n    \&quot;</span><span class="s1">74</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.09618, 0.16667, 0.55451],</span><span class="s3">\n    \&quot;</span><span class="s1">75</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.07153, 0.05556, 0.84931],</span><span class="s3">\n    \&quot;</span><span class="s1">76</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0.02778, 0.68056],</span><span class="s3">\n    \&quot;</span><span class="s1">77</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.10903, 0.08334, 0.97014],</span><span class="s3">\n    \&quot;</span><span class="s1">78</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.10903, 0.08334, 0.80347],</span><span class="s3">\n    \&quot;</span><span class="s1">79</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.02778, 0.08334, 0.76278],</span><span class="s3">\n    \&quot;</span><span class="s1">80</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.13889, 0.08334, 0.64201],</span><span class="s3">\n    \&quot;</span><span class="s1">81</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.68333, 0, 0.08334, 0.79056],</span><span class="s3">\n    \&quot;</span><span class="s1">82</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.00773, 0.08334, 0.75929],</span><span class="s3">\n    \&quot;</span><span class="s1">83</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.05764, 0.08334, 0.6132],</span><span class="s3">\n    \&quot;</span><span class="s1">84</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.13889, 0.08334, 0.58438],</span><span class="s3">\n    \&quot;</span><span class="s1">85</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.10903, 0.02778, 0.68278],</span><span class="s3">\n    \&quot;</span><span class="s1">86</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.22222, 0, 0.58333],</span><span class="s3">\n    \&quot;</span><span class="s1">87</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.13889, 0, 0.94445],</span><span class="s3">\n    \&quot;</span><span class="s1">88</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.07847, 0.08334, 0.82847],</span><span class="s3">\n    \&quot;</span><span class="s1">89</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.22222, 0, 0.58056],</span><span class="s3">\n    \&quot;</span><span class="s1">90</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.07153, 0.08334, 0.68264],</span><span class="s3">\n    \&quot;</span><span class="s1">97</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.52859],</span><span class="s3">\n    \&quot;</span><span class="s1">98</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.42917],</span><span class="s3">\n    \&quot;</span><span class="s1">99</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0.05556, 0.43276],</span><span class="s3">\n    \&quot;</span><span class="s1">100</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0.16667, 0.52049],</span><span class="s3">\n    \&quot;</span><span class="s1">101</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0.05556, 0.46563],</span><span class="s3">\n    \&quot;</span><span class="s1">102</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0.10764, 0.16667, 0.48959],</span><span class="s3">\n    \&quot;</span><span class="s1">103</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0.03588, 0.02778, 0.47697],</span><span class="s3">\n    \&quot;</span><span class="s1">104</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.57616],</span><span class="s3">\n    \&quot;</span><span class="s1">105</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65952, 0, 0, 0.34451],</span><span class="s3">\n    \&quot;</span><span class="s1">106</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.65952, 0.05724, 0, 0.41181],</span><span class="s3">\n    \&quot;</span><span class="s1">107</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.03148, 0, 0.5206],</span><span class="s3">\n    \&quot;</span><span class="s1">108</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.01968, 0.08334, 0.29838],</span><span class="s3">\n    \&quot;</span><span class="s1">109</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.87801],</span><span class="s3">\n    \&quot;</span><span class="s1">110</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.60023],</span><span class="s3">\n    \&quot;</span><span class="s1">111</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0.05556, 0.48472],</span><span class="s3">\n    \&quot;</span><span class="s1">112</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0, 0.08334, 0.50313],</span><span class="s3">\n    \&quot;</span><span class="s1">113</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0.03588, 0.08334, 0.44641],</span><span class="s3">\n    \&quot;</span><span class="s1">114</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.02778, 0.05556, 0.45116],</span><span class="s3">\n    \&quot;</span><span class="s1">115</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0.05556, 0.46875],</span><span class="s3">\n    \&quot;</span><span class="s1">116</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61508, 0, 0.08334, 0.36111],</span><span class="s3">\n    \&quot;</span><span class="s1">117</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0.02778, 0.57246],</span><span class="s3">\n    \&quot;</span><span class="s1">118</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.03588, 0.02778, 0.48472],</span><span class="s3">\n    \&quot;</span><span class="s1">119</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.02691, 0.08334, 0.71592],</span><span class="s3">\n    \&quot;</span><span class="s1">120</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0.02778, 0.57153],</span><span class="s3">\n    \&quot;</span><span class="s1">121</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0.03588, 0.05556, 0.49028],</span><span class="s3">\n    \&quot;</span><span class="s1">122</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.04398, 0.05556, 0.46505],</span><span class="s3">\n    \&quot;</span><span class="s1">160</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">915</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.13889, 0.08334, 0.61528],</span><span class="s3">\n    \&quot;</span><span class="s1">916</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0.16667, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">920</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.02778, 0.08334, 0.76278],</span><span class="s3">\n    \&quot;</span><span class="s1">923</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0.16667, 0.69445],</span><span class="s3">\n    \&quot;</span><span class="s1">926</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.07569, 0.08334, 0.74236],</span><span class="s3">\n    \&quot;</span><span class="s1">928</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.08125, 0.05556, 0.83125],</span><span class="s3">\n    \&quot;</span><span class="s1">931</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.05764, 0.08334, 0.77986],</span><span class="s3">\n    \&quot;</span><span class="s1">933</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.13889, 0.05556, 0.58333],</span><span class="s3">\n    \&quot;</span><span class="s1">934</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0, 0.08334, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">936</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.11, 0.05556, 0.61222],</span><span class="s3">\n    \&quot;</span><span class="s1">937</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.68333, 0.05017, 0.08334, 0.7724],</span><span class="s3">\n    \&quot;</span><span class="s1">945</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.0037, 0.02778, 0.6397],</span><span class="s3">\n    \&quot;</span><span class="s1">946</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0.05278, 0.08334, 0.56563],</span><span class="s3">\n    \&quot;</span><span class="s1">947</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0.05556, 0, 0.51773],</span><span class="s3">\n    \&quot;</span><span class="s1">948</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.03785, 0.05556, 0.44444],</span><span class="s3">\n    \&quot;</span><span class="s1">949</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0.08334, 0.46632],</span><span class="s3">\n    \&quot;</span><span class="s1">950</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0.07378, 0.08334, 0.4375],</span><span class="s3">\n    \&quot;</span><span class="s1">951</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0.03588, 0.05556, 0.49653],</span><span class="s3">\n    \&quot;</span><span class="s1">952</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.02778, 0.08334, 0.46944],</span><span class="s3">\n    \&quot;</span><span class="s1">953</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0.05556, 0.35394],</span><span class="s3">\n    \&quot;</span><span class="s1">954</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.57616],</span><span class="s3">\n    \&quot;</span><span class="s1">955</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.58334],</span><span class="s3">\n    \&quot;</span><span class="s1">956</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0, 0.02778, 0.60255],</span><span class="s3">\n    \&quot;</span><span class="s1">957</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.06366, 0.02778, 0.49398],</span><span class="s3">\n    \&quot;</span><span class="s1">958</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0.04601, 0.11111, 0.4375],</span><span class="s3">\n    \&quot;</span><span class="s1">959</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0.05556, 0.48472],</span><span class="s3">\n    \&quot;</span><span class="s1">960</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.03588, 0, 0.57003],</span><span class="s3">\n    \&quot;</span><span class="s1">961</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0, 0.08334, 0.51702],</span><span class="s3">\n    \&quot;</span><span class="s1">962</span><span class="s3">\&quot;</span><span class="s1">: [0.09722, 0.43056, 0.07986, 0.08334, 0.36285],</span><span class="s3">\n    \&quot;</span><span class="s1">963</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.03588, 0, 0.57141],</span><span class="s3">\n    \&quot;</span><span class="s1">964</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.1132, 0.02778, 0.43715],</span><span class="s3">\n    \&quot;</span><span class="s1">965</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.03588, 0.02778, 0.54028],</span><span class="s3">\n    \&quot;</span><span class="s1">966</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0, 0.08334, 0.65417],</span><span class="s3">\n    \&quot;</span><span class="s1">967</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0, 0.05556, 0.62569],</span><span class="s3">\n    \&quot;</span><span class="s1">968</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0.03588, 0.11111, 0.65139],</span><span class="s3">\n    \&quot;</span><span class="s1">969</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.03588, 0, 0.62245],</span><span class="s3">\n    \&quot;</span><span class="s1">977</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0.08334, 0.59144],</span><span class="s3">\n    \&quot;</span><span class="s1">981</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0.08334, 0.59583],</span><span class="s3">\n    \&quot;</span><span class="s1">982</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0.02778, 0, 0.82813],</span><span class="s3">\n    \&quot;</span><span class="s1">1009</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0, 0.08334, 0.51702],</span><span class="s3">\n    \&quot;</span><span class="s1">1013</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0.05556, 0.4059],</span><span class="s3">\n    \&quot;</span><span class="s1">57649</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0.02778, 0.32246],</span><span class="s3">\n    \&quot;</span><span class="s1">57911</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.43056, 0, 0.08334, 0.38403]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">SansSerif-Bold</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">32</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">33</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.36667],</span><span class="s3">\n    \&quot;</span><span class="s1">34</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55834],</span><span class="s3">\n    \&quot;</span><span class="s1">35</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.91667],</span><span class="s3">\n    \&quot;</span><span class="s1">36</span><span class="s3">\&quot;</span><span class="s1">: [0.05556, 0.75, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">37</span><span class="s3">\&quot;</span><span class="s1">: [0.05556, 0.75, 0, 0, 1.02912],</span><span class="s3">\n    \&quot;</span><span class="s1">38</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.83056],</span><span class="s3">\n    \&quot;</span><span class="s1">39</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.30556],</span><span class="s3">\n    \&quot;</span><span class="s1">40</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.42778],</span><span class="s3">\n    \&quot;</span><span class="s1">41</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.42778],</span><span class="s3">\n    \&quot;</span><span class="s1">42</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.75, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">43</span><span class="s3">\&quot;</span><span class="s1">: [0.11667, 0.61667, 0, 0, 0.85556],</span><span class="s3">\n    \&quot;</span><span class="s1">44</span><span class="s3">\&quot;</span><span class="s1">: [0.10556, 0.13056, 0, 0, 0.30556],</span><span class="s3">\n    \&quot;</span><span class="s1">45</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.45833, 0, 0, 0.36667],</span><span class="s3">\n    \&quot;</span><span class="s1">46</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.13056, 0, 0, 0.30556],</span><span class="s3">\n    \&quot;</span><span class="s1">47</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">48</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">49</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">50</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">51</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">52</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">53</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">54</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">55</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">56</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">57</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">58</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.45833, 0, 0, 0.30556],</span><span class="s3">\n    \&quot;</span><span class="s1">59</span><span class="s3">\&quot;</span><span class="s1">: [0.10556, 0.45833, 0, 0, 0.30556],</span><span class="s3">\n    \&quot;</span><span class="s1">61</span><span class="s3">\&quot;</span><span class="s1">: [-0.09375, 0.40625, 0, 0, 0.85556],</span><span class="s3">\n    \&quot;</span><span class="s1">63</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.51945],</span><span class="s3">\n    \&quot;</span><span class="s1">64</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.73334],</span><span class="s3">\n    \&quot;</span><span class="s1">65</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.73334],</span><span class="s3">\n    \&quot;</span><span class="s1">66</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.73334],</span><span class="s3">\n    \&quot;</span><span class="s1">67</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.70278],</span><span class="s3">\n    \&quot;</span><span class="s1">68</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.79445],</span><span class="s3">\n    \&quot;</span><span class="s1">69</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.64167],</span><span class="s3">\n    \&quot;</span><span class="s1">70</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">71</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.73334],</span><span class="s3">\n    \&quot;</span><span class="s1">72</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.79445],</span><span class="s3">\n    \&quot;</span><span class="s1">73</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.33056],</span><span class="s3">\n    \&quot;</span><span class="s1">74</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.51945],</span><span class="s3">\n    \&quot;</span><span class="s1">75</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.76389],</span><span class="s3">\n    \&quot;</span><span class="s1">76</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.58056],</span><span class="s3">\n    \&quot;</span><span class="s1">77</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.97778],</span><span class="s3">\n    \&quot;</span><span class="s1">78</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.79445],</span><span class="s3">\n    \&quot;</span><span class="s1">79</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.79445],</span><span class="s3">\n    \&quot;</span><span class="s1">80</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.70278],</span><span class="s3">\n    \&quot;</span><span class="s1">81</span><span class="s3">\&quot;</span><span class="s1">: [0.10556, 0.69444, 0, 0, 0.79445],</span><span class="s3">\n    \&quot;</span><span class="s1">82</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.70278],</span><span class="s3">\n    \&quot;</span><span class="s1">83</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">84</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.73334],</span><span class="s3">\n    \&quot;</span><span class="s1">85</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.76389],</span><span class="s3">\n    \&quot;</span><span class="s1">86</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.01528, 0, 0.73334],</span><span class="s3">\n    \&quot;</span><span class="s1">87</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.01528, 0, 1.03889],</span><span class="s3">\n    \&quot;</span><span class="s1">88</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.73334],</span><span class="s3">\n    \&quot;</span><span class="s1">89</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.0275, 0, 0.73334],</span><span class="s3">\n    \&quot;</span><span class="s1">90</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.67223],</span><span class="s3">\n    \&quot;</span><span class="s1">91</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.34306],</span><span class="s3">\n    \&quot;</span><span class="s1">93</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.34306],</span><span class="s3">\n    \&quot;</span><span class="s1">94</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">95</span><span class="s3">\&quot;</span><span class="s1">: [0.35, 0.10833, 0.03056, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">97</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.45833, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">98</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.56111],</span><span class="s3">\n    \&quot;</span><span class="s1">99</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.45833, 0, 0, 0.48889],</span><span class="s3">\n    \&quot;</span><span class="s1">100</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.56111],</span><span class="s3">\n    \&quot;</span><span class="s1">101</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.45833, 0, 0, 0.51111],</span><span class="s3">\n    \&quot;</span><span class="s1">102</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.07639, 0, 0.33611],</span><span class="s3">\n    \&quot;</span><span class="s1">103</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.45833, 0.01528, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">104</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.56111],</span><span class="s3">\n    \&quot;</span><span class="s1">105</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.25556],</span><span class="s3">\n    \&quot;</span><span class="s1">106</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.28611],</span><span class="s3">\n    \&quot;</span><span class="s1">107</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.53056],</span><span class="s3">\n    \&quot;</span><span class="s1">108</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.25556],</span><span class="s3">\n    \&quot;</span><span class="s1">109</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.45833, 0, 0, 0.86667],</span><span class="s3">\n    \&quot;</span><span class="s1">110</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.45833, 0, 0, 0.56111],</span><span class="s3">\n    \&quot;</span><span class="s1">111</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.45833, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">112</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.45833, 0, 0, 0.56111],</span><span class="s3">\n    \&quot;</span><span class="s1">113</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.45833, 0, 0, 0.56111],</span><span class="s3">\n    \&quot;</span><span class="s1">114</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.45833, 0.01528, 0, 0.37222],</span><span class="s3">\n    \&quot;</span><span class="s1">115</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.45833, 0, 0, 0.42167],</span><span class="s3">\n    \&quot;</span><span class="s1">116</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.58929, 0, 0, 0.40417],</span><span class="s3">\n    \&quot;</span><span class="s1">117</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.45833, 0, 0, 0.56111],</span><span class="s3">\n    \&quot;</span><span class="s1">118</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.45833, 0.01528, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">119</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.45833, 0.01528, 0, 0.74445],</span><span class="s3">\n    \&quot;</span><span class="s1">120</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.45833, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">121</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.45833, 0.01528, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">122</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.45833, 0, 0, 0.47639],</span><span class="s3">\n    \&quot;</span><span class="s1">126</span><span class="s3">\&quot;</span><span class="s1">: [0.35, 0.34444, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">160</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">168</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">176</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.73334],</span><span class="s3">\n    \&quot;</span><span class="s1">180</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">184</span><span class="s3">\&quot;</span><span class="s1">: [0.17014, 0, 0, 0, 0.48889],</span><span class="s3">\n    \&quot;</span><span class="s1">305</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.45833, 0, 0, 0.25556],</span><span class="s3">\n    \&quot;</span><span class="s1">567</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.45833, 0, 0, 0.28611],</span><span class="s3">\n    \&quot;</span><span class="s1">710</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">711</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.63542, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">713</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.63778, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">728</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">729</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.30556],</span><span class="s3">\n    \&quot;</span><span class="s1">730</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.73334],</span><span class="s3">\n    \&quot;</span><span class="s1">732</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">733</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">915</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.58056],</span><span class="s3">\n    \&quot;</span><span class="s1">916</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.91667],</span><span class="s3">\n    \&quot;</span><span class="s1">920</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.85556],</span><span class="s3">\n    \&quot;</span><span class="s1">923</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.67223],</span><span class="s3">\n    \&quot;</span><span class="s1">926</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.73334],</span><span class="s3">\n    \&quot;</span><span class="s1">928</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.79445],</span><span class="s3">\n    \&quot;</span><span class="s1">931</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.79445],</span><span class="s3">\n    \&quot;</span><span class="s1">933</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.85556],</span><span class="s3">\n    \&quot;</span><span class="s1">934</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.79445],</span><span class="s3">\n    \&quot;</span><span class="s1">936</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.85556],</span><span class="s3">\n    \&quot;</span><span class="s1">937</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.79445],</span><span class="s3">\n    \&quot;</span><span class="s1">8211</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.45833, 0.03056, 0, 0.55],</span><span class="s3">\n    \&quot;</span><span class="s1">8212</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.45833, 0.03056, 0, 1.10001],</span><span class="s3">\n    \&quot;</span><span class="s1">8216</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.30556],</span><span class="s3">\n    \&quot;</span><span class="s1">8217</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.30556],</span><span class="s3">\n    \&quot;</span><span class="s1">8220</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55834],</span><span class="s3">\n    \&quot;</span><span class="s1">8221</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55834]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">SansSerif-Italic</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">32</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">33</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.05733, 0, 0.31945],</span><span class="s3">\n    \&quot;</span><span class="s1">34</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.00316, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">35</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0.05087, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">36</span><span class="s3">\&quot;</span><span class="s1">: [0.05556, 0.75, 0.11156, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">37</span><span class="s3">\&quot;</span><span class="s1">: [0.05556, 0.75, 0.03126, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">38</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.03058, 0, 0.75834],</span><span class="s3">\n    \&quot;</span><span class="s1">39</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.07816, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">40</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0.13164, 0, 0.38889],</span><span class="s3">\n    \&quot;</span><span class="s1">41</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0.02536, 0, 0.38889],</span><span class="s3">\n    \&quot;</span><span class="s1">42</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.75, 0.11775, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">43</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.58333, 0.02536, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">44</span><span class="s3">\&quot;</span><span class="s1">: [0.125, 0.08333, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">45</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.01946, 0, 0.33333],</span><span class="s3">\n    \&quot;</span><span class="s1">46</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.08333, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">47</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0.13164, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">48</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0.11156, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">49</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0.11156, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">50</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0.11156, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">51</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0.11156, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">52</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0.11156, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">53</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0.11156, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">54</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0.11156, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">55</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0.11156, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">56</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0.11156, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">57</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0.11156, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">58</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.02502, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">59</span><span class="s3">\&quot;</span><span class="s1">: [0.125, 0.44444, 0.02502, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">61</span><span class="s3">\&quot;</span><span class="s1">: [-0.13, 0.37, 0.05087, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">63</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.11809, 0, 0.47222],</span><span class="s3">\n    \&quot;</span><span class="s1">64</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.07555, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">65</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">66</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.08293, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">67</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.11983, 0, 0.63889],</span><span class="s3">\n    \&quot;</span><span class="s1">68</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.07555, 0, 0.72223],</span><span class="s3">\n    \&quot;</span><span class="s1">69</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.11983, 0, 0.59722],</span><span class="s3">\n    \&quot;</span><span class="s1">70</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.13372, 0, 0.56945],</span><span class="s3">\n    \&quot;</span><span class="s1">71</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.11983, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">72</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.08094, 0, 0.70834],</span><span class="s3">\n    \&quot;</span><span class="s1">73</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.13372, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">74</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.08094, 0, 0.47222],</span><span class="s3">\n    \&quot;</span><span class="s1">75</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.11983, 0, 0.69445],</span><span class="s3">\n    \&quot;</span><span class="s1">76</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.54167],</span><span class="s3">\n    \&quot;</span><span class="s1">77</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.08094, 0, 0.875],</span><span class="s3">\n    \&quot;</span><span class="s1">78</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.08094, 0, 0.70834],</span><span class="s3">\n    \&quot;</span><span class="s1">79</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.07555, 0, 0.73611],</span><span class="s3">\n    \&quot;</span><span class="s1">80</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.08293, 0, 0.63889],</span><span class="s3">\n    \&quot;</span><span class="s1">81</span><span class="s3">\&quot;</span><span class="s1">: [0.125, 0.69444, 0.07555, 0, 0.73611],</span><span class="s3">\n    \&quot;</span><span class="s1">82</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.08293, 0, 0.64584],</span><span class="s3">\n    \&quot;</span><span class="s1">83</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.09205, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">84</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.13372, 0, 0.68056],</span><span class="s3">\n    \&quot;</span><span class="s1">85</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.08094, 0, 0.6875],</span><span class="s3">\n    \&quot;</span><span class="s1">86</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.1615, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">87</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.1615, 0, 0.94445],</span><span class="s3">\n    \&quot;</span><span class="s1">88</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.13372, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">89</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.17261, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">90</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.11983, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">91</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0.15942, 0, 0.28889],</span><span class="s3">\n    \&quot;</span><span class="s1">93</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0.08719, 0, 0.28889],</span><span class="s3">\n    \&quot;</span><span class="s1">94</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.0799, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">95</span><span class="s3">\&quot;</span><span class="s1">: [0.35, 0.09444, 0.08616, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">97</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.00981, 0, 0.48056],</span><span class="s3">\n    \&quot;</span><span class="s1">98</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.03057, 0, 0.51667],</span><span class="s3">\n    \&quot;</span><span class="s1">99</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.08336, 0, 0.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">100</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.09483, 0, 0.51667],</span><span class="s3">\n    \&quot;</span><span class="s1">101</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.06778, 0, 0.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">102</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.21705, 0, 0.30556],</span><span class="s3">\n    \&quot;</span><span class="s1">103</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.10836, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">104</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.01778, 0, 0.51667],</span><span class="s3">\n    \&quot;</span><span class="s1">105</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.67937, 0.09718, 0, 0.23889],</span><span class="s3">\n    \&quot;</span><span class="s1">106</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.67937, 0.09162, 0, 0.26667],</span><span class="s3">\n    \&quot;</span><span class="s1">107</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.08336, 0, 0.48889],</span><span class="s3">\n    \&quot;</span><span class="s1">108</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.09483, 0, 0.23889],</span><span class="s3">\n    \&quot;</span><span class="s1">109</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.01778, 0, 0.79445],</span><span class="s3">\n    \&quot;</span><span class="s1">110</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.01778, 0, 0.51667],</span><span class="s3">\n    \&quot;</span><span class="s1">111</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.06613, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">112</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.0389, 0, 0.51667],</span><span class="s3">\n    \&quot;</span><span class="s1">113</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.04169, 0, 0.51667],</span><span class="s3">\n    \&quot;</span><span class="s1">114</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.10836, 0, 0.34167],</span><span class="s3">\n    \&quot;</span><span class="s1">115</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.0778, 0, 0.38333],</span><span class="s3">\n    \&quot;</span><span class="s1">116</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.57143, 0.07225, 0, 0.36111],</span><span class="s3">\n    \&quot;</span><span class="s1">117</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.04169, 0, 0.51667],</span><span class="s3">\n    \&quot;</span><span class="s1">118</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.10836, 0, 0.46111],</span><span class="s3">\n    \&quot;</span><span class="s1">119</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.10836, 0, 0.68334],</span><span class="s3">\n    \&quot;</span><span class="s1">120</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.09169, 0, 0.46111],</span><span class="s3">\n    \&quot;</span><span class="s1">121</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.10836, 0, 0.46111],</span><span class="s3">\n    \&quot;</span><span class="s1">122</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.08752, 0, 0.43472],</span><span class="s3">\n    \&quot;</span><span class="s1">126</span><span class="s3">\&quot;</span><span class="s1">: [0.35, 0.32659, 0.08826, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">160</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">168</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.67937, 0.06385, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">176</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.73752],</span><span class="s3">\n    \&quot;</span><span class="s1">184</span><span class="s3">\&quot;</span><span class="s1">: [0.17014, 0, 0, 0, 0.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">305</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.04169, 0, 0.23889],</span><span class="s3">\n    \&quot;</span><span class="s1">567</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.04169, 0, 0.26667],</span><span class="s3">\n    \&quot;</span><span class="s1">710</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.0799, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">711</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.63194, 0.08432, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">713</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.60889, 0.08776, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">714</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.09205, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">715</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">728</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.09483, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">729</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.67937, 0.07774, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">730</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.73752],</span><span class="s3">\n    \&quot;</span><span class="s1">732</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.67659, 0.08826, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">733</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.09205, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">915</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.13372, 0, 0.54167],</span><span class="s3">\n    \&quot;</span><span class="s1">916</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">920</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.07555, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">923</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">926</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.12816, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">928</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.08094, 0, 0.70834],</span><span class="s3">\n    \&quot;</span><span class="s1">931</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.11983, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">933</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.09031, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">934</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.04603, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">936</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.09031, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">937</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.08293, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">8211</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.08616, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8212</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.08616, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8216</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.07816, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">8217</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.07816, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">8220</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.14205, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8221</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.00316, 0, 0.5]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">SansSerif-Regular</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">32</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">33</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.31945],</span><span class="s3">\n    \&quot;</span><span class="s1">34</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">35</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.69444, 0, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">36</span><span class="s3">\&quot;</span><span class="s1">: [0.05556, 0.75, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">37</span><span class="s3">\&quot;</span><span class="s1">: [0.05556, 0.75, 0, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">38</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.75834],</span><span class="s3">\n    \&quot;</span><span class="s1">39</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">40</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.38889],</span><span class="s3">\n    \&quot;</span><span class="s1">41</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.38889],</span><span class="s3">\n    \&quot;</span><span class="s1">42</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.75, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">43</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.58333, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">44</span><span class="s3">\&quot;</span><span class="s1">: [0.125, 0.08333, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">45</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.33333],</span><span class="s3">\n    \&quot;</span><span class="s1">46</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.08333, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">47</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">48</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">49</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">50</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">51</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">52</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">53</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">54</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">55</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">56</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">57</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.65556, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">58</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">59</span><span class="s3">\&quot;</span><span class="s1">: [0.125, 0.44444, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">61</span><span class="s3">\&quot;</span><span class="s1">: [-0.13, 0.37, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">63</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.47222],</span><span class="s3">\n    \&quot;</span><span class="s1">64</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">65</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">66</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">67</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.63889],</span><span class="s3">\n    \&quot;</span><span class="s1">68</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.72223],</span><span class="s3">\n    \&quot;</span><span class="s1">69</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.59722],</span><span class="s3">\n    \&quot;</span><span class="s1">70</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.56945],</span><span class="s3">\n    \&quot;</span><span class="s1">71</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">72</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.70834],</span><span class="s3">\n    \&quot;</span><span class="s1">73</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">74</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.47222],</span><span class="s3">\n    \&quot;</span><span class="s1">75</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.69445],</span><span class="s3">\n    \&quot;</span><span class="s1">76</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.54167],</span><span class="s3">\n    \&quot;</span><span class="s1">77</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.875],</span><span class="s3">\n    \&quot;</span><span class="s1">78</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.70834],</span><span class="s3">\n    \&quot;</span><span class="s1">79</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.73611],</span><span class="s3">\n    \&quot;</span><span class="s1">80</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.63889],</span><span class="s3">\n    \&quot;</span><span class="s1">81</span><span class="s3">\&quot;</span><span class="s1">: [0.125, 0.69444, 0, 0, 0.73611],</span><span class="s3">\n    \&quot;</span><span class="s1">82</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.64584],</span><span class="s3">\n    \&quot;</span><span class="s1">83</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">84</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.68056],</span><span class="s3">\n    \&quot;</span><span class="s1">85</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.6875],</span><span class="s3">\n    \&quot;</span><span class="s1">86</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.01389, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">87</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.01389, 0, 0.94445],</span><span class="s3">\n    \&quot;</span><span class="s1">88</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">89</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.025, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">90</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">91</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.28889],</span><span class="s3">\n    \&quot;</span><span class="s1">93</span><span class="s3">\&quot;</span><span class="s1">: [0.25, 0.75, 0, 0, 0.28889],</span><span class="s3">\n    \&quot;</span><span class="s1">94</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">95</span><span class="s3">\&quot;</span><span class="s1">: [0.35, 0.09444, 0.02778, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">97</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.48056],</span><span class="s3">\n    \&quot;</span><span class="s1">98</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.51667],</span><span class="s3">\n    \&quot;</span><span class="s1">99</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">100</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.51667],</span><span class="s3">\n    \&quot;</span><span class="s1">101</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">102</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0.06944, 0, 0.30556],</span><span class="s3">\n    \&quot;</span><span class="s1">103</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.01389, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">104</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.51667],</span><span class="s3">\n    \&quot;</span><span class="s1">105</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.67937, 0, 0, 0.23889],</span><span class="s3">\n    \&quot;</span><span class="s1">106</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.67937, 0, 0, 0.26667],</span><span class="s3">\n    \&quot;</span><span class="s1">107</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.48889],</span><span class="s3">\n    \&quot;</span><span class="s1">108</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.23889],</span><span class="s3">\n    \&quot;</span><span class="s1">109</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.79445],</span><span class="s3">\n    \&quot;</span><span class="s1">110</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.51667],</span><span class="s3">\n    \&quot;</span><span class="s1">111</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">112</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.51667],</span><span class="s3">\n    \&quot;</span><span class="s1">113</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.51667],</span><span class="s3">\n    \&quot;</span><span class="s1">114</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.01389, 0, 0.34167],</span><span class="s3">\n    \&quot;</span><span class="s1">115</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.38333],</span><span class="s3">\n    \&quot;</span><span class="s1">116</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.57143, 0, 0, 0.36111],</span><span class="s3">\n    \&quot;</span><span class="s1">117</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.51667],</span><span class="s3">\n    \&quot;</span><span class="s1">118</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.01389, 0, 0.46111],</span><span class="s3">\n    \&quot;</span><span class="s1">119</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.01389, 0, 0.68334],</span><span class="s3">\n    \&quot;</span><span class="s1">120</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.46111],</span><span class="s3">\n    \&quot;</span><span class="s1">121</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0.01389, 0, 0.46111],</span><span class="s3">\n    \&quot;</span><span class="s1">122</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.43472],</span><span class="s3">\n    \&quot;</span><span class="s1">126</span><span class="s3">\&quot;</span><span class="s1">: [0.35, 0.32659, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">160</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">168</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.67937, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">176</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">184</span><span class="s3">\&quot;</span><span class="s1">: [0.17014, 0, 0, 0, 0.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">305</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0, 0, 0.23889],</span><span class="s3">\n    \&quot;</span><span class="s1">567</span><span class="s3">\&quot;</span><span class="s1">: [0.19444, 0.44444, 0, 0, 0.26667],</span><span class="s3">\n    \&quot;</span><span class="s1">710</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">711</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.63194, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">713</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.60889, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">714</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">715</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">728</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">729</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.67937, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">730</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">732</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.67659, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">733</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">915</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.54167],</span><span class="s3">\n    \&quot;</span><span class="s1">916</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">920</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">923</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">926</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">928</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.70834],</span><span class="s3">\n    \&quot;</span><span class="s1">931</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">933</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">934</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">936</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">937</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.72222],</span><span class="s3">\n    \&quot;</span><span class="s1">8211</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.02778, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8212</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.44444, 0.02778, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8216</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">8217</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">8220</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5],</span><span class="s3">\n    \&quot;</span><span class="s1">8221</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.69444, 0, 0, 0.5]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">Script-Regular</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">32</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">65</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.22925, 0, 0.80253],</span><span class="s3">\n    \&quot;</span><span class="s1">66</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.04087, 0, 0.90757],</span><span class="s3">\n    \&quot;</span><span class="s1">67</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.1689, 0, 0.66619],</span><span class="s3">\n    \&quot;</span><span class="s1">68</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.09371, 0, 0.77443],</span><span class="s3">\n    \&quot;</span><span class="s1">69</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.18583, 0, 0.56162],</span><span class="s3">\n    \&quot;</span><span class="s1">70</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.13634, 0, 0.89544],</span><span class="s3">\n    \&quot;</span><span class="s1">71</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.17322, 0, 0.60961],</span><span class="s3">\n    \&quot;</span><span class="s1">72</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.29694, 0, 0.96919],</span><span class="s3">\n    \&quot;</span><span class="s1">73</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.19189, 0, 0.80907],</span><span class="s3">\n    \&quot;</span><span class="s1">74</span><span class="s3">\&quot;</span><span class="s1">: [0.27778, 0.7, 0.19189, 0, 1.05159],</span><span class="s3">\n    \&quot;</span><span class="s1">75</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.31259, 0, 0.91364],</span><span class="s3">\n    \&quot;</span><span class="s1">76</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.19189, 0, 0.87373],</span><span class="s3">\n    \&quot;</span><span class="s1">77</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.15981, 0, 1.08031],</span><span class="s3">\n    \&quot;</span><span class="s1">78</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.3525, 0, 0.9015],</span><span class="s3">\n    \&quot;</span><span class="s1">79</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.08078, 0, 0.73787],</span><span class="s3">\n    \&quot;</span><span class="s1">80</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.08078, 0, 1.01262],</span><span class="s3">\n    \&quot;</span><span class="s1">81</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.03305, 0, 0.88282],</span><span class="s3">\n    \&quot;</span><span class="s1">82</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.06259, 0, 0.85],</span><span class="s3">\n    \&quot;</span><span class="s1">83</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.19189, 0, 0.86767],</span><span class="s3">\n    \&quot;</span><span class="s1">84</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.29087, 0, 0.74697],</span><span class="s3">\n    \&quot;</span><span class="s1">85</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.25815, 0, 0.79996],</span><span class="s3">\n    \&quot;</span><span class="s1">86</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.27523, 0, 0.62204],</span><span class="s3">\n    \&quot;</span><span class="s1">87</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.27523, 0, 0.80532],</span><span class="s3">\n    \&quot;</span><span class="s1">88</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.26006, 0, 0.94445],</span><span class="s3">\n    \&quot;</span><span class="s1">89</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.2939, 0, 0.70961],</span><span class="s3">\n    \&quot;</span><span class="s1">90</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.7, 0.24037, 0, 0.8212],</span><span class="s3">\n    \&quot;</span><span class="s1">160</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">Size1-Regular</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">32</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">40</span><span class="s3">\&quot;</span><span class="s1">: [0.35001, 0.85, 0, 0, 0.45834],</span><span class="s3">\n    \&quot;</span><span class="s1">41</span><span class="s3">\&quot;</span><span class="s1">: [0.35001, 0.85, 0, 0, 0.45834],</span><span class="s3">\n    \&quot;</span><span class="s1">47</span><span class="s3">\&quot;</span><span class="s1">: [0.35001, 0.85, 0, 0, 0.57778],</span><span class="s3">\n    \&quot;</span><span class="s1">91</span><span class="s3">\&quot;</span><span class="s1">: [0.35001, 0.85, 0, 0, 0.41667],</span><span class="s3">\n    \&quot;</span><span class="s1">92</span><span class="s3">\&quot;</span><span class="s1">: [0.35001, 0.85, 0, 0, 0.57778],</span><span class="s3">\n    \&quot;</span><span class="s1">93</span><span class="s3">\&quot;</span><span class="s1">: [0.35001, 0.85, 0, 0, 0.41667],</span><span class="s3">\n    \&quot;</span><span class="s1">123</span><span class="s3">\&quot;</span><span class="s1">: [0.35001, 0.85, 0, 0, 0.58334],</span><span class="s3">\n    \&quot;</span><span class="s1">125</span><span class="s3">\&quot;</span><span class="s1">: [0.35001, 0.85, 0, 0, 0.58334],</span><span class="s3">\n    \&quot;</span><span class="s1">160</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">710</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.72222, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">732</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.72222, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">770</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.72222, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">771</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.72222, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">8214</span><span class="s3">\&quot;</span><span class="s1">: [-0.00099, 0.601, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8593</span><span class="s3">\&quot;</span><span class="s1">: [1e-05, 0.6, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">8595</span><span class="s3">\&quot;</span><span class="s1">: [1e-05, 0.6, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">8657</span><span class="s3">\&quot;</span><span class="s1">: [1e-05, 0.6, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8659</span><span class="s3">\&quot;</span><span class="s1">: [1e-05, 0.6, 0, 0, 0.77778],</span><span class="s3">\n    \&quot;</span><span class="s1">8719</span><span class="s3">\&quot;</span><span class="s1">: [0.25001, 0.75, 0, 0, 0.94445],</span><span class="s3">\n    \&quot;</span><span class="s1">8720</span><span class="s3">\&quot;</span><span class="s1">: [0.25001, 0.75, 0, 0, 0.94445],</span><span class="s3">\n    \&quot;</span><span class="s1">8721</span><span class="s3">\&quot;</span><span class="s1">: [0.25001, 0.75, 0, 0, 1.05556],</span><span class="s3">\n    \&quot;</span><span class="s1">8730</span><span class="s3">\&quot;</span><span class="s1">: [0.35001, 0.85, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8739</span><span class="s3">\&quot;</span><span class="s1">: [-0.00599, 0.606, 0, 0, 0.33333],</span><span class="s3">\n    \&quot;</span><span class="s1">8741</span><span class="s3">\&quot;</span><span class="s1">: [-0.00599, 0.606, 0, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">8747</span><span class="s3">\&quot;</span><span class="s1">: [0.30612, 0.805, 0.19445, 0, 0.47222],</span><span class="s3">\n    \&quot;</span><span class="s1">8748</span><span class="s3">\&quot;</span><span class="s1">: [0.306, 0.805, 0.19445, 0, 0.47222],</span><span class="s3">\n    \&quot;</span><span class="s1">8749</span><span class="s3">\&quot;</span><span class="s1">: [0.306, 0.805, 0.19445, 0, 0.47222],</span><span class="s3">\n    \&quot;</span><span class="s1">8750</span><span class="s3">\&quot;</span><span class="s1">: [0.30612, 0.805, 0.19445, 0, 0.47222],</span><span class="s3">\n    \&quot;</span><span class="s1">8896</span><span class="s3">\&quot;</span><span class="s1">: [0.25001, 0.75, 0, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">8897</span><span class="s3">\&quot;</span><span class="s1">: [0.25001, 0.75, 0, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">8898</span><span class="s3">\&quot;</span><span class="s1">: [0.25001, 0.75, 0, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">8899</span><span class="s3">\&quot;</span><span class="s1">: [0.25001, 0.75, 0, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">8968</span><span class="s3">\&quot;</span><span class="s1">: [0.35001, 0.85, 0, 0, 0.47222],</span><span class="s3">\n    \&quot;</span><span class="s1">8969</span><span class="s3">\&quot;</span><span class="s1">: [0.35001, 0.85, 0, 0, 0.47222],</span><span class="s3">\n    \&quot;</span><span class="s1">8970</span><span class="s3">\&quot;</span><span class="s1">: [0.35001, 0.85, 0, 0, 0.47222],</span><span class="s3">\n    \&quot;</span><span class="s1">8971</span><span class="s3">\&quot;</span><span class="s1">: [0.35001, 0.85, 0, 0, 0.47222],</span><span class="s3">\n    \&quot;</span><span class="s1">9168</span><span class="s3">\&quot;</span><span class="s1">: [-0.00099, 0.601, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">10216</span><span class="s3">\&quot;</span><span class="s1">: [0.35001, 0.85, 0, 0, 0.47222],</span><span class="s3">\n    \&quot;</span><span class="s1">10217</span><span class="s3">\&quot;</span><span class="s1">: [0.35001, 0.85, 0, 0, 0.47222],</span><span class="s3">\n    \&quot;</span><span class="s1">10752</span><span class="s3">\&quot;</span><span class="s1">: [0.25001, 0.75, 0, 0, 1.11111],</span><span class="s3">\n    \&quot;</span><span class="s1">10753</span><span class="s3">\&quot;</span><span class="s1">: [0.25001, 0.75, 0, 0, 1.11111],</span><span class="s3">\n    \&quot;</span><span class="s1">10754</span><span class="s3">\&quot;</span><span class="s1">: [0.25001, 0.75, 0, 0, 1.11111],</span><span class="s3">\n    \&quot;</span><span class="s1">10756</span><span class="s3">\&quot;</span><span class="s1">: [0.25001, 0.75, 0, 0, 0.83334],</span><span class="s3">\n    \&quot;</span><span class="s1">10758</span><span class="s3">\&quot;</span><span class="s1">: [0.25001, 0.75, 0, 0, 0.83334]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">Size2-Regular</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">32</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">40</span><span class="s3">\&quot;</span><span class="s1">: [0.65002, 1.15, 0, 0, 0.59722],</span><span class="s3">\n    \&quot;</span><span class="s1">41</span><span class="s3">\&quot;</span><span class="s1">: [0.65002, 1.15, 0, 0, 0.59722],</span><span class="s3">\n    \&quot;</span><span class="s1">47</span><span class="s3">\&quot;</span><span class="s1">: [0.65002, 1.15, 0, 0, 0.81111],</span><span class="s3">\n    \&quot;</span><span class="s1">91</span><span class="s3">\&quot;</span><span class="s1">: [0.65002, 1.15, 0, 0, 0.47222],</span><span class="s3">\n    \&quot;</span><span class="s1">92</span><span class="s3">\&quot;</span><span class="s1">: [0.65002, 1.15, 0, 0, 0.81111],</span><span class="s3">\n    \&quot;</span><span class="s1">93</span><span class="s3">\&quot;</span><span class="s1">: [0.65002, 1.15, 0, 0, 0.47222],</span><span class="s3">\n    \&quot;</span><span class="s1">123</span><span class="s3">\&quot;</span><span class="s1">: [0.65002, 1.15, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">125</span><span class="s3">\&quot;</span><span class="s1">: [0.65002, 1.15, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">160</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">710</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.75, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">732</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.75, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">770</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.75, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">771</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.75, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8719</span><span class="s3">\&quot;</span><span class="s1">: [0.55001, 1.05, 0, 0, 1.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">8720</span><span class="s3">\&quot;</span><span class="s1">: [0.55001, 1.05, 0, 0, 1.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">8721</span><span class="s3">\&quot;</span><span class="s1">: [0.55001, 1.05, 0, 0, 1.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">8730</span><span class="s3">\&quot;</span><span class="s1">: [0.65002, 1.15, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8747</span><span class="s3">\&quot;</span><span class="s1">: [0.86225, 1.36, 0.44445, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">8748</span><span class="s3">\&quot;</span><span class="s1">: [0.862, 1.36, 0.44445, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">8749</span><span class="s3">\&quot;</span><span class="s1">: [0.862, 1.36, 0.44445, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">8750</span><span class="s3">\&quot;</span><span class="s1">: [0.86225, 1.36, 0.44445, 0, 0.55556],</span><span class="s3">\n    \&quot;</span><span class="s1">8896</span><span class="s3">\&quot;</span><span class="s1">: [0.55001, 1.05, 0, 0, 1.11111],</span><span class="s3">\n    \&quot;</span><span class="s1">8897</span><span class="s3">\&quot;</span><span class="s1">: [0.55001, 1.05, 0, 0, 1.11111],</span><span class="s3">\n    \&quot;</span><span class="s1">8898</span><span class="s3">\&quot;</span><span class="s1">: [0.55001, 1.05, 0, 0, 1.11111],</span><span class="s3">\n    \&quot;</span><span class="s1">8899</span><span class="s3">\&quot;</span><span class="s1">: [0.55001, 1.05, 0, 0, 1.11111],</span><span class="s3">\n    \&quot;</span><span class="s1">8968</span><span class="s3">\&quot;</span><span class="s1">: [0.65002, 1.15, 0, 0, 0.52778],</span><span class="s3">\n    \&quot;</span><span class="s1">8969</span><span class="s3">\&quot;</span><span class="s1">: [0.65002, 1.15, 0, 0, 0.52778],</span><span class="s3">\n    \&quot;</span><span class="s1">8970</span><span class="s3">\&quot;</span><span class="s1">: [0.65002, 1.15, 0, 0, 0.52778],</span><span class="s3">\n    \&quot;</span><span class="s1">8971</span><span class="s3">\&quot;</span><span class="s1">: [0.65002, 1.15, 0, 0, 0.52778],</span><span class="s3">\n    \&quot;</span><span class="s1">10216</span><span class="s3">\&quot;</span><span class="s1">: [0.65002, 1.15, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">10217</span><span class="s3">\&quot;</span><span class="s1">: [0.65002, 1.15, 0, 0, 0.61111],</span><span class="s3">\n    \&quot;</span><span class="s1">10752</span><span class="s3">\&quot;</span><span class="s1">: [0.55001, 1.05, 0, 0, 1.51112],</span><span class="s3">\n    \&quot;</span><span class="s1">10753</span><span class="s3">\&quot;</span><span class="s1">: [0.55001, 1.05, 0, 0, 1.51112],</span><span class="s3">\n    \&quot;</span><span class="s1">10754</span><span class="s3">\&quot;</span><span class="s1">: [0.55001, 1.05, 0, 0, 1.51112],</span><span class="s3">\n    \&quot;</span><span class="s1">10756</span><span class="s3">\&quot;</span><span class="s1">: [0.55001, 1.05, 0, 0, 1.11111],</span><span class="s3">\n    \&quot;</span><span class="s1">10758</span><span class="s3">\&quot;</span><span class="s1">: [0.55001, 1.05, 0, 0, 1.11111]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">Size3-Regular</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">32</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">40</span><span class="s3">\&quot;</span><span class="s1">: [0.95003, 1.45, 0, 0, 0.73611],</span><span class="s3">\n    \&quot;</span><span class="s1">41</span><span class="s3">\&quot;</span><span class="s1">: [0.95003, 1.45, 0, 0, 0.73611],</span><span class="s3">\n    \&quot;</span><span class="s1">47</span><span class="s3">\&quot;</span><span class="s1">: [0.95003, 1.45, 0, 0, 1.04445],</span><span class="s3">\n    \&quot;</span><span class="s1">91</span><span class="s3">\&quot;</span><span class="s1">: [0.95003, 1.45, 0, 0, 0.52778],</span><span class="s3">\n    \&quot;</span><span class="s1">92</span><span class="s3">\&quot;</span><span class="s1">: [0.95003, 1.45, 0, 0, 1.04445],</span><span class="s3">\n    \&quot;</span><span class="s1">93</span><span class="s3">\&quot;</span><span class="s1">: [0.95003, 1.45, 0, 0, 0.52778],</span><span class="s3">\n    \&quot;</span><span class="s1">123</span><span class="s3">\&quot;</span><span class="s1">: [0.95003, 1.45, 0, 0, 0.75],</span><span class="s3">\n    \&quot;</span><span class="s1">125</span><span class="s3">\&quot;</span><span class="s1">: [0.95003, 1.45, 0, 0, 0.75],</span><span class="s3">\n    \&quot;</span><span class="s1">160</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">710</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.75, 0, 0, 1.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">732</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.75, 0, 0, 1.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">770</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.75, 0, 0, 1.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">771</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.75, 0, 0, 1.44445],</span><span class="s3">\n    \&quot;</span><span class="s1">8730</span><span class="s3">\&quot;</span><span class="s1">: [0.95003, 1.45, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8968</span><span class="s3">\&quot;</span><span class="s1">: [0.95003, 1.45, 0, 0, 0.58334],</span><span class="s3">\n    \&quot;</span><span class="s1">8969</span><span class="s3">\&quot;</span><span class="s1">: [0.95003, 1.45, 0, 0, 0.58334],</span><span class="s3">\n    \&quot;</span><span class="s1">8970</span><span class="s3">\&quot;</span><span class="s1">: [0.95003, 1.45, 0, 0, 0.58334],</span><span class="s3">\n    \&quot;</span><span class="s1">8971</span><span class="s3">\&quot;</span><span class="s1">: [0.95003, 1.45, 0, 0, 0.58334],</span><span class="s3">\n    \&quot;</span><span class="s1">10216</span><span class="s3">\&quot;</span><span class="s1">: [0.95003, 1.45, 0, 0, 0.75],</span><span class="s3">\n    \&quot;</span><span class="s1">10217</span><span class="s3">\&quot;</span><span class="s1">: [0.95003, 1.45, 0, 0, 0.75]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">Size4-Regular</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">32</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">40</span><span class="s3">\&quot;</span><span class="s1">: [1.25003, 1.75, 0, 0, 0.79167],</span><span class="s3">\n    \&quot;</span><span class="s1">41</span><span class="s3">\&quot;</span><span class="s1">: [1.25003, 1.75, 0, 0, 0.79167],</span><span class="s3">\n    \&quot;</span><span class="s1">47</span><span class="s3">\&quot;</span><span class="s1">: [1.25003, 1.75, 0, 0, 1.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">91</span><span class="s3">\&quot;</span><span class="s1">: [1.25003, 1.75, 0, 0, 0.58334],</span><span class="s3">\n    \&quot;</span><span class="s1">92</span><span class="s3">\&quot;</span><span class="s1">: [1.25003, 1.75, 0, 0, 1.27778],</span><span class="s3">\n    \&quot;</span><span class="s1">93</span><span class="s3">\&quot;</span><span class="s1">: [1.25003, 1.75, 0, 0, 0.58334],</span><span class="s3">\n    \&quot;</span><span class="s1">123</span><span class="s3">\&quot;</span><span class="s1">: [1.25003, 1.75, 0, 0, 0.80556],</span><span class="s3">\n    \&quot;</span><span class="s1">125</span><span class="s3">\&quot;</span><span class="s1">: [1.25003, 1.75, 0, 0, 0.80556],</span><span class="s3">\n    \&quot;</span><span class="s1">160</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.25],</span><span class="s3">\n    \&quot;</span><span class="s1">710</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.825, 0, 0, 1.8889],</span><span class="s3">\n    \&quot;</span><span class="s1">732</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.825, 0, 0, 1.8889],</span><span class="s3">\n    \&quot;</span><span class="s1">770</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.825, 0, 0, 1.8889],</span><span class="s3">\n    \&quot;</span><span class="s1">771</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.825, 0, 0, 1.8889],</span><span class="s3">\n    \&quot;</span><span class="s1">8730</span><span class="s3">\&quot;</span><span class="s1">: [1.25003, 1.75, 0, 0, 1.0],</span><span class="s3">\n    \&quot;</span><span class="s1">8968</span><span class="s3">\&quot;</span><span class="s1">: [1.25003, 1.75, 0, 0, 0.63889],</span><span class="s3">\n    \&quot;</span><span class="s1">8969</span><span class="s3">\&quot;</span><span class="s1">: [1.25003, 1.75, 0, 0, 0.63889],</span><span class="s3">\n    \&quot;</span><span class="s1">8970</span><span class="s3">\&quot;</span><span class="s1">: [1.25003, 1.75, 0, 0, 0.63889],</span><span class="s3">\n    \&quot;</span><span class="s1">8971</span><span class="s3">\&quot;</span><span class="s1">: [1.25003, 1.75, 0, 0, 0.63889],</span><span class="s3">\n    \&quot;</span><span class="s1">9115</span><span class="s3">\&quot;</span><span class="s1">: [0.64502, 1.155, 0, 0, 0.875],</span><span class="s3">\n    \&quot;</span><span class="s1">9116</span><span class="s3">\&quot;</span><span class="s1">: [1e-05, 0.6, 0, 0, 0.875],</span><span class="s3">\n    \&quot;</span><span class="s1">9117</span><span class="s3">\&quot;</span><span class="s1">: [0.64502, 1.155, 0, 0, 0.875],</span><span class="s3">\n    \&quot;</span><span class="s1">9118</span><span class="s3">\&quot;</span><span class="s1">: [0.64502, 1.155, 0, 0, 0.875],</span><span class="s3">\n    \&quot;</span><span class="s1">9119</span><span class="s3">\&quot;</span><span class="s1">: [1e-05, 0.6, 0, 0, 0.875],</span><span class="s3">\n    \&quot;</span><span class="s1">9120</span><span class="s3">\&quot;</span><span class="s1">: [0.64502, 1.155, 0, 0, 0.875],</span><span class="s3">\n    \&quot;</span><span class="s1">9121</span><span class="s3">\&quot;</span><span class="s1">: [0.64502, 1.155, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">9122</span><span class="s3">\&quot;</span><span class="s1">: [-0.00099, 0.601, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">9123</span><span class="s3">\&quot;</span><span class="s1">: [0.64502, 1.155, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">9124</span><span class="s3">\&quot;</span><span class="s1">: [0.64502, 1.155, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">9125</span><span class="s3">\&quot;</span><span class="s1">: [-0.00099, 0.601, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">9126</span><span class="s3">\&quot;</span><span class="s1">: [0.64502, 1.155, 0, 0, 0.66667],</span><span class="s3">\n    \&quot;</span><span class="s1">9127</span><span class="s3">\&quot;</span><span class="s1">: [1e-05, 0.9, 0, 0, 0.88889],</span><span class="s3">\n    \&quot;</span><span class="s1">9128</span><span class="s3">\&quot;</span><span class="s1">: [0.65002, 1.15, 0, 0, 0.88889],</span><span class="s3">\n    \&quot;</span><span class="s1">9129</span><span class="s3">\&quot;</span><span class="s1">: [0.90001, 0, 0, 0, 0.88889],</span><span class="s3">\n    \&quot;</span><span class="s1">9130</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.3, 0, 0, 0.88889],</span><span class="s3">\n    \&quot;</span><span class="s1">9131</span><span class="s3">\&quot;</span><span class="s1">: [1e-05, 0.9, 0, 0, 0.88889],</span><span class="s3">\n    \&quot;</span><span class="s1">9132</span><span class="s3">\&quot;</span><span class="s1">: [0.65002, 1.15, 0, 0, 0.88889],</span><span class="s3">\n    \&quot;</span><span class="s1">9133</span><span class="s3">\&quot;</span><span class="s1">: [0.90001, 0, 0, 0, 0.88889],</span><span class="s3">\n    \&quot;</span><span class="s1">9143</span><span class="s3">\&quot;</span><span class="s1">: [0.88502, 0.915, 0, 0, 1.05556],</span><span class="s3">\n    \&quot;</span><span class="s1">10216</span><span class="s3">\&quot;</span><span class="s1">: [1.25003, 1.75, 0, 0, 0.80556],</span><span class="s3">\n    \&quot;</span><span class="s1">10217</span><span class="s3">\&quot;</span><span class="s1">: [1.25003, 1.75, 0, 0, 0.80556],</span><span class="s3">\n    \&quot;</span><span class="s1">57344</span><span class="s3">\&quot;</span><span class="s1">: [-0.00499, 0.605, 0, 0, 1.05556],</span><span class="s3">\n    \&quot;</span><span class="s1">57345</span><span class="s3">\&quot;</span><span class="s1">: [-0.00499, 0.605, 0, 0, 1.05556],</span><span class="s3">\n    \&quot;</span><span class="s1">57680</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.12, 0, 0, 0.45],</span><span class="s3">\n    \&quot;</span><span class="s1">57681</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.12, 0, 0, 0.45],</span><span class="s3">\n    \&quot;</span><span class="s1">57682</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.12, 0, 0, 0.45],</span><span class="s3">\n    \&quot;</span><span class="s1">57683</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.12, 0, 0, 0.45]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">Typewriter-Regular</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">32</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">33</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">34</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">35</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">36</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.69444, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">37</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.69444, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">38</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">39</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">40</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.69444, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">41</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.69444, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">42</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.52083, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">43</span><span class="s3">\&quot;</span><span class="s1">: [-0.08056, 0.53055, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">44</span><span class="s3">\&quot;</span><span class="s1">: [0.13889, 0.125, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">45</span><span class="s3">\&quot;</span><span class="s1">: [-0.08056, 0.53055, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">46</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.125, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">47</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.69444, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">48</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">49</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">50</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">51</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">52</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">53</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">54</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">55</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">56</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">57</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">58</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">59</span><span class="s3">\&quot;</span><span class="s1">: [0.13889, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">60</span><span class="s3">\&quot;</span><span class="s1">: [-0.05556, 0.55556, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">61</span><span class="s3">\&quot;</span><span class="s1">: [-0.19549, 0.41562, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">62</span><span class="s3">\&quot;</span><span class="s1">: [-0.05556, 0.55556, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">63</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">64</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">65</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">66</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">67</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">68</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">69</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">70</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">71</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">72</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">73</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">74</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">75</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">76</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">77</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">78</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">79</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">80</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">81</span><span class="s3">\&quot;</span><span class="s1">: [0.13889, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">82</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">83</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">84</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">85</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">86</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">87</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">88</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">89</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">90</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">91</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.69444, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">92</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.69444, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">93</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.69444, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">94</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">95</span><span class="s3">\&quot;</span><span class="s1">: [0.09514, 0, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">96</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">97</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">98</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">99</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">100</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">101</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">102</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">103</span><span class="s3">\&quot;</span><span class="s1">: [0.22222, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">104</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">105</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">106</span><span class="s3">\&quot;</span><span class="s1">: [0.22222, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">107</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">108</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">109</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">110</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">111</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">112</span><span class="s3">\&quot;</span><span class="s1">: [0.22222, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">113</span><span class="s3">\&quot;</span><span class="s1">: [0.22222, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">114</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">115</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">116</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.55358, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">117</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">118</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">119</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">120</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">121</span><span class="s3">\&quot;</span><span class="s1">: [0.22222, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">122</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">123</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.69444, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">124</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.69444, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">125</span><span class="s3">\&quot;</span><span class="s1">: [0.08333, 0.69444, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">126</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">127</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">160</span><span class="s3">\&quot;</span><span class="s1">: [0, 0, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">176</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">184</span><span class="s3">\&quot;</span><span class="s1">: [0.19445, 0, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">305</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">567</span><span class="s3">\&quot;</span><span class="s1">: [0.22222, 0.43056, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">711</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.56597, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">713</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.56555, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">714</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">715</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">728</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">730</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">770</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">771</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">776</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">915</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">916</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">920</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">923</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">926</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">928</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">931</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">933</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">934</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">936</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">937</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">8216</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">8217</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">8242</span><span class="s3">\&quot;</span><span class="s1">: [0, 0.61111, 0, 0, 0.525],</span><span class="s3">\n    \&quot;</span><span class="s1">9251</span><span class="s3">\&quot;</span><span class="s1">: [0.11111, 0.21944, 0, 0, 0.525]</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This file contains metrics regarding fonts and individual symbols. The sigma</span><span class="s3">\n </span><span class="s1">* and xi variables, as well as the metricMap map contain data extracted from</span><span class="s3">\n </span><span class="s1">* TeX, TeX font metrics, and the TTF files. These data are then exposed via the</span><span class="s3">\n </span><span class="s1">* `metrics` variable and the getCharacterMetrics function.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">// In TeX, there are actually three sets of dimensions, one for each of</span><span class="s3">\n</span><span class="s1">// textstyle (size index 5 and higher: &gt;=9pt), scriptstyle (size index 3 and 4:</span><span class="s3">\n</span><span class="s1">// 7-8pt), and scriptscriptstyle (size index 1 and 2: 5-6pt).  These are</span><span class="s3">\n</span><span class="s1">// provided in the arrays below, in that order.</span><span class="s3">\n</span><span class="s1">//</span><span class="s3">\n</span><span class="s1">// The font metrics are stored in fonts cmsy10, cmsy7, and cmsy5 respectively.</span><span class="s3">\n</span><span class="s1">// This was determined by running the following script:</span><span class="s3">\n</span><span class="s1">//</span><span class="s3">\n</span><span class="s1">//     latex -interaction=nonstopmode </span><span class="s3">\\\n</span><span class="s1">//     '</span><span class="s3">\\</span><span class="s1">documentclass{article}</span><span class="s3">\\</span><span class="s1">usepackage{amsmath}</span><span class="s3">\\</span><span class="s1">begin{document}' </span><span class="s3">\\\n</span><span class="s1">//     '$a$ </span><span class="s3">\\</span><span class="s1">expandafter</span><span class="s3">\\</span><span class="s1">show</span><span class="s3">\\</span><span class="s1">the</span><span class="s3">\\</span><span class="s1">textfont2' </span><span class="s3">\\\n</span><span class="s1">//     '</span><span class="s3">\\</span><span class="s1">expandafter</span><span class="s3">\\</span><span class="s1">show</span><span class="s3">\\</span><span class="s1">the</span><span class="s3">\\</span><span class="s1">scriptfont2' </span><span class="s3">\\\n</span><span class="s1">//     '</span><span class="s3">\\</span><span class="s1">expandafter</span><span class="s3">\\</span><span class="s1">show</span><span class="s3">\\</span><span class="s1">the</span><span class="s3">\\</span><span class="s1">scriptscriptfont2' </span><span class="s3">\\\n</span><span class="s1">//     '</span><span class="s3">\\</span><span class="s1">stop'</span><span class="s3">\n</span><span class="s1">//</span><span class="s3">\n</span><span class="s1">// The metrics themselves were retrieved using the following commands:</span><span class="s3">\n</span><span class="s1">//</span><span class="s3">\n</span><span class="s1">//     tftopl cmsy10</span><span class="s3">\n</span><span class="s1">//     tftopl cmsy7</span><span class="s3">\n</span><span class="s1">//     tftopl cmsy5</span><span class="s3">\n</span><span class="s1">//</span><span class="s3">\n</span><span class="s1">// The output of each of these commands is quite lengthy.  The only part we</span><span class="s3">\n</span><span class="s1">// care about is the FONTDIMEN section. Each value is measured in EMs.</span><span class="s3">\n</span><span class="s1">var sigmasAndXis = {</span><span class="s3">\n  </span><span class="s1">slant: [0.250, 0.250, 0.250],</span><span class="s3">\n  </span><span class="s1">// sigma1</span><span class="s3">\n  </span><span class="s1">space: [0.000, 0.000, 0.000],</span><span class="s3">\n  </span><span class="s1">// sigma2</span><span class="s3">\n  </span><span class="s1">stretch: [0.000, 0.000, 0.000],</span><span class="s3">\n  </span><span class="s1">// sigma3</span><span class="s3">\n  </span><span class="s1">shrink: [0.000, 0.000, 0.000],</span><span class="s3">\n  </span><span class="s1">// sigma4</span><span class="s3">\n  </span><span class="s1">xHeight: [0.431, 0.431, 0.431],</span><span class="s3">\n  </span><span class="s1">// sigma5</span><span class="s3">\n  </span><span class="s1">quad: [1.000, 1.171, 1.472],</span><span class="s3">\n  </span><span class="s1">// sigma6</span><span class="s3">\n  </span><span class="s1">extraSpace: [0.000, 0.000, 0.000],</span><span class="s3">\n  </span><span class="s1">// sigma7</span><span class="s3">\n  </span><span class="s1">num1: [0.677, 0.732, 0.925],</span><span class="s3">\n  </span><span class="s1">// sigma8</span><span class="s3">\n  </span><span class="s1">num2: [0.394, 0.384, 0.387],</span><span class="s3">\n  </span><span class="s1">// sigma9</span><span class="s3">\n  </span><span class="s1">num3: [0.444, 0.471, 0.504],</span><span class="s3">\n  </span><span class="s1">// sigma10</span><span class="s3">\n  </span><span class="s1">denom1: [0.686, 0.752, 1.025],</span><span class="s3">\n  </span><span class="s1">// sigma11</span><span class="s3">\n  </span><span class="s1">denom2: [0.345, 0.344, 0.532],</span><span class="s3">\n  </span><span class="s1">// sigma12</span><span class="s3">\n  </span><span class="s1">sup1: [0.413, 0.503, 0.504],</span><span class="s3">\n  </span><span class="s1">// sigma13</span><span class="s3">\n  </span><span class="s1">sup2: [0.363, 0.431, 0.404],</span><span class="s3">\n  </span><span class="s1">// sigma14</span><span class="s3">\n  </span><span class="s1">sup3: [0.289, 0.286, 0.294],</span><span class="s3">\n  </span><span class="s1">// sigma15</span><span class="s3">\n  </span><span class="s1">sub1: [0.150, 0.143, 0.200],</span><span class="s3">\n  </span><span class="s1">// sigma16</span><span class="s3">\n  </span><span class="s1">sub2: [0.247, 0.286, 0.400],</span><span class="s3">\n  </span><span class="s1">// sigma17</span><span class="s3">\n  </span><span class="s1">supDrop: [0.386, 0.353, 0.494],</span><span class="s3">\n  </span><span class="s1">// sigma18</span><span class="s3">\n  </span><span class="s1">subDrop: [0.050, 0.071, 0.100],</span><span class="s3">\n  </span><span class="s1">// sigma19</span><span class="s3">\n  </span><span class="s1">delim1: [2.390, 1.700, 1.980],</span><span class="s3">\n  </span><span class="s1">// sigma20</span><span class="s3">\n  </span><span class="s1">delim2: [1.010, 1.157, 1.420],</span><span class="s3">\n  </span><span class="s1">// sigma21</span><span class="s3">\n  </span><span class="s1">axisHeight: [0.250, 0.250, 0.250],</span><span class="s3">\n  </span><span class="s1">// sigma22</span><span class="s3">\n  </span><span class="s1">// These font metrics are extracted from TeX by using tftopl on cmex10.tfm;</span><span class="s3">\n  </span><span class="s1">// they correspond to the font parameters of the extension fonts (family 3).</span><span class="s3">\n  </span><span class="s1">// See the TeXbook, page 441. In AMSTeX, the extension fonts scale; to</span><span class="s3">\n  </span><span class="s1">// match cmex7, we'd use cmex7.tfm values for script and scriptscript</span><span class="s3">\n  </span><span class="s1">// values.</span><span class="s3">\n  </span><span class="s1">defaultRuleThickness: [0.04, 0.049, 0.049],</span><span class="s3">\n  </span><span class="s1">// xi8; cmex7: 0.049</span><span class="s3">\n  </span><span class="s1">bigOpSpacing1: [0.111, 0.111, 0.111],</span><span class="s3">\n  </span><span class="s1">// xi9</span><span class="s3">\n  </span><span class="s1">bigOpSpacing2: [0.166, 0.166, 0.166],</span><span class="s3">\n  </span><span class="s1">// xi10</span><span class="s3">\n  </span><span class="s1">bigOpSpacing3: [0.2, 0.2, 0.2],</span><span class="s3">\n  </span><span class="s1">// xi11</span><span class="s3">\n  </span><span class="s1">bigOpSpacing4: [0.6, 0.611, 0.611],</span><span class="s3">\n  </span><span class="s1">// xi12; cmex7: 0.611</span><span class="s3">\n  </span><span class="s1">bigOpSpacing5: [0.1, 0.143, 0.143],</span><span class="s3">\n  </span><span class="s1">// xi13; cmex7: 0.143</span><span class="s3">\n  </span><span class="s1">// The </span><span class="s3">\\</span><span class="s1">sqrt rule width is taken from the height of the surd character.</span><span class="s3">\n  </span><span class="s1">// Since we use the same font at all sizes, this thickness doesn't scale.</span><span class="s3">\n  </span><span class="s1">sqrtRuleThickness: [0.04, 0.04, 0.04],</span><span class="s3">\n  </span><span class="s1">// This value determines how large a pt is, for metrics which are defined</span><span class="s3">\n  </span><span class="s1">// in terms of pts.</span><span class="s3">\n  </span><span class="s1">// This value is also used in katex.scss; if you change it make sure the</span><span class="s3">\n  </span><span class="s1">// values match.</span><span class="s3">\n  </span><span class="s1">ptPerEm: [10.0, 10.0, 10.0],</span><span class="s3">\n  </span><span class="s1">// The space between adjacent `|` columns in an array definition. From</span><span class="s3">\n  </span><span class="s1">// `</span><span class="s3">\\</span><span class="s1">showthe</span><span class="s3">\\</span><span class="s1">doublerulesep` in LaTeX. Equals 2.0 / ptPerEm.</span><span class="s3">\n  </span><span class="s1">doubleRuleSep: [0.2, 0.2, 0.2],</span><span class="s3">\n  </span><span class="s1">// The width of separator lines in {array} environments. From</span><span class="s3">\n  </span><span class="s1">// `</span><span class="s3">\\</span><span class="s1">showthe</span><span class="s3">\\</span><span class="s1">arrayrulewidth` in LaTeX. Equals 0.4 / ptPerEm.</span><span class="s3">\n  </span><span class="s1">arrayRuleWidth: [0.04, 0.04, 0.04],</span><span class="s3">\n  </span><span class="s1">// Two values from LaTeX source2e:</span><span class="s3">\n  </span><span class="s1">fboxsep: [0.3, 0.3, 0.3],</span><span class="s3">\n  </span><span class="s1">//        3 pt / ptPerEm</span><span class="s3">\n  </span><span class="s1">fboxrule: [0.04, 0.04, 0.04] // 0.4 pt / ptPerEm</span><span class="s3">\n\n</span><span class="s1">}; // This map contains a mapping from font name and character code to character</span><span class="s3">\n</span><span class="s1">// should have Latin-1 and Cyrillic characters, but may not depending on the</span><span class="s3">\n</span><span class="s1">// operating system.  The metrics do not account for extra height from the</span><span class="s3">\n</span><span class="s1">// accents.  In the case of Cyrillic characters which have both ascenders and</span><span class="s3">\n</span><span class="s1">// descenders we prefer approximations with ascenders, primarily to prevent</span><span class="s3">\n</span><span class="s1">// the fraction bar or root line from intersecting the glyph.</span><span class="s3">\n</span><span class="s1">// TODO(kevinb) allow union of multiple glyph metrics for better accuracy.</span><span class="s3">\n\n</span><span class="s1">var extraCharacterMap = {</span><span class="s3">\n  </span><span class="s1">// Latin-1</span><span class="s3">\n  </span><span class="s1">'': 'A',</span><span class="s3">\n  </span><span class="s1">'': 'D',</span><span class="s3">\n  </span><span class="s1">'': 'o',</span><span class="s3">\n  </span><span class="s1">'': 'a',</span><span class="s3">\n  </span><span class="s1">'': 'd',</span><span class="s3">\n  </span><span class="s1">'': 'o',</span><span class="s3">\n  </span><span class="s1">// Cyrillic</span><span class="s3">\n  </span><span class="s1">'': 'A',</span><span class="s3">\n  </span><span class="s1">'': 'B',</span><span class="s3">\n  </span><span class="s1">'': 'B',</span><span class="s3">\n  </span><span class="s1">'': 'F',</span><span class="s3">\n  </span><span class="s1">'': 'A',</span><span class="s3">\n  </span><span class="s1">'': 'E',</span><span class="s3">\n  </span><span class="s1">'': 'K',</span><span class="s3">\n  </span><span class="s1">'': '3',</span><span class="s3">\n  </span><span class="s1">'': 'N',</span><span class="s3">\n  </span><span class="s1">'': 'N',</span><span class="s3">\n  </span><span class="s1">'': 'K',</span><span class="s3">\n  </span><span class="s1">'': 'N',</span><span class="s3">\n  </span><span class="s1">'': 'M',</span><span class="s3">\n  </span><span class="s1">'': 'H',</span><span class="s3">\n  </span><span class="s1">'': 'O',</span><span class="s3">\n  </span><span class="s1">'': 'N',</span><span class="s3">\n  </span><span class="s1">'': 'P',</span><span class="s3">\n  </span><span class="s1">'': 'C',</span><span class="s3">\n  </span><span class="s1">'': 'T',</span><span class="s3">\n  </span><span class="s1">'': 'y',</span><span class="s3">\n  </span><span class="s1">'': 'O',</span><span class="s3">\n  </span><span class="s1">'': 'X',</span><span class="s3">\n  </span><span class="s1">'': 'U',</span><span class="s3">\n  </span><span class="s1">'': 'h',</span><span class="s3">\n  </span><span class="s1">'': 'W',</span><span class="s3">\n  </span><span class="s1">'': 'W',</span><span class="s3">\n  </span><span class="s1">'': 'B',</span><span class="s3">\n  </span><span class="s1">'': 'X',</span><span class="s3">\n  </span><span class="s1">'': 'B',</span><span class="s3">\n  </span><span class="s1">'': '3',</span><span class="s3">\n  </span><span class="s1">'': 'X',</span><span class="s3">\n  </span><span class="s1">'': 'R',</span><span class="s3">\n  </span><span class="s1">'': 'a',</span><span class="s3">\n  </span><span class="s1">'': 'b',</span><span class="s3">\n  </span><span class="s1">'': 'a',</span><span class="s3">\n  </span><span class="s1">'': 'r',</span><span class="s3">\n  </span><span class="s1">'': 'y',</span><span class="s3">\n  </span><span class="s1">'': 'e',</span><span class="s3">\n  </span><span class="s1">'': 'm',</span><span class="s3">\n  </span><span class="s1">'': 'e',</span><span class="s3">\n  </span><span class="s1">'': 'n',</span><span class="s3">\n  </span><span class="s1">'': 'n',</span><span class="s3">\n  </span><span class="s1">'': 'n',</span><span class="s3">\n  </span><span class="s1">'': 'n',</span><span class="s3">\n  </span><span class="s1">'': 'm',</span><span class="s3">\n  </span><span class="s1">'': 'n',</span><span class="s3">\n  </span><span class="s1">'': 'o',</span><span class="s3">\n  </span><span class="s1">'': 'n',</span><span class="s3">\n  </span><span class="s1">'': 'p',</span><span class="s3">\n  </span><span class="s1">'': 'c',</span><span class="s3">\n  </span><span class="s1">'': 'o',</span><span class="s3">\n  </span><span class="s1">'': 'y',</span><span class="s3">\n  </span><span class="s1">'': 'b',</span><span class="s3">\n  </span><span class="s1">'': 'x',</span><span class="s3">\n  </span><span class="s1">'': 'n',</span><span class="s3">\n  </span><span class="s1">'': 'n',</span><span class="s3">\n  </span><span class="s1">'': 'w',</span><span class="s3">\n  </span><span class="s1">'': 'w',</span><span class="s3">\n  </span><span class="s1">'': 'a',</span><span class="s3">\n  </span><span class="s1">'': 'm',</span><span class="s3">\n  </span><span class="s1">'': 'a',</span><span class="s3">\n  </span><span class="s1">'': 'e',</span><span class="s3">\n  </span><span class="s1">'': 'm',</span><span class="s3">\n  </span><span class="s1">'': 'r'</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This function adds new font metrics to default metricMap</span><span class="s3">\n </span><span class="s1">* It can also override existing metrics</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function setFontMetrics(fontName, metrics) {</span><span class="s3">\n  </span><span class="s1">fontMetricsData[fontName] = metrics;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This function is a convenience function for looking up information in the</span><span class="s3">\n </span><span class="s1">* metricMap table. It takes a character as a string, and a font.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Note: the `width` property may be undefined if fontMetricsData.js wasn't</span><span class="s3">\n </span><span class="s1">* built using `Make extended_metrics`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">function getCharacterMetrics(character, font, mode) {</span><span class="s3">\n  </span><span class="s1">if (!fontMetricsData[font]) {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Font metrics not found for font: </span><span class="s3">\&quot; </span><span class="s1">+ font + </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var ch = character.charCodeAt(0);</span><span class="s3">\n  </span><span class="s1">var metrics = fontMetricsData[font][ch];</span><span class="s3">\n\n  </span><span class="s1">if (!metrics &amp;&amp; character[0] in extraCharacterMap) {</span><span class="s3">\n    </span><span class="s1">ch = extraCharacterMap[character[0]].charCodeAt(0);</span><span class="s3">\n    </span><span class="s1">metrics = fontMetricsData[font][ch];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (!metrics &amp;&amp; mode === 'text') {</span><span class="s3">\n    </span><span class="s1">// We don't typically have font metrics for Asian scripts.</span><span class="s3">\n    </span><span class="s1">// But since we support them in text mode, we need to return</span><span class="s3">\n    </span><span class="s1">// some sort of metrics.</span><span class="s3">\n    </span><span class="s1">// So if the character is in a script we support but we</span><span class="s3">\n    </span><span class="s1">// don't have metrics for it, just use the metrics for</span><span class="s3">\n    </span><span class="s1">// the Latin capital letter M. This is close enough because</span><span class="s3">\n    </span><span class="s1">// we (currently) only care about the height of the glyph</span><span class="s3">\n    </span><span class="s1">// not its width.</span><span class="s3">\n    </span><span class="s1">if (supportedCodepoint(ch)) {</span><span class="s3">\n      </span><span class="s1">metrics = fontMetricsData[font][77]; // 77 is the charcode for 'M'</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (metrics) {</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">depth: metrics[0],</span><span class="s3">\n      </span><span class="s1">height: metrics[1],</span><span class="s3">\n      </span><span class="s1">italic: metrics[2],</span><span class="s3">\n      </span><span class="s1">skew: metrics[3],</span><span class="s3">\n      </span><span class="s1">width: metrics[4]</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">var fontMetricsBySizeIndex = {};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Get the font metrics for a given size.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">function getGlobalMetrics(size) {</span><span class="s3">\n  </span><span class="s1">var sizeIndex;</span><span class="s3">\n\n  </span><span class="s1">if (size &gt;= 5) {</span><span class="s3">\n    </span><span class="s1">sizeIndex = 0;</span><span class="s3">\n  </span><span class="s1">} else if (size &gt;= 3) {</span><span class="s3">\n    </span><span class="s1">sizeIndex = 1;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">sizeIndex = 2;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (!fontMetricsBySizeIndex[sizeIndex]) {</span><span class="s3">\n    </span><span class="s1">var metrics = fontMetricsBySizeIndex[sizeIndex] = {</span><span class="s3">\n      </span><span class="s1">cssEmPerMu: sigmasAndXis.quad[sizeIndex] / 18</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n\n    </span><span class="s1">for (var key in sigmasAndXis) {</span><span class="s3">\n      </span><span class="s1">if (sigmasAndXis.hasOwnProperty(key)) {</span><span class="s3">\n        </span><span class="s1">metrics[key] = sigmasAndXis[key][sizeIndex];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return fontMetricsBySizeIndex[sizeIndex];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This file contains information about the options that the Parser carries</span><span class="s3">\n </span><span class="s1">* around with it while parsing. Data is held in an `Options` object, and when</span><span class="s3">\n </span><span class="s1">* recursing, a new `Options` object can be created with the `.with*` and</span><span class="s3">\n </span><span class="s1">* `.reset` functions.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var sizeStyleMap = [// Each element contains [textsize, scriptsize, scriptscriptsize].</span><span class="s3">\n</span><span class="s1">// The size mappings are taken from TeX with </span><span class="s3">\\</span><span class="s1">normalsize=10pt.</span><span class="s3">\n</span><span class="s1">[1, 1, 1], // size1: [5, 5, 5]              </span><span class="s3">\\</span><span class="s1">tiny</span><span class="s3">\n</span><span class="s1">[2, 1, 1], // size2: [6, 5, 5]</span><span class="s3">\n</span><span class="s1">[3, 1, 1], // size3: [7, 5, 5]              </span><span class="s3">\\</span><span class="s1">scriptsize</span><span class="s3">\n</span><span class="s1">[4, 2, 1], // size4: [8, 6, 5]              </span><span class="s3">\\</span><span class="s1">footnotesize</span><span class="s3">\n</span><span class="s1">[5, 2, 1], // size5: [9, 6, 5]              </span><span class="s3">\\</span><span class="s1">small</span><span class="s3">\n</span><span class="s1">[6, 3, 1], // size6: [10, 7, 5]             </span><span class="s3">\\</span><span class="s1">normalsize</span><span class="s3">\n</span><span class="s1">[7, 4, 2], // size7: [12, 8, 6]             </span><span class="s3">\\</span><span class="s1">large</span><span class="s3">\n</span><span class="s1">[8, 6, 3], // size8: [14.4, 10, 7]          </span><span class="s3">\\</span><span class="s1">Large</span><span class="s3">\n</span><span class="s1">[9, 7, 6], // size9: [17.28, 12, 10]        </span><span class="s3">\\</span><span class="s1">LARGE</span><span class="s3">\n</span><span class="s1">[10, 8, 7], // size10: [20.74, 14.4, 12]     </span><span class="s3">\\</span><span class="s1">huge</span><span class="s3">\n</span><span class="s1">[11, 10, 9] // size11: [24.88, 20.74, 17.28] </span><span class="s3">\\</span><span class="s1">HUGE</span><span class="s3">\n</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">var sizeMultipliers = [// fontMetrics.js:getGlobalMetrics also uses size indexes, so if</span><span class="s3">\n</span><span class="s1">// you change size indexes, change that function.</span><span class="s3">\n</span><span class="s1">0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 1.2, 1.44, 1.728, 2.074, 2.488];</span><span class="s3">\n\n</span><span class="s1">var sizeAtStyle = function sizeAtStyle(size, style) {</span><span class="s3">\n  </span><span class="s1">return style.size &lt; 2 ? size : sizeStyleMap[size - 1][style.size - 1];</span><span class="s3">\n</span><span class="s1">}; // In these types, </span><span class="s3">\&quot;\&quot; </span><span class="s1">(empty string) means </span><span class="s3">\&quot;</span><span class="s1">no change</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\n\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This is the main options class. It contains the current style, size, color,</span><span class="s3">\n </span><span class="s1">* and font.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Options objects should not be modified. To create a new Options with</span><span class="s3">\n </span><span class="s1">* different properties, call a `.having*` method.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class Options {</span><span class="s3">\n  </span><span class="s1">// A font family applies to a group of fonts (i.e. SansSerif), while a font</span><span class="s3">\n  </span><span class="s1">// represents a specific font (i.e. SansSerif Bold).</span><span class="s3">\n  </span><span class="s1">// See: https://tex.stackexchange.com/questions/22350/difference-between-textrm-and-mathrm</span><span class="s3">\n\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* The base size index.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">constructor(data) {</span><span class="s3">\n    </span><span class="s1">this.style = void 0;</span><span class="s3">\n    </span><span class="s1">this.color = void 0;</span><span class="s3">\n    </span><span class="s1">this.size = void 0;</span><span class="s3">\n    </span><span class="s1">this.textSize = void 0;</span><span class="s3">\n    </span><span class="s1">this.phantom = void 0;</span><span class="s3">\n    </span><span class="s1">this.font = void 0;</span><span class="s3">\n    </span><span class="s1">this.fontFamily = void 0;</span><span class="s3">\n    </span><span class="s1">this.fontWeight = void 0;</span><span class="s3">\n    </span><span class="s1">this.fontShape = void 0;</span><span class="s3">\n    </span><span class="s1">this.sizeMultiplier = void 0;</span><span class="s3">\n    </span><span class="s1">this.maxSize = void 0;</span><span class="s3">\n    </span><span class="s1">this.minRuleThickness = void 0;</span><span class="s3">\n    </span><span class="s1">this._fontMetrics = void 0;</span><span class="s3">\n    </span><span class="s1">this.style = data.style;</span><span class="s3">\n    </span><span class="s1">this.color = data.color;</span><span class="s3">\n    </span><span class="s1">this.size = data.size || Options.BASESIZE;</span><span class="s3">\n    </span><span class="s1">this.textSize = data.textSize || this.size;</span><span class="s3">\n    </span><span class="s1">this.phantom = !!data.phantom;</span><span class="s3">\n    </span><span class="s1">this.font = data.font || </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.fontFamily = data.fontFamily || </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.fontWeight = data.fontWeight || '';</span><span class="s3">\n    </span><span class="s1">this.fontShape = data.fontShape || '';</span><span class="s3">\n    </span><span class="s1">this.sizeMultiplier = sizeMultipliers[this.size - 1];</span><span class="s3">\n    </span><span class="s1">this.maxSize = data.maxSize;</span><span class="s3">\n    </span><span class="s1">this.minRuleThickness = data.minRuleThickness;</span><span class="s3">\n    </span><span class="s1">this._fontMetrics = undefined;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Returns a new options object with the same properties as </span><span class="s3">\&quot;</span><span class="s1">this</span><span class="s3">\&quot;</span><span class="s1">.  Properties</span><span class="s3">\n   </span><span class="s1">* from </span><span class="s3">\&quot;</span><span class="s1">extension</span><span class="s3">\&quot; </span><span class="s1">will be copied to the new options object.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">extend(extension) {</span><span class="s3">\n    </span><span class="s1">var data = {</span><span class="s3">\n      </span><span class="s1">style: this.style,</span><span class="s3">\n      </span><span class="s1">size: this.size,</span><span class="s3">\n      </span><span class="s1">textSize: this.textSize,</span><span class="s3">\n      </span><span class="s1">color: this.color,</span><span class="s3">\n      </span><span class="s1">phantom: this.phantom,</span><span class="s3">\n      </span><span class="s1">font: this.font,</span><span class="s3">\n      </span><span class="s1">fontFamily: this.fontFamily,</span><span class="s3">\n      </span><span class="s1">fontWeight: this.fontWeight,</span><span class="s3">\n      </span><span class="s1">fontShape: this.fontShape,</span><span class="s3">\n      </span><span class="s1">maxSize: this.maxSize,</span><span class="s3">\n      </span><span class="s1">minRuleThickness: this.minRuleThickness</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n\n    </span><span class="s1">for (var key in extension) {</span><span class="s3">\n      </span><span class="s1">if (extension.hasOwnProperty(key)) {</span><span class="s3">\n        </span><span class="s1">data[key] = extension[key];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return new Options(data);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Return an options object with the given style. If `this.style === style`,</span><span class="s3">\n   </span><span class="s1">* returns `this`.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">havingStyle(style) {</span><span class="s3">\n    </span><span class="s1">if (this.style === style) {</span><span class="s3">\n      </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return this.extend({</span><span class="s3">\n        </span><span class="s1">style: style,</span><span class="s3">\n        </span><span class="s1">size: sizeAtStyle(this.textSize, style)</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Return an options object with a cramped version of the current style. If</span><span class="s3">\n   </span><span class="s1">* the current style is cramped, returns `this`.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">havingCrampedStyle() {</span><span class="s3">\n    </span><span class="s1">return this.havingStyle(this.style.cramp());</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Return an options object with the given size and in at least `</span><span class="s3">\\</span><span class="s1">textstyle`.</span><span class="s3">\n   </span><span class="s1">* Returns `this` if appropriate.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">havingSize(size) {</span><span class="s3">\n    </span><span class="s1">if (this.size === size &amp;&amp; this.textSize === size) {</span><span class="s3">\n      </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return this.extend({</span><span class="s3">\n        </span><span class="s1">style: this.style.text(),</span><span class="s3">\n        </span><span class="s1">size: size,</span><span class="s3">\n        </span><span class="s1">textSize: size,</span><span class="s3">\n        </span><span class="s1">sizeMultiplier: sizeMultipliers[size - 1]</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Like `this.havingSize(BASESIZE).havingStyle(style)`. If `style` is omitted,</span><span class="s3">\n   </span><span class="s1">* changes to at least `</span><span class="s3">\\</span><span class="s1">textstyle`.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">havingBaseStyle(style) {</span><span class="s3">\n    </span><span class="s1">style = style || this.style.text();</span><span class="s3">\n    </span><span class="s1">var wantSize = sizeAtStyle(Options.BASESIZE, style);</span><span class="s3">\n\n    </span><span class="s1">if (this.size === wantSize &amp;&amp; this.textSize === Options.BASESIZE &amp;&amp; this.style === style) {</span><span class="s3">\n      </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return this.extend({</span><span class="s3">\n        </span><span class="s1">style: style,</span><span class="s3">\n        </span><span class="s1">size: wantSize</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Remove the effect of sizing changes such as </span><span class="s3">\\</span><span class="s1">Huge.</span><span class="s3">\n   </span><span class="s1">* Keep the effect of the current style, such as </span><span class="s3">\\</span><span class="s1">scriptstyle.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">havingBaseSizing() {</span><span class="s3">\n    </span><span class="s1">var size;</span><span class="s3">\n\n    </span><span class="s1">switch (this.style.id) {</span><span class="s3">\n      </span><span class="s1">case 4:</span><span class="s3">\n      </span><span class="s1">case 5:</span><span class="s3">\n        </span><span class="s1">size = 3; // normalsize in scriptstyle</span><span class="s3">\n\n        </span><span class="s1">break;</span><span class="s3">\n\n      </span><span class="s1">case 6:</span><span class="s3">\n      </span><span class="s1">case 7:</span><span class="s3">\n        </span><span class="s1">size = 1; // normalsize in scriptscriptstyle</span><span class="s3">\n\n        </span><span class="s1">break;</span><span class="s3">\n\n      </span><span class="s1">default:</span><span class="s3">\n        </span><span class="s1">size = 6;</span><span class="s3">\n      </span><span class="s1">// normalsize in textstyle or displaystyle</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return this.extend({</span><span class="s3">\n      </span><span class="s1">style: this.style.text(),</span><span class="s3">\n      </span><span class="s1">size: size</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Create a new options object with the given color.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">withColor(color) {</span><span class="s3">\n    </span><span class="s1">return this.extend({</span><span class="s3">\n      </span><span class="s1">color: color</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Create a new options object with </span><span class="s3">\&quot;</span><span class="s1">phantom</span><span class="s3">\&quot; </span><span class="s1">set to true.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">withPhantom() {</span><span class="s3">\n    </span><span class="s1">return this.extend({</span><span class="s3">\n      </span><span class="s1">phantom: true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Creates a new options object with the given math font or old text font.</span><span class="s3">\n   </span><span class="s1">* @type {[type]}</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">withFont(font) {</span><span class="s3">\n    </span><span class="s1">return this.extend({</span><span class="s3">\n      </span><span class="s1">font</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Create a new options objects with the given fontFamily.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">withTextFontFamily(fontFamily) {</span><span class="s3">\n    </span><span class="s1">return this.extend({</span><span class="s3">\n      </span><span class="s1">fontFamily,</span><span class="s3">\n      </span><span class="s1">font: </span><span class="s3">\&quot;\&quot;\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Creates a new options object with the given font weight</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">withTextFontWeight(fontWeight) {</span><span class="s3">\n    </span><span class="s1">return this.extend({</span><span class="s3">\n      </span><span class="s1">fontWeight,</span><span class="s3">\n      </span><span class="s1">font: </span><span class="s3">\&quot;\&quot;\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Creates a new options object with the given font weight</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">withTextFontShape(fontShape) {</span><span class="s3">\n    </span><span class="s1">return this.extend({</span><span class="s3">\n      </span><span class="s1">fontShape,</span><span class="s3">\n      </span><span class="s1">font: </span><span class="s3">\&quot;\&quot;\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Return the CSS sizing classes required to switch from enclosing options</span><span class="s3">\n   </span><span class="s1">* `oldOptions` to `this`. Returns an array of classes.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">sizingClasses(oldOptions) {</span><span class="s3">\n    </span><span class="s1">if (oldOptions.size !== this.size) {</span><span class="s3">\n      </span><span class="s1">return [</span><span class="s3">\&quot;</span><span class="s1">sizing</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">reset-size</span><span class="s3">\&quot; </span><span class="s1">+ oldOptions.size, </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot; </span><span class="s1">+ this.size];</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return [];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Return the CSS sizing classes required to switch to the base size. Like</span><span class="s3">\n   </span><span class="s1">* `this.havingSize(BASESIZE).sizingClasses(this)`.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">baseSizingClasses() {</span><span class="s3">\n    </span><span class="s1">if (this.size !== Options.BASESIZE) {</span><span class="s3">\n      </span><span class="s1">return [</span><span class="s3">\&quot;</span><span class="s1">sizing</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">reset-size</span><span class="s3">\&quot; </span><span class="s1">+ this.size, </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot; </span><span class="s1">+ Options.BASESIZE];</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return [];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Return the font metrics for this size.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">fontMetrics() {</span><span class="s3">\n    </span><span class="s1">if (!this._fontMetrics) {</span><span class="s3">\n      </span><span class="s1">this._fontMetrics = getGlobalMetrics(this.size);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return this._fontMetrics;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Gets the CSS color of the current options object</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">getColor() {</span><span class="s3">\n    </span><span class="s1">if (this.phantom) {</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">transparent</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return this.color;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">Options.BASESIZE = 6;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This file does conversion between units.  In particular, it provides</span><span class="s3">\n </span><span class="s1">* calculateSize to convert other units into ems.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">// Thus, multiplying a length by this number converts the length from units</span><span class="s3">\n</span><span class="s1">// into pts.  Dividing the result by ptPerEm gives the number of ems</span><span class="s3">\n</span><span class="s1">// *assuming* a font size of ptPerEm (normal size, normal style).</span><span class="s3">\n\n</span><span class="s1">var ptPerUnit = {</span><span class="s3">\n  </span><span class="s1">// https://en.wikibooks.org/wiki/LaTeX/Lengths and</span><span class="s3">\n  </span><span class="s1">// https://tex.stackexchange.com/a/8263</span><span class="s3">\n  \&quot;</span><span class="s1">pt</span><span class="s3">\&quot;</span><span class="s1">: 1,</span><span class="s3">\n  </span><span class="s1">// TeX point</span><span class="s3">\n  \&quot;</span><span class="s1">mm</span><span class="s3">\&quot;</span><span class="s1">: 7227 / 2540,</span><span class="s3">\n  </span><span class="s1">// millimeter</span><span class="s3">\n  \&quot;</span><span class="s1">cm</span><span class="s3">\&quot;</span><span class="s1">: 7227 / 254,</span><span class="s3">\n  </span><span class="s1">// centimeter</span><span class="s3">\n  \&quot;</span><span class="s1">in</span><span class="s3">\&quot;</span><span class="s1">: 72.27,</span><span class="s3">\n  </span><span class="s1">// inch</span><span class="s3">\n  \&quot;</span><span class="s1">bp</span><span class="s3">\&quot;</span><span class="s1">: 803 / 800,</span><span class="s3">\n  </span><span class="s1">// big (PostScript) points</span><span class="s3">\n  \&quot;</span><span class="s1">pc</span><span class="s3">\&quot;</span><span class="s1">: 12,</span><span class="s3">\n  </span><span class="s1">// pica</span><span class="s3">\n  \&quot;</span><span class="s1">dd</span><span class="s3">\&quot;</span><span class="s1">: 1238 / 1157,</span><span class="s3">\n  </span><span class="s1">// didot</span><span class="s3">\n  \&quot;</span><span class="s1">cc</span><span class="s3">\&quot;</span><span class="s1">: 14856 / 1157,</span><span class="s3">\n  </span><span class="s1">// cicero (12 didot)</span><span class="s3">\n  \&quot;</span><span class="s1">nd</span><span class="s3">\&quot;</span><span class="s1">: 685 / 642,</span><span class="s3">\n  </span><span class="s1">// new didot</span><span class="s3">\n  \&quot;</span><span class="s1">nc</span><span class="s3">\&quot;</span><span class="s1">: 1370 / 107,</span><span class="s3">\n  </span><span class="s1">// new cicero (12 new didot)</span><span class="s3">\n  \&quot;</span><span class="s1">sp</span><span class="s3">\&quot;</span><span class="s1">: 1 / 65536,</span><span class="s3">\n  </span><span class="s1">// scaled point (TeX's internal smallest unit)</span><span class="s3">\n  </span><span class="s1">// https://tex.stackexchange.com/a/41371</span><span class="s3">\n  \&quot;</span><span class="s1">px</span><span class="s3">\&quot;</span><span class="s1">: 803 / 800 // </span><span class="s3">\\</span><span class="s1">pdfpxdimen defaults to 1 bp in pdfTeX and LuaTeX</span><span class="s3">\n\n</span><span class="s1">}; // Dictionary of relative units, for fast validity testing.</span><span class="s3">\n\n</span><span class="s1">var relativeUnit = {</span><span class="s3">\n  \&quot;</span><span class="s1">ex</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n  \&quot;</span><span class="s1">em</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n  \&quot;</span><span class="s1">mu</span><span class="s3">\&quot;</span><span class="s1">: true</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Determine whether the specified unit (either a string defining the unit</span><span class="s3">\n </span><span class="s1">* or a </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot; </span><span class="s1">parse node containing a unit field) is valid.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var validUnit = function validUnit(unit) {</span><span class="s3">\n  </span><span class="s1">if (typeof unit !== </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">unit = unit.unit;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return unit in ptPerUnit || unit in relativeUnit || unit === </span><span class="s3">\&quot;</span><span class="s1">ex</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/*</span><span class="s3">\n </span><span class="s1">* Convert a </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot; </span><span class="s1">parse node (with numeric </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot; </span><span class="s1">and string </span><span class="s3">\&quot;</span><span class="s1">unit</span><span class="s3">\&quot; </span><span class="s1">fields,</span><span class="s3">\n </span><span class="s1">* as parsed by functions.js argType </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">) into a CSS em value for the</span><span class="s3">\n </span><span class="s1">* current style/scale.  `options` gives the current options.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">var calculateSize = function calculateSize(sizeValue, options) {</span><span class="s3">\n  </span><span class="s1">var scale;</span><span class="s3">\n\n  </span><span class="s1">if (sizeValue.unit in ptPerUnit) {</span><span class="s3">\n    </span><span class="s1">// Absolute units</span><span class="s3">\n    </span><span class="s1">scale = ptPerUnit[sizeValue.unit] // Convert unit to pt</span><span class="s3">\n    </span><span class="s1">/ options.fontMetrics().ptPerEm // Convert pt to CSS em</span><span class="s3">\n    </span><span class="s1">/ options.sizeMultiplier; // Unscale to make absolute units</span><span class="s3">\n  </span><span class="s1">} else if (sizeValue.unit === </span><span class="s3">\&quot;</span><span class="s1">mu</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">// `mu` units scale with scriptstyle/scriptscriptstyle.</span><span class="s3">\n    </span><span class="s1">scale = options.fontMetrics().cssEmPerMu;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">// Other relative units always refer to the *textstyle* font</span><span class="s3">\n    </span><span class="s1">// in the current size.</span><span class="s3">\n    </span><span class="s1">var unitOptions;</span><span class="s3">\n\n    </span><span class="s1">if (options.style.isTight()) {</span><span class="s3">\n      </span><span class="s1">// isTight() means current style is script/scriptscript.</span><span class="s3">\n      </span><span class="s1">unitOptions = options.havingStyle(options.style.text());</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">unitOptions = options;</span><span class="s3">\n    </span><span class="s1">} // TODO: In TeX these units are relative to the quad of the current</span><span class="s3">\n    </span><span class="s1">// *text* font, e.g. cmr10. KaTeX instead uses values from the</span><span class="s3">\n    </span><span class="s1">// comparably-sized *Computer Modern symbol* font. At 10pt, these</span><span class="s3">\n    </span><span class="s1">// match. At 7pt and 5pt, they differ: cmr7=1.138894, cmsy7=1.170641;</span><span class="s3">\n    </span><span class="s1">// cmr5=1.361133, cmsy5=1.472241. Consider $</span><span class="s3">\\</span><span class="s1">scriptsize a</span><span class="s3">\\</span><span class="s1">kern1emb$.</span><span class="s3">\n    </span><span class="s1">// TeX </span><span class="s3">\\</span><span class="s1">showlists shows a kern of 1.13889 * fontsize;</span><span class="s3">\n    </span><span class="s1">// KaTeX shows a kern of 1.171 * fontsize.</span><span class="s3">\n\n\n    </span><span class="s1">if (sizeValue.unit === </span><span class="s3">\&quot;</span><span class="s1">ex</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">scale = unitOptions.fontMetrics().xHeight;</span><span class="s3">\n    </span><span class="s1">} else if (sizeValue.unit === </span><span class="s3">\&quot;</span><span class="s1">em</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">scale = unitOptions.fontMetrics().quad;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Invalid unit: '</span><span class="s3">\&quot; </span><span class="s1">+ sizeValue.unit + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (unitOptions !== options) {</span><span class="s3">\n      </span><span class="s1">scale *= unitOptions.sizeMultiplier / options.sizeMultiplier;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return Math.min(sizeValue.number * scale, options.maxSize);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Round `n` to 4 decimal places, or to the nearest 1/10,000th em. See</span><span class="s3">\n </span><span class="s1">* https://github.com/KaTeX/KaTeX/pull/2460.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">var makeEm = function makeEm(n) {</span><span class="s3">\n  </span><span class="s1">return +n.toFixed(4) + </span><span class="s3">\&quot;</span><span class="s1">em</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* These objects store the data about the DOM nodes we create, as well as some</span><span class="s3">\n </span><span class="s1">* extra data. They can then be transformed into real DOM nodes with the</span><span class="s3">\n </span><span class="s1">* `toNode` function or HTML markup using `toMarkup`. They are useful for both</span><span class="s3">\n </span><span class="s1">* storing extra properties on the nodes, as well as providing a way to easily</span><span class="s3">\n </span><span class="s1">* work with the DOM.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Similar functions for working with MathML nodes exist in mathMLTree.js.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* TODO: refactor `span` and `anchor` into common superclass when</span><span class="s3">\n </span><span class="s1">* target environments support class inheritance</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Create an HTML className based on a list of classes. In addition to joining</span><span class="s3">\n </span><span class="s1">* with spaces, we also remove empty classes.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var createClass = function createClass(classes) {</span><span class="s3">\n  </span><span class="s1">return classes.filter(cls =&gt; cls).join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var initNode = function initNode(classes, options, style) {</span><span class="s3">\n  </span><span class="s1">this.classes = classes || [];</span><span class="s3">\n  </span><span class="s1">this.attributes = {};</span><span class="s3">\n  </span><span class="s1">this.height = 0;</span><span class="s3">\n  </span><span class="s1">this.depth = 0;</span><span class="s3">\n  </span><span class="s1">this.maxFontSize = 0;</span><span class="s3">\n  </span><span class="s1">this.style = style || {};</span><span class="s3">\n\n  </span><span class="s1">if (options) {</span><span class="s3">\n    </span><span class="s1">if (options.style.isTight()) {</span><span class="s3">\n      </span><span class="s1">this.classes.push(</span><span class="s3">\&quot;</span><span class="s1">mtight</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var color = options.getColor();</span><span class="s3">\n\n    </span><span class="s1">if (color) {</span><span class="s3">\n      </span><span class="s1">this.style.color = color;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Convert into an HTML node</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var toNode = function toNode(tagName) {</span><span class="s3">\n  </span><span class="s1">var node = document.createElement(tagName); // Apply the class</span><span class="s3">\n\n  </span><span class="s1">node.className = createClass(this.classes); // Apply inline styles</span><span class="s3">\n\n  </span><span class="s1">for (var style in this.style) {</span><span class="s3">\n    </span><span class="s1">if (this.style.hasOwnProperty(style)) {</span><span class="s3">\n      </span><span class="s1">// $FlowFixMe Flow doesn't seem to understand span.style's type.</span><span class="s3">\n      </span><span class="s1">node.style[style] = this.style[style];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} // Apply attributes</span><span class="s3">\n\n\n  </span><span class="s1">for (var attr in this.attributes) {</span><span class="s3">\n    </span><span class="s1">if (this.attributes.hasOwnProperty(attr)) {</span><span class="s3">\n      </span><span class="s1">node.setAttribute(attr, this.attributes[attr]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} // Append the children, also as HTML nodes</span><span class="s3">\n\n\n  </span><span class="s1">for (var i = 0; i &lt; this.children.length; i++) {</span><span class="s3">\n    </span><span class="s1">node.appendChild(this.children[i].toNode());</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return node;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* https://w3c.github.io/html-reference/syntax.html#syntax-attributes</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* &gt; Attribute Names must consist of one or more characters</span><span class="s3">\n </span><span class="s1">* other than the space characters, U+0000 NULL,</span><span class="s3">\n </span><span class="s1">* '</span><span class="s3">\&quot;</span><span class="s1">', </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">/</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">=</span><span class="s3">\&quot;</span><span class="s1">, the control characters,</span><span class="s3">\n </span><span class="s1">* and any characters that are not defined by Unicode.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var invalidAttributeNameRegex = /[</span><span class="s3">\\</span><span class="s1">s</span><span class="s3">\&quot;</span><span class="s1">'&gt;/=</span><span class="s3">\\</span><span class="s1">x00-</span><span class="s3">\\</span><span class="s1">x1f]/;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Convert into an HTML markup string</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">var toMarkup = function toMarkup(tagName) {</span><span class="s3">\n  </span><span class="s1">var markup = </span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot; </span><span class="s1">+ tagName; // Add the class</span><span class="s3">\n\n  </span><span class="s1">if (this.classes.length) {</span><span class="s3">\n    </span><span class="s1">markup += </span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ utils.escape(createClass(this.classes)) + </span><span class="s3">\&quot;\\\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var styles = </span><span class="s3">\&quot;\&quot;</span><span class="s1">; // Add the styles, after hyphenation</span><span class="s3">\n\n  </span><span class="s1">for (var style in this.style) {</span><span class="s3">\n    </span><span class="s1">if (this.style.hasOwnProperty(style)) {</span><span class="s3">\n      </span><span class="s1">styles += utils.hyphenate(style) + </span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot; </span><span class="s1">+ this.style[style] + </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (styles) {</span><span class="s3">\n    </span><span class="s1">markup += </span><span class="s3">\&quot; </span><span class="s1">style=</span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ utils.escape(styles) + </span><span class="s3">\&quot;\\\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} // Add the attributes</span><span class="s3">\n\n\n  </span><span class="s1">for (var attr in this.attributes) {</span><span class="s3">\n    </span><span class="s1">if (this.attributes.hasOwnProperty(attr)) {</span><span class="s3">\n      </span><span class="s1">if (invalidAttributeNameRegex.test(attr)) {</span><span class="s3">\n        </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Invalid attribute name '</span><span class="s3">\&quot; </span><span class="s1">+ attr + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">markup += </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ attr + </span><span class="s3">\&quot;</span><span class="s1">=</span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ utils.escape(this.attributes[attr]) + </span><span class="s3">\&quot;\\\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">markup += </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">; // Add the markup of the children, also as markup</span><span class="s3">\n\n  </span><span class="s1">for (var i = 0; i &lt; this.children.length; i++) {</span><span class="s3">\n    </span><span class="s1">markup += this.children[i].toMarkup();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">markup += </span><span class="s3">\&quot;</span><span class="s1">&lt;/</span><span class="s3">\&quot; </span><span class="s1">+ tagName + </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">return markup;</span><span class="s3">\n</span><span class="s1">}; // Making the type below exact with all optional fields doesn't work due to</span><span class="s3">\n</span><span class="s1">// - https://github.com/facebook/flow/issues/4582</span><span class="s3">\n</span><span class="s1">// - https://github.com/facebook/flow/issues/5688</span><span class="s3">\n</span><span class="s1">// However, since *all* fields are optional, $Shape&lt;&gt; works as suggested in 5688</span><span class="s3">\n</span><span class="s1">// above.</span><span class="s3">\n</span><span class="s1">// This type does not include all CSS properties. Additional properties should</span><span class="s3">\n</span><span class="s1">// be added as needed.</span><span class="s3">\n\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This node represents a span node, with a className, a list of children, and</span><span class="s3">\n </span><span class="s1">* an inline style. It also contains information about its height, depth, and</span><span class="s3">\n </span><span class="s1">* maxFontSize.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Represents two types with different uses: SvgSpan to wrap an SVG and DomSpan</span><span class="s3">\n </span><span class="s1">* otherwise. This typesafety is important when HTML builders access a span's</span><span class="s3">\n </span><span class="s1">* children.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class Span {</span><span class="s3">\n  </span><span class="s1">constructor(classes, children, options, style) {</span><span class="s3">\n    </span><span class="s1">this.children = void 0;</span><span class="s3">\n    </span><span class="s1">this.attributes = void 0;</span><span class="s3">\n    </span><span class="s1">this.classes = void 0;</span><span class="s3">\n    </span><span class="s1">this.height = void 0;</span><span class="s3">\n    </span><span class="s1">this.depth = void 0;</span><span class="s3">\n    </span><span class="s1">this.width = void 0;</span><span class="s3">\n    </span><span class="s1">this.maxFontSize = void 0;</span><span class="s3">\n    </span><span class="s1">this.style = void 0;</span><span class="s3">\n    </span><span class="s1">initNode.call(this, classes, options, style);</span><span class="s3">\n    </span><span class="s1">this.children = children || [];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Sets an arbitrary attribute on the span. Warning: use this wisely. Not</span><span class="s3">\n   </span><span class="s1">* all browsers support attributes the same, and having too many custom</span><span class="s3">\n   </span><span class="s1">* attributes is probably bad.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">setAttribute(attribute, value) {</span><span class="s3">\n    </span><span class="s1">this.attributes[attribute] = value;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">hasClass(className) {</span><span class="s3">\n    </span><span class="s1">return utils.contains(this.classes, className);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">toNode() {</span><span class="s3">\n    </span><span class="s1">return toNode.call(this, </span><span class="s3">\&quot;</span><span class="s1">span</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">toMarkup() {</span><span class="s3">\n    </span><span class="s1">return toMarkup.call(this, </span><span class="s3">\&quot;</span><span class="s1">span</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This node represents an anchor (&lt;a&gt;) element with a hyperlink.  See `span`</span><span class="s3">\n </span><span class="s1">* for further details.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">class Anchor {</span><span class="s3">\n  </span><span class="s1">constructor(href, classes, children, options) {</span><span class="s3">\n    </span><span class="s1">this.children = void 0;</span><span class="s3">\n    </span><span class="s1">this.attributes = void 0;</span><span class="s3">\n    </span><span class="s1">this.classes = void 0;</span><span class="s3">\n    </span><span class="s1">this.height = void 0;</span><span class="s3">\n    </span><span class="s1">this.depth = void 0;</span><span class="s3">\n    </span><span class="s1">this.maxFontSize = void 0;</span><span class="s3">\n    </span><span class="s1">this.style = void 0;</span><span class="s3">\n    </span><span class="s1">initNode.call(this, classes, options);</span><span class="s3">\n    </span><span class="s1">this.children = children || [];</span><span class="s3">\n    </span><span class="s1">this.setAttribute('href', href);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">setAttribute(attribute, value) {</span><span class="s3">\n    </span><span class="s1">this.attributes[attribute] = value;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">hasClass(className) {</span><span class="s3">\n    </span><span class="s1">return utils.contains(this.classes, className);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">toNode() {</span><span class="s3">\n    </span><span class="s1">return toNode.call(this, </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">toMarkup() {</span><span class="s3">\n    </span><span class="s1">return toMarkup.call(this, </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This node represents an image embed (&lt;img&gt;) element.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">class Img {</span><span class="s3">\n  </span><span class="s1">constructor(src, alt, style) {</span><span class="s3">\n    </span><span class="s1">this.src = void 0;</span><span class="s3">\n    </span><span class="s1">this.alt = void 0;</span><span class="s3">\n    </span><span class="s1">this.classes = void 0;</span><span class="s3">\n    </span><span class="s1">this.height = void 0;</span><span class="s3">\n    </span><span class="s1">this.depth = void 0;</span><span class="s3">\n    </span><span class="s1">this.maxFontSize = void 0;</span><span class="s3">\n    </span><span class="s1">this.style = void 0;</span><span class="s3">\n    </span><span class="s1">this.alt = alt;</span><span class="s3">\n    </span><span class="s1">this.src = src;</span><span class="s3">\n    </span><span class="s1">this.classes = [</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n    </span><span class="s1">this.style = style;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">hasClass(className) {</span><span class="s3">\n    </span><span class="s1">return utils.contains(this.classes, className);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">toNode() {</span><span class="s3">\n    </span><span class="s1">var node = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">img</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">node.src = this.src;</span><span class="s3">\n    </span><span class="s1">node.alt = this.alt;</span><span class="s3">\n    </span><span class="s1">node.className = </span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">; // Apply inline styles</span><span class="s3">\n\n    </span><span class="s1">for (var style in this.style) {</span><span class="s3">\n      </span><span class="s1">if (this.style.hasOwnProperty(style)) {</span><span class="s3">\n        </span><span class="s1">// $FlowFixMe</span><span class="s3">\n        </span><span class="s1">node.style[style] = this.style[style];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">toMarkup() {</span><span class="s3">\n    </span><span class="s1">var markup = </span><span class="s3">\&quot;</span><span class="s1">&lt;img src=</span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ utils.escape(this.src) + </span><span class="s3">\&quot;\\\&quot;\&quot; </span><span class="s1">+ (</span><span class="s3">\&quot; </span><span class="s1">alt=</span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ utils.escape(this.alt) + </span><span class="s3">\&quot;\\\&quot;\&quot;</span><span class="s1">); // Add the styles, after hyphenation</span><span class="s3">\n\n    </span><span class="s1">var styles = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">for (var style in this.style) {</span><span class="s3">\n      </span><span class="s1">if (this.style.hasOwnProperty(style)) {</span><span class="s3">\n        </span><span class="s1">styles += utils.hyphenate(style) + </span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot; </span><span class="s1">+ this.style[style] + </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (styles) {</span><span class="s3">\n      </span><span class="s1">markup += </span><span class="s3">\&quot; </span><span class="s1">style=</span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ utils.escape(styles) + </span><span class="s3">\&quot;\\\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">markup += </span><span class="s3">\&quot;</span><span class="s1">'/&gt;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">return markup;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">var iCombinations = {</span><span class="s3">\n  </span><span class="s1">'': '</span><span class="s3">\\</span><span class="s1">u0131</span><span class="s3">\\</span><span class="s1">u0302',</span><span class="s3">\n  </span><span class="s1">'': '</span><span class="s3">\\</span><span class="s1">u0131</span><span class="s3">\\</span><span class="s1">u0308',</span><span class="s3">\n  </span><span class="s1">'': '</span><span class="s3">\\</span><span class="s1">u0131</span><span class="s3">\\</span><span class="s1">u0301',</span><span class="s3">\n  </span><span class="s1">// '': '</span><span class="s3">\\</span><span class="s1">u0131</span><span class="s3">\\</span><span class="s1">u0304', // enable when we add Extended Latin</span><span class="s3">\n  </span><span class="s1">'': '</span><span class="s3">\\</span><span class="s1">u0131</span><span class="s3">\\</span><span class="s1">u0300'</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A symbol node contains information about a single symbol. It either renders</span><span class="s3">\n </span><span class="s1">* to a single text node, or a span with a single text node in it, depending on</span><span class="s3">\n </span><span class="s1">* whether it has CSS classes, styles, or needs italic correction.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">class SymbolNode {</span><span class="s3">\n  </span><span class="s1">constructor(text, height, depth, italic, skew, width, classes, style) {</span><span class="s3">\n    </span><span class="s1">this.text = void 0;</span><span class="s3">\n    </span><span class="s1">this.height = void 0;</span><span class="s3">\n    </span><span class="s1">this.depth = void 0;</span><span class="s3">\n    </span><span class="s1">this.italic = void 0;</span><span class="s3">\n    </span><span class="s1">this.skew = void 0;</span><span class="s3">\n    </span><span class="s1">this.width = void 0;</span><span class="s3">\n    </span><span class="s1">this.maxFontSize = void 0;</span><span class="s3">\n    </span><span class="s1">this.classes = void 0;</span><span class="s3">\n    </span><span class="s1">this.style = void 0;</span><span class="s3">\n    </span><span class="s1">this.text = text;</span><span class="s3">\n    </span><span class="s1">this.height = height || 0;</span><span class="s3">\n    </span><span class="s1">this.depth = depth || 0;</span><span class="s3">\n    </span><span class="s1">this.italic = italic || 0;</span><span class="s3">\n    </span><span class="s1">this.skew = skew || 0;</span><span class="s3">\n    </span><span class="s1">this.width = width || 0;</span><span class="s3">\n    </span><span class="s1">this.classes = classes || [];</span><span class="s3">\n    </span><span class="s1">this.style = style || {};</span><span class="s3">\n    </span><span class="s1">this.maxFontSize = 0; // Mark text from non-Latin scripts with specific classes so that we</span><span class="s3">\n    </span><span class="s1">// can specify which fonts to use.  This allows us to render these</span><span class="s3">\n    </span><span class="s1">// characters with a serif font in situations where the browser would</span><span class="s3">\n    </span><span class="s1">// either default to a sans serif or render a placeholder character.</span><span class="s3">\n    </span><span class="s1">// We use CSS class names like cjk_fallback, hangul_fallback and</span><span class="s3">\n    </span><span class="s1">// brahmic_fallback. See ./unicodeScripts.js for the set of possible</span><span class="s3">\n    </span><span class="s1">// script names</span><span class="s3">\n\n    </span><span class="s1">var script = scriptFromCodepoint(this.text.charCodeAt(0));</span><span class="s3">\n\n    </span><span class="s1">if (script) {</span><span class="s3">\n      </span><span class="s1">this.classes.push(script + </span><span class="s3">\&quot;</span><span class="s1">_fallback</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (/[]/.test(this.text)) {</span><span class="s3">\n      </span><span class="s1">// add  when we add Extended Latin</span><span class="s3">\n      </span><span class="s1">this.text = iCombinations[this.text];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">hasClass(className) {</span><span class="s3">\n    </span><span class="s1">return utils.contains(this.classes, className);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Creates a text node or span from a symbol node. Note that a span is only</span><span class="s3">\n   </span><span class="s1">* created if it is needed.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">toNode() {</span><span class="s3">\n    </span><span class="s1">var node = document.createTextNode(this.text);</span><span class="s3">\n    </span><span class="s1">var span = null;</span><span class="s3">\n\n    </span><span class="s1">if (this.italic &gt; 0) {</span><span class="s3">\n      </span><span class="s1">span = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">span</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">span.style.marginRight = makeEm(this.italic);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (this.classes.length &gt; 0) {</span><span class="s3">\n      </span><span class="s1">span = span || document.createElement(</span><span class="s3">\&quot;</span><span class="s1">span</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">span.className = createClass(this.classes);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">for (var style in this.style) {</span><span class="s3">\n      </span><span class="s1">if (this.style.hasOwnProperty(style)) {</span><span class="s3">\n        </span><span class="s1">span = span || document.createElement(</span><span class="s3">\&quot;</span><span class="s1">span</span><span class="s3">\&quot;</span><span class="s1">); // $FlowFixMe Flow doesn't seem to understand span.style's type.</span><span class="s3">\n\n        </span><span class="s1">span.style[style] = this.style[style];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (span) {</span><span class="s3">\n      </span><span class="s1">span.appendChild(node);</span><span class="s3">\n      </span><span class="s1">return span;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return node;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Creates markup for a symbol node.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">toMarkup() {</span><span class="s3">\n    </span><span class="s1">// TODO(alpert): More duplication than I'd like from</span><span class="s3">\n    </span><span class="s1">// span.prototype.toMarkup and symbolNode.prototype.toNode...</span><span class="s3">\n    </span><span class="s1">var needsSpan = false;</span><span class="s3">\n    </span><span class="s1">var markup = </span><span class="s3">\&quot;</span><span class="s1">&lt;span</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">if (this.classes.length) {</span><span class="s3">\n      </span><span class="s1">needsSpan = true;</span><span class="s3">\n      </span><span class="s1">markup += </span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\\\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">markup += utils.escape(createClass(this.classes));</span><span class="s3">\n      </span><span class="s1">markup += </span><span class="s3">\&quot;\\\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var styles = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">if (this.italic &gt; 0) {</span><span class="s3">\n      </span><span class="s1">styles += </span><span class="s3">\&quot;</span><span class="s1">margin-right:</span><span class="s3">\&quot; </span><span class="s1">+ this.italic + </span><span class="s3">\&quot;</span><span class="s1">em;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">for (var style in this.style) {</span><span class="s3">\n      </span><span class="s1">if (this.style.hasOwnProperty(style)) {</span><span class="s3">\n        </span><span class="s1">styles += utils.hyphenate(style) + </span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot; </span><span class="s1">+ this.style[style] + </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (styles) {</span><span class="s3">\n      </span><span class="s1">needsSpan = true;</span><span class="s3">\n      </span><span class="s1">markup += </span><span class="s3">\&quot; </span><span class="s1">style=</span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ utils.escape(styles) + </span><span class="s3">\&quot;\\\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var escaped = utils.escape(this.text);</span><span class="s3">\n\n    </span><span class="s1">if (needsSpan) {</span><span class="s3">\n      </span><span class="s1">markup += </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">markup += escaped;</span><span class="s3">\n      </span><span class="s1">markup += </span><span class="s3">\&quot;</span><span class="s1">&lt;/span&gt;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">return markup;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return escaped;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* SVG nodes are used to render stretchy wide elements.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">class SvgNode {</span><span class="s3">\n  </span><span class="s1">constructor(children, attributes) {</span><span class="s3">\n    </span><span class="s1">this.children = void 0;</span><span class="s3">\n    </span><span class="s1">this.attributes = void 0;</span><span class="s3">\n    </span><span class="s1">this.children = children || [];</span><span class="s3">\n    </span><span class="s1">this.attributes = attributes || {};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">toNode() {</span><span class="s3">\n    </span><span class="s1">var svgNS = </span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">var node = document.createElementNS(svgNS, </span><span class="s3">\&quot;</span><span class="s1">svg</span><span class="s3">\&quot;</span><span class="s1">); // Apply attributes</span><span class="s3">\n\n    </span><span class="s1">for (var attr in this.attributes) {</span><span class="s3">\n      </span><span class="s1">if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {</span><span class="s3">\n        </span><span class="s1">node.setAttribute(attr, this.attributes[attr]);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">for (var i = 0; i &lt; this.children.length; i++) {</span><span class="s3">\n      </span><span class="s1">node.appendChild(this.children[i].toNode());</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">toMarkup() {</span><span class="s3">\n    </span><span class="s1">var markup = </span><span class="s3">\&quot;</span><span class="s1">&lt;svg xmlns=</span><span class="s3">\\\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\\\&quot;\&quot;</span><span class="s1">; // Apply attributes</span><span class="s3">\n\n    </span><span class="s1">for (var attr in this.attributes) {</span><span class="s3">\n      </span><span class="s1">if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {</span><span class="s3">\n        </span><span class="s1">markup += </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ attr + </span><span class="s3">\&quot;</span><span class="s1">=</span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ utils.escape(this.attributes[attr]) + </span><span class="s3">\&quot;\\\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">markup += </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">for (var i = 0; i &lt; this.children.length; i++) {</span><span class="s3">\n      </span><span class="s1">markup += this.children[i].toMarkup();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">markup += </span><span class="s3">\&quot;</span><span class="s1">&lt;/svg&gt;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">return markup;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">class PathNode {</span><span class="s3">\n  </span><span class="s1">constructor(pathName, alternate) {</span><span class="s3">\n    </span><span class="s1">this.pathName = void 0;</span><span class="s3">\n    </span><span class="s1">this.alternate = void 0;</span><span class="s3">\n    </span><span class="s1">this.pathName = pathName;</span><span class="s3">\n    </span><span class="s1">this.alternate = alternate; // Used only for </span><span class="s3">\\</span><span class="s1">sqrt, </span><span class="s3">\\</span><span class="s1">phase, &amp; tall delims</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">toNode() {</span><span class="s3">\n    </span><span class="s1">var svgNS = </span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">var node = document.createElementNS(svgNS, </span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">if (this.alternate) {</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, this.alternate);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, path[this.pathName]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">toMarkup() {</span><span class="s3">\n    </span><span class="s1">if (this.alternate) {</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">&lt;path d=</span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ utils.escape(this.alternate) + </span><span class="s3">\&quot;\\\&quot;</span><span class="s1">/&gt;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">&lt;path d=</span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ utils.escape(path[this.pathName]) + </span><span class="s3">\&quot;\\\&quot;</span><span class="s1">/&gt;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">class LineNode {</span><span class="s3">\n  </span><span class="s1">constructor(attributes) {</span><span class="s3">\n    </span><span class="s1">this.attributes = void 0;</span><span class="s3">\n    </span><span class="s1">this.attributes = attributes || {};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">toNode() {</span><span class="s3">\n    </span><span class="s1">var svgNS = </span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">var node = document.createElementNS(svgNS, </span><span class="s3">\&quot;</span><span class="s1">line</span><span class="s3">\&quot;</span><span class="s1">); // Apply attributes</span><span class="s3">\n\n    </span><span class="s1">for (var attr in this.attributes) {</span><span class="s3">\n      </span><span class="s1">if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {</span><span class="s3">\n        </span><span class="s1">node.setAttribute(attr, this.attributes[attr]);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">toMarkup() {</span><span class="s3">\n    </span><span class="s1">var markup = </span><span class="s3">\&quot;</span><span class="s1">&lt;line</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">for (var attr in this.attributes) {</span><span class="s3">\n      </span><span class="s1">if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {</span><span class="s3">\n        </span><span class="s1">markup += </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ attr + </span><span class="s3">\&quot;</span><span class="s1">=</span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ utils.escape(this.attributes[attr]) + </span><span class="s3">\&quot;\\\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">markup += </span><span class="s3">\&quot;</span><span class="s1">/&gt;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">return markup;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function assertSymbolDomNode(group) {</span><span class="s3">\n  </span><span class="s1">if (group instanceof SymbolNode) {</span><span class="s3">\n    </span><span class="s1">return group;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Expected symbolNode but got </span><span class="s3">\&quot; </span><span class="s1">+ String(group) + </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function assertSpan(group) {</span><span class="s3">\n  </span><span class="s1">if (group instanceof Span) {</span><span class="s3">\n    </span><span class="s1">return group;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Expected span&lt;HtmlDomNode&gt; but got </span><span class="s3">\&quot; </span><span class="s1">+ String(group) + </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This file holds a list of all no-argument functions and single-character</span><span class="s3">\n </span><span class="s1">* symbols (like 'a' or ';').</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* For each of the symbols, there are three properties they can have:</span><span class="s3">\n </span><span class="s1">* - font (required): the font to be used for this symbol. Either </span><span class="s3">\&quot;</span><span class="s1">main</span><span class="s3">\&quot; </span><span class="s1">(the</span><span class="s3">\n     </span><span class="s1">normal font), or </span><span class="s3">\&quot;</span><span class="s1">ams</span><span class="s3">\&quot; </span><span class="s1">(the ams fonts).</span><span class="s3">\n </span><span class="s1">* - group (required): the ParseNode group type the symbol should have (i.e.</span><span class="s3">\n     \&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mathord</span><span class="s3">\&quot;</span><span class="s1">, etc).</span><span class="s3">\n     </span><span class="s1">See https://github.com/KaTeX/KaTeX/wiki/Examining-TeX#group-types</span><span class="s3">\n </span><span class="s1">* - replace: the character that this symbol or function should be</span><span class="s3">\n </span><span class="s1">*   replaced with (i.e. </span><span class="s3">\&quot;\\</span><span class="s1">phi</span><span class="s3">\&quot; </span><span class="s1">has a replace value of </span><span class="s3">\&quot;\\</span><span class="s1">u03d5</span><span class="s3">\&quot;</span><span class="s1">, the phi</span><span class="s3">\n </span><span class="s1">*   character in the main font).</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* The outermost map in the table indicates what mode the symbols should be</span><span class="s3">\n </span><span class="s1">* accepted in (e.g. </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot; </span><span class="s1">or </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">).</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">// Some of these have a </span><span class="s3">\&quot;</span><span class="s1">-token</span><span class="s3">\&quot; </span><span class="s1">suffix since these are also used as `ParseNode`</span><span class="s3">\n</span><span class="s1">// types for raw text tokens, and we want to avoid conflicts with higher-level</span><span class="s3">\n</span><span class="s1">// `ParseNode` types. These `ParseNode`s are constructed within `Parser` by</span><span class="s3">\n</span><span class="s1">// looking up the `symbols` map.</span><span class="s3">\n</span><span class="s1">var ATOMS = {</span><span class="s3">\n  \&quot;</span><span class="s1">bin</span><span class="s3">\&quot;</span><span class="s1">: 1,</span><span class="s3">\n  \&quot;</span><span class="s1">close</span><span class="s3">\&quot;</span><span class="s1">: 1,</span><span class="s3">\n  \&quot;</span><span class="s1">inner</span><span class="s3">\&quot;</span><span class="s1">: 1,</span><span class="s3">\n  \&quot;</span><span class="s1">open</span><span class="s3">\&quot;</span><span class="s1">: 1,</span><span class="s3">\n  \&quot;</span><span class="s1">punct</span><span class="s3">\&quot;</span><span class="s1">: 1,</span><span class="s3">\n  \&quot;</span><span class="s1">rel</span><span class="s3">\&quot;</span><span class="s1">: 1</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var NON_ATOMS = {</span><span class="s3">\n  \&quot;</span><span class="s1">accent-token</span><span class="s3">\&quot;</span><span class="s1">: 1,</span><span class="s3">\n  \&quot;</span><span class="s1">mathord</span><span class="s3">\&quot;</span><span class="s1">: 1,</span><span class="s3">\n  \&quot;</span><span class="s1">op-token</span><span class="s3">\&quot;</span><span class="s1">: 1,</span><span class="s3">\n  \&quot;</span><span class="s1">spacing</span><span class="s3">\&quot;</span><span class="s1">: 1,</span><span class="s3">\n  \&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">: 1</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var symbols = {</span><span class="s3">\n  \&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">: {},</span><span class="s3">\n  \&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">: {}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/** `acceptUnicodeChar = true` is only applicable if `replace` is set. */</span><span class="s3">\n\n</span><span class="s1">function defineSymbol(mode, font, group, replace, name, acceptUnicodeChar) {</span><span class="s3">\n  </span><span class="s1">symbols[mode][name] = {</span><span class="s3">\n    </span><span class="s1">font,</span><span class="s3">\n    </span><span class="s1">group,</span><span class="s3">\n    </span><span class="s1">replace</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">if (acceptUnicodeChar &amp;&amp; replace) {</span><span class="s3">\n    </span><span class="s1">symbols[mode][replace] = symbols[mode][name];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">} // Some abbreviations for commonly used strings.</span><span class="s3">\n</span><span class="s1">// This helps minify the code, and also spotting typos using jshint.</span><span class="s3">\n</span><span class="s1">// modes:</span><span class="s3">\n\n</span><span class="s1">var math = </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var text = </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">; // fonts:</span><span class="s3">\n\n</span><span class="s1">var main = </span><span class="s3">\&quot;</span><span class="s1">main</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var ams = </span><span class="s3">\&quot;</span><span class="s1">ams</span><span class="s3">\&quot;</span><span class="s1">; // groups:</span><span class="s3">\n\n</span><span class="s1">var accent = </span><span class="s3">\&quot;</span><span class="s1">accent-token</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var bin = </span><span class="s3">\&quot;</span><span class="s1">bin</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var close = </span><span class="s3">\&quot;</span><span class="s1">close</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var inner = </span><span class="s3">\&quot;</span><span class="s1">inner</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var mathord = </span><span class="s3">\&quot;</span><span class="s1">mathord</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var op = </span><span class="s3">\&quot;</span><span class="s1">op-token</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var open = </span><span class="s3">\&quot;</span><span class="s1">open</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var punct = </span><span class="s3">\&quot;</span><span class="s1">punct</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var rel = </span><span class="s3">\&quot;</span><span class="s1">rel</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var spacing = </span><span class="s3">\&quot;</span><span class="s1">spacing</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var textord = </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">; // Now comes the symbol table</span><span class="s3">\n</span><span class="s1">// Relation Symbols</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2261</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">equiv</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u227a</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">prec</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u227b</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">succ</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u223c</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sim</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22a5</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">perp</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2aaf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">preceq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2ab0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">succeq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2243</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">simeq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2223</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mid</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u226a</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ll</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u226b</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gg</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u224d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">asymp</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2225</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">parallel</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22c8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bowtie</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2323</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">smile</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2291</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sqsubseteq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2292</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sqsupseteq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2250</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">doteq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2322</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">frown</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u220b</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ni</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u221d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">propto</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22a2</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">vdash</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22a3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">dashv</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u220b</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">owns</span><span class="s3">\&quot;</span><span class="s1">); // Punctuation</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, main, punct, </span><span class="s3">\&quot;\\</span><span class="s1">u002e</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ldotp</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, punct, </span><span class="s3">\&quot;\\</span><span class="s1">u22c5</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">cdotp</span><span class="s3">\&quot;</span><span class="s1">); // Misc Symbols</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u0023</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">#</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u0023</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">#</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u0026</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">&amp;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u0026</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">&amp;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2135</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">aleph</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2200</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">forall</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u210f</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">hbar</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2203</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">exists</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2207</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nabla</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u266d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">flat</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2113</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ell</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u266e</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">natural</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2663</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">clubsuit</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2118</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">wp</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u266f</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sharp</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2662</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">diamondsuit</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u211c</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Re</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2661</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">heartsuit</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2111</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Im</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2660</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">spadesuit</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00a7</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">S</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00a7</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">S</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00b6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">P</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00b6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">P</span><span class="s3">\&quot;</span><span class="s1">); // Math and Text</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2020</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">dag</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2020</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">dag</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2020</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textdagger</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2021</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ddag</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2021</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ddag</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2021</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textdaggerdbl</span><span class="s3">\&quot;</span><span class="s1">); // Large Delimiters</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, main, close, </span><span class="s3">\&quot;\\</span><span class="s1">u23b1</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rmoustache</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, open, </span><span class="s3">\&quot;\\</span><span class="s1">u23b0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lmoustache</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, close, </span><span class="s3">\&quot;\\</span><span class="s1">u27ef</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rgroup</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, open, </span><span class="s3">\&quot;\\</span><span class="s1">u27ee</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lgroup</span><span class="s3">\&quot;</span><span class="s1">, true); // Binary Operators</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2213</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mp</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2296</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ominus</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u228e</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">uplus</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2293</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sqcap</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2217</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ast</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2294</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sqcup</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u25ef</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigcirc</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2219</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bullet</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2021</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ddagger</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2240</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">wr</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2a3f</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">amalg</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u0026</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">And</span><span class="s3">\&quot;</span><span class="s1">); // from amsmath</span><span class="s3">\n</span><span class="s1">// Arrow Symbols</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u27f5</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">longleftarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21d0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Leftarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u27f8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Longleftarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u27f6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">longrightarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21d2</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Rightarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u27f9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Longrightarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2194</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">leftrightarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u27f7</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">longleftrightarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21d4</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Leftrightarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u27fa</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Longleftrightarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21a6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mapsto</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u27fc</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">longmapsto</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2197</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nearrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21a9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">hookleftarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21aa</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">hookrightarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2198</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">searrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21bc</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">leftharpoonup</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21c0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rightharpoonup</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2199</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">swarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21bd</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">leftharpoondown</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21c1</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rightharpoondown</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2196</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nwarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21cc</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rightleftharpoons</span><span class="s3">\&quot;</span><span class="s1">, true); // AMS Negated Binary Relations</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u226e</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nless</span><span class="s3">\&quot;</span><span class="s1">, true); // Symbol names preceded by </span><span class="s3">\&quot;</span><span class="s1">@</span><span class="s3">\&quot; </span><span class="s1">each have a corresponding macro.</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">ue010</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@nleqslant</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">ue011</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@nleqq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2a87</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lneq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2268</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lneqq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">ue00c</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@lvertneqq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22e6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lnsim</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2a89</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lnapprox</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2280</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nprec</span><span class="s3">\&quot;</span><span class="s1">, true); // unicode-math maps </span><span class="s3">\\</span><span class="s1">u22e0 to </span><span class="s3">\\</span><span class="s1">npreccurlyeq. We'll use the AMS synonym.</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22e0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">npreceq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22e8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">precnsim</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2ab9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">precnapprox</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2241</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nsim</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">ue006</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@nshortmid</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2224</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nmid</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22ac</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nvdash</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22ad</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nvDash</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22ea</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ntriangleleft</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22ec</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ntrianglelefteq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u228a</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">subsetneq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">ue01a</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@varsubsetneq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2acb</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">subsetneqq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">ue017</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@varsubsetneqq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u226f</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ngtr</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">ue00f</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@ngeqslant</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">ue00e</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@ngeqq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2a88</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gneq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2269</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gneqq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">ue00d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@gvertneqq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22e7</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gnsim</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2a8a</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gnapprox</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2281</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nsucc</span><span class="s3">\&quot;</span><span class="s1">, true); // unicode-math maps </span><span class="s3">\\</span><span class="s1">u22e1 to </span><span class="s3">\\</span><span class="s1">nsucccurlyeq. We'll use the AMS synonym.</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22e1</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nsucceq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22e9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">succnsim</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2aba</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">succnapprox</span><span class="s3">\&quot;</span><span class="s1">, true); // unicode-math maps </span><span class="s3">\\</span><span class="s1">u2246 to </span><span class="s3">\\</span><span class="s1">simneqq. We'll use the AMS synonym.</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2246</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ncong</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">ue007</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@nshortparallel</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2226</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nparallel</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22af</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nVDash</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22eb</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ntriangleright</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22ed</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ntrianglerighteq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">ue018</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@nsupseteqq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u228b</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">supsetneq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">ue01b</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@varsupsetneq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2acc</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">supsetneqq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">ue019</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@varsupsetneqq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22ae</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nVdash</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2ab5</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">precneqq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2ab6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">succneqq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">ue016</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@nsubseteqq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22b4</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">unlhd</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22b5</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">unrhd</span><span class="s3">\&quot;</span><span class="s1">); // AMS Negated Arrows</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u219a</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nleftarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u219b</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nrightarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21cd</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nLeftarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21cf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nRightarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21ae</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nleftrightarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21ce</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nLeftrightarrow</span><span class="s3">\&quot;</span><span class="s1">, true); // AMS Misc</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u25b3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">vartriangle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u210f</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">hslash</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u25bd</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">triangledown</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u25ca</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lozenge</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u24c8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">circledS</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00ae</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">circledR</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00ae</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">circledR</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2221</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">measuredangle</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2204</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nexists</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2127</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mho</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2132</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Finv</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2141</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Game</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2035</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">backprime</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u25b2</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">blacktriangle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u25bc</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">blacktriangledown</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u25a0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">blacksquare</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u29eb</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">blacklozenge</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2605</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigstar</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2222</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sphericalangle</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2201</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">complement</span><span class="s3">\&quot;</span><span class="s1">, true); // unicode-math maps U+F0 to </span><span class="s3">\\</span><span class="s1">matheth. We map to AMS function </span><span class="s3">\\</span><span class="s1">eth</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00f0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">eth</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00f0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u00f0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2571</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">diagup</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2572</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">diagdown</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u25a1</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">square</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u25a1</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Box</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u25ca</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Diamond</span><span class="s3">\&quot;</span><span class="s1">); // unicode-math maps U+A5 to </span><span class="s3">\\</span><span class="s1">mathyen. We map to AMS function </span><span class="s3">\\</span><span class="s1">yen</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00a5</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">yen</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00a5</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">yen</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2713</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">checkmark</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2713</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">checkmark</span><span class="s3">\&quot;</span><span class="s1">); // AMS Hebrew</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2136</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">beth</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2138</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">daleth</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2137</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gimel</span><span class="s3">\&quot;</span><span class="s1">, true); // AMS Greek</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u03dd</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">digamma</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u03f0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">varkappa</span><span class="s3">\&quot;</span><span class="s1">); // AMS Delimiters</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, open, </span><span class="s3">\&quot;\\</span><span class="s1">u250c</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@ulcorner</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, close, </span><span class="s3">\&quot;\\</span><span class="s1">u2510</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@urcorner</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, open, </span><span class="s3">\&quot;\\</span><span class="s1">u2514</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@llcorner</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, close, </span><span class="s3">\&quot;\\</span><span class="s1">u2518</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@lrcorner</span><span class="s3">\&quot;</span><span class="s1">, true); // AMS Binary Relations</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2266</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">leqq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2a7d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">leqslant</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2a95</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">eqslantless</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2272</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lesssim</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2a85</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lessapprox</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u224a</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">approxeq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22d6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lessdot</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22d8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lll</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2276</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lessgtr</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22da</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lesseqgtr</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2a8b</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lesseqqgtr</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2251</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">doteqdot</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2253</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">risingdotseq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2252</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">fallingdotseq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u223d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">backsim</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22cd</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">backsimeq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2ac5</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">subseteqq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22d0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Subset</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u228f</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sqsubset</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u227c</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">preccurlyeq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22de</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">curlyeqprec</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u227e</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">precsim</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2ab7</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">precapprox</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22b2</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">vartriangleleft</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22b4</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">trianglelefteq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22a8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">vDash</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22aa</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Vvdash</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2323</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">smallsmile</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2322</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">smallfrown</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u224f</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bumpeq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u224e</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Bumpeq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2267</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">geqq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2a7e</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">geqslant</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2a96</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">eqslantgtr</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2273</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gtrsim</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2a86</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gtrapprox</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22d7</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gtrdot</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22d9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ggg</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2277</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gtrless</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22db</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gtreqless</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2a8c</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gtreqqless</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2256</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">eqcirc</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2257</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">circeq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u225c</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">triangleq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u223c</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">thicksim</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2248</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">thickapprox</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2ac6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">supseteqq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22d1</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Supset</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2290</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sqsupset</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u227d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">succcurlyeq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22df</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">curlyeqsucc</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u227f</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">succsim</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2ab8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">succapprox</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22b3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">vartriangleright</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22b5</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">trianglerighteq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22a9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Vdash</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2223</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">shortmid</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2225</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">shortparallel</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u226c</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">between</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22d4</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">pitchfork</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u221d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">varpropto</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u25c0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">blacktriangleleft</span><span class="s3">\&quot;</span><span class="s1">); // unicode-math says that </span><span class="s3">\\</span><span class="s1">therefore is a mathord atom.</span><span class="s3">\n</span><span class="s1">// We kept the amssymb atom type, which is rel.</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2234</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">therefore</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u220d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">backepsilon</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u25b6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">blacktriangleright</span><span class="s3">\&quot;</span><span class="s1">); // unicode-math says that </span><span class="s3">\\</span><span class="s1">because is a mathord atom.</span><span class="s3">\n</span><span class="s1">// We kept the amssymb atom type, which is rel.</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2235</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">because</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22d8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">llless</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22d9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gggtr</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22b2</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lhd</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22b3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rhd</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2242</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">eqsim</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22c8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Join</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2251</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Doteq</span><span class="s3">\&quot;</span><span class="s1">, true); // AMS Binary Operators</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2214</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">dotplus</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2216</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">smallsetminus</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22d2</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Cap</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22d3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Cup</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2a5e</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">doublebarwedge</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u229f</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">boxminus</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u229e</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">boxplus</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22c7</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">divideontimes</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22c9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ltimes</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22ca</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rtimes</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22cb</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">leftthreetimes</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22cc</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rightthreetimes</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22cf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">curlywedge</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22ce</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">curlyvee</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u229d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">circleddash</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u229b</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">circledast</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22c5</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">centerdot</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22ba</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">intercal</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22d2</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">doublecap</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22d3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">doublecup</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22a0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">boxtimes</span><span class="s3">\&quot;</span><span class="s1">, true); // AMS Arrows</span><span class="s3">\n</span><span class="s1">// Note: unicode-math maps </span><span class="s3">\\</span><span class="s1">u21e2 to their own function </span><span class="s3">\\</span><span class="s1">rightdasharrow.</span><span class="s3">\n</span><span class="s1">// We'll map it to AMS function </span><span class="s3">\\</span><span class="s1">dashrightarrow. It produces the same atom.</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21e2</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">dashrightarrow</span><span class="s3">\&quot;</span><span class="s1">, true); // unicode-math maps </span><span class="s3">\\</span><span class="s1">u21e0 to </span><span class="s3">\\</span><span class="s1">leftdasharrow. We'll use the AMS synonym.</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21e0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">dashleftarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21c7</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">leftleftarrows</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21c6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">leftrightarrows</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21da</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Lleftarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u219e</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">twoheadleftarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21a2</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">leftarrowtail</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21ab</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">looparrowleft</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21cb</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">leftrightharpoons</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21b6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">curvearrowleft</span><span class="s3">\&quot;</span><span class="s1">, true); // unicode-math maps </span><span class="s3">\\</span><span class="s1">u21ba to </span><span class="s3">\\</span><span class="s1">acwopencirclearrow. We'll use the AMS synonym.</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21ba</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">circlearrowleft</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21b0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Lsh</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21c8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">upuparrows</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21bf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">upharpoonleft</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21c3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">downharpoonleft</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22b6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">origof</span><span class="s3">\&quot;</span><span class="s1">, true); // not in font</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22b7</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">imageof</span><span class="s3">\&quot;</span><span class="s1">, true); // not in font</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22b8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">multimap</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21ad</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">leftrightsquigarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21c9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rightrightarrows</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21c4</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rightleftarrows</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21a0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">twoheadrightarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21a3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rightarrowtail</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21ac</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">looparrowright</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21b7</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">curvearrowright</span><span class="s3">\&quot;</span><span class="s1">, true); // unicode-math maps </span><span class="s3">\\</span><span class="s1">u21bb to </span><span class="s3">\\</span><span class="s1">cwopencirclearrow. We'll use the AMS synonym.</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21bb</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">circlearrowright</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21b1</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Rsh</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21ca</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">downdownarrows</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21be</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">upharpoonright</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21c2</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">downharpoonright</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21dd</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rightsquigarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21dd</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">leadsto</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21db</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Rrightarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21be</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">restriction</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2018</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">`</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;</span><span class="s1">$</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">$</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;</span><span class="s1">$</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">$</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;</span><span class="s1">$</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textdollar</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;</span><span class="s1">%</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">%</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;</span><span class="s1">%</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">%</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textunderscore</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2220</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">angle</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u221e</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">infty</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2032</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">prime</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u25b3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">triangle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u0393</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Gamma</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u0394</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Delta</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u0398</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Theta</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u039b</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Lambda</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u039e</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Xi</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u03a0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Pi</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u03a3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Sigma</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u03a5</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Upsilon</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u03a6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Phi</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u03a8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Psi</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u03a9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Omega</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u0391</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;</span><span class="s1">B</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u0392</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;</span><span class="s1">E</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u0395</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u0396</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u0397</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;</span><span class="s1">I</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u0399</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;</span><span class="s1">K</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u039A</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;</span><span class="s1">M</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u039C</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;</span><span class="s1">N</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u039D</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u039F</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;</span><span class="s1">P</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u03A1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;</span><span class="s1">T</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u03A4</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;</span><span class="s1">X</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u03A7</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00ac</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">neg</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00ac</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lnot</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u22a4</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">top</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u22a5</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bot</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2205</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">emptyset</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2205</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">varnothing</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03b1</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">alpha</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03b2</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">beta</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03b3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gamma</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03b4</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">delta</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03f5</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">epsilon</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03b6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">zeta</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03b7</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">eta</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03b8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">theta</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03b9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">iota</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03ba</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">kappa</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03bb</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lambda</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03bc</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mu</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03bd</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nu</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03be</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xi</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03bf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">omicron</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03c0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">pi</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03c1</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rho</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03c3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sigma</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03c4</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">tau</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03c5</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">upsilon</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03d5</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">phi</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03c7</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">chi</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03c8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">psi</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03c9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">omega</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03b5</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">varepsilon</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03d1</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">vartheta</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03d6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">varpi</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03f1</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">varrho</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03c2</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">varsigma</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">u03c6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">varphi</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2217</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">*</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;</span><span class="s1">+</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">+</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2212</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22c5</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">cdot</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2218</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">circ</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u00f7</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">div</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u00b1</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">pm</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u00d7</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">times</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2229</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">cap</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u222a</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">cup</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2216</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">setminus</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2227</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">land</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2228</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lor</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2227</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">wedge</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2228</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">vee</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u221a</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">surd</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, open, </span><span class="s3">\&quot;\\</span><span class="s1">u27e8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">langle</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, open, </span><span class="s3">\&quot;\\</span><span class="s1">u2223</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lvert</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, open, </span><span class="s3">\&quot;\\</span><span class="s1">u2225</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lVert</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, close, </span><span class="s3">\&quot;</span><span class="s1">?</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">?</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, close, </span><span class="s3">\&quot;</span><span class="s1">!</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">!</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, close, </span><span class="s3">\&quot;\\</span><span class="s1">u27e9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, close, </span><span class="s3">\&quot;\\</span><span class="s1">u2223</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rvert</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, close, </span><span class="s3">\&quot;\\</span><span class="s1">u2225</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rVert</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;</span><span class="s1">=</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">=</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2248</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">approx</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2245</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">cong</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2265</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ge</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2265</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">geq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2190</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gets</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gt</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2208</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">in</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">ue020</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@not</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2282</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">subset</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2283</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">supset</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2286</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">subseteq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2287</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">supseteq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2288</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nsubseteq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2289</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nsupseteq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u22a8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">models</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2190</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">leftarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2264</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">le</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2264</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">leq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lt</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2192</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rightarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2192</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">to</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2271</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ngeq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2270</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nleq</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, spacing, </span><span class="s3">\&quot;\\</span><span class="s1">u00a0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\ \&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, spacing, </span><span class="s3">\&quot;\\</span><span class="s1">u00a0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">space</span><span class="s3">\&quot;</span><span class="s1">); // Ref: LaTeX Source 2e: </span><span class="s3">\\</span><span class="s1">DeclareRobustCommand{</span><span class="s3">\\</span><span class="s1">nobreakspace}{%</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, main, spacing, </span><span class="s3">\&quot;\\</span><span class="s1">u00a0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nobreakspace</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, spacing, </span><span class="s3">\&quot;\\</span><span class="s1">u00a0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\ \&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, spacing, </span><span class="s3">\&quot;\\</span><span class="s1">u00a0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, spacing, </span><span class="s3">\&quot;\\</span><span class="s1">u00a0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">space</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, spacing, </span><span class="s3">\&quot;\\</span><span class="s1">u00a0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nobreakspace</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, spacing, null, </span><span class="s3">\&quot;\\\\</span><span class="s1">nobreak</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, spacing, null, </span><span class="s3">\&quot;\\\\</span><span class="s1">allowbreak</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, punct, </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, punct, </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22bc</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">barwedge</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22bb</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">veebar</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2299</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">odot</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2295</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">oplus</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2297</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">otimes</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2202</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">partial</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2298</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">oslash</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u229a</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">circledcirc</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22a1</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">boxdot</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u25b3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigtriangleup</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u25bd</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigtriangledown</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u2020</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">dagger</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22c4</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">diamond</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u22c6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">star</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u25c3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">triangleleft</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, bin, </span><span class="s3">\&quot;\\</span><span class="s1">u25b9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">triangleright</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, open, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textbraceleft</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, close, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textbraceright</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, open, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lbrace</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, close, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rbrace</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, open, </span><span class="s3">\&quot;</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lbrack</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lbrack</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, close, </span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rbrack</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rbrack</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, open, </span><span class="s3">\&quot;</span><span class="s1">(</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lparen</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, close, </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rparen</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textless</span><span class="s3">\&quot;</span><span class="s1">, true); // in T1 fontenc</span><span class="s3">\n\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textgreater</span><span class="s3">\&quot;</span><span class="s1">, true); // in T1 fontenc</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, main, open, </span><span class="s3">\&quot;\\</span><span class="s1">u230a</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lfloor</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, close, </span><span class="s3">\&quot;\\</span><span class="s1">u230b</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rfloor</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, open, </span><span class="s3">\&quot;\\</span><span class="s1">u2308</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lceil</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, close, </span><span class="s3">\&quot;\\</span><span class="s1">u2309</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rceil</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\\\\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">backslash</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2223</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2223</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">vert</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textbar</span><span class="s3">\&quot;</span><span class="s1">, true); // in T1 fontenc</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2225</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2225</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Vert</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2225</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textbardbl</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textasciitilde</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\\\\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textbackslash</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;</span><span class="s1">^</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textasciicircum</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2191</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">uparrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21d1</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Uparrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2193</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">downarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21d3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Downarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u2195</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">updownarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, rel, </span><span class="s3">\&quot;\\</span><span class="s1">u21d5</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Updownarrow</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u2210</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">coprod</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u22c1</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigvee</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u22c0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigwedge</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u2a04</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">biguplus</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u22c2</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigcap</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u22c3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigcup</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u222b</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">int</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u222b</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">intop</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u222c</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">iint</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u222d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">iiint</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u220f</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">prod</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u2211</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sum</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u2a02</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigotimes</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u2a01</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigoplus</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u2a00</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigodot</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u222e</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">oint</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u222f</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">oiint</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u2230</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">oiiint</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u2a06</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigsqcup</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, op, </span><span class="s3">\&quot;\\</span><span class="s1">u222b</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">smallint</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, inner, </span><span class="s3">\&quot;\\</span><span class="s1">u2026</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textellipsis</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, inner, </span><span class="s3">\&quot;\\</span><span class="s1">u2026</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathellipsis</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, inner, </span><span class="s3">\&quot;\\</span><span class="s1">u2026</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ldots</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, inner, </span><span class="s3">\&quot;\\</span><span class="s1">u2026</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ldots</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, inner, </span><span class="s3">\&quot;\\</span><span class="s1">u22ef</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@cdots</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, inner, </span><span class="s3">\&quot;\\</span><span class="s1">u22f1</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ddots</span><span class="s3">\&quot;</span><span class="s1">, true); // </span><span class="s3">\\</span><span class="s1">vdots is a macro that uses one of these two symbols (with made-up names):</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u22ee</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">varvdots</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u22ee</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">varvdots</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u02ca</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">acute</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u02cb</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">grave</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u00a8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ddot</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u007e</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">tilde</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u02c9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bar</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u02d8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">breve</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u02c7</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">check</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u005e</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">hat</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u20d7</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">vec</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u02d9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">dot</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u02da</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathring</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">imath and </span><span class="s3">\\</span><span class="s1">jmath should be invariant to </span><span class="s3">\\</span><span class="s1">mathrm, </span><span class="s3">\\</span><span class="s1">mathbf, etc., so use PUA</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">ue131</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@imath</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;\\</span><span class="s1">ue237</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@jmath</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u0131</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u0131</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u0237</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u0237</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u0131</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">i</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u0237</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">j</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00df</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ss</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00e6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ae</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u0153</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">oe</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00f8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00c6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">AE</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u0152</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">OE</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00d8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u02ca</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">); // acute</span><span class="s3">\n\n</span><span class="s1">defineSymbol(text, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u02cb</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">`</span><span class="s3">\&quot;</span><span class="s1">); // grave</span><span class="s3">\n\n</span><span class="s1">defineSymbol(text, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u02c6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">^</span><span class="s3">\&quot;</span><span class="s1">); // circumflex</span><span class="s3">\n\n</span><span class="s1">defineSymbol(text, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u02dc</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">); // tilde</span><span class="s3">\n\n</span><span class="s1">defineSymbol(text, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u02c9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">=</span><span class="s3">\&quot;</span><span class="s1">); // macron</span><span class="s3">\n\n</span><span class="s1">defineSymbol(text, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u02d8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">); // breve</span><span class="s3">\n\n</span><span class="s1">defineSymbol(text, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u02d9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">); // dot above</span><span class="s3">\n\n</span><span class="s1">defineSymbol(text, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u00b8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">); // cedilla</span><span class="s3">\n\n</span><span class="s1">defineSymbol(text, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u02da</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">); // ring above</span><span class="s3">\n\n</span><span class="s1">defineSymbol(text, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u02c7</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">v</span><span class="s3">\&quot;</span><span class="s1">); // caron</span><span class="s3">\n\n</span><span class="s1">defineSymbol(text, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u00a8</span><span class="s3">\&quot;</span><span class="s1">, '</span><span class="s3">\\\\\&quot;</span><span class="s1">'); // diaresis</span><span class="s3">\n\n</span><span class="s1">defineSymbol(text, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u02dd</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">); // double acute</span><span class="s3">\n\n</span><span class="s1">defineSymbol(text, main, accent, </span><span class="s3">\&quot;\\</span><span class="s1">u25ef</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcircled</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">bigcirc glyph</span><span class="s3">\n</span><span class="s1">// These ligatures are detected and created in Parser.js's `formLigatures`.</span><span class="s3">\n\n</span><span class="s1">var ligatures = {</span><span class="s3">\n  \&quot;</span><span class="s1">--</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n  \&quot;</span><span class="s1">---</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n  \&quot;</span><span class="s1">``</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n  \&quot;</span><span class="s1">''</span><span class="s3">\&quot;</span><span class="s1">: true</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2013</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">--</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2013</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textendash</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2014</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">---</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2014</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textemdash</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2018</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">`</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2018</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textquoteleft</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2019</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2019</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textquoteright</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u201c</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">``</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u201c</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textquotedblleft</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u201d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">''</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u201d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textquotedblright</span><span class="s3">\&quot;</span><span class="s1">); //  </span><span class="s3">\\</span><span class="s1">degree from gensymb package</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00b0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">degree</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00b0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">degree</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">textdegree from inputenc package</span><span class="s3">\n\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00b0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textdegree</span><span class="s3">\&quot;</span><span class="s1">, true); // TODO: In LaTeX, </span><span class="s3">\\</span><span class="s1">pounds can generate a different character in text and math</span><span class="s3">\n</span><span class="s1">// mode, but among our fonts, only Main-Regular defines this character </span><span class="s3">\&quot;</span><span class="s1">163</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00a3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">pounds</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00a3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathsterling</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00a3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">pounds</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u00a3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textsterling</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2720</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">maltese</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, ams, textord, </span><span class="s3">\&quot;\\</span><span class="s1">u2720</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">maltese</span><span class="s3">\&quot;</span><span class="s1">); // There are lots of symbols which are the same, so we add them in afterwards.</span><span class="s3">\n</span><span class="s1">// All of these are textords in math mode</span><span class="s3">\n\n</span><span class="s1">var mathTextSymbols = </span><span class="s3">\&quot;</span><span class="s1">0123456789/@.</span><span class="s3">\\\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">for (var i = 0; i &lt; mathTextSymbols.length; i++) {</span><span class="s3">\n  </span><span class="s1">var ch = mathTextSymbols.charAt(i);</span><span class="s3">\n  </span><span class="s1">defineSymbol(math, main, textord, ch, ch);</span><span class="s3">\n</span><span class="s1">} // All of these are textords in text mode</span><span class="s3">\n\n\n</span><span class="s1">var textSymbols = </span><span class="s3">\&quot;</span><span class="s1">0123456789!@*()-=+</span><span class="s3">\\\&quot;</span><span class="s1">;:?/.,</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">for (var _i = 0; _i &lt; textSymbols.length; _i++) {</span><span class="s3">\n  </span><span class="s1">var _ch = textSymbols.charAt(_i);</span><span class="s3">\n\n  </span><span class="s1">defineSymbol(text, main, textord, _ch, _ch);</span><span class="s3">\n</span><span class="s1">} // All of these are textords in text mode, and mathords in math mode</span><span class="s3">\n\n\n</span><span class="s1">var letters = </span><span class="s3">\&quot;</span><span class="s1">ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">for (var _i2 = 0; _i2 &lt; letters.length; _i2++) {</span><span class="s3">\n  </span><span class="s1">var _ch2 = letters.charAt(_i2);</span><span class="s3">\n\n  </span><span class="s1">defineSymbol(math, main, mathord, _ch2, _ch2);</span><span class="s3">\n  </span><span class="s1">defineSymbol(text, main, textord, _ch2, _ch2);</span><span class="s3">\n</span><span class="s1">} // Blackboard bold and script letters in Unicode range</span><span class="s3">\n\n\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2102</span><span class="s3">\&quot;</span><span class="s1">); // blackboard bold</span><span class="s3">\n\n</span><span class="s1">defineSymbol(text, ams, textord, </span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2102</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u210D</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, ams, textord, </span><span class="s3">\&quot;</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u210D</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;</span><span class="s1">N</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2115</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, ams, textord, </span><span class="s3">\&quot;</span><span class="s1">N</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2115</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;</span><span class="s1">P</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2119</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, ams, textord, </span><span class="s3">\&quot;</span><span class="s1">P</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2119</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;</span><span class="s1">Q</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u211A</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, ams, textord, </span><span class="s3">\&quot;</span><span class="s1">Q</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u211A</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;</span><span class="s1">R</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u211D</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, ams, textord, </span><span class="s3">\&quot;</span><span class="s1">R</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u211D</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, ams, textord, </span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2124</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, ams, textord, </span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2124</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;</span><span class="s1">h</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u210E</span><span class="s3">\&quot;</span><span class="s1">); // italic h, Planck constant</span><span class="s3">\n\n</span><span class="s1">defineSymbol(text, main, mathord, </span><span class="s3">\&quot;</span><span class="s1">h</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u210E</span><span class="s3">\&quot;</span><span class="s1">); // The next loop loads wide (surrogate pair) characters.</span><span class="s3">\n</span><span class="s1">// We support some letters in the Unicode range U+1D400 to U+1D7FF,</span><span class="s3">\n</span><span class="s1">// Mathematical Alphanumeric Symbols.</span><span class="s3">\n</span><span class="s1">// Some editors do not deal well with wide characters. So don't write the</span><span class="s3">\n</span><span class="s1">// string into this file. Instead, create the string from the surrogate pair.</span><span class="s3">\n\n</span><span class="s1">var wideChar = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">for (var _i3 = 0; _i3 &lt; letters.length; _i3++) {</span><span class="s3">\n  </span><span class="s1">var _ch3 = letters.charAt(_i3); // The hex numbers in the next line are a surrogate pair.</span><span class="s3">\n  </span><span class="s1">// 0xD835 is the high surrogate for all letters in the range we support.</span><span class="s3">\n  </span><span class="s1">// 0xDC00 is the low surrogate for bold A.</span><span class="s3">\n\n\n  </span><span class="s1">wideChar = String.fromCharCode(0xD835, 0xDC00 + _i3); // A-Z a-z bold</span><span class="s3">\n\n  </span><span class="s1">defineSymbol(math, main, mathord, _ch3, wideChar);</span><span class="s3">\n  </span><span class="s1">defineSymbol(text, main, textord, _ch3, wideChar);</span><span class="s3">\n  </span><span class="s1">wideChar = String.fromCharCode(0xD835, 0xDC34 + _i3); // A-Z a-z italic</span><span class="s3">\n\n  </span><span class="s1">defineSymbol(math, main, mathord, _ch3, wideChar);</span><span class="s3">\n  </span><span class="s1">defineSymbol(text, main, textord, _ch3, wideChar);</span><span class="s3">\n  </span><span class="s1">wideChar = String.fromCharCode(0xD835, 0xDC68 + _i3); // A-Z a-z bold italic</span><span class="s3">\n\n  </span><span class="s1">defineSymbol(math, main, mathord, _ch3, wideChar);</span><span class="s3">\n  </span><span class="s1">defineSymbol(text, main, textord, _ch3, wideChar);</span><span class="s3">\n  </span><span class="s1">wideChar = String.fromCharCode(0xD835, 0xDD04 + _i3); // A-Z a-z Fraktur</span><span class="s3">\n\n  </span><span class="s1">defineSymbol(math, main, mathord, _ch3, wideChar);</span><span class="s3">\n  </span><span class="s1">defineSymbol(text, main, textord, _ch3, wideChar);</span><span class="s3">\n  </span><span class="s1">wideChar = String.fromCharCode(0xD835, 0xDD6C + _i3); // A-Z a-z bold Fraktur</span><span class="s3">\n\n  </span><span class="s1">defineSymbol(math, main, mathord, _ch3, wideChar);</span><span class="s3">\n  </span><span class="s1">defineSymbol(text, main, textord, _ch3, wideChar);</span><span class="s3">\n  </span><span class="s1">wideChar = String.fromCharCode(0xD835, 0xDDA0 + _i3); // A-Z a-z sans-serif</span><span class="s3">\n\n  </span><span class="s1">defineSymbol(math, main, mathord, _ch3, wideChar);</span><span class="s3">\n  </span><span class="s1">defineSymbol(text, main, textord, _ch3, wideChar);</span><span class="s3">\n  </span><span class="s1">wideChar = String.fromCharCode(0xD835, 0xDDD4 + _i3); // A-Z a-z sans bold</span><span class="s3">\n\n  </span><span class="s1">defineSymbol(math, main, mathord, _ch3, wideChar);</span><span class="s3">\n  </span><span class="s1">defineSymbol(text, main, textord, _ch3, wideChar);</span><span class="s3">\n  </span><span class="s1">wideChar = String.fromCharCode(0xD835, 0xDE08 + _i3); // A-Z a-z sans italic</span><span class="s3">\n\n  </span><span class="s1">defineSymbol(math, main, mathord, _ch3, wideChar);</span><span class="s3">\n  </span><span class="s1">defineSymbol(text, main, textord, _ch3, wideChar);</span><span class="s3">\n  </span><span class="s1">wideChar = String.fromCharCode(0xD835, 0xDE70 + _i3); // A-Z a-z monospace</span><span class="s3">\n\n  </span><span class="s1">defineSymbol(math, main, mathord, _ch3, wideChar);</span><span class="s3">\n  </span><span class="s1">defineSymbol(text, main, textord, _ch3, wideChar);</span><span class="s3">\n\n  </span><span class="s1">if (_i3 &lt; 26) {</span><span class="s3">\n    </span><span class="s1">// KaTeX fonts have only capital letters for blackboard bold and script.</span><span class="s3">\n    </span><span class="s1">// See exception for k below.</span><span class="s3">\n    </span><span class="s1">wideChar = String.fromCharCode(0xD835, 0xDD38 + _i3); // A-Z double struck</span><span class="s3">\n\n    </span><span class="s1">defineSymbol(math, main, mathord, _ch3, wideChar);</span><span class="s3">\n    </span><span class="s1">defineSymbol(text, main, textord, _ch3, wideChar);</span><span class="s3">\n    </span><span class="s1">wideChar = String.fromCharCode(0xD835, 0xDC9C + _i3); // A-Z script</span><span class="s3">\n\n    </span><span class="s1">defineSymbol(math, main, mathord, _ch3, wideChar);</span><span class="s3">\n    </span><span class="s1">defineSymbol(text, main, textord, _ch3, wideChar);</span><span class="s3">\n  </span><span class="s1">} // TODO: Add bold script when it is supported by a KaTeX font.</span><span class="s3">\n\n</span><span class="s1">} // </span><span class="s3">\&quot;</span><span class="s1">k</span><span class="s3">\&quot; </span><span class="s1">is the only double struck lower case letter in the KaTeX fonts.</span><span class="s3">\n\n\n</span><span class="s1">wideChar = String.fromCharCode(0xD835, 0xDD5C); // k double struck</span><span class="s3">\n\n</span><span class="s1">defineSymbol(math, main, mathord, </span><span class="s3">\&quot;</span><span class="s1">k</span><span class="s3">\&quot;</span><span class="s1">, wideChar);</span><span class="s3">\n</span><span class="s1">defineSymbol(text, main, textord, </span><span class="s3">\&quot;</span><span class="s1">k</span><span class="s3">\&quot;</span><span class="s1">, wideChar); // Next, some wide character numerals</span><span class="s3">\n\n</span><span class="s1">for (var _i4 = 0; _i4 &lt; 10; _i4++) {</span><span class="s3">\n  </span><span class="s1">var _ch4 = _i4.toString();</span><span class="s3">\n\n  </span><span class="s1">wideChar = String.fromCharCode(0xD835, 0xDFCE + _i4); // 0-9 bold</span><span class="s3">\n\n  </span><span class="s1">defineSymbol(math, main, mathord, _ch4, wideChar);</span><span class="s3">\n  </span><span class="s1">defineSymbol(text, main, textord, _ch4, wideChar);</span><span class="s3">\n  </span><span class="s1">wideChar = String.fromCharCode(0xD835, 0xDFE2 + _i4); // 0-9 sans serif</span><span class="s3">\n\n  </span><span class="s1">defineSymbol(math, main, mathord, _ch4, wideChar);</span><span class="s3">\n  </span><span class="s1">defineSymbol(text, main, textord, _ch4, wideChar);</span><span class="s3">\n  </span><span class="s1">wideChar = String.fromCharCode(0xD835, 0xDFEC + _i4); // 0-9 bold sans</span><span class="s3">\n\n  </span><span class="s1">defineSymbol(math, main, mathord, _ch4, wideChar);</span><span class="s3">\n  </span><span class="s1">defineSymbol(text, main, textord, _ch4, wideChar);</span><span class="s3">\n  </span><span class="s1">wideChar = String.fromCharCode(0xD835, 0xDFF6 + _i4); // 0-9 monospace</span><span class="s3">\n\n  </span><span class="s1">defineSymbol(math, main, mathord, _ch4, wideChar);</span><span class="s3">\n  </span><span class="s1">defineSymbol(text, main, textord, _ch4, wideChar);</span><span class="s3">\n</span><span class="s1">} // We add these Latin-1 letters as symbols for backwards-compatibility,</span><span class="s3">\n</span><span class="s1">// but they are not actually in the font, nor are they supported by the</span><span class="s3">\n</span><span class="s1">// Unicode accent mechanism, so they fall back to Times font and look ugly.</span><span class="s3">\n</span><span class="s1">// TODO(edemaine): Fix this.</span><span class="s3">\n\n\n</span><span class="s1">var extraLatin = </span><span class="s3">\&quot;\\</span><span class="s1">u00d0</span><span class="s3">\\</span><span class="s1">u00de</span><span class="s3">\\</span><span class="s1">u00fe</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">for (var _i5 = 0; _i5 &lt; extraLatin.length; _i5++) {</span><span class="s3">\n  </span><span class="s1">var _ch5 = extraLatin.charAt(_i5);</span><span class="s3">\n\n  </span><span class="s1">defineSymbol(math, main, mathord, _ch5, _ch5);</span><span class="s3">\n  </span><span class="s1">defineSymbol(text, main, textord, _ch5, _ch5);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This file provides support for Unicode range U+1D400 to U+1D7FF,</span><span class="s3">\n </span><span class="s1">* Mathematical Alphanumeric Symbols.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Function wideCharacterFont takes a wide character as input and returns</span><span class="s3">\n </span><span class="s1">* the font information necessary to render it properly.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Data below is from https://www.unicode.org/charts/PDF/U1D400.pdf</span><span class="s3">\n </span><span class="s1">* That document sorts characters into groups by font type, say bold or italic.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* In the arrays below, each subarray consists three elements:</span><span class="s3">\n </span><span class="s1">*      * The CSS class of that group when in math mode.</span><span class="s3">\n </span><span class="s1">*      * The CSS class of that group when in text mode.</span><span class="s3">\n </span><span class="s1">*      * The font name, so that KaTeX can get font metrics.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">var wideLatinLetterData = [[</span><span class="s3">\&quot;</span><span class="s1">mathbf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textbf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Main-Bold</span><span class="s3">\&quot;</span><span class="s1">], // A-Z bold upright</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathbf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textbf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Main-Bold</span><span class="s3">\&quot;</span><span class="s1">], // a-z bold upright</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathnormal</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textit</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Math-Italic</span><span class="s3">\&quot;</span><span class="s1">], // A-Z italic</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathnormal</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textit</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Math-Italic</span><span class="s3">\&quot;</span><span class="s1">], // a-z italic</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">boldsymbol</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">boldsymbol</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Main-BoldItalic</span><span class="s3">\&quot;</span><span class="s1">], // A-Z bold italic</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">boldsymbol</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">boldsymbol</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Main-BoldItalic</span><span class="s3">\&quot;</span><span class="s1">], // a-z bold italic</span><span class="s3">\n</span><span class="s1">// Map fancy A-Z letters to script, not calligraphic.</span><span class="s3">\n</span><span class="s1">// This aligns with unicode-math and math fonts (except Cambria Math).</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathscr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textscr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Script-Regular</span><span class="s3">\&quot;</span><span class="s1">], // A-Z script</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">], // a-z script.  No font</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">], // A-Z bold script. No font</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">], // a-z bold script. No font</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathfrak</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textfrak</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Fraktur-Regular</span><span class="s3">\&quot;</span><span class="s1">], // A-Z Fraktur</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathfrak</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textfrak</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Fraktur-Regular</span><span class="s3">\&quot;</span><span class="s1">], // a-z Fraktur</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathbb</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textbb</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">AMS-Regular</span><span class="s3">\&quot;</span><span class="s1">], // A-Z double-struck</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathbb</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textbb</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">AMS-Regular</span><span class="s3">\&quot;</span><span class="s1">], // k double-struck</span><span class="s3">\n</span><span class="s1">// Note that we are using a bold font, but font metrics for regular Fraktur.</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathboldfrak</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textboldfrak</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Fraktur-Regular</span><span class="s3">\&quot;</span><span class="s1">], // A-Z bold Fraktur</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathboldfrak</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textboldfrak</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Fraktur-Regular</span><span class="s3">\&quot;</span><span class="s1">], // a-z bold Fraktur</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathsf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textsf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">SansSerif-Regular</span><span class="s3">\&quot;</span><span class="s1">], // A-Z sans-serif</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathsf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textsf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">SansSerif-Regular</span><span class="s3">\&quot;</span><span class="s1">], // a-z sans-serif</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathboldsf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textboldsf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">SansSerif-Bold</span><span class="s3">\&quot;</span><span class="s1">], // A-Z bold sans-serif</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathboldsf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textboldsf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">SansSerif-Bold</span><span class="s3">\&quot;</span><span class="s1">], // a-z bold sans-serif</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathitsf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textitsf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">SansSerif-Italic</span><span class="s3">\&quot;</span><span class="s1">], // A-Z italic sans-serif</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathitsf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textitsf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">SansSerif-Italic</span><span class="s3">\&quot;</span><span class="s1">], // a-z italic sans-serif</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">], // A-Z bold italic sans. No font</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">], // a-z bold italic sans. No font</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathtt</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">texttt</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Typewriter-Regular</span><span class="s3">\&quot;</span><span class="s1">], // A-Z monospace</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathtt</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">texttt</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Typewriter-Regular</span><span class="s3">\&quot;</span><span class="s1">] // a-z monospace</span><span class="s3">\n</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">var wideNumeralData = [[</span><span class="s3">\&quot;</span><span class="s1">mathbf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textbf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Main-Bold</span><span class="s3">\&quot;</span><span class="s1">], // 0-9 bold</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">], // 0-9 double-struck. No KaTeX font.</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathsf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textsf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">SansSerif-Regular</span><span class="s3">\&quot;</span><span class="s1">], // 0-9 sans-serif</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathboldsf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">textboldsf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">SansSerif-Bold</span><span class="s3">\&quot;</span><span class="s1">], // 0-9 bold sans-serif</span><span class="s3">\n</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">mathtt</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">texttt</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Typewriter-Regular</span><span class="s3">\&quot;</span><span class="s1">] // 0-9 monospace</span><span class="s3">\n</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">var wideCharacterFont = function wideCharacterFont(wideChar, mode) {</span><span class="s3">\n  </span><span class="s1">// IE doesn't support codePointAt(). So work with the surrogate pair.</span><span class="s3">\n  </span><span class="s1">var H = wideChar.charCodeAt(0); // high surrogate</span><span class="s3">\n\n  </span><span class="s1">var L = wideChar.charCodeAt(1); // low surrogate</span><span class="s3">\n\n  </span><span class="s1">var codePoint = (H - 0xD800) * 0x400 + (L - 0xDC00) + 0x10000;</span><span class="s3">\n  </span><span class="s1">var j = mode === </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot; </span><span class="s1">? 0 : 1; // column index for CSS class.</span><span class="s3">\n\n  </span><span class="s1">if (0x1D400 &lt;= codePoint &amp;&amp; codePoint &lt; 0x1D6A4) {</span><span class="s3">\n    </span><span class="s1">// wideLatinLetterData contains exactly 26 chars on each row.</span><span class="s3">\n    </span><span class="s1">// So we can calculate the relevant row. No traverse necessary.</span><span class="s3">\n    </span><span class="s1">var i = Math.floor((codePoint - 0x1D400) / 26);</span><span class="s3">\n    </span><span class="s1">return [wideLatinLetterData[i][2], wideLatinLetterData[i][j]];</span><span class="s3">\n  </span><span class="s1">} else if (0x1D7CE &lt;= codePoint &amp;&amp; codePoint &lt;= 0x1D7FF) {</span><span class="s3">\n    </span><span class="s1">// Numerals, ten per row.</span><span class="s3">\n    </span><span class="s1">var _i = Math.floor((codePoint - 0x1D7CE) / 10);</span><span class="s3">\n\n    </span><span class="s1">return [wideNumeralData[_i][2], wideNumeralData[_i][j]];</span><span class="s3">\n  </span><span class="s1">} else if (codePoint === 0x1D6A5 || codePoint === 0x1D6A6) {</span><span class="s3">\n    </span><span class="s1">// dotless i or j</span><span class="s3">\n    </span><span class="s1">return [wideLatinLetterData[0][2], wideLatinLetterData[0][j]];</span><span class="s3">\n  </span><span class="s1">} else if (0x1D6A6 &lt; codePoint &amp;&amp; codePoint &lt; 0x1D7CE) {</span><span class="s3">\n    </span><span class="s1">// Greek letters. Not supported, yet.</span><span class="s3">\n    </span><span class="s1">return [</span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">// We don't support any wide characters outside 1D4001D7FF.</span><span class="s3">\n    </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Unsupported character: </span><span class="s3">\&quot; </span><span class="s1">+ wideChar);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">/* eslint no-console:0 */</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Looks up the given symbol in fontMetrics, after applying any symbol</span><span class="s3">\n </span><span class="s1">* replacements defined in symbol.js</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var lookupSymbol = function lookupSymbol(value, // TODO(#963): Use a union type for this.</span><span class="s3">\n</span><span class="s1">fontName, mode) {</span><span class="s3">\n  </span><span class="s1">// Replace the value with its replaced value from symbol.js</span><span class="s3">\n  </span><span class="s1">if (symbols[mode][value] &amp;&amp; symbols[mode][value].replace) {</span><span class="s3">\n    </span><span class="s1">value = symbols[mode][value].replace;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">value: value,</span><span class="s3">\n    </span><span class="s1">metrics: getCharacterMetrics(value, fontName, mode)</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Makes a symbolNode after translation via the list of symbols in symbols.js.</span><span class="s3">\n </span><span class="s1">* Correctly pulls out metrics for the character, and optionally takes a list of</span><span class="s3">\n </span><span class="s1">* classes to be attached to the node.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* TODO: make argument order closer to makeSpan</span><span class="s3">\n </span><span class="s1">* TODO: add a separate argument for math class (e.g. `mop`, `mbin`), which</span><span class="s3">\n </span><span class="s1">* should if present come first in `classes`.</span><span class="s3">\n </span><span class="s1">* TODO(#953): Make `options` mandatory and always pass it in.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var makeSymbol = function makeSymbol(value, fontName, mode, options, classes) {</span><span class="s3">\n  </span><span class="s1">var lookup = lookupSymbol(value, fontName, mode);</span><span class="s3">\n  </span><span class="s1">var metrics = lookup.metrics;</span><span class="s3">\n  </span><span class="s1">value = lookup.value;</span><span class="s3">\n  </span><span class="s1">var symbolNode;</span><span class="s3">\n\n  </span><span class="s1">if (metrics) {</span><span class="s3">\n    </span><span class="s1">var italic = metrics.italic;</span><span class="s3">\n\n    </span><span class="s1">if (mode === </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot; </span><span class="s1">|| options &amp;&amp; options.font === </span><span class="s3">\&quot;</span><span class="s1">mathit</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">italic = 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">symbolNode = new SymbolNode(value, metrics.height, metrics.depth, italic, metrics.skew, metrics.width, classes);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">// TODO(emily): Figure out a good way to only print this in development</span><span class="s3">\n    </span><span class="s1">typeof console !== </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; console.warn(</span><span class="s3">\&quot;</span><span class="s1">No character metrics </span><span class="s3">\&quot; </span><span class="s1">+ (</span><span class="s3">\&quot;</span><span class="s1">for '</span><span class="s3">\&quot; </span><span class="s1">+ value + </span><span class="s3">\&quot;</span><span class="s1">' in style '</span><span class="s3">\&quot; </span><span class="s1">+ fontName + </span><span class="s3">\&quot;</span><span class="s1">' and mode '</span><span class="s3">\&quot; </span><span class="s1">+ mode + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n    </span><span class="s1">symbolNode = new SymbolNode(value, 0, 0, 0, 0, 0, classes);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (options) {</span><span class="s3">\n    </span><span class="s1">symbolNode.maxFontSize = options.sizeMultiplier;</span><span class="s3">\n\n    </span><span class="s1">if (options.style.isTight()) {</span><span class="s3">\n      </span><span class="s1">symbolNode.classes.push(</span><span class="s3">\&quot;</span><span class="s1">mtight</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var color = options.getColor();</span><span class="s3">\n\n    </span><span class="s1">if (color) {</span><span class="s3">\n      </span><span class="s1">symbolNode.style.color = color;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return symbolNode;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Makes a symbol in Main-Regular or AMS-Regular.</span><span class="s3">\n </span><span class="s1">* Used for rel, bin, open, close, inner, and punct.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var mathsym = function mathsym(value, mode, options, classes) {</span><span class="s3">\n  </span><span class="s1">if (classes === void 0) {</span><span class="s3">\n    </span><span class="s1">classes = [];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// Decide what font to render the symbol in by its entry in the symbols</span><span class="s3">\n  </span><span class="s1">// table.</span><span class="s3">\n  </span><span class="s1">// Have a special case for when the value = </span><span class="s3">\\ </span><span class="s1">because the </span><span class="s3">\\ </span><span class="s1">is used as a</span><span class="s3">\n  </span><span class="s1">// textord in unsupported command errors but cannot be parsed as a regular</span><span class="s3">\n  </span><span class="s1">// text ordinal and is therefore not present as a symbol in the symbols</span><span class="s3">\n  </span><span class="s1">// table for text, as well as a special case for boldsymbol because it</span><span class="s3">\n  </span><span class="s1">// can be used for bold + and -</span><span class="s3">\n  </span><span class="s1">if (options.font === </span><span class="s3">\&quot;</span><span class="s1">boldsymbol</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; lookupSymbol(value, </span><span class="s3">\&quot;</span><span class="s1">Main-Bold</span><span class="s3">\&quot;</span><span class="s1">, mode).metrics) {</span><span class="s3">\n    </span><span class="s1">return makeSymbol(value, </span><span class="s3">\&quot;</span><span class="s1">Main-Bold</span><span class="s3">\&quot;</span><span class="s1">, mode, options, classes.concat([</span><span class="s3">\&quot;</span><span class="s1">mathbf</span><span class="s3">\&quot;</span><span class="s1">]));</span><span class="s3">\n  </span><span class="s1">} else if (value === </span><span class="s3">\&quot;\\\\\&quot; </span><span class="s1">|| symbols[mode][value].font === </span><span class="s3">\&quot;</span><span class="s1">main</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return makeSymbol(value, </span><span class="s3">\&quot;</span><span class="s1">Main-Regular</span><span class="s3">\&quot;</span><span class="s1">, mode, options, classes);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return makeSymbol(value, </span><span class="s3">\&quot;</span><span class="s1">AMS-Regular</span><span class="s3">\&quot;</span><span class="s1">, mode, options, classes.concat([</span><span class="s3">\&quot;</span><span class="s1">amsrm</span><span class="s3">\&quot;</span><span class="s1">]));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Determines which of the two font names (Main-Bold and Math-BoldItalic) and</span><span class="s3">\n </span><span class="s1">* corresponding style tags (mathbf or boldsymbol) to use for font </span><span class="s3">\&quot;</span><span class="s1">boldsymbol</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n </span><span class="s1">* depending on the symbol.  Use this function instead of fontMap for font</span><span class="s3">\n </span><span class="s1">* </span><span class="s3">\&quot;</span><span class="s1">boldsymbol</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var boldsymbol = function boldsymbol(value, mode, options, classes, type) {</span><span class="s3">\n  </span><span class="s1">if (type !== </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; lookupSymbol(value, </span><span class="s3">\&quot;</span><span class="s1">Math-BoldItalic</span><span class="s3">\&quot;</span><span class="s1">, mode).metrics) {</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">fontName: </span><span class="s3">\&quot;</span><span class="s1">Math-BoldItalic</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">fontClass: </span><span class="s3">\&quot;</span><span class="s1">boldsymbol</span><span class="s3">\&quot;\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">// Some glyphs do not exist in Math-BoldItalic so we need to use</span><span class="s3">\n    </span><span class="s1">// Main-Bold instead.</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">fontName: </span><span class="s3">\&quot;</span><span class="s1">Main-Bold</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">fontClass: </span><span class="s3">\&quot;</span><span class="s1">mathbf</span><span class="s3">\&quot;\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Makes either a mathord or textord in the correct font and color.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var makeOrd = function makeOrd(group, options, type) {</span><span class="s3">\n  </span><span class="s1">var mode = group.mode;</span><span class="s3">\n  </span><span class="s1">var text = group.text;</span><span class="s3">\n  </span><span class="s1">var classes = [</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">]; // Math mode or Old font (i.e. </span><span class="s3">\\</span><span class="s1">rm)</span><span class="s3">\n\n  </span><span class="s1">var isFont = mode === </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot; </span><span class="s1">|| mode === </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; options.font;</span><span class="s3">\n  </span><span class="s1">var fontOrFamily = isFont ? options.font : options.fontFamily;</span><span class="s3">\n  </span><span class="s1">var wideFontName = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">var wideFontClass = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n  </span><span class="s1">if (text.charCodeAt(0) === 0xD835) {</span><span class="s3">\n    </span><span class="s1">[wideFontName, wideFontClass] = wideCharacterFont(text, mode);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (wideFontName.length &gt; 0) {</span><span class="s3">\n    </span><span class="s1">// surrogate pairs get special treatment</span><span class="s3">\n    </span><span class="s1">return makeSymbol(text, wideFontName, mode, options, classes.concat(wideFontClass));</span><span class="s3">\n  </span><span class="s1">} else if (fontOrFamily) {</span><span class="s3">\n    </span><span class="s1">var fontName;</span><span class="s3">\n    </span><span class="s1">var fontClasses;</span><span class="s3">\n\n    </span><span class="s1">if (fontOrFamily === </span><span class="s3">\&quot;</span><span class="s1">boldsymbol</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">var fontData = boldsymbol(text, mode, options, classes, type);</span><span class="s3">\n      </span><span class="s1">fontName = fontData.fontName;</span><span class="s3">\n      </span><span class="s1">fontClasses = [fontData.fontClass];</span><span class="s3">\n    </span><span class="s1">} else if (isFont) {</span><span class="s3">\n      </span><span class="s1">fontName = fontMap[fontOrFamily].fontName;</span><span class="s3">\n      </span><span class="s1">fontClasses = [fontOrFamily];</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">fontName = retrieveTextFontName(fontOrFamily, options.fontWeight, options.fontShape);</span><span class="s3">\n      </span><span class="s1">fontClasses = [fontOrFamily, options.fontWeight, options.fontShape];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (lookupSymbol(text, fontName, mode).metrics) {</span><span class="s3">\n      </span><span class="s1">return makeSymbol(text, fontName, mode, options, classes.concat(fontClasses));</span><span class="s3">\n    </span><span class="s1">} else if (ligatures.hasOwnProperty(text) &amp;&amp; fontName.slice(0, 10) === </span><span class="s3">\&quot;</span><span class="s1">Typewriter</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// Deconstruct ligatures in monospace fonts (</span><span class="s3">\\</span><span class="s1">texttt, </span><span class="s3">\\</span><span class="s1">tt).</span><span class="s3">\n      </span><span class="s1">var parts = [];</span><span class="s3">\n\n      </span><span class="s1">for (var i = 0; i &lt; text.length; i++) {</span><span class="s3">\n        </span><span class="s1">parts.push(makeSymbol(text[i], fontName, mode, options, classes.concat(fontClasses)));</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">return makeFragment(parts);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} // Makes a symbol in the default font for mathords and textords.</span><span class="s3">\n\n\n  </span><span class="s1">if (type === </span><span class="s3">\&quot;</span><span class="s1">mathord</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return makeSymbol(text, </span><span class="s3">\&quot;</span><span class="s1">Math-Italic</span><span class="s3">\&quot;</span><span class="s1">, mode, options, classes.concat([</span><span class="s3">\&quot;</span><span class="s1">mathnormal</span><span class="s3">\&quot;</span><span class="s1">]));</span><span class="s3">\n  </span><span class="s1">} else if (type === </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">var font = symbols[mode][text] &amp;&amp; symbols[mode][text].font;</span><span class="s3">\n\n    </span><span class="s1">if (font === </span><span class="s3">\&quot;</span><span class="s1">ams</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">var _fontName = retrieveTextFontName(</span><span class="s3">\&quot;</span><span class="s1">amsrm</span><span class="s3">\&quot;</span><span class="s1">, options.fontWeight, options.fontShape);</span><span class="s3">\n\n      </span><span class="s1">return makeSymbol(text, _fontName, mode, options, classes.concat(</span><span class="s3">\&quot;</span><span class="s1">amsrm</span><span class="s3">\&quot;</span><span class="s1">, options.fontWeight, options.fontShape));</span><span class="s3">\n    </span><span class="s1">} else if (font === </span><span class="s3">\&quot;</span><span class="s1">main</span><span class="s3">\&quot; </span><span class="s1">|| !font) {</span><span class="s3">\n      </span><span class="s1">var _fontName2 = retrieveTextFontName(</span><span class="s3">\&quot;</span><span class="s1">textrm</span><span class="s3">\&quot;</span><span class="s1">, options.fontWeight, options.fontShape);</span><span class="s3">\n\n      </span><span class="s1">return makeSymbol(text, _fontName2, mode, options, classes.concat(options.fontWeight, options.fontShape));</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">// fonts added by plugins</span><span class="s3">\n      </span><span class="s1">var _fontName3 = retrieveTextFontName(font, options.fontWeight, options.fontShape); // We add font name as a css class</span><span class="s3">\n\n\n      </span><span class="s1">return makeSymbol(text, _fontName3, mode, options, classes.concat(_fontName3, options.fontWeight, options.fontShape));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">unexpected type: </span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot; </span><span class="s1">in makeOrd</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Returns true if subsequent symbolNodes have the same classes, skew, maxFont,</span><span class="s3">\n </span><span class="s1">* and styles.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var canCombine = (prev, next) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (createClass(prev.classes) !== createClass(next.classes) || prev.skew !== next.skew || prev.maxFontSize !== next.maxFontSize) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">} // If prev and next both are just </span><span class="s3">\&quot;</span><span class="s1">mbin</span><span class="s3">\&quot;</span><span class="s1">s or </span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">s we don't combine them</span><span class="s3">\n  </span><span class="s1">// so that the proper spacing can be preserved.</span><span class="s3">\n\n\n  </span><span class="s1">if (prev.classes.length === 1) {</span><span class="s3">\n    </span><span class="s1">var cls = prev.classes[0];</span><span class="s3">\n\n    </span><span class="s1">if (cls === </span><span class="s3">\&quot;</span><span class="s1">mbin</span><span class="s3">\&quot; </span><span class="s1">|| cls === </span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">for (var style in prev.style) {</span><span class="s3">\n    </span><span class="s1">if (prev.style.hasOwnProperty(style) &amp;&amp; prev.style[style] !== next.style[style]) {</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">for (var _style in next.style) {</span><span class="s3">\n    </span><span class="s1">if (next.style.hasOwnProperty(_style) &amp;&amp; prev.style[_style] !== next.style[_style]) {</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return true;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Combine consecutive domTree.symbolNodes into a single symbolNode.</span><span class="s3">\n </span><span class="s1">* Note: this function mutates the argument.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var tryCombineChars = chars =&gt; {</span><span class="s3">\n  </span><span class="s1">for (var i = 0; i &lt; chars.length - 1; i++) {</span><span class="s3">\n    </span><span class="s1">var prev = chars[i];</span><span class="s3">\n    </span><span class="s1">var next = chars[i + 1];</span><span class="s3">\n\n    </span><span class="s1">if (prev instanceof SymbolNode &amp;&amp; next instanceof SymbolNode &amp;&amp; canCombine(prev, next)) {</span><span class="s3">\n      </span><span class="s1">prev.text += next.text;</span><span class="s3">\n      </span><span class="s1">prev.height = Math.max(prev.height, next.height);</span><span class="s3">\n      </span><span class="s1">prev.depth = Math.max(prev.depth, next.depth); // Use the last character's italic correction since we use</span><span class="s3">\n      </span><span class="s1">// it to add padding to the right of the span created from</span><span class="s3">\n      </span><span class="s1">// the combined characters.</span><span class="s3">\n\n      </span><span class="s1">prev.italic = next.italic;</span><span class="s3">\n      </span><span class="s1">chars.splice(i + 1, 1);</span><span class="s3">\n      </span><span class="s1">i--;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return chars;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Calculate the height, depth, and maxFontSize of an element based on its</span><span class="s3">\n </span><span class="s1">* children.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var sizeElementFromChildren = function sizeElementFromChildren(elem) {</span><span class="s3">\n  </span><span class="s1">var height = 0;</span><span class="s3">\n  </span><span class="s1">var depth = 0;</span><span class="s3">\n  </span><span class="s1">var maxFontSize = 0;</span><span class="s3">\n\n  </span><span class="s1">for (var i = 0; i &lt; elem.children.length; i++) {</span><span class="s3">\n    </span><span class="s1">var child = elem.children[i];</span><span class="s3">\n\n    </span><span class="s1">if (child.height &gt; height) {</span><span class="s3">\n      </span><span class="s1">height = child.height;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (child.depth &gt; depth) {</span><span class="s3">\n      </span><span class="s1">depth = child.depth;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (child.maxFontSize &gt; maxFontSize) {</span><span class="s3">\n      </span><span class="s1">maxFontSize = child.maxFontSize;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">elem.height = height;</span><span class="s3">\n  </span><span class="s1">elem.depth = depth;</span><span class="s3">\n  </span><span class="s1">elem.maxFontSize = maxFontSize;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Makes a span with the given list of classes, list of children, and options.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* TODO(#953): Ensure that `options` is always provided (currently some call</span><span class="s3">\n </span><span class="s1">* sites don't pass it) and make the type below mandatory.</span><span class="s3">\n </span><span class="s1">* TODO: add a separate argument for math class (e.g. `mop`, `mbin`), which</span><span class="s3">\n </span><span class="s1">* should if present come first in `classes`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var makeSpan$2 = function makeSpan(classes, children, options, style) {</span><span class="s3">\n  </span><span class="s1">var span = new Span(classes, children, options, style);</span><span class="s3">\n  </span><span class="s1">sizeElementFromChildren(span);</span><span class="s3">\n  </span><span class="s1">return span;</span><span class="s3">\n</span><span class="s1">}; // SVG one is simpler -- doesn't require height, depth, max-font setting.</span><span class="s3">\n</span><span class="s1">// This is also a separate method for typesafety.</span><span class="s3">\n\n\n</span><span class="s1">var makeSvgSpan = (classes, children, options, style) =&gt; new Span(classes, children, options, style);</span><span class="s3">\n\n</span><span class="s1">var makeLineSpan = function makeLineSpan(className, options, thickness) {</span><span class="s3">\n  </span><span class="s1">var line = makeSpan$2([className], [], options);</span><span class="s3">\n  </span><span class="s1">line.height = Math.max(thickness || options.fontMetrics().defaultRuleThickness, options.minRuleThickness);</span><span class="s3">\n  </span><span class="s1">line.style.borderBottomWidth = makeEm(line.height);</span><span class="s3">\n  </span><span class="s1">line.maxFontSize = 1.0;</span><span class="s3">\n  </span><span class="s1">return line;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Makes an anchor with the given href, list of classes, list of children,</span><span class="s3">\n </span><span class="s1">* and options.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var makeAnchor = function makeAnchor(href, classes, children, options) {</span><span class="s3">\n  </span><span class="s1">var anchor = new Anchor(href, classes, children, options);</span><span class="s3">\n  </span><span class="s1">sizeElementFromChildren(anchor);</span><span class="s3">\n  </span><span class="s1">return anchor;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Makes a document fragment with the given list of children.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var makeFragment = function makeFragment(children) {</span><span class="s3">\n  </span><span class="s1">var fragment = new DocumentFragment(children);</span><span class="s3">\n  </span><span class="s1">sizeElementFromChildren(fragment);</span><span class="s3">\n  </span><span class="s1">return fragment;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Wraps group in a span if it's a document fragment, allowing to apply classes</span><span class="s3">\n </span><span class="s1">* and styles</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var wrapFragment = function wrapFragment(group, options) {</span><span class="s3">\n  </span><span class="s1">if (group instanceof DocumentFragment) {</span><span class="s3">\n    </span><span class="s1">return makeSpan$2([], [group], options);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return group;</span><span class="s3">\n</span><span class="s1">}; // These are exact object types to catch typos in the names of the optional fields.</span><span class="s3">\n\n\n</span><span class="s1">// Computes the updated `children` list and the overall depth.</span><span class="s3">\n</span><span class="s1">//</span><span class="s3">\n</span><span class="s1">// This helper function for makeVList makes it easier to enforce type safety by</span><span class="s3">\n</span><span class="s1">// allowing early exits (returns) in the logic.</span><span class="s3">\n</span><span class="s1">var getVListChildrenAndDepth = function getVListChildrenAndDepth(params) {</span><span class="s3">\n  </span><span class="s1">if (params.positionType === </span><span class="s3">\&quot;</span><span class="s1">individualShift</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">var oldChildren = params.children;</span><span class="s3">\n    </span><span class="s1">var children = [oldChildren[0]]; // Add in kerns to the list of params.children to get each element to be</span><span class="s3">\n    </span><span class="s1">// shifted to the correct specified shift</span><span class="s3">\n\n    </span><span class="s1">var _depth = -oldChildren[0].shift - oldChildren[0].elem.depth;</span><span class="s3">\n\n    </span><span class="s1">var currPos = _depth;</span><span class="s3">\n\n    </span><span class="s1">for (var i = 1; i &lt; oldChildren.length; i++) {</span><span class="s3">\n      </span><span class="s1">var diff = -oldChildren[i].shift - currPos - oldChildren[i].elem.depth;</span><span class="s3">\n      </span><span class="s1">var size = diff - (oldChildren[i - 1].elem.height + oldChildren[i - 1].elem.depth);</span><span class="s3">\n      </span><span class="s1">currPos = currPos + diff;</span><span class="s3">\n      </span><span class="s1">children.push({</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">size</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n      </span><span class="s1">children.push(oldChildren[i]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">children,</span><span class="s3">\n      </span><span class="s1">depth: _depth</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var depth;</span><span class="s3">\n\n  </span><span class="s1">if (params.positionType === </span><span class="s3">\&quot;</span><span class="s1">top</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">// We always start at the bottom, so calculate the bottom by adding up</span><span class="s3">\n    </span><span class="s1">// all the sizes</span><span class="s3">\n    </span><span class="s1">var bottom = params.positionData;</span><span class="s3">\n\n    </span><span class="s1">for (var _i = 0; _i &lt; params.children.length; _i++) {</span><span class="s3">\n      </span><span class="s1">var child = params.children[_i];</span><span class="s3">\n      </span><span class="s1">bottom -= child.type === </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot; </span><span class="s1">? child.size : child.elem.height + child.elem.depth;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">depth = bottom;</span><span class="s3">\n  </span><span class="s1">} else if (params.positionType === </span><span class="s3">\&quot;</span><span class="s1">bottom</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">depth = -params.positionData;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">var firstChild = params.children[0];</span><span class="s3">\n\n    </span><span class="s1">if (firstChild.type !== </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">throw new Error('First child must have type </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">.');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (params.positionType === </span><span class="s3">\&quot;</span><span class="s1">shift</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">depth = -firstChild.elem.depth - params.positionData;</span><span class="s3">\n    </span><span class="s1">} else if (params.positionType === </span><span class="s3">\&quot;</span><span class="s1">firstBaseline</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">depth = -firstChild.elem.depth;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Invalid positionType </span><span class="s3">\&quot; </span><span class="s1">+ params.positionType + </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">children: params.children,</span><span class="s3">\n    </span><span class="s1">depth</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Makes a vertical list by stacking elements and kerns on top of each other.</span><span class="s3">\n </span><span class="s1">* Allows for many different ways of specifying the positioning method.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* See VListParam documentation above.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var makeVList = function makeVList(params, options) {</span><span class="s3">\n  </span><span class="s1">var {</span><span class="s3">\n    </span><span class="s1">children,</span><span class="s3">\n    </span><span class="s1">depth</span><span class="s3">\n  </span><span class="s1">} = getVListChildrenAndDepth(params); // Create a strut that is taller than any list item. The strut is added to</span><span class="s3">\n  </span><span class="s1">// each item, where it will determine the item's baseline. Since it has</span><span class="s3">\n  </span><span class="s1">// `overflow:hidden`, the strut's top edge will sit on the item's line box's</span><span class="s3">\n  </span><span class="s1">// top edge and the strut's bottom edge will sit on the item's baseline,</span><span class="s3">\n  </span><span class="s1">// with no additional line-height spacing. This allows the item baseline to</span><span class="s3">\n  </span><span class="s1">// be positioned precisely without worrying about font ascent and</span><span class="s3">\n  </span><span class="s1">// line-height.</span><span class="s3">\n\n  </span><span class="s1">var pstrutSize = 0;</span><span class="s3">\n\n  </span><span class="s1">for (var i = 0; i &lt; children.length; i++) {</span><span class="s3">\n    </span><span class="s1">var child = children[i];</span><span class="s3">\n\n    </span><span class="s1">if (child.type === </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">var elem = child.elem;</span><span class="s3">\n      </span><span class="s1">pstrutSize = Math.max(pstrutSize, elem.maxFontSize, elem.height);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">pstrutSize += 2;</span><span class="s3">\n  </span><span class="s1">var pstrut = makeSpan$2([</span><span class="s3">\&quot;</span><span class="s1">pstrut</span><span class="s3">\&quot;</span><span class="s1">], []);</span><span class="s3">\n  </span><span class="s1">pstrut.style.height = makeEm(pstrutSize); // Create a new list of actual children at the correct offsets</span><span class="s3">\n\n  </span><span class="s1">var realChildren = [];</span><span class="s3">\n  </span><span class="s1">var minPos = depth;</span><span class="s3">\n  </span><span class="s1">var maxPos = depth;</span><span class="s3">\n  </span><span class="s1">var currPos = depth;</span><span class="s3">\n\n  </span><span class="s1">for (var _i2 = 0; _i2 &lt; children.length; _i2++) {</span><span class="s3">\n    </span><span class="s1">var _child = children[_i2];</span><span class="s3">\n\n    </span><span class="s1">if (_child.type === </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">currPos += _child.size;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">var _elem = _child.elem;</span><span class="s3">\n      </span><span class="s1">var classes = _child.wrapperClasses || [];</span><span class="s3">\n      </span><span class="s1">var style = _child.wrapperStyle || {};</span><span class="s3">\n      </span><span class="s1">var childWrap = makeSpan$2(classes, [pstrut, _elem], undefined, style);</span><span class="s3">\n      </span><span class="s1">childWrap.style.top = makeEm(-pstrutSize - currPos - _elem.depth);</span><span class="s3">\n\n      </span><span class="s1">if (_child.marginLeft) {</span><span class="s3">\n        </span><span class="s1">childWrap.style.marginLeft = _child.marginLeft;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (_child.marginRight) {</span><span class="s3">\n        </span><span class="s1">childWrap.style.marginRight = _child.marginRight;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">realChildren.push(childWrap);</span><span class="s3">\n      </span><span class="s1">currPos += _elem.height + _elem.depth;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">minPos = Math.min(minPos, currPos);</span><span class="s3">\n    </span><span class="s1">maxPos = Math.max(maxPos, currPos);</span><span class="s3">\n  </span><span class="s1">} // The vlist contents go in a table-cell with `vertical-align:bottom`.</span><span class="s3">\n  </span><span class="s1">// This cell's bottom edge will determine the containing table's baseline</span><span class="s3">\n  </span><span class="s1">// without overly expanding the containing line-box.</span><span class="s3">\n\n\n  </span><span class="s1">var vlist = makeSpan$2([</span><span class="s3">\&quot;</span><span class="s1">vlist</span><span class="s3">\&quot;</span><span class="s1">], realChildren);</span><span class="s3">\n  </span><span class="s1">vlist.style.height = makeEm(maxPos); // A second row is used if necessary to represent the vlist's depth.</span><span class="s3">\n\n  </span><span class="s1">var rows;</span><span class="s3">\n\n  </span><span class="s1">if (minPos &lt; 0) {</span><span class="s3">\n    </span><span class="s1">// We will define depth in an empty span with display: table-cell.</span><span class="s3">\n    </span><span class="s1">// It should render with the height that we define. But Chrome, in</span><span class="s3">\n    </span><span class="s1">// contenteditable mode only, treats that span as if it contains some</span><span class="s3">\n    </span><span class="s1">// text content. And that min-height over-rides our desired height.</span><span class="s3">\n    </span><span class="s1">// So we put another empty span inside the depth strut span.</span><span class="s3">\n    </span><span class="s1">var emptySpan = makeSpan$2([], []);</span><span class="s3">\n    </span><span class="s1">var depthStrut = makeSpan$2([</span><span class="s3">\&quot;</span><span class="s1">vlist</span><span class="s3">\&quot;</span><span class="s1">], [emptySpan]);</span><span class="s3">\n    </span><span class="s1">depthStrut.style.height = makeEm(-minPos); // Safari wants the first row to have inline content; otherwise it</span><span class="s3">\n    </span><span class="s1">// puts the bottom of the *second* row on the baseline.</span><span class="s3">\n\n    </span><span class="s1">var topStrut = makeSpan$2([</span><span class="s3">\&quot;</span><span class="s1">vlist-s</span><span class="s3">\&quot;</span><span class="s1">], [new SymbolNode(</span><span class="s3">\&quot;\\</span><span class="s1">u200b</span><span class="s3">\&quot;</span><span class="s1">)]);</span><span class="s3">\n    </span><span class="s1">rows = [makeSpan$2([</span><span class="s3">\&quot;</span><span class="s1">vlist-r</span><span class="s3">\&quot;</span><span class="s1">], [vlist, topStrut]), makeSpan$2([</span><span class="s3">\&quot;</span><span class="s1">vlist-r</span><span class="s3">\&quot;</span><span class="s1">], [depthStrut])];</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">rows = [makeSpan$2([</span><span class="s3">\&quot;</span><span class="s1">vlist-r</span><span class="s3">\&quot;</span><span class="s1">], [vlist])];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var vtable = makeSpan$2([</span><span class="s3">\&quot;</span><span class="s1">vlist-t</span><span class="s3">\&quot;</span><span class="s1">], rows);</span><span class="s3">\n\n  </span><span class="s1">if (rows.length === 2) {</span><span class="s3">\n    </span><span class="s1">vtable.classes.push(</span><span class="s3">\&quot;</span><span class="s1">vlist-t2</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">vtable.height = maxPos;</span><span class="s3">\n  </span><span class="s1">vtable.depth = -minPos;</span><span class="s3">\n  </span><span class="s1">return vtable;</span><span class="s3">\n</span><span class="s1">}; // Glue is a concept from TeX which is a flexible space between elements in</span><span class="s3">\n</span><span class="s1">// either a vertical or horizontal list. In KaTeX, at least for now, it's</span><span class="s3">\n</span><span class="s1">// static space between elements in a horizontal layout.</span><span class="s3">\n\n\n</span><span class="s1">var makeGlue = (measurement, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">// Make an empty span for the space</span><span class="s3">\n  </span><span class="s1">var rule = makeSpan$2([</span><span class="s3">\&quot;</span><span class="s1">mspace</span><span class="s3">\&quot;</span><span class="s1">], [], options);</span><span class="s3">\n  </span><span class="s1">var size = calculateSize(measurement, options);</span><span class="s3">\n  </span><span class="s1">rule.style.marginRight = makeEm(size);</span><span class="s3">\n  </span><span class="s1">return rule;</span><span class="s3">\n</span><span class="s1">}; // Takes font options, and returns the appropriate fontLookup name</span><span class="s3">\n\n\n</span><span class="s1">var retrieveTextFontName = function retrieveTextFontName(fontFamily, fontWeight, fontShape) {</span><span class="s3">\n  </span><span class="s1">var baseFontName = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n  </span><span class="s1">switch (fontFamily) {</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">amsrm</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">baseFontName = </span><span class="s3">\&quot;</span><span class="s1">AMS</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">textrm</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">baseFontName = </span><span class="s3">\&quot;</span><span class="s1">Main</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">textsf</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">baseFontName = </span><span class="s3">\&quot;</span><span class="s1">SansSerif</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">texttt</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">baseFontName = </span><span class="s3">\&quot;</span><span class="s1">Typewriter</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n\n    </span><span class="s1">default:</span><span class="s3">\n      </span><span class="s1">baseFontName = fontFamily;</span><span class="s3">\n    </span><span class="s1">// use fonts added by a plugin</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var fontStylesName;</span><span class="s3">\n\n  </span><span class="s1">if (fontWeight === </span><span class="s3">\&quot;</span><span class="s1">textbf</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; fontShape === </span><span class="s3">\&quot;</span><span class="s1">textit</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">fontStylesName = </span><span class="s3">\&quot;</span><span class="s1">BoldItalic</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (fontWeight === </span><span class="s3">\&quot;</span><span class="s1">textbf</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">fontStylesName = </span><span class="s3">\&quot;</span><span class="s1">Bold</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (fontWeight === </span><span class="s3">\&quot;</span><span class="s1">textit</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">fontStylesName = </span><span class="s3">\&quot;</span><span class="s1">Italic</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">fontStylesName = </span><span class="s3">\&quot;</span><span class="s1">Regular</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return baseFontName + </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">+ fontStylesName;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Maps TeX font commands to objects containing:</span><span class="s3">\n </span><span class="s1">* - variant: string used for </span><span class="s3">\&quot;</span><span class="s1">mathvariant</span><span class="s3">\&quot; </span><span class="s1">attribute in buildMathML.js</span><span class="s3">\n </span><span class="s1">* - fontName: the </span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot; </span><span class="s1">parameter to fontMetrics.getCharacterMetrics</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">// A map between tex font commands an MathML mathvariant attribute values</span><span class="s3">\n\n\n</span><span class="s1">var fontMap = {</span><span class="s3">\n  </span><span class="s1">// styles</span><span class="s3">\n  \&quot;</span><span class="s1">mathbf</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">variant: </span><span class="s3">\&quot;</span><span class="s1">bold</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">fontName: </span><span class="s3">\&quot;</span><span class="s1">Main-Bold</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">mathrm</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">variant: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">fontName: </span><span class="s3">\&quot;</span><span class="s1">Main-Regular</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">textit</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">variant: </span><span class="s3">\&quot;</span><span class="s1">italic</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">fontName: </span><span class="s3">\&quot;</span><span class="s1">Main-Italic</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">mathit</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">variant: </span><span class="s3">\&quot;</span><span class="s1">italic</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">fontName: </span><span class="s3">\&quot;</span><span class="s1">Main-Italic</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">mathnormal</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">variant: </span><span class="s3">\&quot;</span><span class="s1">italic</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">fontName: </span><span class="s3">\&quot;</span><span class="s1">Math-Italic</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">mathsfit</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">variant: </span><span class="s3">\&quot;</span><span class="s1">sans-serif-italic</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">fontName: </span><span class="s3">\&quot;</span><span class="s1">SansSerif-Italic</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">// </span><span class="s3">\&quot;</span><span class="s1">boldsymbol</span><span class="s3">\&quot; </span><span class="s1">is missing because they require the use of multiple fonts:</span><span class="s3">\n  </span><span class="s1">// Math-BoldItalic and Main-Bold.  This is handled by a special case in</span><span class="s3">\n  </span><span class="s1">// makeOrd which ends up calling boldsymbol.</span><span class="s3">\n  </span><span class="s1">// families</span><span class="s3">\n  \&quot;</span><span class="s1">mathbb</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">variant: </span><span class="s3">\&quot;</span><span class="s1">double-struck</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">fontName: </span><span class="s3">\&quot;</span><span class="s1">AMS-Regular</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">mathcal</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">variant: </span><span class="s3">\&quot;</span><span class="s1">script</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">fontName: </span><span class="s3">\&quot;</span><span class="s1">Caligraphic-Regular</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">mathfrak</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">variant: </span><span class="s3">\&quot;</span><span class="s1">fraktur</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">fontName: </span><span class="s3">\&quot;</span><span class="s1">Fraktur-Regular</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">mathscr</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">variant: </span><span class="s3">\&quot;</span><span class="s1">script</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">fontName: </span><span class="s3">\&quot;</span><span class="s1">Script-Regular</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">mathsf</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">variant: </span><span class="s3">\&quot;</span><span class="s1">sans-serif</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">fontName: </span><span class="s3">\&quot;</span><span class="s1">SansSerif-Regular</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">mathtt</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">variant: </span><span class="s3">\&quot;</span><span class="s1">monospace</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">fontName: </span><span class="s3">\&quot;</span><span class="s1">Typewriter-Regular</span><span class="s3">\&quot;\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var svgData = {</span><span class="s3">\n  </span><span class="s1">//   path, width, height</span><span class="s3">\n  </span><span class="s1">vec: [</span><span class="s3">\&quot;</span><span class="s1">vec</span><span class="s3">\&quot;</span><span class="s1">, 0.471, 0.714],</span><span class="s3">\n  </span><span class="s1">// values from the font glyph</span><span class="s3">\n  </span><span class="s1">oiintSize1: [</span><span class="s3">\&quot;</span><span class="s1">oiintSize1</span><span class="s3">\&quot;</span><span class="s1">, 0.957, 0.499],</span><span class="s3">\n  </span><span class="s1">// oval to overlay the integrand</span><span class="s3">\n  </span><span class="s1">oiintSize2: [</span><span class="s3">\&quot;</span><span class="s1">oiintSize2</span><span class="s3">\&quot;</span><span class="s1">, 1.472, 0.659],</span><span class="s3">\n  </span><span class="s1">oiiintSize1: [</span><span class="s3">\&quot;</span><span class="s1">oiiintSize1</span><span class="s3">\&quot;</span><span class="s1">, 1.304, 0.499],</span><span class="s3">\n  </span><span class="s1">oiiintSize2: [</span><span class="s3">\&quot;</span><span class="s1">oiiintSize2</span><span class="s3">\&quot;</span><span class="s1">, 1.98, 0.659]</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var staticSvg = function staticSvg(value, options) {</span><span class="s3">\n  </span><span class="s1">// Create a span with inline SVG for the element.</span><span class="s3">\n  </span><span class="s1">var [pathName, width, height] = svgData[value];</span><span class="s3">\n  </span><span class="s1">var path = new PathNode(pathName);</span><span class="s3">\n  </span><span class="s1">var svgNode = new SvgNode([path], {</span><span class="s3">\n    \&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">: makeEm(width),</span><span class="s3">\n    \&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">: makeEm(height),</span><span class="s3">\n    </span><span class="s1">// Override CSS rule `.katex svg { width: 100% }`</span><span class="s3">\n    \&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">width:</span><span class="s3">\&quot; </span><span class="s1">+ makeEm(width),</span><span class="s3">\n    \&quot;</span><span class="s1">viewBox</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0 0 </span><span class="s3">\&quot; </span><span class="s1">+ 1000 * width + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ 1000 * height,</span><span class="s3">\n    \&quot;</span><span class="s1">preserveAspectRatio</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">xMinYMin</span><span class="s3">\&quot;\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">var span = makeSvgSpan([</span><span class="s3">\&quot;</span><span class="s1">overlay</span><span class="s3">\&quot;</span><span class="s1">], [svgNode], options);</span><span class="s3">\n  </span><span class="s1">span.height = height;</span><span class="s3">\n  </span><span class="s1">span.style.height = makeEm(height);</span><span class="s3">\n  </span><span class="s1">span.style.width = makeEm(width);</span><span class="s3">\n  </span><span class="s1">return span;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var buildCommon = {</span><span class="s3">\n  </span><span class="s1">fontMap,</span><span class="s3">\n  </span><span class="s1">makeSymbol,</span><span class="s3">\n  </span><span class="s1">mathsym,</span><span class="s3">\n  </span><span class="s1">makeSpan: makeSpan$2,</span><span class="s3">\n  </span><span class="s1">makeSvgSpan,</span><span class="s3">\n  </span><span class="s1">makeLineSpan,</span><span class="s3">\n  </span><span class="s1">makeAnchor,</span><span class="s3">\n  </span><span class="s1">makeFragment,</span><span class="s3">\n  </span><span class="s1">wrapFragment,</span><span class="s3">\n  </span><span class="s1">makeVList,</span><span class="s3">\n  </span><span class="s1">makeOrd,</span><span class="s3">\n  </span><span class="s1">makeGlue,</span><span class="s3">\n  </span><span class="s1">staticSvg,</span><span class="s3">\n  </span><span class="s1">svgData,</span><span class="s3">\n  </span><span class="s1">tryCombineChars</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Describes spaces between different classes of atoms.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var thinspace = {</span><span class="s3">\n  </span><span class="s1">number: 3,</span><span class="s3">\n  </span><span class="s1">unit: </span><span class="s3">\&quot;</span><span class="s1">mu</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var mediumspace = {</span><span class="s3">\n  </span><span class="s1">number: 4,</span><span class="s3">\n  </span><span class="s1">unit: </span><span class="s3">\&quot;</span><span class="s1">mu</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var thickspace = {</span><span class="s3">\n  </span><span class="s1">number: 5,</span><span class="s3">\n  </span><span class="s1">unit: </span><span class="s3">\&quot;</span><span class="s1">mu</span><span class="s3">\&quot;\n</span><span class="s1">}; // Making the type below exact with all optional fields doesn't work due to</span><span class="s3">\n</span><span class="s1">// - https://github.com/facebook/flow/issues/4582</span><span class="s3">\n</span><span class="s1">// - https://github.com/facebook/flow/issues/5688</span><span class="s3">\n</span><span class="s1">// However, since *all* fields are optional, $Shape&lt;&gt; works as suggested in 5688</span><span class="s3">\n</span><span class="s1">// above.</span><span class="s3">\n\n</span><span class="s1">// Spacing relationships for display and text styles</span><span class="s3">\n</span><span class="s1">var spacings = {</span><span class="s3">\n  </span><span class="s1">mord: {</span><span class="s3">\n    </span><span class="s1">mop: thinspace,</span><span class="s3">\n    </span><span class="s1">mbin: mediumspace,</span><span class="s3">\n    </span><span class="s1">mrel: thickspace,</span><span class="s3">\n    </span><span class="s1">minner: thinspace</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mop: {</span><span class="s3">\n    </span><span class="s1">mord: thinspace,</span><span class="s3">\n    </span><span class="s1">mop: thinspace,</span><span class="s3">\n    </span><span class="s1">mrel: thickspace,</span><span class="s3">\n    </span><span class="s1">minner: thinspace</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mbin: {</span><span class="s3">\n    </span><span class="s1">mord: mediumspace,</span><span class="s3">\n    </span><span class="s1">mop: mediumspace,</span><span class="s3">\n    </span><span class="s1">mopen: mediumspace,</span><span class="s3">\n    </span><span class="s1">minner: mediumspace</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mrel: {</span><span class="s3">\n    </span><span class="s1">mord: thickspace,</span><span class="s3">\n    </span><span class="s1">mop: thickspace,</span><span class="s3">\n    </span><span class="s1">mopen: thickspace,</span><span class="s3">\n    </span><span class="s1">minner: thickspace</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mopen: {},</span><span class="s3">\n  </span><span class="s1">mclose: {</span><span class="s3">\n    </span><span class="s1">mop: thinspace,</span><span class="s3">\n    </span><span class="s1">mbin: mediumspace,</span><span class="s3">\n    </span><span class="s1">mrel: thickspace,</span><span class="s3">\n    </span><span class="s1">minner: thinspace</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mpunct: {</span><span class="s3">\n    </span><span class="s1">mord: thinspace,</span><span class="s3">\n    </span><span class="s1">mop: thinspace,</span><span class="s3">\n    </span><span class="s1">mrel: thickspace,</span><span class="s3">\n    </span><span class="s1">mopen: thinspace,</span><span class="s3">\n    </span><span class="s1">mclose: thinspace,</span><span class="s3">\n    </span><span class="s1">mpunct: thinspace,</span><span class="s3">\n    </span><span class="s1">minner: thinspace</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">minner: {</span><span class="s3">\n    </span><span class="s1">mord: thinspace,</span><span class="s3">\n    </span><span class="s1">mop: thinspace,</span><span class="s3">\n    </span><span class="s1">mbin: mediumspace,</span><span class="s3">\n    </span><span class="s1">mrel: thickspace,</span><span class="s3">\n    </span><span class="s1">mopen: thinspace,</span><span class="s3">\n    </span><span class="s1">mpunct: thinspace,</span><span class="s3">\n    </span><span class="s1">minner: thinspace</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}; // Spacing relationships for script and scriptscript styles</span><span class="s3">\n\n</span><span class="s1">var tightSpacings = {</span><span class="s3">\n  </span><span class="s1">mord: {</span><span class="s3">\n    </span><span class="s1">mop: thinspace</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mop: {</span><span class="s3">\n    </span><span class="s1">mord: thinspace,</span><span class="s3">\n    </span><span class="s1">mop: thinspace</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mbin: {},</span><span class="s3">\n  </span><span class="s1">mrel: {},</span><span class="s3">\n  </span><span class="s1">mopen: {},</span><span class="s3">\n  </span><span class="s1">mclose: {</span><span class="s3">\n    </span><span class="s1">mop: thinspace</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mpunct: {},</span><span class="s3">\n  </span><span class="s1">minner: {</span><span class="s3">\n    </span><span class="s1">mop: thinspace</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">/** Context provided to function handlers for error messages. */</span><span class="s3">\n</span><span class="s1">// Note: reverse the order of the return type union will cause a flow error.</span><span class="s3">\n</span><span class="s1">// See https://github.com/facebook/flow/issues/3663.</span><span class="s3">\n</span><span class="s1">// More general version of `HtmlBuilder` for nodes (e.g. </span><span class="s3">\\</span><span class="s1">sum, accent types)</span><span class="s3">\n</span><span class="s1">// whose presence impacts super/subscripting. In this case, ParseNode&lt;</span><span class="s3">\&quot;</span><span class="s1">supsub</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n</span><span class="s1">// delegates its HTML building to the HtmlBuilder corresponding to these nodes.</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Final function spec for use at parse time.</span><span class="s3">\n </span><span class="s1">* This is almost identical to `FunctionPropSpec`, except it</span><span class="s3">\n </span><span class="s1">* 1. includes the function handler, and</span><span class="s3">\n </span><span class="s1">* 2. requires all arguments except argTypes.</span><span class="s3">\n </span><span class="s1">* It is generated by `defineFunction()` below.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* All registered functions.</span><span class="s3">\n </span><span class="s1">* `functions.js` just exports this same dictionary again and makes it public.</span><span class="s3">\n </span><span class="s1">* `Parser.js` requires this dictionary.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var _functions = {};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* All HTML builders. Should be only used in the `define*` and the `build*ML`</span><span class="s3">\n </span><span class="s1">* functions.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">var _htmlGroupBuilders = {};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* All MathML builders. Should be only used in the `define*` and the `build*ML`</span><span class="s3">\n </span><span class="s1">* functions.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">var _mathmlGroupBuilders = {};</span><span class="s3">\n</span><span class="s1">function defineFunction(_ref) {</span><span class="s3">\n  </span><span class="s1">var {</span><span class="s3">\n    </span><span class="s1">type,</span><span class="s3">\n    </span><span class="s1">names,</span><span class="s3">\n    </span><span class="s1">props,</span><span class="s3">\n    </span><span class="s1">handler,</span><span class="s3">\n    </span><span class="s1">htmlBuilder,</span><span class="s3">\n    </span><span class="s1">mathmlBuilder</span><span class="s3">\n  </span><span class="s1">} = _ref;</span><span class="s3">\n  </span><span class="s1">// Set default values of functions</span><span class="s3">\n  </span><span class="s1">var data = {</span><span class="s3">\n    </span><span class="s1">type,</span><span class="s3">\n    </span><span class="s1">numArgs: props.numArgs,</span><span class="s3">\n    </span><span class="s1">argTypes: props.argTypes,</span><span class="s3">\n    </span><span class="s1">allowedInArgument: !!props.allowedInArgument,</span><span class="s3">\n    </span><span class="s1">allowedInText: !!props.allowedInText,</span><span class="s3">\n    </span><span class="s1">allowedInMath: props.allowedInMath === undefined ? true : props.allowedInMath,</span><span class="s3">\n    </span><span class="s1">numOptionalArgs: props.numOptionalArgs || 0,</span><span class="s3">\n    </span><span class="s1">infix: !!props.infix,</span><span class="s3">\n    </span><span class="s1">primitive: !!props.primitive,</span><span class="s3">\n    </span><span class="s1">handler: handler</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">for (var i = 0; i &lt; names.length; ++i) {</span><span class="s3">\n    </span><span class="s1">_functions[names[i]] = data;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (type) {</span><span class="s3">\n    </span><span class="s1">if (htmlBuilder) {</span><span class="s3">\n      </span><span class="s1">_htmlGroupBuilders[type] = htmlBuilder;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (mathmlBuilder) {</span><span class="s3">\n      </span><span class="s1">_mathmlGroupBuilders[type] = mathmlBuilder;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Use this to register only the HTML and MathML builders for a function (e.g.</span><span class="s3">\n </span><span class="s1">* if the function's ParseNode is generated in Parser.js rather than via a</span><span class="s3">\n </span><span class="s1">* stand-alone handler provided to `defineFunction`).</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">function defineFunctionBuilders(_ref2) {</span><span class="s3">\n  </span><span class="s1">var {</span><span class="s3">\n    </span><span class="s1">type,</span><span class="s3">\n    </span><span class="s1">htmlBuilder,</span><span class="s3">\n    </span><span class="s1">mathmlBuilder</span><span class="s3">\n  </span><span class="s1">} = _ref2;</span><span class="s3">\n  </span><span class="s1">defineFunction({</span><span class="s3">\n    </span><span class="s1">type,</span><span class="s3">\n    </span><span class="s1">names: [],</span><span class="s3">\n    </span><span class="s1">props: {</span><span class="s3">\n      </span><span class="s1">numArgs: 0</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n\n    </span><span class="s1">handler() {</span><span class="s3">\n      </span><span class="s1">throw new Error('Should never be called.');</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n\n    </span><span class="s1">htmlBuilder,</span><span class="s3">\n    </span><span class="s1">mathmlBuilder</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">var normalizeArgument = function normalizeArgument(arg) {</span><span class="s3">\n  </span><span class="s1">return arg.type === </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; arg.body.length === 1 ? arg.body[0] : arg;</span><span class="s3">\n</span><span class="s1">}; // Since the corresponding buildHTML/buildMathML function expects a</span><span class="s3">\n</span><span class="s1">// list of elements, we normalize for different kinds of arguments</span><span class="s3">\n\n</span><span class="s1">var ordargument = function ordargument(arg) {</span><span class="s3">\n  </span><span class="s1">return arg.type === </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot; </span><span class="s1">? arg.body : [arg];</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This file does the main work of building a domTree structure from a parse</span><span class="s3">\n </span><span class="s1">* tree. The entry point is the `buildHTML` function, which takes a parse tree.</span><span class="s3">\n </span><span class="s1">* Then, the buildExpression, buildGroup, and various groupBuilders functions</span><span class="s3">\n </span><span class="s1">* are called, to produce a final HTML tree.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var makeSpan$1 = buildCommon.makeSpan; // Binary atoms (first class `mbin`) change into ordinary atoms (`mord`)</span><span class="s3">\n</span><span class="s1">// depending on their surroundings. See TeXbook pg. 442-446, Rules 5 and 6,</span><span class="s3">\n</span><span class="s1">// and the text before Rule 19.</span><span class="s3">\n\n</span><span class="s1">var binLeftCanceller = [</span><span class="s3">\&quot;</span><span class="s1">leftmost</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mbin</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mopen</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mrel</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mop</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mpunct</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">var binRightCanceller = [</span><span class="s3">\&quot;</span><span class="s1">rightmost</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mrel</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mclose</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mpunct</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">var styleMap$1 = {</span><span class="s3">\n  \&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">: Style$1.DISPLAY,</span><span class="s3">\n  \&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">: Style$1.TEXT,</span><span class="s3">\n  \&quot;</span><span class="s1">script</span><span class="s3">\&quot;</span><span class="s1">: Style$1.SCRIPT,</span><span class="s3">\n  \&quot;</span><span class="s1">scriptscript</span><span class="s3">\&quot;</span><span class="s1">: Style$1.SCRIPTSCRIPT</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var DomEnum = {</span><span class="s3">\n  </span><span class="s1">mord: </span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">mop: </span><span class="s3">\&quot;</span><span class="s1">mop</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">mbin: </span><span class="s3">\&quot;</span><span class="s1">mbin</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">mrel: </span><span class="s3">\&quot;</span><span class="s1">mrel</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">mopen: </span><span class="s3">\&quot;</span><span class="s1">mopen</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">mclose: </span><span class="s3">\&quot;</span><span class="s1">mclose</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">mpunct: </span><span class="s3">\&quot;</span><span class="s1">mpunct</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">minner: </span><span class="s3">\&quot;</span><span class="s1">minner</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Take a list of nodes, build them in order, and return a list of the built</span><span class="s3">\n </span><span class="s1">* nodes. documentFragments are flattened into their contents, so the</span><span class="s3">\n </span><span class="s1">* returned list contains no fragments. `isRealGroup` is true if `expression`</span><span class="s3">\n </span><span class="s1">* is a real group (no atoms will be added on either side), as opposed to</span><span class="s3">\n </span><span class="s1">* a partial group (e.g. one created by </span><span class="s3">\\</span><span class="s1">color). `surrounding` is an array</span><span class="s3">\n </span><span class="s1">* consisting type of nodes that will be added to the left and right.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var buildExpression$1 = function buildExpression(expression, options, isRealGroup, surrounding) {</span><span class="s3">\n  </span><span class="s1">if (surrounding === void 0) {</span><span class="s3">\n    </span><span class="s1">surrounding = [null, null];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// Parse expressions into `groups`.</span><span class="s3">\n  </span><span class="s1">var groups = [];</span><span class="s3">\n\n  </span><span class="s1">for (var i = 0; i &lt; expression.length; i++) {</span><span class="s3">\n    </span><span class="s1">var output = buildGroup$1(expression[i], options);</span><span class="s3">\n\n    </span><span class="s1">if (output instanceof DocumentFragment) {</span><span class="s3">\n      </span><span class="s1">var children = output.children;</span><span class="s3">\n      </span><span class="s1">groups.push(...children);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">groups.push(output);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} // Combine consecutive domTree.symbolNodes into a single symbolNode.</span><span class="s3">\n\n\n  </span><span class="s1">buildCommon.tryCombineChars(groups); // If `expression` is a partial group, let the parent handle spacings</span><span class="s3">\n  </span><span class="s1">// to avoid processing groups multiple times.</span><span class="s3">\n\n  </span><span class="s1">if (!isRealGroup) {</span><span class="s3">\n    </span><span class="s1">return groups;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var glueOptions = options;</span><span class="s3">\n\n  </span><span class="s1">if (expression.length === 1) {</span><span class="s3">\n    </span><span class="s1">var node = expression[0];</span><span class="s3">\n\n    </span><span class="s1">if (node.type === </span><span class="s3">\&quot;</span><span class="s1">sizing</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">glueOptions = options.havingSize(node.size);</span><span class="s3">\n    </span><span class="s1">} else if (node.type === </span><span class="s3">\&quot;</span><span class="s1">styling</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">glueOptions = options.havingStyle(styleMap$1[node.style]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} // Dummy spans for determining spacings between surrounding atoms.</span><span class="s3">\n  </span><span class="s1">// If `expression` has no atoms on the left or right, class </span><span class="s3">\&quot;</span><span class="s1">leftmost</span><span class="s3">\&quot;\n  </span><span class="s1">// or </span><span class="s3">\&quot;</span><span class="s1">rightmost</span><span class="s3">\&quot;</span><span class="s1">, respectively, is used to indicate it.</span><span class="s3">\n\n\n  </span><span class="s1">var dummyPrev = makeSpan$1([surrounding[0] || </span><span class="s3">\&quot;</span><span class="s1">leftmost</span><span class="s3">\&quot;</span><span class="s1">], [], options);</span><span class="s3">\n  </span><span class="s1">var dummyNext = makeSpan$1([surrounding[1] || </span><span class="s3">\&quot;</span><span class="s1">rightmost</span><span class="s3">\&quot;</span><span class="s1">], [], options); // TODO: These code assumes that a node's math class is the first element</span><span class="s3">\n  </span><span class="s1">// of its `classes` array. A later cleanup should ensure this, for</span><span class="s3">\n  </span><span class="s1">// instance by changing the signature of `makeSpan`.</span><span class="s3">\n  </span><span class="s1">// Before determining what spaces to insert, perform bin cancellation.</span><span class="s3">\n  </span><span class="s1">// Binary operators change to ordinary symbols in some contexts.</span><span class="s3">\n\n  </span><span class="s1">var isRoot = isRealGroup === </span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">traverseNonSpaceNodes(groups, (node, prev) =&gt; {</span><span class="s3">\n    </span><span class="s1">var prevType = prev.classes[0];</span><span class="s3">\n    </span><span class="s1">var type = node.classes[0];</span><span class="s3">\n\n    </span><span class="s1">if (prevType === </span><span class="s3">\&quot;</span><span class="s1">mbin</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; utils.contains(binRightCanceller, type)) {</span><span class="s3">\n      </span><span class="s1">prev.classes[0] = </span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">} else if (type === </span><span class="s3">\&quot;</span><span class="s1">mbin</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; utils.contains(binLeftCanceller, prevType)) {</span><span class="s3">\n      </span><span class="s1">node.classes[0] = </span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}, {</span><span class="s3">\n    </span><span class="s1">node: dummyPrev</span><span class="s3">\n  </span><span class="s1">}, dummyNext, isRoot);</span><span class="s3">\n  </span><span class="s1">traverseNonSpaceNodes(groups, (node, prev) =&gt; {</span><span class="s3">\n    </span><span class="s1">var prevType = getTypeOfDomTree(prev);</span><span class="s3">\n    </span><span class="s1">var type = getTypeOfDomTree(node); // 'mtight' indicates that the node is script or scriptscript style.</span><span class="s3">\n\n    </span><span class="s1">var space = prevType &amp;&amp; type ? node.hasClass(</span><span class="s3">\&quot;</span><span class="s1">mtight</span><span class="s3">\&quot;</span><span class="s1">) ? tightSpacings[prevType][type] : spacings[prevType][type] : null;</span><span class="s3">\n\n    </span><span class="s1">if (space) {</span><span class="s3">\n      </span><span class="s1">// Insert glue (spacing) after the `prev`.</span><span class="s3">\n      </span><span class="s1">return buildCommon.makeGlue(space, glueOptions);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}, {</span><span class="s3">\n    </span><span class="s1">node: dummyPrev</span><span class="s3">\n  </span><span class="s1">}, dummyNext, isRoot);</span><span class="s3">\n  </span><span class="s1">return groups;</span><span class="s3">\n</span><span class="s1">}; // Depth-first traverse non-space `nodes`, calling `callback` with the current and</span><span class="s3">\n</span><span class="s1">// previous node as arguments, optionally returning a node to insert after the</span><span class="s3">\n</span><span class="s1">// previous node. `prev` is an object with the previous node and `insertAfter`</span><span class="s3">\n</span><span class="s1">// function to insert after it. `next` is a node that will be added to the right.</span><span class="s3">\n</span><span class="s1">// Used for bin cancellation and inserting spacings.</span><span class="s3">\n\n</span><span class="s1">var traverseNonSpaceNodes = function traverseNonSpaceNodes(nodes, callback, prev, next, isRoot) {</span><span class="s3">\n  </span><span class="s1">if (next) {</span><span class="s3">\n    </span><span class="s1">// temporarily append the right node, if exists</span><span class="s3">\n    </span><span class="s1">nodes.push(next);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var i = 0;</span><span class="s3">\n\n  </span><span class="s1">for (; i &lt; nodes.length; i++) {</span><span class="s3">\n    </span><span class="s1">var node = nodes[i];</span><span class="s3">\n    </span><span class="s1">var partialGroup = checkPartialGroup(node);</span><span class="s3">\n\n    </span><span class="s1">if (partialGroup) {</span><span class="s3">\n      </span><span class="s1">// Recursive DFS</span><span class="s3">\n      </span><span class="s1">// $FlowFixMe: make nodes a $ReadOnlyArray by returning a new array</span><span class="s3">\n      </span><span class="s1">traverseNonSpaceNodes(partialGroup.children, callback, prev, null, isRoot);</span><span class="s3">\n      </span><span class="s1">continue;</span><span class="s3">\n    </span><span class="s1">} // Ignore explicit spaces (e.g., </span><span class="s3">\\</span><span class="s1">;, </span><span class="s3">\\</span><span class="s1">,) when determining what implicit</span><span class="s3">\n    </span><span class="s1">// spacing should go between atoms of different classes</span><span class="s3">\n\n\n    </span><span class="s1">var nonspace = !node.hasClass(</span><span class="s3">\&quot;</span><span class="s1">mspace</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">if (nonspace) {</span><span class="s3">\n      </span><span class="s1">var result = callback(node, prev.node);</span><span class="s3">\n\n      </span><span class="s1">if (result) {</span><span class="s3">\n        </span><span class="s1">if (prev.insertAfter) {</span><span class="s3">\n          </span><span class="s1">prev.insertAfter(result);</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">// insert at front</span><span class="s3">\n          </span><span class="s1">nodes.unshift(result);</span><span class="s3">\n          </span><span class="s1">i++;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (nonspace) {</span><span class="s3">\n      </span><span class="s1">prev.node = node;</span><span class="s3">\n    </span><span class="s1">} else if (isRoot &amp;&amp; node.hasClass(</span><span class="s3">\&quot;</span><span class="s1">newline</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n      </span><span class="s1">prev.node = makeSpan$1([</span><span class="s3">\&quot;</span><span class="s1">leftmost</span><span class="s3">\&quot;</span><span class="s1">]); // treat like beginning of line</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">prev.insertAfter = (index =&gt; n =&gt; {</span><span class="s3">\n      </span><span class="s1">nodes.splice(index + 1, 0, n);</span><span class="s3">\n      </span><span class="s1">i++;</span><span class="s3">\n    </span><span class="s1">})(i);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (next) {</span><span class="s3">\n    </span><span class="s1">nodes.pop();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}; // Check if given node is a partial group, i.e., does not affect spacing around.</span><span class="s3">\n\n\n</span><span class="s1">var checkPartialGroup = function checkPartialGroup(node) {</span><span class="s3">\n  </span><span class="s1">if (node instanceof DocumentFragment || node instanceof Anchor || node instanceof Span &amp;&amp; node.hasClass(</span><span class="s3">\&quot;</span><span class="s1">enclosing</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return null;</span><span class="s3">\n</span><span class="s1">}; // Return the outermost node of a domTree.</span><span class="s3">\n\n\n</span><span class="s1">var getOutermostNode = function getOutermostNode(node, side) {</span><span class="s3">\n  </span><span class="s1">var partialGroup = checkPartialGroup(node);</span><span class="s3">\n\n  </span><span class="s1">if (partialGroup) {</span><span class="s3">\n    </span><span class="s1">var children = partialGroup.children;</span><span class="s3">\n\n    </span><span class="s1">if (children.length) {</span><span class="s3">\n      </span><span class="s1">if (side === </span><span class="s3">\&quot;</span><span class="s1">right</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return getOutermostNode(children[children.length - 1], </span><span class="s3">\&quot;</span><span class="s1">right</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">} else if (side === </span><span class="s3">\&quot;</span><span class="s1">left</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return getOutermostNode(children[0], </span><span class="s3">\&quot;</span><span class="s1">left</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return node;</span><span class="s3">\n</span><span class="s1">}; // Return math atom class (mclass) of a domTree.</span><span class="s3">\n</span><span class="s1">// If `side` is given, it will get the type of the outermost node at given side.</span><span class="s3">\n\n\n</span><span class="s1">var getTypeOfDomTree = function getTypeOfDomTree(node, side) {</span><span class="s3">\n  </span><span class="s1">if (!node) {</span><span class="s3">\n    </span><span class="s1">return null;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (side) {</span><span class="s3">\n    </span><span class="s1">node = getOutermostNode(node, side);</span><span class="s3">\n  </span><span class="s1">} // This makes a lot of assumptions as to where the type of atom</span><span class="s3">\n  </span><span class="s1">// appears.  We should do a better job of enforcing this.</span><span class="s3">\n\n\n  </span><span class="s1">return DomEnum[node.classes[0]] || null;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var makeNullDelimiter = function makeNullDelimiter(options, classes) {</span><span class="s3">\n  </span><span class="s1">var moreClasses = [</span><span class="s3">\&quot;</span><span class="s1">nulldelimiter</span><span class="s3">\&quot;</span><span class="s1">].concat(options.baseSizingClasses());</span><span class="s3">\n  </span><span class="s1">return makeSpan$1(classes.concat(moreClasses));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* buildGroup is the function that takes a group and calls the correct groupType</span><span class="s3">\n </span><span class="s1">* function for it. It also handles the interaction of size and style changes</span><span class="s3">\n </span><span class="s1">* between parents and children.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">var buildGroup$1 = function buildGroup(group, options, baseOptions) {</span><span class="s3">\n  </span><span class="s1">if (!group) {</span><span class="s3">\n    </span><span class="s1">return makeSpan$1();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (_htmlGroupBuilders[group.type]) {</span><span class="s3">\n    </span><span class="s1">// Call the groupBuilders function</span><span class="s3">\n    </span><span class="s1">// $FlowFixMe</span><span class="s3">\n    </span><span class="s1">var groupNode = _htmlGroupBuilders[group.type](group, options); // If the size changed between the parent and the current group, account</span><span class="s3">\n    </span><span class="s1">// for that size difference.</span><span class="s3">\n\n    </span><span class="s1">if (baseOptions &amp;&amp; options.size !== baseOptions.size) {</span><span class="s3">\n      </span><span class="s1">groupNode = makeSpan$1(options.sizingClasses(baseOptions), [groupNode], options);</span><span class="s3">\n      </span><span class="s1">var multiplier = options.sizeMultiplier / baseOptions.sizeMultiplier;</span><span class="s3">\n      </span><span class="s1">groupNode.height *= multiplier;</span><span class="s3">\n      </span><span class="s1">groupNode.depth *= multiplier;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return groupNode;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Got group of unknown type: '</span><span class="s3">\&quot; </span><span class="s1">+ group.type + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Combine an array of HTML DOM nodes (e.g., the output of `buildExpression`)</span><span class="s3">\n </span><span class="s1">* into an unbreakable HTML node of class .base, with proper struts to</span><span class="s3">\n </span><span class="s1">* guarantee correct vertical extent.  `buildHTML` calls this repeatedly to</span><span class="s3">\n </span><span class="s1">* make up the entire expression as a sequence of unbreakable units.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">function buildHTMLUnbreakable(children, options) {</span><span class="s3">\n  </span><span class="s1">// Compute height and depth of this chunk.</span><span class="s3">\n  </span><span class="s1">var body = makeSpan$1([</span><span class="s3">\&quot;</span><span class="s1">base</span><span class="s3">\&quot;</span><span class="s1">], children, options); // Add strut, which ensures that the top of the HTML element falls at</span><span class="s3">\n  </span><span class="s1">// the height of the expression, and the bottom of the HTML element</span><span class="s3">\n  </span><span class="s1">// falls at the depth of the expression.</span><span class="s3">\n\n  </span><span class="s1">var strut = makeSpan$1([</span><span class="s3">\&quot;</span><span class="s1">strut</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n  </span><span class="s1">strut.style.height = makeEm(body.height + body.depth);</span><span class="s3">\n\n  </span><span class="s1">if (body.depth) {</span><span class="s3">\n    </span><span class="s1">strut.style.verticalAlign = makeEm(-body.depth);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">body.children.unshift(strut);</span><span class="s3">\n  </span><span class="s1">return body;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Take an entire parse tree, and build it into an appropriate set of HTML</span><span class="s3">\n </span><span class="s1">* nodes.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">function buildHTML(tree, options) {</span><span class="s3">\n  </span><span class="s1">// Strip off outer tag wrapper for processing below.</span><span class="s3">\n  </span><span class="s1">var tag = null;</span><span class="s3">\n\n  </span><span class="s1">if (tree.length === 1 &amp;&amp; tree[0].type === </span><span class="s3">\&quot;</span><span class="s1">tag</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">tag = tree[0].tag;</span><span class="s3">\n    </span><span class="s1">tree = tree[0].body;</span><span class="s3">\n  </span><span class="s1">} // Build the expression contained in the tree</span><span class="s3">\n\n\n  </span><span class="s1">var expression = buildExpression$1(tree, options, </span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">var eqnNum;</span><span class="s3">\n\n  </span><span class="s1">if (expression.length === 2 &amp;&amp; expression[1].hasClass(</span><span class="s3">\&quot;</span><span class="s1">tag</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n    </span><span class="s1">// An environment with automatic equation numbers, e.g. {gather}.</span><span class="s3">\n    </span><span class="s1">eqnNum = expression.pop();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var children = []; // Create one base node for each chunk between potential line breaks.</span><span class="s3">\n  </span><span class="s1">// The TeXBook [p.173] says </span><span class="s3">\&quot;</span><span class="s1">A formula will be broken only after a</span><span class="s3">\n  </span><span class="s1">// relation symbol like $=$ or $&lt;$ or $</span><span class="s3">\\</span><span class="s1">rightarrow$, or after a binary</span><span class="s3">\n  </span><span class="s1">// operation symbol like $+$ or $-$ or $</span><span class="s3">\\</span><span class="s1">times$, where the relation or</span><span class="s3">\n  </span><span class="s1">// binary operation is on the ``outer level'' of the formula (i.e., not</span><span class="s3">\n  </span><span class="s1">// enclosed in {...} and not part of an </span><span class="s3">\\</span><span class="s1">over construction).</span><span class="s3">\&quot;\n\n  </span><span class="s1">var parts = [];</span><span class="s3">\n\n  </span><span class="s1">for (var i = 0; i &lt; expression.length; i++) {</span><span class="s3">\n    </span><span class="s1">parts.push(expression[i]);</span><span class="s3">\n\n    </span><span class="s1">if (expression[i].hasClass(</span><span class="s3">\&quot;</span><span class="s1">mbin</span><span class="s3">\&quot;</span><span class="s1">) || expression[i].hasClass(</span><span class="s3">\&quot;</span><span class="s1">mrel</span><span class="s3">\&quot;</span><span class="s1">) || expression[i].hasClass(</span><span class="s3">\&quot;</span><span class="s1">allowbreak</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n      </span><span class="s1">// Put any post-operator glue on same line as operator.</span><span class="s3">\n      </span><span class="s1">// Watch for </span><span class="s3">\\</span><span class="s1">nobreak along the way, and stop at </span><span class="s3">\\</span><span class="s1">newline.</span><span class="s3">\n      </span><span class="s1">var nobreak = false;</span><span class="s3">\n\n      </span><span class="s1">while (i &lt; expression.length - 1 &amp;&amp; expression[i + 1].hasClass(</span><span class="s3">\&quot;</span><span class="s1">mspace</span><span class="s3">\&quot;</span><span class="s1">) &amp;&amp; !expression[i + 1].hasClass(</span><span class="s3">\&quot;</span><span class="s1">newline</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n        </span><span class="s1">i++;</span><span class="s3">\n        </span><span class="s1">parts.push(expression[i]);</span><span class="s3">\n\n        </span><span class="s1">if (expression[i].hasClass(</span><span class="s3">\&quot;</span><span class="s1">nobreak</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n          </span><span class="s1">nobreak = true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} // Don't allow break if </span><span class="s3">\\</span><span class="s1">nobreak among the post-operator glue.</span><span class="s3">\n\n\n      </span><span class="s1">if (!nobreak) {</span><span class="s3">\n        </span><span class="s1">children.push(buildHTMLUnbreakable(parts, options));</span><span class="s3">\n        </span><span class="s1">parts = [];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (expression[i].hasClass(</span><span class="s3">\&quot;</span><span class="s1">newline</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n      </span><span class="s1">// Write the line except the newline</span><span class="s3">\n      </span><span class="s1">parts.pop();</span><span class="s3">\n\n      </span><span class="s1">if (parts.length &gt; 0) {</span><span class="s3">\n        </span><span class="s1">children.push(buildHTMLUnbreakable(parts, options));</span><span class="s3">\n        </span><span class="s1">parts = [];</span><span class="s3">\n      </span><span class="s1">} // Put the newline at the top level</span><span class="s3">\n\n\n      </span><span class="s1">children.push(expression[i]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (parts.length &gt; 0) {</span><span class="s3">\n    </span><span class="s1">children.push(buildHTMLUnbreakable(parts, options));</span><span class="s3">\n  </span><span class="s1">} // Now, if there was a tag, build it too and append it as a final child.</span><span class="s3">\n\n\n  </span><span class="s1">var tagChild;</span><span class="s3">\n\n  </span><span class="s1">if (tag) {</span><span class="s3">\n    </span><span class="s1">tagChild = buildHTMLUnbreakable(buildExpression$1(tag, options, true));</span><span class="s3">\n    </span><span class="s1">tagChild.classes = [</span><span class="s3">\&quot;</span><span class="s1">tag</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n    </span><span class="s1">children.push(tagChild);</span><span class="s3">\n  </span><span class="s1">} else if (eqnNum) {</span><span class="s3">\n    </span><span class="s1">children.push(eqnNum);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var htmlNode = makeSpan$1([</span><span class="s3">\&quot;</span><span class="s1">katex-html</span><span class="s3">\&quot;</span><span class="s1">], children);</span><span class="s3">\n  </span><span class="s1">htmlNode.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-hidden</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">); // Adjust the strut of the tag to be the maximum height of all children</span><span class="s3">\n  </span><span class="s1">// (the height of the enclosing htmlNode) for proper vertical alignment.</span><span class="s3">\n\n  </span><span class="s1">if (tagChild) {</span><span class="s3">\n    </span><span class="s1">var strut = tagChild.children[0];</span><span class="s3">\n    </span><span class="s1">strut.style.height = makeEm(htmlNode.height + htmlNode.depth);</span><span class="s3">\n\n    </span><span class="s1">if (htmlNode.depth) {</span><span class="s3">\n      </span><span class="s1">strut.style.verticalAlign = makeEm(-htmlNode.depth);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return htmlNode;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* These objects store data about MathML nodes. This is the MathML equivalent</span><span class="s3">\n </span><span class="s1">* of the types in domTree.js. Since MathML handles its own rendering, and</span><span class="s3">\n </span><span class="s1">* since we're mainly using MathML to improve accessibility, we don't manage</span><span class="s3">\n </span><span class="s1">* any of the styling state that the plain DOM nodes do.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* The `toNode` and `toMarkup` functions work similarly to how they do in</span><span class="s3">\n </span><span class="s1">* domTree.js, creating namespaced DOM nodes and HTML text markup respectively.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function newDocumentFragment(children) {</span><span class="s3">\n  </span><span class="s1">return new DocumentFragment(children);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This node represents a general purpose MathML node of any type. The</span><span class="s3">\n </span><span class="s1">* constructor requires the type of node to create (for example, `</span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">` or</span><span class="s3">\n </span><span class="s1">* `</span><span class="s3">\&quot;</span><span class="s1">mspace</span><span class="s3">\&quot;</span><span class="s1">`, corresponding to `&lt;mo&gt;` and `&lt;mspace&gt;` tags).</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">class MathNode {</span><span class="s3">\n  </span><span class="s1">constructor(type, children, classes) {</span><span class="s3">\n    </span><span class="s1">this.type = void 0;</span><span class="s3">\n    </span><span class="s1">this.attributes = void 0;</span><span class="s3">\n    </span><span class="s1">this.children = void 0;</span><span class="s3">\n    </span><span class="s1">this.classes = void 0;</span><span class="s3">\n    </span><span class="s1">this.type = type;</span><span class="s3">\n    </span><span class="s1">this.attributes = {};</span><span class="s3">\n    </span><span class="s1">this.children = children || [];</span><span class="s3">\n    </span><span class="s1">this.classes = classes || [];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Sets an attribute on a MathML node. MathML depends on attributes to convey a</span><span class="s3">\n   </span><span class="s1">* semantic content, so this is used heavily.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">setAttribute(name, value) {</span><span class="s3">\n    </span><span class="s1">this.attributes[name] = value;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Gets an attribute on a MathML node.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">getAttribute(name) {</span><span class="s3">\n    </span><span class="s1">return this.attributes[name];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Converts the math node into a MathML-namespaced DOM element.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">toNode() {</span><span class="s3">\n    </span><span class="s1">var node = document.createElementNS(</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/1998/Math/MathML</span><span class="s3">\&quot;</span><span class="s1">, this.type);</span><span class="s3">\n\n    </span><span class="s1">for (var attr in this.attributes) {</span><span class="s3">\n      </span><span class="s1">if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {</span><span class="s3">\n        </span><span class="s1">node.setAttribute(attr, this.attributes[attr]);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (this.classes.length &gt; 0) {</span><span class="s3">\n      </span><span class="s1">node.className = createClass(this.classes);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">for (var i = 0; i &lt; this.children.length; i++) {</span><span class="s3">\n      </span><span class="s1">// Combine multiple TextNodes into one TextNode, to prevent</span><span class="s3">\n      </span><span class="s1">// screen readers from reading each as a separate word [#3995]</span><span class="s3">\n      </span><span class="s1">if (this.children[i] instanceof TextNode &amp;&amp; this.children[i + 1] instanceof TextNode) {</span><span class="s3">\n        </span><span class="s1">var text = this.children[i].toText() + this.children[++i].toText();</span><span class="s3">\n\n        </span><span class="s1">while (this.children[i + 1] instanceof TextNode) {</span><span class="s3">\n          </span><span class="s1">text += this.children[++i].toText();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">node.appendChild(new TextNode(text).toNode());</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">node.appendChild(this.children[i].toNode());</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Converts the math node into an HTML markup string.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">toMarkup() {</span><span class="s3">\n    </span><span class="s1">var markup = </span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot; </span><span class="s1">+ this.type; // Add the attributes</span><span class="s3">\n\n    </span><span class="s1">for (var attr in this.attributes) {</span><span class="s3">\n      </span><span class="s1">if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {</span><span class="s3">\n        </span><span class="s1">markup += </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ attr + </span><span class="s3">\&quot;</span><span class="s1">=</span><span class="s3">\\\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">markup += utils.escape(this.attributes[attr]);</span><span class="s3">\n        </span><span class="s1">markup += </span><span class="s3">\&quot;\\\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (this.classes.length &gt; 0) {</span><span class="s3">\n      </span><span class="s1">markup += </span><span class="s3">\&quot; </span><span class="s1">class =</span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ utils.escape(createClass(this.classes)) + </span><span class="s3">\&quot;\\\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">markup += </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">for (var i = 0; i &lt; this.children.length; i++) {</span><span class="s3">\n      </span><span class="s1">markup += this.children[i].toMarkup();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">markup += </span><span class="s3">\&quot;</span><span class="s1">&lt;/</span><span class="s3">\&quot; </span><span class="s1">+ this.type + </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">return markup;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Converts the math node into a string, similar to innerText, but escaped.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">toText() {</span><span class="s3">\n    </span><span class="s1">return this.children.map(child =&gt; child.toText()).join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This node represents a piece of text.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">class TextNode {</span><span class="s3">\n  </span><span class="s1">constructor(text) {</span><span class="s3">\n    </span><span class="s1">this.text = void 0;</span><span class="s3">\n    </span><span class="s1">this.text = text;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Converts the text node into a DOM text node.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">toNode() {</span><span class="s3">\n    </span><span class="s1">return document.createTextNode(this.text);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Converts the text node into escaped HTML markup</span><span class="s3">\n   </span><span class="s1">* (representing the text itself).</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">toMarkup() {</span><span class="s3">\n    </span><span class="s1">return utils.escape(this.toText());</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Converts the text node into a string</span><span class="s3">\n   </span><span class="s1">* (representing the text itself).</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">toText() {</span><span class="s3">\n    </span><span class="s1">return this.text;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This node represents a space, but may render as &lt;mspace.../&gt; or as text,</span><span class="s3">\n </span><span class="s1">* depending on the width.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">class SpaceNode {</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Create a Space node with width given in CSS ems.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">constructor(width) {</span><span class="s3">\n    </span><span class="s1">this.width = void 0;</span><span class="s3">\n    </span><span class="s1">this.character = void 0;</span><span class="s3">\n    </span><span class="s1">this.width = width; // See https://www.w3.org/TR/2000/WD-MathML2-20000328/chapter6.html</span><span class="s3">\n    </span><span class="s1">// for a table of space-like characters.  We use Unicode</span><span class="s3">\n    </span><span class="s1">// representations instead of &amp;LongNames; as it's not clear how to</span><span class="s3">\n    </span><span class="s1">// make the latter via document.createTextNode.</span><span class="s3">\n\n    </span><span class="s1">if (width &gt;= 0.05555 &amp;&amp; width &lt;= 0.05556) {</span><span class="s3">\n      </span><span class="s1">this.character = </span><span class="s3">\&quot;\\</span><span class="s1">u200a</span><span class="s3">\&quot;</span><span class="s1">; // &amp;VeryThinSpace;</span><span class="s3">\n    </span><span class="s1">} else if (width &gt;= 0.1666 &amp;&amp; width &lt;= 0.1667) {</span><span class="s3">\n      </span><span class="s1">this.character = </span><span class="s3">\&quot;\\</span><span class="s1">u2009</span><span class="s3">\&quot;</span><span class="s1">; // &amp;ThinSpace;</span><span class="s3">\n    </span><span class="s1">} else if (width &gt;= 0.2222 &amp;&amp; width &lt;= 0.2223) {</span><span class="s3">\n      </span><span class="s1">this.character = </span><span class="s3">\&quot;\\</span><span class="s1">u2005</span><span class="s3">\&quot;</span><span class="s1">; // &amp;MediumSpace;</span><span class="s3">\n    </span><span class="s1">} else if (width &gt;= 0.2777 &amp;&amp; width &lt;= 0.2778) {</span><span class="s3">\n      </span><span class="s1">this.character = </span><span class="s3">\&quot;\\</span><span class="s1">u2005</span><span class="s3">\\</span><span class="s1">u200a</span><span class="s3">\&quot;</span><span class="s1">; // &amp;ThickSpace;</span><span class="s3">\n    </span><span class="s1">} else if (width &gt;= -0.05556 &amp;&amp; width &lt;= -0.05555) {</span><span class="s3">\n      </span><span class="s1">this.character = </span><span class="s3">\&quot;\\</span><span class="s1">u200a</span><span class="s3">\\</span><span class="s1">u2063</span><span class="s3">\&quot;</span><span class="s1">; // &amp;NegativeVeryThinSpace;</span><span class="s3">\n    </span><span class="s1">} else if (width &gt;= -0.1667 &amp;&amp; width &lt;= -0.1666) {</span><span class="s3">\n      </span><span class="s1">this.character = </span><span class="s3">\&quot;\\</span><span class="s1">u2009</span><span class="s3">\\</span><span class="s1">u2063</span><span class="s3">\&quot;</span><span class="s1">; // &amp;NegativeThinSpace;</span><span class="s3">\n    </span><span class="s1">} else if (width &gt;= -0.2223 &amp;&amp; width &lt;= -0.2222) {</span><span class="s3">\n      </span><span class="s1">this.character = </span><span class="s3">\&quot;\\</span><span class="s1">u205f</span><span class="s3">\\</span><span class="s1">u2063</span><span class="s3">\&quot;</span><span class="s1">; // &amp;NegativeMediumSpace;</span><span class="s3">\n    </span><span class="s1">} else if (width &gt;= -0.2778 &amp;&amp; width &lt;= -0.2777) {</span><span class="s3">\n      </span><span class="s1">this.character = </span><span class="s3">\&quot;\\</span><span class="s1">u2005</span><span class="s3">\\</span><span class="s1">u2063</span><span class="s3">\&quot;</span><span class="s1">; // &amp;NegativeThickSpace;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">this.character = null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Converts the math node into a MathML-namespaced DOM element.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">toNode() {</span><span class="s3">\n    </span><span class="s1">if (this.character) {</span><span class="s3">\n      </span><span class="s1">return document.createTextNode(this.character);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">var node = document.createElementNS(</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/1998/Math/MathML</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mspace</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, makeEm(this.width));</span><span class="s3">\n      </span><span class="s1">return node;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Converts the math node into an HTML markup string.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">toMarkup() {</span><span class="s3">\n    </span><span class="s1">if (this.character) {</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">&lt;mtext&gt;</span><span class="s3">\&quot; </span><span class="s1">+ this.character + </span><span class="s3">\&quot;</span><span class="s1">&lt;/mtext&gt;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">&lt;mspace width=</span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ makeEm(this.width) + </span><span class="s3">\&quot;\\\&quot;</span><span class="s1">/&gt;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Converts the math node into a string, similar to innerText.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">toText() {</span><span class="s3">\n    </span><span class="s1">if (this.character) {</span><span class="s3">\n      </span><span class="s1">return this.character;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot; \&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">var mathMLTree = {</span><span class="s3">\n  </span><span class="s1">MathNode,</span><span class="s3">\n  </span><span class="s1">TextNode,</span><span class="s3">\n  </span><span class="s1">SpaceNode,</span><span class="s3">\n  </span><span class="s1">newDocumentFragment</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This file converts a parse tree into a corresponding MathML tree. The main</span><span class="s3">\n </span><span class="s1">* entry point is the `buildMathML` function, which takes a parse tree from the</span><span class="s3">\n </span><span class="s1">* parser.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Takes a symbol and converts it into a MathML text node after performing</span><span class="s3">\n </span><span class="s1">* optional replacement from symbols.js.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var makeText = function makeText(text, mode, options) {</span><span class="s3">\n  </span><span class="s1">if (symbols[mode][text] &amp;&amp; symbols[mode][text].replace &amp;&amp; text.charCodeAt(0) !== 0xD835 &amp;&amp; !(ligatures.hasOwnProperty(text) &amp;&amp; options &amp;&amp; (options.fontFamily &amp;&amp; options.fontFamily.slice(4, 6) === </span><span class="s3">\&quot;</span><span class="s1">tt</span><span class="s3">\&quot; </span><span class="s1">|| options.font &amp;&amp; options.font.slice(4, 6) === </span><span class="s3">\&quot;</span><span class="s1">tt</span><span class="s3">\&quot;</span><span class="s1">))) {</span><span class="s3">\n    </span><span class="s1">text = symbols[mode][text].replace;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return new mathMLTree.TextNode(text);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Wrap the given array of nodes in an &lt;mrow&gt; node if needed, i.e.,</span><span class="s3">\n </span><span class="s1">* unless the array has length 1.  Always returns a single node.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">var makeRow = function makeRow(body) {</span><span class="s3">\n  </span><span class="s1">if (body.length === 1) {</span><span class="s3">\n    </span><span class="s1">return body[0];</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mrow</span><span class="s3">\&quot;</span><span class="s1">, body);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Returns the math variant as a string or null if none is required.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">var getVariant = function getVariant(group, options) {</span><span class="s3">\n  </span><span class="s1">// Handle </span><span class="s3">\\</span><span class="s1">text... font specifiers as best we can.</span><span class="s3">\n  </span><span class="s1">// MathML has a limited list of allowable mathvariant specifiers; see</span><span class="s3">\n  </span><span class="s1">// https://www.w3.org/TR/MathML3/chapter3.html#presm.commatt</span><span class="s3">\n  </span><span class="s1">if (options.fontFamily === </span><span class="s3">\&quot;</span><span class="s1">texttt</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">monospace</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (options.fontFamily === </span><span class="s3">\&quot;</span><span class="s1">textsf</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">if (options.fontShape === </span><span class="s3">\&quot;</span><span class="s1">textit</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; options.fontWeight === </span><span class="s3">\&quot;</span><span class="s1">textbf</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">sans-serif-bold-italic</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">} else if (options.fontShape === </span><span class="s3">\&quot;</span><span class="s1">textit</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">sans-serif-italic</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">} else if (options.fontWeight === </span><span class="s3">\&quot;</span><span class="s1">textbf</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">bold-sans-serif</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">sans-serif</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else if (options.fontShape === </span><span class="s3">\&quot;</span><span class="s1">textit</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; options.fontWeight === </span><span class="s3">\&quot;</span><span class="s1">textbf</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">bold-italic</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (options.fontShape === </span><span class="s3">\&quot;</span><span class="s1">textit</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">italic</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (options.fontWeight === </span><span class="s3">\&quot;</span><span class="s1">textbf</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">bold</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var font = options.font;</span><span class="s3">\n\n  </span><span class="s1">if (!font || font === </span><span class="s3">\&quot;</span><span class="s1">mathnormal</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return null;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var mode = group.mode;</span><span class="s3">\n\n  </span><span class="s1">if (font === </span><span class="s3">\&quot;</span><span class="s1">mathit</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">italic</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (font === </span><span class="s3">\&quot;</span><span class="s1">boldsymbol</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return group.type === </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">bold</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">bold-italic</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (font === </span><span class="s3">\&quot;</span><span class="s1">mathbf</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">bold</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (font === </span><span class="s3">\&quot;</span><span class="s1">mathbb</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">double-struck</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (font === </span><span class="s3">\&quot;</span><span class="s1">mathsfit</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">sans-serif-italic</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (font === </span><span class="s3">\&quot;</span><span class="s1">mathfrak</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">fraktur</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (font === </span><span class="s3">\&quot;</span><span class="s1">mathscr</span><span class="s3">\&quot; </span><span class="s1">|| font === </span><span class="s3">\&quot;</span><span class="s1">mathcal</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">// MathML makes no distinction between script and calligraphic</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">script</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (font === </span><span class="s3">\&quot;</span><span class="s1">mathsf</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">sans-serif</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (font === </span><span class="s3">\&quot;</span><span class="s1">mathtt</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">monospace</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var text = group.text;</span><span class="s3">\n\n  </span><span class="s1">if (utils.contains([</span><span class="s3">\&quot;\\\\</span><span class="s1">imath</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">jmath</span><span class="s3">\&quot;</span><span class="s1">], text)) {</span><span class="s3">\n    </span><span class="s1">return null;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (symbols[mode][text] &amp;&amp; symbols[mode][text].replace) {</span><span class="s3">\n    </span><span class="s1">text = symbols[mode][text].replace;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var fontName = buildCommon.fontMap[font].fontName;</span><span class="s3">\n\n  </span><span class="s1">if (getCharacterMetrics(text, fontName, mode)) {</span><span class="s3">\n    </span><span class="s1">return buildCommon.fontMap[font].variant;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return null;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Check for &lt;mi&gt;.&lt;/mi&gt; which is how a dot renders in MathML,</span><span class="s3">\n </span><span class="s1">* or &lt;mo separator=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot; </span><span class="s1">lspace=</span><span class="s3">\&quot;</span><span class="s1">0em</span><span class="s3">\&quot; </span><span class="s1">rspace=</span><span class="s3">\&quot;</span><span class="s1">0em</span><span class="s3">\&quot;</span><span class="s1">&gt;,&lt;/mo&gt;</span><span class="s3">\n </span><span class="s1">* which is how a braced comma {,} renders in MathML</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">function isNumberPunctuation(group) {</span><span class="s3">\n  </span><span class="s1">if (!group) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (group.type === 'mi' &amp;&amp; group.children.length === 1) {</span><span class="s3">\n    </span><span class="s1">var child = group.children[0];</span><span class="s3">\n    </span><span class="s1">return child instanceof TextNode &amp;&amp; child.text === '.';</span><span class="s3">\n  </span><span class="s1">} else if (group.type === 'mo' &amp;&amp; group.children.length === 1 &amp;&amp; group.getAttribute('separator') === 'true' &amp;&amp; group.getAttribute('lspace') === '0em' &amp;&amp; group.getAttribute('rspace') === '0em') {</span><span class="s3">\n    </span><span class="s1">var _child = group.children[0];</span><span class="s3">\n    </span><span class="s1">return _child instanceof TextNode &amp;&amp; _child.text === ',';</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Takes a list of nodes, builds them, and returns a list of the generated</span><span class="s3">\n </span><span class="s1">* MathML nodes.  Also combine consecutive &lt;mtext&gt; outputs into a single</span><span class="s3">\n </span><span class="s1">* &lt;mtext&gt; tag.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var buildExpression = function buildExpression(expression, options, isOrdgroup) {</span><span class="s3">\n  </span><span class="s1">if (expression.length === 1) {</span><span class="s3">\n    </span><span class="s1">var group = buildGroup(expression[0], options);</span><span class="s3">\n\n    </span><span class="s1">if (isOrdgroup &amp;&amp; group instanceof MathNode &amp;&amp; group.type === </span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// When TeX writers want to suppress spacing on an operator,</span><span class="s3">\n      </span><span class="s1">// they often put the operator by itself inside braces.</span><span class="s3">\n      </span><span class="s1">group.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">lspace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0em</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">group.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">rspace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0em</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return [group];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var groups = [];</span><span class="s3">\n  </span><span class="s1">var lastGroup;</span><span class="s3">\n\n  </span><span class="s1">for (var i = 0; i &lt; expression.length; i++) {</span><span class="s3">\n    </span><span class="s1">var _group = buildGroup(expression[i], options);</span><span class="s3">\n\n    </span><span class="s1">if (_group instanceof MathNode &amp;&amp; lastGroup instanceof MathNode) {</span><span class="s3">\n      </span><span class="s1">// Concatenate adjacent &lt;mtext&gt;s</span><span class="s3">\n      </span><span class="s1">if (_group.type === 'mtext' &amp;&amp; lastGroup.type === 'mtext' &amp;&amp; _group.getAttribute('mathvariant') === lastGroup.getAttribute('mathvariant')) {</span><span class="s3">\n        </span><span class="s1">lastGroup.children.push(..._group.children);</span><span class="s3">\n        </span><span class="s1">continue; // Concatenate adjacent &lt;mn&gt;s</span><span class="s3">\n      </span><span class="s1">} else if (_group.type === 'mn' &amp;&amp; lastGroup.type === 'mn') {</span><span class="s3">\n        </span><span class="s1">lastGroup.children.push(..._group.children);</span><span class="s3">\n        </span><span class="s1">continue; // Concatenate &lt;mn&gt;...&lt;/mn&gt; followed by &lt;mi&gt;.&lt;/mi&gt;</span><span class="s3">\n      </span><span class="s1">} else if (isNumberPunctuation(_group) &amp;&amp; lastGroup.type === 'mn') {</span><span class="s3">\n        </span><span class="s1">lastGroup.children.push(..._group.children);</span><span class="s3">\n        </span><span class="s1">continue; // Concatenate &lt;mi&gt;.&lt;/mi&gt; followed by &lt;mn&gt;...&lt;/mn&gt;</span><span class="s3">\n      </span><span class="s1">} else if (_group.type === 'mn' &amp;&amp; isNumberPunctuation(lastGroup)) {</span><span class="s3">\n        </span><span class="s1">_group.children = [...lastGroup.children, ..._group.children];</span><span class="s3">\n        </span><span class="s1">groups.pop(); // Put preceding &lt;mn&gt;...&lt;/mn&gt; or &lt;mi&gt;.&lt;/mi&gt; inside base of</span><span class="s3">\n        </span><span class="s1">// &lt;msup&gt;&lt;mn&gt;...base...&lt;/mn&gt;...exponent...&lt;/msup&gt; (or &lt;msub&gt;)</span><span class="s3">\n      </span><span class="s1">} else if ((_group.type === 'msup' || _group.type === 'msub') &amp;&amp; _group.children.length &gt;= 1 &amp;&amp; (lastGroup.type === 'mn' || isNumberPunctuation(lastGroup))) {</span><span class="s3">\n        </span><span class="s1">var base = _group.children[0];</span><span class="s3">\n\n        </span><span class="s1">if (base instanceof MathNode &amp;&amp; base.type === 'mn') {</span><span class="s3">\n          </span><span class="s1">base.children = [...lastGroup.children, ...base.children];</span><span class="s3">\n          </span><span class="s1">groups.pop();</span><span class="s3">\n        </span><span class="s1">} // </span><span class="s3">\\</span><span class="s1">not</span><span class="s3">\n\n      </span><span class="s1">} else if (lastGroup.type === 'mi' &amp;&amp; lastGroup.children.length === 1) {</span><span class="s3">\n        </span><span class="s1">var lastChild = lastGroup.children[0];</span><span class="s3">\n\n        </span><span class="s1">if (lastChild instanceof TextNode &amp;&amp; lastChild.text === '</span><span class="s3">\\</span><span class="s1">u0338' &amp;&amp; (_group.type === 'mo' || _group.type === 'mi' || _group.type === 'mn')) {</span><span class="s3">\n          </span><span class="s1">var child = _group.children[0];</span><span class="s3">\n\n          </span><span class="s1">if (child instanceof TextNode &amp;&amp; child.text.length &gt; 0) {</span><span class="s3">\n            </span><span class="s1">// Overlay with combining character long solidus</span><span class="s3">\n            </span><span class="s1">child.text = child.text.slice(0, 1) + </span><span class="s3">\&quot;\\</span><span class="s1">u0338</span><span class="s3">\&quot; </span><span class="s1">+ child.text.slice(1);</span><span class="s3">\n            </span><span class="s1">groups.pop();</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">groups.push(_group);</span><span class="s3">\n    </span><span class="s1">lastGroup = _group;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return groups;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Equivalent to buildExpression, but wraps the elements in an &lt;mrow&gt;</span><span class="s3">\n </span><span class="s1">* if there's more than one.  Returns a single node instead of an array.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">var buildExpressionRow = function buildExpressionRow(expression, options, isOrdgroup) {</span><span class="s3">\n  </span><span class="s1">return makeRow(buildExpression(expression, options, isOrdgroup));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Takes a group from the parser and calls the appropriate groupBuilders function</span><span class="s3">\n </span><span class="s1">* on it to produce a MathML node.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">var buildGroup = function buildGroup(group, options) {</span><span class="s3">\n  </span><span class="s1">if (!group) {</span><span class="s3">\n    </span><span class="s1">return new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (_mathmlGroupBuilders[group.type]) {</span><span class="s3">\n    </span><span class="s1">// Call the groupBuilders function</span><span class="s3">\n    </span><span class="s1">// $FlowFixMe</span><span class="s3">\n    </span><span class="s1">var result = _mathmlGroupBuilders[group.type](group, options); // $FlowFixMe</span><span class="s3">\n\n    </span><span class="s1">return result;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Got group of unknown type: '</span><span class="s3">\&quot; </span><span class="s1">+ group.type + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Takes a full parse tree and settings and builds a MathML representation of</span><span class="s3">\n </span><span class="s1">* it. In particular, we put the elements from building the parse tree into a</span><span class="s3">\n </span><span class="s1">* &lt;semantics&gt; tag so we can also include that TeX source as an annotation.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Note that we actually return a domTree element with a `&lt;math&gt;` inside it so</span><span class="s3">\n </span><span class="s1">* we can do appropriate styling.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">function buildMathML(tree, texExpression, options, isDisplayMode, forMathmlOnly) {</span><span class="s3">\n  </span><span class="s1">var expression = buildExpression(tree, options); // TODO: Make a pass thru the MathML similar to buildHTML.traverseNonSpaceNodes</span><span class="s3">\n  </span><span class="s1">// and add spacing nodes. This is necessary only adjacent to math operators</span><span class="s3">\n  </span><span class="s1">// like </span><span class="s3">\\</span><span class="s1">sin or </span><span class="s3">\\</span><span class="s1">lim or to subsup elements that contain math operators.</span><span class="s3">\n  </span><span class="s1">// MathML takes care of the other spacing issues.</span><span class="s3">\n  </span><span class="s1">// Wrap up the expression in an mrow so it is presented in the semantics</span><span class="s3">\n  </span><span class="s1">// tag correctly, unless it's a single &lt;mrow&gt; or &lt;mtable&gt;.</span><span class="s3">\n\n  </span><span class="s1">var wrapper;</span><span class="s3">\n\n  </span><span class="s1">if (expression.length === 1 &amp;&amp; expression[0] instanceof MathNode &amp;&amp; utils.contains([</span><span class="s3">\&quot;</span><span class="s1">mrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mtable</span><span class="s3">\&quot;</span><span class="s1">], expression[0].type)) {</span><span class="s3">\n    </span><span class="s1">wrapper = expression[0];</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">wrapper = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mrow</span><span class="s3">\&quot;</span><span class="s1">, expression);</span><span class="s3">\n  </span><span class="s1">} // Build a TeX annotation of the source</span><span class="s3">\n\n\n  </span><span class="s1">var annotation = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">annotation</span><span class="s3">\&quot;</span><span class="s1">, [new mathMLTree.TextNode(texExpression)]);</span><span class="s3">\n  </span><span class="s1">annotation.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">encoding</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">application/x-tex</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">var semantics = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">semantics</span><span class="s3">\&quot;</span><span class="s1">, [wrapper, annotation]);</span><span class="s3">\n  </span><span class="s1">var math = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">, [semantics]);</span><span class="s3">\n  </span><span class="s1">math.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">xmlns</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/1998/Math/MathML</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n  </span><span class="s1">if (isDisplayMode) {</span><span class="s3">\n    </span><span class="s1">math.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">block</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} // You can't style &lt;math&gt; nodes, so we wrap the node in a span.</span><span class="s3">\n  </span><span class="s1">// NOTE: The span class is not typed to have &lt;math&gt; nodes as children, and</span><span class="s3">\n  </span><span class="s1">// we don't want to make the children type more generic since the children</span><span class="s3">\n  </span><span class="s1">// of span are expected to have more fields in `buildHtml` contexts.</span><span class="s3">\n\n\n  </span><span class="s1">var wrapperClass = forMathmlOnly ? </span><span class="s3">\&quot;</span><span class="s1">katex</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">katex-mathml</span><span class="s3">\&quot;</span><span class="s1">; // $FlowFixMe</span><span class="s3">\n\n  </span><span class="s1">return buildCommon.makeSpan([wrapperClass], [math]);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">var optionsFromSettings = function optionsFromSettings(settings) {</span><span class="s3">\n  </span><span class="s1">return new Options({</span><span class="s3">\n    </span><span class="s1">style: settings.displayMode ? Style$1.DISPLAY : Style$1.TEXT,</span><span class="s3">\n    </span><span class="s1">maxSize: settings.maxSize,</span><span class="s3">\n    </span><span class="s1">minRuleThickness: settings.minRuleThickness</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var displayWrap = function displayWrap(node, settings) {</span><span class="s3">\n  </span><span class="s1">if (settings.displayMode) {</span><span class="s3">\n    </span><span class="s1">var classes = [</span><span class="s3">\&quot;</span><span class="s1">katex-display</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n\n    </span><span class="s1">if (settings.leqno) {</span><span class="s3">\n      </span><span class="s1">classes.push(</span><span class="s3">\&quot;</span><span class="s1">leqno</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (settings.fleqn) {</span><span class="s3">\n      </span><span class="s1">classes.push(</span><span class="s3">\&quot;</span><span class="s1">fleqn</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">node = buildCommon.makeSpan(classes, [node]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return node;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var buildTree = function buildTree(tree, expression, settings) {</span><span class="s3">\n  </span><span class="s1">var options = optionsFromSettings(settings);</span><span class="s3">\n  </span><span class="s1">var katexNode;</span><span class="s3">\n\n  </span><span class="s1">if (settings.output === </span><span class="s3">\&quot;</span><span class="s1">mathml</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return buildMathML(tree, expression, options, settings.displayMode, true);</span><span class="s3">\n  </span><span class="s1">} else if (settings.output === </span><span class="s3">\&quot;</span><span class="s1">html</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">var htmlNode = buildHTML(tree, options);</span><span class="s3">\n    </span><span class="s1">katexNode = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">katex</span><span class="s3">\&quot;</span><span class="s1">], [htmlNode]);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">var mathMLNode = buildMathML(tree, expression, options, settings.displayMode, false);</span><span class="s3">\n\n    </span><span class="s1">var _htmlNode = buildHTML(tree, options);</span><span class="s3">\n\n    </span><span class="s1">katexNode = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">katex</span><span class="s3">\&quot;</span><span class="s1">], [mathMLNode, _htmlNode]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return displayWrap(katexNode, settings);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var buildHTMLTree = function buildHTMLTree(tree, expression, settings) {</span><span class="s3">\n  </span><span class="s1">var options = optionsFromSettings(settings);</span><span class="s3">\n  </span><span class="s1">var htmlNode = buildHTML(tree, options);</span><span class="s3">\n  </span><span class="s1">var katexNode = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">katex</span><span class="s3">\&quot;</span><span class="s1">], [htmlNode]);</span><span class="s3">\n  </span><span class="s1">return displayWrap(katexNode, settings);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This file provides support to buildMathML.js and buildHTML.js</span><span class="s3">\n </span><span class="s1">* for stretchy wide elements rendered from SVG files</span><span class="s3">\n </span><span class="s1">* and other CSS trickery.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var stretchyCodePoint = {</span><span class="s3">\n  </span><span class="s1">widehat: </span><span class="s3">\&quot;</span><span class="s1">^</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">widecheck: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">widetilde: </span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">utilde: </span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">overleftarrow: </span><span class="s3">\&quot;\\</span><span class="s1">u2190</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">underleftarrow: </span><span class="s3">\&quot;\\</span><span class="s1">u2190</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xleftarrow: </span><span class="s3">\&quot;\\</span><span class="s1">u2190</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">overrightarrow: </span><span class="s3">\&quot;\\</span><span class="s1">u2192</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">underrightarrow: </span><span class="s3">\&quot;\\</span><span class="s1">u2192</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xrightarrow: </span><span class="s3">\&quot;\\</span><span class="s1">u2192</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">underbrace: </span><span class="s3">\&quot;\\</span><span class="s1">u23df</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">overbrace: </span><span class="s3">\&quot;\\</span><span class="s1">u23de</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">overgroup: </span><span class="s3">\&quot;\\</span><span class="s1">u23e0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">undergroup: </span><span class="s3">\&quot;\\</span><span class="s1">u23e1</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">overleftrightarrow: </span><span class="s3">\&quot;\\</span><span class="s1">u2194</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">underleftrightarrow: </span><span class="s3">\&quot;\\</span><span class="s1">u2194</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xleftrightarrow: </span><span class="s3">\&quot;\\</span><span class="s1">u2194</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">Overrightarrow: </span><span class="s3">\&quot;\\</span><span class="s1">u21d2</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xRightarrow: </span><span class="s3">\&quot;\\</span><span class="s1">u21d2</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">overleftharpoon: </span><span class="s3">\&quot;\\</span><span class="s1">u21bc</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xleftharpoonup: </span><span class="s3">\&quot;\\</span><span class="s1">u21bc</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">overrightharpoon: </span><span class="s3">\&quot;\\</span><span class="s1">u21c0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xrightharpoonup: </span><span class="s3">\&quot;\\</span><span class="s1">u21c0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xLeftarrow: </span><span class="s3">\&quot;\\</span><span class="s1">u21d0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xLeftrightarrow: </span><span class="s3">\&quot;\\</span><span class="s1">u21d4</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xhookleftarrow: </span><span class="s3">\&quot;\\</span><span class="s1">u21a9</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xhookrightarrow: </span><span class="s3">\&quot;\\</span><span class="s1">u21aa</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xmapsto: </span><span class="s3">\&quot;\\</span><span class="s1">u21a6</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xrightharpoondown: </span><span class="s3">\&quot;\\</span><span class="s1">u21c1</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xleftharpoondown: </span><span class="s3">\&quot;\\</span><span class="s1">u21bd</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xrightleftharpoons: </span><span class="s3">\&quot;\\</span><span class="s1">u21cc</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xleftrightharpoons: </span><span class="s3">\&quot;\\</span><span class="s1">u21cb</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xtwoheadleftarrow: </span><span class="s3">\&quot;\\</span><span class="s1">u219e</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xtwoheadrightarrow: </span><span class="s3">\&quot;\\</span><span class="s1">u21a0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xlongequal: </span><span class="s3">\&quot;</span><span class="s1">=</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xtofrom: </span><span class="s3">\&quot;\\</span><span class="s1">u21c4</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xrightleftarrows: </span><span class="s3">\&quot;\\</span><span class="s1">u21c4</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xrightequilibrium: </span><span class="s3">\&quot;\\</span><span class="s1">u21cc</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// Not a perfect match.</span><span class="s3">\n  </span><span class="s1">xleftequilibrium: </span><span class="s3">\&quot;\\</span><span class="s1">u21cb</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// None better available.</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">cdrightarrow</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\</span><span class="s1">u2192</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">cdleftarrow</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\</span><span class="s1">u2190</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">cdlongequal</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">=</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var mathMLnode = function mathMLnode(label) {</span><span class="s3">\n  </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">, [new mathMLTree.TextNode(stretchyCodePoint[label.replace(/^</span><span class="s3">\\\\</span><span class="s1">/, '')])]);</span><span class="s3">\n  </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">stretchy</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return node;</span><span class="s3">\n</span><span class="s1">}; // Many of the KaTeX SVG images have been adapted from glyphs in KaTeX fonts.</span><span class="s3">\n</span><span class="s1">// Copyright (c) 2009-2010, Design Science, Inc. (&lt;www.mathjax.org&gt;)</span><span class="s3">\n</span><span class="s1">// Copyright (c) 2014-2017 Khan Academy (&lt;www.khanacademy.org&gt;)</span><span class="s3">\n</span><span class="s1">// Licensed under the SIL Open Font License, Version 1.1.</span><span class="s3">\n</span><span class="s1">// See </span><span class="s3">\\</span><span class="s1">nhttp://scripts.sil.org/OFL</span><span class="s3">\n</span><span class="s1">// Very Long SVGs</span><span class="s3">\n</span><span class="s1">//    Many of the KaTeX stretchy wide elements use a long SVG image and an</span><span class="s3">\n</span><span class="s1">//    overflow: hidden tactic to achieve a stretchy image while avoiding</span><span class="s3">\n</span><span class="s1">//    distortion of arrowheads or brace corners.</span><span class="s3">\n</span><span class="s1">//    The SVG typically contains a very long (400 em) arrow.</span><span class="s3">\n</span><span class="s1">//    The SVG is in a container span that has overflow: hidden, so the span</span><span class="s3">\n</span><span class="s1">//    acts like a window that exposes only part of the  SVG.</span><span class="s3">\n</span><span class="s1">//    The SVG always has a longer, thinner aspect ratio than the container span.</span><span class="s3">\n</span><span class="s1">//    After the SVG fills 100% of the height of the container span,</span><span class="s3">\n</span><span class="s1">//    there is a long arrow shaft left over. That left-over shaft is not shown.</span><span class="s3">\n</span><span class="s1">//    Instead, it is sliced off because the span's CSS has overflow: hidden.</span><span class="s3">\n</span><span class="s1">//    Thus, the reader sees an arrow that matches the subject matter width</span><span class="s3">\n</span><span class="s1">//    without distortion.</span><span class="s3">\n</span><span class="s1">//    Some functions, such as </span><span class="s3">\\</span><span class="s1">cancel, need to vary their aspect ratio. These</span><span class="s3">\n</span><span class="s1">//    functions do not get the overflow SVG treatment.</span><span class="s3">\n</span><span class="s1">// Second Brush Stroke</span><span class="s3">\n</span><span class="s1">//    Low resolution monitors struggle to display images in fine detail.</span><span class="s3">\n</span><span class="s1">//    So browsers apply anti-aliasing. A long straight arrow shaft therefore</span><span class="s3">\n</span><span class="s1">//    will sometimes appear as if it has a blurred edge.</span><span class="s3">\n</span><span class="s1">//    To mitigate this, these SVG files contain a second </span><span class="s3">\&quot;</span><span class="s1">brush-stroke</span><span class="s3">\&quot; </span><span class="s1">on the</span><span class="s3">\n</span><span class="s1">//    arrow shafts. That is, a second long thin rectangular SVG path has been</span><span class="s3">\n</span><span class="s1">//    written directly on top of each arrow shaft. This reinforcement causes</span><span class="s3">\n</span><span class="s1">//    some of the screen pixels to display as black instead of the anti-aliased</span><span class="s3">\n</span><span class="s1">//    gray pixel that a  single path would generate. So we get arrow shafts</span><span class="s3">\n</span><span class="s1">//    whose edges appear to be sharper.</span><span class="s3">\n</span><span class="s1">// In the katexImagesData object just below, the dimensions all</span><span class="s3">\n</span><span class="s1">// correspond to path geometry inside the relevant SVG.</span><span class="s3">\n</span><span class="s1">// For example, </span><span class="s3">\\</span><span class="s1">overrightarrow uses the same arrowhead as glyph U+2192</span><span class="s3">\n</span><span class="s1">// from the KaTeX Main font. The scaling factor is 1000.</span><span class="s3">\n</span><span class="s1">// That is, inside the font, that arrowhead is 522 units tall, which</span><span class="s3">\n</span><span class="s1">// corresponds to 0.522 em inside the document.</span><span class="s3">\n\n\n</span><span class="s1">var katexImagesData = {</span><span class="s3">\n  </span><span class="s1">//   path(s), minWidth, height, align</span><span class="s3">\n  </span><span class="s1">overrightarrow: [[</span><span class="s3">\&quot;</span><span class="s1">rightarrow</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 522, </span><span class="s3">\&quot;</span><span class="s1">xMaxYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">overleftarrow: [[</span><span class="s3">\&quot;</span><span class="s1">leftarrow</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 522, </span><span class="s3">\&quot;</span><span class="s1">xMinYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">underrightarrow: [[</span><span class="s3">\&quot;</span><span class="s1">rightarrow</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 522, </span><span class="s3">\&quot;</span><span class="s1">xMaxYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">underleftarrow: [[</span><span class="s3">\&quot;</span><span class="s1">leftarrow</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 522, </span><span class="s3">\&quot;</span><span class="s1">xMinYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">xrightarrow: [[</span><span class="s3">\&quot;</span><span class="s1">rightarrow</span><span class="s3">\&quot;</span><span class="s1">], 1.469, 522, </span><span class="s3">\&quot;</span><span class="s1">xMaxYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">cdrightarrow</span><span class="s3">\&quot;</span><span class="s1">: [[</span><span class="s3">\&quot;</span><span class="s1">rightarrow</span><span class="s3">\&quot;</span><span class="s1">], 3.0, 522, </span><span class="s3">\&quot;</span><span class="s1">xMaxYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">// CD minwwidth2.5pc</span><span class="s3">\n  </span><span class="s1">xleftarrow: [[</span><span class="s3">\&quot;</span><span class="s1">leftarrow</span><span class="s3">\&quot;</span><span class="s1">], 1.469, 522, </span><span class="s3">\&quot;</span><span class="s1">xMinYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">cdleftarrow</span><span class="s3">\&quot;</span><span class="s1">: [[</span><span class="s3">\&quot;</span><span class="s1">leftarrow</span><span class="s3">\&quot;</span><span class="s1">], 3.0, 522, </span><span class="s3">\&quot;</span><span class="s1">xMinYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">Overrightarrow: [[</span><span class="s3">\&quot;</span><span class="s1">doublerightarrow</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 560, </span><span class="s3">\&quot;</span><span class="s1">xMaxYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">xRightarrow: [[</span><span class="s3">\&quot;</span><span class="s1">doublerightarrow</span><span class="s3">\&quot;</span><span class="s1">], 1.526, 560, </span><span class="s3">\&quot;</span><span class="s1">xMaxYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">xLeftarrow: [[</span><span class="s3">\&quot;</span><span class="s1">doubleleftarrow</span><span class="s3">\&quot;</span><span class="s1">], 1.526, 560, </span><span class="s3">\&quot;</span><span class="s1">xMinYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">overleftharpoon: [[</span><span class="s3">\&quot;</span><span class="s1">leftharpoon</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 522, </span><span class="s3">\&quot;</span><span class="s1">xMinYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">xleftharpoonup: [[</span><span class="s3">\&quot;</span><span class="s1">leftharpoon</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 522, </span><span class="s3">\&quot;</span><span class="s1">xMinYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">xleftharpoondown: [[</span><span class="s3">\&quot;</span><span class="s1">leftharpoondown</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 522, </span><span class="s3">\&quot;</span><span class="s1">xMinYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">overrightharpoon: [[</span><span class="s3">\&quot;</span><span class="s1">rightharpoon</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 522, </span><span class="s3">\&quot;</span><span class="s1">xMaxYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">xrightharpoonup: [[</span><span class="s3">\&quot;</span><span class="s1">rightharpoon</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 522, </span><span class="s3">\&quot;</span><span class="s1">xMaxYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">xrightharpoondown: [[</span><span class="s3">\&quot;</span><span class="s1">rightharpoondown</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 522, </span><span class="s3">\&quot;</span><span class="s1">xMaxYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">xlongequal: [[</span><span class="s3">\&quot;</span><span class="s1">longequal</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 334, </span><span class="s3">\&quot;</span><span class="s1">xMinYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">cdlongequal</span><span class="s3">\&quot;</span><span class="s1">: [[</span><span class="s3">\&quot;</span><span class="s1">longequal</span><span class="s3">\&quot;</span><span class="s1">], 3.0, 334, </span><span class="s3">\&quot;</span><span class="s1">xMinYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">xtwoheadleftarrow: [[</span><span class="s3">\&quot;</span><span class="s1">twoheadleftarrow</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 334, </span><span class="s3">\&quot;</span><span class="s1">xMinYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">xtwoheadrightarrow: [[</span><span class="s3">\&quot;</span><span class="s1">twoheadrightarrow</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 334, </span><span class="s3">\&quot;</span><span class="s1">xMaxYMin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">overleftrightarrow: [[</span><span class="s3">\&quot;</span><span class="s1">leftarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rightarrow</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 522],</span><span class="s3">\n  </span><span class="s1">overbrace: [[</span><span class="s3">\&quot;</span><span class="s1">leftbrace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">midbrace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rightbrace</span><span class="s3">\&quot;</span><span class="s1">], 1.6, 548],</span><span class="s3">\n  </span><span class="s1">underbrace: [[</span><span class="s3">\&quot;</span><span class="s1">leftbraceunder</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">midbraceunder</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rightbraceunder</span><span class="s3">\&quot;</span><span class="s1">], 1.6, 548],</span><span class="s3">\n  </span><span class="s1">underleftrightarrow: [[</span><span class="s3">\&quot;</span><span class="s1">leftarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rightarrow</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 522],</span><span class="s3">\n  </span><span class="s1">xleftrightarrow: [[</span><span class="s3">\&quot;</span><span class="s1">leftarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rightarrow</span><span class="s3">\&quot;</span><span class="s1">], 1.75, 522],</span><span class="s3">\n  </span><span class="s1">xLeftrightarrow: [[</span><span class="s3">\&quot;</span><span class="s1">doubleleftarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">doublerightarrow</span><span class="s3">\&quot;</span><span class="s1">], 1.75, 560],</span><span class="s3">\n  </span><span class="s1">xrightleftharpoons: [[</span><span class="s3">\&quot;</span><span class="s1">leftharpoondownplus</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rightharpoonplus</span><span class="s3">\&quot;</span><span class="s1">], 1.75, 716],</span><span class="s3">\n  </span><span class="s1">xleftrightharpoons: [[</span><span class="s3">\&quot;</span><span class="s1">leftharpoonplus</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rightharpoondownplus</span><span class="s3">\&quot;</span><span class="s1">], 1.75, 716],</span><span class="s3">\n  </span><span class="s1">xhookleftarrow: [[</span><span class="s3">\&quot;</span><span class="s1">leftarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">righthook</span><span class="s3">\&quot;</span><span class="s1">], 1.08, 522],</span><span class="s3">\n  </span><span class="s1">xhookrightarrow: [[</span><span class="s3">\&quot;</span><span class="s1">lefthook</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rightarrow</span><span class="s3">\&quot;</span><span class="s1">], 1.08, 522],</span><span class="s3">\n  </span><span class="s1">overlinesegment: [[</span><span class="s3">\&quot;</span><span class="s1">leftlinesegment</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rightlinesegment</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 522],</span><span class="s3">\n  </span><span class="s1">underlinesegment: [[</span><span class="s3">\&quot;</span><span class="s1">leftlinesegment</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rightlinesegment</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 522],</span><span class="s3">\n  </span><span class="s1">overgroup: [[</span><span class="s3">\&quot;</span><span class="s1">leftgroup</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rightgroup</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 342],</span><span class="s3">\n  </span><span class="s1">undergroup: [[</span><span class="s3">\&quot;</span><span class="s1">leftgroupunder</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rightgroupunder</span><span class="s3">\&quot;</span><span class="s1">], 0.888, 342],</span><span class="s3">\n  </span><span class="s1">xmapsto: [[</span><span class="s3">\&quot;</span><span class="s1">leftmapsto</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rightarrow</span><span class="s3">\&quot;</span><span class="s1">], 1.5, 522],</span><span class="s3">\n  </span><span class="s1">xtofrom: [[</span><span class="s3">\&quot;</span><span class="s1">leftToFrom</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rightToFrom</span><span class="s3">\&quot;</span><span class="s1">], 1.75, 528],</span><span class="s3">\n  </span><span class="s1">// The next three arrows are from the mhchem package.</span><span class="s3">\n  </span><span class="s1">// In mhchem.sty, min-length is 2.0em. But these arrows might appear in the</span><span class="s3">\n  </span><span class="s1">// document as </span><span class="s3">\\</span><span class="s1">xrightarrow or </span><span class="s3">\\</span><span class="s1">xrightleftharpoons. Those have</span><span class="s3">\n  </span><span class="s1">// min-length = 1.75em, so we set min-length on these next three to match.</span><span class="s3">\n  </span><span class="s1">xrightleftarrows: [[</span><span class="s3">\&quot;</span><span class="s1">baraboveleftarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rightarrowabovebar</span><span class="s3">\&quot;</span><span class="s1">], 1.75, 901],</span><span class="s3">\n  </span><span class="s1">xrightequilibrium: [[</span><span class="s3">\&quot;</span><span class="s1">baraboveshortleftharpoon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rightharpoonaboveshortbar</span><span class="s3">\&quot;</span><span class="s1">], 1.75, 716],</span><span class="s3">\n  </span><span class="s1">xleftequilibrium: [[</span><span class="s3">\&quot;</span><span class="s1">shortbaraboveleftharpoon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">shortrightharpoonabovebar</span><span class="s3">\&quot;</span><span class="s1">], 1.75, 716]</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var groupLength = function groupLength(arg) {</span><span class="s3">\n  </span><span class="s1">if (arg.type === </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return arg.body.length;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return 1;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var svgSpan = function svgSpan(group, options) {</span><span class="s3">\n  </span><span class="s1">// Create a span with inline SVG for the element.</span><span class="s3">\n  </span><span class="s1">function buildSvgSpan_() {</span><span class="s3">\n    </span><span class="s1">var viewBoxWidth = 400000; // default</span><span class="s3">\n\n    </span><span class="s1">var label = group.label.slice(1);</span><span class="s3">\n\n    </span><span class="s1">if (utils.contains([</span><span class="s3">\&quot;</span><span class="s1">widehat</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">widecheck</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">widetilde</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">utilde</span><span class="s3">\&quot;</span><span class="s1">], label)) {</span><span class="s3">\n      </span><span class="s1">// Each type in the `if` statement corresponds to one of the ParseNode</span><span class="s3">\n      </span><span class="s1">// types below. This narrowing is required to access `grp.base`.</span><span class="s3">\n      </span><span class="s1">// $FlowFixMe</span><span class="s3">\n      </span><span class="s1">var grp = group; // There are four SVG images available for each function.</span><span class="s3">\n      </span><span class="s1">// Choose a taller image when there are more characters.</span><span class="s3">\n\n      </span><span class="s1">var numChars = groupLength(grp.base);</span><span class="s3">\n      </span><span class="s1">var viewBoxHeight;</span><span class="s3">\n      </span><span class="s1">var pathName;</span><span class="s3">\n\n      </span><span class="s1">var _height;</span><span class="s3">\n\n      </span><span class="s1">if (numChars &gt; 5) {</span><span class="s3">\n        </span><span class="s1">if (label === </span><span class="s3">\&quot;</span><span class="s1">widehat</span><span class="s3">\&quot; </span><span class="s1">|| label === </span><span class="s3">\&quot;</span><span class="s1">widecheck</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">viewBoxHeight = 420;</span><span class="s3">\n          </span><span class="s1">viewBoxWidth = 2364;</span><span class="s3">\n          </span><span class="s1">_height = 0.42;</span><span class="s3">\n          </span><span class="s1">pathName = label + </span><span class="s3">\&quot;</span><span class="s1">4</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">viewBoxHeight = 312;</span><span class="s3">\n          </span><span class="s1">viewBoxWidth = 2340;</span><span class="s3">\n          </span><span class="s1">_height = 0.34;</span><span class="s3">\n          </span><span class="s1">pathName = </span><span class="s3">\&quot;</span><span class="s1">tilde4</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">var imgIndex = [1, 1, 2, 2, 3, 3][numChars];</span><span class="s3">\n\n        </span><span class="s1">if (label === </span><span class="s3">\&quot;</span><span class="s1">widehat</span><span class="s3">\&quot; </span><span class="s1">|| label === </span><span class="s3">\&quot;</span><span class="s1">widecheck</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">viewBoxWidth = [0, 1062, 2364, 2364, 2364][imgIndex];</span><span class="s3">\n          </span><span class="s1">viewBoxHeight = [0, 239, 300, 360, 420][imgIndex];</span><span class="s3">\n          </span><span class="s1">_height = [0, 0.24, 0.3, 0.3, 0.36, 0.42][imgIndex];</span><span class="s3">\n          </span><span class="s1">pathName = label + imgIndex;</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">viewBoxWidth = [0, 600, 1033, 2339, 2340][imgIndex];</span><span class="s3">\n          </span><span class="s1">viewBoxHeight = [0, 260, 286, 306, 312][imgIndex];</span><span class="s3">\n          </span><span class="s1">_height = [0, 0.26, 0.286, 0.3, 0.306, 0.34][imgIndex];</span><span class="s3">\n          </span><span class="s1">pathName = </span><span class="s3">\&quot;</span><span class="s1">tilde</span><span class="s3">\&quot; </span><span class="s1">+ imgIndex;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">var path = new PathNode(pathName);</span><span class="s3">\n      </span><span class="s1">var svgNode = new SvgNode([path], {</span><span class="s3">\n        \&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">100%</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        \&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">: makeEm(_height),</span><span class="s3">\n        \&quot;</span><span class="s1">viewBox</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0 0 </span><span class="s3">\&quot; </span><span class="s1">+ viewBoxWidth + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ viewBoxHeight,</span><span class="s3">\n        \&quot;</span><span class="s1">preserveAspectRatio</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;\n      </span><span class="s1">});</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">span: buildCommon.makeSvgSpan([], [svgNode], options),</span><span class="s3">\n        </span><span class="s1">minWidth: 0,</span><span class="s3">\n        </span><span class="s1">height: _height</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">var spans = [];</span><span class="s3">\n      </span><span class="s1">var data = katexImagesData[label];</span><span class="s3">\n      </span><span class="s1">var [paths, _minWidth, _viewBoxHeight] = data;</span><span class="s3">\n\n      </span><span class="s1">var _height2 = _viewBoxHeight / 1000;</span><span class="s3">\n\n      </span><span class="s1">var numSvgChildren = paths.length;</span><span class="s3">\n      </span><span class="s1">var widthClasses;</span><span class="s3">\n      </span><span class="s1">var aligns;</span><span class="s3">\n\n      </span><span class="s1">if (numSvgChildren === 1) {</span><span class="s3">\n        </span><span class="s1">// $FlowFixMe: All these cases must be of the 4-tuple type.</span><span class="s3">\n        </span><span class="s1">var align1 = data[3];</span><span class="s3">\n        </span><span class="s1">widthClasses = [</span><span class="s3">\&quot;</span><span class="s1">hide-tail</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n        </span><span class="s1">aligns = [align1];</span><span class="s3">\n      </span><span class="s1">} else if (numSvgChildren === 2) {</span><span class="s3">\n        </span><span class="s1">widthClasses = [</span><span class="s3">\&quot;</span><span class="s1">halfarrow-left</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">halfarrow-right</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n        </span><span class="s1">aligns = [</span><span class="s3">\&quot;</span><span class="s1">xMinYMin</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">xMaxYMin</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n      </span><span class="s1">} else if (numSvgChildren === 3) {</span><span class="s3">\n        </span><span class="s1">widthClasses = [</span><span class="s3">\&quot;</span><span class="s1">brace-left</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">brace-center</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">brace-right</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n        </span><span class="s1">aligns = [</span><span class="s3">\&quot;</span><span class="s1">xMinYMin</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">xMidYMin</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">xMaxYMin</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Correct katexImagesData or update code here to support</span><span class="s3">\\</span><span class="s1">n                    </span><span class="s3">\&quot; </span><span class="s1">+ numSvgChildren + </span><span class="s3">\&quot; </span><span class="s1">children.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">for (var i = 0; i &lt; numSvgChildren; i++) {</span><span class="s3">\n        </span><span class="s1">var _path = new PathNode(paths[i]);</span><span class="s3">\n\n        </span><span class="s1">var _svgNode = new SvgNode([_path], {</span><span class="s3">\n          \&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">400em</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          \&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">: makeEm(_height2),</span><span class="s3">\n          \&quot;</span><span class="s1">viewBox</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0 0 </span><span class="s3">\&quot; </span><span class="s1">+ viewBoxWidth + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ _viewBoxHeight,</span><span class="s3">\n          \&quot;</span><span class="s1">preserveAspectRatio</span><span class="s3">\&quot;</span><span class="s1">: aligns[i] + </span><span class="s3">\&quot; </span><span class="s1">slice</span><span class="s3">\&quot;\n        </span><span class="s1">});</span><span class="s3">\n\n        </span><span class="s1">var _span = buildCommon.makeSvgSpan([widthClasses[i]], [_svgNode], options);</span><span class="s3">\n\n        </span><span class="s1">if (numSvgChildren === 1) {</span><span class="s3">\n          </span><span class="s1">return {</span><span class="s3">\n            </span><span class="s1">span: _span,</span><span class="s3">\n            </span><span class="s1">minWidth: _minWidth,</span><span class="s3">\n            </span><span class="s1">height: _height2</span><span class="s3">\n          </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">_span.style.height = makeEm(_height2);</span><span class="s3">\n          </span><span class="s1">spans.push(_span);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">span: buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">stretchy</span><span class="s3">\&quot;</span><span class="s1">], spans, options),</span><span class="s3">\n        </span><span class="s1">minWidth: _minWidth,</span><span class="s3">\n        </span><span class="s1">height: _height2</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} // buildSvgSpan_()</span><span class="s3">\n\n\n  </span><span class="s1">var {</span><span class="s3">\n    </span><span class="s1">span,</span><span class="s3">\n    </span><span class="s1">minWidth,</span><span class="s3">\n    </span><span class="s1">height</span><span class="s3">\n  </span><span class="s1">} = buildSvgSpan_(); // Note that we are returning span.depth = 0.</span><span class="s3">\n  </span><span class="s1">// Any adjustments relative to the baseline must be done in buildHTML.</span><span class="s3">\n\n  </span><span class="s1">span.height = height;</span><span class="s3">\n  </span><span class="s1">span.style.height = makeEm(height);</span><span class="s3">\n\n  </span><span class="s1">if (minWidth &gt; 0) {</span><span class="s3">\n    </span><span class="s1">span.style.minWidth = makeEm(minWidth);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return span;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var encloseSpan = function encloseSpan(inner, label, topPad, bottomPad, options) {</span><span class="s3">\n  </span><span class="s1">// Return an image span for </span><span class="s3">\\</span><span class="s1">cancel, </span><span class="s3">\\</span><span class="s1">bcancel, </span><span class="s3">\\</span><span class="s1">xcancel, </span><span class="s3">\\</span><span class="s1">fbox, or </span><span class="s3">\\</span><span class="s1">angl</span><span class="s3">\n  </span><span class="s1">var img;</span><span class="s3">\n  </span><span class="s1">var totalHeight = inner.height + inner.depth + topPad + bottomPad;</span><span class="s3">\n\n  </span><span class="s1">if (/fbox|color|angl/.test(label)) {</span><span class="s3">\n    </span><span class="s1">img = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">stretchy</span><span class="s3">\&quot;</span><span class="s1">, label], [], options);</span><span class="s3">\n\n    </span><span class="s1">if (label === </span><span class="s3">\&quot;</span><span class="s1">fbox</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">var color = options.color &amp;&amp; options.getColor();</span><span class="s3">\n\n      </span><span class="s1">if (color) {</span><span class="s3">\n        </span><span class="s1">img.style.borderColor = color;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">cancel, </span><span class="s3">\\</span><span class="s1">bcancel, or </span><span class="s3">\\</span><span class="s1">xcancel</span><span class="s3">\n    </span><span class="s1">// Since </span><span class="s3">\\</span><span class="s1">cancel's SVG is inline and it omits the viewBox attribute,</span><span class="s3">\n    </span><span class="s1">// its stroke-width will not vary with span area.</span><span class="s3">\n    </span><span class="s1">var lines = [];</span><span class="s3">\n\n    </span><span class="s1">if (/^[bx]cancel$/.test(label)) {</span><span class="s3">\n      </span><span class="s1">lines.push(new LineNode({</span><span class="s3">\n        \&quot;</span><span class="s1">x1</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        \&quot;</span><span class="s1">y1</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        \&quot;</span><span class="s1">x2</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">100%</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        \&quot;</span><span class="s1">y2</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">100%</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        \&quot;</span><span class="s1">stroke-width</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0.046em</span><span class="s3">\&quot;\n      </span><span class="s1">}));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (/^x?cancel$/.test(label)) {</span><span class="s3">\n      </span><span class="s1">lines.push(new LineNode({</span><span class="s3">\n        \&quot;</span><span class="s1">x1</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        \&quot;</span><span class="s1">y1</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">100%</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        \&quot;</span><span class="s1">x2</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">100%</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        \&quot;</span><span class="s1">y2</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        \&quot;</span><span class="s1">stroke-width</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0.046em</span><span class="s3">\&quot;\n      </span><span class="s1">}));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var svgNode = new SvgNode(lines, {</span><span class="s3">\n      \&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">100%</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">: makeEm(totalHeight)</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">img = buildCommon.makeSvgSpan([], [svgNode], options);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">img.height = totalHeight;</span><span class="s3">\n  </span><span class="s1">img.style.height = makeEm(totalHeight);</span><span class="s3">\n  </span><span class="s1">return img;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var stretchy = {</span><span class="s3">\n  </span><span class="s1">encloseSpan,</span><span class="s3">\n  </span><span class="s1">mathMLnode,</span><span class="s3">\n  </span><span class="s1">svgSpan</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Asserts that the node is of the given type and returns it with stricter</span><span class="s3">\n </span><span class="s1">* typing. Throws if the node's type does not match.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function assertNodeType(node, type) {</span><span class="s3">\n  </span><span class="s1">if (!node || node.type !== type) {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Expected node of type </span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">, but got </span><span class="s3">\&quot; </span><span class="s1">+ (node ? </span><span class="s3">\&quot;</span><span class="s1">node of type </span><span class="s3">\&quot; </span><span class="s1">+ node.type : String(node)));</span><span class="s3">\n  </span><span class="s1">} // $FlowFixMe, &gt;=0.125</span><span class="s3">\n\n\n  </span><span class="s1">return node;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Returns the node more strictly typed iff it is of the given type. Otherwise,</span><span class="s3">\n </span><span class="s1">* returns null.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">function assertSymbolNodeType(node) {</span><span class="s3">\n  </span><span class="s1">var typedNode = checkSymbolNodeType(node);</span><span class="s3">\n\n  </span><span class="s1">if (!typedNode) {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Expected node of symbol group type, but got </span><span class="s3">\&quot; </span><span class="s1">+ (node ? </span><span class="s3">\&quot;</span><span class="s1">node of type </span><span class="s3">\&quot; </span><span class="s1">+ node.type : String(node)));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return typedNode;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Returns the node more strictly typed iff it is of the given type. Otherwise,</span><span class="s3">\n </span><span class="s1">* returns null.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">function checkSymbolNodeType(node) {</span><span class="s3">\n  </span><span class="s1">if (node &amp;&amp; (node.type === </span><span class="s3">\&quot;</span><span class="s1">atom</span><span class="s3">\&quot; </span><span class="s1">|| NON_ATOMS.hasOwnProperty(node.type))) {</span><span class="s3">\n    </span><span class="s1">// $FlowFixMe</span><span class="s3">\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// NOTE: Unlike most `htmlBuilder`s, this one handles not only </span><span class="s3">\&quot;</span><span class="s1">accent</span><span class="s3">\&quot;</span><span class="s1">, but</span><span class="s3">\n</span><span class="s1">// also </span><span class="s3">\&quot;</span><span class="s1">supsub</span><span class="s3">\&quot; </span><span class="s1">since an accent can affect super/subscripting.</span><span class="s3">\n</span><span class="s1">var htmlBuilder$a = (grp, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">// Accents are handled in the TeXbook pg. 443, rule 12.</span><span class="s3">\n  </span><span class="s1">var base;</span><span class="s3">\n  </span><span class="s1">var group;</span><span class="s3">\n  </span><span class="s1">var supSubGroup;</span><span class="s3">\n\n  </span><span class="s1">if (grp &amp;&amp; grp.type === </span><span class="s3">\&quot;</span><span class="s1">supsub</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">// If our base is a character box, and we have superscripts and</span><span class="s3">\n    </span><span class="s1">// subscripts, the supsub will defer to us. In particular, we want</span><span class="s3">\n    </span><span class="s1">// to attach the superscripts and subscripts to the inner body (so</span><span class="s3">\n    </span><span class="s1">// that the position of the superscripts and subscripts won't be</span><span class="s3">\n    </span><span class="s1">// affected by the height of the accent). We accomplish this by</span><span class="s3">\n    </span><span class="s1">// sticking the base of the accent into the base of the supsub, and</span><span class="s3">\n    </span><span class="s1">// rendering that, while keeping track of where the accent is.</span><span class="s3">\n    </span><span class="s1">// The real accent group is the base of the supsub group</span><span class="s3">\n    </span><span class="s1">group = assertNodeType(grp.base, </span><span class="s3">\&quot;</span><span class="s1">accent</span><span class="s3">\&quot;</span><span class="s1">); // The character box is the base of the accent group</span><span class="s3">\n\n    </span><span class="s1">base = group.base; // Stick the character box into the base of the supsub group</span><span class="s3">\n\n    </span><span class="s1">grp.base = base; // Rerender the supsub group with its new base, and store that</span><span class="s3">\n    </span><span class="s1">// result.</span><span class="s3">\n\n    </span><span class="s1">supSubGroup = assertSpan(buildGroup$1(grp, options)); // reset original base</span><span class="s3">\n\n    </span><span class="s1">grp.base = group;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">group = assertNodeType(grp, </span><span class="s3">\&quot;</span><span class="s1">accent</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">base = group.base;</span><span class="s3">\n  </span><span class="s1">} // Build the base group</span><span class="s3">\n\n\n  </span><span class="s1">var body = buildGroup$1(base, options.havingCrampedStyle()); // Does the accent need to shift for the skew of a character?</span><span class="s3">\n\n  </span><span class="s1">var mustShift = group.isShifty &amp;&amp; utils.isCharacterBox(base); // Calculate the skew of the accent. This is based on the line </span><span class="s3">\&quot;</span><span class="s1">If the</span><span class="s3">\n  </span><span class="s1">// nucleus is not a single character, let s = 0; otherwise set s to the</span><span class="s3">\n  </span><span class="s1">// kern amount for the nucleus followed by the </span><span class="s3">\\</span><span class="s1">skewchar of its font.</span><span class="s3">\&quot;\n  </span><span class="s1">// Note that our skew metrics are just the kern between each character</span><span class="s3">\n  </span><span class="s1">// and the skewchar.</span><span class="s3">\n\n  </span><span class="s1">var skew = 0;</span><span class="s3">\n\n  </span><span class="s1">if (mustShift) {</span><span class="s3">\n    </span><span class="s1">// If the base is a character box, then we want the skew of the</span><span class="s3">\n    </span><span class="s1">// innermost character. To do that, we find the innermost character:</span><span class="s3">\n    </span><span class="s1">var baseChar = utils.getBaseElem(base); // Then, we render its group to get the symbol inside it</span><span class="s3">\n\n    </span><span class="s1">var baseGroup = buildGroup$1(baseChar, options.havingCrampedStyle()); // Finally, we pull the skew off of the symbol.</span><span class="s3">\n\n    </span><span class="s1">skew = assertSymbolDomNode(baseGroup).skew; // Note that we now throw away baseGroup, because the layers we</span><span class="s3">\n    </span><span class="s1">// removed with getBaseElem might contain things like </span><span class="s3">\\</span><span class="s1">color which</span><span class="s3">\n    </span><span class="s1">// we can't get rid of.</span><span class="s3">\n    </span><span class="s1">// TODO(emily): Find a better way to get the skew</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var accentBelow = group.label === </span><span class="s3">\&quot;\\\\</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">; // calculate the amount of space between the body and the accent</span><span class="s3">\n\n  </span><span class="s1">var clearance = accentBelow ? body.height + body.depth : Math.min(body.height, options.fontMetrics().xHeight); // Build the accent</span><span class="s3">\n\n  </span><span class="s1">var accentBody;</span><span class="s3">\n\n  </span><span class="s1">if (!group.isStretchy) {</span><span class="s3">\n    </span><span class="s1">var accent;</span><span class="s3">\n    </span><span class="s1">var width;</span><span class="s3">\n\n    </span><span class="s1">if (group.label === </span><span class="s3">\&quot;\\\\</span><span class="s1">vec</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// Before version 0.9, </span><span class="s3">\\</span><span class="s1">vec used the combining font glyph U+20D7.</span><span class="s3">\n      </span><span class="s1">// But browsers, especially Safari, are not consistent in how they</span><span class="s3">\n      </span><span class="s1">// render combining characters when not preceded by a character.</span><span class="s3">\n      </span><span class="s1">// So now we use an SVG.</span><span class="s3">\n      </span><span class="s1">// If Safari reforms, we should consider reverting to the glyph.</span><span class="s3">\n      </span><span class="s1">accent = buildCommon.staticSvg(</span><span class="s3">\&quot;</span><span class="s1">vec</span><span class="s3">\&quot;</span><span class="s1">, options);</span><span class="s3">\n      </span><span class="s1">width = buildCommon.svgData.vec[1];</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">accent = buildCommon.makeOrd({</span><span class="s3">\n        </span><span class="s1">mode: group.mode,</span><span class="s3">\n        </span><span class="s1">text: group.label</span><span class="s3">\n      </span><span class="s1">}, options, </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">accent = assertSymbolDomNode(accent); // Remove the italic correction of the accent, because it only serves to</span><span class="s3">\n      </span><span class="s1">// shift the accent over to a place we don't want.</span><span class="s3">\n\n      </span><span class="s1">accent.italic = 0;</span><span class="s3">\n      </span><span class="s1">width = accent.width;</span><span class="s3">\n\n      </span><span class="s1">if (accentBelow) {</span><span class="s3">\n        </span><span class="s1">clearance += accent.depth;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">accentBody = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">accent-body</span><span class="s3">\&quot;</span><span class="s1">], [accent]); // </span><span class="s3">\&quot;</span><span class="s1">Full</span><span class="s3">\&quot; </span><span class="s1">accents expand the width of the resulting symbol to be</span><span class="s3">\n    </span><span class="s1">// at least the width of the accent, and overlap directly onto the</span><span class="s3">\n    </span><span class="s1">// character without any vertical offset.</span><span class="s3">\n\n    </span><span class="s1">var accentFull = group.label === </span><span class="s3">\&quot;\\\\</span><span class="s1">textcircled</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">if (accentFull) {</span><span class="s3">\n      </span><span class="s1">accentBody.classes.push('accent-full');</span><span class="s3">\n      </span><span class="s1">clearance = body.height;</span><span class="s3">\n    </span><span class="s1">} // Shift the accent over by the skew.</span><span class="s3">\n\n\n    </span><span class="s1">var left = skew; // CSS defines `.katex .accent .accent-body:not(.accent-full) { width: 0 }`</span><span class="s3">\n    </span><span class="s1">// so that the accent doesn't contribute to the bounding box.</span><span class="s3">\n    </span><span class="s1">// We need to shift the character by its width (effectively half</span><span class="s3">\n    </span><span class="s1">// its width) to compensate.</span><span class="s3">\n\n    </span><span class="s1">if (!accentFull) {</span><span class="s3">\n      </span><span class="s1">left -= width / 2;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">accentBody.style.left = makeEm(left); // </span><span class="s3">\\</span><span class="s1">textcircled uses the </span><span class="s3">\\</span><span class="s1">bigcirc glyph, so it needs some</span><span class="s3">\n    </span><span class="s1">// vertical adjustment to match LaTeX.</span><span class="s3">\n\n    </span><span class="s1">if (group.label === </span><span class="s3">\&quot;\\\\</span><span class="s1">textcircled</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">accentBody.style.top = </span><span class="s3">\&quot;</span><span class="s1">.2em</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">accentBody = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">firstBaseline</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">children: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: body</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">size: -clearance</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: accentBody</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">}, options);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">accentBody = stretchy.svgSpan(group, options);</span><span class="s3">\n    </span><span class="s1">accentBody = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">firstBaseline</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">children: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: body</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: accentBody,</span><span class="s3">\n        </span><span class="s1">wrapperClasses: [</span><span class="s3">\&quot;</span><span class="s1">svg-align</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n        </span><span class="s1">wrapperStyle: skew &gt; 0 ? {</span><span class="s3">\n          </span><span class="s1">width: </span><span class="s3">\&quot;</span><span class="s1">calc(100% - </span><span class="s3">\&quot; </span><span class="s1">+ makeEm(2 * skew) + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">marginLeft: makeEm(2 * skew)</span><span class="s3">\n        </span><span class="s1">} : undefined</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">}, options);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var accentWrap = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">accent</span><span class="s3">\&quot;</span><span class="s1">], [accentBody], options);</span><span class="s3">\n\n  </span><span class="s1">if (supSubGroup) {</span><span class="s3">\n    </span><span class="s1">// Here, we replace the </span><span class="s3">\&quot;</span><span class="s1">base</span><span class="s3">\&quot; </span><span class="s1">child of the supsub with our newly</span><span class="s3">\n    </span><span class="s1">// generated accent.</span><span class="s3">\n    </span><span class="s1">supSubGroup.children[0] = accentWrap; // Since we don't rerun the height calculation after replacing the</span><span class="s3">\n    </span><span class="s1">// accent, we manually recalculate height.</span><span class="s3">\n\n    </span><span class="s1">supSubGroup.height = Math.max(accentWrap.height, supSubGroup.height); // Accents should always be ords, even when their innards are not.</span><span class="s3">\n\n    </span><span class="s1">supSubGroup.classes[0] = </span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">return supSubGroup;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return accentWrap;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var mathmlBuilder$9 = (group, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">var accentNode = group.isStretchy ? stretchy.mathMLnode(group.label) : new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">, [makeText(group.label, group.mode)]);</span><span class="s3">\n  </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mover</span><span class="s3">\&quot;</span><span class="s1">, [buildGroup(group.base, options), accentNode]);</span><span class="s3">\n  </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">accent</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return node;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var NON_STRETCHY_ACCENT_REGEX = new RegExp([</span><span class="s3">\&quot;\\\\</span><span class="s1">acute</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">grave</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ddot</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">tilde</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bar</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">breve</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">check</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">hat</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">vec</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">dot</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathring</span><span class="s3">\&quot;</span><span class="s1">].map(accent =&gt; </span><span class="s3">\&quot;\\\\\&quot; </span><span class="s1">+ accent).join(</span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">)); // Accents</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">accent</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">acute</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">grave</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ddot</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">tilde</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bar</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">breve</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">check</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">hat</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">vec</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">dot</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathring</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">widecheck</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">widehat</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">widetilde</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">overrightarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">overleftarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Overrightarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">overleftrightarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">overgroup</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">overlinesegment</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">overleftharpoon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">overrightharpoon</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (context, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var base = normalizeArgument(args[0]);</span><span class="s3">\n    </span><span class="s1">var isStretchy = !NON_STRETCHY_ACCENT_REGEX.test(context.funcName);</span><span class="s3">\n    </span><span class="s1">var isShifty = !isStretchy || context.funcName === </span><span class="s3">\&quot;\\\\</span><span class="s1">widehat</span><span class="s3">\&quot; </span><span class="s1">|| context.funcName === </span><span class="s3">\&quot;\\\\</span><span class="s1">widetilde</span><span class="s3">\&quot; </span><span class="s1">|| context.funcName === </span><span class="s3">\&quot;\\\\</span><span class="s1">widecheck</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">accent</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: context.parser.mode,</span><span class="s3">\n      </span><span class="s1">label: context.funcName,</span><span class="s3">\n      </span><span class="s1">isStretchy: isStretchy,</span><span class="s3">\n      </span><span class="s1">isShifty: isShifty,</span><span class="s3">\n      </span><span class="s1">base: base</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: htmlBuilder$a,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$9</span><span class="s3">\n</span><span class="s1">}); // Text-mode accents</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">accent</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">`</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">^</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">=</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">, '</span><span class="s3">\\\\\&quot;</span><span class="s1">', </span><span class="s3">\&quot;\\\\</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">v</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcircled</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">allowedInText: true,</span><span class="s3">\n    </span><span class="s1">allowedInMath: true,</span><span class="s3">\n    </span><span class="s1">// unless in strict mode</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">primitive</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (context, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var base = args[0];</span><span class="s3">\n    </span><span class="s1">var mode = context.parser.mode;</span><span class="s3">\n\n    </span><span class="s1">if (mode === </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">context.parser.settings.reportNonstrict(</span><span class="s3">\&quot;</span><span class="s1">mathVsTextAccents</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">LaTeX's accent </span><span class="s3">\&quot; </span><span class="s1">+ context.funcName + </span><span class="s3">\&quot; </span><span class="s1">works only in text mode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">mode = </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">accent</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: mode,</span><span class="s3">\n      </span><span class="s1">label: context.funcName,</span><span class="s3">\n      </span><span class="s1">isStretchy: false,</span><span class="s3">\n      </span><span class="s1">isShifty: true,</span><span class="s3">\n      </span><span class="s1">base: base</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: htmlBuilder$a,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$9</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">// Horizontal overlap functions</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">accentUnder</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">underleftarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">underrightarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">underleftrightarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">undergroup</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">underlinesegment</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">utilde</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var base = args[0];</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">accentUnder</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">label: funcName,</span><span class="s3">\n      </span><span class="s1">base: base</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">// Treat under accents much like underlines.</span><span class="s3">\n    </span><span class="s1">var innerGroup = buildGroup$1(group.base, options);</span><span class="s3">\n    </span><span class="s1">var accentBody = stretchy.svgSpan(group, options);</span><span class="s3">\n    </span><span class="s1">var kern = group.label === </span><span class="s3">\&quot;\\\\</span><span class="s1">utilde</span><span class="s3">\&quot; </span><span class="s1">? 0.12 : 0; // Generate the vlist, with the appropriate kerns</span><span class="s3">\n\n    </span><span class="s1">var vlist = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">top</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">positionData: innerGroup.height,</span><span class="s3">\n      </span><span class="s1">children: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: accentBody,</span><span class="s3">\n        </span><span class="s1">wrapperClasses: [</span><span class="s3">\&quot;</span><span class="s1">svg-align</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">size: kern</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: innerGroup</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">}, options);</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">accentunder</span><span class="s3">\&quot;</span><span class="s1">], [vlist], options);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">var accentNode = stretchy.mathMLnode(group.label);</span><span class="s3">\n    </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">munder</span><span class="s3">\&quot;</span><span class="s1">, [buildGroup(group.base, options), accentNode]);</span><span class="s3">\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">accentunder</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">// Helper function</span><span class="s3">\n</span><span class="s1">var paddedNode = group =&gt; {</span><span class="s3">\n  </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mpadded</span><span class="s3">\&quot;</span><span class="s1">, group ? [group] : []);</span><span class="s3">\n  </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">+0.6em</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">lspace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0.3em</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return node;</span><span class="s3">\n</span><span class="s1">}; // Stretchy arrows with an optional argument</span><span class="s3">\n\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">xArrow</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">xleftarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xrightarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xLeftarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xRightarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xleftrightarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xLeftrightarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xhookleftarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xhookrightarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xmapsto</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xrightharpoondown</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xrightharpoonup</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xleftharpoondown</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xleftharpoonup</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xrightleftharpoons</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xleftrightharpoons</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xlongequal</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xtwoheadrightarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xtwoheadleftarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xtofrom</span><span class="s3">\&quot;</span><span class="s1">, // The next 3 functions are here to support the mhchem extension.</span><span class="s3">\n  </span><span class="s1">// Direct use of these functions is discouraged and may break someday.</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">xrightleftarrows</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xrightequilibrium</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xleftequilibrium</span><span class="s3">\&quot;</span><span class="s1">, // The next 3 functions are here only to support the {CD} environment.</span><span class="s3">\n  \&quot;\\\\\\\\</span><span class="s1">cdrightarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">cdleftarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">cdlongequal</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">numOptionalArgs: 1</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args, optArgs) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">xArrow</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">label: funcName,</span><span class="s3">\n      </span><span class="s1">body: args[0],</span><span class="s3">\n      </span><span class="s1">below: optArgs[0]</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">// Flow is unable to correctly infer the type of `group`, even though it's</span><span class="s3">\n  </span><span class="s1">// unambiguously determined from the passed-in `type` above.</span><span class="s3">\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var style = options.style; // Build the argument groups in the appropriate style.</span><span class="s3">\n    </span><span class="s1">// Ref: amsmath.dtx:   </span><span class="s3">\\</span><span class="s1">hbox{$</span><span class="s3">\\</span><span class="s1">scriptstyle</span><span class="s3">\\</span><span class="s1">mkern#3mu{#6}</span><span class="s3">\\</span><span class="s1">mkern#4mu$}%</span><span class="s3">\n    </span><span class="s1">// Some groups can return document fragments.  Handle those by wrapping</span><span class="s3">\n    </span><span class="s1">// them in a span.</span><span class="s3">\n\n    </span><span class="s1">var newOptions = options.havingStyle(style.sup());</span><span class="s3">\n    </span><span class="s1">var upperGroup = buildCommon.wrapFragment(buildGroup$1(group.body, newOptions, options), options);</span><span class="s3">\n    </span><span class="s1">var arrowPrefix = group.label.slice(0, 2) === </span><span class="s3">\&quot;\\\\</span><span class="s1">x</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">cd</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">upperGroup.classes.push(arrowPrefix + </span><span class="s3">\&quot;</span><span class="s1">-arrow-pad</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">var lowerGroup;</span><span class="s3">\n\n    </span><span class="s1">if (group.below) {</span><span class="s3">\n      </span><span class="s1">// Build the lower group</span><span class="s3">\n      </span><span class="s1">newOptions = options.havingStyle(style.sub());</span><span class="s3">\n      </span><span class="s1">lowerGroup = buildCommon.wrapFragment(buildGroup$1(group.below, newOptions, options), options);</span><span class="s3">\n      </span><span class="s1">lowerGroup.classes.push(arrowPrefix + </span><span class="s3">\&quot;</span><span class="s1">-arrow-pad</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var arrowBody = stretchy.svgSpan(group, options); // Re shift: Note that stretchy.svgSpan returned arrowBody.depth = 0.</span><span class="s3">\n    </span><span class="s1">// The point we want on the math axis is at 0.5 * arrowBody.height.</span><span class="s3">\n\n    </span><span class="s1">var arrowShift = -options.fontMetrics().axisHeight + 0.5 * arrowBody.height; // 2 mu kern. Ref: amsmath.dtx: #7</span><span class="s3">\\</span><span class="s1">if0#2</span><span class="s3">\\</span><span class="s1">else</span><span class="s3">\\</span><span class="s1">mkern#2mu</span><span class="s3">\\</span><span class="s1">fi</span><span class="s3">\n\n    </span><span class="s1">var upperShift = -options.fontMetrics().axisHeight - 0.5 * arrowBody.height - 0.111; // 0.111 em = 2 mu</span><span class="s3">\n\n    </span><span class="s1">if (upperGroup.depth &gt; 0.25 || group.label === </span><span class="s3">\&quot;\\\\</span><span class="s1">xleftequilibrium</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">upperShift -= upperGroup.depth; // shift up if depth encroaches</span><span class="s3">\n    </span><span class="s1">} // Generate the vlist</span><span class="s3">\n\n\n    </span><span class="s1">var vlist;</span><span class="s3">\n\n    </span><span class="s1">if (lowerGroup) {</span><span class="s3">\n      </span><span class="s1">var lowerShift = -options.fontMetrics().axisHeight + lowerGroup.height + 0.5 * arrowBody.height + 0.111;</span><span class="s3">\n      </span><span class="s1">vlist = buildCommon.makeVList({</span><span class="s3">\n        </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">individualShift</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">children: [{</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">elem: upperGroup,</span><span class="s3">\n          </span><span class="s1">shift: upperShift</span><span class="s3">\n        </span><span class="s1">}, {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">elem: arrowBody,</span><span class="s3">\n          </span><span class="s1">shift: arrowShift</span><span class="s3">\n        </span><span class="s1">}, {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">elem: lowerGroup,</span><span class="s3">\n          </span><span class="s1">shift: lowerShift</span><span class="s3">\n        </span><span class="s1">}]</span><span class="s3">\n      </span><span class="s1">}, options);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">vlist = buildCommon.makeVList({</span><span class="s3">\n        </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">individualShift</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">children: [{</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">elem: upperGroup,</span><span class="s3">\n          </span><span class="s1">shift: upperShift</span><span class="s3">\n        </span><span class="s1">}, {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">elem: arrowBody,</span><span class="s3">\n          </span><span class="s1">shift: arrowShift</span><span class="s3">\n        </span><span class="s1">}]</span><span class="s3">\n      </span><span class="s1">}, options);</span><span class="s3">\n    </span><span class="s1">} // $FlowFixMe: Replace this with passing </span><span class="s3">\&quot;</span><span class="s1">svg-align</span><span class="s3">\&quot; </span><span class="s1">into makeVList.</span><span class="s3">\n\n\n    </span><span class="s1">vlist.children[0].children[0].children[1].classes.push(</span><span class="s3">\&quot;</span><span class="s1">svg-align</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mrel</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">x-arrow</span><span class="s3">\&quot;</span><span class="s1">], [vlist], options);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var arrowNode = stretchy.mathMLnode(group.label);</span><span class="s3">\n    </span><span class="s1">arrowNode.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">minsize</span><span class="s3">\&quot;</span><span class="s1">, group.label.charAt(0) === </span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">1.75em</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">3.0em</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">var node;</span><span class="s3">\n\n    </span><span class="s1">if (group.body) {</span><span class="s3">\n      </span><span class="s1">var upperNode = paddedNode(buildGroup(group.body, options));</span><span class="s3">\n\n      </span><span class="s1">if (group.below) {</span><span class="s3">\n        </span><span class="s1">var lowerNode = paddedNode(buildGroup(group.below, options));</span><span class="s3">\n        </span><span class="s1">node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">munderover</span><span class="s3">\&quot;</span><span class="s1">, [arrowNode, lowerNode, upperNode]);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mover</span><span class="s3">\&quot;</span><span class="s1">, [arrowNode, upperNode]);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (group.below) {</span><span class="s3">\n      </span><span class="s1">var _lowerNode = paddedNode(buildGroup(group.below, options));</span><span class="s3">\n\n      </span><span class="s1">node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">munder</span><span class="s3">\&quot;</span><span class="s1">, [arrowNode, _lowerNode]);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">// This should never happen.</span><span class="s3">\n      </span><span class="s1">// Parser.js throws an error if there is no argument.</span><span class="s3">\n      </span><span class="s1">node = paddedNode();</span><span class="s3">\n      </span><span class="s1">node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mover</span><span class="s3">\&quot;</span><span class="s1">, [arrowNode, node]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">var makeSpan = buildCommon.makeSpan;</span><span class="s3">\n\n</span><span class="s1">function htmlBuilder$9(group, options) {</span><span class="s3">\n  </span><span class="s1">var elements = buildExpression$1(group.body, options, true);</span><span class="s3">\n  </span><span class="s1">return makeSpan([group.mclass], elements, options);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function mathmlBuilder$8(group, options) {</span><span class="s3">\n  </span><span class="s1">var node;</span><span class="s3">\n  </span><span class="s1">var inner = buildExpression(group.body, options);</span><span class="s3">\n\n  </span><span class="s1">if (group.mclass === </span><span class="s3">\&quot;</span><span class="s1">minner</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mpadded</span><span class="s3">\&quot;</span><span class="s1">, inner);</span><span class="s3">\n  </span><span class="s1">} else if (group.mclass === </span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">if (group.isCharacterBox) {</span><span class="s3">\n      </span><span class="s1">node = inner[0];</span><span class="s3">\n      </span><span class="s1">node.type = </span><span class="s3">\&quot;</span><span class="s1">mi</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mi</span><span class="s3">\&quot;</span><span class="s1">, inner);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">if (group.isCharacterBox) {</span><span class="s3">\n      </span><span class="s1">node = inner[0];</span><span class="s3">\n      </span><span class="s1">node.type = </span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">, inner);</span><span class="s3">\n    </span><span class="s1">} // Set spacing based on what is the most likely adjacent atom type.</span><span class="s3">\n    </span><span class="s1">// See TeXbook p170.</span><span class="s3">\n\n\n    </span><span class="s1">if (group.mclass === </span><span class="s3">\&quot;</span><span class="s1">mbin</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">node.attributes.lspace = </span><span class="s3">\&quot;</span><span class="s1">0.22em</span><span class="s3">\&quot;</span><span class="s1">; // medium space</span><span class="s3">\n\n      </span><span class="s1">node.attributes.rspace = </span><span class="s3">\&quot;</span><span class="s1">0.22em</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">} else if (group.mclass === </span><span class="s3">\&quot;</span><span class="s1">mpunct</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">node.attributes.lspace = </span><span class="s3">\&quot;</span><span class="s1">0em</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">node.attributes.rspace = </span><span class="s3">\&quot;</span><span class="s1">0.17em</span><span class="s3">\&quot;</span><span class="s1">; // thinspace</span><span class="s3">\n    </span><span class="s1">} else if (group.mclass === </span><span class="s3">\&quot;</span><span class="s1">mopen</span><span class="s3">\&quot; </span><span class="s1">|| group.mclass === </span><span class="s3">\&quot;</span><span class="s1">mclose</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">node.attributes.lspace = </span><span class="s3">\&quot;</span><span class="s1">0em</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">node.attributes.rspace = </span><span class="s3">\&quot;</span><span class="s1">0em</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">} else if (group.mclass === </span><span class="s3">\&quot;</span><span class="s1">minner</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">node.attributes.lspace = </span><span class="s3">\&quot;</span><span class="s1">0.0556em</span><span class="s3">\&quot;</span><span class="s1">; // 1 mu is the most likely option</span><span class="s3">\n\n      </span><span class="s1">node.attributes.width = </span><span class="s3">\&quot;</span><span class="s1">+0.1111em</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">} // MathML &lt;mo&gt; default space is 5/18 em, so &lt;mrel&gt; needs no action.</span><span class="s3">\n    </span><span class="s1">// Ref: https://developer.mozilla.org/en-US/docs/Web/MathML/Element/mo</span><span class="s3">\n\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return node;</span><span class="s3">\n</span><span class="s1">} // Math class commands except </span><span class="s3">\\</span><span class="s1">mathop</span><span class="s3">\n\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">mclass</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">mathord</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathbin</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathopen</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathclose</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathpunct</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathinner</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">primitive: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var body = args[0];</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">mclass</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">mclass: </span><span class="s3">\&quot;</span><span class="s1">m</span><span class="s3">\&quot; </span><span class="s1">+ funcName.slice(5),</span><span class="s3">\n      </span><span class="s1">// TODO(kevinb): don't prefix with 'm'</span><span class="s3">\n      </span><span class="s1">body: ordargument(body),</span><span class="s3">\n      </span><span class="s1">isCharacterBox: utils.isCharacterBox(body)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$9,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$8</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var binrelClass = arg =&gt; {</span><span class="s3">\n  </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">binrel@ spacing varies with (bin|rel|ord) of the atom in the argument.</span><span class="s3">\n  </span><span class="s1">// (by rendering separately and with {}s before and after, and measuring</span><span class="s3">\n  </span><span class="s1">// the change in spacing).  We'll do roughly the same by detecting the</span><span class="s3">\n  </span><span class="s1">// atom type directly.</span><span class="s3">\n  </span><span class="s1">var atom = arg.type === </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; arg.body.length ? arg.body[0] : arg;</span><span class="s3">\n\n  </span><span class="s1">if (atom.type === </span><span class="s3">\&quot;</span><span class="s1">atom</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; (atom.family === </span><span class="s3">\&quot;</span><span class="s1">bin</span><span class="s3">\&quot; </span><span class="s1">|| atom.family === </span><span class="s3">\&quot;</span><span class="s1">rel</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">m</span><span class="s3">\&quot; </span><span class="s1">+ atom.family;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}; // </span><span class="s3">\\</span><span class="s1">@binrel{x}{y} renders like y but as mbin/mrel/mord if x is mbin/mrel/mord.</span><span class="s3">\n</span><span class="s1">// This is equivalent to </span><span class="s3">\\</span><span class="s1">binrel@{x}</span><span class="s3">\\</span><span class="s1">binrel@@{y} in AMSTeX.</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">mclass</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">@binrel</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 2</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref2, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref2;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">mclass</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">mclass: binrelClass(args[0]),</span><span class="s3">\n      </span><span class="s1">body: ordargument(args[1]),</span><span class="s3">\n      </span><span class="s1">isCharacterBox: utils.isCharacterBox(args[1])</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}); // Build a relation or stacked op by placing one symbol on top of another</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">mclass</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">stackrel</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">overset</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">underset</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 2</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref3, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref3;</span><span class="s3">\n    </span><span class="s1">var baseArg = args[1];</span><span class="s3">\n    </span><span class="s1">var shiftedArg = args[0];</span><span class="s3">\n    </span><span class="s1">var mclass;</span><span class="s3">\n\n    </span><span class="s1">if (funcName !== </span><span class="s3">\&quot;\\\\</span><span class="s1">stackrel</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// LaTeX applies </span><span class="s3">\\</span><span class="s1">binrel spacing to </span><span class="s3">\\</span><span class="s1">overset and </span><span class="s3">\\</span><span class="s1">underset.</span><span class="s3">\n      </span><span class="s1">mclass = binrelClass(baseArg);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">mclass = </span><span class="s3">\&quot;</span><span class="s1">mrel</span><span class="s3">\&quot;</span><span class="s1">; // for </span><span class="s3">\\</span><span class="s1">stackrel</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var baseOp = {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: baseArg.mode,</span><span class="s3">\n      </span><span class="s1">limits: true,</span><span class="s3">\n      </span><span class="s1">alwaysHandleSupSub: true,</span><span class="s3">\n      </span><span class="s1">parentIsSupSub: false,</span><span class="s3">\n      </span><span class="s1">symbol: false,</span><span class="s3">\n      </span><span class="s1">suppressBaseShift: funcName !== </span><span class="s3">\&quot;\\\\</span><span class="s1">stackrel</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">body: ordargument(baseArg)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">var supsub = {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">supsub</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: shiftedArg.mode,</span><span class="s3">\n      </span><span class="s1">base: baseOp,</span><span class="s3">\n      </span><span class="s1">sup: funcName === </span><span class="s3">\&quot;\\\\</span><span class="s1">underset</span><span class="s3">\&quot; </span><span class="s1">? null : shiftedArg,</span><span class="s3">\n      </span><span class="s1">sub: funcName === </span><span class="s3">\&quot;\\\\</span><span class="s1">underset</span><span class="s3">\&quot; </span><span class="s1">? shiftedArg : null</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">mclass</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">mclass,</span><span class="s3">\n      </span><span class="s1">body: [supsub],</span><span class="s3">\n      </span><span class="s1">isCharacterBox: utils.isCharacterBox(supsub)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$9,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$8</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">pmb is a simulation of bold font.</span><span class="s3">\n</span><span class="s1">// The version of </span><span class="s3">\\</span><span class="s1">pmb in ambsy.sty works by typesetting three copies</span><span class="s3">\n</span><span class="s1">// with small offsets. We use CSS text-shadow.</span><span class="s3">\n</span><span class="s1">// It's a hack. Not as good as a real bold font. Better than nothing.</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">pmb</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">pmb</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">pmb</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">mclass: binrelClass(args[0]),</span><span class="s3">\n      </span><span class="s1">body: ordargument(args[0])</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var elements = buildExpression$1(group.body, options, true);</span><span class="s3">\n    </span><span class="s1">var node = buildCommon.makeSpan([group.mclass], elements, options);</span><span class="s3">\n    </span><span class="s1">node.style.textShadow = </span><span class="s3">\&quot;</span><span class="s1">0.02em 0.01em 0.04px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, style) {</span><span class="s3">\n    </span><span class="s1">var inner = buildExpression(group.body, style); // Wrap with an &lt;mstyle&gt; element.</span><span class="s3">\n\n    </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mstyle</span><span class="s3">\&quot;</span><span class="s1">, inner);</span><span class="s3">\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">text-shadow: 0.02em 0.01em 0.04px</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">var cdArrowFunctionName = {</span><span class="s3">\n  \&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">cdrightarrow</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">cdleftarrow</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">=</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">cdlongequal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">uparrow</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">V</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">downarrow</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">Vert</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">no arrow</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var newCell = () =&gt; {</span><span class="s3">\n  </span><span class="s1">// Create an empty cell, to be filled below with parse nodes.</span><span class="s3">\n  </span><span class="s1">// The parseTree from this module must be constructed like the</span><span class="s3">\n  </span><span class="s1">// one created by parseArray(), so an empty CD cell must</span><span class="s3">\n  </span><span class="s1">// be a ParseNode&lt;</span><span class="s3">\&quot;</span><span class="s1">styling</span><span class="s3">\&quot;</span><span class="s1">&gt;. And CD is always displaystyle.</span><span class="s3">\n  </span><span class="s1">// So these values are fixed and flow can do implicit typing.</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">styling</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">body: [],</span><span class="s3">\n    </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">style: </span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var isStartOfArrow = node =&gt; {</span><span class="s3">\n  </span><span class="s1">return node.type === </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; node.text === </span><span class="s3">\&quot;</span><span class="s1">@</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var isLabelEnd = (node, endChar) =&gt; {</span><span class="s3">\n  </span><span class="s1">return (node.type === </span><span class="s3">\&quot;</span><span class="s1">mathord</span><span class="s3">\&quot; </span><span class="s1">|| node.type === </span><span class="s3">\&quot;</span><span class="s1">atom</span><span class="s3">\&quot;</span><span class="s1">) &amp;&amp; node.text === endChar;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">function cdArrow(arrowChar, labels, parser) {</span><span class="s3">\n  </span><span class="s1">// Return a parse tree of an arrow and its labels.</span><span class="s3">\n  </span><span class="s1">// This acts in a way similar to a macro expansion.</span><span class="s3">\n  </span><span class="s1">var funcName = cdArrowFunctionName[arrowChar];</span><span class="s3">\n\n  </span><span class="s1">switch (funcName) {</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">cdrightarrow</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">cdleftarrow</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return parser.callFunction(funcName, [labels[0]], [labels[1]]);</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">uparrow</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">downarrow</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">{</span><span class="s3">\n        </span><span class="s1">var leftLabel = parser.callFunction(</span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">cdleft</span><span class="s3">\&quot;</span><span class="s1">, [labels[0]], []);</span><span class="s3">\n        </span><span class="s1">var bareArrow = {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">atom</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">text: funcName,</span><span class="s3">\n          </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">family: </span><span class="s3">\&quot;</span><span class="s1">rel</span><span class="s3">\&quot;\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">var sizedArrow = parser.callFunction(</span><span class="s3">\&quot;\\\\</span><span class="s1">Big</span><span class="s3">\&quot;</span><span class="s1">, [bareArrow], []);</span><span class="s3">\n        </span><span class="s1">var rightLabel = parser.callFunction(</span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">cdright</span><span class="s3">\&quot;</span><span class="s1">, [labels[1]], []);</span><span class="s3">\n        </span><span class="s1">var arrowGroup = {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">body: [leftLabel, sizedArrow, rightLabel]</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">return parser.callFunction(</span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">cdparent</span><span class="s3">\&quot;</span><span class="s1">, [arrowGroup], []);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">cdlongequal</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return parser.callFunction(</span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">cdlongequal</span><span class="s3">\&quot;</span><span class="s1">, [], []);</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">Vert</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">{</span><span class="s3">\n        </span><span class="s1">var arrow = {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">text: </span><span class="s3">\&quot;\\\\</span><span class="s1">Vert</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">return parser.callFunction(</span><span class="s3">\&quot;\\\\</span><span class="s1">Big</span><span class="s3">\&quot;</span><span class="s1">, [arrow], []);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">default:</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">text: </span><span class="s3">\&quot; \&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;\n      </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseCD(parser) {</span><span class="s3">\n  </span><span class="s1">// Get the array's parse nodes with </span><span class="s3">\\\\ </span><span class="s1">temporarily mapped to </span><span class="s3">\\</span><span class="s1">cr.</span><span class="s3">\n  </span><span class="s1">var parsedRows = [];</span><span class="s3">\n  </span><span class="s1">parser.gullet.beginGroup();</span><span class="s3">\n  </span><span class="s1">parser.gullet.macros.set(</span><span class="s3">\&quot;\\\\</span><span class="s1">cr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\\\\\\\\\</span><span class="s1">relax</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">parser.gullet.beginGroup();</span><span class="s3">\n\n  </span><span class="s1">while (true) {</span><span class="s3">\n    </span><span class="s1">// eslint-disable-line no-constant-condition</span><span class="s3">\n    </span><span class="s1">// Get the parse nodes for the next row.</span><span class="s3">\n    </span><span class="s1">parsedRows.push(parser.parseExpression(false, </span><span class="s3">\&quot;\\\\\\\\\&quot;</span><span class="s1">));</span><span class="s3">\n    </span><span class="s1">parser.gullet.endGroup();</span><span class="s3">\n    </span><span class="s1">parser.gullet.beginGroup();</span><span class="s3">\n    </span><span class="s1">var next = parser.fetch().text;</span><span class="s3">\n\n    </span><span class="s1">if (next === </span><span class="s3">\&quot;</span><span class="s1">&amp;</span><span class="s3">\&quot; </span><span class="s1">|| next === </span><span class="s3">\&quot;\\\\\\\\\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">parser.consume();</span><span class="s3">\n    </span><span class="s1">} else if (next === </span><span class="s3">\&quot;\\\\</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">if (parsedRows[parsedRows.length - 1].length === 0) {</span><span class="s3">\n        </span><span class="s1">parsedRows.pop(); // final row ended in </span><span class="s3">\\\\\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Expected </span><span class="s3">\\\\\\\\ </span><span class="s1">or </span><span class="s3">\\\\</span><span class="s1">cr or </span><span class="s3">\\\\</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">, parser.nextToken);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var row = [];</span><span class="s3">\n  </span><span class="s1">var body = [row]; // Loop thru the parse nodes. Collect them into cells and arrows.</span><span class="s3">\n\n  </span><span class="s1">for (var i = 0; i &lt; parsedRows.length; i++) {</span><span class="s3">\n    </span><span class="s1">// Start a new row.</span><span class="s3">\n    </span><span class="s1">var rowNodes = parsedRows[i]; // Create the first cell.</span><span class="s3">\n\n    </span><span class="s1">var cell = newCell();</span><span class="s3">\n\n    </span><span class="s1">for (var j = 0; j &lt; rowNodes.length; j++) {</span><span class="s3">\n      </span><span class="s1">if (!isStartOfArrow(rowNodes[j])) {</span><span class="s3">\n        </span><span class="s1">// If a parseNode is not an arrow, it goes into a cell.</span><span class="s3">\n        </span><span class="s1">cell.body.push(rowNodes[j]);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">// Parse node j is an </span><span class="s3">\&quot;</span><span class="s1">@</span><span class="s3">\&quot;</span><span class="s1">, the start of an arrow.</span><span class="s3">\n        </span><span class="s1">// Before starting on the arrow, push the cell into `row`.</span><span class="s3">\n        </span><span class="s1">row.push(cell); // Now collect parseNodes into an arrow.</span><span class="s3">\n        </span><span class="s1">// The character after </span><span class="s3">\&quot;</span><span class="s1">@</span><span class="s3">\&quot; </span><span class="s1">defines the arrow type.</span><span class="s3">\n\n        </span><span class="s1">j += 1;</span><span class="s3">\n        </span><span class="s1">var arrowChar = assertSymbolNodeType(rowNodes[j]).text; // Create two empty label nodes. We may or may not use them.</span><span class="s3">\n\n        </span><span class="s1">var labels = new Array(2);</span><span class="s3">\n        </span><span class="s1">labels[0] = {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">body: []</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">labels[1] = {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">body: []</span><span class="s3">\n        </span><span class="s1">}; // Process the arrow.</span><span class="s3">\n\n        </span><span class="s1">if (</span><span class="s3">\&quot;</span><span class="s1">=|.</span><span class="s3">\&quot;</span><span class="s1">.indexOf(arrowChar) &gt; -1) ; else if (</span><span class="s3">\&quot;</span><span class="s1">&lt;&gt;AV</span><span class="s3">\&quot;</span><span class="s1">.indexOf(arrowChar) &gt; -1) {</span><span class="s3">\n          </span><span class="s1">// Four arrows, `@&gt;&gt;&gt;`, `@&lt;&lt;&lt;`, `@AAA`, and `@VVV`, each take</span><span class="s3">\n          </span><span class="s1">// two optional labels. E.g. the right-point arrow syntax is</span><span class="s3">\n          </span><span class="s1">// really:  @&gt;{optional label}&gt;{optional label}&gt;</span><span class="s3">\n          </span><span class="s1">// Collect parseNodes into labels.</span><span class="s3">\n          </span><span class="s1">for (var labelNum = 0; labelNum &lt; 2; labelNum++) {</span><span class="s3">\n            </span><span class="s1">var inLabel = true;</span><span class="s3">\n\n            </span><span class="s1">for (var k = j + 1; k &lt; rowNodes.length; k++) {</span><span class="s3">\n              </span><span class="s1">if (isLabelEnd(rowNodes[k], arrowChar)) {</span><span class="s3">\n                </span><span class="s1">inLabel = false;</span><span class="s3">\n                </span><span class="s1">j = k;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n\n              </span><span class="s1">if (isStartOfArrow(rowNodes[k])) {</span><span class="s3">\n                </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Missing a </span><span class="s3">\&quot; </span><span class="s1">+ arrowChar + </span><span class="s3">\&quot; </span><span class="s1">character to complete a CD arrow.</span><span class="s3">\&quot;</span><span class="s1">, rowNodes[k]);</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n\n              </span><span class="s1">labels[labelNum].body.push(rowNodes[k]);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n            </span><span class="s1">if (inLabel) {</span><span class="s3">\n              </span><span class="s1">// isLabelEnd never returned a true.</span><span class="s3">\n              </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Missing a </span><span class="s3">\&quot; </span><span class="s1">+ arrowChar + </span><span class="s3">\&quot; </span><span class="s1">character to complete a CD arrow.</span><span class="s3">\&quot;</span><span class="s1">, rowNodes[j]);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Expected one of </span><span class="s3">\\\&quot;</span><span class="s1">&lt;&gt;AV=|.</span><span class="s3">\\\&quot; </span><span class="s1">after @</span><span class="s3">\&quot;</span><span class="s1">, rowNodes[j]);</span><span class="s3">\n        </span><span class="s1">} // Now join the arrow to its labels.</span><span class="s3">\n\n\n        </span><span class="s1">var arrow = cdArrow(arrowChar, labels, parser); // Wrap the arrow in  ParseNode&lt;</span><span class="s3">\&quot;</span><span class="s1">styling</span><span class="s3">\&quot;</span><span class="s1">&gt;.</span><span class="s3">\n        </span><span class="s1">// This is done to match parseArray() behavior.</span><span class="s3">\n\n        </span><span class="s1">var wrappedArrow = {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">styling</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">body: [arrow],</span><span class="s3">\n          </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">style: </span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot; </span><span class="s1">// CD is always displaystyle.</span><span class="s3">\n\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">row.push(wrappedArrow); // In CD's syntax, cells are implicit. That is, everything that</span><span class="s3">\n        </span><span class="s1">// is not an arrow gets collected into a cell. So create an empty</span><span class="s3">\n        </span><span class="s1">// cell now. It will collect upcoming parseNodes.</span><span class="s3">\n\n        </span><span class="s1">cell = newCell();</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (i % 2 === 0) {</span><span class="s3">\n      </span><span class="s1">// Even-numbered rows consist of: cell, arrow, cell, arrow, ... cell</span><span class="s3">\n      </span><span class="s1">// The last cell is not yet pushed into `row`, so:</span><span class="s3">\n      </span><span class="s1">row.push(cell);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">// Odd-numbered rows consist of: vert arrow, empty cell, ... vert arrow</span><span class="s3">\n      </span><span class="s1">// Remove the empty cell that was placed at the beginning of `row`.</span><span class="s3">\n      </span><span class="s1">row.shift();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">row = [];</span><span class="s3">\n    </span><span class="s1">body.push(row);</span><span class="s3">\n  </span><span class="s1">} // End row group</span><span class="s3">\n\n\n  </span><span class="s1">parser.gullet.endGroup(); // End array group defining </span><span class="s3">\\\\\n\n  </span><span class="s1">parser.gullet.endGroup(); // define column separation.</span><span class="s3">\n\n  </span><span class="s1">var cols = new Array(body[0].length).fill({</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">align</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">align: </span><span class="s3">\&quot;</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">pregap: 0.25,</span><span class="s3">\n    </span><span class="s1">// CD package sets </span><span class="s3">\\</span><span class="s1">enskip between columns.</span><span class="s3">\n    </span><span class="s1">postgap: 0.25 // So pre and post each get half an </span><span class="s3">\\</span><span class="s1">enskip, i.e. 0.25em.</span><span class="s3">\n\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">body,</span><span class="s3">\n    </span><span class="s1">arraystretch: 1,</span><span class="s3">\n    </span><span class="s1">addJot: true,</span><span class="s3">\n    </span><span class="s1">rowGaps: [null],</span><span class="s3">\n    </span><span class="s1">cols,</span><span class="s3">\n    </span><span class="s1">colSeparationType: </span><span class="s3">\&quot;</span><span class="s1">CD</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">hLinesBeforeRow: new Array(body.length + 1).fill([])</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">} // The functions below are not available for general use.</span><span class="s3">\n</span><span class="s1">// They are here only for internal use by the {CD} environment in placing labels</span><span class="s3">\n</span><span class="s1">// next to vertical arrows.</span><span class="s3">\n</span><span class="s1">// We don't need any such functions for horizontal arrows because we can reuse</span><span class="s3">\n</span><span class="s1">// the functionality that already exists for extensible arrows.</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">cdlabel</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">cdleft</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">cdright</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">cdlabel</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">side: funcName.slice(4),</span><span class="s3">\n      </span><span class="s1">label: args[0]</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var newOptions = options.havingStyle(options.style.sup());</span><span class="s3">\n    </span><span class="s1">var label = buildCommon.wrapFragment(buildGroup$1(group.label, newOptions, options), options);</span><span class="s3">\n    </span><span class="s1">label.classes.push(</span><span class="s3">\&quot;</span><span class="s1">cd-label-</span><span class="s3">\&quot; </span><span class="s1">+ group.side);</span><span class="s3">\n    </span><span class="s1">label.style.bottom = makeEm(0.8 - label.depth); // Zero out label height &amp; depth, so vertical align of arrow is set</span><span class="s3">\n    </span><span class="s1">// by the arrow height, not by the label.</span><span class="s3">\n\n    </span><span class="s1">label.height = 0;</span><span class="s3">\n    </span><span class="s1">label.depth = 0;</span><span class="s3">\n    </span><span class="s1">return label;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var label = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mrow</span><span class="s3">\&quot;</span><span class="s1">, [buildGroup(group.label, options)]);</span><span class="s3">\n    </span><span class="s1">label = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mpadded</span><span class="s3">\&quot;</span><span class="s1">, [label]);</span><span class="s3">\n    </span><span class="s1">label.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">if (group.side === </span><span class="s3">\&quot;</span><span class="s1">left</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">label.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">lspace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">-1width</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} // We have to guess at vertical alignment. We know the arrow is 1.8em tall,</span><span class="s3">\n    </span><span class="s1">// But we don't know the height or depth of the label.</span><span class="s3">\n\n\n    </span><span class="s1">label.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">voffset</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0.7em</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">label = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mstyle</span><span class="s3">\&quot;</span><span class="s1">, [label]);</span><span class="s3">\n    </span><span class="s1">label.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">displaystyle</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">label.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">scriptlevel</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return label;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">cdlabelparent</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">cdparent</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref2, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref2;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">cdlabelparent</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">fragment: args[0]</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">// Wrap the vertical arrow and its labels.</span><span class="s3">\n    </span><span class="s1">// The parent gets position: relative. The child gets position: absolute.</span><span class="s3">\n    </span><span class="s1">// So CSS can locate the label correctly.</span><span class="s3">\n    </span><span class="s1">var parent = buildCommon.wrapFragment(buildGroup$1(group.fragment, options), options);</span><span class="s3">\n    </span><span class="s1">parent.classes.push(</span><span class="s3">\&quot;</span><span class="s1">cd-vert-arrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return parent;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">return new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mrow</span><span class="s3">\&quot;</span><span class="s1">, [buildGroup(group.fragment, options)]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">// {123} and converts into symbol with code 123.  It is used by the *macro*</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">char defined in macros.js.</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">@char</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var arg = assertNodeType(args[0], </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">var group = arg.body;</span><span class="s3">\n    </span><span class="s1">var number = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">for (var i = 0; i &lt; group.length; i++) {</span><span class="s3">\n      </span><span class="s1">var node = assertNodeType(group[i], </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">number += node.text;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var code = parseInt(number);</span><span class="s3">\n    </span><span class="s1">var text;</span><span class="s3">\n\n    </span><span class="s1">if (isNaN(code)) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;\\\\</span><span class="s1">@char has non-numeric argument </span><span class="s3">\&quot; </span><span class="s1">+ number); // If we drop IE support, the following code could be replaced with</span><span class="s3">\n      </span><span class="s1">// text = String.fromCodePoint(code)</span><span class="s3">\n    </span><span class="s1">} else if (code &lt; 0 || code &gt;= 0x10ffff) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;\\\\</span><span class="s1">@char with invalid code point </span><span class="s3">\&quot; </span><span class="s1">+ number);</span><span class="s3">\n    </span><span class="s1">} else if (code &lt;= 0xffff) {</span><span class="s3">\n      </span><span class="s1">text = String.fromCharCode(code);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">// Astral code point; split into surrogate halves</span><span class="s3">\n      </span><span class="s1">code -= 0x10000;</span><span class="s3">\n      </span><span class="s1">text = String.fromCharCode((code &gt;&gt; 10) + 0xd800, (code &amp; 0x3ff) + 0xdc00);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">text: text</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">var htmlBuilder$8 = (group, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">var elements = buildExpression$1(group.body, options.withColor(group.color), false); // </span><span class="s3">\\</span><span class="s1">color isn't supposed to affect the type of the elements it contains.</span><span class="s3">\n  </span><span class="s1">// To accomplish this, we wrap the results in a fragment, so the inner</span><span class="s3">\n  </span><span class="s1">// elements will be able to directly interact with their neighbors. For</span><span class="s3">\n  </span><span class="s1">// example, `</span><span class="s3">\\</span><span class="s1">color{red}{2 +} 3` has the same spacing as `2 + 3`</span><span class="s3">\n\n  </span><span class="s1">return buildCommon.makeFragment(elements);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var mathmlBuilder$7 = (group, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">var inner = buildExpression(group.body, options.withColor(group.color));</span><span class="s3">\n  </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mstyle</span><span class="s3">\&quot;</span><span class="s1">, inner);</span><span class="s3">\n  </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">mathcolor</span><span class="s3">\&quot;</span><span class="s1">, group.color);</span><span class="s3">\n  </span><span class="s1">return node;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 2,</span><span class="s3">\n    </span><span class="s1">allowedInText: true,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">original</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var color = assertNodeType(args[0], </span><span class="s3">\&quot;</span><span class="s1">color-token</span><span class="s3">\&quot;</span><span class="s1">).color;</span><span class="s3">\n    </span><span class="s1">var body = args[1];</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">color,</span><span class="s3">\n      </span><span class="s1">body: ordargument(body)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$8,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$7</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">allowedInText: true,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref2, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">breakOnTokenText</span><span class="s3">\n    </span><span class="s1">} = _ref2;</span><span class="s3">\n    </span><span class="s1">var color = assertNodeType(args[0], </span><span class="s3">\&quot;</span><span class="s1">color-token</span><span class="s3">\&quot;</span><span class="s1">).color; // Set macro </span><span class="s3">\\</span><span class="s1">current@color in current namespace to store the current</span><span class="s3">\n    </span><span class="s1">// color, mimicking the behavior of color.sty.</span><span class="s3">\n    </span><span class="s1">// This is currently used just to correctly color a </span><span class="s3">\\</span><span class="s1">right</span><span class="s3">\n    </span><span class="s1">// that follows a </span><span class="s3">\\</span><span class="s1">color command.</span><span class="s3">\n\n    </span><span class="s1">parser.gullet.macros.set(</span><span class="s3">\&quot;\\\\</span><span class="s1">current@color</span><span class="s3">\&quot;</span><span class="s1">, color); // Parse out the implicit body that should be colored.</span><span class="s3">\n\n    </span><span class="s1">var body = parser.parseExpression(true, breakOnTokenText);</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">color,</span><span class="s3">\n      </span><span class="s1">body</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$8,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$7</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">// Row breaks within tabular environments, and line breaks at top level</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">cr</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\\\\\\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0,</span><span class="s3">\n    </span><span class="s1">numOptionalArgs: 0,</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args, optArgs) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var size = parser.gullet.future().text === </span><span class="s3">\&quot;</span><span class="s1">[</span><span class="s3">\&quot; </span><span class="s1">? parser.parseSizeGroup(true) : null;</span><span class="s3">\n    </span><span class="s1">var newLine = !parser.settings.displayMode || !parser.settings.useStrictBehavior(</span><span class="s3">\&quot;</span><span class="s1">newLineInDisplayMode</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">In LaTeX, </span><span class="s3">\\\\\\\\ </span><span class="s1">or </span><span class="s3">\\\\</span><span class="s1">newline </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">does nothing in display mode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">cr</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">newLine,</span><span class="s3">\n      </span><span class="s1">size: size &amp;&amp; assertNodeType(size, </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">).value</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">// The following builders are called only at the top level,</span><span class="s3">\n  </span><span class="s1">// not within tabular/array environments.</span><span class="s3">\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var span = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mspace</span><span class="s3">\&quot;</span><span class="s1">], [], options);</span><span class="s3">\n\n    </span><span class="s1">if (group.newLine) {</span><span class="s3">\n      </span><span class="s1">span.classes.push(</span><span class="s3">\&quot;</span><span class="s1">newline</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n      </span><span class="s1">if (group.size) {</span><span class="s3">\n        </span><span class="s1">span.style.marginTop = makeEm(calculateSize(group.size, options));</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return span;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mspace</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">if (group.newLine) {</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">linebreak</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">newline</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n      </span><span class="s1">if (group.size) {</span><span class="s3">\n        </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, makeEm(calculateSize(group.size, options)));</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">var globalMap = {</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">global</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">global</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">long</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">globallong</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\\\\\\</span><span class="s1">globallong</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">globallong</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">def</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">gdef</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">gdef</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">gdef</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">edef</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">xdef</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">xdef</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">xdef</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">let</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">globallet</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">futurelet</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">globalfuture</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var checkControlSequence = tok =&gt; {</span><span class="s3">\n  </span><span class="s1">var name = tok.text;</span><span class="s3">\n\n  </span><span class="s1">if (/^(?:[</span><span class="s3">\\\\</span><span class="s1">{}$&amp;#^_]|EOF)$/.test(name)) {</span><span class="s3">\n    </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Expected a control sequence</span><span class="s3">\&quot;</span><span class="s1">, tok);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return name;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var getRHS = parser =&gt; {</span><span class="s3">\n  </span><span class="s1">var tok = parser.gullet.popToken();</span><span class="s3">\n\n  </span><span class="s1">if (tok.text === </span><span class="s3">\&quot;</span><span class="s1">=</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">// consume optional equals</span><span class="s3">\n    </span><span class="s1">tok = parser.gullet.popToken();</span><span class="s3">\n\n    </span><span class="s1">if (tok.text === </span><span class="s3">\&quot; \&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// consume one optional space</span><span class="s3">\n      </span><span class="s1">tok = parser.gullet.popToken();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return tok;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var letCommand = (parser, name, tok, global) =&gt; {</span><span class="s3">\n  </span><span class="s1">var macro = parser.gullet.macros.get(tok.text);</span><span class="s3">\n\n  </span><span class="s1">if (macro == null) {</span><span class="s3">\n    </span><span class="s1">// don't expand it later even if a macro with the same name is defined</span><span class="s3">\n    </span><span class="s1">// e.g., </span><span class="s3">\\</span><span class="s1">let</span><span class="s3">\\</span><span class="s1">foo=</span><span class="s3">\\</span><span class="s1">frac </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">frac{</span><span class="s3">\\</span><span class="s1">relax} </span><span class="s3">\\</span><span class="s1">frac12</span><span class="s3">\n    </span><span class="s1">tok.noexpand = true;</span><span class="s3">\n    </span><span class="s1">macro = {</span><span class="s3">\n      </span><span class="s1">tokens: [tok],</span><span class="s3">\n      </span><span class="s1">numArgs: 0,</span><span class="s3">\n      </span><span class="s1">// reproduce the same behavior in expansion</span><span class="s3">\n      </span><span class="s1">unexpandable: !parser.gullet.isExpandable(tok.text)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">parser.gullet.macros.set(name, macro, global);</span><span class="s3">\n</span><span class="s1">}; // &lt;assignment&gt; -&gt; &lt;non-macro assignment&gt;|&lt;macro assignment&gt;</span><span class="s3">\n</span><span class="s1">// &lt;non-macro assignment&gt; -&gt; &lt;simple assignment&gt;|</span><span class="s3">\\</span><span class="s1">global&lt;non-macro assignment&gt;</span><span class="s3">\n</span><span class="s1">// &lt;macro assignment&gt; -&gt; &lt;definition&gt;|&lt;prefix&gt;&lt;macro assignment&gt;</span><span class="s3">\n</span><span class="s1">// &lt;prefix&gt; -&gt; </span><span class="s3">\\</span><span class="s1">global|</span><span class="s3">\\</span><span class="s1">long|</span><span class="s3">\\</span><span class="s1">outer</span><span class="s3">\n\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">internal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">global</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">long</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">globallong</span><span class="s3">\&quot; </span><span class="s1">// cant be entered directly</span><span class="s3">\n  </span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0,</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">parser.consumeSpaces();</span><span class="s3">\n    </span><span class="s1">var token = parser.fetch();</span><span class="s3">\n\n    </span><span class="s1">if (globalMap[token.text]) {</span><span class="s3">\n      </span><span class="s1">// KaTeX doesn't have </span><span class="s3">\\</span><span class="s1">par, so ignore </span><span class="s3">\\</span><span class="s1">long</span><span class="s3">\n      </span><span class="s1">if (funcName === </span><span class="s3">\&quot;\\\\</span><span class="s1">global</span><span class="s3">\&quot; </span><span class="s1">|| funcName === </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">globallong</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">token.text = globalMap[token.text];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">return assertNodeType(parser.parseFunction(), </span><span class="s3">\&quot;</span><span class="s1">internal</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Invalid token after macro prefix</span><span class="s3">\&quot;</span><span class="s1">, token);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}); // Basic support for macro definitions: </span><span class="s3">\\</span><span class="s1">def, </span><span class="s3">\\</span><span class="s1">gdef, </span><span class="s3">\\</span><span class="s1">edef, </span><span class="s3">\\</span><span class="s1">xdef</span><span class="s3">\n</span><span class="s1">// &lt;definition&gt; -&gt; &lt;def&gt;&lt;control sequence&gt;&lt;definition text&gt;</span><span class="s3">\n</span><span class="s1">// &lt;def&gt; -&gt; </span><span class="s3">\\</span><span class="s1">def|</span><span class="s3">\\</span><span class="s1">gdef|</span><span class="s3">\\</span><span class="s1">edef|</span><span class="s3">\\</span><span class="s1">xdef</span><span class="s3">\n</span><span class="s1">// &lt;definition text&gt; -&gt; &lt;parameter text&gt;&lt;left brace&gt;&lt;balanced text&gt;&lt;right brace&gt;</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">internal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">def</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gdef</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">edef</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xdef</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0,</span><span class="s3">\n    </span><span class="s1">allowedInText: true,</span><span class="s3">\n    </span><span class="s1">primitive: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref2) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref2;</span><span class="s3">\n    </span><span class="s1">var tok = parser.gullet.popToken();</span><span class="s3">\n    </span><span class="s1">var name = tok.text;</span><span class="s3">\n\n    </span><span class="s1">if (/^(?:[</span><span class="s3">\\\\</span><span class="s1">{}$&amp;#^_]|EOF)$/.test(name)) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Expected a control sequence</span><span class="s3">\&quot;</span><span class="s1">, tok);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var numArgs = 0;</span><span class="s3">\n    </span><span class="s1">var insert;</span><span class="s3">\n    </span><span class="s1">var delimiters = [[]]; // &lt;parameter text&gt; contains no braces</span><span class="s3">\n\n    </span><span class="s1">while (parser.gullet.future().text !== </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">tok = parser.gullet.popToken();</span><span class="s3">\n\n      </span><span class="s1">if (tok.text === </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">// If the very last character of the &lt;parameter text&gt; is #, so that</span><span class="s3">\n        </span><span class="s1">// this # is immediately followed by {, TeX will behave as if the {</span><span class="s3">\n        </span><span class="s1">// had been inserted at the right end of both the parameter text</span><span class="s3">\n        </span><span class="s1">// and the replacement text.</span><span class="s3">\n        </span><span class="s1">if (parser.gullet.future().text === </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">insert = parser.gullet.future();</span><span class="s3">\n          </span><span class="s1">delimiters[numArgs].push(</span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">} // A parameter, the first appearance of # must be followed by 1,</span><span class="s3">\n        </span><span class="s1">// the next by 2, and so on; up to nine #s are allowed</span><span class="s3">\n\n\n        </span><span class="s1">tok = parser.gullet.popToken();</span><span class="s3">\n\n        </span><span class="s1">if (!/^[1-9]$/.test(tok.text)) {</span><span class="s3">\n          </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Invalid argument number </span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ tok.text + </span><span class="s3">\&quot;\\\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">if (parseInt(tok.text) !== numArgs + 1) {</span><span class="s3">\n          </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Argument number </span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ tok.text + </span><span class="s3">\&quot;\\\&quot; </span><span class="s1">out of order</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">numArgs++;</span><span class="s3">\n        </span><span class="s1">delimiters.push([]);</span><span class="s3">\n      </span><span class="s1">} else if (tok.text === </span><span class="s3">\&quot;</span><span class="s1">EOF</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Expected a macro definition</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">delimiters[numArgs].push(tok.text);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} // replacement text, enclosed in '{' and '}' and properly nested</span><span class="s3">\n\n\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">tokens</span><span class="s3">\n    </span><span class="s1">} = parser.gullet.consumeArg();</span><span class="s3">\n\n    </span><span class="s1">if (insert) {</span><span class="s3">\n      </span><span class="s1">tokens.unshift(insert);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (funcName === </span><span class="s3">\&quot;\\\\</span><span class="s1">edef</span><span class="s3">\&quot; </span><span class="s1">|| funcName === </span><span class="s3">\&quot;\\\\</span><span class="s1">xdef</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">tokens = parser.gullet.expandTokens(tokens);</span><span class="s3">\n      </span><span class="s1">tokens.reverse(); // to fit in with stack order</span><span class="s3">\n    </span><span class="s1">} // Final arg is the expansion of the macro</span><span class="s3">\n\n\n    </span><span class="s1">parser.gullet.macros.set(name, {</span><span class="s3">\n      </span><span class="s1">tokens,</span><span class="s3">\n      </span><span class="s1">numArgs,</span><span class="s3">\n      </span><span class="s1">delimiters</span><span class="s3">\n    </span><span class="s1">}, funcName === globalMap[funcName]);</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">internal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}); // &lt;simple assignment&gt; -&gt; &lt;let assignment&gt;</span><span class="s3">\n</span><span class="s1">// &lt;let assignment&gt; -&gt; </span><span class="s3">\\</span><span class="s1">futurelet&lt;control sequence&gt;&lt;token&gt;&lt;token&gt;</span><span class="s3">\n</span><span class="s1">//     | </span><span class="s3">\\</span><span class="s1">let&lt;control sequence&gt;&lt;equals&gt;&lt;one optional space&gt;&lt;token&gt;</span><span class="s3">\n</span><span class="s1">// &lt;equals&gt; -&gt; &lt;optional spaces&gt;|&lt;optional spaces&gt;=</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">internal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">let</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">globallet</span><span class="s3">\&quot; </span><span class="s1">// cant be entered directly</span><span class="s3">\n  </span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0,</span><span class="s3">\n    </span><span class="s1">allowedInText: true,</span><span class="s3">\n    </span><span class="s1">primitive: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref3) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref3;</span><span class="s3">\n    </span><span class="s1">var name = checkControlSequence(parser.gullet.popToken());</span><span class="s3">\n    </span><span class="s1">parser.gullet.consumeSpaces();</span><span class="s3">\n    </span><span class="s1">var tok = getRHS(parser);</span><span class="s3">\n    </span><span class="s1">letCommand(parser, name, tok, funcName === </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">globallet</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">internal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}); // ref: https://www.tug.org/TUGboat/tb09-3/tb22bechtolsheim.pdf</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">internal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">futurelet</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">globalfuture</span><span class="s3">\&quot; </span><span class="s1">// cant be entered directly</span><span class="s3">\n  </span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0,</span><span class="s3">\n    </span><span class="s1">allowedInText: true,</span><span class="s3">\n    </span><span class="s1">primitive: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref4) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref4;</span><span class="s3">\n    </span><span class="s1">var name = checkControlSequence(parser.gullet.popToken());</span><span class="s3">\n    </span><span class="s1">var middle = parser.gullet.popToken();</span><span class="s3">\n    </span><span class="s1">var tok = parser.gullet.popToken();</span><span class="s3">\n    </span><span class="s1">letCommand(parser, name, tok, funcName === </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">globalfuture</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">parser.gullet.pushToken(tok);</span><span class="s3">\n    </span><span class="s1">parser.gullet.pushToken(middle);</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">internal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This file deals with creating delimiters of various sizes. The TeXbook</span><span class="s3">\n </span><span class="s1">* discusses these routines on page 441-442, in the </span><span class="s3">\&quot;</span><span class="s1">Another subroutine sets box</span><span class="s3">\n </span><span class="s1">* x to a specified variable delimiter</span><span class="s3">\&quot; </span><span class="s1">paragraph.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* There are three main routines here. `makeSmallDelim` makes a delimiter in the</span><span class="s3">\n </span><span class="s1">* normal font, but in either text, script, or scriptscript style.</span><span class="s3">\n </span><span class="s1">* `makeLargeDelim` makes a delimiter in textstyle, but in one of the Size1,</span><span class="s3">\n </span><span class="s1">* Size2, Size3, or Size4 fonts. `makeStackedDelim` makes a delimiter out of</span><span class="s3">\n </span><span class="s1">* smaller pieces that are stacked on top of one another.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* The functions take a parameter `center`, which determines if the delimiter</span><span class="s3">\n </span><span class="s1">* should be centered around the axis.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Then, there are three exposed functions. `sizedDelim` makes a delimiter in</span><span class="s3">\n </span><span class="s1">* one of the given sizes. This is used for things like `</span><span class="s3">\\</span><span class="s1">bigl`.</span><span class="s3">\n </span><span class="s1">* `customSizedDelim` makes a delimiter with a given total height+depth. It is</span><span class="s3">\n </span><span class="s1">* called in places like `</span><span class="s3">\\</span><span class="s1">sqrt`. `leftRightDelim` makes an appropriate</span><span class="s3">\n </span><span class="s1">* delimiter which surrounds an expression of a given height an depth. It is</span><span class="s3">\n </span><span class="s1">* used in `</span><span class="s3">\\</span><span class="s1">left` and `</span><span class="s3">\\</span><span class="s1">right`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Get the metrics for a given symbol and font, after transformation (i.e.</span><span class="s3">\n </span><span class="s1">* after following replacement from symbols.js)</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var getMetrics = function getMetrics(symbol, font, mode) {</span><span class="s3">\n  </span><span class="s1">var replace = symbols.math[symbol] &amp;&amp; symbols.math[symbol].replace;</span><span class="s3">\n  </span><span class="s1">var metrics = getCharacterMetrics(replace || symbol, font, mode);</span><span class="s3">\n\n  </span><span class="s1">if (!metrics) {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Unsupported symbol </span><span class="s3">\&quot; </span><span class="s1">+ symbol + </span><span class="s3">\&quot; </span><span class="s1">and font size </span><span class="s3">\&quot; </span><span class="s1">+ font + </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return metrics;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Puts a delimiter span in a given style, and adds appropriate height, depth,</span><span class="s3">\n </span><span class="s1">* and maxFontSizes.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var styleWrap = function styleWrap(delim, toStyle, options, classes) {</span><span class="s3">\n  </span><span class="s1">var newOptions = options.havingBaseStyle(toStyle);</span><span class="s3">\n  </span><span class="s1">var span = buildCommon.makeSpan(classes.concat(newOptions.sizingClasses(options)), [delim], options);</span><span class="s3">\n  </span><span class="s1">var delimSizeMultiplier = newOptions.sizeMultiplier / options.sizeMultiplier;</span><span class="s3">\n  </span><span class="s1">span.height *= delimSizeMultiplier;</span><span class="s3">\n  </span><span class="s1">span.depth *= delimSizeMultiplier;</span><span class="s3">\n  </span><span class="s1">span.maxFontSize = newOptions.sizeMultiplier;</span><span class="s3">\n  </span><span class="s1">return span;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var centerSpan = function centerSpan(span, options, style) {</span><span class="s3">\n  </span><span class="s1">var newOptions = options.havingBaseStyle(style);</span><span class="s3">\n  </span><span class="s1">var shift = (1 - options.sizeMultiplier / newOptions.sizeMultiplier) * options.fontMetrics().axisHeight;</span><span class="s3">\n  </span><span class="s1">span.classes.push(</span><span class="s3">\&quot;</span><span class="s1">delimcenter</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">span.style.top = makeEm(shift);</span><span class="s3">\n  </span><span class="s1">span.height -= shift;</span><span class="s3">\n  </span><span class="s1">span.depth += shift;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Makes a small delimiter. This is a delimiter that comes in the Main-Regular</span><span class="s3">\n </span><span class="s1">* font, but is restyled to either be in textstyle, scriptstyle, or</span><span class="s3">\n </span><span class="s1">* scriptscriptstyle.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var makeSmallDelim = function makeSmallDelim(delim, style, center, options, mode, classes) {</span><span class="s3">\n  </span><span class="s1">var text = buildCommon.makeSymbol(delim, </span><span class="s3">\&quot;</span><span class="s1">Main-Regular</span><span class="s3">\&quot;</span><span class="s1">, mode, options);</span><span class="s3">\n  </span><span class="s1">var span = styleWrap(text, style, options, classes);</span><span class="s3">\n\n  </span><span class="s1">if (center) {</span><span class="s3">\n    </span><span class="s1">centerSpan(span, options, style);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return span;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Builds a symbol in the given font size (note size is an integer)</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var mathrmSize = function mathrmSize(value, size, mode, options) {</span><span class="s3">\n  </span><span class="s1">return buildCommon.makeSymbol(value, </span><span class="s3">\&quot;</span><span class="s1">Size</span><span class="s3">\&quot; </span><span class="s1">+ size + </span><span class="s3">\&quot;</span><span class="s1">-Regular</span><span class="s3">\&quot;</span><span class="s1">, mode, options);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Makes a large delimiter. This is a delimiter that comes in the Size1, Size2,</span><span class="s3">\n </span><span class="s1">* Size3, or Size4 fonts. It is always rendered in textstyle.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var makeLargeDelim = function makeLargeDelim(delim, size, center, options, mode, classes) {</span><span class="s3">\n  </span><span class="s1">var inner = mathrmSize(delim, size, mode, options);</span><span class="s3">\n  </span><span class="s1">var span = styleWrap(buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">delimsizing</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot; </span><span class="s1">+ size], [inner], options), Style$1.TEXT, options, classes);</span><span class="s3">\n\n  </span><span class="s1">if (center) {</span><span class="s3">\n    </span><span class="s1">centerSpan(span, options, Style$1.TEXT);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return span;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Make a span from a font glyph with the given offset and in the given font.</span><span class="s3">\n </span><span class="s1">* This is used in makeStackedDelim to make the stacking pieces for the delimiter.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var makeGlyphSpan = function makeGlyphSpan(symbol, font, mode) {</span><span class="s3">\n  </span><span class="s1">var sizeClass; // Apply the correct CSS class to choose the right font.</span><span class="s3">\n\n  </span><span class="s1">if (font === </span><span class="s3">\&quot;</span><span class="s1">Size1-Regular</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">sizeClass = </span><span class="s3">\&quot;</span><span class="s1">delim-size1</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else</span><span class="s3">\n    </span><span class="s1">/* if (font === </span><span class="s3">\&quot;</span><span class="s1">Size4-Regular</span><span class="s3">\&quot;</span><span class="s1">) */</span><span class="s3">\n    </span><span class="s1">{</span><span class="s3">\n      </span><span class="s1">sizeClass = </span><span class="s3">\&quot;</span><span class="s1">delim-size4</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var corner = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">delimsizinginner</span><span class="s3">\&quot;</span><span class="s1">, sizeClass], [buildCommon.makeSpan([], [buildCommon.makeSymbol(symbol, font, mode)])]); // Since this will be passed into `makeVList` in the end, wrap the element</span><span class="s3">\n  </span><span class="s1">// in the appropriate tag that VList uses.</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">elem: corner</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var makeInner = function makeInner(ch, height, options) {</span><span class="s3">\n  </span><span class="s1">// Create a span with inline SVG for the inner part of a tall stacked delimiter.</span><span class="s3">\n  </span><span class="s1">var width = fontMetricsData['Size4-Regular'][ch.charCodeAt(0)] ? fontMetricsData['Size4-Regular'][ch.charCodeAt(0)][4] : fontMetricsData['Size1-Regular'][ch.charCodeAt(0)][4];</span><span class="s3">\n  </span><span class="s1">var path = new PathNode(</span><span class="s3">\&quot;</span><span class="s1">inner</span><span class="s3">\&quot;</span><span class="s1">, innerPath(ch, Math.round(1000 * height)));</span><span class="s3">\n  </span><span class="s1">var svgNode = new SvgNode([path], {</span><span class="s3">\n    \&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">: makeEm(width),</span><span class="s3">\n    \&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">: makeEm(height),</span><span class="s3">\n    </span><span class="s1">// Override CSS rule `.katex svg { width: 100% }`</span><span class="s3">\n    \&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">width:</span><span class="s3">\&quot; </span><span class="s1">+ makeEm(width),</span><span class="s3">\n    \&quot;</span><span class="s1">viewBox</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0 0 </span><span class="s3">\&quot; </span><span class="s1">+ 1000 * width + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ Math.round(1000 * height),</span><span class="s3">\n    \&quot;</span><span class="s1">preserveAspectRatio</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">xMinYMin</span><span class="s3">\&quot;\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">var span = buildCommon.makeSvgSpan([], [svgNode], options);</span><span class="s3">\n  </span><span class="s1">span.height = height;</span><span class="s3">\n  </span><span class="s1">span.style.height = makeEm(height);</span><span class="s3">\n  </span><span class="s1">span.style.width = makeEm(width);</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">elem: span</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}; // Helpers for makeStackedDelim</span><span class="s3">\n\n\n</span><span class="s1">var lapInEms = 0.008;</span><span class="s3">\n</span><span class="s1">var lap = {</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">size: -1 * lapInEms</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var verts = [</span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lvert</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rvert</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">vert</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">var doubleVerts = [</span><span class="s3">\&quot;\\\\</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lVert</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rVert</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Vert</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Make a stacked delimiter out of a given delimiter, with the total height at</span><span class="s3">\n </span><span class="s1">* least `heightTotal`. This routine is mentioned on page 442 of the TeXbook.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">var makeStackedDelim = function makeStackedDelim(delim, heightTotal, center, options, mode, classes) {</span><span class="s3">\n  </span><span class="s1">// There are four parts, the top, an optional middle, a repeated part, and a</span><span class="s3">\n  </span><span class="s1">// bottom.</span><span class="s3">\n  </span><span class="s1">var top;</span><span class="s3">\n  </span><span class="s1">var middle;</span><span class="s3">\n  </span><span class="s1">var repeat;</span><span class="s3">\n  </span><span class="s1">var bottom;</span><span class="s3">\n  </span><span class="s1">var svgLabel = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">var viewBoxWidth = 0;</span><span class="s3">\n  </span><span class="s1">top = repeat = bottom = delim;</span><span class="s3">\n  </span><span class="s1">middle = null; // Also keep track of what font the delimiters are in</span><span class="s3">\n\n  </span><span class="s1">var font = </span><span class="s3">\&quot;</span><span class="s1">Size1-Regular</span><span class="s3">\&quot;</span><span class="s1">; // We set the parts and font based on the symbol. Note that we use</span><span class="s3">\n  </span><span class="s1">// '</span><span class="s3">\\</span><span class="s1">u23d0' instead of '|' and '</span><span class="s3">\\</span><span class="s1">u2016' instead of '</span><span class="s3">\\\\</span><span class="s1">|' for the</span><span class="s3">\n  </span><span class="s1">// repeats of the arrows</span><span class="s3">\n\n  </span><span class="s1">if (delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">uparrow</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">repeat = bottom = </span><span class="s3">\&quot;\\</span><span class="s1">u23d0</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">Uparrow</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">repeat = bottom = </span><span class="s3">\&quot;\\</span><span class="s1">u2016</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">downarrow</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">top = repeat = </span><span class="s3">\&quot;\\</span><span class="s1">u23d0</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">Downarrow</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">top = repeat = </span><span class="s3">\&quot;\\</span><span class="s1">u2016</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">updownarrow</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">top = </span><span class="s3">\&quot;\\\\</span><span class="s1">uparrow</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">repeat = </span><span class="s3">\&quot;\\</span><span class="s1">u23d0</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">bottom = </span><span class="s3">\&quot;\\\\</span><span class="s1">downarrow</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">Updownarrow</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">top = </span><span class="s3">\&quot;\\\\</span><span class="s1">Uparrow</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">repeat = </span><span class="s3">\&quot;\\</span><span class="s1">u2016</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">bottom = </span><span class="s3">\&quot;\\\\</span><span class="s1">Downarrow</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (utils.contains(verts, delim)) {</span><span class="s3">\n    </span><span class="s1">repeat = </span><span class="s3">\&quot;\\</span><span class="s1">u2223</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">svgLabel = </span><span class="s3">\&quot;</span><span class="s1">vert</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">viewBoxWidth = 333;</span><span class="s3">\n  </span><span class="s1">} else if (utils.contains(doubleVerts, delim)) {</span><span class="s3">\n    </span><span class="s1">repeat = </span><span class="s3">\&quot;\\</span><span class="s1">u2225</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">svgLabel = </span><span class="s3">\&quot;</span><span class="s1">doublevert</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">viewBoxWidth = 556;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;</span><span class="s1">[</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">lbrack</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">top = </span><span class="s3">\&quot;\\</span><span class="s1">u23a1</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">repeat = </span><span class="s3">\&quot;\\</span><span class="s1">u23a2</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">bottom = </span><span class="s3">\&quot;\\</span><span class="s1">u23a3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">font = </span><span class="s3">\&quot;</span><span class="s1">Size4-Regular</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">svgLabel = </span><span class="s3">\&quot;</span><span class="s1">lbrack</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">viewBoxWidth = 667;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">rbrack</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">top = </span><span class="s3">\&quot;\\</span><span class="s1">u23a4</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">repeat = </span><span class="s3">\&quot;\\</span><span class="s1">u23a5</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">bottom = </span><span class="s3">\&quot;\\</span><span class="s1">u23a6</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">font = </span><span class="s3">\&quot;</span><span class="s1">Size4-Regular</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">svgLabel = </span><span class="s3">\&quot;</span><span class="s1">rbrack</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">viewBoxWidth = 667;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">lfloor</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\</span><span class="s1">u230a</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">repeat = top = </span><span class="s3">\&quot;\\</span><span class="s1">u23a2</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">bottom = </span><span class="s3">\&quot;\\</span><span class="s1">u23a3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">font = </span><span class="s3">\&quot;</span><span class="s1">Size4-Regular</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">svgLabel = </span><span class="s3">\&quot;</span><span class="s1">lfloor</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">viewBoxWidth = 667;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">lceil</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\</span><span class="s1">u2308</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">top = </span><span class="s3">\&quot;\\</span><span class="s1">u23a1</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">repeat = bottom = </span><span class="s3">\&quot;\\</span><span class="s1">u23a2</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">font = </span><span class="s3">\&quot;</span><span class="s1">Size4-Regular</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">svgLabel = </span><span class="s3">\&quot;</span><span class="s1">lceil</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">viewBoxWidth = 667;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">rfloor</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\</span><span class="s1">u230b</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">repeat = top = </span><span class="s3">\&quot;\\</span><span class="s1">u23a5</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">bottom = </span><span class="s3">\&quot;\\</span><span class="s1">u23a6</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">font = </span><span class="s3">\&quot;</span><span class="s1">Size4-Regular</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">svgLabel = </span><span class="s3">\&quot;</span><span class="s1">rfloor</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">viewBoxWidth = 667;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">rceil</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\</span><span class="s1">u2309</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">top = </span><span class="s3">\&quot;\\</span><span class="s1">u23a4</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">repeat = bottom = </span><span class="s3">\&quot;\\</span><span class="s1">u23a5</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">font = </span><span class="s3">\&quot;</span><span class="s1">Size4-Regular</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">svgLabel = </span><span class="s3">\&quot;</span><span class="s1">rceil</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">viewBoxWidth = 667;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;</span><span class="s1">(</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">lparen</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">top = </span><span class="s3">\&quot;\\</span><span class="s1">u239b</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">repeat = </span><span class="s3">\&quot;\\</span><span class="s1">u239c</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">bottom = </span><span class="s3">\&quot;\\</span><span class="s1">u239d</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">font = </span><span class="s3">\&quot;</span><span class="s1">Size4-Regular</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">svgLabel = </span><span class="s3">\&quot;</span><span class="s1">lparen</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">viewBoxWidth = 875;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">rparen</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">top = </span><span class="s3">\&quot;\\</span><span class="s1">u239e</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">repeat = </span><span class="s3">\&quot;\\</span><span class="s1">u239f</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">bottom = </span><span class="s3">\&quot;\\</span><span class="s1">u23a0</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">font = </span><span class="s3">\&quot;</span><span class="s1">Size4-Regular</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">svgLabel = </span><span class="s3">\&quot;</span><span class="s1">rparen</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">viewBoxWidth = 875;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">lbrace</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">top = </span><span class="s3">\&quot;\\</span><span class="s1">u23a7</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">middle = </span><span class="s3">\&quot;\\</span><span class="s1">u23a8</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">bottom = </span><span class="s3">\&quot;\\</span><span class="s1">u23a9</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">repeat = </span><span class="s3">\&quot;\\</span><span class="s1">u23aa</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">font = </span><span class="s3">\&quot;</span><span class="s1">Size4-Regular</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">}</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">rbrace</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">top = </span><span class="s3">\&quot;\\</span><span class="s1">u23ab</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">middle = </span><span class="s3">\&quot;\\</span><span class="s1">u23ac</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">bottom = </span><span class="s3">\&quot;\\</span><span class="s1">u23ad</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">repeat = </span><span class="s3">\&quot;\\</span><span class="s1">u23aa</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">font = </span><span class="s3">\&quot;</span><span class="s1">Size4-Regular</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">lgroup</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\</span><span class="s1">u27ee</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">top = </span><span class="s3">\&quot;\\</span><span class="s1">u23a7</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">bottom = </span><span class="s3">\&quot;\\</span><span class="s1">u23a9</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">repeat = </span><span class="s3">\&quot;\\</span><span class="s1">u23aa</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">font = </span><span class="s3">\&quot;</span><span class="s1">Size4-Regular</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">rgroup</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\</span><span class="s1">u27ef</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">top = </span><span class="s3">\&quot;\\</span><span class="s1">u23ab</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">bottom = </span><span class="s3">\&quot;\\</span><span class="s1">u23ad</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">repeat = </span><span class="s3">\&quot;\\</span><span class="s1">u23aa</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">font = </span><span class="s3">\&quot;</span><span class="s1">Size4-Regular</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">lmoustache</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\</span><span class="s1">u23b0</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">top = </span><span class="s3">\&quot;\\</span><span class="s1">u23a7</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">bottom = </span><span class="s3">\&quot;\\</span><span class="s1">u23ad</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">repeat = </span><span class="s3">\&quot;\\</span><span class="s1">u23aa</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">font = </span><span class="s3">\&quot;</span><span class="s1">Size4-Regular</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">rmoustache</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\</span><span class="s1">u23b1</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">top = </span><span class="s3">\&quot;\\</span><span class="s1">u23ab</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">bottom = </span><span class="s3">\&quot;\\</span><span class="s1">u23a9</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">repeat = </span><span class="s3">\&quot;\\</span><span class="s1">u23aa</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">font = </span><span class="s3">\&quot;</span><span class="s1">Size4-Regular</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} // Get the metrics of the four sections</span><span class="s3">\n\n\n  </span><span class="s1">var topMetrics = getMetrics(top, font, mode);</span><span class="s3">\n  </span><span class="s1">var topHeightTotal = topMetrics.height + topMetrics.depth;</span><span class="s3">\n  </span><span class="s1">var repeatMetrics = getMetrics(repeat, font, mode);</span><span class="s3">\n  </span><span class="s1">var repeatHeightTotal = repeatMetrics.height + repeatMetrics.depth;</span><span class="s3">\n  </span><span class="s1">var bottomMetrics = getMetrics(bottom, font, mode);</span><span class="s3">\n  </span><span class="s1">var bottomHeightTotal = bottomMetrics.height + bottomMetrics.depth;</span><span class="s3">\n  </span><span class="s1">var middleHeightTotal = 0;</span><span class="s3">\n  </span><span class="s1">var middleFactor = 1;</span><span class="s3">\n\n  </span><span class="s1">if (middle !== null) {</span><span class="s3">\n    </span><span class="s1">var middleMetrics = getMetrics(middle, font, mode);</span><span class="s3">\n    </span><span class="s1">middleHeightTotal = middleMetrics.height + middleMetrics.depth;</span><span class="s3">\n    </span><span class="s1">middleFactor = 2; // repeat symmetrically above and below middle</span><span class="s3">\n  </span><span class="s1">} // Calculate the minimal height that the delimiter can have.</span><span class="s3">\n  </span><span class="s1">// It is at least the size of the top, bottom, and optional middle combined.</span><span class="s3">\n\n\n  </span><span class="s1">var minHeight = topHeightTotal + bottomHeightTotal + middleHeightTotal; // Compute the number of copies of the repeat symbol we will need</span><span class="s3">\n\n  </span><span class="s1">var repeatCount = Math.max(0, Math.ceil((heightTotal - minHeight) / (middleFactor * repeatHeightTotal))); // Compute the total height of the delimiter including all the symbols</span><span class="s3">\n\n  </span><span class="s1">var realHeightTotal = minHeight + repeatCount * middleFactor * repeatHeightTotal; // The center of the delimiter is placed at the center of the axis. Note</span><span class="s3">\n  </span><span class="s1">// that in this context, </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot; </span><span class="s1">means that the delimiter should be</span><span class="s3">\n  </span><span class="s1">// centered around the axis in the current style, while normally it is</span><span class="s3">\n  </span><span class="s1">// centered around the axis in textstyle.</span><span class="s3">\n\n  </span><span class="s1">var axisHeight = options.fontMetrics().axisHeight;</span><span class="s3">\n\n  </span><span class="s1">if (center) {</span><span class="s3">\n    </span><span class="s1">axisHeight *= options.sizeMultiplier;</span><span class="s3">\n  </span><span class="s1">} // Calculate the depth</span><span class="s3">\n\n\n  </span><span class="s1">var depth = realHeightTotal / 2 - axisHeight; // Now, we start building the pieces that will go into the vlist</span><span class="s3">\n  </span><span class="s1">// Keep a list of the pieces of the stacked delimiter</span><span class="s3">\n\n  </span><span class="s1">var stack = [];</span><span class="s3">\n\n  </span><span class="s1">if (svgLabel.length &gt; 0) {</span><span class="s3">\n    </span><span class="s1">// Instead of stacking glyphs, create a single SVG.</span><span class="s3">\n    </span><span class="s1">// This evades browser problems with imprecise positioning of spans.</span><span class="s3">\n    </span><span class="s1">var midHeight = realHeightTotal - topHeightTotal - bottomHeightTotal;</span><span class="s3">\n    </span><span class="s1">var viewBoxHeight = Math.round(realHeightTotal * 1000);</span><span class="s3">\n    </span><span class="s1">var pathStr = tallDelim(svgLabel, Math.round(midHeight * 1000));</span><span class="s3">\n    </span><span class="s1">var path = new PathNode(svgLabel, pathStr);</span><span class="s3">\n    </span><span class="s1">var width = (viewBoxWidth / 1000).toFixed(3) + </span><span class="s3">\&quot;</span><span class="s1">em</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">var height = (viewBoxHeight / 1000).toFixed(3) + </span><span class="s3">\&quot;</span><span class="s1">em</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">var svg = new SvgNode([path], {</span><span class="s3">\n      \&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">: width,</span><span class="s3">\n      \&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">: height,</span><span class="s3">\n      \&quot;</span><span class="s1">viewBox</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0 0 </span><span class="s3">\&quot; </span><span class="s1">+ viewBoxWidth + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ viewBoxHeight</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">var wrapper = buildCommon.makeSvgSpan([], [svg], options);</span><span class="s3">\n    </span><span class="s1">wrapper.height = viewBoxHeight / 1000;</span><span class="s3">\n    </span><span class="s1">wrapper.style.width = width;</span><span class="s3">\n    </span><span class="s1">wrapper.style.height = height;</span><span class="s3">\n    </span><span class="s1">stack.push({</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">elem: wrapper</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">// Stack glyphs</span><span class="s3">\n    </span><span class="s1">// Start by adding the bottom symbol</span><span class="s3">\n    </span><span class="s1">stack.push(makeGlyphSpan(bottom, font, mode));</span><span class="s3">\n    </span><span class="s1">stack.push(lap); // overlap</span><span class="s3">\n\n    </span><span class="s1">if (middle === null) {</span><span class="s3">\n      </span><span class="s1">// The middle section will be an SVG. Make it an extra 0.016em tall.</span><span class="s3">\n      </span><span class="s1">// We'll overlap by 0.008em at top and bottom.</span><span class="s3">\n      </span><span class="s1">var innerHeight = realHeightTotal - topHeightTotal - bottomHeightTotal + 2 * lapInEms;</span><span class="s3">\n      </span><span class="s1">stack.push(makeInner(repeat, innerHeight, options));</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">// When there is a middle bit, we need the middle part and two repeated</span><span class="s3">\n      </span><span class="s1">// sections</span><span class="s3">\n      </span><span class="s1">var _innerHeight = (realHeightTotal - topHeightTotal - bottomHeightTotal - middleHeightTotal) / 2 + 2 * lapInEms;</span><span class="s3">\n\n      </span><span class="s1">stack.push(makeInner(repeat, _innerHeight, options)); // Now insert the middle of the brace.</span><span class="s3">\n\n      </span><span class="s1">stack.push(lap);</span><span class="s3">\n      </span><span class="s1">stack.push(makeGlyphSpan(middle, font, mode));</span><span class="s3">\n      </span><span class="s1">stack.push(lap);</span><span class="s3">\n      </span><span class="s1">stack.push(makeInner(repeat, _innerHeight, options));</span><span class="s3">\n    </span><span class="s1">} // Add the top symbol</span><span class="s3">\n\n\n    </span><span class="s1">stack.push(lap);</span><span class="s3">\n    </span><span class="s1">stack.push(makeGlyphSpan(top, font, mode));</span><span class="s3">\n  </span><span class="s1">} // Finally, build the vlist</span><span class="s3">\n\n\n  </span><span class="s1">var newOptions = options.havingBaseStyle(Style$1.TEXT);</span><span class="s3">\n  </span><span class="s1">var inner = buildCommon.makeVList({</span><span class="s3">\n    </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">bottom</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">positionData: depth,</span><span class="s3">\n    </span><span class="s1">children: stack</span><span class="s3">\n  </span><span class="s1">}, newOptions);</span><span class="s3">\n  </span><span class="s1">return styleWrap(buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">delimsizing</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mult</span><span class="s3">\&quot;</span><span class="s1">], [inner], newOptions), Style$1.TEXT, options, classes);</span><span class="s3">\n</span><span class="s1">}; // All surds have 0.08em padding above the vinculum inside the SVG.</span><span class="s3">\n</span><span class="s1">// That keeps browser span height rounding error from pinching the line.</span><span class="s3">\n\n\n</span><span class="s1">var vbPad = 80; // padding above the surd, measured inside the viewBox.</span><span class="s3">\n\n</span><span class="s1">var emPad = 0.08; // padding, in ems, measured in the document.</span><span class="s3">\n\n</span><span class="s1">var sqrtSvg = function sqrtSvg(sqrtName, height, viewBoxHeight, extraVinculum, options) {</span><span class="s3">\n  </span><span class="s1">var path = sqrtPath(sqrtName, extraVinculum, viewBoxHeight);</span><span class="s3">\n  </span><span class="s1">var pathNode = new PathNode(sqrtName, path);</span><span class="s3">\n  </span><span class="s1">var svg = new SvgNode([pathNode], {</span><span class="s3">\n    </span><span class="s1">// Note: 1000:1 ratio of viewBox to document em width.</span><span class="s3">\n    \&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">400em</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">: makeEm(height),</span><span class="s3">\n    \&quot;</span><span class="s1">viewBox</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0 0 400000 </span><span class="s3">\&quot; </span><span class="s1">+ viewBoxHeight,</span><span class="s3">\n    \&quot;</span><span class="s1">preserveAspectRatio</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">xMinYMin slice</span><span class="s3">\&quot;\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">return buildCommon.makeSvgSpan([</span><span class="s3">\&quot;</span><span class="s1">hide-tail</span><span class="s3">\&quot;</span><span class="s1">], [svg], options);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Make a sqrt image of the given height,</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var makeSqrtImage = function makeSqrtImage(height, options) {</span><span class="s3">\n  </span><span class="s1">// Define a newOptions that removes the effect of size changes such as </span><span class="s3">\\</span><span class="s1">Huge.</span><span class="s3">\n  </span><span class="s1">// We don't pick different a height surd for </span><span class="s3">\\</span><span class="s1">Huge. For it, we scale up.</span><span class="s3">\n  </span><span class="s1">var newOptions = options.havingBaseSizing(); // Pick the desired surd glyph from a sequence of surds.</span><span class="s3">\n\n  </span><span class="s1">var delim = traverseSequence(</span><span class="s3">\&quot;\\\\</span><span class="s1">surd</span><span class="s3">\&quot;</span><span class="s1">, height * newOptions.sizeMultiplier, stackLargeDelimiterSequence, newOptions);</span><span class="s3">\n  </span><span class="s1">var sizeMultiplier = newOptions.sizeMultiplier; // default</span><span class="s3">\n  </span><span class="s1">// The standard sqrt SVGs each have a 0.04em thick vinculum.</span><span class="s3">\n  </span><span class="s1">// If Settings.minRuleThickness is larger than that, we add extraVinculum.</span><span class="s3">\n\n  </span><span class="s1">var extraVinculum = Math.max(0, options.minRuleThickness - options.fontMetrics().sqrtRuleThickness); // Create a span containing an SVG image of a sqrt symbol.</span><span class="s3">\n\n  </span><span class="s1">var span;</span><span class="s3">\n  </span><span class="s1">var spanHeight = 0;</span><span class="s3">\n  </span><span class="s1">var texHeight = 0;</span><span class="s3">\n  </span><span class="s1">var viewBoxHeight = 0;</span><span class="s3">\n  </span><span class="s1">var advanceWidth; // We create viewBoxes with 80 units of </span><span class="s3">\&quot;</span><span class="s1">padding</span><span class="s3">\&quot; </span><span class="s1">above each surd.</span><span class="s3">\n  </span><span class="s1">// Then browser rounding error on the parent span height will not</span><span class="s3">\n  </span><span class="s1">// encroach on the ink of the vinculum. But that padding is not</span><span class="s3">\n  </span><span class="s1">// included in the TeX-like `height` used for calculation of</span><span class="s3">\n  </span><span class="s1">// vertical alignment. So texHeight = span.height &lt; span.style.height.</span><span class="s3">\n\n  </span><span class="s1">if (delim.type === </span><span class="s3">\&quot;</span><span class="s1">small</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">// Get an SVG that is derived from glyph U+221A in font KaTeX-Main.</span><span class="s3">\n    </span><span class="s1">// 1000 unit normal glyph height.</span><span class="s3">\n    </span><span class="s1">viewBoxHeight = 1000 + 1000 * extraVinculum + vbPad;</span><span class="s3">\n\n    </span><span class="s1">if (height &lt; 1.0) {</span><span class="s3">\n      </span><span class="s1">sizeMultiplier = 1.0; // mimic a </span><span class="s3">\\</span><span class="s1">textfont radical</span><span class="s3">\n    </span><span class="s1">} else if (height &lt; 1.4) {</span><span class="s3">\n      </span><span class="s1">sizeMultiplier = 0.7; // mimic a </span><span class="s3">\\</span><span class="s1">scriptfont radical</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">spanHeight = (1.0 + extraVinculum + emPad) / sizeMultiplier;</span><span class="s3">\n    </span><span class="s1">texHeight = (1.00 + extraVinculum) / sizeMultiplier;</span><span class="s3">\n    </span><span class="s1">span = sqrtSvg(</span><span class="s3">\&quot;</span><span class="s1">sqrtMain</span><span class="s3">\&quot;</span><span class="s1">, spanHeight, viewBoxHeight, extraVinculum, options);</span><span class="s3">\n    </span><span class="s1">span.style.minWidth = </span><span class="s3">\&quot;</span><span class="s1">0.853em</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">advanceWidth = 0.833 / sizeMultiplier; // from the font.</span><span class="s3">\n  </span><span class="s1">} else if (delim.type === </span><span class="s3">\&quot;</span><span class="s1">large</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">// These SVGs come from fonts: KaTeX_Size1, _Size2, etc.</span><span class="s3">\n    </span><span class="s1">viewBoxHeight = (1000 + vbPad) * sizeToMaxHeight[delim.size];</span><span class="s3">\n    </span><span class="s1">texHeight = (sizeToMaxHeight[delim.size] + extraVinculum) / sizeMultiplier;</span><span class="s3">\n    </span><span class="s1">spanHeight = (sizeToMaxHeight[delim.size] + extraVinculum + emPad) / sizeMultiplier;</span><span class="s3">\n    </span><span class="s1">span = sqrtSvg(</span><span class="s3">\&quot;</span><span class="s1">sqrtSize</span><span class="s3">\&quot; </span><span class="s1">+ delim.size, spanHeight, viewBoxHeight, extraVinculum, options);</span><span class="s3">\n    </span><span class="s1">span.style.minWidth = </span><span class="s3">\&quot;</span><span class="s1">1.02em</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">advanceWidth = 1.0 / sizeMultiplier; // 1.0 from the font.</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">// Tall sqrt. In TeX, this would be stacked using multiple glyphs.</span><span class="s3">\n    </span><span class="s1">// We'll use a single SVG to accomplish the same thing.</span><span class="s3">\n    </span><span class="s1">spanHeight = height + extraVinculum + emPad;</span><span class="s3">\n    </span><span class="s1">texHeight = height + extraVinculum;</span><span class="s3">\n    </span><span class="s1">viewBoxHeight = Math.floor(1000 * height + extraVinculum) + vbPad;</span><span class="s3">\n    </span><span class="s1">span = sqrtSvg(</span><span class="s3">\&quot;</span><span class="s1">sqrtTall</span><span class="s3">\&quot;</span><span class="s1">, spanHeight, viewBoxHeight, extraVinculum, options);</span><span class="s3">\n    </span><span class="s1">span.style.minWidth = </span><span class="s3">\&quot;</span><span class="s1">0.742em</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">advanceWidth = 1.056;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">span.height = texHeight;</span><span class="s3">\n  </span><span class="s1">span.style.height = makeEm(spanHeight);</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">span,</span><span class="s3">\n    </span><span class="s1">advanceWidth,</span><span class="s3">\n    </span><span class="s1">// Calculate the actual line width.</span><span class="s3">\n    </span><span class="s1">// This actually should depend on the chosen font -- e.g. </span><span class="s3">\\</span><span class="s1">boldmath</span><span class="s3">\n    </span><span class="s1">// should use the thicker surd symbols from e.g. KaTeX_Main-Bold, and</span><span class="s3">\n    </span><span class="s1">// have thicker rules.</span><span class="s3">\n    </span><span class="s1">ruleWidth: (options.fontMetrics().sqrtRuleThickness + extraVinculum) * sizeMultiplier</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}; // There are three kinds of delimiters, delimiters that stack when they become</span><span class="s3">\n</span><span class="s1">// too large</span><span class="s3">\n\n\n</span><span class="s1">var stackLargeDelimiters = [</span><span class="s3">\&quot;</span><span class="s1">(</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lparen</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rparen</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lbrack</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rbrack</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lbrace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rbrace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lfloor</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rfloor</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u230a</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u230b</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lceil</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rceil</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2308</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2309</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">surd</span><span class="s3">\&quot;</span><span class="s1">]; // delimiters that always stack</span><span class="s3">\n\n</span><span class="s1">var stackAlwaysDelimiters = [</span><span class="s3">\&quot;\\\\</span><span class="s1">uparrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">downarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">updownarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Uparrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Downarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Updownarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">vert</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Vert</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lvert</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rvert</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lVert</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rVert</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lgroup</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rgroup</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u27ee</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u27ef</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lmoustache</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rmoustache</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u23b0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u23b1</span><span class="s3">\&quot;</span><span class="s1">]; // and delimiters that never stack</span><span class="s3">\n\n</span><span class="s1">var stackNeverDelimiters = [</span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">langle</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">/</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">backslash</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lt</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gt</span><span class="s3">\&quot;</span><span class="s1">]; // Metrics of the different sizes. Found by looking at TeX's output of</span><span class="s3">\n</span><span class="s1">// $</span><span class="s3">\\</span><span class="s1">bigl| // </span><span class="s3">\\</span><span class="s1">Bigl| </span><span class="s3">\\</span><span class="s1">biggl| </span><span class="s3">\\</span><span class="s1">Biggl| </span><span class="s3">\\</span><span class="s1">showlists$</span><span class="s3">\n</span><span class="s1">// Used to create stacked delimiters of appropriate sizes in makeSizedDelim.</span><span class="s3">\n\n</span><span class="s1">var sizeToMaxHeight = [0, 1.2, 1.8, 2.4, 3.0];</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Used to create a delimiter of a specific size, where `size` is 1, 2, 3, or 4.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">var makeSizedDelim = function makeSizedDelim(delim, size, options, mode, classes) {</span><span class="s3">\n  </span><span class="s1">// &lt; and &gt; turn into </span><span class="s3">\\</span><span class="s1">langle and </span><span class="s3">\\</span><span class="s1">rangle in delimiters</span><span class="s3">\n  </span><span class="s1">if (delim === </span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">lt</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\</span><span class="s1">u27e8</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">delim = </span><span class="s3">\&quot;\\\\</span><span class="s1">langle</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">gt</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\</span><span class="s1">u27e9</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">delim = </span><span class="s3">\&quot;\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} // Sized delimiters are never centered.</span><span class="s3">\n\n\n  </span><span class="s1">if (utils.contains(stackLargeDelimiters, delim) || utils.contains(stackNeverDelimiters, delim)) {</span><span class="s3">\n    </span><span class="s1">return makeLargeDelim(delim, size, false, options, mode, classes);</span><span class="s3">\n  </span><span class="s1">} else if (utils.contains(stackAlwaysDelimiters, delim)) {</span><span class="s3">\n    </span><span class="s1">return makeStackedDelim(delim, sizeToMaxHeight[size], false, options, mode, classes);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Illegal delimiter: '</span><span class="s3">\&quot; </span><span class="s1">+ delim + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* There are three different sequences of delimiter sizes that the delimiters</span><span class="s3">\n </span><span class="s1">* follow depending on the kind of delimiter. This is used when creating custom</span><span class="s3">\n </span><span class="s1">* sized delimiters to decide whether to create a small, large, or stacked</span><span class="s3">\n </span><span class="s1">* delimiter.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* In real TeX, these sequences aren't explicitly defined, but are instead</span><span class="s3">\n </span><span class="s1">* defined inside the font metrics. Since there are only three sequences that</span><span class="s3">\n </span><span class="s1">* are possible for the delimiters that TeX defines, it is easier to just encode</span><span class="s3">\n </span><span class="s1">* them explicitly here.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">// Delimiters that never stack try small delimiters and large delimiters only</span><span class="s3">\n</span><span class="s1">var stackNeverDelimiterSequence = [{</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">small</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">style: Style$1.SCRIPTSCRIPT</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">small</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">style: Style$1.SCRIPT</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">small</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">style: Style$1.TEXT</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">large</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">size: 1</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">large</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">size: 2</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">large</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">size: 3</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">large</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">size: 4</span><span class="s3">\n</span><span class="s1">}]; // Delimiters that always stack try the small delimiters first, then stack</span><span class="s3">\n\n</span><span class="s1">var stackAlwaysDelimiterSequence = [{</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">small</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">style: Style$1.SCRIPTSCRIPT</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">small</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">style: Style$1.SCRIPT</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">small</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">style: Style$1.TEXT</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">stack</span><span class="s3">\&quot;\n</span><span class="s1">}]; // Delimiters that stack when large try the small and then large delimiters, and</span><span class="s3">\n</span><span class="s1">// stack afterwards</span><span class="s3">\n\n</span><span class="s1">var stackLargeDelimiterSequence = [{</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">small</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">style: Style$1.SCRIPTSCRIPT</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">small</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">style: Style$1.SCRIPT</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">small</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">style: Style$1.TEXT</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">large</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">size: 1</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">large</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">size: 2</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">large</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">size: 3</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">large</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">size: 4</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">stack</span><span class="s3">\&quot;\n</span><span class="s1">}];</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Get the font used in a delimiter based on what kind of delimiter it is.</span><span class="s3">\n </span><span class="s1">* TODO(#963) Use more specific font family return type once that is introduced.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">var delimTypeToFont = function delimTypeToFont(type) {</span><span class="s3">\n  </span><span class="s1">if (type.type === </span><span class="s3">\&quot;</span><span class="s1">small</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">Main-Regular</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (type.type === </span><span class="s3">\&quot;</span><span class="s1">large</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">Size</span><span class="s3">\&quot; </span><span class="s1">+ type.size + </span><span class="s3">\&quot;</span><span class="s1">-Regular</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (type.type === </span><span class="s3">\&quot;</span><span class="s1">stack</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">Size4-Regular</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Add support for delim type '</span><span class="s3">\&quot; </span><span class="s1">+ type.type + </span><span class="s3">\&quot;</span><span class="s1">' here.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Traverse a sequence of types of delimiters to decide what kind of delimiter</span><span class="s3">\n </span><span class="s1">* should be used to create a delimiter of the given height+depth.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var traverseSequence = function traverseSequence(delim, height, sequence, options) {</span><span class="s3">\n  </span><span class="s1">// Here, we choose the index we should start at in the sequences. In smaller</span><span class="s3">\n  </span><span class="s1">// sizes (which correspond to larger numbers in style.size) we start earlier</span><span class="s3">\n  </span><span class="s1">// in the sequence. Thus, scriptscript starts at index 3-3=0, script starts</span><span class="s3">\n  </span><span class="s1">// at index 3-2=1, text starts at 3-1=2, and display starts at min(2,3-0)=2</span><span class="s3">\n  </span><span class="s1">var start = Math.min(2, 3 - options.style.size);</span><span class="s3">\n\n  </span><span class="s1">for (var i = start; i &lt; sequence.length; i++) {</span><span class="s3">\n    </span><span class="s1">if (sequence[i].type === </span><span class="s3">\&quot;</span><span class="s1">stack</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// This is always the last delimiter, so we just break the loop now.</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var metrics = getMetrics(delim, delimTypeToFont(sequence[i]), </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">var heightDepth = metrics.height + metrics.depth; // Small delimiters are scaled down versions of the same font, so we</span><span class="s3">\n    </span><span class="s1">// account for the style change size.</span><span class="s3">\n\n    </span><span class="s1">if (sequence[i].type === </span><span class="s3">\&quot;</span><span class="s1">small</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">var newOptions = options.havingBaseStyle(sequence[i].style);</span><span class="s3">\n      </span><span class="s1">heightDepth *= newOptions.sizeMultiplier;</span><span class="s3">\n    </span><span class="s1">} // Check if the delimiter at this size works for the given height.</span><span class="s3">\n\n\n    </span><span class="s1">if (heightDepth &gt; height) {</span><span class="s3">\n      </span><span class="s1">return sequence[i];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} // If we reached the end of the sequence, return the last sequence element.</span><span class="s3">\n\n\n  </span><span class="s1">return sequence[sequence.length - 1];</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Make a delimiter of a given height+depth, with optional centering. Here, we</span><span class="s3">\n </span><span class="s1">* traverse the sequences, and create a delimiter that the sequence tells us to.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var makeCustomSizedDelim = function makeCustomSizedDelim(delim, height, center, options, mode, classes) {</span><span class="s3">\n  </span><span class="s1">if (delim === </span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">lt</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\</span><span class="s1">u27e8</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">delim = </span><span class="s3">\&quot;\\\\</span><span class="s1">langle</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (delim === </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">gt</span><span class="s3">\&quot; </span><span class="s1">|| delim === </span><span class="s3">\&quot;\\</span><span class="s1">u27e9</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">delim = </span><span class="s3">\&quot;\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} // Decide what sequence to use</span><span class="s3">\n\n\n  </span><span class="s1">var sequence;</span><span class="s3">\n\n  </span><span class="s1">if (utils.contains(stackNeverDelimiters, delim)) {</span><span class="s3">\n    </span><span class="s1">sequence = stackNeverDelimiterSequence;</span><span class="s3">\n  </span><span class="s1">} else if (utils.contains(stackLargeDelimiters, delim)) {</span><span class="s3">\n    </span><span class="s1">sequence = stackLargeDelimiterSequence;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">sequence = stackAlwaysDelimiterSequence;</span><span class="s3">\n  </span><span class="s1">} // Look through the sequence</span><span class="s3">\n\n\n  </span><span class="s1">var delimType = traverseSequence(delim, height, sequence, options); // Get the delimiter from font glyphs.</span><span class="s3">\n  </span><span class="s1">// Depending on the sequence element we decided on, call the</span><span class="s3">\n  </span><span class="s1">// appropriate function.</span><span class="s3">\n\n  </span><span class="s1">if (delimType.type === </span><span class="s3">\&quot;</span><span class="s1">small</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return makeSmallDelim(delim, delimType.style, center, options, mode, classes);</span><span class="s3">\n  </span><span class="s1">} else if (delimType.type === </span><span class="s3">\&quot;</span><span class="s1">large</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return makeLargeDelim(delim, delimType.size, center, options, mode, classes);</span><span class="s3">\n  </span><span class="s1">} else</span><span class="s3">\n    </span><span class="s1">/* if (delimType.type === </span><span class="s3">\&quot;</span><span class="s1">stack</span><span class="s3">\&quot;</span><span class="s1">) */</span><span class="s3">\n    </span><span class="s1">{</span><span class="s3">\n      </span><span class="s1">return makeStackedDelim(delim, height, center, options, mode, classes);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Make a delimiter for use with `</span><span class="s3">\\</span><span class="s1">left` and `</span><span class="s3">\\</span><span class="s1">right`, given a height and depth</span><span class="s3">\n </span><span class="s1">* of an expression that the delimiters surround.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var makeLeftRightDelim = function makeLeftRightDelim(delim, height, depth, options, mode, classes) {</span><span class="s3">\n  </span><span class="s1">// We always center </span><span class="s3">\\</span><span class="s1">left/</span><span class="s3">\\</span><span class="s1">right delimiters, so the axis is always shifted</span><span class="s3">\n  </span><span class="s1">var axisHeight = options.fontMetrics().axisHeight * options.sizeMultiplier; // Taken from TeX source, tex.web, function make_left_right</span><span class="s3">\n\n  </span><span class="s1">var delimiterFactor = 901;</span><span class="s3">\n  </span><span class="s1">var delimiterExtend = 5.0 / options.fontMetrics().ptPerEm;</span><span class="s3">\n  </span><span class="s1">var maxDistFromAxis = Math.max(height - axisHeight, depth + axisHeight);</span><span class="s3">\n  </span><span class="s1">var totalHeight = Math.max( // In real TeX, calculations are done using integral values which are</span><span class="s3">\n  </span><span class="s1">// 65536 per pt, or 655360 per em. So, the division here truncates in</span><span class="s3">\n  </span><span class="s1">// TeX but doesn't here, producing different results. If we wanted to</span><span class="s3">\n  </span><span class="s1">// exactly match TeX's calculation, we could do</span><span class="s3">\n  </span><span class="s1">//   Math.floor(655360 * maxDistFromAxis / 500) *</span><span class="s3">\n  </span><span class="s1">//    delimiterFactor / 655360</span><span class="s3">\n  </span><span class="s1">// (To see the difference, compare</span><span class="s3">\n  </span><span class="s1">//    x^{x^{</span><span class="s3">\\</span><span class="s1">left(</span><span class="s3">\\</span><span class="s1">rule{0.1em}{0.68em}</span><span class="s3">\\</span><span class="s1">right)}}</span><span class="s3">\n  </span><span class="s1">// in TeX and KaTeX)</span><span class="s3">\n  </span><span class="s1">maxDistFromAxis / 500 * delimiterFactor, 2 * maxDistFromAxis - delimiterExtend); // Finally, we defer to `makeCustomSizedDelim` with our calculated total</span><span class="s3">\n  </span><span class="s1">// height</span><span class="s3">\n\n  </span><span class="s1">return makeCustomSizedDelim(delim, totalHeight, true, options, mode, classes);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var delimiter = {</span><span class="s3">\n  </span><span class="s1">sqrtImage: makeSqrtImage,</span><span class="s3">\n  </span><span class="s1">sizedDelim: makeSizedDelim,</span><span class="s3">\n  </span><span class="s1">sizeToMaxHeight: sizeToMaxHeight,</span><span class="s3">\n  </span><span class="s1">customSizedDelim: makeCustomSizedDelim,</span><span class="s3">\n  </span><span class="s1">leftRightDelim: makeLeftRightDelim</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// Extra data needed for the delimiter handler down below</span><span class="s3">\n</span><span class="s1">var delimiterSizes = {</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">bigl</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">mclass: </span><span class="s3">\&quot;</span><span class="s1">mopen</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">size: 1</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">Bigl</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">mclass: </span><span class="s3">\&quot;</span><span class="s1">mopen</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">size: 2</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">biggl</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">mclass: </span><span class="s3">\&quot;</span><span class="s1">mopen</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">size: 3</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">Biggl</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">mclass: </span><span class="s3">\&quot;</span><span class="s1">mopen</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">size: 4</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">bigr</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">mclass: </span><span class="s3">\&quot;</span><span class="s1">mclose</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">size: 1</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">Bigr</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">mclass: </span><span class="s3">\&quot;</span><span class="s1">mclose</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">size: 2</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">biggr</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">mclass: </span><span class="s3">\&quot;</span><span class="s1">mclose</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">size: 3</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">Biggr</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">mclass: </span><span class="s3">\&quot;</span><span class="s1">mclose</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">size: 4</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">bigm</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">mclass: </span><span class="s3">\&quot;</span><span class="s1">mrel</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">size: 1</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">Bigm</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">mclass: </span><span class="s3">\&quot;</span><span class="s1">mrel</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">size: 2</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">biggm</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">mclass: </span><span class="s3">\&quot;</span><span class="s1">mrel</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">size: 3</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">Biggm</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">mclass: </span><span class="s3">\&quot;</span><span class="s1">mrel</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">size: 4</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">big</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">mclass: </span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">size: 1</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">Big</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">mclass: </span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">size: 2</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">bigg</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">mclass: </span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">size: 3</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">Bigg</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">mclass: </span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">size: 4</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var delimiters = [</span><span class="s3">\&quot;</span><span class="s1">(</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lparen</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rparen</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lbrack</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rbrack</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lbrace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rbrace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lfloor</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rfloor</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u230a</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u230b</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lceil</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rceil</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2308</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2309</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">langle</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u27e8</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u27e9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lt</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gt</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lvert</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rvert</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lVert</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rVert</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lgroup</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rgroup</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u27ee</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u27ef</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lmoustache</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rmoustache</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u23b0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u23b1</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">/</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">backslash</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">vert</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Vert</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">uparrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Uparrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">downarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Downarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">updownarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Updownarrow</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n\n</span><span class="s1">// Delimiter functions</span><span class="s3">\n</span><span class="s1">function checkDelimiter(delim, context) {</span><span class="s3">\n  </span><span class="s1">var symDelim = checkSymbolNodeType(delim);</span><span class="s3">\n\n  </span><span class="s1">if (symDelim &amp;&amp; utils.contains(delimiters, symDelim.text)) {</span><span class="s3">\n    </span><span class="s1">return symDelim;</span><span class="s3">\n  </span><span class="s1">} else if (symDelim) {</span><span class="s3">\n    </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Invalid delimiter '</span><span class="s3">\&quot; </span><span class="s1">+ symDelim.text + </span><span class="s3">\&quot;</span><span class="s1">' after '</span><span class="s3">\&quot; </span><span class="s1">+ context.funcName + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">, delim);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Invalid delimiter type '</span><span class="s3">\&quot; </span><span class="s1">+ delim.type + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">, delim);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">delimsizing</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">bigl</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Bigl</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">biggl</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Biggl</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Bigr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">biggr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Biggr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigm</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Bigm</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">biggm</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Biggm</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">big</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Big</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigg</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Bigg</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">primitive</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (context, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var delim = checkDelimiter(args[0], context);</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">delimsizing</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: context.parser.mode,</span><span class="s3">\n      </span><span class="s1">size: delimiterSizes[context.funcName].size,</span><span class="s3">\n      </span><span class="s1">mclass: delimiterSizes[context.funcName].mclass,</span><span class="s3">\n      </span><span class="s1">delim: delim.text</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (group.delim === </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// Empty delimiters still count as elements, even though they don't</span><span class="s3">\n      </span><span class="s1">// show anything.</span><span class="s3">\n      </span><span class="s1">return buildCommon.makeSpan([group.mclass]);</span><span class="s3">\n    </span><span class="s1">} // Use delimiter.sizedDelim to generate the delimiter.</span><span class="s3">\n\n\n    </span><span class="s1">return delimiter.sizedDelim(group.delim, group.size, options, group.mode, [group.mclass]);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: group =&gt; {</span><span class="s3">\n    </span><span class="s1">var children = [];</span><span class="s3">\n\n    </span><span class="s1">if (group.delim !== </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">children.push(makeText(group.delim, group.mode));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">, children);</span><span class="s3">\n\n    </span><span class="s1">if (group.mclass === </span><span class="s3">\&quot;</span><span class="s1">mopen</span><span class="s3">\&quot; </span><span class="s1">|| group.mclass === </span><span class="s3">\&quot;</span><span class="s1">mclose</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// Only some of the delimsizing functions act as fences, and they</span><span class="s3">\n      </span><span class="s1">// return </span><span class="s3">\&quot;</span><span class="s1">mopen</span><span class="s3">\&quot; </span><span class="s1">or </span><span class="s3">\&quot;</span><span class="s1">mclose</span><span class="s3">\&quot; </span><span class="s1">mclass.</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">fence</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">// Explicitly disable fencing if it's not a fence, to override the</span><span class="s3">\n      </span><span class="s1">// defaults.</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">fence</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">stretchy</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">var size = makeEm(delimiter.sizeToMaxHeight[group.size]);</span><span class="s3">\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">minsize</span><span class="s3">\&quot;</span><span class="s1">, size);</span><span class="s3">\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">maxsize</span><span class="s3">\&quot;</span><span class="s1">, size);</span><span class="s3">\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">function assertParsed(group) {</span><span class="s3">\n  </span><span class="s1">if (!group.body) {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Bug: The leftright ParseNode wasn't fully parsed.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">leftright-right</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">right</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">primitive: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (context, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">left case below triggers parsing of </span><span class="s3">\\</span><span class="s1">right in</span><span class="s3">\n    </span><span class="s1">//   `const right = parser.parseFunction();`</span><span class="s3">\n    </span><span class="s1">// uses this return value.</span><span class="s3">\n    </span><span class="s1">var color = context.parser.gullet.macros.get(</span><span class="s3">\&quot;\\\\</span><span class="s1">current@color</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">if (color &amp;&amp; typeof color !== </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;\\\\</span><span class="s1">current@color set to non-string in </span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">leftright-right</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: context.parser.mode,</span><span class="s3">\n      </span><span class="s1">delim: checkDelimiter(args[0], context).text,</span><span class="s3">\n      </span><span class="s1">color // undefined if not set via </span><span class="s3">\\</span><span class="s1">color</span><span class="s3">\n\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">leftright</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">left</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">primitive: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (context, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var delim = checkDelimiter(args[0], context);</span><span class="s3">\n    </span><span class="s1">var parser = context.parser; // Parse out the implicit body</span><span class="s3">\n\n    </span><span class="s1">++parser.leftrightDepth; // parseExpression stops before '</span><span class="s3">\\\\</span><span class="s1">right'</span><span class="s3">\n\n    </span><span class="s1">var body = parser.parseExpression(false);</span><span class="s3">\n    </span><span class="s1">--parser.leftrightDepth; // Check the next token</span><span class="s3">\n\n    </span><span class="s1">parser.expect(</span><span class="s3">\&quot;\\\\</span><span class="s1">right</span><span class="s3">\&quot;</span><span class="s1">, false);</span><span class="s3">\n    </span><span class="s1">var right = assertNodeType(parser.parseFunction(), </span><span class="s3">\&quot;</span><span class="s1">leftright-right</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">leftright</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">body,</span><span class="s3">\n      </span><span class="s1">left: delim.text,</span><span class="s3">\n      </span><span class="s1">right: right.delim,</span><span class="s3">\n      </span><span class="s1">rightColor: right.color</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">assertParsed(group); // Build the inner expression</span><span class="s3">\n\n    </span><span class="s1">var inner = buildExpression$1(group.body, options, true, [</span><span class="s3">\&quot;</span><span class="s1">mopen</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mclose</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n    </span><span class="s1">var innerHeight = 0;</span><span class="s3">\n    </span><span class="s1">var innerDepth = 0;</span><span class="s3">\n    </span><span class="s1">var hadMiddle = false; // Calculate its height and depth</span><span class="s3">\n\n    </span><span class="s1">for (var i = 0; i &lt; inner.length; i++) {</span><span class="s3">\n      </span><span class="s1">// Property `isMiddle` not defined on `span`. See comment in</span><span class="s3">\n      </span><span class="s1">// </span><span class="s3">\&quot;</span><span class="s1">middle</span><span class="s3">\&quot;</span><span class="s1">'s htmlBuilder.</span><span class="s3">\n      </span><span class="s1">// $FlowFixMe</span><span class="s3">\n      </span><span class="s1">if (inner[i].isMiddle) {</span><span class="s3">\n        </span><span class="s1">hadMiddle = true;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">innerHeight = Math.max(inner[i].height, innerHeight);</span><span class="s3">\n        </span><span class="s1">innerDepth = Math.max(inner[i].depth, innerDepth);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} // The size of delimiters is the same, regardless of what style we are</span><span class="s3">\n    </span><span class="s1">// in. Thus, to correctly calculate the size of delimiter we need around</span><span class="s3">\n    </span><span class="s1">// a group, we scale down the inner size based on the size.</span><span class="s3">\n\n\n    </span><span class="s1">innerHeight *= options.sizeMultiplier;</span><span class="s3">\n    </span><span class="s1">innerDepth *= options.sizeMultiplier;</span><span class="s3">\n    </span><span class="s1">var leftDelim;</span><span class="s3">\n\n    </span><span class="s1">if (group.left === </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// Empty delimiters in </span><span class="s3">\\</span><span class="s1">left and </span><span class="s3">\\</span><span class="s1">right make null delimiter spaces.</span><span class="s3">\n      </span><span class="s1">leftDelim = makeNullDelimiter(options, [</span><span class="s3">\&quot;</span><span class="s1">mopen</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">// Otherwise, use leftRightDelim to generate the correct sized</span><span class="s3">\n      </span><span class="s1">// delimiter.</span><span class="s3">\n      </span><span class="s1">leftDelim = delimiter.leftRightDelim(group.left, innerHeight, innerDepth, options, group.mode, [</span><span class="s3">\&quot;</span><span class="s1">mopen</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n    </span><span class="s1">} // Add it to the beginning of the expression</span><span class="s3">\n\n\n    </span><span class="s1">inner.unshift(leftDelim); // Handle middle delimiters</span><span class="s3">\n\n    </span><span class="s1">if (hadMiddle) {</span><span class="s3">\n      </span><span class="s1">for (var _i = 1; _i &lt; inner.length; _i++) {</span><span class="s3">\n        </span><span class="s1">var middleDelim = inner[_i]; // Property `isMiddle` not defined on `span`. See comment in</span><span class="s3">\n        </span><span class="s1">// </span><span class="s3">\&quot;</span><span class="s1">middle</span><span class="s3">\&quot;</span><span class="s1">'s htmlBuilder.</span><span class="s3">\n        </span><span class="s1">// $FlowFixMe</span><span class="s3">\n\n        </span><span class="s1">var isMiddle = middleDelim.isMiddle;</span><span class="s3">\n\n        </span><span class="s1">if (isMiddle) {</span><span class="s3">\n          </span><span class="s1">// Apply the options that were active when </span><span class="s3">\\</span><span class="s1">middle was called</span><span class="s3">\n          </span><span class="s1">inner[_i] = delimiter.leftRightDelim(isMiddle.delim, innerHeight, innerDepth, isMiddle.options, group.mode, []);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var rightDelim; // Same for the right delimiter, but using color specified by </span><span class="s3">\\</span><span class="s1">color</span><span class="s3">\n\n    </span><span class="s1">if (group.right === </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">rightDelim = makeNullDelimiter(options, [</span><span class="s3">\&quot;</span><span class="s1">mclose</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">var colorOptions = group.rightColor ? options.withColor(group.rightColor) : options;</span><span class="s3">\n      </span><span class="s1">rightDelim = delimiter.leftRightDelim(group.right, innerHeight, innerDepth, colorOptions, group.mode, [</span><span class="s3">\&quot;</span><span class="s1">mclose</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n    </span><span class="s1">} // Add it to the end of the expression.</span><span class="s3">\n\n\n    </span><span class="s1">inner.push(rightDelim);</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">minner</span><span class="s3">\&quot;</span><span class="s1">], inner, options);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">assertParsed(group);</span><span class="s3">\n    </span><span class="s1">var inner = buildExpression(group.body, options);</span><span class="s3">\n\n    </span><span class="s1">if (group.left !== </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">var leftNode = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">, [makeText(group.left, group.mode)]);</span><span class="s3">\n      </span><span class="s1">leftNode.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">fence</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">inner.unshift(leftNode);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (group.right !== </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">var rightNode = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">, [makeText(group.right, group.mode)]);</span><span class="s3">\n      </span><span class="s1">rightNode.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">fence</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n      </span><span class="s1">if (group.rightColor) {</span><span class="s3">\n        </span><span class="s1">rightNode.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">mathcolor</span><span class="s3">\&quot;</span><span class="s1">, group.rightColor);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">inner.push(rightNode);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return makeRow(inner);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">middle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">middle</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">primitive: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (context, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var delim = checkDelimiter(args[0], context);</span><span class="s3">\n\n    </span><span class="s1">if (!context.parser.leftrightDepth) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;\\\\</span><span class="s1">middle without preceding </span><span class="s3">\\\\</span><span class="s1">left</span><span class="s3">\&quot;</span><span class="s1">, delim);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">middle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: context.parser.mode,</span><span class="s3">\n      </span><span class="s1">delim: delim.text</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">var middleDelim;</span><span class="s3">\n\n    </span><span class="s1">if (group.delim === </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">middleDelim = makeNullDelimiter(options, []);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">middleDelim = delimiter.sizedDelim(group.delim, 1, options, group.mode, []);</span><span class="s3">\n      </span><span class="s1">var isMiddle = {</span><span class="s3">\n        </span><span class="s1">delim: group.delim,</span><span class="s3">\n        </span><span class="s1">options</span><span class="s3">\n      </span><span class="s1">}; // Property `isMiddle` not defined on `span`. It is only used in</span><span class="s3">\n      </span><span class="s1">// this file above.</span><span class="s3">\n      </span><span class="s1">// TODO: Fix this violation of the `span` type and possibly rename</span><span class="s3">\n      </span><span class="s1">// things since `isMiddle` sounds like a boolean, but is a struct.</span><span class="s3">\n      </span><span class="s1">// $FlowFixMe</span><span class="s3">\n\n      </span><span class="s1">middleDelim.isMiddle = isMiddle;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return middleDelim;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">// A Firefox </span><span class="s3">\\</span><span class="s1">middle will stretch a character vertically only if it</span><span class="s3">\n    </span><span class="s1">// is in the fence part of the operator dictionary at:</span><span class="s3">\n    </span><span class="s1">// https://www.w3.org/TR/MathML3/appendixc.html.</span><span class="s3">\n    </span><span class="s1">// So we need to avoid U+2223 and use plain </span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot; </span><span class="s1">instead.</span><span class="s3">\n    </span><span class="s1">var textNode = group.delim === </span><span class="s3">\&quot;\\\\</span><span class="s1">vert</span><span class="s3">\&quot; </span><span class="s1">|| group.delim === </span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot; </span><span class="s1">? makeText(</span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">) : makeText(group.delim, group.mode);</span><span class="s3">\n    </span><span class="s1">var middleNode = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">, [textNode]);</span><span class="s3">\n    </span><span class="s1">middleNode.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">fence</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">); // MathML gives 5/18em spacing to each &lt;mo&gt; element.</span><span class="s3">\n    </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">middle should get delimiter spacing instead.</span><span class="s3">\n\n    </span><span class="s1">middleNode.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">lspace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0.05em</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">middleNode.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">rspace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0.05em</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return middleNode;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">var htmlBuilder$7 = (group, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">cancel, </span><span class="s3">\\</span><span class="s1">bcancel, </span><span class="s3">\\</span><span class="s1">xcancel, </span><span class="s3">\\</span><span class="s1">sout, </span><span class="s3">\\</span><span class="s1">fbox, </span><span class="s3">\\</span><span class="s1">colorbox, </span><span class="s3">\\</span><span class="s1">fcolorbox, </span><span class="s3">\\</span><span class="s1">phase</span><span class="s3">\n  </span><span class="s1">// Some groups can return document fragments.  Handle those by wrapping</span><span class="s3">\n  </span><span class="s1">// them in a span.</span><span class="s3">\n  </span><span class="s1">var inner = buildCommon.wrapFragment(buildGroup$1(group.body, options), options);</span><span class="s3">\n  </span><span class="s1">var label = group.label.slice(1);</span><span class="s3">\n  </span><span class="s1">var scale = options.sizeMultiplier;</span><span class="s3">\n  </span><span class="s1">var img;</span><span class="s3">\n  </span><span class="s1">var imgShift = 0; // In the LaTeX cancel package, line geometry is slightly different</span><span class="s3">\n  </span><span class="s1">// depending on whether the subject is wider than it is tall, or vice versa.</span><span class="s3">\n  </span><span class="s1">// We don't know the width of a group, so as a proxy, we test if</span><span class="s3">\n  </span><span class="s1">// the subject is a single character. This captures most of the</span><span class="s3">\n  </span><span class="s1">// subjects that should get the </span><span class="s3">\&quot;</span><span class="s1">tall</span><span class="s3">\&quot; </span><span class="s1">treatment.</span><span class="s3">\n\n  </span><span class="s1">var isSingleChar = utils.isCharacterBox(group.body);</span><span class="s3">\n\n  </span><span class="s1">if (label === </span><span class="s3">\&quot;</span><span class="s1">sout</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">img = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">stretchy</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">sout</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n    </span><span class="s1">img.height = options.fontMetrics().defaultRuleThickness / scale;</span><span class="s3">\n    </span><span class="s1">imgShift = -0.5 * options.fontMetrics().xHeight;</span><span class="s3">\n  </span><span class="s1">} else if (label === </span><span class="s3">\&quot;</span><span class="s1">phase</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">// Set a couple of dimensions from the steinmetz package.</span><span class="s3">\n    </span><span class="s1">var lineWeight = calculateSize({</span><span class="s3">\n      </span><span class="s1">number: 0.6,</span><span class="s3">\n      </span><span class="s1">unit: </span><span class="s3">\&quot;</span><span class="s1">pt</span><span class="s3">\&quot;\n    </span><span class="s1">}, options);</span><span class="s3">\n    </span><span class="s1">var clearance = calculateSize({</span><span class="s3">\n      </span><span class="s1">number: 0.35,</span><span class="s3">\n      </span><span class="s1">unit: </span><span class="s3">\&quot;</span><span class="s1">ex</span><span class="s3">\&quot;\n    </span><span class="s1">}, options); // Prevent size changes like </span><span class="s3">\\</span><span class="s1">Huge from affecting line thickness</span><span class="s3">\n\n    </span><span class="s1">var newOptions = options.havingBaseSizing();</span><span class="s3">\n    </span><span class="s1">scale = scale / newOptions.sizeMultiplier;</span><span class="s3">\n    </span><span class="s1">var angleHeight = inner.height + inner.depth + lineWeight + clearance; // Reserve a left pad for the angle.</span><span class="s3">\n\n    </span><span class="s1">inner.style.paddingLeft = makeEm(angleHeight / 2 + lineWeight); // Create an SVG</span><span class="s3">\n\n    </span><span class="s1">var viewBoxHeight = Math.floor(1000 * angleHeight * scale);</span><span class="s3">\n    </span><span class="s1">var path = phasePath(viewBoxHeight);</span><span class="s3">\n    </span><span class="s1">var svgNode = new SvgNode([new PathNode(</span><span class="s3">\&quot;</span><span class="s1">phase</span><span class="s3">\&quot;</span><span class="s1">, path)], {</span><span class="s3">\n      \&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">400em</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">: makeEm(viewBoxHeight / 1000),</span><span class="s3">\n      \&quot;</span><span class="s1">viewBox</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0 0 400000 </span><span class="s3">\&quot; </span><span class="s1">+ viewBoxHeight,</span><span class="s3">\n      \&quot;</span><span class="s1">preserveAspectRatio</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">xMinYMin slice</span><span class="s3">\&quot;\n    </span><span class="s1">}); // Wrap it in a span with overflow: hidden.</span><span class="s3">\n\n    </span><span class="s1">img = buildCommon.makeSvgSpan([</span><span class="s3">\&quot;</span><span class="s1">hide-tail</span><span class="s3">\&quot;</span><span class="s1">], [svgNode], options);</span><span class="s3">\n    </span><span class="s1">img.style.height = makeEm(angleHeight);</span><span class="s3">\n    </span><span class="s1">imgShift = inner.depth + lineWeight + clearance;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">// Add horizontal padding</span><span class="s3">\n    </span><span class="s1">if (/cancel/.test(label)) {</span><span class="s3">\n      </span><span class="s1">if (!isSingleChar) {</span><span class="s3">\n        </span><span class="s1">inner.classes.push(</span><span class="s3">\&quot;</span><span class="s1">cancel-pad</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (label === </span><span class="s3">\&quot;</span><span class="s1">angl</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">inner.classes.push(</span><span class="s3">\&quot;</span><span class="s1">anglpad</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">inner.classes.push(</span><span class="s3">\&quot;</span><span class="s1">boxpad</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} // Add vertical padding</span><span class="s3">\n\n\n    </span><span class="s1">var topPad = 0;</span><span class="s3">\n    </span><span class="s1">var bottomPad = 0;</span><span class="s3">\n    </span><span class="s1">var ruleThickness = 0; // ref: cancel package: </span><span class="s3">\\</span><span class="s1">advance</span><span class="s3">\\</span><span class="s1">totalheight2</span><span class="s3">\\</span><span class="s1">p@ % </span><span class="s3">\&quot;</span><span class="s1">+2</span><span class="s3">\&quot;\n\n    </span><span class="s1">if (/box/.test(label)) {</span><span class="s3">\n      </span><span class="s1">ruleThickness = Math.max(options.fontMetrics().fboxrule, // default</span><span class="s3">\n      </span><span class="s1">options.minRuleThickness // User override.</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">topPad = options.fontMetrics().fboxsep + (label === </span><span class="s3">\&quot;</span><span class="s1">colorbox</span><span class="s3">\&quot; </span><span class="s1">? 0 : ruleThickness);</span><span class="s3">\n      </span><span class="s1">bottomPad = topPad;</span><span class="s3">\n    </span><span class="s1">} else if (label === </span><span class="s3">\&quot;</span><span class="s1">angl</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">ruleThickness = Math.max(options.fontMetrics().defaultRuleThickness, options.minRuleThickness);</span><span class="s3">\n      </span><span class="s1">topPad = 4 * ruleThickness; // gap = 3  line, plus the line itself.</span><span class="s3">\n\n      </span><span class="s1">bottomPad = Math.max(0, 0.25 - inner.depth);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">topPad = isSingleChar ? 0.2 : 0;</span><span class="s3">\n      </span><span class="s1">bottomPad = topPad;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">img = stretchy.encloseSpan(inner, label, topPad, bottomPad, options);</span><span class="s3">\n\n    </span><span class="s1">if (/fbox|boxed|fcolorbox/.test(label)) {</span><span class="s3">\n      </span><span class="s1">img.style.borderStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">img.style.borderWidth = makeEm(ruleThickness);</span><span class="s3">\n    </span><span class="s1">} else if (label === </span><span class="s3">\&quot;</span><span class="s1">angl</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; ruleThickness !== 0.049) {</span><span class="s3">\n      </span><span class="s1">img.style.borderTopWidth = makeEm(ruleThickness);</span><span class="s3">\n      </span><span class="s1">img.style.borderRightWidth = makeEm(ruleThickness);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">imgShift = inner.depth + bottomPad;</span><span class="s3">\n\n    </span><span class="s1">if (group.backgroundColor) {</span><span class="s3">\n      </span><span class="s1">img.style.backgroundColor = group.backgroundColor;</span><span class="s3">\n\n      </span><span class="s1">if (group.borderColor) {</span><span class="s3">\n        </span><span class="s1">img.style.borderColor = group.borderColor;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var vlist;</span><span class="s3">\n\n  </span><span class="s1">if (group.backgroundColor) {</span><span class="s3">\n    </span><span class="s1">vlist = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">individualShift</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">children: [// Put the color background behind inner;</span><span class="s3">\n      </span><span class="s1">{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: img,</span><span class="s3">\n        </span><span class="s1">shift: imgShift</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: inner,</span><span class="s3">\n        </span><span class="s1">shift: 0</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">}, options);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">var classes = /cancel|phase/.test(label) ? [</span><span class="s3">\&quot;</span><span class="s1">svg-align</span><span class="s3">\&quot;</span><span class="s1">] : [];</span><span class="s3">\n    </span><span class="s1">vlist = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">individualShift</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">children: [// Write the </span><span class="s3">\\</span><span class="s1">cancel stroke on top of inner.</span><span class="s3">\n      </span><span class="s1">{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: inner,</span><span class="s3">\n        </span><span class="s1">shift: 0</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: img,</span><span class="s3">\n        </span><span class="s1">shift: imgShift,</span><span class="s3">\n        </span><span class="s1">wrapperClasses: classes</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">}, options);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (/cancel/.test(label)) {</span><span class="s3">\n    </span><span class="s1">// The cancel package documentation says that cancel lines add their height</span><span class="s3">\n    </span><span class="s1">// to the expression, but tests show that isn't how it actually works.</span><span class="s3">\n    </span><span class="s1">vlist.height = inner.height;</span><span class="s3">\n    </span><span class="s1">vlist.depth = inner.depth;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (/cancel/.test(label) &amp;&amp; !isSingleChar) {</span><span class="s3">\n    </span><span class="s1">// cancel does not create horiz space for its line extension.</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">cancel-lap</span><span class="s3">\&quot;</span><span class="s1">], [vlist], options);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">], [vlist], options);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var mathmlBuilder$6 = (group, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">var fboxsep = 0;</span><span class="s3">\n  </span><span class="s1">var node = new mathMLTree.MathNode(group.label.indexOf(</span><span class="s3">\&quot;</span><span class="s1">colorbox</span><span class="s3">\&quot;</span><span class="s1">) &gt; -1 ? </span><span class="s3">\&quot;</span><span class="s1">mpadded</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">menclose</span><span class="s3">\&quot;</span><span class="s1">, [buildGroup(group.body, options)]);</span><span class="s3">\n\n  </span><span class="s1">switch (group.label) {</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">cancel</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">notation</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">updiagonalstrike</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">bcancel</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">notation</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">downdiagonalstrike</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">phase</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">notation</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">phasorangle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">sout</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">notation</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">horizontalstrike</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">fbox</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">notation</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">box</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">angl</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">notation</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">actuarial</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">fcolorbox</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">colorbox</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">// &lt;menclose&gt; doesn't have a good notation option. So use &lt;mpadded&gt;</span><span class="s3">\n      </span><span class="s1">// instead. Set some attributes that come included with &lt;menclose&gt;.</span><span class="s3">\n      </span><span class="s1">fboxsep = options.fontMetrics().fboxsep * options.fontMetrics().ptPerEm;</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">+</span><span class="s3">\&quot; </span><span class="s1">+ 2 * fboxsep + </span><span class="s3">\&quot;</span><span class="s1">pt</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">+</span><span class="s3">\&quot; </span><span class="s1">+ 2 * fboxsep + </span><span class="s3">\&quot;</span><span class="s1">pt</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">lspace</span><span class="s3">\&quot;</span><span class="s1">, fboxsep + </span><span class="s3">\&quot;</span><span class="s1">pt</span><span class="s3">\&quot;</span><span class="s1">); //</span><span class="s3">\n\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">voffset</span><span class="s3">\&quot;</span><span class="s1">, fboxsep + </span><span class="s3">\&quot;</span><span class="s1">pt</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n      </span><span class="s1">if (group.label === </span><span class="s3">\&quot;\\\\</span><span class="s1">fcolorbox</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">var thk = Math.max(options.fontMetrics().fboxrule, // default</span><span class="s3">\n        </span><span class="s1">options.minRuleThickness // user override</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">border: </span><span class="s3">\&quot; </span><span class="s1">+ thk + </span><span class="s3">\&quot;</span><span class="s1">em solid </span><span class="s3">\&quot; </span><span class="s1">+ String(group.borderColor));</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">break;</span><span class="s3">\n\n    </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">xcancel</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">notation</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">updiagonalstrike downdiagonalstrike</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (group.backgroundColor) {</span><span class="s3">\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">mathbackground</span><span class="s3">\&quot;</span><span class="s1">, group.backgroundColor);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return node;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">enclose</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">colorbox</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 2,</span><span class="s3">\n    </span><span class="s1">allowedInText: true,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args, optArgs) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var color = assertNodeType(args[0], </span><span class="s3">\&quot;</span><span class="s1">color-token</span><span class="s3">\&quot;</span><span class="s1">).color;</span><span class="s3">\n    </span><span class="s1">var body = args[1];</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">enclose</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">label: funcName,</span><span class="s3">\n      </span><span class="s1">backgroundColor: color,</span><span class="s3">\n      </span><span class="s1">body</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$7,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$6</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">enclose</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">fcolorbox</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 3,</span><span class="s3">\n    </span><span class="s1">allowedInText: true,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref2, args, optArgs) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref2;</span><span class="s3">\n    </span><span class="s1">var borderColor = assertNodeType(args[0], </span><span class="s3">\&quot;</span><span class="s1">color-token</span><span class="s3">\&quot;</span><span class="s1">).color;</span><span class="s3">\n    </span><span class="s1">var backgroundColor = assertNodeType(args[1], </span><span class="s3">\&quot;</span><span class="s1">color-token</span><span class="s3">\&quot;</span><span class="s1">).color;</span><span class="s3">\n    </span><span class="s1">var body = args[2];</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">enclose</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">label: funcName,</span><span class="s3">\n      </span><span class="s1">backgroundColor,</span><span class="s3">\n      </span><span class="s1">borderColor,</span><span class="s3">\n      </span><span class="s1">body</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$7,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$6</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">enclose</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">fbox</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">hbox</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref3, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref3;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">enclose</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">label: </span><span class="s3">\&quot;\\\\</span><span class="s1">fbox</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">body: args[0]</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">enclose</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">cancel</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bcancel</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">xcancel</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sout</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">phase</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref4, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref4;</span><span class="s3">\n    </span><span class="s1">var body = args[0];</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">enclose</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">label: funcName,</span><span class="s3">\n      </span><span class="s1">body</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$7,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$6</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">enclose</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">angl</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">hbox</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">allowedInText: false</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref5, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref5;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">enclose</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">label: </span><span class="s3">\&quot;\\\\</span><span class="s1">angl</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">body: args[0]</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* All registered environments.</span><span class="s3">\n </span><span class="s1">* `environments.js` exports this same dictionary again and makes it public.</span><span class="s3">\n </span><span class="s1">* `Parser.js` requires this dictionary via `environments.js`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var _environments = {};</span><span class="s3">\n</span><span class="s1">function defineEnvironment(_ref) {</span><span class="s3">\n  </span><span class="s1">var {</span><span class="s3">\n    </span><span class="s1">type,</span><span class="s3">\n    </span><span class="s1">names,</span><span class="s3">\n    </span><span class="s1">props,</span><span class="s3">\n    </span><span class="s1">handler,</span><span class="s3">\n    </span><span class="s1">htmlBuilder,</span><span class="s3">\n    </span><span class="s1">mathmlBuilder</span><span class="s3">\n  </span><span class="s1">} = _ref;</span><span class="s3">\n  </span><span class="s1">// Set default values of environments.</span><span class="s3">\n  </span><span class="s1">var data = {</span><span class="s3">\n    </span><span class="s1">type,</span><span class="s3">\n    </span><span class="s1">numArgs: props.numArgs || 0,</span><span class="s3">\n    </span><span class="s1">allowedInText: false,</span><span class="s3">\n    </span><span class="s1">numOptionalArgs: 0,</span><span class="s3">\n    </span><span class="s1">handler</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">for (var i = 0; i &lt; names.length; ++i) {</span><span class="s3">\n    </span><span class="s1">// TODO: The value type of _environments should be a type union of all</span><span class="s3">\n    </span><span class="s1">// possible `EnvSpec&lt;&gt;` possibilities instead of `EnvSpec&lt;*&gt;`, which is</span><span class="s3">\n    </span><span class="s1">// an existential type.</span><span class="s3">\n    </span><span class="s1">_environments[names[i]] = data;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (htmlBuilder) {</span><span class="s3">\n    </span><span class="s1">_htmlGroupBuilders[type] = htmlBuilder;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (mathmlBuilder) {</span><span class="s3">\n    </span><span class="s1">_mathmlGroupBuilders[type] = mathmlBuilder;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* All registered global/built-in macros.</span><span class="s3">\n </span><span class="s1">* `macros.js` exports this same dictionary again and makes it public.</span><span class="s3">\n </span><span class="s1">* `Parser.js` requires this dictionary via `macros.js`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var _macros = {}; // This function might one day accept an additional argument and do more things.</span><span class="s3">\n\n</span><span class="s1">function defineMacro(name, body) {</span><span class="s3">\n  </span><span class="s1">_macros[name] = body;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Helper functions</span><span class="s3">\n</span><span class="s1">function getHLines(parser) {</span><span class="s3">\n  </span><span class="s1">// Return an array. The array length = number of hlines.</span><span class="s3">\n  </span><span class="s1">// Each element in the array tells if the line is dashed.</span><span class="s3">\n  </span><span class="s1">var hlineInfo = [];</span><span class="s3">\n  </span><span class="s1">parser.consumeSpaces();</span><span class="s3">\n  </span><span class="s1">var nxt = parser.fetch().text;</span><span class="s3">\n\n  </span><span class="s1">if (nxt === </span><span class="s3">\&quot;\\\\</span><span class="s1">relax</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">relax is an artifact of the </span><span class="s3">\\</span><span class="s1">cr macro below</span><span class="s3">\n    </span><span class="s1">parser.consume();</span><span class="s3">\n    </span><span class="s1">parser.consumeSpaces();</span><span class="s3">\n    </span><span class="s1">nxt = parser.fetch().text;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">while (nxt === </span><span class="s3">\&quot;\\\\</span><span class="s1">hline</span><span class="s3">\&quot; </span><span class="s1">|| nxt === </span><span class="s3">\&quot;\\\\</span><span class="s1">hdashline</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">parser.consume();</span><span class="s3">\n    </span><span class="s1">hlineInfo.push(nxt === </span><span class="s3">\&quot;\\\\</span><span class="s1">hdashline</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">parser.consumeSpaces();</span><span class="s3">\n    </span><span class="s1">nxt = parser.fetch().text;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return hlineInfo;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">var validateAmsEnvironmentContext = context =&gt; {</span><span class="s3">\n  </span><span class="s1">var settings = context.parser.settings;</span><span class="s3">\n\n  </span><span class="s1">if (!settings.displayMode) {</span><span class="s3">\n    </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">+ context.envName + </span><span class="s3">\&quot;</span><span class="s1">} can be used only in</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot; </span><span class="s1">display mode.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}; // autoTag (an argument to parseArray) can be one of three values:</span><span class="s3">\n</span><span class="s1">// * undefined: Regular (not-top-level) array; no tags on each row</span><span class="s3">\n</span><span class="s1">// * true: Automatic equation numbering, overridable by </span><span class="s3">\\</span><span class="s1">tag</span><span class="s3">\n</span><span class="s1">// * false: Tags allowed on each row, but no automatic numbering</span><span class="s3">\n</span><span class="s1">// This function *doesn't* work with the </span><span class="s3">\&quot;</span><span class="s1">split</span><span class="s3">\&quot; </span><span class="s1">environment name.</span><span class="s3">\n\n\n</span><span class="s1">function getAutoTag(name) {</span><span class="s3">\n  </span><span class="s1">if (name.indexOf(</span><span class="s3">\&quot;</span><span class="s1">ed</span><span class="s3">\&quot;</span><span class="s1">) === -1) {</span><span class="s3">\n    </span><span class="s1">return name.indexOf(</span><span class="s3">\&quot;</span><span class="s1">*</span><span class="s3">\&quot;</span><span class="s1">) === -1;</span><span class="s3">\n  </span><span class="s1">} // return undefined;</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Parse the body of the environment, with rows delimited by </span><span class="s3">\\\\ </span><span class="s1">and</span><span class="s3">\n </span><span class="s1">* columns delimited by &amp;, and create a nested list in row-major order</span><span class="s3">\n </span><span class="s1">* with one group per cell.  If given an optional argument style</span><span class="s3">\n </span><span class="s1">* (</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">, etc.), then each cell is cast into that style.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">function parseArray(parser, _ref, style) {</span><span class="s3">\n  </span><span class="s1">var {</span><span class="s3">\n    </span><span class="s1">hskipBeforeAndAfter,</span><span class="s3">\n    </span><span class="s1">addJot,</span><span class="s3">\n    </span><span class="s1">cols,</span><span class="s3">\n    </span><span class="s1">arraystretch,</span><span class="s3">\n    </span><span class="s1">colSeparationType,</span><span class="s3">\n    </span><span class="s1">autoTag,</span><span class="s3">\n    </span><span class="s1">singleRow,</span><span class="s3">\n    </span><span class="s1">emptySingleRow,</span><span class="s3">\n    </span><span class="s1">maxNumCols,</span><span class="s3">\n    </span><span class="s1">leqno</span><span class="s3">\n  </span><span class="s1">} = _ref;</span><span class="s3">\n  </span><span class="s1">parser.gullet.beginGroup();</span><span class="s3">\n\n  </span><span class="s1">if (!singleRow) {</span><span class="s3">\n    </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">cr is equivalent to </span><span class="s3">\\\\ </span><span class="s1">without the optional size argument (see below)</span><span class="s3">\n    </span><span class="s1">// TODO: provide helpful error when </span><span class="s3">\\</span><span class="s1">cr is used outside array environment</span><span class="s3">\n    </span><span class="s1">parser.gullet.macros.set(</span><span class="s3">\&quot;\\\\</span><span class="s1">cr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\\\\\\\\\</span><span class="s1">relax</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} // Get current arraystretch if it's not set by the environment</span><span class="s3">\n\n\n  </span><span class="s1">if (!arraystretch) {</span><span class="s3">\n    </span><span class="s1">var stretch = parser.gullet.expandMacroAsText(</span><span class="s3">\&quot;\\\\</span><span class="s1">arraystretch</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">if (stretch == null) {</span><span class="s3">\n      </span><span class="s1">// Default </span><span class="s3">\\</span><span class="s1">arraystretch from lttab.dtx</span><span class="s3">\n      </span><span class="s1">arraystretch = 1;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">arraystretch = parseFloat(stretch);</span><span class="s3">\n\n      </span><span class="s1">if (!arraystretch || arraystretch &lt; 0) {</span><span class="s3">\n        </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Invalid </span><span class="s3">\\\\</span><span class="s1">arraystretch: </span><span class="s3">\&quot; </span><span class="s1">+ stretch);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} // Start group for first cell</span><span class="s3">\n\n\n  </span><span class="s1">parser.gullet.beginGroup();</span><span class="s3">\n  </span><span class="s1">var row = [];</span><span class="s3">\n  </span><span class="s1">var body = [row];</span><span class="s3">\n  </span><span class="s1">var rowGaps = [];</span><span class="s3">\n  </span><span class="s1">var hLinesBeforeRow = [];</span><span class="s3">\n  </span><span class="s1">var tags = autoTag != null ? [] : undefined; // amsmath uses </span><span class="s3">\\</span><span class="s1">global</span><span class="s3">\\</span><span class="s1">@eqnswtrue and </span><span class="s3">\\</span><span class="s1">global</span><span class="s3">\\</span><span class="s1">@eqnswfalse to represent</span><span class="s3">\n  </span><span class="s1">// whether this row should have an equation number.  Simulate this with</span><span class="s3">\n  </span><span class="s1">// a </span><span class="s3">\\</span><span class="s1">@eqnsw macro set to 1 or 0.</span><span class="s3">\n\n  </span><span class="s1">function beginRow() {</span><span class="s3">\n    </span><span class="s1">if (autoTag) {</span><span class="s3">\n      </span><span class="s1">parser.gullet.macros.set(</span><span class="s3">\&quot;\\\\</span><span class="s1">@eqnsw</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">1</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function endRow() {</span><span class="s3">\n    </span><span class="s1">if (tags) {</span><span class="s3">\n      </span><span class="s1">if (parser.gullet.macros.get(</span><span class="s3">\&quot;\\\\</span><span class="s1">df@tag</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n        </span><span class="s1">tags.push(parser.subparse([new Token(</span><span class="s3">\&quot;\\\\</span><span class="s1">df@tag</span><span class="s3">\&quot;</span><span class="s1">)]));</span><span class="s3">\n        </span><span class="s1">parser.gullet.macros.set(</span><span class="s3">\&quot;\\\\</span><span class="s1">df@tag</span><span class="s3">\&quot;</span><span class="s1">, undefined, true);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">tags.push(Boolean(autoTag) &amp;&amp; parser.gullet.macros.get(</span><span class="s3">\&quot;\\\\</span><span class="s1">@eqnsw</span><span class="s3">\&quot;</span><span class="s1">) === </span><span class="s3">\&quot;</span><span class="s1">1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">beginRow(); // Test for </span><span class="s3">\\</span><span class="s1">hline at the top of the array.</span><span class="s3">\n\n  </span><span class="s1">hLinesBeforeRow.push(getHLines(parser));</span><span class="s3">\n\n  </span><span class="s1">while (true) {</span><span class="s3">\n    </span><span class="s1">// eslint-disable-line no-constant-condition</span><span class="s3">\n    </span><span class="s1">// Parse each cell in its own group (namespace)</span><span class="s3">\n    </span><span class="s1">var cell = parser.parseExpression(false, singleRow ? </span><span class="s3">\&quot;\\\\</span><span class="s1">end</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\\\\\\\\\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">parser.gullet.endGroup();</span><span class="s3">\n    </span><span class="s1">parser.gullet.beginGroup();</span><span class="s3">\n    </span><span class="s1">cell = {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">body: cell</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n\n    </span><span class="s1">if (style) {</span><span class="s3">\n      </span><span class="s1">cell = {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">styling</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">mode: parser.mode,</span><span class="s3">\n        </span><span class="s1">style,</span><span class="s3">\n        </span><span class="s1">body: [cell]</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">row.push(cell);</span><span class="s3">\n    </span><span class="s1">var next = parser.fetch().text;</span><span class="s3">\n\n    </span><span class="s1">if (next === </span><span class="s3">\&quot;</span><span class="s1">&amp;</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">if (maxNumCols &amp;&amp; row.length === maxNumCols) {</span><span class="s3">\n        </span><span class="s1">if (singleRow || colSeparationType) {</span><span class="s3">\n          </span><span class="s1">// {equation} or {split}</span><span class="s3">\n          </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Too many tab characters: &amp;</span><span class="s3">\&quot;</span><span class="s1">, parser.nextToken);</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">// {array} environment</span><span class="s3">\n          </span><span class="s1">parser.settings.reportNonstrict(</span><span class="s3">\&quot;</span><span class="s1">textEnv</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Too few columns </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">specified in the {array} column argument.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">parser.consume();</span><span class="s3">\n    </span><span class="s1">} else if (next === </span><span class="s3">\&quot;\\\\</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">endRow(); // Arrays terminate newlines with `</span><span class="s3">\\</span><span class="s1">crcr` which consumes a `</span><span class="s3">\\</span><span class="s1">cr` if</span><span class="s3">\n      </span><span class="s1">// the last line is empty.  However, AMS environments keep the</span><span class="s3">\n      </span><span class="s1">// empty row if it's the only one.</span><span class="s3">\n      </span><span class="s1">// NOTE: Currently, `cell` is the last item added into `row`.</span><span class="s3">\n\n      </span><span class="s1">if (row.length === 1 &amp;&amp; cell.type === </span><span class="s3">\&quot;</span><span class="s1">styling</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; cell.body[0].body.length === 0 &amp;&amp; (body.length &gt; 1 || !emptySingleRow)) {</span><span class="s3">\n        </span><span class="s1">body.pop();</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (hLinesBeforeRow.length &lt; body.length + 1) {</span><span class="s3">\n        </span><span class="s1">hLinesBeforeRow.push([]);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">} else if (next === </span><span class="s3">\&quot;\\\\\\\\\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">parser.consume();</span><span class="s3">\n      </span><span class="s1">var size = void 0; // </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">Let@{</span><span class="s3">\\</span><span class="s1">let</span><span class="s3">\\\\\\</span><span class="s1">math@cr}</span><span class="s3">\n      </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">math@cr{...</span><span class="s3">\\</span><span class="s1">math@cr@}</span><span class="s3">\n      </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">math@cr@{</span><span class="s3">\\</span><span class="s1">new@ifnextchar[</span><span class="s3">\\</span><span class="s1">math@cr@@{</span><span class="s3">\\</span><span class="s1">math@cr@@[</span><span class="s3">\\</span><span class="s1">z@]}}</span><span class="s3">\n      </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">math@cr@@[#1]{...</span><span class="s3">\\</span><span class="s1">math@cr@@@...}</span><span class="s3">\n      </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">math@cr@@@{</span><span class="s3">\\</span><span class="s1">cr}</span><span class="s3">\n\n      </span><span class="s1">if (parser.gullet.future().text !== </span><span class="s3">\&quot; \&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">size = parser.parseSizeGroup(true);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">rowGaps.push(size ? size.value : null);</span><span class="s3">\n      </span><span class="s1">endRow(); // check for </span><span class="s3">\\</span><span class="s1">hline(s) following the row separator</span><span class="s3">\n\n      </span><span class="s1">hLinesBeforeRow.push(getHLines(parser));</span><span class="s3">\n      </span><span class="s1">row = [];</span><span class="s3">\n      </span><span class="s1">body.push(row);</span><span class="s3">\n      </span><span class="s1">beginRow();</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Expected &amp; or </span><span class="s3">\\\\\\\\ </span><span class="s1">or </span><span class="s3">\\\\</span><span class="s1">cr or </span><span class="s3">\\\\</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">, parser.nextToken);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} // End cell group</span><span class="s3">\n\n\n  </span><span class="s1">parser.gullet.endGroup(); // End array group defining </span><span class="s3">\\</span><span class="s1">cr</span><span class="s3">\n\n  </span><span class="s1">parser.gullet.endGroup();</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">mode: parser.mode,</span><span class="s3">\n    </span><span class="s1">addJot,</span><span class="s3">\n    </span><span class="s1">arraystretch,</span><span class="s3">\n    </span><span class="s1">body,</span><span class="s3">\n    </span><span class="s1">cols,</span><span class="s3">\n    </span><span class="s1">rowGaps,</span><span class="s3">\n    </span><span class="s1">hskipBeforeAndAfter,</span><span class="s3">\n    </span><span class="s1">hLinesBeforeRow,</span><span class="s3">\n    </span><span class="s1">colSeparationType,</span><span class="s3">\n    </span><span class="s1">tags,</span><span class="s3">\n    </span><span class="s1">leqno</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">} // Decides on a style for cells in an array according to whether the given</span><span class="s3">\n</span><span class="s1">// environment name starts with the letter 'd'.</span><span class="s3">\n\n\n</span><span class="s1">function dCellStyle(envName) {</span><span class="s3">\n  </span><span class="s1">if (envName.slice(0, 1) === </span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">var htmlBuilder$6 = function htmlBuilder(group, options) {</span><span class="s3">\n  </span><span class="s1">var r;</span><span class="s3">\n  </span><span class="s1">var c;</span><span class="s3">\n  </span><span class="s1">var nr = group.body.length;</span><span class="s3">\n  </span><span class="s1">var hLinesBeforeRow = group.hLinesBeforeRow;</span><span class="s3">\n  </span><span class="s1">var nc = 0;</span><span class="s3">\n  </span><span class="s1">var body = new Array(nr);</span><span class="s3">\n  </span><span class="s1">var hlines = [];</span><span class="s3">\n  </span><span class="s1">var ruleThickness = Math.max( // From LaTeX </span><span class="s3">\\</span><span class="s1">showthe</span><span class="s3">\\</span><span class="s1">arrayrulewidth. Equals 0.04 em.</span><span class="s3">\n  </span><span class="s1">options.fontMetrics().arrayRuleWidth, options.minRuleThickness // User override.</span><span class="s3">\n  </span><span class="s1">); // Horizontal spacing</span><span class="s3">\n\n  </span><span class="s1">var pt = 1 / options.fontMetrics().ptPerEm;</span><span class="s3">\n  </span><span class="s1">var arraycolsep = 5 * pt; // default value, i.e. </span><span class="s3">\\</span><span class="s1">arraycolsep in article.cls</span><span class="s3">\n\n  </span><span class="s1">if (group.colSeparationType &amp;&amp; group.colSeparationType === </span><span class="s3">\&quot;</span><span class="s1">small</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">// We're in a {smallmatrix}. Default column space is </span><span class="s3">\\</span><span class="s1">thickspace,</span><span class="s3">\n    </span><span class="s1">// i.e. 5/18em = 0.2778em, per amsmath.dtx for {smallmatrix}.</span><span class="s3">\n    </span><span class="s1">// But that needs adjustment because LaTeX applies </span><span class="s3">\\</span><span class="s1">scriptstyle to the</span><span class="s3">\n    </span><span class="s1">// entire array, including the colspace, but this function applies</span><span class="s3">\n    </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">scriptstyle only inside each element.</span><span class="s3">\n    </span><span class="s1">var localMultiplier = options.havingStyle(Style$1.SCRIPT).sizeMultiplier;</span><span class="s3">\n    </span><span class="s1">arraycolsep = 0.2778 * (localMultiplier / options.sizeMultiplier);</span><span class="s3">\n  </span><span class="s1">} // Vertical spacing</span><span class="s3">\n\n\n  </span><span class="s1">var baselineskip = group.colSeparationType === </span><span class="s3">\&quot;</span><span class="s1">CD</span><span class="s3">\&quot; </span><span class="s1">? calculateSize({</span><span class="s3">\n    </span><span class="s1">number: 3,</span><span class="s3">\n    </span><span class="s1">unit: </span><span class="s3">\&quot;</span><span class="s1">ex</span><span class="s3">\&quot;\n  </span><span class="s1">}, options) : 12 * pt; // see size10.clo</span><span class="s3">\n  </span><span class="s1">// Default </span><span class="s3">\\</span><span class="s1">jot from ltmath.dtx</span><span class="s3">\n  </span><span class="s1">// TODO(edemaine): allow overriding </span><span class="s3">\\</span><span class="s1">jot via </span><span class="s3">\\</span><span class="s1">setlength (#687)</span><span class="s3">\n\n  </span><span class="s1">var jot = 3 * pt;</span><span class="s3">\n  </span><span class="s1">var arrayskip = group.arraystretch * baselineskip;</span><span class="s3">\n  </span><span class="s1">var arstrutHeight = 0.7 * arrayskip; // </span><span class="s3">\\</span><span class="s1">strutbox in ltfsstrc.dtx and</span><span class="s3">\n\n  </span><span class="s1">var arstrutDepth = 0.3 * arrayskip; // </span><span class="s3">\\</span><span class="s1">@arstrutbox in lttab.dtx</span><span class="s3">\n\n  </span><span class="s1">var totalHeight = 0; // Set a position for </span><span class="s3">\\</span><span class="s1">hline(s) at the top of the array, if any.</span><span class="s3">\n\n  </span><span class="s1">function setHLinePos(hlinesInGap) {</span><span class="s3">\n    </span><span class="s1">for (var i = 0; i &lt; hlinesInGap.length; ++i) {</span><span class="s3">\n      </span><span class="s1">if (i &gt; 0) {</span><span class="s3">\n        </span><span class="s1">totalHeight += 0.25;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">hlines.push({</span><span class="s3">\n        </span><span class="s1">pos: totalHeight,</span><span class="s3">\n        </span><span class="s1">isDashed: hlinesInGap[i]</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">setHLinePos(hLinesBeforeRow[0]);</span><span class="s3">\n\n  </span><span class="s1">for (r = 0; r &lt; group.body.length; ++r) {</span><span class="s3">\n    </span><span class="s1">var inrow = group.body[r];</span><span class="s3">\n    </span><span class="s1">var height = arstrutHeight; // </span><span class="s3">\\</span><span class="s1">@array adds an </span><span class="s3">\\</span><span class="s1">@arstrut</span><span class="s3">\n\n    </span><span class="s1">var depth = arstrutDepth; // to each tow (via the template)</span><span class="s3">\n\n    </span><span class="s1">if (nc &lt; inrow.length) {</span><span class="s3">\n      </span><span class="s1">nc = inrow.length;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var outrow = new Array(inrow.length);</span><span class="s3">\n\n    </span><span class="s1">for (c = 0; c &lt; inrow.length; ++c) {</span><span class="s3">\n      </span><span class="s1">var elt = buildGroup$1(inrow[c], options);</span><span class="s3">\n\n      </span><span class="s1">if (depth &lt; elt.depth) {</span><span class="s3">\n        </span><span class="s1">depth = elt.depth;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (height &lt; elt.height) {</span><span class="s3">\n        </span><span class="s1">height = elt.height;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">outrow[c] = elt;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var rowGap = group.rowGaps[r];</span><span class="s3">\n    </span><span class="s1">var gap = 0;</span><span class="s3">\n\n    </span><span class="s1">if (rowGap) {</span><span class="s3">\n      </span><span class="s1">gap = calculateSize(rowGap, options);</span><span class="s3">\n\n      </span><span class="s1">if (gap &gt; 0) {</span><span class="s3">\n        </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">@argarraycr</span><span class="s3">\n        </span><span class="s1">gap += arstrutDepth;</span><span class="s3">\n\n        </span><span class="s1">if (depth &lt; gap) {</span><span class="s3">\n          </span><span class="s1">depth = gap; // </span><span class="s3">\\</span><span class="s1">@xargarraycr</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">gap = 0;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} // In AMS multiline environments such as aligned and gathered, rows</span><span class="s3">\n    </span><span class="s1">// correspond to lines that have additional </span><span class="s3">\\</span><span class="s1">jot added to the</span><span class="s3">\n    </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">baselineskip via </span><span class="s3">\\</span><span class="s1">openup.</span><span class="s3">\n\n\n    </span><span class="s1">if (group.addJot) {</span><span class="s3">\n      </span><span class="s1">depth += jot;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">outrow.height = height;</span><span class="s3">\n    </span><span class="s1">outrow.depth = depth;</span><span class="s3">\n    </span><span class="s1">totalHeight += height;</span><span class="s3">\n    </span><span class="s1">outrow.pos = totalHeight;</span><span class="s3">\n    </span><span class="s1">totalHeight += depth + gap; // </span><span class="s3">\\</span><span class="s1">@yargarraycr</span><span class="s3">\n\n    </span><span class="s1">body[r] = outrow; // Set a position for </span><span class="s3">\\</span><span class="s1">hline(s), if any.</span><span class="s3">\n\n    </span><span class="s1">setHLinePos(hLinesBeforeRow[r + 1]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var offset = totalHeight / 2 + options.fontMetrics().axisHeight;</span><span class="s3">\n  </span><span class="s1">var colDescriptions = group.cols || [];</span><span class="s3">\n  </span><span class="s1">var cols = [];</span><span class="s3">\n  </span><span class="s1">var colSep;</span><span class="s3">\n  </span><span class="s1">var colDescrNum;</span><span class="s3">\n  </span><span class="s1">var tagSpans = [];</span><span class="s3">\n\n  </span><span class="s1">if (group.tags &amp;&amp; group.tags.some(tag =&gt; tag)) {</span><span class="s3">\n    </span><span class="s1">// An environment with manual tags and/or automatic equation numbers.</span><span class="s3">\n    </span><span class="s1">// Create node(s), the latter of which trigger CSS counter increment.</span><span class="s3">\n    </span><span class="s1">for (r = 0; r &lt; nr; ++r) {</span><span class="s3">\n      </span><span class="s1">var rw = body[r];</span><span class="s3">\n      </span><span class="s1">var shift = rw.pos - offset;</span><span class="s3">\n      </span><span class="s1">var tag = group.tags[r];</span><span class="s3">\n      </span><span class="s1">var tagSpan = void 0;</span><span class="s3">\n\n      </span><span class="s1">if (tag === true) {</span><span class="s3">\n        </span><span class="s1">// automatic numbering</span><span class="s3">\n        </span><span class="s1">tagSpan = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">eqn-num</span><span class="s3">\&quot;</span><span class="s1">], [], options);</span><span class="s3">\n      </span><span class="s1">} else if (tag === false) {</span><span class="s3">\n        </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">nonumber/</span><span class="s3">\\</span><span class="s1">notag or starred environment</span><span class="s3">\n        </span><span class="s1">tagSpan = buildCommon.makeSpan([], [], options);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">// manual </span><span class="s3">\\</span><span class="s1">tag</span><span class="s3">\n        </span><span class="s1">tagSpan = buildCommon.makeSpan([], buildExpression$1(tag, options, true), options);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">tagSpan.depth = rw.depth;</span><span class="s3">\n      </span><span class="s1">tagSpan.height = rw.height;</span><span class="s3">\n      </span><span class="s1">tagSpans.push({</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: tagSpan,</span><span class="s3">\n        </span><span class="s1">shift</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">for (c = 0, colDescrNum = 0; // Continue while either there are more columns or more column</span><span class="s3">\n  </span><span class="s1">// descriptions, so trailing separators don't get lost.</span><span class="s3">\n  </span><span class="s1">c &lt; nc || colDescrNum &lt; colDescriptions.length; ++c, ++colDescrNum) {</span><span class="s3">\n    </span><span class="s1">var colDescr = colDescriptions[colDescrNum] || {};</span><span class="s3">\n    </span><span class="s1">var firstSeparator = true;</span><span class="s3">\n\n    </span><span class="s1">while (colDescr.type === </span><span class="s3">\&quot;</span><span class="s1">separator</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// If there is more than one separator in a row, add a space</span><span class="s3">\n      </span><span class="s1">// between them.</span><span class="s3">\n      </span><span class="s1">if (!firstSeparator) {</span><span class="s3">\n        </span><span class="s1">colSep = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">arraycolsep</span><span class="s3">\&quot;</span><span class="s1">], []);</span><span class="s3">\n        </span><span class="s1">colSep.style.width = makeEm(options.fontMetrics().doubleRuleSep);</span><span class="s3">\n        </span><span class="s1">cols.push(colSep);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (colDescr.separator === </span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot; </span><span class="s1">|| colDescr.separator === </span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">var lineType = colDescr.separator === </span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">dashed</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">var separator = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">vertical-separator</span><span class="s3">\&quot;</span><span class="s1">], [], options);</span><span class="s3">\n        </span><span class="s1">separator.style.height = makeEm(totalHeight);</span><span class="s3">\n        </span><span class="s1">separator.style.borderRightWidth = makeEm(ruleThickness);</span><span class="s3">\n        </span><span class="s1">separator.style.borderRightStyle = lineType;</span><span class="s3">\n        </span><span class="s1">separator.style.margin = </span><span class="s3">\&quot;</span><span class="s1">0 </span><span class="s3">\&quot; </span><span class="s1">+ makeEm(-ruleThickness / 2);</span><span class="s3">\n\n        </span><span class="s1">var _shift = totalHeight - offset;</span><span class="s3">\n\n        </span><span class="s1">if (_shift) {</span><span class="s3">\n          </span><span class="s1">separator.style.verticalAlign = makeEm(-_shift);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">cols.push(separator);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Invalid separator type: </span><span class="s3">\&quot; </span><span class="s1">+ colDescr.separator);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">colDescrNum++;</span><span class="s3">\n      </span><span class="s1">colDescr = colDescriptions[colDescrNum] || {};</span><span class="s3">\n      </span><span class="s1">firstSeparator = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (c &gt;= nc) {</span><span class="s3">\n      </span><span class="s1">continue;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var sepwidth = void 0;</span><span class="s3">\n\n    </span><span class="s1">if (c &gt; 0 || group.hskipBeforeAndAfter) {</span><span class="s3">\n      </span><span class="s1">sepwidth = utils.deflt(colDescr.pregap, arraycolsep);</span><span class="s3">\n\n      </span><span class="s1">if (sepwidth !== 0) {</span><span class="s3">\n        </span><span class="s1">colSep = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">arraycolsep</span><span class="s3">\&quot;</span><span class="s1">], []);</span><span class="s3">\n        </span><span class="s1">colSep.style.width = makeEm(sepwidth);</span><span class="s3">\n        </span><span class="s1">cols.push(colSep);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var col = [];</span><span class="s3">\n\n    </span><span class="s1">for (r = 0; r &lt; nr; ++r) {</span><span class="s3">\n      </span><span class="s1">var row = body[r];</span><span class="s3">\n      </span><span class="s1">var elem = row[c];</span><span class="s3">\n\n      </span><span class="s1">if (!elem) {</span><span class="s3">\n        </span><span class="s1">continue;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">var _shift2 = row.pos - offset;</span><span class="s3">\n\n      </span><span class="s1">elem.depth = row.depth;</span><span class="s3">\n      </span><span class="s1">elem.height = row.height;</span><span class="s3">\n      </span><span class="s1">col.push({</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: elem,</span><span class="s3">\n        </span><span class="s1">shift: _shift2</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">col = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">individualShift</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">children: col</span><span class="s3">\n    </span><span class="s1">}, options);</span><span class="s3">\n    </span><span class="s1">col = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">col-align-</span><span class="s3">\&quot; </span><span class="s1">+ (colDescr.align || </span><span class="s3">\&quot;</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">)], [col]);</span><span class="s3">\n    </span><span class="s1">cols.push(col);</span><span class="s3">\n\n    </span><span class="s1">if (c &lt; nc - 1 || group.hskipBeforeAndAfter) {</span><span class="s3">\n      </span><span class="s1">sepwidth = utils.deflt(colDescr.postgap, arraycolsep);</span><span class="s3">\n\n      </span><span class="s1">if (sepwidth !== 0) {</span><span class="s3">\n        </span><span class="s1">colSep = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">arraycolsep</span><span class="s3">\&quot;</span><span class="s1">], []);</span><span class="s3">\n        </span><span class="s1">colSep.style.width = makeEm(sepwidth);</span><span class="s3">\n        </span><span class="s1">cols.push(colSep);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">body = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mtable</span><span class="s3">\&quot;</span><span class="s1">], cols); // Add </span><span class="s3">\\</span><span class="s1">hline(s), if any.</span><span class="s3">\n\n  </span><span class="s1">if (hlines.length &gt; 0) {</span><span class="s3">\n    </span><span class="s1">var line = buildCommon.makeLineSpan(</span><span class="s3">\&quot;</span><span class="s1">hline</span><span class="s3">\&quot;</span><span class="s1">, options, ruleThickness);</span><span class="s3">\n    </span><span class="s1">var dashes = buildCommon.makeLineSpan(</span><span class="s3">\&quot;</span><span class="s1">hdashline</span><span class="s3">\&quot;</span><span class="s1">, options, ruleThickness);</span><span class="s3">\n    </span><span class="s1">var vListElems = [{</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">elem: body,</span><span class="s3">\n      </span><span class="s1">shift: 0</span><span class="s3">\n    </span><span class="s1">}];</span><span class="s3">\n\n    </span><span class="s1">while (hlines.length &gt; 0) {</span><span class="s3">\n      </span><span class="s1">var hline = hlines.pop();</span><span class="s3">\n      </span><span class="s1">var lineShift = hline.pos - offset;</span><span class="s3">\n\n      </span><span class="s1">if (hline.isDashed) {</span><span class="s3">\n        </span><span class="s1">vListElems.push({</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">elem: dashes,</span><span class="s3">\n          </span><span class="s1">shift: lineShift</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">vListElems.push({</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">elem: line,</span><span class="s3">\n          </span><span class="s1">shift: lineShift</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">body = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">individualShift</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">children: vListElems</span><span class="s3">\n    </span><span class="s1">}, options);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (tagSpans.length === 0) {</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">], [body], options);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">var eqnNumCol = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">individualShift</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">children: tagSpans</span><span class="s3">\n    </span><span class="s1">}, options);</span><span class="s3">\n    </span><span class="s1">eqnNumCol = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">tag</span><span class="s3">\&quot;</span><span class="s1">], [eqnNumCol], options);</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeFragment([body, eqnNumCol]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var alignMap = {</span><span class="s3">\n  </span><span class="s1">c: </span><span class="s3">\&quot;</span><span class="s1">center </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">l: </span><span class="s3">\&quot;</span><span class="s1">left </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">r: </span><span class="s3">\&quot;</span><span class="s1">right </span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var mathmlBuilder$5 = function mathmlBuilder(group, options) {</span><span class="s3">\n  </span><span class="s1">var tbl = [];</span><span class="s3">\n  </span><span class="s1">var glue = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mtd</span><span class="s3">\&quot;</span><span class="s1">, [], [</span><span class="s3">\&quot;</span><span class="s1">mtr-glue</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n  </span><span class="s1">var tag = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mtd</span><span class="s3">\&quot;</span><span class="s1">, [], [</span><span class="s3">\&quot;</span><span class="s1">mml-eqn-num</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n\n  </span><span class="s1">for (var i = 0; i &lt; group.body.length; i++) {</span><span class="s3">\n    </span><span class="s1">var rw = group.body[i];</span><span class="s3">\n    </span><span class="s1">var row = [];</span><span class="s3">\n\n    </span><span class="s1">for (var j = 0; j &lt; rw.length; j++) {</span><span class="s3">\n      </span><span class="s1">row.push(new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mtd</span><span class="s3">\&quot;</span><span class="s1">, [buildGroup(rw[j], options)]));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (group.tags &amp;&amp; group.tags[i]) {</span><span class="s3">\n      </span><span class="s1">row.unshift(glue);</span><span class="s3">\n      </span><span class="s1">row.push(glue);</span><span class="s3">\n\n      </span><span class="s1">if (group.leqno) {</span><span class="s3">\n        </span><span class="s1">row.unshift(tag);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">row.push(tag);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">tbl.push(new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mtr</span><span class="s3">\&quot;</span><span class="s1">, row));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var table = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mtable</span><span class="s3">\&quot;</span><span class="s1">, tbl); // Set column alignment, row spacing, column spacing, and</span><span class="s3">\n  </span><span class="s1">// array lines by setting attributes on the table element.</span><span class="s3">\n  </span><span class="s1">// Set the row spacing. In MathML, we specify a gap distance.</span><span class="s3">\n  </span><span class="s1">// We do not use rowGap[] because MathML automatically increases</span><span class="s3">\n  </span><span class="s1">// cell height with the height/depth of the element content.</span><span class="s3">\n  </span><span class="s1">// LaTeX </span><span class="s3">\\</span><span class="s1">arraystretch multiplies the row baseline-to-baseline distance.</span><span class="s3">\n  </span><span class="s1">// We simulate this by adding (arraystretch - 1)em to the gap. This</span><span class="s3">\n  </span><span class="s1">// does a reasonable job of adjusting arrays containing 1 em tall content.</span><span class="s3">\n  </span><span class="s1">// The 0.16 and 0.09 values are found empirically. They produce an array</span><span class="s3">\n  </span><span class="s1">// similar to LaTeX and in which content does not interfere with </span><span class="s3">\\</span><span class="s1">hlines.</span><span class="s3">\n\n  </span><span class="s1">var gap = group.arraystretch === 0.5 ? 0.1 // {smallmatrix}, {subarray}</span><span class="s3">\n  </span><span class="s1">: 0.16 + group.arraystretch - 1 + (group.addJot ? 0.09 : 0);</span><span class="s3">\n  </span><span class="s1">table.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">rowspacing</span><span class="s3">\&quot;</span><span class="s1">, makeEm(gap)); // MathML table lines go only between cells.</span><span class="s3">\n  </span><span class="s1">// To place a line on an edge we'll use &lt;menclose&gt;, if necessary.</span><span class="s3">\n\n  </span><span class="s1">var menclose = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">var align = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n  </span><span class="s1">if (group.cols &amp;&amp; group.cols.length &gt; 0) {</span><span class="s3">\n    </span><span class="s1">// Find column alignment, column spacing, and  vertical lines.</span><span class="s3">\n    </span><span class="s1">var cols = group.cols;</span><span class="s3">\n    </span><span class="s1">var columnLines = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">var prevTypeWasAlign = false;</span><span class="s3">\n    </span><span class="s1">var iStart = 0;</span><span class="s3">\n    </span><span class="s1">var iEnd = cols.length;</span><span class="s3">\n\n    </span><span class="s1">if (cols[0].type === </span><span class="s3">\&quot;</span><span class="s1">separator</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">menclose += </span><span class="s3">\&quot;</span><span class="s1">top </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">iStart = 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (cols[cols.length - 1].type === </span><span class="s3">\&quot;</span><span class="s1">separator</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">menclose += </span><span class="s3">\&quot;</span><span class="s1">bottom </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">iEnd -= 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">for (var _i = iStart; _i &lt; iEnd; _i++) {</span><span class="s3">\n      </span><span class="s1">if (cols[_i].type === </span><span class="s3">\&quot;</span><span class="s1">align</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">align += alignMap[cols[_i].align];</span><span class="s3">\n\n        </span><span class="s1">if (prevTypeWasAlign) {</span><span class="s3">\n          </span><span class="s1">columnLines += </span><span class="s3">\&quot;</span><span class="s1">none </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">prevTypeWasAlign = true;</span><span class="s3">\n      </span><span class="s1">} else if (cols[_i].type === </span><span class="s3">\&quot;</span><span class="s1">separator</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">// MathML accepts only single lines between cells.</span><span class="s3">\n        </span><span class="s1">// So we read only the first of consecutive separators.</span><span class="s3">\n        </span><span class="s1">if (prevTypeWasAlign) {</span><span class="s3">\n          </span><span class="s1">columnLines += cols[_i].separator === </span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">solid </span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">dashed </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n          </span><span class="s1">prevTypeWasAlign = false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">table.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">columnalign</span><span class="s3">\&quot;</span><span class="s1">, align.trim());</span><span class="s3">\n\n    </span><span class="s1">if (/[sd]/.test(columnLines)) {</span><span class="s3">\n      </span><span class="s1">table.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">columnlines</span><span class="s3">\&quot;</span><span class="s1">, columnLines.trim());</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} // Set column spacing.</span><span class="s3">\n\n\n  </span><span class="s1">if (group.colSeparationType === </span><span class="s3">\&quot;</span><span class="s1">align</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">var _cols = group.cols || [];</span><span class="s3">\n\n    </span><span class="s1">var spacing = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">for (var _i2 = 1; _i2 &lt; _cols.length; _i2++) {</span><span class="s3">\n      </span><span class="s1">spacing += _i2 % 2 ? </span><span class="s3">\&quot;</span><span class="s1">0em </span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">1em </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">table.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">columnspacing</span><span class="s3">\&quot;</span><span class="s1">, spacing.trim());</span><span class="s3">\n  </span><span class="s1">} else if (group.colSeparationType === </span><span class="s3">\&quot;</span><span class="s1">alignat</span><span class="s3">\&quot; </span><span class="s1">|| group.colSeparationType === </span><span class="s3">\&quot;</span><span class="s1">gather</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">table.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">columnspacing</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0em</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} else if (group.colSeparationType === </span><span class="s3">\&quot;</span><span class="s1">small</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">table.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">columnspacing</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0.2778em</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} else if (group.colSeparationType === </span><span class="s3">\&quot;</span><span class="s1">CD</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">table.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">columnspacing</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0.5em</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">table.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">columnspacing</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">1em</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} // Address </span><span class="s3">\\</span><span class="s1">hline and </span><span class="s3">\\</span><span class="s1">hdashline</span><span class="s3">\n\n\n  </span><span class="s1">var rowLines = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">var hlines = group.hLinesBeforeRow;</span><span class="s3">\n  </span><span class="s1">menclose += hlines[0].length &gt; 0 ? </span><span class="s3">\&quot;</span><span class="s1">left </span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">menclose += hlines[hlines.length - 1].length &gt; 0 ? </span><span class="s3">\&quot;</span><span class="s1">right </span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n  </span><span class="s1">for (var _i3 = 1; _i3 &lt; hlines.length - 1; _i3++) {</span><span class="s3">\n    </span><span class="s1">rowLines += hlines[_i3].length === 0 ? </span><span class="s3">\&quot;</span><span class="s1">none </span><span class="s3">\&quot; </span><span class="s1">// MathML accepts only a single line between rows. Read one element.</span><span class="s3">\n    </span><span class="s1">: hlines[_i3][0] ? </span><span class="s3">\&quot;</span><span class="s1">dashed </span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">solid </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (/[sd]/.test(rowLines)) {</span><span class="s3">\n    </span><span class="s1">table.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">rowlines</span><span class="s3">\&quot;</span><span class="s1">, rowLines.trim());</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (menclose !== </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">table = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">menclose</span><span class="s3">\&quot;</span><span class="s1">, [table]);</span><span class="s3">\n    </span><span class="s1">table.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">notation</span><span class="s3">\&quot;</span><span class="s1">, menclose.trim());</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (group.arraystretch &amp;&amp; group.arraystretch &lt; 1) {</span><span class="s3">\n    </span><span class="s1">// A small array. Wrap in scriptstyle so row gap is not too large.</span><span class="s3">\n    </span><span class="s1">table = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mstyle</span><span class="s3">\&quot;</span><span class="s1">, [table]);</span><span class="s3">\n    </span><span class="s1">table.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">scriptlevel</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return table;</span><span class="s3">\n</span><span class="s1">}; // Convenience function for align, align*, aligned, alignat, alignat*, alignedat.</span><span class="s3">\n\n\n</span><span class="s1">var alignedHandler = function alignedHandler(context, args) {</span><span class="s3">\n  </span><span class="s1">if (context.envName.indexOf(</span><span class="s3">\&quot;</span><span class="s1">ed</span><span class="s3">\&quot;</span><span class="s1">) === -1) {</span><span class="s3">\n    </span><span class="s1">validateAmsEnvironmentContext(context);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var cols = [];</span><span class="s3">\n  </span><span class="s1">var separationType = context.envName.indexOf(</span><span class="s3">\&quot;</span><span class="s1">at</span><span class="s3">\&quot;</span><span class="s1">) &gt; -1 ? </span><span class="s3">\&quot;</span><span class="s1">alignat</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">align</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">var isSplit = context.envName === </span><span class="s3">\&quot;</span><span class="s1">split</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">var res = parseArray(context.parser, {</span><span class="s3">\n    </span><span class="s1">cols,</span><span class="s3">\n    </span><span class="s1">addJot: true,</span><span class="s3">\n    </span><span class="s1">autoTag: isSplit ? undefined : getAutoTag(context.envName),</span><span class="s3">\n    </span><span class="s1">emptySingleRow: true,</span><span class="s3">\n    </span><span class="s1">colSeparationType: separationType,</span><span class="s3">\n    </span><span class="s1">maxNumCols: isSplit ? 2 : undefined,</span><span class="s3">\n    </span><span class="s1">leqno: context.parser.settings.leqno</span><span class="s3">\n  </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">); // Determining number of columns.</span><span class="s3">\n  </span><span class="s1">// 1. If the first argument is given, we use it as a number of columns,</span><span class="s3">\n  </span><span class="s1">//    and makes sure that each row doesn't exceed that number.</span><span class="s3">\n  </span><span class="s1">// 2. Otherwise, just count number of columns = maximum number</span><span class="s3">\n  </span><span class="s1">//    of cells in each row (</span><span class="s3">\&quot;</span><span class="s1">aligned</span><span class="s3">\&quot; </span><span class="s1">mode -- isAligned will be true).</span><span class="s3">\n  </span><span class="s1">//</span><span class="s3">\n  </span><span class="s1">// At the same time, prepend empty group {} at beginning of every second</span><span class="s3">\n  </span><span class="s1">// cell in each row (starting with second cell) so that operators become</span><span class="s3">\n  </span><span class="s1">// binary.  This behavior is implemented in amsmath's </span><span class="s3">\\</span><span class="s1">start@aligned.</span><span class="s3">\n\n  </span><span class="s1">var numMaths;</span><span class="s3">\n  </span><span class="s1">var numCols = 0;</span><span class="s3">\n  </span><span class="s1">var emptyGroup = {</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">mode: context.mode,</span><span class="s3">\n    </span><span class="s1">body: []</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">if (args[0] &amp;&amp; args[0].type === </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">var arg0 = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">for (var i = 0; i &lt; args[0].body.length; i++) {</span><span class="s3">\n      </span><span class="s1">var textord = assertNodeType(args[0].body[i], </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">arg0 += textord.text;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">numMaths = Number(arg0);</span><span class="s3">\n    </span><span class="s1">numCols = numMaths * 2;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var isAligned = !numCols;</span><span class="s3">\n  </span><span class="s1">res.body.forEach(function (row) {</span><span class="s3">\n    </span><span class="s1">for (var _i4 = 1; _i4 &lt; row.length; _i4 += 2) {</span><span class="s3">\n      </span><span class="s1">// Modify ordgroup node within styling node</span><span class="s3">\n      </span><span class="s1">var styling = assertNodeType(row[_i4], </span><span class="s3">\&quot;</span><span class="s1">styling</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">var ordgroup = assertNodeType(styling.body[0], </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">ordgroup.body.unshift(emptyGroup);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (!isAligned) {</span><span class="s3">\n      </span><span class="s1">// Case 1</span><span class="s3">\n      </span><span class="s1">var curMaths = row.length / 2;</span><span class="s3">\n\n      </span><span class="s1">if (numMaths &lt; curMaths) {</span><span class="s3">\n        </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Too many math in a row: </span><span class="s3">\&quot; </span><span class="s1">+ (</span><span class="s3">\&quot;</span><span class="s1">expected </span><span class="s3">\&quot; </span><span class="s1">+ numMaths + </span><span class="s3">\&quot;</span><span class="s1">, but got </span><span class="s3">\&quot; </span><span class="s1">+ curMaths), row[0]);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (numCols &lt; row.length) {</span><span class="s3">\n      </span><span class="s1">// Case 2</span><span class="s3">\n      </span><span class="s1">numCols = row.length;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}); // Adjusting alignment.</span><span class="s3">\n  </span><span class="s1">// In aligned mode, we add one </span><span class="s3">\\</span><span class="s1">qquad between columns;</span><span class="s3">\n  </span><span class="s1">// otherwise we add nothing.</span><span class="s3">\n\n  </span><span class="s1">for (var _i5 = 0; _i5 &lt; numCols; ++_i5) {</span><span class="s3">\n    </span><span class="s1">var align = </span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">var pregap = 0;</span><span class="s3">\n\n    </span><span class="s1">if (_i5 % 2 === 1) {</span><span class="s3">\n      </span><span class="s1">align = </span><span class="s3">\&quot;</span><span class="s1">l</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">} else if (_i5 &gt; 0 &amp;&amp; isAligned) {</span><span class="s3">\n      </span><span class="s1">// </span><span class="s3">\&quot;</span><span class="s1">aligned</span><span class="s3">\&quot; </span><span class="s1">mode.</span><span class="s3">\n      </span><span class="s1">pregap = 1; // add one </span><span class="s3">\\</span><span class="s1">quad</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">cols[_i5] = {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">align</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">align: align,</span><span class="s3">\n      </span><span class="s1">pregap: pregap,</span><span class="s3">\n      </span><span class="s1">postgap: 0</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">res.colSeparationType = isAligned ? </span><span class="s3">\&quot;</span><span class="s1">align</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">alignat</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">return res;</span><span class="s3">\n</span><span class="s1">}; // Arrays are part of LaTeX, defined in lttab.dtx so its documentation</span><span class="s3">\n</span><span class="s1">// is part of the source2e.pdf file of LaTeX2e source documentation.</span><span class="s3">\n</span><span class="s1">// {darray} is an {array} environment where cells are set in </span><span class="s3">\\</span><span class="s1">displaystyle,</span><span class="s3">\n</span><span class="s1">// as defined in nccmath.sty.</span><span class="s3">\n\n\n</span><span class="s1">defineEnvironment({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">darray</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(context, args) {</span><span class="s3">\n    </span><span class="s1">// Since no types are specified above, the two possibilities are</span><span class="s3">\n    </span><span class="s1">// - The argument is wrapped in {} or [], in which case Parser's</span><span class="s3">\n    </span><span class="s1">//   parseGroup() returns an </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot; </span><span class="s1">wrapping some symbol node.</span><span class="s3">\n    </span><span class="s1">// - The argument is a bare symbol node.</span><span class="s3">\n    </span><span class="s1">var symNode = checkSymbolNodeType(args[0]);</span><span class="s3">\n    </span><span class="s1">var colalign = symNode ? [args[0]] : assertNodeType(args[0], </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">).body;</span><span class="s3">\n    </span><span class="s1">var cols = colalign.map(function (nde) {</span><span class="s3">\n      </span><span class="s1">var node = assertSymbolNodeType(nde);</span><span class="s3">\n      </span><span class="s1">var ca = node.text;</span><span class="s3">\n\n      </span><span class="s1">if (</span><span class="s3">\&quot;</span><span class="s1">lcr</span><span class="s3">\&quot;</span><span class="s1">.indexOf(ca) !== -1) {</span><span class="s3">\n        </span><span class="s1">return {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">align</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">align: ca</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n      </span><span class="s1">} else if (ca === </span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">separator</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">separator: </span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;\n        </span><span class="s1">};</span><span class="s3">\n      </span><span class="s1">} else if (ca === </span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">separator</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">separator: </span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;\n        </span><span class="s1">};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Unknown column alignment: </span><span class="s3">\&quot; </span><span class="s1">+ ca, nde);</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">var res = {</span><span class="s3">\n      </span><span class="s1">cols,</span><span class="s3">\n      </span><span class="s1">hskipBeforeAndAfter: true,</span><span class="s3">\n      </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">@preamble in lttab.dtx</span><span class="s3">\n      </span><span class="s1">maxNumCols: cols.length</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return parseArray(context.parser, res, dCellStyle(context.envName));</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$6,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$5</span><span class="s3">\n</span><span class="s1">}); // The matrix environments of amsmath builds on the array environment</span><span class="s3">\n</span><span class="s1">// of LaTeX, which is discussed above.</span><span class="s3">\n</span><span class="s1">// The mathtools package adds starred versions of the same environments.</span><span class="s3">\n</span><span class="s1">// These have an optional argument to choose left|center|right justification.</span><span class="s3">\n\n</span><span class="s1">defineEnvironment({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;</span><span class="s1">matrix</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">pmatrix</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">bmatrix</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Bmatrix</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">vmatrix</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Vmatrix</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">matrix*</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">pmatrix*</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">bmatrix*</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Bmatrix*</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">vmatrix*</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Vmatrix*</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(context) {</span><span class="s3">\n    </span><span class="s1">var delimiters = {</span><span class="s3">\n      \&quot;</span><span class="s1">matrix</span><span class="s3">\&quot;</span><span class="s1">: null,</span><span class="s3">\n      \&quot;</span><span class="s1">pmatrix</span><span class="s3">\&quot;</span><span class="s1">: [</span><span class="s3">\&quot;</span><span class="s1">(</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n      \&quot;</span><span class="s1">bmatrix</span><span class="s3">\&quot;</span><span class="s1">: [</span><span class="s3">\&quot;</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n      \&quot;</span><span class="s1">Bmatrix</span><span class="s3">\&quot;</span><span class="s1">: [</span><span class="s3">\&quot;\\\\</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n      \&quot;</span><span class="s1">vmatrix</span><span class="s3">\&quot;</span><span class="s1">: [</span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n      \&quot;</span><span class="s1">Vmatrix</span><span class="s3">\&quot;</span><span class="s1">: [</span><span class="s3">\&quot;\\\\</span><span class="s1">Vert</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Vert</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n    </span><span class="s1">}[context.envName.replace(</span><span class="s3">\&quot;</span><span class="s1">*</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">)]; // </span><span class="s3">\\</span><span class="s1">hskip -</span><span class="s3">\\</span><span class="s1">arraycolsep in amsmath</span><span class="s3">\n\n    </span><span class="s1">var colAlign = </span><span class="s3">\&quot;</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">var payload = {</span><span class="s3">\n      </span><span class="s1">hskipBeforeAndAfter: false,</span><span class="s3">\n      </span><span class="s1">cols: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">align</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">align: colAlign</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n\n    </span><span class="s1">if (context.envName.charAt(context.envName.length - 1) === </span><span class="s3">\&quot;</span><span class="s1">*</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// It's one of the mathtools starred functions.</span><span class="s3">\n      </span><span class="s1">// Parse the optional alignment argument.</span><span class="s3">\n      </span><span class="s1">var parser = context.parser;</span><span class="s3">\n      </span><span class="s1">parser.consumeSpaces();</span><span class="s3">\n\n      </span><span class="s1">if (parser.fetch().text === </span><span class="s3">\&quot;</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">parser.consume();</span><span class="s3">\n        </span><span class="s1">parser.consumeSpaces();</span><span class="s3">\n        </span><span class="s1">colAlign = parser.fetch().text;</span><span class="s3">\n\n        </span><span class="s1">if (</span><span class="s3">\&quot;</span><span class="s1">lcr</span><span class="s3">\&quot;</span><span class="s1">.indexOf(colAlign) === -1) {</span><span class="s3">\n          </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Expected l or c or r</span><span class="s3">\&quot;</span><span class="s1">, parser.nextToken);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">parser.consume();</span><span class="s3">\n        </span><span class="s1">parser.consumeSpaces();</span><span class="s3">\n        </span><span class="s1">parser.expect(</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">parser.consume();</span><span class="s3">\n        </span><span class="s1">payload.cols = [{</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">align</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">align: colAlign</span><span class="s3">\n        </span><span class="s1">}];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var res = parseArray(context.parser, payload, dCellStyle(context.envName)); // Populate cols with the correct number of column alignment specs.</span><span class="s3">\n\n    </span><span class="s1">var numCols = Math.max(0, ...res.body.map(row =&gt; row.length));</span><span class="s3">\n    </span><span class="s1">res.cols = new Array(numCols).fill({</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">align</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">align: colAlign</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">return delimiters ? {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">leftright</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: context.mode,</span><span class="s3">\n      </span><span class="s1">body: [res],</span><span class="s3">\n      </span><span class="s1">left: delimiters[0],</span><span class="s3">\n      </span><span class="s1">right: delimiters[1],</span><span class="s3">\n      </span><span class="s1">rightColor: undefined // </span><span class="s3">\\</span><span class="s1">right uninfluenced by </span><span class="s3">\\</span><span class="s1">color in array</span><span class="s3">\n\n    </span><span class="s1">} : res;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$6,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$5</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineEnvironment({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;</span><span class="s1">smallmatrix</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(context) {</span><span class="s3">\n    </span><span class="s1">var payload = {</span><span class="s3">\n      </span><span class="s1">arraystretch: 0.5</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">var res = parseArray(context.parser, payload, </span><span class="s3">\&quot;</span><span class="s1">script</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">res.colSeparationType = </span><span class="s3">\&quot;</span><span class="s1">small</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">return res;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$6,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$5</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineEnvironment({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;</span><span class="s1">subarray</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(context, args) {</span><span class="s3">\n    </span><span class="s1">// Parsing of {subarray} is similar to {array}</span><span class="s3">\n    </span><span class="s1">var symNode = checkSymbolNodeType(args[0]);</span><span class="s3">\n    </span><span class="s1">var colalign = symNode ? [args[0]] : assertNodeType(args[0], </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">).body;</span><span class="s3">\n    </span><span class="s1">var cols = colalign.map(function (nde) {</span><span class="s3">\n      </span><span class="s1">var node = assertSymbolNodeType(nde);</span><span class="s3">\n      </span><span class="s1">var ca = node.text; // {subarray} only recognizes </span><span class="s3">\&quot;</span><span class="s1">l</span><span class="s3">\&quot; </span><span class="s1">&amp; </span><span class="s3">\&quot;</span><span class="s1">c</span><span class="s3">\&quot;\n\n      </span><span class="s1">if (</span><span class="s3">\&quot;</span><span class="s1">lc</span><span class="s3">\&quot;</span><span class="s1">.indexOf(ca) !== -1) {</span><span class="s3">\n        </span><span class="s1">return {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">align</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">align: ca</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Unknown column alignment: </span><span class="s3">\&quot; </span><span class="s1">+ ca, nde);</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n\n    </span><span class="s1">if (cols.length &gt; 1) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">{subarray} can contain only one column</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var res = {</span><span class="s3">\n      </span><span class="s1">cols,</span><span class="s3">\n      </span><span class="s1">hskipBeforeAndAfter: false,</span><span class="s3">\n      </span><span class="s1">arraystretch: 0.5</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">res = parseArray(context.parser, res, </span><span class="s3">\&quot;</span><span class="s1">script</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">if (res.body.length &gt; 0 &amp;&amp; res.body[0].length &gt; 1) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">{subarray} can contain only one column</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return res;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$6,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$5</span><span class="s3">\n</span><span class="s1">}); // A cases environment (in amsmath.sty) is almost equivalent to</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">arraystretch{1.2}%</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">left</span><span class="s3">\\</span><span class="s1">{</span><span class="s3">\\</span><span class="s1">begin{array}{@{}l@{</span><span class="s3">\\</span><span class="s1">quad}l@{}}  </span><span class="s3">\\</span><span class="s1">end{array}</span><span class="s3">\\</span><span class="s1">right.</span><span class="s3">\n</span><span class="s1">// {dcases} is a {cases} environment where cells are set in </span><span class="s3">\\</span><span class="s1">displaystyle,</span><span class="s3">\n</span><span class="s1">// as defined in mathtools.sty.</span><span class="s3">\n</span><span class="s1">// {rcases} is another mathtools environment. It's brace is on the right side.</span><span class="s3">\n\n</span><span class="s1">defineEnvironment({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;</span><span class="s1">cases</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">dcases</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rcases</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">drcases</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(context) {</span><span class="s3">\n    </span><span class="s1">var payload = {</span><span class="s3">\n      </span><span class="s1">arraystretch: 1.2,</span><span class="s3">\n      </span><span class="s1">cols: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">align</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">align: </span><span class="s3">\&quot;</span><span class="s1">l</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">pregap: 0,</span><span class="s3">\n        </span><span class="s1">// TODO(kevinb) get the current style.</span><span class="s3">\n        </span><span class="s1">// For now we use the metrics for TEXT style which is what we were</span><span class="s3">\n        </span><span class="s1">// doing before.  Before attempting to get the current style we</span><span class="s3">\n        </span><span class="s1">// should look at TeX's behavior especially for </span><span class="s3">\\</span><span class="s1">over and matrices.</span><span class="s3">\n        </span><span class="s1">postgap: 1.0</span><span class="s3">\n        </span><span class="s1">/* 1em quad */</span><span class="s3">\n\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">align</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">align: </span><span class="s3">\&quot;</span><span class="s1">l</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">pregap: 0,</span><span class="s3">\n        </span><span class="s1">postgap: 0</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">var res = parseArray(context.parser, payload, dCellStyle(context.envName));</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">leftright</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: context.mode,</span><span class="s3">\n      </span><span class="s1">body: [res],</span><span class="s3">\n      </span><span class="s1">left: context.envName.indexOf(</span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">) &gt; -1 ? </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">right: context.envName.indexOf(</span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">) &gt; -1 ? </span><span class="s3">\&quot;\\\\</span><span class="s1">}</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">rightColor: undefined</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$6,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$5</span><span class="s3">\n</span><span class="s1">}); // In the align environment, one uses ampersands, &amp;, to specify number of</span><span class="s3">\n</span><span class="s1">// columns in each row, and to locate spacing between each column.</span><span class="s3">\n</span><span class="s1">// align gets automatic numbering. align* and aligned do not.</span><span class="s3">\n</span><span class="s1">// The alignedat environment can be used in math mode.</span><span class="s3">\n</span><span class="s1">// Note that we assume </span><span class="s3">\\</span><span class="s1">nomallineskiplimit to be zero,</span><span class="s3">\n</span><span class="s1">// so that </span><span class="s3">\\</span><span class="s1">strut@ is the same as </span><span class="s3">\\</span><span class="s1">strut.</span><span class="s3">\n\n</span><span class="s1">defineEnvironment({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;</span><span class="s1">align</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">align*</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">aligned</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">split</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: alignedHandler,</span><span class="s3">\n  </span><span class="s1">htmlBuilder: htmlBuilder$6,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$5</span><span class="s3">\n</span><span class="s1">}); // A gathered environment is like an array environment with one centered</span><span class="s3">\n</span><span class="s1">// column, but where rows are considered lines so get </span><span class="s3">\\</span><span class="s1">jot line spacing</span><span class="s3">\n</span><span class="s1">// and contents are set in </span><span class="s3">\\</span><span class="s1">displaystyle.</span><span class="s3">\n\n</span><span class="s1">defineEnvironment({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;</span><span class="s1">gathered</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">gather</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">gather*</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(context) {</span><span class="s3">\n    </span><span class="s1">if (utils.contains([</span><span class="s3">\&quot;</span><span class="s1">gather</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">gather*</span><span class="s3">\&quot;</span><span class="s1">], context.envName)) {</span><span class="s3">\n      </span><span class="s1">validateAmsEnvironmentContext(context);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var res = {</span><span class="s3">\n      </span><span class="s1">cols: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">align</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">align: </span><span class="s3">\&quot;</span><span class="s1">c</span><span class="s3">\&quot;\n      </span><span class="s1">}],</span><span class="s3">\n      </span><span class="s1">addJot: true,</span><span class="s3">\n      </span><span class="s1">colSeparationType: </span><span class="s3">\&quot;</span><span class="s1">gather</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">autoTag: getAutoTag(context.envName),</span><span class="s3">\n      </span><span class="s1">emptySingleRow: true,</span><span class="s3">\n      </span><span class="s1">leqno: context.parser.settings.leqno</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return parseArray(context.parser, res, </span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$6,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$5</span><span class="s3">\n</span><span class="s1">}); // alignat environment is like an align environment, but one must explicitly</span><span class="s3">\n</span><span class="s1">// specify maximum number of columns in each row, and can adjust spacing between</span><span class="s3">\n</span><span class="s1">// each columns.</span><span class="s3">\n\n</span><span class="s1">defineEnvironment({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;</span><span class="s1">alignat</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">alignat*</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">alignedat</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: alignedHandler,</span><span class="s3">\n  </span><span class="s1">htmlBuilder: htmlBuilder$6,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$5</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineEnvironment({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;</span><span class="s1">equation</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">equation*</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(context) {</span><span class="s3">\n    </span><span class="s1">validateAmsEnvironmentContext(context);</span><span class="s3">\n    </span><span class="s1">var res = {</span><span class="s3">\n      </span><span class="s1">autoTag: getAutoTag(context.envName),</span><span class="s3">\n      </span><span class="s1">emptySingleRow: true,</span><span class="s3">\n      </span><span class="s1">singleRow: true,</span><span class="s3">\n      </span><span class="s1">maxNumCols: 1,</span><span class="s3">\n      </span><span class="s1">leqno: context.parser.settings.leqno</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return parseArray(context.parser, res, </span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$6,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$5</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineEnvironment({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;</span><span class="s1">CD</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(context) {</span><span class="s3">\n    </span><span class="s1">validateAmsEnvironmentContext(context);</span><span class="s3">\n    </span><span class="s1">return parseCD(context.parser);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$6,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$5</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">nonumber</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gdef</span><span class="s3">\\\\</span><span class="s1">@eqnsw{0}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">notag</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nonumber</span><span class="s3">\&quot;</span><span class="s1">); // Catch </span><span class="s3">\\</span><span class="s1">hline outside array environment</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// Doesn't matter what this is.</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">hline</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">hdashline</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0,</span><span class="s3">\n    </span><span class="s1">allowedInText: true,</span><span class="s3">\n    </span><span class="s1">allowedInMath: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(context, args) {</span><span class="s3">\n    </span><span class="s1">throw new ParseError(context.funcName + </span><span class="s3">\&quot; </span><span class="s1">valid only within array environment</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">var environments = _environments;</span><span class="s3">\n\n</span><span class="s1">// defineEnvironment definitions.</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">environment</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">begin</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var nameGroup = args[0];</span><span class="s3">\n\n    </span><span class="s1">if (nameGroup.type !== </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Invalid environment name</span><span class="s3">\&quot;</span><span class="s1">, nameGroup);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var envName = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">for (var i = 0; i &lt; nameGroup.body.length; ++i) {</span><span class="s3">\n      </span><span class="s1">envName += assertNodeType(nameGroup.body[i], </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">).text;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (funcName === </span><span class="s3">\&quot;\\\\</span><span class="s1">begin</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// begin...end is similar to left...right</span><span class="s3">\n      </span><span class="s1">if (!environments.hasOwnProperty(envName)) {</span><span class="s3">\n        </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">No such environment: </span><span class="s3">\&quot; </span><span class="s1">+ envName, nameGroup);</span><span class="s3">\n      </span><span class="s1">} // Build the environment object. Arguments and other information will</span><span class="s3">\n      </span><span class="s1">// be made available to the begin and end methods using properties.</span><span class="s3">\n\n\n      </span><span class="s1">var env = environments[envName];</span><span class="s3">\n      </span><span class="s1">var {</span><span class="s3">\n        </span><span class="s1">args: _args,</span><span class="s3">\n        </span><span class="s1">optArgs</span><span class="s3">\n      </span><span class="s1">} = parser.parseArguments(</span><span class="s3">\&quot;\\\\</span><span class="s1">begin{</span><span class="s3">\&quot; </span><span class="s1">+ envName + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, env);</span><span class="s3">\n      </span><span class="s1">var context = {</span><span class="s3">\n        </span><span class="s1">mode: parser.mode,</span><span class="s3">\n        </span><span class="s1">envName,</span><span class="s3">\n        </span><span class="s1">parser</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n      </span><span class="s1">var result = env.handler(context, _args, optArgs);</span><span class="s3">\n      </span><span class="s1">parser.expect(</span><span class="s3">\&quot;\\\\</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">, false);</span><span class="s3">\n      </span><span class="s1">var endNameToken = parser.nextToken;</span><span class="s3">\n      </span><span class="s1">var end = assertNodeType(parser.parseFunction(), </span><span class="s3">\&quot;</span><span class="s1">environment</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n      </span><span class="s1">if (end.name !== envName) {</span><span class="s3">\n        </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Mismatch: </span><span class="s3">\\\\</span><span class="s1">begin{</span><span class="s3">\&quot; </span><span class="s1">+ envName + </span><span class="s3">\&quot;</span><span class="s1">} matched by </span><span class="s3">\\\\</span><span class="s1">end{</span><span class="s3">\&quot; </span><span class="s1">+ end.name + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, endNameToken);</span><span class="s3">\n      </span><span class="s1">} // $FlowFixMe, </span><span class="s3">\&quot;</span><span class="s1">environment</span><span class="s3">\&quot; </span><span class="s1">handler returns an environment ParseNode</span><span class="s3">\n\n\n      </span><span class="s1">return result;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">environment</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">name: envName,</span><span class="s3">\n      </span><span class="s1">nameGroup</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">// TODO(kevinb): implement </span><span class="s3">\\\\</span><span class="s1">sl and </span><span class="s3">\\\\</span><span class="s1">sc</span><span class="s3">\n\n</span><span class="s1">var htmlBuilder$5 = (group, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">var font = group.font;</span><span class="s3">\n  </span><span class="s1">var newOptions = options.withFont(font);</span><span class="s3">\n  </span><span class="s1">return buildGroup$1(group.body, newOptions);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var mathmlBuilder$4 = (group, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">var font = group.font;</span><span class="s3">\n  </span><span class="s1">var newOptions = options.withFont(font);</span><span class="s3">\n  </span><span class="s1">return buildGroup(group.body, newOptions);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var fontAliases = {</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">Bbb</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">mathbb</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">bold</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">mathbf</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">frak</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">mathfrak</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">bm</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">boldsymbol</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">font</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [// styles, except </span><span class="s3">\\</span><span class="s1">boldsymbol defined below</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">mathrm</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathit</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathbf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathnormal</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathsfit</span><span class="s3">\&quot;</span><span class="s1">, // families</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">mathbb</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathcal</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathfrak</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathscr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathsf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathtt</span><span class="s3">\&quot;</span><span class="s1">, // aliases, except </span><span class="s3">\\</span><span class="s1">bm defined below</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">Bbb</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bold</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">frak</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">allowedInArgument: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var body = normalizeArgument(args[0]);</span><span class="s3">\n    </span><span class="s1">var func = funcName;</span><span class="s3">\n\n    </span><span class="s1">if (func in fontAliases) {</span><span class="s3">\n      </span><span class="s1">func = fontAliases[func];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">font</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">font: func.slice(1),</span><span class="s3">\n      </span><span class="s1">body</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: htmlBuilder$5,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$4</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">mclass</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">boldsymbol</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bm</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref2, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref2;</span><span class="s3">\n    </span><span class="s1">var body = args[0];</span><span class="s3">\n    </span><span class="s1">var isCharacterBox = utils.isCharacterBox(body); // amsbsy.sty's </span><span class="s3">\\</span><span class="s1">boldsymbol uses </span><span class="s3">\\</span><span class="s1">binrel spacing to inherit the</span><span class="s3">\n    </span><span class="s1">// argument's bin|rel|ord status</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">mclass</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">mclass: binrelClass(body),</span><span class="s3">\n      </span><span class="s1">body: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">font</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">mode: parser.mode,</span><span class="s3">\n        </span><span class="s1">font: </span><span class="s3">\&quot;</span><span class="s1">boldsymbol</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">body</span><span class="s3">\n      </span><span class="s1">}],</span><span class="s3">\n      </span><span class="s1">isCharacterBox: isCharacterBox</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}); // Old font changing functions</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">font</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">rm</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">tt</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">it</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">cal</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0,</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref3, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName,</span><span class="s3">\n      </span><span class="s1">breakOnTokenText</span><span class="s3">\n    </span><span class="s1">} = _ref3;</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">mode</span><span class="s3">\n    </span><span class="s1">} = parser;</span><span class="s3">\n    </span><span class="s1">var body = parser.parseExpression(true, breakOnTokenText);</span><span class="s3">\n    </span><span class="s1">var style = </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot; </span><span class="s1">+ funcName.slice(1);</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">font</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: mode,</span><span class="s3">\n      </span><span class="s1">font: style,</span><span class="s3">\n      </span><span class="s1">body: {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">mode: parser.mode,</span><span class="s3">\n        </span><span class="s1">body</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: htmlBuilder$5,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$4</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">var adjustStyle = (size, originalStyle) =&gt; {</span><span class="s3">\n  </span><span class="s1">// Figure out what style this fraction should be in based on the</span><span class="s3">\n  </span><span class="s1">// function used</span><span class="s3">\n  </span><span class="s1">var style = originalStyle;</span><span class="s3">\n\n  </span><span class="s1">if (size === </span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">// Get display style as a default.</span><span class="s3">\n    </span><span class="s1">// If incoming style is sub/sup, use style.text() to get correct size.</span><span class="s3">\n    </span><span class="s1">style = style.id &gt;= Style$1.SCRIPT.id ? style.text() : Style$1.DISPLAY;</span><span class="s3">\n  </span><span class="s1">} else if (size === </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; style.size === Style$1.DISPLAY.size) {</span><span class="s3">\n    </span><span class="s1">// We're in a </span><span class="s3">\\</span><span class="s1">tfrac but incoming style is displaystyle, so:</span><span class="s3">\n    </span><span class="s1">style = Style$1.TEXT;</span><span class="s3">\n  </span><span class="s1">} else if (size === </span><span class="s3">\&quot;</span><span class="s1">script</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">style = Style$1.SCRIPT;</span><span class="s3">\n  </span><span class="s1">} else if (size === </span><span class="s3">\&quot;</span><span class="s1">scriptscript</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">style = Style$1.SCRIPTSCRIPT;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return style;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var htmlBuilder$4 = (group, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">// Fractions are handled in the TeXbook on pages 444-445, rules 15(a-e).</span><span class="s3">\n  </span><span class="s1">var style = adjustStyle(group.size, options.style);</span><span class="s3">\n  </span><span class="s1">var nstyle = style.fracNum();</span><span class="s3">\n  </span><span class="s1">var dstyle = style.fracDen();</span><span class="s3">\n  </span><span class="s1">var newOptions;</span><span class="s3">\n  </span><span class="s1">newOptions = options.havingStyle(nstyle);</span><span class="s3">\n  </span><span class="s1">var numerm = buildGroup$1(group.numer, newOptions, options);</span><span class="s3">\n\n  </span><span class="s1">if (group.continued) {</span><span class="s3">\n    </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">cfrac inserts a </span><span class="s3">\\</span><span class="s1">strut into the numerator.</span><span class="s3">\n    </span><span class="s1">// Get </span><span class="s3">\\</span><span class="s1">strut dimensions from TeXbook page 353.</span><span class="s3">\n    </span><span class="s1">var hStrut = 8.5 / options.fontMetrics().ptPerEm;</span><span class="s3">\n    </span><span class="s1">var dStrut = 3.5 / options.fontMetrics().ptPerEm;</span><span class="s3">\n    </span><span class="s1">numerm.height = numerm.height &lt; hStrut ? hStrut : numerm.height;</span><span class="s3">\n    </span><span class="s1">numerm.depth = numerm.depth &lt; dStrut ? dStrut : numerm.depth;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">newOptions = options.havingStyle(dstyle);</span><span class="s3">\n  </span><span class="s1">var denomm = buildGroup$1(group.denom, newOptions, options);</span><span class="s3">\n  </span><span class="s1">var rule;</span><span class="s3">\n  </span><span class="s1">var ruleWidth;</span><span class="s3">\n  </span><span class="s1">var ruleSpacing;</span><span class="s3">\n\n  </span><span class="s1">if (group.hasBarLine) {</span><span class="s3">\n    </span><span class="s1">if (group.barSize) {</span><span class="s3">\n      </span><span class="s1">ruleWidth = calculateSize(group.barSize, options);</span><span class="s3">\n      </span><span class="s1">rule = buildCommon.makeLineSpan(</span><span class="s3">\&quot;</span><span class="s1">frac-line</span><span class="s3">\&quot;</span><span class="s1">, options, ruleWidth);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">rule = buildCommon.makeLineSpan(</span><span class="s3">\&quot;</span><span class="s1">frac-line</span><span class="s3">\&quot;</span><span class="s1">, options);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">ruleWidth = rule.height;</span><span class="s3">\n    </span><span class="s1">ruleSpacing = rule.height;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">rule = null;</span><span class="s3">\n    </span><span class="s1">ruleWidth = 0;</span><span class="s3">\n    </span><span class="s1">ruleSpacing = options.fontMetrics().defaultRuleThickness;</span><span class="s3">\n  </span><span class="s1">} // Rule 15b</span><span class="s3">\n\n\n  </span><span class="s1">var numShift;</span><span class="s3">\n  </span><span class="s1">var clearance;</span><span class="s3">\n  </span><span class="s1">var denomShift;</span><span class="s3">\n\n  </span><span class="s1">if (style.size === Style$1.DISPLAY.size || group.size === </span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">numShift = options.fontMetrics().num1;</span><span class="s3">\n\n    </span><span class="s1">if (ruleWidth &gt; 0) {</span><span class="s3">\n      </span><span class="s1">clearance = 3 * ruleSpacing;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">clearance = 7 * ruleSpacing;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">denomShift = options.fontMetrics().denom1;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">if (ruleWidth &gt; 0) {</span><span class="s3">\n      </span><span class="s1">numShift = options.fontMetrics().num2;</span><span class="s3">\n      </span><span class="s1">clearance = ruleSpacing;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">numShift = options.fontMetrics().num3;</span><span class="s3">\n      </span><span class="s1">clearance = 3 * ruleSpacing;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">denomShift = options.fontMetrics().denom2;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var frac;</span><span class="s3">\n\n  </span><span class="s1">if (!rule) {</span><span class="s3">\n    </span><span class="s1">// Rule 15c</span><span class="s3">\n    </span><span class="s1">var candidateClearance = numShift - numerm.depth - (denomm.height - denomShift);</span><span class="s3">\n\n    </span><span class="s1">if (candidateClearance &lt; clearance) {</span><span class="s3">\n      </span><span class="s1">numShift += 0.5 * (clearance - candidateClearance);</span><span class="s3">\n      </span><span class="s1">denomShift += 0.5 * (clearance - candidateClearance);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">frac = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">individualShift</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">children: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: denomm,</span><span class="s3">\n        </span><span class="s1">shift: denomShift</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: numerm,</span><span class="s3">\n        </span><span class="s1">shift: -numShift</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">}, options);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">// Rule 15d</span><span class="s3">\n    </span><span class="s1">var axisHeight = options.fontMetrics().axisHeight;</span><span class="s3">\n\n    </span><span class="s1">if (numShift - numerm.depth - (axisHeight + 0.5 * ruleWidth) &lt; clearance) {</span><span class="s3">\n      </span><span class="s1">numShift += clearance - (numShift - numerm.depth - (axisHeight + 0.5 * ruleWidth));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (axisHeight - 0.5 * ruleWidth - (denomm.height - denomShift) &lt; clearance) {</span><span class="s3">\n      </span><span class="s1">denomShift += clearance - (axisHeight - 0.5 * ruleWidth - (denomm.height - denomShift));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var midShift = -(axisHeight - 0.5 * ruleWidth);</span><span class="s3">\n    </span><span class="s1">frac = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">individualShift</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">children: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: denomm,</span><span class="s3">\n        </span><span class="s1">shift: denomShift</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: rule,</span><span class="s3">\n        </span><span class="s1">shift: midShift</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: numerm,</span><span class="s3">\n        </span><span class="s1">shift: -numShift</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">}, options);</span><span class="s3">\n  </span><span class="s1">} // Since we manually change the style sometimes (with </span><span class="s3">\\</span><span class="s1">dfrac or </span><span class="s3">\\</span><span class="s1">tfrac),</span><span class="s3">\n  </span><span class="s1">// account for the possible size change here.</span><span class="s3">\n\n\n  </span><span class="s1">newOptions = options.havingStyle(style);</span><span class="s3">\n  </span><span class="s1">frac.height *= newOptions.sizeMultiplier / options.sizeMultiplier;</span><span class="s3">\n  </span><span class="s1">frac.depth *= newOptions.sizeMultiplier / options.sizeMultiplier; // Rule 15e</span><span class="s3">\n\n  </span><span class="s1">var delimSize;</span><span class="s3">\n\n  </span><span class="s1">if (style.size === Style$1.DISPLAY.size) {</span><span class="s3">\n    </span><span class="s1">delimSize = options.fontMetrics().delim1;</span><span class="s3">\n  </span><span class="s1">} else if (style.size === Style$1.SCRIPTSCRIPT.size) {</span><span class="s3">\n    </span><span class="s1">delimSize = options.havingStyle(Style$1.SCRIPT).fontMetrics().delim2;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">delimSize = options.fontMetrics().delim2;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var leftDelim;</span><span class="s3">\n  </span><span class="s1">var rightDelim;</span><span class="s3">\n\n  </span><span class="s1">if (group.leftDelim == null) {</span><span class="s3">\n    </span><span class="s1">leftDelim = makeNullDelimiter(options, [</span><span class="s3">\&quot;</span><span class="s1">mopen</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">leftDelim = delimiter.customSizedDelim(group.leftDelim, delimSize, true, options.havingStyle(style), group.mode, [</span><span class="s3">\&quot;</span><span class="s1">mopen</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (group.continued) {</span><span class="s3">\n    </span><span class="s1">rightDelim = buildCommon.makeSpan([]); // zero width for </span><span class="s3">\\</span><span class="s1">cfrac</span><span class="s3">\n  </span><span class="s1">} else if (group.rightDelim == null) {</span><span class="s3">\n    </span><span class="s1">rightDelim = makeNullDelimiter(options, [</span><span class="s3">\&quot;</span><span class="s1">mclose</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">rightDelim = delimiter.customSizedDelim(group.rightDelim, delimSize, true, options.havingStyle(style), group.mode, [</span><span class="s3">\&quot;</span><span class="s1">mclose</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">].concat(newOptions.sizingClasses(options)), [leftDelim, buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mfrac</span><span class="s3">\&quot;</span><span class="s1">], [frac]), rightDelim], options);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var mathmlBuilder$3 = (group, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mfrac</span><span class="s3">\&quot;</span><span class="s1">, [buildGroup(group.numer, options), buildGroup(group.denom, options)]);</span><span class="s3">\n\n  </span><span class="s1">if (!group.hasBarLine) {</span><span class="s3">\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">linethickness</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0px</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} else if (group.barSize) {</span><span class="s3">\n    </span><span class="s1">var ruleWidth = calculateSize(group.barSize, options);</span><span class="s3">\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">linethickness</span><span class="s3">\&quot;</span><span class="s1">, makeEm(ruleWidth));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var style = adjustStyle(group.size, options.style);</span><span class="s3">\n\n  </span><span class="s1">if (style.size !== options.style.size) {</span><span class="s3">\n    </span><span class="s1">node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mstyle</span><span class="s3">\&quot;</span><span class="s1">, [node]);</span><span class="s3">\n    </span><span class="s1">var isDisplay = style.size === Style$1.DISPLAY.size ? </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">displaystyle</span><span class="s3">\&quot;</span><span class="s1">, isDisplay);</span><span class="s3">\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">scriptlevel</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (group.leftDelim != null || group.rightDelim != null) {</span><span class="s3">\n    </span><span class="s1">var withDelims = [];</span><span class="s3">\n\n    </span><span class="s1">if (group.leftDelim != null) {</span><span class="s3">\n      </span><span class="s1">var leftOp = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">, [new mathMLTree.TextNode(group.leftDelim.replace(</span><span class="s3">\&quot;\\\\\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">))]);</span><span class="s3">\n      </span><span class="s1">leftOp.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">fence</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">withDelims.push(leftOp);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">withDelims.push(node);</span><span class="s3">\n\n    </span><span class="s1">if (group.rightDelim != null) {</span><span class="s3">\n      </span><span class="s1">var rightOp = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">, [new mathMLTree.TextNode(group.rightDelim.replace(</span><span class="s3">\&quot;\\\\\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">))]);</span><span class="s3">\n      </span><span class="s1">rightOp.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">fence</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">withDelims.push(rightOp);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return makeRow(withDelims);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return node;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">genfrac</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">dfrac</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">frac</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">tfrac</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">dbinom</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">binom</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">tbinom</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">atopfrac</span><span class="s3">\&quot;</span><span class="s1">, // cant be entered directly</span><span class="s3">\n  \&quot;\\\\\\\\</span><span class="s1">bracefrac</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">brackfrac</span><span class="s3">\&quot; </span><span class="s1">// ditto</span><span class="s3">\n  </span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 2,</span><span class="s3">\n    </span><span class="s1">allowedInArgument: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var numer = args[0];</span><span class="s3">\n    </span><span class="s1">var denom = args[1];</span><span class="s3">\n    </span><span class="s1">var hasBarLine;</span><span class="s3">\n    </span><span class="s1">var leftDelim = null;</span><span class="s3">\n    </span><span class="s1">var rightDelim = null;</span><span class="s3">\n    </span><span class="s1">var size = </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">switch (funcName) {</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">dfrac</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">frac</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">tfrac</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">hasBarLine = true;</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">atopfrac</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">hasBarLine = false;</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">dbinom</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">binom</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">tbinom</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">hasBarLine = false;</span><span class="s3">\n        </span><span class="s1">leftDelim = </span><span class="s3">\&quot;</span><span class="s1">(</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">rightDelim = </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">bracefrac</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">hasBarLine = false;</span><span class="s3">\n        </span><span class="s1">leftDelim = </span><span class="s3">\&quot;\\\\</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">rightDelim = </span><span class="s3">\&quot;\\\\</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">brackfrac</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">hasBarLine = false;</span><span class="s3">\n        </span><span class="s1">leftDelim = </span><span class="s3">\&quot;</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">rightDelim = </span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n\n      </span><span class="s1">default:</span><span class="s3">\n        </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Unrecognized genfrac command</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">switch (funcName) {</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">dfrac</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">dbinom</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">size = </span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">tfrac</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">tbinom</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">size = </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">genfrac</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">continued: false,</span><span class="s3">\n      </span><span class="s1">numer,</span><span class="s3">\n      </span><span class="s1">denom,</span><span class="s3">\n      </span><span class="s1">hasBarLine,</span><span class="s3">\n      </span><span class="s1">leftDelim,</span><span class="s3">\n      </span><span class="s1">rightDelim,</span><span class="s3">\n      </span><span class="s1">size,</span><span class="s3">\n      </span><span class="s1">barSize: null</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: htmlBuilder$4,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$3</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">genfrac</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">cfrac</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 2</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref2, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref2;</span><span class="s3">\n    </span><span class="s1">var numer = args[0];</span><span class="s3">\n    </span><span class="s1">var denom = args[1];</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">genfrac</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">continued: true,</span><span class="s3">\n      </span><span class="s1">numer,</span><span class="s3">\n      </span><span class="s1">denom,</span><span class="s3">\n      </span><span class="s1">hasBarLine: true,</span><span class="s3">\n      </span><span class="s1">leftDelim: null,</span><span class="s3">\n      </span><span class="s1">rightDelim: null,</span><span class="s3">\n      </span><span class="s1">size: </span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">barSize: null</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}); // Infix generalized fractions -- these are not rendered directly, but replaced</span><span class="s3">\n</span><span class="s1">// immediately by one of the variants above.</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">infix</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">over</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">choose</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">atop</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">brace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">brack</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0,</span><span class="s3">\n    </span><span class="s1">infix: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref3) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName,</span><span class="s3">\n      </span><span class="s1">token</span><span class="s3">\n    </span><span class="s1">} = _ref3;</span><span class="s3">\n    </span><span class="s1">var replaceWith;</span><span class="s3">\n\n    </span><span class="s1">switch (funcName) {</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">over</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">replaceWith = </span><span class="s3">\&quot;\\\\</span><span class="s1">frac</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">choose</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">replaceWith = </span><span class="s3">\&quot;\\\\</span><span class="s1">binom</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">atop</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">replaceWith = </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">atopfrac</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">brace</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">replaceWith = </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">bracefrac</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">brack</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">replaceWith = </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">brackfrac</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n\n      </span><span class="s1">default:</span><span class="s3">\n        </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Unrecognized infix genfrac command</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">infix</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">replaceWith,</span><span class="s3">\n      </span><span class="s1">token</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var stylArray = [</span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">script</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">scriptscript</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n\n</span><span class="s1">var delimFromValue = function delimFromValue(delimString) {</span><span class="s3">\n  </span><span class="s1">var delim = null;</span><span class="s3">\n\n  </span><span class="s1">if (delimString.length &gt; 0) {</span><span class="s3">\n    </span><span class="s1">delim = delimString;</span><span class="s3">\n    </span><span class="s1">delim = delim === </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot; </span><span class="s1">? null : delim;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return delim;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">genfrac</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">genfrac</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 6,</span><span class="s3">\n    </span><span class="s1">allowedInArgument: true,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref4, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref4;</span><span class="s3">\n    </span><span class="s1">var numer = args[4];</span><span class="s3">\n    </span><span class="s1">var denom = args[5]; // Look into the parse nodes to get the desired delimiters.</span><span class="s3">\n\n    </span><span class="s1">var leftNode = normalizeArgument(args[0]);</span><span class="s3">\n    </span><span class="s1">var leftDelim = leftNode.type === </span><span class="s3">\&quot;</span><span class="s1">atom</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; leftNode.family === </span><span class="s3">\&quot;</span><span class="s1">open</span><span class="s3">\&quot; </span><span class="s1">? delimFromValue(leftNode.text) : null;</span><span class="s3">\n    </span><span class="s1">var rightNode = normalizeArgument(args[1]);</span><span class="s3">\n    </span><span class="s1">var rightDelim = rightNode.type === </span><span class="s3">\&quot;</span><span class="s1">atom</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; rightNode.family === </span><span class="s3">\&quot;</span><span class="s1">close</span><span class="s3">\&quot; </span><span class="s1">? delimFromValue(rightNode.text) : null;</span><span class="s3">\n    </span><span class="s1">var barNode = assertNodeType(args[2], </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">var hasBarLine;</span><span class="s3">\n    </span><span class="s1">var barSize = null;</span><span class="s3">\n\n    </span><span class="s1">if (barNode.isBlank) {</span><span class="s3">\n      </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">genfrac acts differently than </span><span class="s3">\\</span><span class="s1">above.</span><span class="s3">\n      </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">genfrac treats an empty size group as a signal to use a</span><span class="s3">\n      </span><span class="s1">// standard bar size. </span><span class="s3">\\</span><span class="s1">above would see size = 0 and omit the bar.</span><span class="s3">\n      </span><span class="s1">hasBarLine = true;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">barSize = barNode.value;</span><span class="s3">\n      </span><span class="s1">hasBarLine = barSize.number &gt; 0;</span><span class="s3">\n    </span><span class="s1">} // Find out if we want displaystyle, textstyle, etc.</span><span class="s3">\n\n\n    </span><span class="s1">var size = </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">var styl = args[3];</span><span class="s3">\n\n    </span><span class="s1">if (styl.type === </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">if (styl.body.length &gt; 0) {</span><span class="s3">\n        </span><span class="s1">var textOrd = assertNodeType(styl.body[0], </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">size = stylArray[Number(textOrd.text)];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">styl = assertNodeType(styl, </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">size = stylArray[Number(styl.text)];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">genfrac</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">numer,</span><span class="s3">\n      </span><span class="s1">denom,</span><span class="s3">\n      </span><span class="s1">continued: false,</span><span class="s3">\n      </span><span class="s1">hasBarLine,</span><span class="s3">\n      </span><span class="s1">barSize,</span><span class="s3">\n      </span><span class="s1">leftDelim,</span><span class="s3">\n      </span><span class="s1">rightDelim,</span><span class="s3">\n      </span><span class="s1">size</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$4,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$3</span><span class="s3">\n</span><span class="s1">}); // </span><span class="s3">\\</span><span class="s1">above is an infix fraction that also defines a fraction bar size.</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">infix</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">above</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">infix: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref5, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName,</span><span class="s3">\n      </span><span class="s1">token</span><span class="s3">\n    </span><span class="s1">} = _ref5;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">infix</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">replaceWith: </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">abovefrac</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">size: assertNodeType(args[0], </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">).value,</span><span class="s3">\n      </span><span class="s1">token</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">genfrac</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">abovefrac</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 3,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref6, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref6;</span><span class="s3">\n    </span><span class="s1">var numer = args[0];</span><span class="s3">\n    </span><span class="s1">var barSize = assert(assertNodeType(args[1], </span><span class="s3">\&quot;</span><span class="s1">infix</span><span class="s3">\&quot;</span><span class="s1">).size);</span><span class="s3">\n    </span><span class="s1">var denom = args[2];</span><span class="s3">\n    </span><span class="s1">var hasBarLine = barSize.number &gt; 0;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">genfrac</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">numer,</span><span class="s3">\n      </span><span class="s1">denom,</span><span class="s3">\n      </span><span class="s1">continued: false,</span><span class="s3">\n      </span><span class="s1">hasBarLine,</span><span class="s3">\n      </span><span class="s1">barSize,</span><span class="s3">\n      </span><span class="s1">leftDelim: null,</span><span class="s3">\n      </span><span class="s1">rightDelim: null,</span><span class="s3">\n      </span><span class="s1">size: </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: htmlBuilder$4,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$3</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">// NOTE: Unlike most `htmlBuilder`s, this one handles not only </span><span class="s3">\&quot;</span><span class="s1">horizBrace</span><span class="s3">\&quot;</span><span class="s1">, but</span><span class="s3">\n</span><span class="s1">// also </span><span class="s3">\&quot;</span><span class="s1">supsub</span><span class="s3">\&quot; </span><span class="s1">since an over/underbrace can affect super/subscripting.</span><span class="s3">\n</span><span class="s1">var htmlBuilder$3 = (grp, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">var style = options.style; // Pull out the `ParseNode&lt;</span><span class="s3">\&quot;</span><span class="s1">horizBrace</span><span class="s3">\&quot;</span><span class="s1">&gt;` if `grp` is a </span><span class="s3">\&quot;</span><span class="s1">supsub</span><span class="s3">\&quot; </span><span class="s1">node.</span><span class="s3">\n\n  </span><span class="s1">var supSubGroup;</span><span class="s3">\n  </span><span class="s1">var group;</span><span class="s3">\n\n  </span><span class="s1">if (grp.type === </span><span class="s3">\&quot;</span><span class="s1">supsub</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">// Ref: LaTeX source2e: }}}}</span><span class="s3">\\</span><span class="s1">limits}</span><span class="s3">\n    </span><span class="s1">// i.e. LaTeX treats the brace similar to an op and passes it</span><span class="s3">\n    </span><span class="s1">// with </span><span class="s3">\\</span><span class="s1">limits, so we need to assign supsub style.</span><span class="s3">\n    </span><span class="s1">supSubGroup = grp.sup ? buildGroup$1(grp.sup, options.havingStyle(style.sup()), options) : buildGroup$1(grp.sub, options.havingStyle(style.sub()), options);</span><span class="s3">\n    </span><span class="s1">group = assertNodeType(grp.base, </span><span class="s3">\&quot;</span><span class="s1">horizBrace</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">group = assertNodeType(grp, </span><span class="s3">\&quot;</span><span class="s1">horizBrace</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} // Build the base group</span><span class="s3">\n\n\n  </span><span class="s1">var body = buildGroup$1(group.base, options.havingBaseStyle(Style$1.DISPLAY)); // Create the stretchy element</span><span class="s3">\n\n  </span><span class="s1">var braceBody = stretchy.svgSpan(group, options); // Generate the vlist, with the appropriate kerns        </span><span class="s3">\n  </span><span class="s1">// This first vlist contains the content and the brace:   equation</span><span class="s3">\n\n  </span><span class="s1">var vlist;</span><span class="s3">\n\n  </span><span class="s1">if (group.isOver) {</span><span class="s3">\n    </span><span class="s1">vlist = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">firstBaseline</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">children: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: body</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">size: 0.1</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: braceBody</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">}, options); // $FlowFixMe: Replace this with passing </span><span class="s3">\&quot;</span><span class="s1">svg-align</span><span class="s3">\&quot; </span><span class="s1">into makeVList.</span><span class="s3">\n\n    </span><span class="s1">vlist.children[0].children[0].children[1].classes.push(</span><span class="s3">\&quot;</span><span class="s1">svg-align</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">vlist = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">bottom</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">positionData: body.depth + 0.1 + braceBody.height,</span><span class="s3">\n      </span><span class="s1">children: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: braceBody</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">size: 0.1</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: body</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">}, options); // $FlowFixMe: Replace this with passing </span><span class="s3">\&quot;</span><span class="s1">svg-align</span><span class="s3">\&quot; </span><span class="s1">into makeVList.</span><span class="s3">\n\n    </span><span class="s1">vlist.children[0].children[0].children[0].classes.push(</span><span class="s3">\&quot;</span><span class="s1">svg-align</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (supSubGroup) {</span><span class="s3">\n    </span><span class="s1">// To write the supsub, wrap the first vlist in another vlist:</span><span class="s3">\n    </span><span class="s1">// They can't all go in the same vlist, because the note might be</span><span class="s3">\n    </span><span class="s1">// wider than the equation. We want the equation to control the</span><span class="s3">\n    </span><span class="s1">// brace width.</span><span class="s3">\n    </span><span class="s1">//      note          long note           long note</span><span class="s3">\n    </span><span class="s1">//      or         not    </span><span class="s3">\n    </span><span class="s1">//    equation           eqn                 eqn</span><span class="s3">\n    </span><span class="s1">var vSpan = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">, group.isOver ? </span><span class="s3">\&quot;</span><span class="s1">mover</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">munder</span><span class="s3">\&quot;</span><span class="s1">], [vlist], options);</span><span class="s3">\n\n    </span><span class="s1">if (group.isOver) {</span><span class="s3">\n      </span><span class="s1">vlist = buildCommon.makeVList({</span><span class="s3">\n        </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">firstBaseline</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">children: [{</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">elem: vSpan</span><span class="s3">\n        </span><span class="s1">}, {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">size: 0.2</span><span class="s3">\n        </span><span class="s1">}, {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">elem: supSubGroup</span><span class="s3">\n        </span><span class="s1">}]</span><span class="s3">\n      </span><span class="s1">}, options);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">vlist = buildCommon.makeVList({</span><span class="s3">\n        </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">bottom</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">positionData: vSpan.depth + 0.2 + supSubGroup.height + supSubGroup.depth,</span><span class="s3">\n        </span><span class="s1">children: [{</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">elem: supSubGroup</span><span class="s3">\n        </span><span class="s1">}, {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">size: 0.2</span><span class="s3">\n        </span><span class="s1">}, {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">elem: vSpan</span><span class="s3">\n        </span><span class="s1">}]</span><span class="s3">\n      </span><span class="s1">}, options);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">, group.isOver ? </span><span class="s3">\&quot;</span><span class="s1">mover</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">munder</span><span class="s3">\&quot;</span><span class="s1">], [vlist], options);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var mathmlBuilder$2 = (group, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">var accentNode = stretchy.mathMLnode(group.label);</span><span class="s3">\n  </span><span class="s1">return new mathMLTree.MathNode(group.isOver ? </span><span class="s3">\&quot;</span><span class="s1">mover</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">munder</span><span class="s3">\&quot;</span><span class="s1">, [buildGroup(group.base, options), accentNode]);</span><span class="s3">\n</span><span class="s1">}; // Horizontal stretchy braces</span><span class="s3">\n\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">horizBrace</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">overbrace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">underbrace</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">horizBrace</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">label: funcName,</span><span class="s3">\n      </span><span class="s1">isOver: /^</span><span class="s3">\\\\</span><span class="s1">over/.test(funcName),</span><span class="s3">\n      </span><span class="s1">base: args[0]</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$3,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$2</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">href</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">href</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 2,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">url</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">original</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var body = args[1];</span><span class="s3">\n    </span><span class="s1">var href = assertNodeType(args[0], </span><span class="s3">\&quot;</span><span class="s1">url</span><span class="s3">\&quot;</span><span class="s1">).url;</span><span class="s3">\n\n    </span><span class="s1">if (!parser.settings.isTrusted({</span><span class="s3">\n      </span><span class="s1">command: </span><span class="s3">\&quot;\\\\</span><span class="s1">href</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">url: href</span><span class="s3">\n    </span><span class="s1">})) {</span><span class="s3">\n      </span><span class="s1">return parser.formatUnsupportedCmd(</span><span class="s3">\&quot;\\\\</span><span class="s1">href</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">href</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">href,</span><span class="s3">\n      </span><span class="s1">body: ordargument(body)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">var elements = buildExpression$1(group.body, options, false);</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeAnchor(group.href, [], elements, options);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">var math = buildExpressionRow(group.body, options);</span><span class="s3">\n\n    </span><span class="s1">if (!(math instanceof MathNode)) {</span><span class="s3">\n      </span><span class="s1">math = new MathNode(</span><span class="s3">\&quot;</span><span class="s1">mrow</span><span class="s3">\&quot;</span><span class="s1">, [math]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">math.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">href</span><span class="s3">\&quot;</span><span class="s1">, group.href);</span><span class="s3">\n    </span><span class="s1">return math;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">href</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">url</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">url</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref2, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref2;</span><span class="s3">\n    </span><span class="s1">var href = assertNodeType(args[0], </span><span class="s3">\&quot;</span><span class="s1">url</span><span class="s3">\&quot;</span><span class="s1">).url;</span><span class="s3">\n\n    </span><span class="s1">if (!parser.settings.isTrusted({</span><span class="s3">\n      </span><span class="s1">command: </span><span class="s3">\&quot;\\\\</span><span class="s1">url</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">url: href</span><span class="s3">\n    </span><span class="s1">})) {</span><span class="s3">\n      </span><span class="s1">return parser.formatUnsupportedCmd(</span><span class="s3">\&quot;\\\\</span><span class="s1">url</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var chars = [];</span><span class="s3">\n\n    </span><span class="s1">for (var i = 0; i &lt; href.length; i++) {</span><span class="s3">\n      </span><span class="s1">var c = href[i];</span><span class="s3">\n\n      </span><span class="s1">if (c === </span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">c = </span><span class="s3">\&quot;\\\\</span><span class="s1">textasciitilde</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">chars.push({</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">text: c</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var body = {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">font: </span><span class="s3">\&quot;\\\\</span><span class="s1">texttt</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">body: chars</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">href</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">href,</span><span class="s3">\n      </span><span class="s1">body: ordargument(body)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">// In LaTeX, </span><span class="s3">\\</span><span class="s1">vcenter can act only on a box, as in</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">vcenter{</span><span class="s3">\\</span><span class="s1">hbox{$</span><span class="s3">\\</span><span class="s1">frac{a+b}{</span><span class="s3">\\</span><span class="s1">dfrac{c}{d}}$}}</span><span class="s3">\n</span><span class="s1">// This function by itself doesn't do anything but prevent a soft line break.</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">hbox</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">hbox</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">allowedInText: true,</span><span class="s3">\n    </span><span class="s1">primitive: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">hbox</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">body: ordargument(args[0])</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var elements = buildExpression$1(group.body, options, false);</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeFragment(elements);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">return new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mrow</span><span class="s3">\&quot;</span><span class="s1">, buildExpression(group.body, options));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">html</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">htmlClass</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">htmlId</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">htmlStyle</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">htmlData</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 2,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">raw</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">original</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName,</span><span class="s3">\n      </span><span class="s1">token</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var value = assertNodeType(args[0], </span><span class="s3">\&quot;</span><span class="s1">raw</span><span class="s3">\&quot;</span><span class="s1">).string;</span><span class="s3">\n    </span><span class="s1">var body = args[1];</span><span class="s3">\n\n    </span><span class="s1">if (parser.settings.strict) {</span><span class="s3">\n      </span><span class="s1">parser.settings.reportNonstrict(</span><span class="s3">\&quot;</span><span class="s1">htmlExtension</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">HTML extension is disabled on strict mode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var trustContext;</span><span class="s3">\n    </span><span class="s1">var attributes = {};</span><span class="s3">\n\n    </span><span class="s1">switch (funcName) {</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">htmlClass</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">attributes.class = value;</span><span class="s3">\n        </span><span class="s1">trustContext = {</span><span class="s3">\n          </span><span class="s1">command: </span><span class="s3">\&quot;\\\\</span><span class="s1">htmlClass</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">class: value</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">htmlId</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">attributes.id = value;</span><span class="s3">\n        </span><span class="s1">trustContext = {</span><span class="s3">\n          </span><span class="s1">command: </span><span class="s3">\&quot;\\\\</span><span class="s1">htmlId</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">id: value</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">htmlStyle</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">attributes.style = value;</span><span class="s3">\n        </span><span class="s1">trustContext = {</span><span class="s3">\n          </span><span class="s1">command: </span><span class="s3">\&quot;\\\\</span><span class="s1">htmlStyle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">style: value</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n\n      </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">htmlData</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">{</span><span class="s3">\n          </span><span class="s1">var data = value.split(</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n          </span><span class="s1">for (var i = 0; i &lt; data.length; i++) {</span><span class="s3">\n            </span><span class="s1">var keyVal = data[i].split(</span><span class="s3">\&quot;</span><span class="s1">=</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n            </span><span class="s1">if (keyVal.length !== 2) {</span><span class="s3">\n              </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Error parsing key-value for </span><span class="s3">\\\\</span><span class="s1">htmlData</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n            </span><span class="s1">attributes[</span><span class="s3">\&quot;</span><span class="s1">data-</span><span class="s3">\&quot; </span><span class="s1">+ keyVal[0].trim()] = keyVal[1].trim();</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n\n          </span><span class="s1">trustContext = {</span><span class="s3">\n            </span><span class="s1">command: </span><span class="s3">\&quot;\\\\</span><span class="s1">htmlData</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">attributes</span><span class="s3">\n          </span><span class="s1">};</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">default:</span><span class="s3">\n        </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Unrecognized html command</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (!parser.settings.isTrusted(trustContext)) {</span><span class="s3">\n      </span><span class="s1">return parser.formatUnsupportedCmd(funcName);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">html</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">attributes,</span><span class="s3">\n      </span><span class="s1">body: ordargument(body)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">var elements = buildExpression$1(group.body, options, false);</span><span class="s3">\n    </span><span class="s1">var classes = [</span><span class="s3">\&quot;</span><span class="s1">enclosing</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n\n    </span><span class="s1">if (group.attributes.class) {</span><span class="s3">\n      </span><span class="s1">classes.push(...group.attributes.class.trim().split(/</span><span class="s3">\\</span><span class="s1">s+/));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var span = buildCommon.makeSpan(classes, elements, options);</span><span class="s3">\n\n    </span><span class="s1">for (var attr in group.attributes) {</span><span class="s3">\n      </span><span class="s1">if (attr !== </span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; group.attributes.hasOwnProperty(attr)) {</span><span class="s3">\n        </span><span class="s1">span.setAttribute(attr, group.attributes[attr]);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return span;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">return buildExpressionRow(group.body, options);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">htmlmathml</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 2,</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">htmlmathml</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">html: ordargument(args[0]),</span><span class="s3">\n      </span><span class="s1">mathml: ordargument(args[1])</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">var elements = buildExpression$1(group.html, options, false);</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeFragment(elements);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">return buildExpressionRow(group.mathml, options);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">var sizeData = function sizeData(str) {</span><span class="s3">\n  </span><span class="s1">if (/^[-+]? *(</span><span class="s3">\\</span><span class="s1">d+(</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d*)?|</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)$/.test(str)) {</span><span class="s3">\n    </span><span class="s1">// str is a number with no unit specified.</span><span class="s3">\n    </span><span class="s1">// default unit is bp, per graphix package.</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">number: +str,</span><span class="s3">\n      </span><span class="s1">unit: </span><span class="s3">\&quot;</span><span class="s1">bp</span><span class="s3">\&quot;\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">var match = /([-+]?) *(</span><span class="s3">\\</span><span class="s1">d+(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d*)?|</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+) *([a-z]{2})/.exec(str);</span><span class="s3">\n\n    </span><span class="s1">if (!match) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Invalid size: '</span><span class="s3">\&quot; </span><span class="s1">+ str + </span><span class="s3">\&quot;</span><span class="s1">' in </span><span class="s3">\\\\</span><span class="s1">includegraphics</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var data = {</span><span class="s3">\n      </span><span class="s1">number: +(match[1] + match[2]),</span><span class="s3">\n      </span><span class="s1">// sign + magnitude, cast to number</span><span class="s3">\n      </span><span class="s1">unit: match[3]</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n\n    </span><span class="s1">if (!validUnit(data)) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Invalid unit: '</span><span class="s3">\&quot; </span><span class="s1">+ data.unit + </span><span class="s3">\&quot;</span><span class="s1">' in </span><span class="s3">\\\\</span><span class="s1">includegraphics.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return data;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">includegraphics</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">includegraphics</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">numOptionalArgs: 1,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">raw</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">url</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">allowedInText: false</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref, args, optArgs) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var width = {</span><span class="s3">\n      </span><span class="s1">number: 0,</span><span class="s3">\n      </span><span class="s1">unit: </span><span class="s3">\&quot;</span><span class="s1">em</span><span class="s3">\&quot;\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">var height = {</span><span class="s3">\n      </span><span class="s1">number: 0.9,</span><span class="s3">\n      </span><span class="s1">unit: </span><span class="s3">\&quot;</span><span class="s1">em</span><span class="s3">\&quot;\n    </span><span class="s1">}; // sorta character sized.</span><span class="s3">\n\n    </span><span class="s1">var totalheight = {</span><span class="s3">\n      </span><span class="s1">number: 0,</span><span class="s3">\n      </span><span class="s1">unit: </span><span class="s3">\&quot;</span><span class="s1">em</span><span class="s3">\&quot;\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">var alt = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">if (optArgs[0]) {</span><span class="s3">\n      </span><span class="s1">var attributeStr = assertNodeType(optArgs[0], </span><span class="s3">\&quot;</span><span class="s1">raw</span><span class="s3">\&quot;</span><span class="s1">).string; // Parser.js does not parse key/value pairs. We get a string.</span><span class="s3">\n\n      </span><span class="s1">var attributes = attributeStr.split(</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n      </span><span class="s1">for (var i = 0; i &lt; attributes.length; i++) {</span><span class="s3">\n        </span><span class="s1">var keyVal = attributes[i].split(</span><span class="s3">\&quot;</span><span class="s1">=</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">if (keyVal.length === 2) {</span><span class="s3">\n          </span><span class="s1">var str = keyVal[1].trim();</span><span class="s3">\n\n          </span><span class="s1">switch (keyVal[0].trim()) {</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">alt</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n              </span><span class="s1">alt = str;</span><span class="s3">\n              </span><span class="s1">break;</span><span class="s3">\n\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n              </span><span class="s1">width = sizeData(str);</span><span class="s3">\n              </span><span class="s1">break;</span><span class="s3">\n\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n              </span><span class="s1">height = sizeData(str);</span><span class="s3">\n              </span><span class="s1">break;</span><span class="s3">\n\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">totalheight</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n              </span><span class="s1">totalheight = sizeData(str);</span><span class="s3">\n              </span><span class="s1">break;</span><span class="s3">\n\n            </span><span class="s1">default:</span><span class="s3">\n              </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Invalid key: '</span><span class="s3">\&quot; </span><span class="s1">+ keyVal[0] + </span><span class="s3">\&quot;</span><span class="s1">' in </span><span class="s3">\\\\</span><span class="s1">includegraphics.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var src = assertNodeType(args[0], </span><span class="s3">\&quot;</span><span class="s1">url</span><span class="s3">\&quot;</span><span class="s1">).url;</span><span class="s3">\n\n    </span><span class="s1">if (alt === </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// No alt given. Use the file name. Strip away the path.</span><span class="s3">\n      </span><span class="s1">alt = src;</span><span class="s3">\n      </span><span class="s1">alt = alt.replace(/^.*[</span><span class="s3">\\\\</span><span class="s1">/]/, '');</span><span class="s3">\n      </span><span class="s1">alt = alt.substring(0, alt.lastIndexOf('.'));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (!parser.settings.isTrusted({</span><span class="s3">\n      </span><span class="s1">command: </span><span class="s3">\&quot;\\\\</span><span class="s1">includegraphics</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">url: src</span><span class="s3">\n    </span><span class="s1">})) {</span><span class="s3">\n      </span><span class="s1">return parser.formatUnsupportedCmd(</span><span class="s3">\&quot;\\\\</span><span class="s1">includegraphics</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">includegraphics</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">alt: alt,</span><span class="s3">\n      </span><span class="s1">width: width,</span><span class="s3">\n      </span><span class="s1">height: height,</span><span class="s3">\n      </span><span class="s1">totalheight: totalheight,</span><span class="s3">\n      </span><span class="s1">src: src</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">var height = calculateSize(group.height, options);</span><span class="s3">\n    </span><span class="s1">var depth = 0;</span><span class="s3">\n\n    </span><span class="s1">if (group.totalheight.number &gt; 0) {</span><span class="s3">\n      </span><span class="s1">depth = calculateSize(group.totalheight, options) - height;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var width = 0;</span><span class="s3">\n\n    </span><span class="s1">if (group.width.number &gt; 0) {</span><span class="s3">\n      </span><span class="s1">width = calculateSize(group.width, options);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var style = {</span><span class="s3">\n      </span><span class="s1">height: makeEm(height + depth)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n\n    </span><span class="s1">if (width &gt; 0) {</span><span class="s3">\n      </span><span class="s1">style.width = makeEm(width);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (depth &gt; 0) {</span><span class="s3">\n      </span><span class="s1">style.verticalAlign = makeEm(-depth);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var node = new Img(group.src, group.alt, style);</span><span class="s3">\n    </span><span class="s1">node.height = height;</span><span class="s3">\n    </span><span class="s1">node.depth = depth;</span><span class="s3">\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mglyph</span><span class="s3">\&quot;</span><span class="s1">, []);</span><span class="s3">\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">alt</span><span class="s3">\&quot;</span><span class="s1">, group.alt);</span><span class="s3">\n    </span><span class="s1">var height = calculateSize(group.height, options);</span><span class="s3">\n    </span><span class="s1">var depth = 0;</span><span class="s3">\n\n    </span><span class="s1">if (group.totalheight.number &gt; 0) {</span><span class="s3">\n      </span><span class="s1">depth = calculateSize(group.totalheight, options) - height;</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">valign</span><span class="s3">\&quot;</span><span class="s1">, makeEm(-depth));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, makeEm(height + depth));</span><span class="s3">\n\n    </span><span class="s1">if (group.width.number &gt; 0) {</span><span class="s3">\n      </span><span class="s1">var width = calculateSize(group.width, options);</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, makeEm(width));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">src</span><span class="s3">\&quot;</span><span class="s1">, group.src);</span><span class="s3">\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">// Horizontal spacing commands</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mkern</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">hskip</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mskip</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">primitive: true,</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var size = assertNodeType(args[0], </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">if (parser.settings.strict) {</span><span class="s3">\n      </span><span class="s1">var mathFunction = funcName[1] === 'm'; // </span><span class="s3">\\</span><span class="s1">mkern, </span><span class="s3">\\</span><span class="s1">mskip</span><span class="s3">\n\n      </span><span class="s1">var muUnit = size.value.unit === 'mu';</span><span class="s3">\n\n      </span><span class="s1">if (mathFunction) {</span><span class="s3">\n        </span><span class="s1">if (!muUnit) {</span><span class="s3">\n          </span><span class="s1">parser.settings.reportNonstrict(</span><span class="s3">\&quot;</span><span class="s1">mathVsTextUnits</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">LaTeX's </span><span class="s3">\&quot; </span><span class="s1">+ funcName + </span><span class="s3">\&quot; </span><span class="s1">supports only mu units, </span><span class="s3">\&quot; </span><span class="s1">+ (</span><span class="s3">\&quot;</span><span class="s1">not </span><span class="s3">\&quot; </span><span class="s1">+ size.value.unit + </span><span class="s3">\&quot; </span><span class="s1">units</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">if (parser.mode !== </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">parser.settings.reportNonstrict(</span><span class="s3">\&quot;</span><span class="s1">mathVsTextUnits</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">LaTeX's </span><span class="s3">\&quot; </span><span class="s1">+ funcName + </span><span class="s3">\&quot; </span><span class="s1">works only in math mode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">// !mathFunction</span><span class="s3">\n        </span><span class="s1">if (muUnit) {</span><span class="s3">\n          </span><span class="s1">parser.settings.reportNonstrict(</span><span class="s3">\&quot;</span><span class="s1">mathVsTextUnits</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">LaTeX's </span><span class="s3">\&quot; </span><span class="s1">+ funcName + </span><span class="s3">\&quot; </span><span class="s1">doesn't support mu units</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">dimension: size.value</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeGlue(group.dimension, options);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var dimension = calculateSize(group.dimension, options);</span><span class="s3">\n    </span><span class="s1">return new mathMLTree.SpaceNode(dimension);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">// Horizontal overlap functions</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">lap</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">mathllap</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrlap</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathclap</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var body = args[0];</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">lap</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">alignment: funcName.slice(5),</span><span class="s3">\n      </span><span class="s1">body</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">// mathllap, mathrlap, mathclap</span><span class="s3">\n    </span><span class="s1">var inner;</span><span class="s3">\n\n    </span><span class="s1">if (group.alignment === </span><span class="s3">\&quot;</span><span class="s1">clap</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// ref: https://www.math.lsu.edu/~aperlis/publications/mathclap/</span><span class="s3">\n      </span><span class="s1">inner = buildCommon.makeSpan([], [buildGroup$1(group.body, options)]); // wrap, since CSS will center a .clap &gt; .inner &gt; span</span><span class="s3">\n\n      </span><span class="s1">inner = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">inner</span><span class="s3">\&quot;</span><span class="s1">], [inner], options);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">inner = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">inner</span><span class="s3">\&quot;</span><span class="s1">], [buildGroup$1(group.body, options)]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var fix = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">fix</span><span class="s3">\&quot;</span><span class="s1">], []);</span><span class="s3">\n    </span><span class="s1">var node = buildCommon.makeSpan([group.alignment], [inner, fix], options); // At this point, we have correctly set horizontal alignment of the</span><span class="s3">\n    </span><span class="s1">// two items involved in the lap.</span><span class="s3">\n    </span><span class="s1">// Next, use a strut to set the height of the HTML bounding box.</span><span class="s3">\n    </span><span class="s1">// Otherwise, a tall argument may be misplaced.</span><span class="s3">\n    </span><span class="s1">// This code resolved issue #1153</span><span class="s3">\n\n    </span><span class="s1">var strut = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">strut</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n    </span><span class="s1">strut.style.height = makeEm(node.height + node.depth);</span><span class="s3">\n\n    </span><span class="s1">if (node.depth) {</span><span class="s3">\n      </span><span class="s1">strut.style.verticalAlign = makeEm(-node.depth);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">node.children.unshift(strut); // Next, prevent vertical misplacement when next to something tall.</span><span class="s3">\n    </span><span class="s1">// This code resolves issue #1234</span><span class="s3">\n\n    </span><span class="s1">node = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">thinbox</span><span class="s3">\&quot;</span><span class="s1">], [node], options);</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">vbox</span><span class="s3">\&quot;</span><span class="s1">], [node], options);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">// mathllap, mathrlap, mathclap</span><span class="s3">\n    </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mpadded</span><span class="s3">\&quot;</span><span class="s1">, [buildGroup(group.body, options)]);</span><span class="s3">\n\n    </span><span class="s1">if (group.alignment !== </span><span class="s3">\&quot;</span><span class="s1">rlap</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">var offset = group.alignment === </span><span class="s3">\&quot;</span><span class="s1">llap</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">-0.5</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">lspace</span><span class="s3">\&quot;</span><span class="s1">, offset + </span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0px</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">styling</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">(</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">$</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0,</span><span class="s3">\n    </span><span class="s1">allowedInText: true,</span><span class="s3">\n    </span><span class="s1">allowedInMath: false</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">funcName,</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var outerMode = parser.mode;</span><span class="s3">\n    </span><span class="s1">parser.switchMode(</span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">var close = funcName === </span><span class="s3">\&quot;\\\\</span><span class="s1">(</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;\\\\</span><span class="s1">)</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">$</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">var body = parser.parseExpression(false, close);</span><span class="s3">\n    </span><span class="s1">parser.expect(close);</span><span class="s3">\n    </span><span class="s1">parser.switchMode(outerMode);</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">styling</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">style: </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">body</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}); // Check for extra closing math delimiters</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">// Doesn't matter what this is.</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">]</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0,</span><span class="s3">\n    </span><span class="s1">allowedInText: true,</span><span class="s3">\n    </span><span class="s1">allowedInMath: false</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(context, args) {</span><span class="s3">\n    </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Mismatched </span><span class="s3">\&quot; </span><span class="s1">+ context.funcName);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">var chooseMathStyle = (group, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">switch (options.style.size) {</span><span class="s3">\n    </span><span class="s1">case Style$1.DISPLAY.size:</span><span class="s3">\n      </span><span class="s1">return group.display;</span><span class="s3">\n\n    </span><span class="s1">case Style$1.TEXT.size:</span><span class="s3">\n      </span><span class="s1">return group.text;</span><span class="s3">\n\n    </span><span class="s1">case Style$1.SCRIPT.size:</span><span class="s3">\n      </span><span class="s1">return group.script;</span><span class="s3">\n\n    </span><span class="s1">case Style$1.SCRIPTSCRIPT.size:</span><span class="s3">\n      </span><span class="s1">return group.scriptscript;</span><span class="s3">\n\n    </span><span class="s1">default:</span><span class="s3">\n      </span><span class="s1">return group.text;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">mathchoice</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">mathchoice</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 4,</span><span class="s3">\n    </span><span class="s1">primitive: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">mathchoice</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">display: ordargument(args[0]),</span><span class="s3">\n      </span><span class="s1">text: ordargument(args[1]),</span><span class="s3">\n      </span><span class="s1">script: ordargument(args[2]),</span><span class="s3">\n      </span><span class="s1">scriptscript: ordargument(args[3])</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">var body = chooseMathStyle(group, options);</span><span class="s3">\n    </span><span class="s1">var elements = buildExpression$1(body, options, false);</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeFragment(elements);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">var body = chooseMathStyle(group, options);</span><span class="s3">\n    </span><span class="s1">return buildExpressionRow(body, options);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">var assembleSupSub = (base, supGroup, subGroup, options, style, slant, baseShift) =&gt; {</span><span class="s3">\n  </span><span class="s1">base = buildCommon.makeSpan([], [base]);</span><span class="s3">\n  </span><span class="s1">var subIsSingleCharacter = subGroup &amp;&amp; utils.isCharacterBox(subGroup);</span><span class="s3">\n  </span><span class="s1">var sub;</span><span class="s3">\n  </span><span class="s1">var sup; // We manually have to handle the superscripts and subscripts. This,</span><span class="s3">\n  </span><span class="s1">// aside from the kern calculations, is copied from supsub.</span><span class="s3">\n\n  </span><span class="s1">if (supGroup) {</span><span class="s3">\n    </span><span class="s1">var elem = buildGroup$1(supGroup, options.havingStyle(style.sup()), options);</span><span class="s3">\n    </span><span class="s1">sup = {</span><span class="s3">\n      </span><span class="s1">elem,</span><span class="s3">\n      </span><span class="s1">kern: Math.max(options.fontMetrics().bigOpSpacing1, options.fontMetrics().bigOpSpacing3 - elem.depth)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (subGroup) {</span><span class="s3">\n    </span><span class="s1">var _elem = buildGroup$1(subGroup, options.havingStyle(style.sub()), options);</span><span class="s3">\n\n    </span><span class="s1">sub = {</span><span class="s3">\n      </span><span class="s1">elem: _elem,</span><span class="s3">\n      </span><span class="s1">kern: Math.max(options.fontMetrics().bigOpSpacing2, options.fontMetrics().bigOpSpacing4 - _elem.height)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">} // Build the final group as a vlist of the possible subscript, base,</span><span class="s3">\n  </span><span class="s1">// and possible superscript.</span><span class="s3">\n\n\n  </span><span class="s1">var finalGroup;</span><span class="s3">\n\n  </span><span class="s1">if (sup &amp;&amp; sub) {</span><span class="s3">\n    </span><span class="s1">var bottom = options.fontMetrics().bigOpSpacing5 + sub.elem.height + sub.elem.depth + sub.kern + base.depth + baseShift;</span><span class="s3">\n    </span><span class="s1">finalGroup = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">bottom</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">positionData: bottom,</span><span class="s3">\n      </span><span class="s1">children: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">size: options.fontMetrics().bigOpSpacing5</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: sub.elem,</span><span class="s3">\n        </span><span class="s1">marginLeft: makeEm(-slant)</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">size: sub.kern</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: base</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">size: sup.kern</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: sup.elem,</span><span class="s3">\n        </span><span class="s1">marginLeft: makeEm(slant)</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">size: options.fontMetrics().bigOpSpacing5</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">}, options);</span><span class="s3">\n  </span><span class="s1">} else if (sub) {</span><span class="s3">\n    </span><span class="s1">var top = base.height - baseShift; // Shift the limits by the slant of the symbol. Note</span><span class="s3">\n    </span><span class="s1">// that we are supposed to shift the limits by 1/2 of the slant,</span><span class="s3">\n    </span><span class="s1">// but since we are centering the limits adding a full slant of</span><span class="s3">\n    </span><span class="s1">// margin will shift by 1/2 that.</span><span class="s3">\n\n    </span><span class="s1">finalGroup = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">top</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">positionData: top,</span><span class="s3">\n      </span><span class="s1">children: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">size: options.fontMetrics().bigOpSpacing5</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: sub.elem,</span><span class="s3">\n        </span><span class="s1">marginLeft: makeEm(-slant)</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">size: sub.kern</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: base</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">}, options);</span><span class="s3">\n  </span><span class="s1">} else if (sup) {</span><span class="s3">\n    </span><span class="s1">var _bottom = base.depth + baseShift;</span><span class="s3">\n\n    </span><span class="s1">finalGroup = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">bottom</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">positionData: _bottom,</span><span class="s3">\n      </span><span class="s1">children: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: base</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">size: sup.kern</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: sup.elem,</span><span class="s3">\n        </span><span class="s1">marginLeft: makeEm(slant)</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">size: options.fontMetrics().bigOpSpacing5</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">}, options);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">// This case probably shouldn't occur (this would mean the</span><span class="s3">\n    </span><span class="s1">// supsub was sending us a group with no superscript or</span><span class="s3">\n    </span><span class="s1">// subscript) but be safe.</span><span class="s3">\n    </span><span class="s1">return base;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var parts = [finalGroup];</span><span class="s3">\n\n  </span><span class="s1">if (sub &amp;&amp; slant !== 0 &amp;&amp; !subIsSingleCharacter) {</span><span class="s3">\n    </span><span class="s1">// A negative margin-left was applied to the lower limit.</span><span class="s3">\n    </span><span class="s1">// Avoid an overlap by placing a spacer on the left on the group.</span><span class="s3">\n    </span><span class="s1">var spacer = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mspace</span><span class="s3">\&quot;</span><span class="s1">], [], options);</span><span class="s3">\n    </span><span class="s1">spacer.style.marginRight = makeEm(slant);</span><span class="s3">\n    </span><span class="s1">parts.unshift(spacer);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mop</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">op-limits</span><span class="s3">\&quot;</span><span class="s1">], parts, options);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// Limits, symbols</span><span class="s3">\n</span><span class="s1">// Most operators have a large successor symbol, but these don't.</span><span class="s3">\n</span><span class="s1">var noSuccessor = [</span><span class="s3">\&quot;\\\\</span><span class="s1">smallint</span><span class="s3">\&quot;</span><span class="s1">]; // NOTE: Unlike most `htmlBuilder`s, this one handles not only </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot;</span><span class="s1">, but also</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\&quot;</span><span class="s1">supsub</span><span class="s3">\&quot; </span><span class="s1">since some of them (like </span><span class="s3">\\</span><span class="s1">int) can affect super/subscripting.</span><span class="s3">\n\n</span><span class="s1">var htmlBuilder$2 = (grp, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">// Operators are handled in the TeXbook pg. 443-444, rule 13(a).</span><span class="s3">\n  </span><span class="s1">var supGroup;</span><span class="s3">\n  </span><span class="s1">var subGroup;</span><span class="s3">\n  </span><span class="s1">var hasLimits = false;</span><span class="s3">\n  </span><span class="s1">var group;</span><span class="s3">\n\n  </span><span class="s1">if (grp.type === </span><span class="s3">\&quot;</span><span class="s1">supsub</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">// If we have limits, supsub will pass us its group to handle. Pull</span><span class="s3">\n    </span><span class="s1">// out the superscript and subscript and set the group to the op in</span><span class="s3">\n    </span><span class="s1">// its base.</span><span class="s3">\n    </span><span class="s1">supGroup = grp.sup;</span><span class="s3">\n    </span><span class="s1">subGroup = grp.sub;</span><span class="s3">\n    </span><span class="s1">group = assertNodeType(grp.base, </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">hasLimits = true;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">group = assertNodeType(grp, </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var style = options.style;</span><span class="s3">\n  </span><span class="s1">var large = false;</span><span class="s3">\n\n  </span><span class="s1">if (style.size === Style$1.DISPLAY.size &amp;&amp; group.symbol &amp;&amp; !utils.contains(noSuccessor, group.name)) {</span><span class="s3">\n    </span><span class="s1">// Most symbol operators get larger in displaystyle (rule 13)</span><span class="s3">\n    </span><span class="s1">large = true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var base;</span><span class="s3">\n\n  </span><span class="s1">if (group.symbol) {</span><span class="s3">\n    </span><span class="s1">// If this is a symbol, create the symbol.</span><span class="s3">\n    </span><span class="s1">var fontName = large ? </span><span class="s3">\&quot;</span><span class="s1">Size2-Regular</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Size1-Regular</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">var stash = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">if (group.name === </span><span class="s3">\&quot;\\\\</span><span class="s1">oiint</span><span class="s3">\&quot; </span><span class="s1">|| group.name === </span><span class="s3">\&quot;\\\\</span><span class="s1">oiiint</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// No font glyphs yet, so use a glyph w/o the oval.</span><span class="s3">\n      </span><span class="s1">// TODO: When font glyphs are available, delete this code.</span><span class="s3">\n      </span><span class="s1">stash = group.name.slice(1);</span><span class="s3">\n      </span><span class="s1">group.name = stash === </span><span class="s3">\&quot;</span><span class="s1">oiint</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;\\\\</span><span class="s1">iint</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">iiint</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">base = buildCommon.makeSymbol(group.name, fontName, </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">, options, [</span><span class="s3">\&quot;</span><span class="s1">mop</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">op-symbol</span><span class="s3">\&quot;</span><span class="s1">, large ? </span><span class="s3">\&quot;</span><span class="s1">large-op</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">small-op</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n\n    </span><span class="s1">if (stash.length &gt; 0) {</span><span class="s3">\n      </span><span class="s1">// We're in </span><span class="s3">\\</span><span class="s1">oiint or </span><span class="s3">\\</span><span class="s1">oiiint. Overlay the oval.</span><span class="s3">\n      </span><span class="s1">// TODO: When font glyphs are available, delete this code.</span><span class="s3">\n      </span><span class="s1">var italic = base.italic;</span><span class="s3">\n      </span><span class="s1">var oval = buildCommon.staticSvg(stash + </span><span class="s3">\&quot;</span><span class="s1">Size</span><span class="s3">\&quot; </span><span class="s1">+ (large ? </span><span class="s3">\&quot;</span><span class="s1">2</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">1</span><span class="s3">\&quot;</span><span class="s1">), options);</span><span class="s3">\n      </span><span class="s1">base = buildCommon.makeVList({</span><span class="s3">\n        </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">individualShift</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">children: [{</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">elem: base,</span><span class="s3">\n          </span><span class="s1">shift: 0</span><span class="s3">\n        </span><span class="s1">}, {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">elem: oval,</span><span class="s3">\n          </span><span class="s1">shift: large ? 0.08 : 0</span><span class="s3">\n        </span><span class="s1">}]</span><span class="s3">\n      </span><span class="s1">}, options);</span><span class="s3">\n      </span><span class="s1">group.name = </span><span class="s3">\&quot;\\\\\&quot; </span><span class="s1">+ stash;</span><span class="s3">\n      </span><span class="s1">base.classes.unshift(</span><span class="s3">\&quot;</span><span class="s1">mop</span><span class="s3">\&quot;</span><span class="s1">); // $FlowFixMe</span><span class="s3">\n\n      </span><span class="s1">base.italic = italic;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else if (group.body) {</span><span class="s3">\n    </span><span class="s1">// If this is a list, compose that list.</span><span class="s3">\n    </span><span class="s1">var inner = buildExpression$1(group.body, options, true);</span><span class="s3">\n\n    </span><span class="s1">if (inner.length === 1 &amp;&amp; inner[0] instanceof SymbolNode) {</span><span class="s3">\n      </span><span class="s1">base = inner[0];</span><span class="s3">\n      </span><span class="s1">base.classes[0] = </span><span class="s3">\&quot;</span><span class="s1">mop</span><span class="s3">\&quot;</span><span class="s1">; // replace old mclass</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">base = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mop</span><span class="s3">\&quot;</span><span class="s1">], inner, options);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">// Otherwise, this is a text operator. Build the text from the</span><span class="s3">\n    </span><span class="s1">// operator's name.</span><span class="s3">\n    </span><span class="s1">var output = [];</span><span class="s3">\n\n    </span><span class="s1">for (var i = 1; i &lt; group.name.length; i++) {</span><span class="s3">\n      </span><span class="s1">output.push(buildCommon.mathsym(group.name[i], group.mode, options));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">base = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mop</span><span class="s3">\&quot;</span><span class="s1">], output, options);</span><span class="s3">\n  </span><span class="s1">} // If content of op is a single symbol, shift it vertically.</span><span class="s3">\n\n\n  </span><span class="s1">var baseShift = 0;</span><span class="s3">\n  </span><span class="s1">var slant = 0;</span><span class="s3">\n\n  </span><span class="s1">if ((base instanceof SymbolNode || group.name === </span><span class="s3">\&quot;\\\\</span><span class="s1">oiint</span><span class="s3">\&quot; </span><span class="s1">|| group.name === </span><span class="s3">\&quot;\\\\</span><span class="s1">oiiint</span><span class="s3">\&quot;</span><span class="s1">) &amp;&amp; !group.suppressBaseShift) {</span><span class="s3">\n    </span><span class="s1">// We suppress the shift of the base of </span><span class="s3">\\</span><span class="s1">overset and </span><span class="s3">\\</span><span class="s1">underset. Otherwise,</span><span class="s3">\n    </span><span class="s1">// shift the symbol so its center lies on the axis (rule 13). It</span><span class="s3">\n    </span><span class="s1">// appears that our fonts have the centers of the symbols already</span><span class="s3">\n    </span><span class="s1">// almost on the axis, so these numbers are very small. Note we</span><span class="s3">\n    </span><span class="s1">// don't actually apply this here, but instead it is used either in</span><span class="s3">\n    </span><span class="s1">// the vlist creation or separately when there are no limits.</span><span class="s3">\n    </span><span class="s1">baseShift = (base.height - base.depth) / 2 - options.fontMetrics().axisHeight; // The slant of the symbol is just its italic correction.</span><span class="s3">\n    </span><span class="s1">// $FlowFixMe</span><span class="s3">\n\n    </span><span class="s1">slant = base.italic;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (hasLimits) {</span><span class="s3">\n    </span><span class="s1">return assembleSupSub(base, supGroup, subGroup, options, style, slant, baseShift);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">if (baseShift) {</span><span class="s3">\n      </span><span class="s1">base.style.position = </span><span class="s3">\&quot;</span><span class="s1">relative</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">base.style.top = makeEm(baseShift);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return base;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var mathmlBuilder$1 = (group, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">var node;</span><span class="s3">\n\n  </span><span class="s1">if (group.symbol) {</span><span class="s3">\n    </span><span class="s1">// This is a symbol. Just add the symbol.</span><span class="s3">\n    </span><span class="s1">node = new MathNode(</span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">, [makeText(group.name, group.mode)]);</span><span class="s3">\n\n    </span><span class="s1">if (utils.contains(noSuccessor, group.name)) {</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">largeop</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else if (group.body) {</span><span class="s3">\n    </span><span class="s1">// This is an operator with children. Add them.</span><span class="s3">\n    </span><span class="s1">node = new MathNode(</span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">, buildExpression(group.body, options));</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">// This is a text operator. Add all of the characters from the</span><span class="s3">\n    </span><span class="s1">// operator's name.</span><span class="s3">\n    </span><span class="s1">node = new MathNode(</span><span class="s3">\&quot;</span><span class="s1">mi</span><span class="s3">\&quot;</span><span class="s1">, [new TextNode(group.name.slice(1))]); // Append an &lt;mo&gt;&amp;ApplyFunction;&lt;/mo&gt;.</span><span class="s3">\n    </span><span class="s1">// ref: https://www.w3.org/TR/REC-MathML/chap3_2.html#sec3.2.4</span><span class="s3">\n\n    </span><span class="s1">var operator = new MathNode(</span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">, [makeText(</span><span class="s3">\&quot;\\</span><span class="s1">u2061</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">)]);</span><span class="s3">\n\n    </span><span class="s1">if (group.parentIsSupSub) {</span><span class="s3">\n      </span><span class="s1">node = new MathNode(</span><span class="s3">\&quot;</span><span class="s1">mrow</span><span class="s3">\&quot;</span><span class="s1">, [node, operator]);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">node = newDocumentFragment([node, operator]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return node;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var singleCharBigOps = {</span><span class="s3">\n  \&quot;\\</span><span class="s1">u220F</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">prod</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\</span><span class="s1">u2210</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">coprod</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\</span><span class="s1">u2211</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">sum</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\</span><span class="s1">u22c0</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">bigwedge</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\</span><span class="s1">u22c1</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">bigvee</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\</span><span class="s1">u22c2</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">bigcap</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\</span><span class="s1">u22c3</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">bigcup</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\</span><span class="s1">u2a00</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">bigodot</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\</span><span class="s1">u2a01</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">bigoplus</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\</span><span class="s1">u2a02</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">bigotimes</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\</span><span class="s1">u2a04</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">biguplus</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\</span><span class="s1">u2a06</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">bigsqcup</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">coprod</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigvee</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigwedge</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">biguplus</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigcap</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigcup</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">intop</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">prod</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sum</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigotimes</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigoplus</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigodot</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bigsqcup</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">smallint</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u220F</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2210</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2211</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u22c0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u22c1</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u22c2</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u22c3</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2a00</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2a01</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2a02</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2a04</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2a06</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var fName = funcName;</span><span class="s3">\n\n    </span><span class="s1">if (fName.length === 1) {</span><span class="s3">\n      </span><span class="s1">fName = singleCharBigOps[fName];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">limits: true,</span><span class="s3">\n      </span><span class="s1">parentIsSupSub: false,</span><span class="s3">\n      </span><span class="s1">symbol: true,</span><span class="s3">\n      </span><span class="s1">name: fName</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: htmlBuilder$2,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$1</span><span class="s3">\n</span><span class="s1">}); // Note: calling defineFunction with a type that's already been defined only</span><span class="s3">\n</span><span class="s1">// works because the same htmlBuilder and mathmlBuilder are being used.</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">mathop</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">primitive: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref2, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref2;</span><span class="s3">\n    </span><span class="s1">var body = args[0];</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">limits: false,</span><span class="s3">\n      </span><span class="s1">parentIsSupSub: false,</span><span class="s3">\n      </span><span class="s1">symbol: false,</span><span class="s3">\n      </span><span class="s1">body: ordargument(body)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: htmlBuilder$2,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$1</span><span class="s3">\n</span><span class="s1">}); // There are 2 flags for operators; whether they produce limits in</span><span class="s3">\n</span><span class="s1">// displaystyle, and whether they are symbols and should grow in</span><span class="s3">\n</span><span class="s1">// displaystyle. These four groups cover the four possible choices.</span><span class="s3">\n\n</span><span class="s1">var singleCharIntegrals = {</span><span class="s3">\n  \&quot;\\</span><span class="s1">u222b</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">int</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\</span><span class="s1">u222c</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">iint</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\</span><span class="s1">u222d</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">iiint</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\</span><span class="s1">u222e</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">oint</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\</span><span class="s1">u222f</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">oiint</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\</span><span class="s1">u2230</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">oiiint</span><span class="s3">\&quot;\n</span><span class="s1">}; // No limits, not symbols</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">arcsin</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">arccos</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">arctan</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">arctg</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">arcctg</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">arg</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ch</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">cos</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">cosec</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">cosh</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">cot</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">cotg</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">coth</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">csc</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ctg</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">cth</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">deg</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">dim</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">exp</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">hom</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ker</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lg</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ln</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">log</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sec</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sin</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sinh</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sh</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">tan</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">tanh</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">tg</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">th</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref3) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref3;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">limits: false,</span><span class="s3">\n      </span><span class="s1">parentIsSupSub: false,</span><span class="s3">\n      </span><span class="s1">symbol: false,</span><span class="s3">\n      </span><span class="s1">name: funcName</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$2,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$1</span><span class="s3">\n</span><span class="s1">}); // Limits, not symbols</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">det</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">gcd</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">inf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lim</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">max</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">min</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Pr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sup</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref4) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref4;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">limits: true,</span><span class="s3">\n      </span><span class="s1">parentIsSupSub: false,</span><span class="s3">\n      </span><span class="s1">symbol: false,</span><span class="s3">\n      </span><span class="s1">name: funcName</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$2,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$1</span><span class="s3">\n</span><span class="s1">}); // No limits, symbols</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">int</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">iint</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">iiint</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">oint</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">oiint</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">oiiint</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u222b</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u222c</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u222d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u222e</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u222f</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\</span><span class="s1">u2230</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref5) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref5;</span><span class="s3">\n    </span><span class="s1">var fName = funcName;</span><span class="s3">\n\n    </span><span class="s1">if (fName.length === 1) {</span><span class="s3">\n      </span><span class="s1">fName = singleCharIntegrals[fName];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">limits: false,</span><span class="s3">\n      </span><span class="s1">parentIsSupSub: false,</span><span class="s3">\n      </span><span class="s1">symbol: true,</span><span class="s3">\n      </span><span class="s1">name: fName</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder: htmlBuilder$2,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: mathmlBuilder$1</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">// NOTE: Unlike most `htmlBuilder`s, this one handles not only</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\&quot;</span><span class="s1">operatorname</span><span class="s3">\&quot;</span><span class="s1">, but also  </span><span class="s3">\&quot;</span><span class="s1">supsub</span><span class="s3">\&quot; </span><span class="s1">since </span><span class="s3">\\</span><span class="s1">operatorname* can</span><span class="s3">\n</span><span class="s1">// affect super/subscripting.</span><span class="s3">\n</span><span class="s1">var htmlBuilder$1 = (grp, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">// Operators are handled in the TeXbook pg. 443-444, rule 13(a).</span><span class="s3">\n  </span><span class="s1">var supGroup;</span><span class="s3">\n  </span><span class="s1">var subGroup;</span><span class="s3">\n  </span><span class="s1">var hasLimits = false;</span><span class="s3">\n  </span><span class="s1">var group;</span><span class="s3">\n\n  </span><span class="s1">if (grp.type === </span><span class="s3">\&quot;</span><span class="s1">supsub</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">// If we have limits, supsub will pass us its group to handle. Pull</span><span class="s3">\n    </span><span class="s1">// out the superscript and subscript and set the group to the op in</span><span class="s3">\n    </span><span class="s1">// its base.</span><span class="s3">\n    </span><span class="s1">supGroup = grp.sup;</span><span class="s3">\n    </span><span class="s1">subGroup = grp.sub;</span><span class="s3">\n    </span><span class="s1">group = assertNodeType(grp.base, </span><span class="s3">\&quot;</span><span class="s1">operatorname</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">hasLimits = true;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">group = assertNodeType(grp, </span><span class="s3">\&quot;</span><span class="s1">operatorname</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var base;</span><span class="s3">\n\n  </span><span class="s1">if (group.body.length &gt; 0) {</span><span class="s3">\n    </span><span class="s1">var body = group.body.map(child =&gt; {</span><span class="s3">\n      </span><span class="s1">// $FlowFixMe: Check if the node has a string `text` property.</span><span class="s3">\n      </span><span class="s1">var childText = child.text;</span><span class="s3">\n\n      </span><span class="s1">if (typeof childText === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">mode: child.mode,</span><span class="s3">\n          </span><span class="s1">text: childText</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">return child;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}); // Consolidate function names into symbol characters.</span><span class="s3">\n\n    </span><span class="s1">var expression = buildExpression$1(body, options.withFont(</span><span class="s3">\&quot;</span><span class="s1">mathrm</span><span class="s3">\&quot;</span><span class="s1">), true);</span><span class="s3">\n\n    </span><span class="s1">for (var i = 0; i &lt; expression.length; i++) {</span><span class="s3">\n      </span><span class="s1">var child = expression[i];</span><span class="s3">\n\n      </span><span class="s1">if (child instanceof SymbolNode) {</span><span class="s3">\n        </span><span class="s1">// Per amsopn package,</span><span class="s3">\n        </span><span class="s1">// change minus to hyphen and </span><span class="s3">\\</span><span class="s1">ast to asterisk</span><span class="s3">\n        </span><span class="s1">child.text = child.text.replace(/</span><span class="s3">\\</span><span class="s1">u2212/, </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">).replace(/</span><span class="s3">\\</span><span class="s1">u2217/, </span><span class="s3">\&quot;</span><span class="s1">*</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">base = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mop</span><span class="s3">\&quot;</span><span class="s1">], expression, options);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">base = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mop</span><span class="s3">\&quot;</span><span class="s1">], [], options);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (hasLimits) {</span><span class="s3">\n    </span><span class="s1">return assembleSupSub(base, supGroup, subGroup, options, options.style, 0, 0);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return base;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var mathmlBuilder = (group, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">// The steps taken here are similar to the html version.</span><span class="s3">\n  </span><span class="s1">var expression = buildExpression(group.body, options.withFont(</span><span class="s3">\&quot;</span><span class="s1">mathrm</span><span class="s3">\&quot;</span><span class="s1">)); // Is expression a string or has it something like a fraction?</span><span class="s3">\n\n  </span><span class="s1">var isAllString = true; // default</span><span class="s3">\n\n  </span><span class="s1">for (var i = 0; i &lt; expression.length; i++) {</span><span class="s3">\n    </span><span class="s1">var node = expression[i];</span><span class="s3">\n\n    </span><span class="s1">if (node instanceof mathMLTree.SpaceNode) ; else if (node instanceof mathMLTree.MathNode) {</span><span class="s3">\n      </span><span class="s1">switch (node.type) {</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">mi</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">mn</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">ms</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">mspace</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">mtext</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">// Do nothing yet.</span><span class="s3">\n\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n          </span><span class="s1">{</span><span class="s3">\n            </span><span class="s1">var child = node.children[0];</span><span class="s3">\n\n            </span><span class="s1">if (node.children.length === 1 &amp;&amp; child instanceof mathMLTree.TextNode) {</span><span class="s3">\n              </span><span class="s1">child.text = child.text.replace(/</span><span class="s3">\\</span><span class="s1">u2212/, </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">).replace(/</span><span class="s3">\\</span><span class="s1">u2217/, </span><span class="s3">\&quot;</span><span class="s1">*</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">} else {</span><span class="s3">\n              </span><span class="s1">isAllString = false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">default:</span><span class="s3">\n          </span><span class="s1">isAllString = false;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">isAllString = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (isAllString) {</span><span class="s3">\n    </span><span class="s1">// Write a single TextNode instead of multiple nested tags.</span><span class="s3">\n    </span><span class="s1">var word = expression.map(node =&gt; node.toText()).join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">expression = [new mathMLTree.TextNode(word)];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var identifier = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mi</span><span class="s3">\&quot;</span><span class="s1">, expression);</span><span class="s3">\n  </span><span class="s1">identifier.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">mathvariant</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">u2061 is the same as &amp;ApplyFunction;</span><span class="s3">\n  </span><span class="s1">// ref: https://www.w3schools.com/charsets/ref_html_entities_a.asp</span><span class="s3">\n\n  </span><span class="s1">var operator = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">, [makeText(</span><span class="s3">\&quot;\\</span><span class="s1">u2061</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">)]);</span><span class="s3">\n\n  </span><span class="s1">if (group.parentIsSupSub) {</span><span class="s3">\n    </span><span class="s1">return new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mrow</span><span class="s3">\&quot;</span><span class="s1">, [identifier, operator]);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return mathMLTree.newDocumentFragment([identifier, operator]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}; // </span><span class="s3">\\</span><span class="s1">operatorname</span><span class="s3">\n</span><span class="s1">// amsopn.dtx: </span><span class="s3">\\</span><span class="s1">mathop{#1</span><span class="s3">\\</span><span class="s1">kern</span><span class="s3">\\</span><span class="s1">z@</span><span class="s3">\\</span><span class="s1">operator@font#3}</span><span class="s3">\\</span><span class="s1">newmcodes@</span><span class="s3">\n\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">operatorname</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">operatorname@</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">operatornamewithlimits</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var body = args[0];</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">operatorname</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">body: ordargument(body),</span><span class="s3">\n      </span><span class="s1">alwaysHandleSupSub: funcName === </span><span class="s3">\&quot;\\\\</span><span class="s1">operatornamewithlimits</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">limits: false,</span><span class="s3">\n      </span><span class="s1">parentIsSupSub: false</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: htmlBuilder$1,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">operatorname</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@ifstar</span><span class="s3">\\\\</span><span class="s1">operatornamewithlimits</span><span class="s3">\\\\</span><span class="s1">operatorname@</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">defineFunctionBuilders({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">if (group.semisimple) {</span><span class="s3">\n      </span><span class="s1">return buildCommon.makeFragment(buildExpression$1(group.body, options, false));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">], buildExpression$1(group.body, options, true), options);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">return buildExpressionRow(group.body, options, true);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">overline</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">overline</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var body = args[0];</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">overline</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">body</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">// Overlines are handled in the TeXbook pg 443, Rule 9.</span><span class="s3">\n    </span><span class="s1">// Build the inner group in the cramped style.</span><span class="s3">\n    </span><span class="s1">var innerGroup = buildGroup$1(group.body, options.havingCrampedStyle()); // Create the line above the body</span><span class="s3">\n\n    </span><span class="s1">var line = buildCommon.makeLineSpan(</span><span class="s3">\&quot;</span><span class="s1">overline-line</span><span class="s3">\&quot;</span><span class="s1">, options); // Generate the vlist, with the appropriate kerns</span><span class="s3">\n\n    </span><span class="s1">var defaultRuleThickness = options.fontMetrics().defaultRuleThickness;</span><span class="s3">\n    </span><span class="s1">var vlist = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">firstBaseline</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">children: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: innerGroup</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">size: 3 * defaultRuleThickness</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: line</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">size: defaultRuleThickness</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">}, options);</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">overline</span><span class="s3">\&quot;</span><span class="s1">], [vlist], options);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var operator = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">, [new mathMLTree.TextNode(</span><span class="s3">\&quot;\\</span><span class="s1">u203e</span><span class="s3">\&quot;</span><span class="s1">)]);</span><span class="s3">\n    </span><span class="s1">operator.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">stretchy</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mover</span><span class="s3">\&quot;</span><span class="s1">, [buildGroup(group.body, options), operator]);</span><span class="s3">\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">accent</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">phantom</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">phantom</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var body = args[0];</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">phantom</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">body: ordargument(body)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">var elements = buildExpression$1(group.body, options.withPhantom(), false); // </span><span class="s3">\\</span><span class="s1">phantom isn't supposed to affect the elements it contains.</span><span class="s3">\n    </span><span class="s1">// See </span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot; </span><span class="s1">for more details.</span><span class="s3">\n\n    </span><span class="s1">return buildCommon.makeFragment(elements);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">var inner = buildExpression(group.body, options);</span><span class="s3">\n    </span><span class="s1">return new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mphantom</span><span class="s3">\&quot;</span><span class="s1">, inner);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">hphantom</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">hphantom</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref2, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref2;</span><span class="s3">\n    </span><span class="s1">var body = args[0];</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">hphantom</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">body</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">var node = buildCommon.makeSpan([], [buildGroup$1(group.body, options.withPhantom())]);</span><span class="s3">\n    </span><span class="s1">node.height = 0;</span><span class="s3">\n    </span><span class="s1">node.depth = 0;</span><span class="s3">\n\n    </span><span class="s1">if (node.children) {</span><span class="s3">\n      </span><span class="s1">for (var i = 0; i &lt; node.children.length; i++) {</span><span class="s3">\n        </span><span class="s1">node.children[i].height = 0;</span><span class="s3">\n        </span><span class="s1">node.children[i].depth = 0;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} // See smash for comment re: use of makeVList</span><span class="s3">\n\n\n    </span><span class="s1">node = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">firstBaseline</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">children: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: node</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">}, options); // For spacing, TeX treats </span><span class="s3">\\</span><span class="s1">smash as a math group (same spacing as ord).</span><span class="s3">\n\n    </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">], [node], options);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">var inner = buildExpression(ordargument(group.body), options);</span><span class="s3">\n    </span><span class="s1">var phantom = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mphantom</span><span class="s3">\&quot;</span><span class="s1">, inner);</span><span class="s3">\n    </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mpadded</span><span class="s3">\&quot;</span><span class="s1">, [phantom]);</span><span class="s3">\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0px</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">depth</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0px</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">vphantom</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">vphantom</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref3, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref3;</span><span class="s3">\n    </span><span class="s1">var body = args[0];</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">vphantom</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">body</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">var inner = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">inner</span><span class="s3">\&quot;</span><span class="s1">], [buildGroup$1(group.body, options.withPhantom())]);</span><span class="s3">\n    </span><span class="s1">var fix = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">fix</span><span class="s3">\&quot;</span><span class="s1">], []);</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rlap</span><span class="s3">\&quot;</span><span class="s1">], [inner, fix], options);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">var inner = buildExpression(ordargument(group.body), options);</span><span class="s3">\n    </span><span class="s1">var phantom = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mphantom</span><span class="s3">\&quot;</span><span class="s1">, inner);</span><span class="s3">\n    </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mpadded</span><span class="s3">\&quot;</span><span class="s1">, [phantom]);</span><span class="s3">\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0px</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">raisebox</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">raisebox</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 2,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">hbox</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var amount = assertNodeType(args[0], </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">).value;</span><span class="s3">\n    </span><span class="s1">var body = args[1];</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">raisebox</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">dy: amount,</span><span class="s3">\n      </span><span class="s1">body</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var body = buildGroup$1(group.body, options);</span><span class="s3">\n    </span><span class="s1">var dy = calculateSize(group.dy, options);</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">shift</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">positionData: -dy,</span><span class="s3">\n      </span><span class="s1">children: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: body</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">}, options);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mpadded</span><span class="s3">\&quot;</span><span class="s1">, [buildGroup(group.body, options)]);</span><span class="s3">\n    </span><span class="s1">var dy = group.dy.number + group.dy.unit;</span><span class="s3">\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">voffset</span><span class="s3">\&quot;</span><span class="s1">, dy);</span><span class="s3">\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">internal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">relax</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0,</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">internal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">rule</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">rule</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 2,</span><span class="s3">\n    </span><span class="s1">numOptionalArgs: 1,</span><span class="s3">\n    </span><span class="s1">allowedInText: true,</span><span class="s3">\n    </span><span class="s1">allowedInMath: true,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args, optArgs) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var shift = optArgs[0];</span><span class="s3">\n    </span><span class="s1">var width = assertNodeType(args[0], </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">var height = assertNodeType(args[1], </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">rule</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">shift: shift &amp;&amp; assertNodeType(shift, </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">).value,</span><span class="s3">\n      </span><span class="s1">width: width.value,</span><span class="s3">\n      </span><span class="s1">height: height.value</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">// Make an empty span for the rule</span><span class="s3">\n    </span><span class="s1">var rule = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rule</span><span class="s3">\&quot;</span><span class="s1">], [], options); // Calculate the shift, width, and height of the rule, and account for units</span><span class="s3">\n\n    </span><span class="s1">var width = calculateSize(group.width, options);</span><span class="s3">\n    </span><span class="s1">var height = calculateSize(group.height, options);</span><span class="s3">\n    </span><span class="s1">var shift = group.shift ? calculateSize(group.shift, options) : 0; // Style the rule to the right size</span><span class="s3">\n\n    </span><span class="s1">rule.style.borderRightWidth = makeEm(width);</span><span class="s3">\n    </span><span class="s1">rule.style.borderTopWidth = makeEm(height);</span><span class="s3">\n    </span><span class="s1">rule.style.bottom = makeEm(shift); // Record the height and width</span><span class="s3">\n\n    </span><span class="s1">rule.width = width;</span><span class="s3">\n    </span><span class="s1">rule.height = height + shift;</span><span class="s3">\n    </span><span class="s1">rule.depth = -shift; // Font size is the number large enough that the browser will</span><span class="s3">\n    </span><span class="s1">// reserve at least `absHeight` space above the baseline.</span><span class="s3">\n    </span><span class="s1">// The 1.125 factor was empirically determined</span><span class="s3">\n\n    </span><span class="s1">rule.maxFontSize = height * 1.125 * options.sizeMultiplier;</span><span class="s3">\n    </span><span class="s1">return rule;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var width = calculateSize(group.width, options);</span><span class="s3">\n    </span><span class="s1">var height = calculateSize(group.height, options);</span><span class="s3">\n    </span><span class="s1">var shift = group.shift ? calculateSize(group.shift, options) : 0;</span><span class="s3">\n    </span><span class="s1">var color = options.color &amp;&amp; options.getColor() || </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">var rule = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mspace</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">rule.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">mathbackground</span><span class="s3">\&quot;</span><span class="s1">, color);</span><span class="s3">\n    </span><span class="s1">rule.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, makeEm(width));</span><span class="s3">\n    </span><span class="s1">rule.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, makeEm(height));</span><span class="s3">\n    </span><span class="s1">var wrapper = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mpadded</span><span class="s3">\&quot;</span><span class="s1">, [rule]);</span><span class="s3">\n\n    </span><span class="s1">if (shift &gt;= 0) {</span><span class="s3">\n      </span><span class="s1">wrapper.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, makeEm(shift));</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">wrapper.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, makeEm(shift));</span><span class="s3">\n      </span><span class="s1">wrapper.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">depth</span><span class="s3">\&quot;</span><span class="s1">, makeEm(-shift));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">wrapper.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">voffset</span><span class="s3">\&quot;</span><span class="s1">, makeEm(shift));</span><span class="s3">\n    </span><span class="s1">return wrapper;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">function sizingGroup(value, options, baseOptions) {</span><span class="s3">\n  </span><span class="s1">var inner = buildExpression$1(value, options, false);</span><span class="s3">\n  </span><span class="s1">var multiplier = options.sizeMultiplier / baseOptions.sizeMultiplier; // Add size-resetting classes to the inner list and set maxFontSize</span><span class="s3">\n  </span><span class="s1">// manually. Handle nested size changes.</span><span class="s3">\n\n  </span><span class="s1">for (var i = 0; i &lt; inner.length; i++) {</span><span class="s3">\n    </span><span class="s1">var pos = inner[i].classes.indexOf(</span><span class="s3">\&quot;</span><span class="s1">sizing</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">if (pos &lt; 0) {</span><span class="s3">\n      </span><span class="s1">Array.prototype.push.apply(inner[i].classes, options.sizingClasses(baseOptions));</span><span class="s3">\n    </span><span class="s1">} else if (inner[i].classes[pos + 1] === </span><span class="s3">\&quot;</span><span class="s1">reset-size</span><span class="s3">\&quot; </span><span class="s1">+ options.size) {</span><span class="s3">\n      </span><span class="s1">// This is a nested size change: e.g., inner[i] is the </span><span class="s3">\&quot;</span><span class="s1">b</span><span class="s3">\&quot; </span><span class="s1">in</span><span class="s3">\n      </span><span class="s1">// `</span><span class="s3">\\</span><span class="s1">Huge a </span><span class="s3">\\</span><span class="s1">small b`. Override the old size (the `reset-` class)</span><span class="s3">\n      </span><span class="s1">// but not the new size.</span><span class="s3">\n      </span><span class="s1">inner[i].classes[pos + 1] = </span><span class="s3">\&quot;</span><span class="s1">reset-size</span><span class="s3">\&quot; </span><span class="s1">+ baseOptions.size;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">inner[i].height *= multiplier;</span><span class="s3">\n    </span><span class="s1">inner[i].depth *= multiplier;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return buildCommon.makeFragment(inner);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">var sizeFuncs = [</span><span class="s3">\&quot;\\\\</span><span class="s1">tiny</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">sixptsize</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">scriptsize</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">footnotesize</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">small</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">normalsize</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">large</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Large</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">LARGE</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">huge</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Huge</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">var htmlBuilder = (group, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">// Handle sizing operators like </span><span class="s3">\\</span><span class="s1">Huge. Real TeX doesn't actually allow</span><span class="s3">\n  </span><span class="s1">// these functions inside of math expressions, so we do some special</span><span class="s3">\n  </span><span class="s1">// handling.</span><span class="s3">\n  </span><span class="s1">var newOptions = options.havingSize(group.size);</span><span class="s3">\n  </span><span class="s1">return sizingGroup(group.body, newOptions, options);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">sizing</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: sizeFuncs,</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0,</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref, args) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">breakOnTokenText,</span><span class="s3">\n      </span><span class="s1">funcName,</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var body = parser.parseExpression(false, breakOnTokenText);</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">sizing</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">// Figure out what size to use based on the list of functions above</span><span class="s3">\n      </span><span class="s1">size: sizeFuncs.indexOf(funcName) + 1,</span><span class="s3">\n      </span><span class="s1">body</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder,</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">var newOptions = options.havingSize(group.size);</span><span class="s3">\n    </span><span class="s1">var inner = buildExpression(group.body, newOptions);</span><span class="s3">\n    </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mstyle</span><span class="s3">\&quot;</span><span class="s1">, inner); // TODO(emily): This doesn't produce the correct size for nested size</span><span class="s3">\n    </span><span class="s1">// changes, because we don't keep state of what style we're currently</span><span class="s3">\n    </span><span class="s1">// in, so we can't reset the size to normal before changing it.  Now</span><span class="s3">\n    </span><span class="s1">// that we're passing an options parameter we should be able to fix</span><span class="s3">\n    </span><span class="s1">// this.</span><span class="s3">\n\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">mathsize</span><span class="s3">\&quot;</span><span class="s1">, makeEm(newOptions.sizeMultiplier));</span><span class="s3">\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">// smash, with optional [tb], as in AMS</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">smash</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">smash</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">numOptionalArgs: 1,</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">handler: (_ref, args, optArgs) =&gt; {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var smashHeight = false;</span><span class="s3">\n    </span><span class="s1">var smashDepth = false;</span><span class="s3">\n    </span><span class="s1">var tbArg = optArgs[0] &amp;&amp; assertNodeType(optArgs[0], </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">if (tbArg) {</span><span class="s3">\n      </span><span class="s1">// Optional [tb] argument is engaged.</span><span class="s3">\n      </span><span class="s1">// ref: amsmath: </span><span class="s3">\\</span><span class="s1">renewcommand{</span><span class="s3">\\</span><span class="s1">smash}[1][tb]{%</span><span class="s3">\n      </span><span class="s1">//               def</span><span class="s3">\\</span><span class="s1">mb@t{</span><span class="s3">\\</span><span class="s1">ht}</span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">mb@b{</span><span class="s3">\\</span><span class="s1">dp}</span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">mb@tb{</span><span class="s3">\\</span><span class="s1">ht</span><span class="s3">\\</span><span class="s1">z@</span><span class="s3">\\</span><span class="s1">z@</span><span class="s3">\\</span><span class="s1">dp}%</span><span class="s3">\n      </span><span class="s1">var letter = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n      </span><span class="s1">for (var i = 0; i &lt; tbArg.body.length; ++i) {</span><span class="s3">\n        </span><span class="s1">var node = tbArg.body[i]; // $FlowFixMe: Not every node type has a `text` property.</span><span class="s3">\n\n        </span><span class="s1">letter = node.text;</span><span class="s3">\n\n        </span><span class="s1">if (letter === </span><span class="s3">\&quot;</span><span class="s1">t</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">smashHeight = true;</span><span class="s3">\n        </span><span class="s1">} else if (letter === </span><span class="s3">\&quot;</span><span class="s1">b</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">smashDepth = true;</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">smashHeight = false;</span><span class="s3">\n          </span><span class="s1">smashDepth = false;</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">smashHeight = true;</span><span class="s3">\n      </span><span class="s1">smashDepth = true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var body = args[0];</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">smash</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">body,</span><span class="s3">\n      </span><span class="s1">smashHeight,</span><span class="s3">\n      </span><span class="s1">smashDepth</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">htmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">var node = buildCommon.makeSpan([], [buildGroup$1(group.body, options)]);</span><span class="s3">\n\n    </span><span class="s1">if (!group.smashHeight &amp;&amp; !group.smashDepth) {</span><span class="s3">\n      </span><span class="s1">return node;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (group.smashHeight) {</span><span class="s3">\n      </span><span class="s1">node.height = 0; // In order to influence makeVList, we have to reset the children.</span><span class="s3">\n\n      </span><span class="s1">if (node.children) {</span><span class="s3">\n        </span><span class="s1">for (var i = 0; i &lt; node.children.length; i++) {</span><span class="s3">\n          </span><span class="s1">node.children[i].height = 0;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (group.smashDepth) {</span><span class="s3">\n      </span><span class="s1">node.depth = 0;</span><span class="s3">\n\n      </span><span class="s1">if (node.children) {</span><span class="s3">\n        </span><span class="s1">for (var _i = 0; _i &lt; node.children.length; _i++) {</span><span class="s3">\n          </span><span class="s1">node.children[_i].depth = 0;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} // At this point, we've reset the TeX-like height and depth values.</span><span class="s3">\n    </span><span class="s1">// But the span still has an HTML line height.</span><span class="s3">\n    </span><span class="s1">// makeVList applies </span><span class="s3">\&quot;</span><span class="s1">display: table-cell</span><span class="s3">\&quot;</span><span class="s1">, which prevents the browser</span><span class="s3">\n    </span><span class="s1">// from acting on that line height. So we'll call makeVList now.</span><span class="s3">\n\n\n    </span><span class="s1">var smashedNode = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">firstBaseline</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">children: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: node</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">}, options); // For spacing, TeX treats </span><span class="s3">\\</span><span class="s1">hphantom as a math group (same spacing as ord).</span><span class="s3">\n\n    </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">], [smashedNode], options);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">mathmlBuilder: (group, options) =&gt; {</span><span class="s3">\n    </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mpadded</span><span class="s3">\&quot;</span><span class="s1">, [buildGroup(group.body, options)]);</span><span class="s3">\n\n    </span><span class="s1">if (group.smashHeight) {</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0px</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (group.smashDepth) {</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">depth</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0px</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">sqrt</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">sqrt</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">numOptionalArgs: 1</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args, optArgs) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var index = optArgs[0];</span><span class="s3">\n    </span><span class="s1">var body = args[0];</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">sqrt</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">body,</span><span class="s3">\n      </span><span class="s1">index</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">// Square roots are handled in the TeXbook pg. 443, Rule 11.</span><span class="s3">\n    </span><span class="s1">// First, we do the same steps as in overline to build the inner group</span><span class="s3">\n    </span><span class="s1">// and line</span><span class="s3">\n    </span><span class="s1">var inner = buildGroup$1(group.body, options.havingCrampedStyle());</span><span class="s3">\n\n    </span><span class="s1">if (inner.height === 0) {</span><span class="s3">\n      </span><span class="s1">// Render a small surd.</span><span class="s3">\n      </span><span class="s1">inner.height = options.fontMetrics().xHeight;</span><span class="s3">\n    </span><span class="s1">} // Some groups can return document fragments.  Handle those by wrapping</span><span class="s3">\n    </span><span class="s1">// them in a span.</span><span class="s3">\n\n\n    </span><span class="s1">inner = buildCommon.wrapFragment(inner, options); // Calculate the minimum size for the </span><span class="s3">\\</span><span class="s1">surd delimiter</span><span class="s3">\n\n    </span><span class="s1">var metrics = options.fontMetrics();</span><span class="s3">\n    </span><span class="s1">var theta = metrics.defaultRuleThickness;</span><span class="s3">\n    </span><span class="s1">var phi = theta;</span><span class="s3">\n\n    </span><span class="s1">if (options.style.id &lt; Style$1.TEXT.id) {</span><span class="s3">\n      </span><span class="s1">phi = options.fontMetrics().xHeight;</span><span class="s3">\n    </span><span class="s1">} // Calculate the clearance between the body and line</span><span class="s3">\n\n\n    </span><span class="s1">var lineClearance = theta + phi / 4;</span><span class="s3">\n    </span><span class="s1">var minDelimiterHeight = inner.height + inner.depth + lineClearance + theta; // Create a sqrt SVG of the required minimum size</span><span class="s3">\n\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">span: img,</span><span class="s3">\n      </span><span class="s1">ruleWidth,</span><span class="s3">\n      </span><span class="s1">advanceWidth</span><span class="s3">\n    </span><span class="s1">} = delimiter.sqrtImage(minDelimiterHeight, options);</span><span class="s3">\n    </span><span class="s1">var delimDepth = img.height - ruleWidth; // Adjust the clearance based on the delimiter size</span><span class="s3">\n\n    </span><span class="s1">if (delimDepth &gt; inner.height + inner.depth + lineClearance) {</span><span class="s3">\n      </span><span class="s1">lineClearance = (lineClearance + delimDepth - inner.height - inner.depth) / 2;</span><span class="s3">\n    </span><span class="s1">} // Shift the sqrt image</span><span class="s3">\n\n\n    </span><span class="s1">var imgShift = img.height - inner.height - lineClearance - ruleWidth;</span><span class="s3">\n    </span><span class="s1">inner.style.paddingLeft = makeEm(advanceWidth); // Overlay the image and the argument.</span><span class="s3">\n\n    </span><span class="s1">var body = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">firstBaseline</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">children: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: inner,</span><span class="s3">\n        </span><span class="s1">wrapperClasses: [</span><span class="s3">\&quot;</span><span class="s1">svg-align</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">size: -(inner.height + imgShift)</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: img</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">size: ruleWidth</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">}, options);</span><span class="s3">\n\n    </span><span class="s1">if (!group.index) {</span><span class="s3">\n      </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">sqrt</span><span class="s3">\&quot;</span><span class="s1">], [body], options);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">// Handle the optional root index</span><span class="s3">\n      </span><span class="s1">// The index is always in scriptscript style</span><span class="s3">\n      </span><span class="s1">var newOptions = options.havingStyle(Style$1.SCRIPTSCRIPT);</span><span class="s3">\n      </span><span class="s1">var rootm = buildGroup$1(group.index, newOptions, options); // The amount the index is shifted by. This is taken from the TeX</span><span class="s3">\n      </span><span class="s1">// source, in the definition of `</span><span class="s3">\\</span><span class="s1">r@@t`.</span><span class="s3">\n\n      </span><span class="s1">var toShift = 0.6 * (body.height - body.depth); // Build a VList with the superscript shifted up correctly</span><span class="s3">\n\n      </span><span class="s1">var rootVList = buildCommon.makeVList({</span><span class="s3">\n        </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">shift</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">positionData: -toShift,</span><span class="s3">\n        </span><span class="s1">children: [{</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">elem: rootm</span><span class="s3">\n        </span><span class="s1">}]</span><span class="s3">\n      </span><span class="s1">}, options); // Add a class surrounding it so we can add on the appropriate</span><span class="s3">\n      </span><span class="s1">// kerning</span><span class="s3">\n\n      </span><span class="s1">var rootVListWrap = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot;</span><span class="s1">], [rootVList]);</span><span class="s3">\n      </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">sqrt</span><span class="s3">\&quot;</span><span class="s1">], [rootVListWrap, body], options);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">body,</span><span class="s3">\n      </span><span class="s1">index</span><span class="s3">\n    </span><span class="s1">} = group;</span><span class="s3">\n    </span><span class="s1">return index ? new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mroot</span><span class="s3">\&quot;</span><span class="s1">, [buildGroup(body, options), buildGroup(index, options)]) : new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">msqrt</span><span class="s3">\&quot;</span><span class="s1">, [buildGroup(body, options)]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">var styleMap = {</span><span class="s3">\n  \&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">: Style$1.DISPLAY,</span><span class="s3">\n  \&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">: Style$1.TEXT,</span><span class="s3">\n  \&quot;</span><span class="s1">script</span><span class="s3">\&quot;</span><span class="s1">: Style$1.SCRIPT,</span><span class="s3">\n  \&quot;</span><span class="s1">scriptscript</span><span class="s3">\&quot;</span><span class="s1">: Style$1.SCRIPTSCRIPT</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">styling</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">displaystyle</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textstyle</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">scriptstyle</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">scriptscriptstyle</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0,</span><span class="s3">\n    </span><span class="s1">allowedInText: true,</span><span class="s3">\n    </span><span class="s1">primitive: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">breakOnTokenText,</span><span class="s3">\n      </span><span class="s1">funcName,</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">// parse out the implicit body</span><span class="s3">\n    </span><span class="s1">var body = parser.parseExpression(true, breakOnTokenText); // TODO: Refactor to avoid duplicating styleMap in multiple places (e.g.</span><span class="s3">\n    </span><span class="s1">// here and in buildHTML and de-dupe the enumeration of all the styles).</span><span class="s3">\n    </span><span class="s1">// $FlowFixMe: The names above exactly match the styles.</span><span class="s3">\n\n    </span><span class="s1">var style = funcName.slice(1, funcName.length - 5);</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">styling</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">// Figure out what style to use by pulling out the style from</span><span class="s3">\n      </span><span class="s1">// the function name</span><span class="s3">\n      </span><span class="s1">style,</span><span class="s3">\n      </span><span class="s1">body</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">// Style changes are handled in the TeXbook on pg. 442, Rule 3.</span><span class="s3">\n    </span><span class="s1">var newStyle = styleMap[group.style];</span><span class="s3">\n    </span><span class="s1">var newOptions = options.havingStyle(newStyle).withFont('');</span><span class="s3">\n    </span><span class="s1">return sizingGroup(group.body, newOptions, options);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">// Figure out what style we're changing to.</span><span class="s3">\n    </span><span class="s1">var newStyle = styleMap[group.style];</span><span class="s3">\n    </span><span class="s1">var newOptions = options.havingStyle(newStyle);</span><span class="s3">\n    </span><span class="s1">var inner = buildExpression(group.body, newOptions);</span><span class="s3">\n    </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mstyle</span><span class="s3">\&quot;</span><span class="s1">, inner);</span><span class="s3">\n    </span><span class="s1">var styleAttributes = {</span><span class="s3">\n      \&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">: [</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n      \&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">: [</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n      \&quot;</span><span class="s1">script</span><span class="s3">\&quot;</span><span class="s1">: [</span><span class="s3">\&quot;</span><span class="s1">1</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n      \&quot;</span><span class="s1">scriptscript</span><span class="s3">\&quot;</span><span class="s1">: [</span><span class="s3">\&quot;</span><span class="s1">2</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">var attr = styleAttributes[group.style];</span><span class="s3">\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">scriptlevel</span><span class="s3">\&quot;</span><span class="s1">, attr[0]);</span><span class="s3">\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">displaystyle</span><span class="s3">\&quot;</span><span class="s1">, attr[1]);</span><span class="s3">\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Sometimes, groups perform special rules when they have superscripts or</span><span class="s3">\n </span><span class="s1">* subscripts attached to them. This function lets the `supsub` group know that</span><span class="s3">\n </span><span class="s1">* Sometimes, groups perform special rules when they have superscripts or</span><span class="s3">\n </span><span class="s1">* its inner element should handle the superscripts and subscripts instead of</span><span class="s3">\n </span><span class="s1">* handling them itself.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var htmlBuilderDelegate = function htmlBuilderDelegate(group, options) {</span><span class="s3">\n  </span><span class="s1">var base = group.base;</span><span class="s3">\n\n  </span><span class="s1">if (!base) {</span><span class="s3">\n    </span><span class="s1">return null;</span><span class="s3">\n  </span><span class="s1">} else if (base.type === </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">// Operators handle supsubs differently when they have limits</span><span class="s3">\n    </span><span class="s1">// (e.g. `</span><span class="s3">\\</span><span class="s1">displaystyle</span><span class="s3">\\</span><span class="s1">sum_2^3`)</span><span class="s3">\n    </span><span class="s1">var delegate = base.limits &amp;&amp; (options.style.size === Style$1.DISPLAY.size || base.alwaysHandleSupSub);</span><span class="s3">\n    </span><span class="s1">return delegate ? htmlBuilder$2 : null;</span><span class="s3">\n  </span><span class="s1">} else if (base.type === </span><span class="s3">\&quot;</span><span class="s1">operatorname</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">var _delegate = base.alwaysHandleSupSub &amp;&amp; (options.style.size === Style$1.DISPLAY.size || base.limits);</span><span class="s3">\n\n    </span><span class="s1">return _delegate ? htmlBuilder$1 : null;</span><span class="s3">\n  </span><span class="s1">} else if (base.type === </span><span class="s3">\&quot;</span><span class="s1">accent</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return utils.isCharacterBox(base.base) ? htmlBuilder$a : null;</span><span class="s3">\n  </span><span class="s1">} else if (base.type === </span><span class="s3">\&quot;</span><span class="s1">horizBrace</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">var isSup = !group.sub;</span><span class="s3">\n    </span><span class="s1">return isSup === base.isOver ? htmlBuilder$3 : null;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return null;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}; // Super scripts and subscripts, whose precise placement can depend on other</span><span class="s3">\n</span><span class="s1">// functions that precede them.</span><span class="s3">\n\n\n</span><span class="s1">defineFunctionBuilders({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">supsub</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">// Superscript and subscripts are handled in the TeXbook on page</span><span class="s3">\n    </span><span class="s1">// 445-446, rules 18(a-f).</span><span class="s3">\n    </span><span class="s1">// Here is where we defer to the inner group if it should handle</span><span class="s3">\n    </span><span class="s1">// superscripts and subscripts itself.</span><span class="s3">\n    </span><span class="s1">var builderDelegate = htmlBuilderDelegate(group, options);</span><span class="s3">\n\n    </span><span class="s1">if (builderDelegate) {</span><span class="s3">\n      </span><span class="s1">return builderDelegate(group, options);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">base: valueBase,</span><span class="s3">\n      </span><span class="s1">sup: valueSup,</span><span class="s3">\n      </span><span class="s1">sub: valueSub</span><span class="s3">\n    </span><span class="s1">} = group;</span><span class="s3">\n    </span><span class="s1">var base = buildGroup$1(valueBase, options);</span><span class="s3">\n    </span><span class="s1">var supm;</span><span class="s3">\n    </span><span class="s1">var subm;</span><span class="s3">\n    </span><span class="s1">var metrics = options.fontMetrics(); // Rule 18a</span><span class="s3">\n\n    </span><span class="s1">var supShift = 0;</span><span class="s3">\n    </span><span class="s1">var subShift = 0;</span><span class="s3">\n    </span><span class="s1">var isCharacterBox = valueBase &amp;&amp; utils.isCharacterBox(valueBase);</span><span class="s3">\n\n    </span><span class="s1">if (valueSup) {</span><span class="s3">\n      </span><span class="s1">var newOptions = options.havingStyle(options.style.sup());</span><span class="s3">\n      </span><span class="s1">supm = buildGroup$1(valueSup, newOptions, options);</span><span class="s3">\n\n      </span><span class="s1">if (!isCharacterBox) {</span><span class="s3">\n        </span><span class="s1">supShift = base.height - newOptions.fontMetrics().supDrop * newOptions.sizeMultiplier / options.sizeMultiplier;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (valueSub) {</span><span class="s3">\n      </span><span class="s1">var _newOptions = options.havingStyle(options.style.sub());</span><span class="s3">\n\n      </span><span class="s1">subm = buildGroup$1(valueSub, _newOptions, options);</span><span class="s3">\n\n      </span><span class="s1">if (!isCharacterBox) {</span><span class="s3">\n        </span><span class="s1">subShift = base.depth + _newOptions.fontMetrics().subDrop * _newOptions.sizeMultiplier / options.sizeMultiplier;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} // Rule 18c</span><span class="s3">\n\n\n    </span><span class="s1">var minSupShift;</span><span class="s3">\n\n    </span><span class="s1">if (options.style === Style$1.DISPLAY) {</span><span class="s3">\n      </span><span class="s1">minSupShift = metrics.sup1;</span><span class="s3">\n    </span><span class="s1">} else if (options.style.cramped) {</span><span class="s3">\n      </span><span class="s1">minSupShift = metrics.sup3;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">minSupShift = metrics.sup2;</span><span class="s3">\n    </span><span class="s1">} // scriptspace is a font-size-independent size, so scale it</span><span class="s3">\n    </span><span class="s1">// appropriately for use as the marginRight.</span><span class="s3">\n\n\n    </span><span class="s1">var multiplier = options.sizeMultiplier;</span><span class="s3">\n    </span><span class="s1">var marginRight = makeEm(0.5 / metrics.ptPerEm / multiplier);</span><span class="s3">\n    </span><span class="s1">var marginLeft = null;</span><span class="s3">\n\n    </span><span class="s1">if (subm) {</span><span class="s3">\n      </span><span class="s1">// Subscripts shouldn't be shifted by the base's italic correction.</span><span class="s3">\n      </span><span class="s1">// Account for that by shifting the subscript back the appropriate</span><span class="s3">\n      </span><span class="s1">// amount. Note we only do this when the base is a single symbol.</span><span class="s3">\n      </span><span class="s1">var isOiint = group.base &amp;&amp; group.base.type === </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; group.base.name &amp;&amp; (group.base.name === </span><span class="s3">\&quot;\\\\</span><span class="s1">oiint</span><span class="s3">\&quot; </span><span class="s1">|| group.base.name === </span><span class="s3">\&quot;\\\\</span><span class="s1">oiiint</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n      </span><span class="s1">if (base instanceof SymbolNode || isOiint) {</span><span class="s3">\n        </span><span class="s1">// $FlowFixMe</span><span class="s3">\n        </span><span class="s1">marginLeft = makeEm(-base.italic);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var supsub;</span><span class="s3">\n\n    </span><span class="s1">if (supm &amp;&amp; subm) {</span><span class="s3">\n      </span><span class="s1">supShift = Math.max(supShift, minSupShift, supm.depth + 0.25 * metrics.xHeight);</span><span class="s3">\n      </span><span class="s1">subShift = Math.max(subShift, metrics.sub2);</span><span class="s3">\n      </span><span class="s1">var ruleWidth = metrics.defaultRuleThickness; // Rule 18e</span><span class="s3">\n\n      </span><span class="s1">var maxWidth = 4 * ruleWidth;</span><span class="s3">\n\n      </span><span class="s1">if (supShift - supm.depth - (subm.height - subShift) &lt; maxWidth) {</span><span class="s3">\n        </span><span class="s1">subShift = maxWidth - (supShift - supm.depth) + subm.height;</span><span class="s3">\n        </span><span class="s1">var psi = 0.8 * metrics.xHeight - (supShift - supm.depth);</span><span class="s3">\n\n        </span><span class="s1">if (psi &gt; 0) {</span><span class="s3">\n          </span><span class="s1">supShift += psi;</span><span class="s3">\n          </span><span class="s1">subShift -= psi;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">var vlistElem = [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: subm,</span><span class="s3">\n        </span><span class="s1">shift: subShift,</span><span class="s3">\n        </span><span class="s1">marginRight,</span><span class="s3">\n        </span><span class="s1">marginLeft</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: supm,</span><span class="s3">\n        </span><span class="s1">shift: -supShift,</span><span class="s3">\n        </span><span class="s1">marginRight</span><span class="s3">\n      </span><span class="s1">}];</span><span class="s3">\n      </span><span class="s1">supsub = buildCommon.makeVList({</span><span class="s3">\n        </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">individualShift</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">children: vlistElem</span><span class="s3">\n      </span><span class="s1">}, options);</span><span class="s3">\n    </span><span class="s1">} else if (subm) {</span><span class="s3">\n      </span><span class="s1">// Rule 18b</span><span class="s3">\n      </span><span class="s1">subShift = Math.max(subShift, metrics.sub1, subm.height - 0.8 * metrics.xHeight);</span><span class="s3">\n      </span><span class="s1">var _vlistElem = [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: subm,</span><span class="s3">\n        </span><span class="s1">marginLeft,</span><span class="s3">\n        </span><span class="s1">marginRight</span><span class="s3">\n      </span><span class="s1">}];</span><span class="s3">\n      </span><span class="s1">supsub = buildCommon.makeVList({</span><span class="s3">\n        </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">shift</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">positionData: subShift,</span><span class="s3">\n        </span><span class="s1">children: _vlistElem</span><span class="s3">\n      </span><span class="s1">}, options);</span><span class="s3">\n    </span><span class="s1">} else if (supm) {</span><span class="s3">\n      </span><span class="s1">// Rule 18c, d</span><span class="s3">\n      </span><span class="s1">supShift = Math.max(supShift, minSupShift, supm.depth + 0.25 * metrics.xHeight);</span><span class="s3">\n      </span><span class="s1">supsub = buildCommon.makeVList({</span><span class="s3">\n        </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">shift</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">positionData: -supShift,</span><span class="s3">\n        </span><span class="s1">children: [{</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">elem: supm,</span><span class="s3">\n          </span><span class="s1">marginRight</span><span class="s3">\n        </span><span class="s1">}]</span><span class="s3">\n      </span><span class="s1">}, options);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">supsub must have either sup or sub.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} // Wrap the supsub vlist in a span.msupsub to reset text-align.</span><span class="s3">\n\n\n    </span><span class="s1">var mclass = getTypeOfDomTree(base, </span><span class="s3">\&quot;</span><span class="s1">right</span><span class="s3">\&quot;</span><span class="s1">) || </span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeSpan([mclass], [base, buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">msupsub</span><span class="s3">\&quot;</span><span class="s1">], [supsub])], options);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">// Is the inner group a relevant horizonal brace?</span><span class="s3">\n    </span><span class="s1">var isBrace = false;</span><span class="s3">\n    </span><span class="s1">var isOver;</span><span class="s3">\n    </span><span class="s1">var isSup;</span><span class="s3">\n\n    </span><span class="s1">if (group.base &amp;&amp; group.base.type === </span><span class="s3">\&quot;</span><span class="s1">horizBrace</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">isSup = !!group.sup;</span><span class="s3">\n\n      </span><span class="s1">if (isSup === group.base.isOver) {</span><span class="s3">\n        </span><span class="s1">isBrace = true;</span><span class="s3">\n        </span><span class="s1">isOver = group.base.isOver;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (group.base &amp;&amp; (group.base.type === </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot; </span><span class="s1">|| group.base.type === </span><span class="s3">\&quot;</span><span class="s1">operatorname</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n      </span><span class="s1">group.base.parentIsSupSub = true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var children = [buildGroup(group.base, options)];</span><span class="s3">\n\n    </span><span class="s1">if (group.sub) {</span><span class="s3">\n      </span><span class="s1">children.push(buildGroup(group.sub, options));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (group.sup) {</span><span class="s3">\n      </span><span class="s1">children.push(buildGroup(group.sup, options));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var nodeType;</span><span class="s3">\n\n    </span><span class="s1">if (isBrace) {</span><span class="s3">\n      </span><span class="s1">nodeType = isOver ? </span><span class="s3">\&quot;</span><span class="s1">mover</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">munder</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">} else if (!group.sub) {</span><span class="s3">\n      </span><span class="s1">var base = group.base;</span><span class="s3">\n\n      </span><span class="s1">if (base &amp;&amp; base.type === </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; base.limits &amp;&amp; (options.style === Style$1.DISPLAY || base.alwaysHandleSupSub)) {</span><span class="s3">\n        </span><span class="s1">nodeType = </span><span class="s3">\&quot;</span><span class="s1">mover</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">} else if (base &amp;&amp; base.type === </span><span class="s3">\&quot;</span><span class="s1">operatorname</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; base.alwaysHandleSupSub &amp;&amp; (base.limits || options.style === Style$1.DISPLAY)) {</span><span class="s3">\n        </span><span class="s1">nodeType = </span><span class="s3">\&quot;</span><span class="s1">mover</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">nodeType = </span><span class="s3">\&quot;</span><span class="s1">msup</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (!group.sup) {</span><span class="s3">\n      </span><span class="s1">var _base = group.base;</span><span class="s3">\n\n      </span><span class="s1">if (_base &amp;&amp; _base.type === </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; _base.limits &amp;&amp; (options.style === Style$1.DISPLAY || _base.alwaysHandleSupSub)) {</span><span class="s3">\n        </span><span class="s1">nodeType = </span><span class="s3">\&quot;</span><span class="s1">munder</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">} else if (_base &amp;&amp; _base.type === </span><span class="s3">\&quot;</span><span class="s1">operatorname</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; _base.alwaysHandleSupSub &amp;&amp; (_base.limits || options.style === Style$1.DISPLAY)) {</span><span class="s3">\n        </span><span class="s1">nodeType = </span><span class="s3">\&quot;</span><span class="s1">munder</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">nodeType = </span><span class="s3">\&quot;</span><span class="s1">msub</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">var _base2 = group.base;</span><span class="s3">\n\n      </span><span class="s1">if (_base2 &amp;&amp; _base2.type === </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; _base2.limits &amp;&amp; options.style === Style$1.DISPLAY) {</span><span class="s3">\n        </span><span class="s1">nodeType = </span><span class="s3">\&quot;</span><span class="s1">munderover</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">} else if (_base2 &amp;&amp; _base2.type === </span><span class="s3">\&quot;</span><span class="s1">operatorname</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; _base2.alwaysHandleSupSub &amp;&amp; (options.style === Style$1.DISPLAY || _base2.limits)) {</span><span class="s3">\n        </span><span class="s1">nodeType = </span><span class="s3">\&quot;</span><span class="s1">munderover</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">nodeType = </span><span class="s3">\&quot;</span><span class="s1">msubsup</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return new mathMLTree.MathNode(nodeType, children);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">defineFunctionBuilders({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">atom</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">return buildCommon.mathsym(group.text, group.mode, options, [</span><span class="s3">\&quot;</span><span class="s1">m</span><span class="s3">\&quot; </span><span class="s1">+ group.family]);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">, [makeText(group.text, group.mode)]);</span><span class="s3">\n\n    </span><span class="s1">if (group.family === </span><span class="s3">\&quot;</span><span class="s1">bin</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">var variant = getVariant(group, options);</span><span class="s3">\n\n      </span><span class="s1">if (variant === </span><span class="s3">\&quot;</span><span class="s1">bold-italic</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">mathvariant</span><span class="s3">\&quot;</span><span class="s1">, variant);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (group.family === </span><span class="s3">\&quot;</span><span class="s1">punct</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">separator</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} else if (group.family === </span><span class="s3">\&quot;</span><span class="s1">open</span><span class="s3">\&quot; </span><span class="s1">|| group.family === </span><span class="s3">\&quot;</span><span class="s1">close</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// Delims built here should not stretch vertically.</span><span class="s3">\n      </span><span class="s1">// See delimsizing.js for stretchy delims.</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">stretchy</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">// </span><span class="s3">\&quot;</span><span class="s1">mathord</span><span class="s3">\&quot; </span><span class="s1">and </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot; </span><span class="s1">ParseNodes created in Parser.js from symbol Groups in</span><span class="s3">\n</span><span class="s1">// src/symbols.js.</span><span class="s3">\n</span><span class="s1">var defaultVariant = {</span><span class="s3">\n  \&quot;</span><span class="s1">mi</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">italic</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">mn</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">mtext</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">defineFunctionBuilders({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">mathord</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeOrd(group, options, </span><span class="s3">\&quot;</span><span class="s1">mathord</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mi</span><span class="s3">\&quot;</span><span class="s1">, [makeText(group.text, group.mode, options)]);</span><span class="s3">\n    </span><span class="s1">var variant = getVariant(group, options) || </span><span class="s3">\&quot;</span><span class="s1">italic</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">if (variant !== defaultVariant[node.type]) {</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">mathvariant</span><span class="s3">\&quot;</span><span class="s1">, variant);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineFunctionBuilders({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeOrd(group, options, </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var text = makeText(group.text, group.mode, options);</span><span class="s3">\n    </span><span class="s1">var variant = getVariant(group, options) || </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">var node;</span><span class="s3">\n\n    </span><span class="s1">if (group.mode === 'text') {</span><span class="s3">\n      </span><span class="s1">node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mtext</span><span class="s3">\&quot;</span><span class="s1">, [text]);</span><span class="s3">\n    </span><span class="s1">} else if (/[0-9]/.test(group.text)) {</span><span class="s3">\n      </span><span class="s1">node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mn</span><span class="s3">\&quot;</span><span class="s1">, [text]);</span><span class="s3">\n    </span><span class="s1">} else if (group.text === </span><span class="s3">\&quot;\\\\</span><span class="s1">prime</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">, [text]);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mi</span><span class="s3">\&quot;</span><span class="s1">, [text]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (variant !== defaultVariant[node.type]) {</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">mathvariant</span><span class="s3">\&quot;</span><span class="s1">, variant);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">var cssSpace = {</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">nobreak</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">nobreak</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">allowbreak</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">allowbreak</span><span class="s3">\&quot;\n</span><span class="s1">}; // A lookup table to determine whether a spacing function/symbol should be</span><span class="s3">\n</span><span class="s1">// treated like a regular space character.  If a symbol or command is a key</span><span class="s3">\n</span><span class="s1">// in this table, then it should be a regular space character.  Furthermore,</span><span class="s3">\n</span><span class="s1">// the associated value may have a `className` specifying an extra CSS class</span><span class="s3">\n</span><span class="s1">// to add to the created `span`.</span><span class="s3">\n\n</span><span class="s1">var regularSpace = {</span><span class="s3">\n  \&quot; \&quot;</span><span class="s1">: {},</span><span class="s3">\n  \&quot;\\\\ \&quot;</span><span class="s1">: {},</span><span class="s3">\n  \&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">className: </span><span class="s3">\&quot;</span><span class="s1">nobreak</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">space</span><span class="s3">\&quot;</span><span class="s1">: {},</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">nobreakspace</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    </span><span class="s1">className: </span><span class="s3">\&quot;</span><span class="s1">nobreak</span><span class="s3">\&quot;\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}; // ParseNode&lt;</span><span class="s3">\&quot;</span><span class="s1">spacing</span><span class="s3">\&quot;</span><span class="s1">&gt; created in Parser.js from the </span><span class="s3">\&quot;</span><span class="s1">spacing</span><span class="s3">\&quot; </span><span class="s1">symbol Groups in</span><span class="s3">\n</span><span class="s1">// src/symbols.js.</span><span class="s3">\n\n</span><span class="s1">defineFunctionBuilders({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">spacing</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">if (regularSpace.hasOwnProperty(group.text)) {</span><span class="s3">\n      </span><span class="s1">var className = regularSpace[group.text].className || </span><span class="s3">\&quot;\&quot;</span><span class="s1">; // Spaces are generated by adding an actual space. Each of these</span><span class="s3">\n      </span><span class="s1">// things has an entry in the symbols table, so these will be turned</span><span class="s3">\n      </span><span class="s1">// into appropriate outputs.</span><span class="s3">\n\n      </span><span class="s1">if (group.mode === </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">var ord = buildCommon.makeOrd(group, options, </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">ord.classes.push(className);</span><span class="s3">\n        </span><span class="s1">return ord;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mspace</span><span class="s3">\&quot;</span><span class="s1">, className], [buildCommon.mathsym(group.text, group.mode, options)], options);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (cssSpace.hasOwnProperty(group.text)) {</span><span class="s3">\n      </span><span class="s1">// Spaces based on just a CSS class.</span><span class="s3">\n      </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mspace</span><span class="s3">\&quot;</span><span class="s1">, cssSpace[group.text]], [], options);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Unknown type of space </span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ group.text + </span><span class="s3">\&quot;\\\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var node;</span><span class="s3">\n\n    </span><span class="s1">if (regularSpace.hasOwnProperty(group.text)) {</span><span class="s3">\n      </span><span class="s1">node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mtext</span><span class="s3">\&quot;</span><span class="s1">, [new mathMLTree.TextNode(</span><span class="s3">\&quot;\\</span><span class="s1">u00a0</span><span class="s3">\&quot;</span><span class="s1">)]);</span><span class="s3">\n    </span><span class="s1">} else if (cssSpace.hasOwnProperty(group.text)) {</span><span class="s3">\n      </span><span class="s1">// CSS-based MathML spaces (</span><span class="s3">\\</span><span class="s1">nobreak, </span><span class="s3">\\</span><span class="s1">allowbreak) are ignored</span><span class="s3">\n      </span><span class="s1">return new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mspace</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Unknown type of space </span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ group.text + </span><span class="s3">\&quot;\\\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">var pad = () =&gt; {</span><span class="s3">\n  </span><span class="s1">var padNode = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mtd</span><span class="s3">\&quot;</span><span class="s1">, []);</span><span class="s3">\n  </span><span class="s1">padNode.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">50%</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return padNode;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">defineFunctionBuilders({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">tag</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var table = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mtable</span><span class="s3">\&quot;</span><span class="s1">, [new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mtr</span><span class="s3">\&quot;</span><span class="s1">, [pad(), new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mtd</span><span class="s3">\&quot;</span><span class="s1">, [buildExpressionRow(group.body, options)]), pad(), new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mtd</span><span class="s3">\&quot;</span><span class="s1">, [buildExpressionRow(group.tag, options)])])]);</span><span class="s3">\n    </span><span class="s1">table.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">100%</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return table; // TODO: Left-aligned tags.</span><span class="s3">\n    </span><span class="s1">// Currently, the group and options passed here do not contain</span><span class="s3">\n    </span><span class="s1">// enough info to set tag alignment. `leqno` is in Settings but it is</span><span class="s3">\n    </span><span class="s1">// not passed to Options. On the HTML side, leqno is</span><span class="s3">\n    </span><span class="s1">// set by a CSS class applied in buildTree.js. That would have worked</span><span class="s3">\n    </span><span class="s1">// in MathML if browsers supported &lt;mlabeledtr&gt;. Since they don't, we</span><span class="s3">\n    </span><span class="s1">// need to rewrite the way this function is called.</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">var textFontFamilies = {</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">: undefined,</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">textrm</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">textrm</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">textsf</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">textsf</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">texttt</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">texttt</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">textnormal</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">textrm</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var textFontWeights = {</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">textbf</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">textbf</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">textmd</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">textmd</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var textFontShapes = {</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">textit</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">textit</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">textup</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">textup</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var optionsWithFont = (group, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">var font = group.font; // Checks if the argument is a font family or a font style.</span><span class="s3">\n\n  </span><span class="s1">if (!font) {</span><span class="s3">\n    </span><span class="s1">return options;</span><span class="s3">\n  </span><span class="s1">} else if (textFontFamilies[font]) {</span><span class="s3">\n    </span><span class="s1">return options.withTextFontFamily(textFontFamilies[font]);</span><span class="s3">\n  </span><span class="s1">} else if (textFontWeights[font]) {</span><span class="s3">\n    </span><span class="s1">return options.withTextFontWeight(textFontWeights[font]);</span><span class="s3">\n  </span><span class="s1">} else if (font === </span><span class="s3">\&quot;\\\\</span><span class="s1">emph</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return options.fontShape === </span><span class="s3">\&quot;</span><span class="s1">textit</span><span class="s3">\&quot; </span><span class="s1">? options.withTextFontShape(</span><span class="s3">\&quot;</span><span class="s1">textup</span><span class="s3">\&quot;</span><span class="s1">) : options.withTextFontShape(</span><span class="s3">\&quot;</span><span class="s1">textit</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return options.withTextFontShape(textFontShapes[font]);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [// Font families</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textrm</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textsf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">texttt</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textnormal</span><span class="s3">\&quot;</span><span class="s1">, // Font weights</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">textbf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textmd</span><span class="s3">\&quot;</span><span class="s1">, // Font Shapes</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">textit</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textup</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">emph</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">allowedInArgument: true,</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser,</span><span class="s3">\n      </span><span class="s1">funcName</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">var body = args[0];</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">body: ordargument(body),</span><span class="s3">\n      </span><span class="s1">font: funcName</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var newOptions = optionsWithFont(group, options);</span><span class="s3">\n    </span><span class="s1">var inner = buildExpression$1(group.body, newOptions, true);</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">], inner, newOptions);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var newOptions = optionsWithFont(group, options);</span><span class="s3">\n    </span><span class="s1">return buildExpressionRow(group.body, newOptions);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">underline</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">underline</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">underline</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">body: args[0]</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">// Underlines are handled in the TeXbook pg 443, Rule 10.</span><span class="s3">\n    </span><span class="s1">// Build the inner group.</span><span class="s3">\n    </span><span class="s1">var innerGroup = buildGroup$1(group.body, options); // Create the line to go below the body</span><span class="s3">\n\n    </span><span class="s1">var line = buildCommon.makeLineSpan(</span><span class="s3">\&quot;</span><span class="s1">underline-line</span><span class="s3">\&quot;</span><span class="s1">, options); // Generate the vlist, with the appropriate kerns</span><span class="s3">\n\n    </span><span class="s1">var defaultRuleThickness = options.fontMetrics().defaultRuleThickness;</span><span class="s3">\n    </span><span class="s1">var vlist = buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">top</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">positionData: innerGroup.height,</span><span class="s3">\n      </span><span class="s1">children: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">size: defaultRuleThickness</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: line</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">kern</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">size: 3 * defaultRuleThickness</span><span class="s3">\n      </span><span class="s1">}, {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: innerGroup</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">}, options);</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">underline</span><span class="s3">\&quot;</span><span class="s1">], [vlist], options);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var operator = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mo</span><span class="s3">\&quot;</span><span class="s1">, [new mathMLTree.TextNode(</span><span class="s3">\&quot;\\</span><span class="s1">u203e</span><span class="s3">\&quot;</span><span class="s1">)]);</span><span class="s3">\n    </span><span class="s1">operator.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">stretchy</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">munder</span><span class="s3">\&quot;</span><span class="s1">, [buildGroup(group.body, options), operator]);</span><span class="s3">\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">accentunder</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">vcenter</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">vcenter</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 1,</span><span class="s3">\n    </span><span class="s1">argTypes: [</span><span class="s3">\&quot;</span><span class="s1">original</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">// In LaTeX, </span><span class="s3">\\</span><span class="s1">vcenter can act only on a box.</span><span class="s3">\n    </span><span class="s1">allowedInText: false</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(_ref, args) {</span><span class="s3">\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">parser</span><span class="s3">\n    </span><span class="s1">} = _ref;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">vcenter</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: parser.mode,</span><span class="s3">\n      </span><span class="s1">body: args[0]</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var body = buildGroup$1(group.body, options);</span><span class="s3">\n    </span><span class="s1">var axisHeight = options.fontMetrics().axisHeight;</span><span class="s3">\n    </span><span class="s1">var dy = 0.5 * (body.height - axisHeight - (body.depth + axisHeight));</span><span class="s3">\n    </span><span class="s1">return buildCommon.makeVList({</span><span class="s3">\n      </span><span class="s1">positionType: </span><span class="s3">\&quot;</span><span class="s1">shift</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">positionData: dy,</span><span class="s3">\n      </span><span class="s1">children: [{</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">elem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">elem: body</span><span class="s3">\n      </span><span class="s1">}]</span><span class="s3">\n    </span><span class="s1">}, options);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">// There is no way to do this in MathML.</span><span class="s3">\n    </span><span class="s1">// Write a class as a breadcrumb in case some post-processor wants</span><span class="s3">\n    </span><span class="s1">// to perform a vcenter adjustment.</span><span class="s3">\n    </span><span class="s1">return new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mpadded</span><span class="s3">\&quot;</span><span class="s1">, [buildGroup(group.body, options)], [</span><span class="s3">\&quot;</span><span class="s1">vcenter</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">defineFunction({</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">verb</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">names: [</span><span class="s3">\&quot;\\\\</span><span class="s1">verb</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">props: {</span><span class="s3">\n    </span><span class="s1">numArgs: 0,</span><span class="s3">\n    </span><span class="s1">allowedInText: true</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">handler(context, args, optArgs) {</span><span class="s3">\n    </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">verb and </span><span class="s3">\\</span><span class="s1">verb* are dealt with directly in Parser.js.</span><span class="s3">\n    </span><span class="s1">// If we end up here, it's because of a failure to match the two delimiters</span><span class="s3">\n    </span><span class="s1">// in the regex in Lexer.js.  LaTeX raises the following error when </span><span class="s3">\\</span><span class="s1">verb is</span><span class="s3">\n    </span><span class="s1">// terminated by end of line (or file).</span><span class="s3">\n    </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;\\\\</span><span class="s1">verb ended by end of line instead of matching delimiter</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">htmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var text = makeVerb(group);</span><span class="s3">\n    </span><span class="s1">var body = []; // </span><span class="s3">\\</span><span class="s1">verb enters text mode and therefore is sized like </span><span class="s3">\\</span><span class="s1">textstyle</span><span class="s3">\n\n    </span><span class="s1">var newOptions = options.havingStyle(options.style.text());</span><span class="s3">\n\n    </span><span class="s1">for (var i = 0; i &lt; text.length; i++) {</span><span class="s3">\n      </span><span class="s1">var c = text[i];</span><span class="s3">\n\n      </span><span class="s1">if (c === '~') {</span><span class="s3">\n        </span><span class="s1">c = '</span><span class="s3">\\\\</span><span class="s1">textasciitilde';</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">body.push(buildCommon.makeSymbol(c, </span><span class="s3">\&quot;</span><span class="s1">Typewriter-Regular</span><span class="s3">\&quot;</span><span class="s1">, group.mode, newOptions, [</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">texttt</span><span class="s3">\&quot;</span><span class="s1">]));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">mord</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">].concat(newOptions.sizingClasses(options)), buildCommon.tryCombineChars(body), newOptions);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n\n  </span><span class="s1">mathmlBuilder(group, options) {</span><span class="s3">\n    </span><span class="s1">var text = new mathMLTree.TextNode(makeVerb(group));</span><span class="s3">\n    </span><span class="s1">var node = new mathMLTree.MathNode(</span><span class="s3">\&quot;</span><span class="s1">mtext</span><span class="s3">\&quot;</span><span class="s1">, [text]);</span><span class="s3">\n    </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">mathvariant</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">monospace</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts verb group into body string.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* </span><span class="s3">\\</span><span class="s1">verb* replaces each space with an open box </span><span class="s3">\\</span><span class="s1">u2423</span><span class="s3">\n </span><span class="s1">* </span><span class="s3">\\</span><span class="s1">verb replaces each space with a no-break space </span><span class="s3">\\</span><span class="s1">xA0</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">var makeVerb = group =&gt; group.body.replace(/ /g, group.star ? '</span><span class="s3">\\</span><span class="s1">u2423' : '</span><span class="s3">\\</span><span class="s1">xA0');</span><span class="s3">\n\n</span><span class="s1">/** Include this to ensure that all functions are defined. */</span><span class="s3">\n</span><span class="s1">var functions = _functions;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The Lexer class handles tokenizing the input in various ways. Since our</span><span class="s3">\n </span><span class="s1">* parser expects us to be able to backtrack, the lexer allows lexing from any</span><span class="s3">\n </span><span class="s1">* given starting point.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Its main exposed function is the `lex` function, which takes a position to</span><span class="s3">\n </span><span class="s1">* lex from and a type of token to lex. It defers to the appropriate `_innerLex`</span><span class="s3">\n </span><span class="s1">* function.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* The various `_innerLex` functions perform the actual lexing of different</span><span class="s3">\n </span><span class="s1">* kinds.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/* The following tokenRegex</span><span class="s3">\n </span><span class="s1">* - matches typical whitespace (but not NBSP etc.) using its first group</span><span class="s3">\n </span><span class="s1">* - does not match any control character </span><span class="s3">\\</span><span class="s1">x00-</span><span class="s3">\\</span><span class="s1">x1f except whitespace</span><span class="s3">\n </span><span class="s1">* - does not match a bare backslash</span><span class="s3">\n </span><span class="s1">* - matches any ASCII character except those just mentioned</span><span class="s3">\n </span><span class="s1">* - does not match the BMP private use area </span><span class="s3">\\</span><span class="s1">uE000-</span><span class="s3">\\</span><span class="s1">uF8FF</span><span class="s3">\n </span><span class="s1">* - does not match bare surrogate code units</span><span class="s3">\n </span><span class="s1">* - matches any BMP character except for those just described</span><span class="s3">\n </span><span class="s1">* - matches any valid Unicode surrogate pair</span><span class="s3">\n </span><span class="s1">* - matches a backslash followed by one or more whitespace characters</span><span class="s3">\n </span><span class="s1">* - matches a backslash followed by one or more letters then whitespace</span><span class="s3">\n </span><span class="s1">* - matches a backslash followed by any BMP character</span><span class="s3">\n </span><span class="s1">* Capturing groups:</span><span class="s3">\n </span><span class="s1">*   [1] regular whitespace</span><span class="s3">\n </span><span class="s1">*   [2] backslash followed by whitespace</span><span class="s3">\n </span><span class="s1">*   [3] anything else, which may include:</span><span class="s3">\n </span><span class="s1">*     [4] left character of </span><span class="s3">\\</span><span class="s1">verb*</span><span class="s3">\n </span><span class="s1">*     [5] left character of </span><span class="s3">\\</span><span class="s1">verb</span><span class="s3">\n </span><span class="s1">*     [6] backslash followed by word, excluding any trailing whitespace</span><span class="s3">\n </span><span class="s1">* Just because the Lexer matches something doesn't mean it's valid input:</span><span class="s3">\n </span><span class="s1">* If there is no matching function or symbol definition, the Parser will</span><span class="s3">\n </span><span class="s1">* still reject the input.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var spaceRegexString = </span><span class="s3">\&quot;</span><span class="s1">[ </span><span class="s3">\\</span><span class="s1">r</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\\</span><span class="s1">t]</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var controlWordRegexString = </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">[a-zA-Z@]+</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var controlSymbolRegexString = </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">[^</span><span class="s3">\\</span><span class="s1">uD800-</span><span class="s3">\\</span><span class="s1">uDFFF]</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var controlWordWhitespaceRegexString = </span><span class="s3">\&quot;</span><span class="s1">(</span><span class="s3">\&quot; </span><span class="s1">+ controlWordRegexString + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot; </span><span class="s1">+ spaceRegexString + </span><span class="s3">\&quot;</span><span class="s1">*</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var controlSpaceRegexString = </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">(</span><span class="s3">\\</span><span class="s1">n|[ </span><span class="s3">\\</span><span class="s1">r</span><span class="s3">\\</span><span class="s1">t]+</span><span class="s3">\\</span><span class="s1">n?)[ </span><span class="s3">\\</span><span class="s1">r</span><span class="s3">\\</span><span class="s1">t]*</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var combiningDiacriticalMarkString = </span><span class="s3">\&quot;</span><span class="s1">[</span><span class="s3">\\</span><span class="s1">u0300-</span><span class="s3">\\</span><span class="s1">u036f]</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var combiningDiacriticalMarksEndRegex = new RegExp(combiningDiacriticalMarkString + </span><span class="s3">\&quot;</span><span class="s1">+$</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var tokenRegexString = </span><span class="s3">\&quot;</span><span class="s1">(</span><span class="s3">\&quot; </span><span class="s1">+ spaceRegexString + </span><span class="s3">\&quot;</span><span class="s1">+)|</span><span class="s3">\&quot; </span><span class="s1">+ ( // whitespace</span><span class="s3">\n</span><span class="s1">controlSpaceRegexString + </span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">) + // </span><span class="s3">\\</span><span class="s1">whitespace</span><span class="s3">\n\&quot;</span><span class="s1">([!-</span><span class="s3">\\\\</span><span class="s1">[</span><span class="s3">\\\\</span><span class="s1">]-</span><span class="s3">\\</span><span class="s1">u2027</span><span class="s3">\\</span><span class="s1">u202A-</span><span class="s3">\\</span><span class="s1">uD7FF</span><span class="s3">\\</span><span class="s1">uF900-</span><span class="s3">\\</span><span class="s1">uFFFF]</span><span class="s3">\&quot; </span><span class="s1">+ ( // single codepoint</span><span class="s3">\n</span><span class="s1">combiningDiacriticalMarkString + </span><span class="s3">\&quot;</span><span class="s1">*</span><span class="s3">\&quot;</span><span class="s1">) + // ...plus accents</span><span class="s3">\n\&quot;</span><span class="s1">|[</span><span class="s3">\\</span><span class="s1">uD800-</span><span class="s3">\\</span><span class="s1">uDBFF][</span><span class="s3">\\</span><span class="s1">uDC00-</span><span class="s3">\\</span><span class="s1">uDFFF]</span><span class="s3">\&quot; </span><span class="s1">+ ( // surrogate pair</span><span class="s3">\n</span><span class="s1">combiningDiacriticalMarkString + </span><span class="s3">\&quot;</span><span class="s1">*</span><span class="s3">\&quot;</span><span class="s1">) + // ...plus accents</span><span class="s3">\n\&quot;</span><span class="s1">|</span><span class="s3">\\\\\\\\</span><span class="s1">verb</span><span class="s3">\\\\</span><span class="s1">*([^]).*?</span><span class="s3">\\\\</span><span class="s1">4</span><span class="s3">\&quot; </span><span class="s1">+ // </span><span class="s3">\\</span><span class="s1">verb*</span><span class="s3">\n\&quot;</span><span class="s1">|</span><span class="s3">\\\\\\\\</span><span class="s1">verb([^*a-zA-Z]).*?</span><span class="s3">\\\\</span><span class="s1">5</span><span class="s3">\&quot; </span><span class="s1">+ ( // </span><span class="s3">\\</span><span class="s1">verb unstarred</span><span class="s3">\n\&quot;</span><span class="s1">|</span><span class="s3">\&quot; </span><span class="s1">+ controlWordWhitespaceRegexString) + ( // </span><span class="s3">\\</span><span class="s1">macroName + spaces</span><span class="s3">\n\&quot;</span><span class="s1">|</span><span class="s3">\&quot; </span><span class="s1">+ controlSymbolRegexString + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\\\</span><span class="s1">, </span><span class="s3">\\</span><span class="s1">', etc.</span><span class="s3">\n\n</span><span class="s1">/** Main Lexer class */</span><span class="s3">\n\n</span><span class="s1">class Lexer {</span><span class="s3">\n  </span><span class="s1">// Category codes. The lexer only supports comment characters (14) for now.</span><span class="s3">\n  </span><span class="s1">// MacroExpander additionally distinguishes active (13).</span><span class="s3">\n  </span><span class="s1">constructor(input, settings) {</span><span class="s3">\n    </span><span class="s1">this.input = void 0;</span><span class="s3">\n    </span><span class="s1">this.settings = void 0;</span><span class="s3">\n    </span><span class="s1">this.tokenRegex = void 0;</span><span class="s3">\n    </span><span class="s1">this.catcodes = void 0;</span><span class="s3">\n    </span><span class="s1">// Separate accents from characters</span><span class="s3">\n    </span><span class="s1">this.input = input;</span><span class="s3">\n    </span><span class="s1">this.settings = settings;</span><span class="s3">\n    </span><span class="s1">this.tokenRegex = new RegExp(tokenRegexString, 'g');</span><span class="s3">\n    </span><span class="s1">this.catcodes = {</span><span class="s3">\n      \&quot;</span><span class="s1">%</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n      </span><span class="s1">// comment character</span><span class="s3">\n      \&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">: 13 // active character</span><span class="s3">\n\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">setCatcode(char, code) {</span><span class="s3">\n    </span><span class="s1">this.catcodes[char] = code;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* This function lexes a single token.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">lex() {</span><span class="s3">\n    </span><span class="s1">var input = this.input;</span><span class="s3">\n    </span><span class="s1">var pos = this.tokenRegex.lastIndex;</span><span class="s3">\n\n    </span><span class="s1">if (pos === input.length) {</span><span class="s3">\n      </span><span class="s1">return new Token(</span><span class="s3">\&quot;</span><span class="s1">EOF</span><span class="s3">\&quot;</span><span class="s1">, new SourceLocation(this, pos, pos));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var match = this.tokenRegex.exec(input);</span><span class="s3">\n\n    </span><span class="s1">if (match === null || match.index !== pos) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Unexpected character: '</span><span class="s3">\&quot; </span><span class="s1">+ input[pos] + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">, new Token(input[pos], new SourceLocation(this, pos, pos + 1)));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var text = match[6] || match[3] || (match[2] ? </span><span class="s3">\&quot;\\\\ \&quot; </span><span class="s1">: </span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">if (this.catcodes[text] === 14) {</span><span class="s3">\n      </span><span class="s1">// comment character</span><span class="s3">\n      </span><span class="s1">var nlIndex = input.indexOf('</span><span class="s3">\\</span><span class="s1">n', this.tokenRegex.lastIndex);</span><span class="s3">\n\n      </span><span class="s1">if (nlIndex === -1) {</span><span class="s3">\n        </span><span class="s1">this.tokenRegex.lastIndex = input.length; // EOF</span><span class="s3">\n\n        </span><span class="s1">this.settings.reportNonstrict(</span><span class="s3">\&quot;</span><span class="s1">commentAtEnd</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">% comment has no terminating newline; LaTeX would </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">fail because of commenting the end of math mode (e.g. $)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">this.tokenRegex.lastIndex = nlIndex + 1;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">return this.lex();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return new Token(text, new SourceLocation(this, pos, this.tokenRegex.lastIndex));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A `Namespace` refers to a space of nameable things like macros or lengths,</span><span class="s3">\n </span><span class="s1">* which can be `set` either globally or local to a nested group, using an</span><span class="s3">\n </span><span class="s1">* undo stack similar to how TeX implements this functionality.</span><span class="s3">\n </span><span class="s1">* Performance-wise, `get` and local `set` take constant time, while global</span><span class="s3">\n </span><span class="s1">* `set` takes time proportional to the depth of group nesting.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class Namespace {</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Both arguments are optional.  The first argument is an object of</span><span class="s3">\n   </span><span class="s1">* built-in mappings which never change.  The second argument is an object</span><span class="s3">\n   </span><span class="s1">* of initial (global-level) mappings, which will constantly change</span><span class="s3">\n   </span><span class="s1">* according to any global/top-level `set`s done.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">constructor(builtins, globalMacros) {</span><span class="s3">\n    </span><span class="s1">if (builtins === void 0) {</span><span class="s3">\n      </span><span class="s1">builtins = {};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (globalMacros === void 0) {</span><span class="s3">\n      </span><span class="s1">globalMacros = {};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">this.current = void 0;</span><span class="s3">\n    </span><span class="s1">this.builtins = void 0;</span><span class="s3">\n    </span><span class="s1">this.undefStack = void 0;</span><span class="s3">\n    </span><span class="s1">this.current = globalMacros;</span><span class="s3">\n    </span><span class="s1">this.builtins = builtins;</span><span class="s3">\n    </span><span class="s1">this.undefStack = [];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Start a new nested group, affecting future local `set`s.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">beginGroup() {</span><span class="s3">\n    </span><span class="s1">this.undefStack.push({});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* End current nested group, restoring values before the group began.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">endGroup() {</span><span class="s3">\n    </span><span class="s1">if (this.undefStack.length === 0) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Unbalanced namespace destruction: attempt </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">to pop global namespace; please report this as a bug</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var undefs = this.undefStack.pop();</span><span class="s3">\n\n    </span><span class="s1">for (var undef in undefs) {</span><span class="s3">\n      </span><span class="s1">if (undefs.hasOwnProperty(undef)) {</span><span class="s3">\n        </span><span class="s1">if (undefs[undef] == null) {</span><span class="s3">\n          </span><span class="s1">delete this.current[undef];</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">this.current[undef] = undefs[undef];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Ends all currently nested groups (if any), restoring values before the</span><span class="s3">\n   </span><span class="s1">* groups began.  Useful in case of an error in the middle of parsing.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">endGroups() {</span><span class="s3">\n    </span><span class="s1">while (this.undefStack.length &gt; 0) {</span><span class="s3">\n      </span><span class="s1">this.endGroup();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Detect whether `name` has a definition.  Equivalent to</span><span class="s3">\n   </span><span class="s1">* `get(name) != null`.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">has(name) {</span><span class="s3">\n    </span><span class="s1">return this.current.hasOwnProperty(name) || this.builtins.hasOwnProperty(name);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Get the current value of a name, or `undefined` if there is no value.</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* Note: Do not use `if (namespace.get(...))` to detect whether a macro</span><span class="s3">\n   </span><span class="s1">* is defined, as the definition may be the empty string which evaluates</span><span class="s3">\n   </span><span class="s1">* to `false` in JavaScript.  Use `if (namespace.get(...) != null)` or</span><span class="s3">\n   </span><span class="s1">* `if (namespace.has(...))`.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">get(name) {</span><span class="s3">\n    </span><span class="s1">if (this.current.hasOwnProperty(name)) {</span><span class="s3">\n      </span><span class="s1">return this.current[name];</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return this.builtins[name];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Set the current value of a name, and optionally set it globally too.</span><span class="s3">\n   </span><span class="s1">* Local set() sets the current value and (when appropriate) adds an undo</span><span class="s3">\n   </span><span class="s1">* operation to the undo stack.  Global set() may change the undo</span><span class="s3">\n   </span><span class="s1">* operation at every level, so takes time linear in their number.</span><span class="s3">\n   </span><span class="s1">* A value of undefined means to delete existing definitions.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">set(name, value, global) {</span><span class="s3">\n    </span><span class="s1">if (global === void 0) {</span><span class="s3">\n      </span><span class="s1">global = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (global) {</span><span class="s3">\n      </span><span class="s1">// Global set is equivalent to setting in all groups.  Simulate this</span><span class="s3">\n      </span><span class="s1">// by destroying any undos currently scheduled for this name,</span><span class="s3">\n      </span><span class="s1">// and adding an undo with the *new* value (in case it later gets</span><span class="s3">\n      </span><span class="s1">// locally reset within this environment).</span><span class="s3">\n      </span><span class="s1">for (var i = 0; i &lt; this.undefStack.length; i++) {</span><span class="s3">\n        </span><span class="s1">delete this.undefStack[i][name];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (this.undefStack.length &gt; 0) {</span><span class="s3">\n        </span><span class="s1">this.undefStack[this.undefStack.length - 1][name] = value;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">// Undo this set at end of this group (possibly to `undefined`),</span><span class="s3">\n      </span><span class="s1">// unless an undo is already in place, in which case that older</span><span class="s3">\n      </span><span class="s1">// value is the correct one.</span><span class="s3">\n      </span><span class="s1">var top = this.undefStack[this.undefStack.length - 1];</span><span class="s3">\n\n      </span><span class="s1">if (top &amp;&amp; !top.hasOwnProperty(name)) {</span><span class="s3">\n        </span><span class="s1">top[name] = this.current[name];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (value == null) {</span><span class="s3">\n      </span><span class="s1">delete this.current[name];</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">this.current[name] = value;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Predefined macros for KaTeX.</span><span class="s3">\n </span><span class="s1">* This can be used to define some commands in terms of others.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var macros = _macros;</span><span class="s3">\n</span><span class="s1">// macro tools</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">noexpand</span><span class="s3">\&quot;</span><span class="s1">, function (context) {</span><span class="s3">\n  </span><span class="s1">// The expansion is the token itself; but that token is interpreted</span><span class="s3">\n  </span><span class="s1">// as if its meaning were </span><span class="s3">\\</span><span class="s1">relax if it is a control sequence that</span><span class="s3">\n  </span><span class="s1">// would ordinarily be expanded by TeXs expansion rules.</span><span class="s3">\n  </span><span class="s1">var t = context.popToken();</span><span class="s3">\n\n  </span><span class="s1">if (context.isExpandable(t.text)) {</span><span class="s3">\n    </span><span class="s1">t.noexpand = true;</span><span class="s3">\n    </span><span class="s1">t.treatAsRelax = true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">tokens: [t],</span><span class="s3">\n    </span><span class="s1">numArgs: 0</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">expandafter</span><span class="s3">\&quot;</span><span class="s1">, function (context) {</span><span class="s3">\n  </span><span class="s1">// TeX first reads the token that comes immediately after </span><span class="s3">\\</span><span class="s1">expandafter,</span><span class="s3">\n  </span><span class="s1">// without expanding it; lets call this token t. Then TeX reads the</span><span class="s3">\n  </span><span class="s1">// token that comes after t (and possibly more tokens, if that token</span><span class="s3">\n  </span><span class="s1">// has an argument), replacing it by its expansion. Finally TeX puts</span><span class="s3">\n  </span><span class="s1">// t back in front of that expansion.</span><span class="s3">\n  </span><span class="s1">var t = context.popToken();</span><span class="s3">\n  </span><span class="s1">context.expandOnce(true); // expand only an expandable token</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">tokens: [t],</span><span class="s3">\n    </span><span class="s1">numArgs: 0</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}); // LaTeX's </span><span class="s3">\\</span><span class="s1">@firstoftwo{#1}{#2} expands to #1, skipping #2</span><span class="s3">\n</span><span class="s1">// TeX source: </span><span class="s3">\\</span><span class="s1">long</span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">@firstoftwo#1#2{#1}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">@firstoftwo</span><span class="s3">\&quot;</span><span class="s1">, function (context) {</span><span class="s3">\n  </span><span class="s1">var args = context.consumeArgs(2);</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">tokens: args[0],</span><span class="s3">\n    </span><span class="s1">numArgs: 0</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}); // LaTeX's </span><span class="s3">\\</span><span class="s1">@secondoftwo{#1}{#2} expands to #2, skipping #1</span><span class="s3">\n</span><span class="s1">// TeX source: </span><span class="s3">\\</span><span class="s1">long</span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">@secondoftwo#1#2{#2}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">@secondoftwo</span><span class="s3">\&quot;</span><span class="s1">, function (context) {</span><span class="s3">\n  </span><span class="s1">var args = context.consumeArgs(2);</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">tokens: args[1],</span><span class="s3">\n    </span><span class="s1">numArgs: 0</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}); // LaTeX's </span><span class="s3">\\</span><span class="s1">@ifnextchar{#1}{#2}{#3} looks ahead to the next (unexpanded)</span><span class="s3">\n</span><span class="s1">// symbol that isn't a space, consuming any spaces but not consuming the</span><span class="s3">\n</span><span class="s1">// first nonspace character.  If that nonspace character matches #1, then</span><span class="s3">\n</span><span class="s1">// the macro expands to #2; otherwise, it expands to #3.</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">@ifnextchar</span><span class="s3">\&quot;</span><span class="s1">, function (context) {</span><span class="s3">\n  </span><span class="s1">var args = context.consumeArgs(3); // symbol, if, else</span><span class="s3">\n\n  </span><span class="s1">context.consumeSpaces();</span><span class="s3">\n  </span><span class="s1">var nextToken = context.future();</span><span class="s3">\n\n  </span><span class="s1">if (args[0].length === 1 &amp;&amp; args[0][0].text === nextToken.text) {</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">tokens: args[1],</span><span class="s3">\n      </span><span class="s1">numArgs: 0</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">tokens: args[2],</span><span class="s3">\n      </span><span class="s1">numArgs: 0</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}); // LaTeX's </span><span class="s3">\\</span><span class="s1">@ifstar{#1}{#2} looks ahead to the next (unexpanded) symbol.</span><span class="s3">\n</span><span class="s1">// If it is `*`, then it consumes the symbol, and the macro expands to #1;</span><span class="s3">\n</span><span class="s1">// otherwise, the macro expands to #2 (without consuming the symbol).</span><span class="s3">\n</span><span class="s1">// TeX source: </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">@ifstar#1{</span><span class="s3">\\</span><span class="s1">@ifnextchar *{</span><span class="s3">\\</span><span class="s1">@firstoftwo{#1}}}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">@ifstar</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@ifnextchar *{</span><span class="s3">\\\\</span><span class="s1">@firstoftwo{#1}}</span><span class="s3">\&quot;</span><span class="s1">); // LaTeX's </span><span class="s3">\\</span><span class="s1">TextOrMath{#1}{#2} expands to #1 in text mode, #2 in math mode</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">TextOrMath</span><span class="s3">\&quot;</span><span class="s1">, function (context) {</span><span class="s3">\n  </span><span class="s1">var args = context.consumeArgs(2);</span><span class="s3">\n\n  </span><span class="s1">if (context.mode === 'text') {</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">tokens: args[0],</span><span class="s3">\n      </span><span class="s1">numArgs: 0</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">tokens: args[1],</span><span class="s3">\n      </span><span class="s1">numArgs: 0</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}); // Lookup table for parsing numbers in base 8 through 16</span><span class="s3">\n\n</span><span class="s1">var digitToNumber = {</span><span class="s3">\n  \&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">: 0,</span><span class="s3">\n  \&quot;</span><span class="s1">1</span><span class="s3">\&quot;</span><span class="s1">: 1,</span><span class="s3">\n  \&quot;</span><span class="s1">2</span><span class="s3">\&quot;</span><span class="s1">: 2,</span><span class="s3">\n  \&quot;</span><span class="s1">3</span><span class="s3">\&quot;</span><span class="s1">: 3,</span><span class="s3">\n  \&quot;</span><span class="s1">4</span><span class="s3">\&quot;</span><span class="s1">: 4,</span><span class="s3">\n  \&quot;</span><span class="s1">5</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n  \&quot;</span><span class="s1">6</span><span class="s3">\&quot;</span><span class="s1">: 6,</span><span class="s3">\n  \&quot;</span><span class="s1">7</span><span class="s3">\&quot;</span><span class="s1">: 7,</span><span class="s3">\n  \&quot;</span><span class="s1">8</span><span class="s3">\&quot;</span><span class="s1">: 8,</span><span class="s3">\n  \&quot;</span><span class="s1">9</span><span class="s3">\&quot;</span><span class="s1">: 9,</span><span class="s3">\n  \&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n  \&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n  \&quot;</span><span class="s1">b</span><span class="s3">\&quot;</span><span class="s1">: 11,</span><span class="s3">\n  \&quot;</span><span class="s1">B</span><span class="s3">\&quot;</span><span class="s1">: 11,</span><span class="s3">\n  \&quot;</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">: 12,</span><span class="s3">\n  \&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">: 12,</span><span class="s3">\n  \&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">: 13,</span><span class="s3">\n  \&quot;</span><span class="s1">D</span><span class="s3">\&quot;</span><span class="s1">: 13,</span><span class="s3">\n  \&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n  \&quot;</span><span class="s1">E</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n  \&quot;</span><span class="s1">f</span><span class="s3">\&quot;</span><span class="s1">: 15,</span><span class="s3">\n  \&quot;</span><span class="s1">F</span><span class="s3">\&quot;</span><span class="s1">: 15</span><span class="s3">\n</span><span class="s1">}; // TeX </span><span class="s3">\\</span><span class="s1">char makes a literal character (catcode 12) using the following forms:</span><span class="s3">\n</span><span class="s1">// (see The TeXBook, p. 43)</span><span class="s3">\n</span><span class="s1">//   </span><span class="s3">\\</span><span class="s1">char123  -- decimal</span><span class="s3">\n</span><span class="s1">//   </span><span class="s3">\\</span><span class="s1">char'123 -- octal</span><span class="s3">\n</span><span class="s1">//   </span><span class="s3">\\</span><span class="s1">char</span><span class="s3">\&quot;</span><span class="s1">123 -- hex</span><span class="s3">\n</span><span class="s1">//   </span><span class="s3">\\</span><span class="s1">char`x   -- character that can be written (i.e. isn't active)</span><span class="s3">\n</span><span class="s1">//   </span><span class="s3">\\</span><span class="s1">char`</span><span class="s3">\\</span><span class="s1">x  -- character that cannot be written (e.g. %)</span><span class="s3">\n</span><span class="s1">// These all refer to characters from the font, so we turn them into special</span><span class="s3">\n</span><span class="s1">// calls to a function </span><span class="s3">\\</span><span class="s1">@char dealt with in the Parser.</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">char</span><span class="s3">\&quot;</span><span class="s1">, function (context) {</span><span class="s3">\n  </span><span class="s1">var token = context.popToken();</span><span class="s3">\n  </span><span class="s1">var base;</span><span class="s3">\n  </span><span class="s1">var number = '';</span><span class="s3">\n\n  </span><span class="s1">if (token.text === </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">base = 8;</span><span class="s3">\n    </span><span class="s1">token = context.popToken();</span><span class="s3">\n  </span><span class="s1">} else if (token.text === '</span><span class="s3">\&quot;</span><span class="s1">') {</span><span class="s3">\n    </span><span class="s1">base = 16;</span><span class="s3">\n    </span><span class="s1">token = context.popToken();</span><span class="s3">\n  </span><span class="s1">} else if (token.text === </span><span class="s3">\&quot;</span><span class="s1">`</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">token = context.popToken();</span><span class="s3">\n\n    </span><span class="s1">if (token.text[0] === </span><span class="s3">\&quot;\\\\\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">number = token.text.charCodeAt(1);</span><span class="s3">\n    </span><span class="s1">} else if (token.text === </span><span class="s3">\&quot;</span><span class="s1">EOF</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;\\\\</span><span class="s1">char` missing argument</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">number = token.text.charCodeAt(0);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">base = 10;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (base) {</span><span class="s3">\n    </span><span class="s1">// Parse a number in the given base, starting with first `token`.</span><span class="s3">\n    </span><span class="s1">number = digitToNumber[token.text];</span><span class="s3">\n\n    </span><span class="s1">if (number == null || number &gt;= base) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Invalid base-</span><span class="s3">\&quot; </span><span class="s1">+ base + </span><span class="s3">\&quot; </span><span class="s1">digit </span><span class="s3">\&quot; </span><span class="s1">+ token.text);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var digit;</span><span class="s3">\n\n    </span><span class="s1">while ((digit = digitToNumber[context.future().text]) != null &amp;&amp; digit &lt; base) {</span><span class="s3">\n      </span><span class="s1">number *= base;</span><span class="s3">\n      </span><span class="s1">number += digit;</span><span class="s3">\n      </span><span class="s1">context.popToken();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return </span><span class="s3">\&quot;\\\\</span><span class="s1">@char{</span><span class="s3">\&quot; </span><span class="s1">+ number + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}); // </span><span class="s3">\\</span><span class="s1">newcommand{</span><span class="s3">\\</span><span class="s1">macro}[args]{definition}</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">renewcommand{</span><span class="s3">\\</span><span class="s1">macro}[args]{definition}</span><span class="s3">\n</span><span class="s1">// TODO: Optional arguments: </span><span class="s3">\\</span><span class="s1">newcommand{</span><span class="s3">\\</span><span class="s1">macro}[args][default]{definition}</span><span class="s3">\n\n</span><span class="s1">var newcommand = (context, existsOK, nonexistsOK, skipIfExists) =&gt; {</span><span class="s3">\n  </span><span class="s1">var arg = context.consumeArg().tokens;</span><span class="s3">\n\n  </span><span class="s1">if (arg.length !== 1) {</span><span class="s3">\n    </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;\\\\</span><span class="s1">newcommand's first argument must be a macro name</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var name = arg[0].text;</span><span class="s3">\n  </span><span class="s1">var exists = context.isDefined(name);</span><span class="s3">\n\n  </span><span class="s1">if (exists &amp;&amp; !existsOK) {</span><span class="s3">\n    </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;\\\\</span><span class="s1">newcommand{</span><span class="s3">\&quot; </span><span class="s1">+ name + </span><span class="s3">\&quot;</span><span class="s1">} attempting to redefine </span><span class="s3">\&quot; </span><span class="s1">+ (name + </span><span class="s3">\&quot;</span><span class="s1">; use </span><span class="s3">\\\\</span><span class="s1">renewcommand</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (!exists &amp;&amp; !nonexistsOK) {</span><span class="s3">\n    </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;\\\\</span><span class="s1">renewcommand{</span><span class="s3">\&quot; </span><span class="s1">+ name + </span><span class="s3">\&quot;</span><span class="s1">} when command </span><span class="s3">\&quot; </span><span class="s1">+ name + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">does not yet exist; use </span><span class="s3">\\\\</span><span class="s1">newcommand</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var numArgs = 0;</span><span class="s3">\n  </span><span class="s1">arg = context.consumeArg().tokens;</span><span class="s3">\n\n  </span><span class="s1">if (arg.length === 1 &amp;&amp; arg[0].text === </span><span class="s3">\&quot;</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">var argText = '';</span><span class="s3">\n    </span><span class="s1">var token = context.expandNextToken();</span><span class="s3">\n\n    </span><span class="s1">while (token.text !== </span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; token.text !== </span><span class="s3">\&quot;</span><span class="s1">EOF</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">// TODO: Should properly expand arg, e.g., ignore {}s</span><span class="s3">\n      </span><span class="s1">argText += token.text;</span><span class="s3">\n      </span><span class="s1">token = context.expandNextToken();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (!argText.match(/^</span><span class="s3">\\</span><span class="s1">s*[0-9]+</span><span class="s3">\\</span><span class="s1">s*$/)) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Invalid number of arguments: </span><span class="s3">\&quot; </span><span class="s1">+ argText);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">numArgs = parseInt(argText);</span><span class="s3">\n    </span><span class="s1">arg = context.consumeArg().tokens;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (!(exists &amp;&amp; skipIfExists)) {</span><span class="s3">\n    </span><span class="s1">// Final arg is the expansion of the macro</span><span class="s3">\n    </span><span class="s1">context.macros.set(name, {</span><span class="s3">\n      </span><span class="s1">tokens: arg,</span><span class="s3">\n      </span><span class="s1">numArgs</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return '';</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">newcommand</span><span class="s3">\&quot;</span><span class="s1">, context =&gt; newcommand(context, false, true, false));</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">renewcommand</span><span class="s3">\&quot;</span><span class="s1">, context =&gt; newcommand(context, true, false, false));</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">providecommand</span><span class="s3">\&quot;</span><span class="s1">, context =&gt; newcommand(context, true, true, true)); // terminal (console) tools</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">message</span><span class="s3">\&quot;</span><span class="s1">, context =&gt; {</span><span class="s3">\n  </span><span class="s1">var arg = context.consumeArgs(1)[0]; // eslint-disable-next-line no-console</span><span class="s3">\n\n  </span><span class="s1">console.log(arg.reverse().map(token =&gt; token.text).join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">return '';</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">errmessage</span><span class="s3">\&quot;</span><span class="s1">, context =&gt; {</span><span class="s3">\n  </span><span class="s1">var arg = context.consumeArgs(1)[0]; // eslint-disable-next-line no-console</span><span class="s3">\n\n  </span><span class="s1">console.error(arg.reverse().map(token =&gt; token.text).join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">return '';</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">show</span><span class="s3">\&quot;</span><span class="s1">, context =&gt; {</span><span class="s3">\n  </span><span class="s1">var tok = context.popToken();</span><span class="s3">\n  </span><span class="s1">var name = tok.text; // eslint-disable-next-line no-console</span><span class="s3">\n\n  </span><span class="s1">console.log(tok, context.macros.get(name), functions[name], symbols.math[name], symbols.text[name]);</span><span class="s3">\n  </span><span class="s1">return '';</span><span class="s3">\n</span><span class="s1">}); //////////////////////////////////////////////////////////////////////</span><span class="s3">\n</span><span class="s1">// Grouping</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">let</span><span class="s3">\\</span><span class="s1">bgroup={ </span><span class="s3">\\</span><span class="s1">let</span><span class="s3">\\</span><span class="s1">egroup=}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">bgroup</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">egroup</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">); // Symbols from latex.ltx:</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">def~{</span><span class="s3">\\</span><span class="s1">nobreakspace{}}</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">lq{`}</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">rq{'}</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">def </span><span class="s3">\\</span><span class="s1">aa {</span><span class="s3">\\</span><span class="s1">r a}</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">def </span><span class="s3">\\</span><span class="s1">AA {</span><span class="s3">\\</span><span class="s1">r A}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nobreakspace</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">lq</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">`</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">rq</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">aa</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">r a</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">AA</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">r A</span><span class="s3">\&quot;</span><span class="s1">); // Copyright (C) and registered (R) symbols. Use raw symbol in MathML.</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">DeclareTextCommandDefault{</span><span class="s3">\\</span><span class="s1">textcopyright}{</span><span class="s3">\\</span><span class="s1">textcircled{c}}</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">DeclareTextCommandDefault{</span><span class="s3">\\</span><span class="s1">textregistered}{</span><span class="s3">\\</span><span class="s1">textcircled{%</span><span class="s3">\n</span><span class="s1">//      </span><span class="s3">\\</span><span class="s1">check@mathfonts</span><span class="s3">\\</span><span class="s1">fontsize</span><span class="s3">\\</span><span class="s1">sf@size</span><span class="s3">\\</span><span class="s1">z@</span><span class="s3">\\</span><span class="s1">math@fontsfalse</span><span class="s3">\\</span><span class="s1">selectfont R}}</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">DeclareRobustCommand{</span><span class="s3">\\</span><span class="s1">copyright}{%</span><span class="s3">\n</span><span class="s1">//    </span><span class="s3">\\</span><span class="s1">ifmmode{</span><span class="s3">\\</span><span class="s1">nfss@text{</span><span class="s3">\\</span><span class="s1">textcopyright}}</span><span class="s3">\\</span><span class="s1">else</span><span class="s3">\\</span><span class="s1">textcopyright</span><span class="s3">\\</span><span class="s1">fi}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">textcopyright</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">textcircled{c}}{</span><span class="s3">\\\\</span><span class="s1">char`}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">copyright</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">TextOrMath{</span><span class="s3">\\\\</span><span class="s1">textcopyright}{</span><span class="s3">\\\\</span><span class="s1">text{</span><span class="s3">\\\\</span><span class="s1">textcopyright}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">textregistered</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">textcircled{</span><span class="s3">\\\\</span><span class="s1">scriptsize R}}{</span><span class="s3">\\\\</span><span class="s1">char`}</span><span class="s3">\&quot;</span><span class="s1">); // Characters omitted from Unicode range 1D4001D7FF</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u212C</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathscr{B}</span><span class="s3">\&quot;</span><span class="s1">); // script</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u2130</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathscr{E}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u2131</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathscr{F}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u210B</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathscr{H}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u2110</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathscr{I}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u2112</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathscr{L}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u2133</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathscr{M}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u211B</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathscr{R}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u212D</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathfrak{C}</span><span class="s3">\&quot;</span><span class="s1">); // Fraktur</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u210C</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathfrak{H}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u2128</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathfrak{Z}</span><span class="s3">\&quot;</span><span class="s1">); // Define </span><span class="s3">\\</span><span class="s1">Bbbk with a macro that works in both HTML and MathML.</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Bbbk</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Bbb{k}</span><span class="s3">\&quot;</span><span class="s1">); // Unicode middle dot</span><span class="s3">\n</span><span class="s1">// The KaTeX fonts do not contain U+00B7. Instead, </span><span class="s3">\\</span><span class="s1">cdotp displays</span><span class="s3">\n</span><span class="s1">// the dot at U+22C5 and gives it punct spacing.</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u00b7</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">cdotp</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">llap and </span><span class="s3">\\</span><span class="s1">rlap render their contents in text mode</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">llap</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathllap{</span><span class="s3">\\\\</span><span class="s1">textrm{#1}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">rlap</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrlap{</span><span class="s3">\\\\</span><span class="s1">textrm{#1}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">clap</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathclap{</span><span class="s3">\\\\</span><span class="s1">textrm{#1}}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">mathstrut from the TeXbook, p 360</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">mathstrut</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">vphantom{(}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">underbar from TeXbook p 353</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">underbar</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">underline{</span><span class="s3">\\\\</span><span class="s1">text{#1}}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">not is defined by base/fontmath.ltx via</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">DeclareMathSymbol{</span><span class="s3">\\</span><span class="s1">not}{</span><span class="s3">\\</span><span class="s1">mathrel}{symbols}{</span><span class="s3">\&quot;</span><span class="s1">36}</span><span class="s3">\n</span><span class="s1">// It's thus treated like a </span><span class="s3">\\</span><span class="s1">mathrel, but defined by a symbol that has zero</span><span class="s3">\n</span><span class="s1">// width but extends to the right.  We use </span><span class="s3">\\</span><span class="s1">rlap to get that spacing.</span><span class="s3">\n</span><span class="s1">// For MathML we write U+0338 here. buildMathML.js will then do the overlay.</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">not</span><span class="s3">\&quot;</span><span class="s1">, '</span><span class="s3">\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mathrlap</span><span class="s3">\\\\</span><span class="s1">@not}}{</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\&quot;</span><span class="s1">338}'); // Negated symbols from base/fontmath.ltx:</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">neq{</span><span class="s3">\\</span><span class="s1">not=} </span><span class="s3">\\</span><span class="s1">let</span><span class="s3">\\</span><span class="s1">ne=</span><span class="s3">\\</span><span class="s1">neq</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">DeclareRobustCommand</span><span class="s3">\n</span><span class="s1">//   </span><span class="s3">\\</span><span class="s1">notin{</span><span class="s3">\\</span><span class="s1">mathrel{</span><span class="s3">\\</span><span class="s1">m@th</span><span class="s3">\\</span><span class="s1">mathpalette</span><span class="s3">\\</span><span class="s1">c@ncel</span><span class="s3">\\</span><span class="s1">in}}</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">c@ncel#1#2{</span><span class="s3">\\</span><span class="s1">m@th</span><span class="s3">\\</span><span class="s1">ooalign{$</span><span class="s3">\\</span><span class="s1">hfil#1</span><span class="s3">\\</span><span class="s1">mkern1mu/</span><span class="s3">\\</span><span class="s1">hfil$</span><span class="s3">\\</span><span class="s1">crcr$#1#2$}}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">neq</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">not=}}{</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">char`}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">ne</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">neq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u2260</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">neq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">notin</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">mathrel{{</span><span class="s3">\\\\</span><span class="s1">in}</span><span class="s3">\\\\</span><span class="s1">mathllap{/</span><span class="s3">\\\\</span><span class="s1">mskip1mu}}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">char`}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u2209</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">notin</span><span class="s3">\&quot;</span><span class="s1">); // Unicode stacked relations</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u2258</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel{=</span><span class="s3">\\\\</span><span class="s1">kern{-1em}</span><span class="s3">\\\\</span><span class="s1">raisebox{0.4em}{$</span><span class="s3">\\\\</span><span class="s1">scriptsize</span><span class="s3">\\\\</span><span class="s1">frown$}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">}{</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">char`</span><span class="s3">\\</span><span class="s1">u2258}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u2259</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">stackrel{</span><span class="s3">\\\\</span><span class="s1">tiny</span><span class="s3">\\\\</span><span class="s1">wedge}{=}}{</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">char`</span><span class="s3">\\</span><span class="s1">u2258}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u225A</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">stackrel{</span><span class="s3">\\\\</span><span class="s1">tiny</span><span class="s3">\\\\</span><span class="s1">vee}{=}}{</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">char`</span><span class="s3">\\</span><span class="s1">u225A}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u225B</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">stackrel{</span><span class="s3">\\\\</span><span class="s1">scriptsize</span><span class="s3">\\\\</span><span class="s1">star}{=}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">char`</span><span class="s3">\\</span><span class="s1">u225B}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u225D</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">stackrel{</span><span class="s3">\\\\</span><span class="s1">tiny</span><span class="s3">\\\\</span><span class="s1">mathrm{def}}{=}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">char`</span><span class="s3">\\</span><span class="s1">u225D}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u225E</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">stackrel{</span><span class="s3">\\\\</span><span class="s1">tiny</span><span class="s3">\\\\</span><span class="s1">mathrm{m}}{=}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">char`</span><span class="s3">\\</span><span class="s1">u225E}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u225F</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">stackrel{</span><span class="s3">\\\\</span><span class="s1">tiny?}{=}}{</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">char`</span><span class="s3">\\</span><span class="s1">u225F}}</span><span class="s3">\&quot;</span><span class="s1">); // Misc Unicode</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u27C2</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">perp</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u203C</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathclose{!</span><span class="s3">\\\\</span><span class="s1">mkern-0.8mu!}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u220C</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">notni</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u231C</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ulcorner</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u231D</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">urcorner</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u231E</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">llcorner</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u231F</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lrcorner</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u00A9</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">copyright</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u00AE</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textregistered</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">uFE0F</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textregistered</span><span class="s3">\&quot;</span><span class="s1">); // The KaTeX fonts have corners at codepoints that don't match Unicode.</span><span class="s3">\n</span><span class="s1">// For MathML purposes, use the Unicode code point.</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">ulcorner</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@ulcorner}{</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">231c}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">urcorner</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@urcorner}{</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">231d}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">llcorner</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@llcorner}{</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">231e}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">lrcorner</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@lrcorner}{</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">231f}}</span><span class="s3">\&quot;</span><span class="s1">); //////////////////////////////////////////////////////////////////////</span><span class="s3">\n</span><span class="s1">// LaTeX_2</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">vdots{</span><span class="s3">\\</span><span class="s1">vbox{</span><span class="s3">\\</span><span class="s1">baselineskip4</span><span class="s3">\\</span><span class="s1">p@  </span><span class="s3">\\</span><span class="s1">lineskiplimit</span><span class="s3">\\</span><span class="s1">z@</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">kern6</span><span class="s3">\\</span><span class="s1">p@</span><span class="s3">\\</span><span class="s1">hbox{.}</span><span class="s3">\\</span><span class="s1">hbox{.}</span><span class="s3">\\</span><span class="s1">hbox{.}}}</span><span class="s3">\n</span><span class="s1">// We'll call </span><span class="s3">\\</span><span class="s1">varvdots, which gets a glyph from symbols.js.</span><span class="s3">\n</span><span class="s1">// The zero-width rule gets us an equivalent to the vertical 6pt kern.</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">vdots</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">varvdots</span><span class="s3">\\\\</span><span class="s1">rule{0pt}{15pt}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u22ee</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">vdots</span><span class="s3">\&quot;</span><span class="s1">); //////////////////////////////////////////////////////////////////////</span><span class="s3">\n</span><span class="s1">// amsmath.sty</span><span class="s3">\n</span><span class="s1">// http://mirrors.concertpass.com/tex-archive/macros/latex/required/amsmath/amsmath.pdf</span><span class="s3">\n</span><span class="s1">// Italic Greek capital letters.  AMS defines these with </span><span class="s3">\\</span><span class="s1">DeclareMathSymbol,</span><span class="s3">\n</span><span class="s1">// but they are equivalent to </span><span class="s3">\\</span><span class="s1">mathit{</span><span class="s3">\\</span><span class="s1">Letter}.</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varGamma</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathit{</span><span class="s3">\\\\</span><span class="s1">Gamma}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varDelta</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathit{</span><span class="s3">\\\\</span><span class="s1">Delta}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varTheta</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathit{</span><span class="s3">\\\\</span><span class="s1">Theta}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varLambda</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathit{</span><span class="s3">\\\\</span><span class="s1">Lambda}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varXi</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathit{</span><span class="s3">\\\\</span><span class="s1">Xi}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varPi</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathit{</span><span class="s3">\\\\</span><span class="s1">Pi}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varSigma</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathit{</span><span class="s3">\\\\</span><span class="s1">Sigma}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varUpsilon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathit{</span><span class="s3">\\\\</span><span class="s1">Upsilon}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varPhi</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathit{</span><span class="s3">\\\\</span><span class="s1">Phi}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varPsi</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathit{</span><span class="s3">\\\\</span><span class="s1">Psi}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varOmega</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathit{</span><span class="s3">\\\\</span><span class="s1">Omega}</span><span class="s3">\&quot;</span><span class="s1">); //</span><span class="s3">\\</span><span class="s1">newcommand{</span><span class="s3">\\</span><span class="s1">substack}[1]{</span><span class="s3">\\</span><span class="s1">subarray{c}#1</span><span class="s3">\\</span><span class="s1">endsubarray}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">substack</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">begin{subarray}{c}#1</span><span class="s3">\\\\</span><span class="s1">end{subarray}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">renewcommand{</span><span class="s3">\\</span><span class="s1">colon}{</span><span class="s3">\\</span><span class="s1">nobreak</span><span class="s3">\\</span><span class="s1">mskip2mu</span><span class="s3">\\</span><span class="s1">mathpunct{}</span><span class="s3">\\</span><span class="s1">nonscript</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">mkern-</span><span class="s3">\\</span><span class="s1">thinmuskip{:}</span><span class="s3">\\</span><span class="s1">mskip6muplus1mu</span><span class="s3">\\</span><span class="s1">relax}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">colon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">nobreak</span><span class="s3">\\\\</span><span class="s1">mskip2mu</span><span class="s3">\\\\</span><span class="s1">mathpunct{}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathchoice{</span><span class="s3">\\\\</span><span class="s1">mkern-3mu}{</span><span class="s3">\\\\</span><span class="s1">mkern-3mu}{}{}{:}</span><span class="s3">\\\\</span><span class="s1">mskip6mu</span><span class="s3">\\\\</span><span class="s1">relax</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">newcommand{</span><span class="s3">\\</span><span class="s1">boxed}[1]{</span><span class="s3">\\</span><span class="s1">fbox{</span><span class="s3">\\</span><span class="s1">m@th$</span><span class="s3">\\</span><span class="s1">displaystyle#1$}}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">boxed</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">fbox{$</span><span class="s3">\\\\</span><span class="s1">displaystyle{#1}$}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">iff{</span><span class="s3">\\</span><span class="s1">DOTSB</span><span class="s3">\\</span><span class="s1">;</span><span class="s3">\\</span><span class="s1">Longleftrightarrow</span><span class="s3">\\</span><span class="s1">;}</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">implies{</span><span class="s3">\\</span><span class="s1">DOTSB</span><span class="s3">\\</span><span class="s1">;</span><span class="s3">\\</span><span class="s1">Longrightarrow</span><span class="s3">\\</span><span class="s1">;}</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">impliedby{</span><span class="s3">\\</span><span class="s1">DOTSB</span><span class="s3">\\</span><span class="s1">;</span><span class="s3">\\</span><span class="s1">Longleftarrow</span><span class="s3">\\</span><span class="s1">;}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">iff</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">DOTSB</span><span class="s3">\\\\</span><span class="s1">;</span><span class="s3">\\\\</span><span class="s1">Longleftrightarrow</span><span class="s3">\\\\</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">implies</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">DOTSB</span><span class="s3">\\\\</span><span class="s1">;</span><span class="s3">\\\\</span><span class="s1">Longrightarrow</span><span class="s3">\\\\</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">impliedby</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">DOTSB</span><span class="s3">\\\\</span><span class="s1">;</span><span class="s3">\\\\</span><span class="s1">Longleftarrow</span><span class="s3">\\\\</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">dddot#1{{</span><span class="s3">\\</span><span class="s1">mathop{#1}</span><span class="s3">\\</span><span class="s1">limits^{</span><span class="s3">\\</span><span class="s1">vbox to-1.4</span><span class="s3">\\</span><span class="s1">ex@{</span><span class="s3">\\</span><span class="s1">kern-</span><span class="s3">\\</span><span class="s1">tw@</span><span class="s3">\\</span><span class="s1">ex@</span><span class="s3">\n</span><span class="s1">//  </span><span class="s3">\\</span><span class="s1">hbox{</span><span class="s3">\\</span><span class="s1">normalfont ...}</span><span class="s3">\\</span><span class="s1">vss}}}}</span><span class="s3">\n</span><span class="s1">// We use </span><span class="s3">\\</span><span class="s1">overset which avoids the vertical shift of </span><span class="s3">\\</span><span class="s1">mathop.</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">dddot</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">overset{</span><span class="s3">\\\\</span><span class="s1">raisebox{-0.1ex}{</span><span class="s3">\\\\</span><span class="s1">normalsize ...}}{#1}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">ddddot</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">overset{</span><span class="s3">\\\\</span><span class="s1">raisebox{-0.1ex}{</span><span class="s3">\\\\</span><span class="s1">normalsize ....}}{#1}}</span><span class="s3">\&quot;</span><span class="s1">); // AMSMath's automatic </span><span class="s3">\\</span><span class="s1">dots, based on </span><span class="s3">\\</span><span class="s1">mdots@@ macro.</span><span class="s3">\n\n</span><span class="s1">var dotsByToken = {</span><span class="s3">\n  </span><span class="s1">',': '</span><span class="s3">\\\\</span><span class="s1">dotsc',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">not': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">keybin@ checks for the following:</span><span class="s3">\n  </span><span class="s1">'+': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'=': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'&lt;': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'&gt;': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'-': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'*': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">':': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">// Symbols whose definition starts with </span><span class="s3">\\</span><span class="s1">DOTSB:</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">DOTSB': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">coprod': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">bigvee': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">bigwedge': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">biguplus': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">bigcap': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">bigcup': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">prod': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">sum': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">bigotimes': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">bigoplus': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">bigodot': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">bigsqcup': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">And': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">longrightarrow': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">Longrightarrow': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">longleftarrow': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">Longleftarrow': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">longleftrightarrow': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">Longleftrightarrow': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">mapsto': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">longmapsto': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">hookrightarrow': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">doteq': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">// Symbols whose definition starts with </span><span class="s3">\\</span><span class="s1">mathbin:</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">mathbin': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">// Symbols whose definition starts with </span><span class="s3">\\</span><span class="s1">mathrel:</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">mathrel': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">relbar': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">Relbar': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">xrightarrow': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">xleftarrow': '</span><span class="s3">\\\\</span><span class="s1">dotsb',</span><span class="s3">\n  </span><span class="s1">// Symbols whose definition starts with </span><span class="s3">\\</span><span class="s1">DOTSI:</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">DOTSI': '</span><span class="s3">\\\\</span><span class="s1">dotsi',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">int': '</span><span class="s3">\\\\</span><span class="s1">dotsi',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">oint': '</span><span class="s3">\\\\</span><span class="s1">dotsi',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">iint': '</span><span class="s3">\\\\</span><span class="s1">dotsi',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">iiint': '</span><span class="s3">\\\\</span><span class="s1">dotsi',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">iiiint': '</span><span class="s3">\\\\</span><span class="s1">dotsi',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">idotsint': '</span><span class="s3">\\\\</span><span class="s1">dotsi',</span><span class="s3">\n  </span><span class="s1">// Symbols whose definition starts with </span><span class="s3">\\</span><span class="s1">DOTSX:</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">DOTSX': '</span><span class="s3">\\\\</span><span class="s1">dotsx'</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">dots</span><span class="s3">\&quot;</span><span class="s1">, function (context) {</span><span class="s3">\n  </span><span class="s1">// TODO: If used in text mode, should expand to </span><span class="s3">\\</span><span class="s1">textellipsis.</span><span class="s3">\n  </span><span class="s1">// However, in KaTeX, </span><span class="s3">\\</span><span class="s1">textellipsis and </span><span class="s3">\\</span><span class="s1">ldots behave the same</span><span class="s3">\n  </span><span class="s1">// (in text mode), and it's unlikely we'd see any of the math commands</span><span class="s3">\n  </span><span class="s1">// that affect the behavior of </span><span class="s3">\\</span><span class="s1">dots when in text mode.  So fine for now</span><span class="s3">\n  </span><span class="s1">// (until we support </span><span class="s3">\\</span><span class="s1">ifmmode ... </span><span class="s3">\\</span><span class="s1">else ... </span><span class="s3">\\</span><span class="s1">fi).</span><span class="s3">\n  </span><span class="s1">var thedots = '</span><span class="s3">\\\\</span><span class="s1">dotso';</span><span class="s3">\n  </span><span class="s1">var next = context.expandAfterFuture().text;</span><span class="s3">\n\n  </span><span class="s1">if (next in dotsByToken) {</span><span class="s3">\n    </span><span class="s1">thedots = dotsByToken[next];</span><span class="s3">\n  </span><span class="s1">} else if (next.slice(0, 4) === '</span><span class="s3">\\\\</span><span class="s1">not') {</span><span class="s3">\n    </span><span class="s1">thedots = '</span><span class="s3">\\\\</span><span class="s1">dotsb';</span><span class="s3">\n  </span><span class="s1">} else if (next in symbols.math) {</span><span class="s3">\n    </span><span class="s1">if (utils.contains(['bin', 'rel'], symbols.math[next].group)) {</span><span class="s3">\n      </span><span class="s1">thedots = '</span><span class="s3">\\\\</span><span class="s1">dotsb';</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return thedots;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var spaceAfterDots = {</span><span class="s3">\n  </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">rightdelim@ checks for the following:</span><span class="s3">\n  </span><span class="s1">')': true,</span><span class="s3">\n  </span><span class="s1">']': true,</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">rbrack': true,</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">}': true,</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">rbrace': true,</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">rangle': true,</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">rceil': true,</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">rfloor': true,</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">rgroup': true,</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">rmoustache': true,</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">right': true,</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">bigr': true,</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">biggr': true,</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">Bigr': true,</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">Biggr': true,</span><span class="s3">\n  </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">extra@ also tests for the following:</span><span class="s3">\n  </span><span class="s1">'$': true,</span><span class="s3">\n  </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">extrap@ checks for the following:</span><span class="s3">\n  </span><span class="s1">';': true,</span><span class="s3">\n  </span><span class="s1">'.': true,</span><span class="s3">\n  </span><span class="s1">',': true</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">dotso</span><span class="s3">\&quot;</span><span class="s1">, function (context) {</span><span class="s3">\n  </span><span class="s1">var next = context.future().text;</span><span class="s3">\n\n  </span><span class="s1">if (next in spaceAfterDots) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;\\\\</span><span class="s1">ldots</span><span class="s3">\\\\</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;\\\\</span><span class="s1">ldots</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">dotsc</span><span class="s3">\&quot;</span><span class="s1">, function (context) {</span><span class="s3">\n  </span><span class="s1">var next = context.future().text; // </span><span class="s3">\\</span><span class="s1">dotsc uses </span><span class="s3">\\</span><span class="s1">extra@ but not </span><span class="s3">\\</span><span class="s1">extrap@, instead specially checking for</span><span class="s3">\n  </span><span class="s1">// ';' and '.', but doesn't check for ','.</span><span class="s3">\n\n  </span><span class="s1">if (next in spaceAfterDots &amp;&amp; next !== ',') {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;\\\\</span><span class="s1">ldots</span><span class="s3">\\\\</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;\\\\</span><span class="s1">ldots</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">cdots</span><span class="s3">\&quot;</span><span class="s1">, function (context) {</span><span class="s3">\n  </span><span class="s1">var next = context.future().text;</span><span class="s3">\n\n  </span><span class="s1">if (next in spaceAfterDots) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;\\\\</span><span class="s1">@cdots</span><span class="s3">\\\\</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;\\\\</span><span class="s1">@cdots</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">dotsb</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">cdots</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">dotsm</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">cdots</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">dotsi</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">!</span><span class="s3">\\\\</span><span class="s1">cdots</span><span class="s3">\&quot;</span><span class="s1">); // amsmath doesn't actually define </span><span class="s3">\\</span><span class="s1">dotsx, but </span><span class="s3">\\</span><span class="s1">dots followed by a macro</span><span class="s3">\n</span><span class="s1">// starting with </span><span class="s3">\\</span><span class="s1">DOTSX implies </span><span class="s3">\\</span><span class="s1">dotso, and then </span><span class="s3">\\</span><span class="s1">extra@ detects this case</span><span class="s3">\n</span><span class="s1">// and forces the added `</span><span class="s3">\\</span><span class="s1">,`.</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">dotsx</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ldots</span><span class="s3">\\\\</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">let</span><span class="s3">\\</span><span class="s1">DOTSI</span><span class="s3">\\</span><span class="s1">relax</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">let</span><span class="s3">\\</span><span class="s1">DOTSB</span><span class="s3">\\</span><span class="s1">relax</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">let</span><span class="s3">\\</span><span class="s1">DOTSX</span><span class="s3">\\</span><span class="s1">relax</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">DOTSI</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">relax</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">DOTSB</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">relax</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">DOTSX</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">relax</span><span class="s3">\&quot;</span><span class="s1">); // Spacing, based on amsmath.sty's override of LaTeX defaults</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">DeclareRobustCommand{</span><span class="s3">\\</span><span class="s1">tmspace}[3]{%</span><span class="s3">\n</span><span class="s1">//   </span><span class="s3">\\</span><span class="s1">ifmmode</span><span class="s3">\\</span><span class="s1">mskip#1#2</span><span class="s3">\\</span><span class="s1">else</span><span class="s3">\\</span><span class="s1">kern#1#3</span><span class="s3">\\</span><span class="s1">fi</span><span class="s3">\\</span><span class="s1">relax}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">tmspace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">TextOrMath{</span><span class="s3">\\\\</span><span class="s1">kern#1#3}{</span><span class="s3">\\\\</span><span class="s1">mskip#1#2}</span><span class="s3">\\\\</span><span class="s1">relax</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">renewcommand{</span><span class="s3">\\</span><span class="s1">,}{</span><span class="s3">\\</span><span class="s1">tmspace+</span><span class="s3">\\</span><span class="s1">thinmuskip{.1667em}}</span><span class="s3">\n</span><span class="s1">// TODO: math mode should use </span><span class="s3">\\</span><span class="s1">thinmuskip</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">tmspace+{3mu}{.1667em}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">let</span><span class="s3">\\</span><span class="s1">thinspace</span><span class="s3">\\</span><span class="s1">,</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">thinspace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">&gt;{</span><span class="s3">\\</span><span class="s1">mskip</span><span class="s3">\\</span><span class="s1">medmuskip}</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">renewcommand{</span><span class="s3">\\</span><span class="s1">:}{</span><span class="s3">\\</span><span class="s1">tmspace+</span><span class="s3">\\</span><span class="s1">medmuskip{.2222em}}</span><span class="s3">\n</span><span class="s1">// TODO: </span><span class="s3">\\</span><span class="s1">&gt; and math mode of </span><span class="s3">\\</span><span class="s1">: should use </span><span class="s3">\\</span><span class="s1">medmuskip = 4mu plus 2mu minus 4mu</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mskip{4mu}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">tmspace+{4mu}{.2222em}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">let</span><span class="s3">\\</span><span class="s1">medspace</span><span class="s3">\\</span><span class="s1">:</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">medspace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">renewcommand{</span><span class="s3">\\</span><span class="s1">;}{</span><span class="s3">\\</span><span class="s1">tmspace+</span><span class="s3">\\</span><span class="s1">thickmuskip{.2777em}}</span><span class="s3">\n</span><span class="s1">// TODO: math mode should use </span><span class="s3">\\</span><span class="s1">thickmuskip = 5mu plus 5mu</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">tmspace+{5mu}{.2777em}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">let</span><span class="s3">\\</span><span class="s1">thickspace</span><span class="s3">\\</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">thickspace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">renewcommand{</span><span class="s3">\\</span><span class="s1">!}{</span><span class="s3">\\</span><span class="s1">tmspace-</span><span class="s3">\\</span><span class="s1">thinmuskip{.1667em}}</span><span class="s3">\n</span><span class="s1">// TODO: math mode should use </span><span class="s3">\\</span><span class="s1">thinmuskip</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">!</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">tmspace-{3mu}{.1667em}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">let</span><span class="s3">\\</span><span class="s1">negthinspace</span><span class="s3">\\</span><span class="s1">!</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">negthinspace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">!</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">newcommand{</span><span class="s3">\\</span><span class="s1">negmedspace}{</span><span class="s3">\\</span><span class="s1">tmspace-</span><span class="s3">\\</span><span class="s1">medmuskip{.2222em}}</span><span class="s3">\n</span><span class="s1">// TODO: math mode should use </span><span class="s3">\\</span><span class="s1">medmuskip</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">negmedspace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">tmspace-{4mu}{.2222em}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">newcommand{</span><span class="s3">\\</span><span class="s1">negthickspace}{</span><span class="s3">\\</span><span class="s1">tmspace-</span><span class="s3">\\</span><span class="s1">thickmuskip{.2777em}}</span><span class="s3">\n</span><span class="s1">// TODO: math mode should use </span><span class="s3">\\</span><span class="s1">thickmuskip</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">negthickspace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">tmspace-{5mu}{.277em}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">enspace{</span><span class="s3">\\</span><span class="s1">kern.5em }</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">enspace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">kern.5em </span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">enskip{</span><span class="s3">\\</span><span class="s1">hskip.5em</span><span class="s3">\\</span><span class="s1">relax}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">enskip</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">hskip.5em</span><span class="s3">\\\\</span><span class="s1">relax</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">quad{</span><span class="s3">\\</span><span class="s1">hskip1em</span><span class="s3">\\</span><span class="s1">relax}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">quad</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">hskip1em</span><span class="s3">\\\\</span><span class="s1">relax</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">qquad{</span><span class="s3">\\</span><span class="s1">hskip2em</span><span class="s3">\\</span><span class="s1">relax}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">qquad</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">hskip2em</span><span class="s3">\\\\</span><span class="s1">relax</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">tag@in@display form of </span><span class="s3">\\</span><span class="s1">tag</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">tag</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@ifstar</span><span class="s3">\\\\</span><span class="s1">tag@literal</span><span class="s3">\\\\</span><span class="s1">tag@paren</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">tag@paren</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">tag@literal{({#1})}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">tag@literal</span><span class="s3">\&quot;</span><span class="s1">, context =&gt; {</span><span class="s3">\n  </span><span class="s1">if (context.macros.get(</span><span class="s3">\&quot;\\\\</span><span class="s1">df@tag</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n    </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Multiple </span><span class="s3">\\\\</span><span class="s1">tag</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return </span><span class="s3">\&quot;\\\\</span><span class="s1">gdef</span><span class="s3">\\\\</span><span class="s1">df@tag{</span><span class="s3">\\\\</span><span class="s1">text{#1}}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}); // </span><span class="s3">\\</span><span class="s1">renewcommand{</span><span class="s3">\\</span><span class="s1">bmod}{</span><span class="s3">\\</span><span class="s1">nonscript</span><span class="s3">\\</span><span class="s1">mskip-</span><span class="s3">\\</span><span class="s1">medmuskip</span><span class="s3">\\</span><span class="s1">mkern5mu</span><span class="s3">\\</span><span class="s1">mathbin</span><span class="s3">\n</span><span class="s1">//   {</span><span class="s3">\\</span><span class="s1">operator@font mod}</span><span class="s3">\\</span><span class="s1">penalty900</span><span class="s3">\n</span><span class="s1">//   </span><span class="s3">\\</span><span class="s1">mkern5mu</span><span class="s3">\\</span><span class="s1">nonscript</span><span class="s3">\\</span><span class="s1">mskip-</span><span class="s3">\\</span><span class="s1">medmuskip}</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">newcommand{</span><span class="s3">\\</span><span class="s1">pod}[1]{</span><span class="s3">\\</span><span class="s1">allowbreak</span><span class="s3">\n</span><span class="s1">//   </span><span class="s3">\\</span><span class="s1">if@display</span><span class="s3">\\</span><span class="s1">mkern18mu</span><span class="s3">\\</span><span class="s1">else</span><span class="s3">\\</span><span class="s1">mkern8mu</span><span class="s3">\\</span><span class="s1">fi(#1)}</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">renewcommand{</span><span class="s3">\\</span><span class="s1">pmod}[1]{</span><span class="s3">\\</span><span class="s1">pod{{</span><span class="s3">\\</span><span class="s1">operator@font mod}</span><span class="s3">\\</span><span class="s1">mkern6mu#1}}</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">newcommand{</span><span class="s3">\\</span><span class="s1">mod}[1]{</span><span class="s3">\\</span><span class="s1">allowbreak</span><span class="s3">\\</span><span class="s1">if@display</span><span class="s3">\\</span><span class="s1">mkern18mu</span><span class="s3">\n</span><span class="s1">//   </span><span class="s3">\\</span><span class="s1">else</span><span class="s3">\\</span><span class="s1">mkern12mu</span><span class="s3">\\</span><span class="s1">fi{</span><span class="s3">\\</span><span class="s1">operator@font mod}</span><span class="s3">\\</span><span class="s1">,</span><span class="s3">\\</span><span class="s1">,#1}</span><span class="s3">\n</span><span class="s1">// TODO: math mode should use </span><span class="s3">\\</span><span class="s1">medmuskip = 4mu plus 2mu minus 4mu</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">bmod</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathchoice{</span><span class="s3">\\\\</span><span class="s1">mskip1mu}{</span><span class="s3">\\\\</span><span class="s1">mskip1mu}{</span><span class="s3">\\\\</span><span class="s1">mskip5mu}{</span><span class="s3">\\\\</span><span class="s1">mskip5mu}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathbin{</span><span class="s3">\\\\</span><span class="s1">rm mod}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathchoice{</span><span class="s3">\\\\</span><span class="s1">mskip1mu}{</span><span class="s3">\\\\</span><span class="s1">mskip1mu}{</span><span class="s3">\\\\</span><span class="s1">mskip5mu}{</span><span class="s3">\\\\</span><span class="s1">mskip5mu}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">pod</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">allowbreak</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathchoice{</span><span class="s3">\\\\</span><span class="s1">mkern18mu}{</span><span class="s3">\\\\</span><span class="s1">mkern8mu}{</span><span class="s3">\\\\</span><span class="s1">mkern8mu}{</span><span class="s3">\\\\</span><span class="s1">mkern8mu}(#1)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">pmod</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">pod{{</span><span class="s3">\\\\</span><span class="s1">rm mod}</span><span class="s3">\\\\</span><span class="s1">mkern6mu#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">mod</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">allowbreak</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathchoice{</span><span class="s3">\\\\</span><span class="s1">mkern18mu}{</span><span class="s3">\\\\</span><span class="s1">mkern12mu}{</span><span class="s3">\\\\</span><span class="s1">mkern12mu}{</span><span class="s3">\\\\</span><span class="s1">mkern12mu}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">rm mod}</span><span class="s3">\\\\</span><span class="s1">,</span><span class="s3">\\\\</span><span class="s1">,#1</span><span class="s3">\&quot;</span><span class="s1">); //////////////////////////////////////////////////////////////////////</span><span class="s3">\n</span><span class="s1">// LaTeX source2e</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">expandafter</span><span class="s3">\\</span><span class="s1">let</span><span class="s3">\\</span><span class="s1">expandafter</span><span class="s3">\\</span><span class="s1">@normalcr</span><span class="s3">\n</span><span class="s1">//     </span><span class="s3">\\</span><span class="s1">csname</span><span class="s3">\\</span><span class="s1">expandafter</span><span class="s3">\\</span><span class="s1">@gobble</span><span class="s3">\\</span><span class="s1">string</span><span class="s3">\\\\ \\</span><span class="s1">endcsname</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">DeclareRobustCommand</span><span class="s3">\\</span><span class="s1">newline{</span><span class="s3">\\</span><span class="s1">@normalcr</span><span class="s3">\\</span><span class="s1">relax}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">newline</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\\\\\\\\\</span><span class="s1">relax</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">TeX{T</span><span class="s3">\\</span><span class="s1">kern-.1667em</span><span class="s3">\\</span><span class="s1">lower.5ex</span><span class="s3">\\</span><span class="s1">hbox{E}</span><span class="s3">\\</span><span class="s1">kern-.125emX</span><span class="s3">\\</span><span class="s1">@}</span><span class="s3">\n</span><span class="s1">// TODO: Doesn't normally work in math mode because </span><span class="s3">\\</span><span class="s1">@ fails.  KaTeX doesn't</span><span class="s3">\n</span><span class="s1">// support </span><span class="s3">\\</span><span class="s1">@ yet, so that's omitted, and we add </span><span class="s3">\\</span><span class="s1">text so that the result</span><span class="s3">\n</span><span class="s1">// doesn't look funny in math mode.</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">TeX</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textrm{</span><span class="s3">\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">T</span><span class="s3">\\\\</span><span class="s1">kern-.1667em</span><span class="s3">\\\\</span><span class="s1">raisebox{-.5ex}{E}</span><span class="s3">\\\\</span><span class="s1">kern-.125emX</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">}{TeX}}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">DeclareRobustCommand{</span><span class="s3">\\</span><span class="s1">LaTeX}{L</span><span class="s3">\\</span><span class="s1">kern-.36em%</span><span class="s3">\n</span><span class="s1">//         {</span><span class="s3">\\</span><span class="s1">sbox</span><span class="s3">\\</span><span class="s1">z@ T%</span><span class="s3">\n</span><span class="s1">//          </span><span class="s3">\\</span><span class="s1">vbox to</span><span class="s3">\\</span><span class="s1">ht</span><span class="s3">\\</span><span class="s1">z@{</span><span class="s3">\\</span><span class="s1">hbox{</span><span class="s3">\\</span><span class="s1">check@mathfonts</span><span class="s3">\n</span><span class="s1">//                               </span><span class="s3">\\</span><span class="s1">fontsize</span><span class="s3">\\</span><span class="s1">sf@size</span><span class="s3">\\</span><span class="s1">z@</span><span class="s3">\n</span><span class="s1">//                               </span><span class="s3">\\</span><span class="s1">math@fontsfalse</span><span class="s3">\\</span><span class="s1">selectfont</span><span class="s3">\n</span><span class="s1">//                               A}%</span><span class="s3">\n</span><span class="s1">//                         </span><span class="s3">\\</span><span class="s1">vss}%</span><span class="s3">\n</span><span class="s1">//         }%</span><span class="s3">\n</span><span class="s1">//         </span><span class="s3">\\</span><span class="s1">kern-.15em%</span><span class="s3">\n</span><span class="s1">//         </span><span class="s3">\\</span><span class="s1">TeX}</span><span class="s3">\n</span><span class="s1">// This code aligns the top of the A with the T (from the perspective of TeX's</span><span class="s3">\n</span><span class="s1">// boxes, though visually the A appears to extend above slightly).</span><span class="s3">\n</span><span class="s1">// We compute the corresponding </span><span class="s3">\\</span><span class="s1">raisebox when A is rendered in </span><span class="s3">\\</span><span class="s1">normalsize</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">scriptstyle, which has a scale factor of 0.7 (see Options.js).</span><span class="s3">\n\n</span><span class="s1">var latexRaiseA = makeEm(fontMetricsData['Main-Regular'][</span><span class="s3">\&quot;</span><span class="s1">T</span><span class="s3">\&quot;</span><span class="s1">.charCodeAt(0)][1] - 0.7 * fontMetricsData['Main-Regular'][</span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">.charCodeAt(0)][1]);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">LaTeX</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textrm{</span><span class="s3">\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ (</span><span class="s3">\&quot;</span><span class="s1">L</span><span class="s3">\\\\</span><span class="s1">kern-.36em</span><span class="s3">\\\\</span><span class="s1">raisebox{</span><span class="s3">\&quot; </span><span class="s1">+ latexRaiseA + </span><span class="s3">\&quot;</span><span class="s1">}{</span><span class="s3">\\\\</span><span class="s1">scriptstyle A}</span><span class="s3">\&quot;</span><span class="s1">) + </span><span class="s3">\&quot;\\\\</span><span class="s1">kern-.15em</span><span class="s3">\\\\</span><span class="s1">TeX}{LaTeX}}</span><span class="s3">\&quot;</span><span class="s1">); // New KaTeX logo based on tweaking LaTeX logo</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">KaTeX</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textrm{</span><span class="s3">\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ (</span><span class="s3">\&quot;</span><span class="s1">K</span><span class="s3">\\\\</span><span class="s1">kern-.17em</span><span class="s3">\\\\</span><span class="s1">raisebox{</span><span class="s3">\&quot; </span><span class="s1">+ latexRaiseA + </span><span class="s3">\&quot;</span><span class="s1">}{</span><span class="s3">\\\\</span><span class="s1">scriptstyle A}</span><span class="s3">\&quot;</span><span class="s1">) + </span><span class="s3">\&quot;\\\\</span><span class="s1">kern-.15em</span><span class="s3">\\\\</span><span class="s1">TeX}{KaTeX}}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">DeclareRobustCommand</span><span class="s3">\\</span><span class="s1">hspace{</span><span class="s3">\\</span><span class="s1">@ifstar</span><span class="s3">\\</span><span class="s1">@hspacer</span><span class="s3">\\</span><span class="s1">@hspace}</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">@hspace#1{</span><span class="s3">\\</span><span class="s1">hskip  #1</span><span class="s3">\\</span><span class="s1">relax}</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">@hspacer#1{</span><span class="s3">\\</span><span class="s1">vrule </span><span class="s3">\\</span><span class="s1">@width</span><span class="s3">\\</span><span class="s1">z@</span><span class="s3">\\</span><span class="s1">nobreak</span><span class="s3">\n</span><span class="s1">//                 </span><span class="s3">\\</span><span class="s1">hskip #1</span><span class="s3">\\</span><span class="s1">hskip </span><span class="s3">\\</span><span class="s1">z@skip}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">hspace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">@ifstar</span><span class="s3">\\\\</span><span class="s1">@hspacer</span><span class="s3">\\\\</span><span class="s1">@hspace</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">@hspace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">hskip #1</span><span class="s3">\\\\</span><span class="s1">relax</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">@hspacer</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rule{0pt}{0pt}</span><span class="s3">\\\\</span><span class="s1">hskip #1</span><span class="s3">\\\\</span><span class="s1">relax</span><span class="s3">\&quot;</span><span class="s1">); //////////////////////////////////////////////////////////////////////</span><span class="s3">\n</span><span class="s1">// mathtools.sty</span><span class="s3">\n</span><span class="s1">//</span><span class="s3">\\</span><span class="s1">providecommand</span><span class="s3">\\</span><span class="s1">ordinarycolon{:}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">ordinarycolon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">); //</span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">vcentcolon{</span><span class="s3">\\</span><span class="s1">mathrel{</span><span class="s3">\\</span><span class="s1">mathop</span><span class="s3">\\</span><span class="s1">ordinarycolon}}</span><span class="s3">\n</span><span class="s1">//TODO(edemaine): Not yet centered. Fix via </span><span class="s3">\\</span><span class="s1">raisebox or #726</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">vcentcolon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mathop</span><span class="s3">\\\\</span><span class="s1">ordinarycolon}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">providecommand*</span><span class="s3">\\</span><span class="s1">dblcolon{</span><span class="s3">\\</span><span class="s1">vcentcolon</span><span class="s3">\\</span><span class="s1">mathrel{</span><span class="s3">\\</span><span class="s1">mkern-.9mu}</span><span class="s3">\\</span><span class="s1">vcentcolon}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">dblcolon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">vcentcolon</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mkern-.9mu}</span><span class="s3">\\\\</span><span class="s1">vcentcolon}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">2237}}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">providecommand*</span><span class="s3">\\</span><span class="s1">coloneqq{</span><span class="s3">\\</span><span class="s1">vcentcolon</span><span class="s3">\\</span><span class="s1">mathrel{</span><span class="s3">\\</span><span class="s1">mkern-1.2mu}=}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">coloneqq</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">vcentcolon</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mkern-1.2mu}=}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">2254}}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">providecommand*</span><span class="s3">\\</span><span class="s1">Coloneqq{</span><span class="s3">\\</span><span class="s1">dblcolon</span><span class="s3">\\</span><span class="s1">mathrel{</span><span class="s3">\\</span><span class="s1">mkern-1.2mu}=}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Coloneqq</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">dblcolon</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mkern-1.2mu}=}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">2237</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">3d}}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">providecommand*</span><span class="s3">\\</span><span class="s1">coloneq{</span><span class="s3">\\</span><span class="s1">vcentcolon</span><span class="s3">\\</span><span class="s1">mathrel{</span><span class="s3">\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\</span><span class="s1">mathrel{-}}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">coloneq</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">vcentcolon</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\\\</span><span class="s1">mathrel{-}}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">3a</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">2212}}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">providecommand*</span><span class="s3">\\</span><span class="s1">Coloneq{</span><span class="s3">\\</span><span class="s1">dblcolon</span><span class="s3">\\</span><span class="s1">mathrel{</span><span class="s3">\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\</span><span class="s1">mathrel{-}}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Coloneq</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">dblcolon</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\\\</span><span class="s1">mathrel{-}}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">2237</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">2212}}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">providecommand*</span><span class="s3">\\</span><span class="s1">eqqcolon{=</span><span class="s3">\\</span><span class="s1">mathrel{</span><span class="s3">\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\</span><span class="s1">vcentcolon}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">eqqcolon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel{=</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\\\</span><span class="s1">vcentcolon}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">2255}}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">providecommand*</span><span class="s3">\\</span><span class="s1">Eqqcolon{=</span><span class="s3">\\</span><span class="s1">mathrel{</span><span class="s3">\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\</span><span class="s1">dblcolon}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Eqqcolon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel{=</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\\\</span><span class="s1">dblcolon}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">3d</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">2237}}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">providecommand*</span><span class="s3">\\</span><span class="s1">eqcolon{</span><span class="s3">\\</span><span class="s1">mathrel{-}</span><span class="s3">\\</span><span class="s1">mathrel{</span><span class="s3">\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\</span><span class="s1">vcentcolon}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">eqcolon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mathrel{-}</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\\\</span><span class="s1">vcentcolon}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">2239}}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">providecommand*</span><span class="s3">\\</span><span class="s1">Eqcolon{</span><span class="s3">\\</span><span class="s1">mathrel{-}</span><span class="s3">\\</span><span class="s1">mathrel{</span><span class="s3">\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\</span><span class="s1">dblcolon}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Eqcolon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mathrel{-}</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\\\</span><span class="s1">dblcolon}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">2212</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">2237}}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">providecommand*</span><span class="s3">\\</span><span class="s1">colonapprox{</span><span class="s3">\\</span><span class="s1">vcentcolon</span><span class="s3">\\</span><span class="s1">mathrel{</span><span class="s3">\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\</span><span class="s1">approx}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">colonapprox</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">vcentcolon</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\\\</span><span class="s1">approx}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">3a</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">2248}}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">providecommand*</span><span class="s3">\\</span><span class="s1">Colonapprox{</span><span class="s3">\\</span><span class="s1">dblcolon</span><span class="s3">\\</span><span class="s1">mathrel{</span><span class="s3">\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\</span><span class="s1">approx}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Colonapprox</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">dblcolon</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\\\</span><span class="s1">approx}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">2237</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">2248}}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">providecommand*</span><span class="s3">\\</span><span class="s1">colonsim{</span><span class="s3">\\</span><span class="s1">vcentcolon</span><span class="s3">\\</span><span class="s1">mathrel{</span><span class="s3">\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\</span><span class="s1">sim}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">colonsim</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">vcentcolon</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\\\</span><span class="s1">sim}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">3a</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">223c}}</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">providecommand*</span><span class="s3">\\</span><span class="s1">Colonsim{</span><span class="s3">\\</span><span class="s1">dblcolon</span><span class="s3">\\</span><span class="s1">mathrel{</span><span class="s3">\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\</span><span class="s1">sim}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Colonsim</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">dblcolon</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\\\</span><span class="s1">sim}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">2237</span><span class="s3">\\\\</span><span class="s1">char</span><span class="s3">\\\&quot;</span><span class="s1">223c}}</span><span class="s3">\&quot;</span><span class="s1">); // Some Unicode characters are implemented with macros to mathtools functions.</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u2237</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">dblcolon</span><span class="s3">\&quot;</span><span class="s1">); // ::</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u2239</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">eqcolon</span><span class="s3">\&quot;</span><span class="s1">); // -:</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u2254</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">coloneqq</span><span class="s3">\&quot;</span><span class="s1">); // :=</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u2255</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">eqqcolon</span><span class="s3">\&quot;</span><span class="s1">); // =:</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u2A74</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Coloneqq</span><span class="s3">\&quot;</span><span class="s1">); // ::=</span><span class="s3">\n</span><span class="s1">//////////////////////////////////////////////////////////////////////</span><span class="s3">\n</span><span class="s1">// colonequals.sty</span><span class="s3">\n</span><span class="s1">// Alternate names for mathtools's macros:</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">ratio</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">vcentcolon</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">coloncolon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">dblcolon</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">colonequals</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">coloneqq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">coloncolonequals</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Coloneqq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">equalscolon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">eqqcolon</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">equalscoloncolon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Eqqcolon</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">colonminus</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">coloneq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">coloncolonminus</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Coloneq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">minuscolon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">eqcolon</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">minuscoloncolon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Eqcolon</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">colonapprox name is same in mathtools and colonequals.</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">coloncolonapprox</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Colonapprox</span><span class="s3">\&quot;</span><span class="s1">); // </span><span class="s3">\\</span><span class="s1">colonsim name is same in mathtools and colonequals.</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">coloncolonsim</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Colonsim</span><span class="s3">\&quot;</span><span class="s1">); // Additional macros, implemented by analogy with mathtools definitions:</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">simcolon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">sim</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\\\</span><span class="s1">vcentcolon}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">simcoloncolon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">sim</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\\\</span><span class="s1">dblcolon}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">approxcolon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">approx</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\\\</span><span class="s1">vcentcolon}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">approxcoloncolon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">approx</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">mkern-1.2mu}</span><span class="s3">\\\\</span><span class="s1">dblcolon}</span><span class="s3">\&quot;</span><span class="s1">); // Present in newtxmath, pxfonts and txfonts</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">notni</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">not</span><span class="s3">\\\\</span><span class="s1">ni}{</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">char`</span><span class="s3">\\</span><span class="s1">u220C}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">limsup</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">DOTSB</span><span class="s3">\\\\</span><span class="s1">operatorname*{lim</span><span class="s3">\\\\</span><span class="s1">,sup}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">liminf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">DOTSB</span><span class="s3">\\\\</span><span class="s1">operatorname*{lim</span><span class="s3">\\\\</span><span class="s1">,inf}</span><span class="s3">\&quot;</span><span class="s1">); //////////////////////////////////////////////////////////////////////</span><span class="s3">\n</span><span class="s1">// From amsopn.sty</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">injlim</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">DOTSB</span><span class="s3">\\\\</span><span class="s1">operatorname*{inj</span><span class="s3">\\\\</span><span class="s1">,lim}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">projlim</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">DOTSB</span><span class="s3">\\\\</span><span class="s1">operatorname*{proj</span><span class="s3">\\\\</span><span class="s1">,lim}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varlimsup</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">DOTSB</span><span class="s3">\\\\</span><span class="s1">operatorname*{</span><span class="s3">\\\\</span><span class="s1">overline{lim}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varliminf</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">DOTSB</span><span class="s3">\\\\</span><span class="s1">operatorname*{</span><span class="s3">\\\\</span><span class="s1">underline{lim}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varinjlim</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">DOTSB</span><span class="s3">\\\\</span><span class="s1">operatorname*{</span><span class="s3">\\\\</span><span class="s1">underrightarrow{lim}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varprojlim</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">DOTSB</span><span class="s3">\\\\</span><span class="s1">operatorname*{</span><span class="s3">\\\\</span><span class="s1">underleftarrow{lim}}</span><span class="s3">\&quot;</span><span class="s1">); //////////////////////////////////////////////////////////////////////</span><span class="s3">\n</span><span class="s1">// MathML alternates for KaTeX glyphs in the Unicode private area</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">gvertneqq</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@gvertneqq}{</span><span class="s3">\\</span><span class="s1">u2269}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">lvertneqq</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@lvertneqq}{</span><span class="s3">\\</span><span class="s1">u2268}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">ngeqq</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@ngeqq}{</span><span class="s3">\\</span><span class="s1">u2271}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">ngeqslant</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@ngeqslant}{</span><span class="s3">\\</span><span class="s1">u2271}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">nleqq</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@nleqq}{</span><span class="s3">\\</span><span class="s1">u2270}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">nleqslant</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@nleqslant}{</span><span class="s3">\\</span><span class="s1">u2270}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">nshortmid</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@nshortmid}{}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">nshortparallel</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@nshortparallel}{}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">nsubseteqq</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@nsubseteqq}{</span><span class="s3">\\</span><span class="s1">u2288}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">nsupseteqq</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@nsupseteqq}{</span><span class="s3">\\</span><span class="s1">u2289}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varsubsetneq</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@varsubsetneq}{}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varsubsetneqq</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@varsubsetneqq}{}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varsupsetneq</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@varsupsetneq}{}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varsupsetneqq</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@varsupsetneqq}{}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">imath</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@imath}{</span><span class="s3">\\</span><span class="s1">u0131}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">jmath</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\\\\</span><span class="s1">@jmath}{</span><span class="s3">\\</span><span class="s1">u0237}</span><span class="s3">\&quot;</span><span class="s1">); //////////////////////////////////////////////////////////////////////</span><span class="s3">\n</span><span class="s1">// stmaryrd and semantic</span><span class="s3">\n</span><span class="s1">// The stmaryrd and semantic packages render the next four items by calling a</span><span class="s3">\n</span><span class="s1">// glyph. Those glyphs do not exist in the KaTeX fonts. Hence the macros.</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">llbracket</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathopen{[</span><span class="s3">\\\\</span><span class="s1">mkern-3.2mu[}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathopen{</span><span class="s3">\\\\</span><span class="s1">char`</span><span class="s3">\\</span><span class="s1">u27e6}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">rrbracket</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathclose{]</span><span class="s3">\\\\</span><span class="s1">mkern-3.2mu]}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathclose{</span><span class="s3">\\\\</span><span class="s1">char`</span><span class="s3">\\</span><span class="s1">u27e7}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u27e6</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">llbracket</span><span class="s3">\&quot;</span><span class="s1">); // blackboard bold [</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u27e7</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rrbracket</span><span class="s3">\&quot;</span><span class="s1">); // blackboard bold ]</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">lBrace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathopen{</span><span class="s3">\\\\</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mkern-3.2mu[}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathopen{</span><span class="s3">\\\\</span><span class="s1">char`</span><span class="s3">\\</span><span class="s1">u2983}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">rBrace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;\\\\</span><span class="s1">mathclose{]</span><span class="s3">\\\\</span><span class="s1">mkern-3.2mu</span><span class="s3">\\\\</span><span class="s1">}}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathclose{</span><span class="s3">\\\\</span><span class="s1">char`</span><span class="s3">\\</span><span class="s1">u2984}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u2983</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">lBrace</span><span class="s3">\&quot;</span><span class="s1">); // blackboard bold {</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\</span><span class="s1">u2984</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rBrace</span><span class="s3">\&quot;</span><span class="s1">); // blackboard bold }</span><span class="s3">\n</span><span class="s1">// TODO: Create variable sized versions of the last two items. I believe that</span><span class="s3">\n</span><span class="s1">// will require new font glyphs.</span><span class="s3">\n</span><span class="s1">// The stmaryrd function `</span><span class="s3">\\</span><span class="s1">minuso` provides a </span><span class="s3">\&quot;</span><span class="s1">Plimsoll</span><span class="s3">\&quot; </span><span class="s1">symbol that</span><span class="s3">\n</span><span class="s1">// superimposes the characters </span><span class="s3">\\</span><span class="s1">circ and </span><span class="s3">\\</span><span class="s1">mathminus. Used in chemistry.</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">minuso</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathbin{</span><span class="s3">\\\\</span><span class="s1">html@mathml{</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">mathrlap{</span><span class="s3">\\\\</span><span class="s1">mathchoice{</span><span class="s3">\\\\</span><span class="s1">kern{0.145em}}{</span><span class="s3">\\\\</span><span class="s1">kern{0.145em}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">kern{0.1015em}}{</span><span class="s3">\\\\</span><span class="s1">kern{0.0725em}}</span><span class="s3">\\\\</span><span class="s1">circ}{-}}}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">char`}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">minuso</span><span class="s3">\&quot;</span><span class="s1">); //////////////////////////////////////////////////////////////////////</span><span class="s3">\n</span><span class="s1">// texvc.sty</span><span class="s3">\n</span><span class="s1">// The texvc package contains macros available in mediawiki pages.</span><span class="s3">\n</span><span class="s1">// We omit the functions deprecated at</span><span class="s3">\n</span><span class="s1">// https://en.wikipedia.org/wiki/Help:Displaying_a_formula#Deprecated_syntax</span><span class="s3">\n</span><span class="s1">// We also omit texvc's </span><span class="s3">\\</span><span class="s1">O, which conflicts with </span><span class="s3">\\</span><span class="s1">text{</span><span class="s3">\\</span><span class="s1">O}</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">darr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">downarrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">dArr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Downarrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Darr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Downarrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">lang</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">langle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">rang</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">uarr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">uparrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">uArr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Uparrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Uarr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Uparrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">N</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathbb{N}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">R</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathbb{R}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathbb{Z}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">alef</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">aleph</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">alefsym</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">aleph</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Alpha</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrm{A}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Beta</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrm{B}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">bull</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bullet</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Chi</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrm{X}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">clubs</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">clubsuit</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">cnums</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathbb{C}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Complex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathbb{C}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Dagger</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">ddagger</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">diamonds</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">diamondsuit</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">empty</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">emptyset</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Epsilon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrm{E}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Eta</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrm{H}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">exist</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">exists</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">harr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">leftrightarrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">hArr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Leftrightarrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Harr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Leftrightarrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">hearts</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">heartsuit</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">image</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Im</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">infin</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">infty</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Iota</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrm{I}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">isin</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">in</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Kappa</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrm{K}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">larr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">leftarrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">lArr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Leftarrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Larr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Leftarrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">lrarr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">leftrightarrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">lrArr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Leftrightarrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Lrarr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Leftrightarrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Mu</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrm{M}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">natnums</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathbb{N}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Nu</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrm{N}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Omicron</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrm{O}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">plusmn</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">pm</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">rarr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">rightarrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">rArr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Rightarrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Rarr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Rightarrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">real</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">Re</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">reals</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathbb{R}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Reals</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathbb{R}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Rho</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrm{P}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">sdot</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">cdot</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">sect</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">S</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">spades</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">spadesuit</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">sub</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">subset</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">sube</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">subseteq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">supe</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">supseteq</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Tau</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrm{T}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">thetasym</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">vartheta</span><span class="s3">\&quot;</span><span class="s1">); // TODO: defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">varcoppa</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\\\</span><span class="s1">mbox{</span><span class="s3">\\\\</span><span class="s1">coppa}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">weierp</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">wp</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Zeta</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrm{Z}</span><span class="s3">\&quot;</span><span class="s1">); //////////////////////////////////////////////////////////////////////</span><span class="s3">\n</span><span class="s1">// statmath.sty</span><span class="s3">\n</span><span class="s1">// https://ctan.math.illinois.edu/macros/latex/contrib/statmath/statmath.pdf</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">argmin</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">DOTSB</span><span class="s3">\\\\</span><span class="s1">operatorname*{arg</span><span class="s3">\\\\</span><span class="s1">,min}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">argmax</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">DOTSB</span><span class="s3">\\\\</span><span class="s1">operatorname*{arg</span><span class="s3">\\\\</span><span class="s1">,max}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">plim</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">DOTSB</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">operatorname{plim}}</span><span class="s3">\\\\</span><span class="s1">limits</span><span class="s3">\&quot;</span><span class="s1">); //////////////////////////////////////////////////////////////////////</span><span class="s3">\n</span><span class="s1">// braket.sty</span><span class="s3">\n</span><span class="s1">// http://ctan.math.washington.edu/tex-archive/macros/latex/contrib/braket/braket.pdf</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">bra</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathinner{</span><span class="s3">\\\\</span><span class="s1">langle{#1}|}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">ket</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathinner{|{#1}</span><span class="s3">\\\\</span><span class="s1">rangle}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">braket</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">mathinner{</span><span class="s3">\\\\</span><span class="s1">langle{#1}</span><span class="s3">\\\\</span><span class="s1">rangle}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Bra</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">left</span><span class="s3">\\\\</span><span class="s1">langle#1</span><span class="s3">\\\\</span><span class="s1">right|</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Ket</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">left|#1</span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">var braketHelper = one =&gt; context =&gt; {</span><span class="s3">\n  </span><span class="s1">var left = context.consumeArg().tokens;</span><span class="s3">\n  </span><span class="s1">var middle = context.consumeArg().tokens;</span><span class="s3">\n  </span><span class="s1">var middleDouble = context.consumeArg().tokens;</span><span class="s3">\n  </span><span class="s1">var right = context.consumeArg().tokens;</span><span class="s3">\n  </span><span class="s1">var oldMiddle = context.macros.get(</span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">var oldMiddleDouble = context.macros.get(</span><span class="s3">\&quot;\\\\</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">context.macros.beginGroup();</span><span class="s3">\n\n  </span><span class="s1">var midMacro = double =&gt; context =&gt; {</span><span class="s3">\n    </span><span class="s1">if (one) {</span><span class="s3">\n      </span><span class="s1">// Only modify the first instance of | or </span><span class="s3">\\</span><span class="s1">|</span><span class="s3">\n      </span><span class="s1">context.macros.set(</span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">, oldMiddle);</span><span class="s3">\n\n      </span><span class="s1">if (middleDouble.length) {</span><span class="s3">\n        </span><span class="s1">context.macros.set(</span><span class="s3">\&quot;\\\\</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">, oldMiddleDouble);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var doubled = double;</span><span class="s3">\n\n    </span><span class="s1">if (!double &amp;&amp; middleDouble.length) {</span><span class="s3">\n      </span><span class="s1">// Mimic </span><span class="s3">\\</span><span class="s1">@ifnextchar</span><span class="s3">\n      </span><span class="s1">var nextToken = context.future();</span><span class="s3">\n\n      </span><span class="s1">if (nextToken.text === </span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">context.popToken();</span><span class="s3">\n        </span><span class="s1">doubled = true;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">tokens: doubled ? middleDouble : middle,</span><span class="s3">\n      </span><span class="s1">numArgs: 0</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">context.macros.set(</span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">, midMacro(false));</span><span class="s3">\n\n  </span><span class="s1">if (middleDouble.length) {</span><span class="s3">\n    </span><span class="s1">context.macros.set(</span><span class="s3">\&quot;\\\\</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">, midMacro(true));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var arg = context.consumeArg().tokens;</span><span class="s3">\n  </span><span class="s1">var expanded = context.expandTokens([...right, ...arg, ...left // reversed</span><span class="s3">\n  </span><span class="s1">]);</span><span class="s3">\n  </span><span class="s1">context.macros.endGroup();</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">tokens: expanded.reverse(),</span><span class="s3">\n    </span><span class="s1">numArgs: 0</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">bra@ket</span><span class="s3">\&quot;</span><span class="s1">, braketHelper(false));</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">bra@set</span><span class="s3">\&quot;</span><span class="s1">, braketHelper(true));</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Braket</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bra@ket{</span><span class="s3">\\\\</span><span class="s1">left</span><span class="s3">\\\\</span><span class="s1">langle}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">,</span><span class="s3">\\\\</span><span class="s1">middle</span><span class="s3">\\\\</span><span class="s1">vert</span><span class="s3">\\\\</span><span class="s1">,}{</span><span class="s3">\\\\</span><span class="s1">,</span><span class="s3">\\\\</span><span class="s1">middle</span><span class="s3">\\\\</span><span class="s1">vert</span><span class="s3">\\\\</span><span class="s1">,}{</span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\\\\</span><span class="s1">rangle}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">Set</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bra@set{</span><span class="s3">\\\\</span><span class="s1">left</span><span class="s3">\\\\</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">:}</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">;</span><span class="s3">\\\\</span><span class="s1">middle</span><span class="s3">\\\\</span><span class="s1">vert</span><span class="s3">\\\\</span><span class="s1">;}{</span><span class="s3">\\\\</span><span class="s1">;</span><span class="s3">\\\\</span><span class="s1">middle</span><span class="s3">\\\\</span><span class="s1">Vert</span><span class="s3">\\\\</span><span class="s1">;}{</span><span class="s3">\\\\</span><span class="s1">:</span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\\\\</span><span class="s1">}}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">set</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">bra@set{</span><span class="s3">\\\\</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">,}{</span><span class="s3">\\\\</span><span class="s1">mid}{}{</span><span class="s3">\\\\</span><span class="s1">,</span><span class="s3">\\\\</span><span class="s1">}}</span><span class="s3">\&quot;</span><span class="s1">); // has no support for special || or </span><span class="s3">\\</span><span class="s1">|</span><span class="s3">\n</span><span class="s1">//////////////////////////////////////////////////////////////////////</span><span class="s3">\n</span><span class="s1">// actuarialangle.dtx</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">angln</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">angl n}</span><span class="s3">\&quot;</span><span class="s1">); // Custom Khan Academy colors, should be moved to an optional package</span><span class="s3">\n\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">blue</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##6495ed}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">orange</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##ffa500}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">pink</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##ff00af}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">red</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##df0030}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">green</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##28ae7b}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">gray</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{gray}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">purple</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##9d38bd}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">blueA</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##ccfaff}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">blueB</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##80f6ff}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">blueC</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##63d9ea}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">blueD</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##11accd}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">blueE</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##0c7f99}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">tealA</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##94fff5}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">tealB</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##26edd5}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">tealC</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##01d1c1}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">tealD</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##01a995}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">tealE</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##208170}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">greenA</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##b6ffb0}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">greenB</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##8af281}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">greenC</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##74cf70}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">greenD</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##1fab54}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">greenE</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##0d923f}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">goldA</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##ffd0a9}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">goldB</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##ffbb71}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">goldC</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##ff9c39}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">goldD</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##e07d10}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">goldE</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##a75a05}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">redA</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##fca9a9}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">redB</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##ff8482}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">redC</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##f9685d}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">redD</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##e84d39}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">redE</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##bc2612}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">maroonA</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##ffbde0}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">maroonB</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##ff92c6}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">maroonC</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##ed5fa6}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">maroonD</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##ca337c}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">maroonE</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##9e034e}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">purpleA</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##ddd7ff}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">purpleB</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##c6b9fc}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">purpleC</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##aa87ff}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">purpleD</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##7854ab}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">purpleE</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##543b78}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">mintA</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##f5f9e8}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">mintB</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##edf2df}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">mintC</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##e0e5cc}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">grayA</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##f6f7f7}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">grayB</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##f0f1f2}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">grayC</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##e3e5e6}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">grayD</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##d6d8da}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">grayE</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##babec2}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">grayF</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##888d93}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">grayG</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##626569}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">grayH</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##3b3e40}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">grayI</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##21242c}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">kaBlue</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##314453}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">defineMacro(</span><span class="s3">\&quot;\\\\</span><span class="s1">kaGreen</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor{##71B307}{#1}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This file contains the gullet where macros are expanded</span><span class="s3">\n </span><span class="s1">* until only non-macro tokens remain.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">// List of commands that act like macros but aren't defined as a macro,</span><span class="s3">\n</span><span class="s1">// function, or symbol.  Used in `isDefined`.</span><span class="s3">\n</span><span class="s1">var implicitCommands = {</span><span class="s3">\n  \&quot;</span><span class="s1">^</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n  </span><span class="s1">// Parser.js</span><span class="s3">\n  \&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n  </span><span class="s1">// Parser.js</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">limits</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n  </span><span class="s1">// Parser.js</span><span class="s3">\n  \&quot;\\\\</span><span class="s1">nolimits</span><span class="s3">\&quot;</span><span class="s1">: true // Parser.js</span><span class="s3">\n\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">class MacroExpander {</span><span class="s3">\n  </span><span class="s1">constructor(input, settings, mode) {</span><span class="s3">\n    </span><span class="s1">this.settings = void 0;</span><span class="s3">\n    </span><span class="s1">this.expansionCount = void 0;</span><span class="s3">\n    </span><span class="s1">this.lexer = void 0;</span><span class="s3">\n    </span><span class="s1">this.macros = void 0;</span><span class="s3">\n    </span><span class="s1">this.stack = void 0;</span><span class="s3">\n    </span><span class="s1">this.mode = void 0;</span><span class="s3">\n    </span><span class="s1">this.settings = settings;</span><span class="s3">\n    </span><span class="s1">this.expansionCount = 0;</span><span class="s3">\n    </span><span class="s1">this.feed(input); // Make new global namespace</span><span class="s3">\n\n    </span><span class="s1">this.macros = new Namespace(macros, settings.macros);</span><span class="s3">\n    </span><span class="s1">this.mode = mode;</span><span class="s3">\n    </span><span class="s1">this.stack = []; // contains tokens in REVERSE order</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Feed a new input string to the same MacroExpander</span><span class="s3">\n   </span><span class="s1">* (with existing macros etc.).</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">feed(input) {</span><span class="s3">\n    </span><span class="s1">this.lexer = new Lexer(input, this.settings);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Switches between </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot; </span><span class="s1">and </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot; </span><span class="s1">modes.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">switchMode(newMode) {</span><span class="s3">\n    </span><span class="s1">this.mode = newMode;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Start a new group nesting within all namespaces.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">beginGroup() {</span><span class="s3">\n    </span><span class="s1">this.macros.beginGroup();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* End current group nesting within all namespaces.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">endGroup() {</span><span class="s3">\n    </span><span class="s1">this.macros.endGroup();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Ends all currently nested groups (if any), restoring values before the</span><span class="s3">\n   </span><span class="s1">* groups began.  Useful in case of an error in the middle of parsing.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">endGroups() {</span><span class="s3">\n    </span><span class="s1">this.macros.endGroups();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Returns the topmost token on the stack, without expanding it.</span><span class="s3">\n   </span><span class="s1">* Similar in behavior to TeX's `</span><span class="s3">\\</span><span class="s1">futurelet`.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">future() {</span><span class="s3">\n    </span><span class="s1">if (this.stack.length === 0) {</span><span class="s3">\n      </span><span class="s1">this.pushToken(this.lexer.lex());</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return this.stack[this.stack.length - 1];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Remove and return the next unexpanded token.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">popToken() {</span><span class="s3">\n    </span><span class="s1">this.future(); // ensure non-empty stack</span><span class="s3">\n\n    </span><span class="s1">return this.stack.pop();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Add a given token to the token stack.  In particular, this get be used</span><span class="s3">\n   </span><span class="s1">* to put back a token returned from one of the other methods.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">pushToken(token) {</span><span class="s3">\n    </span><span class="s1">this.stack.push(token);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Append an array of tokens to the token stack.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">pushTokens(tokens) {</span><span class="s3">\n    </span><span class="s1">this.stack.push(...tokens);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Find an macro argument without expanding tokens and append the array of</span><span class="s3">\n   </span><span class="s1">* tokens to the token stack. Uses Token as a container for the result.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">scanArgument(isOptional) {</span><span class="s3">\n    </span><span class="s1">var start;</span><span class="s3">\n    </span><span class="s1">var end;</span><span class="s3">\n    </span><span class="s1">var tokens;</span><span class="s3">\n\n    </span><span class="s1">if (isOptional) {</span><span class="s3">\n      </span><span class="s1">this.consumeSpaces(); // </span><span class="s3">\\</span><span class="s1">@ifnextchar gobbles any space following it</span><span class="s3">\n\n      </span><span class="s1">if (this.future().text !== </span><span class="s3">\&quot;</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">start = this.popToken(); // don't include [ in tokens</span><span class="s3">\n\n      </span><span class="s1">({</span><span class="s3">\n        </span><span class="s1">tokens,</span><span class="s3">\n        </span><span class="s1">end</span><span class="s3">\n      </span><span class="s1">} = this.consumeArg([</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot;</span><span class="s1">]));</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">({</span><span class="s3">\n        </span><span class="s1">tokens,</span><span class="s3">\n        </span><span class="s1">start,</span><span class="s3">\n        </span><span class="s1">end</span><span class="s3">\n      </span><span class="s1">} = this.consumeArg());</span><span class="s3">\n    </span><span class="s1">} // indicate the end of an argument</span><span class="s3">\n\n\n    </span><span class="s1">this.pushToken(new Token(</span><span class="s3">\&quot;</span><span class="s1">EOF</span><span class="s3">\&quot;</span><span class="s1">, end.loc));</span><span class="s3">\n    </span><span class="s1">this.pushTokens(tokens);</span><span class="s3">\n    </span><span class="s1">return start.range(end, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Consume all following space tokens, without expansion.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">consumeSpaces() {</span><span class="s3">\n    </span><span class="s1">for (;;) {</span><span class="s3">\n      </span><span class="s1">var token = this.future();</span><span class="s3">\n\n      </span><span class="s1">if (token.text === </span><span class="s3">\&quot; \&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">this.stack.pop();</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Consume an argument from the token stream, and return the resulting array</span><span class="s3">\n   </span><span class="s1">* of tokens and start/end token.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">consumeArg(delims) {</span><span class="s3">\n    </span><span class="s1">// The argument for a delimited parameter is the shortest (possibly</span><span class="s3">\n    </span><span class="s1">// empty) sequence of tokens with properly nested {...} groups that is</span><span class="s3">\n    </span><span class="s1">// followed ... by this particular list of non-parameter tokens.</span><span class="s3">\n    </span><span class="s1">// The argument for an undelimited parameter is the next nonblank</span><span class="s3">\n    </span><span class="s1">// token, unless that token is {, when the argument will be the</span><span class="s3">\n    </span><span class="s1">// entire {...} group that follows.</span><span class="s3">\n    </span><span class="s1">var tokens = [];</span><span class="s3">\n    </span><span class="s1">var isDelimited = delims &amp;&amp; delims.length &gt; 0;</span><span class="s3">\n\n    </span><span class="s1">if (!isDelimited) {</span><span class="s3">\n      </span><span class="s1">// Ignore spaces between arguments.  As the TeXbook says:</span><span class="s3">\n      </span><span class="s1">// </span><span class="s3">\&quot;</span><span class="s1">After you have said </span><span class="s3">\\</span><span class="s1">def</span><span class="s3">\\</span><span class="s1">row#1#2{...}, you are allowed to</span><span class="s3">\n      </span><span class="s1">//  put spaces between the arguments (e.g., </span><span class="s3">\\</span><span class="s1">row x n), because</span><span class="s3">\n      </span><span class="s1">//  TeX doesnt use single spaces as undelimited arguments.</span><span class="s3">\&quot;\n      </span><span class="s1">this.consumeSpaces();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var start = this.future();</span><span class="s3">\n    </span><span class="s1">var tok;</span><span class="s3">\n    </span><span class="s1">var depth = 0;</span><span class="s3">\n    </span><span class="s1">var match = 0;</span><span class="s3">\n\n    </span><span class="s1">do {</span><span class="s3">\n      </span><span class="s1">tok = this.popToken();</span><span class="s3">\n      </span><span class="s1">tokens.push(tok);</span><span class="s3">\n\n      </span><span class="s1">if (tok.text === </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">++depth;</span><span class="s3">\n      </span><span class="s1">} else if (tok.text === </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">--depth;</span><span class="s3">\n\n        </span><span class="s1">if (depth === -1) {</span><span class="s3">\n          </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Extra }</span><span class="s3">\&quot;</span><span class="s1">, tok);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} else if (tok.text === </span><span class="s3">\&quot;</span><span class="s1">EOF</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Unexpected end of input in a macro argument</span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">, expected '</span><span class="s3">\&quot; </span><span class="s1">+ (delims &amp;&amp; isDelimited ? delims[match] : </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">) + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">, tok);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (delims &amp;&amp; isDelimited) {</span><span class="s3">\n        </span><span class="s1">if ((depth === 0 || depth === 1 &amp;&amp; delims[match] === </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">) &amp;&amp; tok.text === delims[match]) {</span><span class="s3">\n          </span><span class="s1">++match;</span><span class="s3">\n\n          </span><span class="s1">if (match === delims.length) {</span><span class="s3">\n            </span><span class="s1">// don't include delims in tokens</span><span class="s3">\n            </span><span class="s1">tokens.splice(-match, match);</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">match = 0;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} while (depth !== 0 || isDelimited); // If the argument found ... has the form {&lt;nested tokens&gt;},</span><span class="s3">\n    </span><span class="s1">// ... the outermost braces enclosing the argument are removed</span><span class="s3">\n\n\n    </span><span class="s1">if (start.text === </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; tokens[tokens.length - 1].text === </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">tokens.pop();</span><span class="s3">\n      </span><span class="s1">tokens.shift();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">tokens.reverse(); // to fit in with stack order</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">tokens,</span><span class="s3">\n      </span><span class="s1">start,</span><span class="s3">\n      </span><span class="s1">end: tok</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Consume the specified number of (delimited) arguments from the token</span><span class="s3">\n   </span><span class="s1">* stream and return the resulting array of arguments.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">consumeArgs(numArgs, delimiters) {</span><span class="s3">\n    </span><span class="s1">if (delimiters) {</span><span class="s3">\n      </span><span class="s1">if (delimiters.length !== numArgs + 1) {</span><span class="s3">\n        </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">The length of delimiters doesn't match the number of args!</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">var delims = delimiters[0];</span><span class="s3">\n\n      </span><span class="s1">for (var i = 0; i &lt; delims.length; i++) {</span><span class="s3">\n        </span><span class="s1">var tok = this.popToken();</span><span class="s3">\n\n        </span><span class="s1">if (delims[i] !== tok.text) {</span><span class="s3">\n          </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Use of the macro doesn't match its definition</span><span class="s3">\&quot;</span><span class="s1">, tok);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var args = [];</span><span class="s3">\n\n    </span><span class="s1">for (var _i = 0; _i &lt; numArgs; _i++) {</span><span class="s3">\n      </span><span class="s1">args.push(this.consumeArg(delimiters &amp;&amp; delimiters[_i + 1]).tokens);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return args;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Increment `expansionCount` by the specified amount.</span><span class="s3">\n   </span><span class="s1">* Throw an error if it exceeds `maxExpand`.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">countExpansion(amount) {</span><span class="s3">\n    </span><span class="s1">this.expansionCount += amount;</span><span class="s3">\n\n    </span><span class="s1">if (this.expansionCount &gt; this.settings.maxExpand) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Too many expansions: infinite loop or </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">need to increase maxExpand setting</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Expand the next token only once if possible.</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* If the token is expanded, the resulting tokens will be pushed onto</span><span class="s3">\n   </span><span class="s1">* the stack in reverse order, and the number of such tokens will be</span><span class="s3">\n   </span><span class="s1">* returned.  This number might be zero or positive.</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* If not, the return value is `false`, and the next token remains at the</span><span class="s3">\n   </span><span class="s1">* top of the stack.</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* In either case, the next token will be on the top of the stack,</span><span class="s3">\n   </span><span class="s1">* or the stack will be empty (in case of empty expansion</span><span class="s3">\n   </span><span class="s1">* and no other tokens).</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* Used to implement `expandAfterFuture` and `expandNextToken`.</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* If expandableOnly, only expandable tokens are expanded and</span><span class="s3">\n   </span><span class="s1">* an undefined control sequence results in an error.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">expandOnce(expandableOnly) {</span><span class="s3">\n    </span><span class="s1">var topToken = this.popToken();</span><span class="s3">\n    </span><span class="s1">var name = topToken.text;</span><span class="s3">\n    </span><span class="s1">var expansion = !topToken.noexpand ? this._getExpansion(name) : null;</span><span class="s3">\n\n    </span><span class="s1">if (expansion == null || expandableOnly &amp;&amp; expansion.unexpandable) {</span><span class="s3">\n      </span><span class="s1">if (expandableOnly &amp;&amp; expansion == null &amp;&amp; name[0] === </span><span class="s3">\&quot;\\\\\&quot; </span><span class="s1">&amp;&amp; !this.isDefined(name)) {</span><span class="s3">\n        </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Undefined control sequence: </span><span class="s3">\&quot; </span><span class="s1">+ name);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">this.pushToken(topToken);</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">this.countExpansion(1);</span><span class="s3">\n    </span><span class="s1">var tokens = expansion.tokens;</span><span class="s3">\n    </span><span class="s1">var args = this.consumeArgs(expansion.numArgs, expansion.delimiters);</span><span class="s3">\n\n    </span><span class="s1">if (expansion.numArgs) {</span><span class="s3">\n      </span><span class="s1">// paste arguments in place of the placeholders</span><span class="s3">\n      </span><span class="s1">tokens = tokens.slice(); // make a shallow copy</span><span class="s3">\n\n      </span><span class="s1">for (var i = tokens.length - 1; i &gt;= 0; --i) {</span><span class="s3">\n        </span><span class="s1">var tok = tokens[i];</span><span class="s3">\n\n        </span><span class="s1">if (tok.text === </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">if (i === 0) {</span><span class="s3">\n            </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Incomplete placeholder at end of macro body</span><span class="s3">\&quot;</span><span class="s1">, tok);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n\n          </span><span class="s1">tok = tokens[--i]; // next token on stack</span><span class="s3">\n\n          </span><span class="s1">if (tok.text === </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">// ##  #</span><span class="s3">\n            </span><span class="s1">tokens.splice(i + 1, 1); // drop first #</span><span class="s3">\n          </span><span class="s1">} else if (/^[1-9]$/.test(tok.text)) {</span><span class="s3">\n            </span><span class="s1">// replace the placeholder with the indicated argument</span><span class="s3">\n            </span><span class="s1">tokens.splice(i, 2, ...args[+tok.text - 1]);</span><span class="s3">\n          </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Not a valid argument number</span><span class="s3">\&quot;</span><span class="s1">, tok);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} // Concatenate expansion onto top of stack.</span><span class="s3">\n\n\n    </span><span class="s1">this.pushTokens(tokens);</span><span class="s3">\n    </span><span class="s1">return tokens.length;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Expand the next token only once (if possible), and return the resulting</span><span class="s3">\n   </span><span class="s1">* top token on the stack (without removing anything from the stack).</span><span class="s3">\n   </span><span class="s1">* Similar in behavior to TeX's `</span><span class="s3">\\</span><span class="s1">expandafter</span><span class="s3">\\</span><span class="s1">futurelet`.</span><span class="s3">\n   </span><span class="s1">* Equivalent to expandOnce() followed by future().</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">expandAfterFuture() {</span><span class="s3">\n    </span><span class="s1">this.expandOnce();</span><span class="s3">\n    </span><span class="s1">return this.future();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Recursively expand first token, then return first non-expandable token.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">expandNextToken() {</span><span class="s3">\n    </span><span class="s1">for (;;) {</span><span class="s3">\n      </span><span class="s1">if (this.expandOnce() === false) {</span><span class="s3">\n        </span><span class="s1">// fully expanded</span><span class="s3">\n        </span><span class="s1">var token = this.stack.pop(); // the token after </span><span class="s3">\\</span><span class="s1">noexpand is interpreted as if its meaning</span><span class="s3">\n        </span><span class="s1">// were </span><span class="s3">\\</span><span class="s1">relax</span><span class="s3">\n\n        </span><span class="s1">if (token.treatAsRelax) {</span><span class="s3">\n          </span><span class="s1">token.text = </span><span class="s3">\&quot;\\\\</span><span class="s1">relax</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">return token;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} // Flow unable to figure out that this pathway is impossible.</span><span class="s3">\n    </span><span class="s1">// https://github.com/facebook/flow/issues/4808</span><span class="s3">\n\n\n    </span><span class="s1">throw new Error(); // eslint-disable-line no-unreachable</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Fully expand the given macro name and return the resulting list of</span><span class="s3">\n   </span><span class="s1">* tokens, or return `undefined` if no such macro is defined.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">expandMacro(name) {</span><span class="s3">\n    </span><span class="s1">return this.macros.has(name) ? this.expandTokens([new Token(name)]) : undefined;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Fully expand the given token stream and return the resulting list of</span><span class="s3">\n   </span><span class="s1">* tokens.  Note that the input tokens are in reverse order, but the</span><span class="s3">\n   </span><span class="s1">* output tokens are in forward order.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">expandTokens(tokens) {</span><span class="s3">\n    </span><span class="s1">var output = [];</span><span class="s3">\n    </span><span class="s1">var oldStackLength = this.stack.length;</span><span class="s3">\n    </span><span class="s1">this.pushTokens(tokens);</span><span class="s3">\n\n    </span><span class="s1">while (this.stack.length &gt; oldStackLength) {</span><span class="s3">\n      </span><span class="s1">// Expand only expandable tokens</span><span class="s3">\n      </span><span class="s1">if (this.expandOnce(true) === false) {</span><span class="s3">\n        </span><span class="s1">// fully expanded</span><span class="s3">\n        </span><span class="s1">var token = this.stack.pop();</span><span class="s3">\n\n        </span><span class="s1">if (token.treatAsRelax) {</span><span class="s3">\n          </span><span class="s1">// the expansion of </span><span class="s3">\\</span><span class="s1">noexpand is the token itself</span><span class="s3">\n          </span><span class="s1">token.noexpand = false;</span><span class="s3">\n          </span><span class="s1">token.treatAsRelax = false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">output.push(token);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} // Count all of these tokens as additional expansions, to prevent</span><span class="s3">\n    </span><span class="s1">// exponential blowup from linearly many </span><span class="s3">\\</span><span class="s1">edef's.</span><span class="s3">\n\n\n    </span><span class="s1">this.countExpansion(output.length);</span><span class="s3">\n    </span><span class="s1">return output;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Fully expand the given macro name and return the result as a string,</span><span class="s3">\n   </span><span class="s1">* or return `undefined` if no such macro is defined.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">expandMacroAsText(name) {</span><span class="s3">\n    </span><span class="s1">var tokens = this.expandMacro(name);</span><span class="s3">\n\n    </span><span class="s1">if (tokens) {</span><span class="s3">\n      </span><span class="s1">return tokens.map(token =&gt; token.text).join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return tokens;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Returns the expanded macro as a reversed array of tokens and a macro</span><span class="s3">\n   </span><span class="s1">* argument count.  Or returns `null` if no such macro.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">_getExpansion(name) {</span><span class="s3">\n    </span><span class="s1">var definition = this.macros.get(name);</span><span class="s3">\n\n    </span><span class="s1">if (definition == null) {</span><span class="s3">\n      </span><span class="s1">// mainly checking for undefined here</span><span class="s3">\n      </span><span class="s1">return definition;</span><span class="s3">\n    </span><span class="s1">} // If a single character has an associated catcode other than 13</span><span class="s3">\n    </span><span class="s1">// (active character), then don't expand it.</span><span class="s3">\n\n\n    </span><span class="s1">if (name.length === 1) {</span><span class="s3">\n      </span><span class="s1">var catcode = this.lexer.catcodes[name];</span><span class="s3">\n\n      </span><span class="s1">if (catcode != null &amp;&amp; catcode !== 13) {</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var expansion = typeof definition === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? definition(this) : definition;</span><span class="s3">\n\n    </span><span class="s1">if (typeof expansion === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">var numArgs = 0;</span><span class="s3">\n\n      </span><span class="s1">if (expansion.indexOf(</span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot;</span><span class="s1">) !== -1) {</span><span class="s3">\n        </span><span class="s1">var stripped = expansion.replace(/##/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">while (stripped.indexOf(</span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">+ (numArgs + 1)) !== -1) {</span><span class="s3">\n          </span><span class="s1">++numArgs;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">var bodyLexer = new Lexer(expansion, this.settings);</span><span class="s3">\n      </span><span class="s1">var tokens = [];</span><span class="s3">\n      </span><span class="s1">var tok = bodyLexer.lex();</span><span class="s3">\n\n      </span><span class="s1">while (tok.text !== </span><span class="s3">\&quot;</span><span class="s1">EOF</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">tokens.push(tok);</span><span class="s3">\n        </span><span class="s1">tok = bodyLexer.lex();</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">tokens.reverse(); // to fit in with stack using push and pop</span><span class="s3">\n\n      </span><span class="s1">var expanded = {</span><span class="s3">\n        </span><span class="s1">tokens,</span><span class="s3">\n        </span><span class="s1">numArgs</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n      </span><span class="s1">return expanded;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return expansion;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Determine whether a command is currently </span><span class="s3">\&quot;</span><span class="s1">defined</span><span class="s3">\&quot; </span><span class="s1">(has some</span><span class="s3">\n   </span><span class="s1">* functionality), meaning that it's a macro (in the current group),</span><span class="s3">\n   </span><span class="s1">* a function, a symbol, or one of the special commands listed in</span><span class="s3">\n   </span><span class="s1">* `implicitCommands`.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">isDefined(name) {</span><span class="s3">\n    </span><span class="s1">return this.macros.has(name) || functions.hasOwnProperty(name) || symbols.math.hasOwnProperty(name) || symbols.text.hasOwnProperty(name) || implicitCommands.hasOwnProperty(name);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Determine whether a command is expandable.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">isExpandable(name) {</span><span class="s3">\n    </span><span class="s1">var macro = this.macros.get(name);</span><span class="s3">\n    </span><span class="s1">return macro != null ? typeof macro === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">|| typeof macro === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">|| !macro.unexpandable : functions.hasOwnProperty(name) &amp;&amp; !functions[name].primitive;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Helpers for Parser.js handling of Unicode (sub|super)script characters.</span><span class="s3">\n</span><span class="s1">var unicodeSubRegEx = /^[]/;</span><span class="s3">\n</span><span class="s1">var uSubsAndSups = Object.freeze({</span><span class="s3">\n  </span><span class="s1">'': '+',</span><span class="s3">\n  </span><span class="s1">'': '-',</span><span class="s3">\n  </span><span class="s1">'': '=',</span><span class="s3">\n  </span><span class="s1">'': '(',</span><span class="s3">\n  </span><span class="s1">'': ')',</span><span class="s3">\n  </span><span class="s1">'': '0',</span><span class="s3">\n  </span><span class="s1">'': '1',</span><span class="s3">\n  </span><span class="s1">'': '2',</span><span class="s3">\n  </span><span class="s1">'': '3',</span><span class="s3">\n  </span><span class="s1">'': '4',</span><span class="s3">\n  </span><span class="s1">'': '5',</span><span class="s3">\n  </span><span class="s1">'': '6',</span><span class="s3">\n  </span><span class="s1">'': '7',</span><span class="s3">\n  </span><span class="s1">'': '8',</span><span class="s3">\n  </span><span class="s1">'': '9',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u2090': 'a',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u2091': 'e',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u2095': 'h',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D62': 'i',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u2C7C': 'j',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u2096': 'k',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u2097': 'l',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u2098': 'm',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u2099': 'n',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u2092': 'o',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u209A': 'p',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D63': 'r',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u209B': 's',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u209C': 't',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D64': 'u',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D65': 'v',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u2093': 'x',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D66': '',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D67': '',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D68': '',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D69': '</span><span class="s3">\\</span><span class="s1">u03d5',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D6A': '',</span><span class="s3">\n  </span><span class="s1">'': '+',</span><span class="s3">\n  </span><span class="s1">'': '-',</span><span class="s3">\n  </span><span class="s1">'': '=',</span><span class="s3">\n  </span><span class="s1">'': '(',</span><span class="s3">\n  </span><span class="s1">'': ')',</span><span class="s3">\n  </span><span class="s1">'': '0',</span><span class="s3">\n  </span><span class="s1">'': '1',</span><span class="s3">\n  </span><span class="s1">'': '2',</span><span class="s3">\n  </span><span class="s1">'': '3',</span><span class="s3">\n  </span><span class="s1">'': '4',</span><span class="s3">\n  </span><span class="s1">'': '5',</span><span class="s3">\n  </span><span class="s1">'': '6',</span><span class="s3">\n  </span><span class="s1">'': '7',</span><span class="s3">\n  </span><span class="s1">'': '8',</span><span class="s3">\n  </span><span class="s1">'': '9',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D2C': 'A',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D2E': 'B',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D30': 'D',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D31': 'E',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D33': 'G',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D34': 'H',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D35': 'I',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D36': 'J',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D37': 'K',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D38': 'L',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D39': 'M',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D3A': 'N',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D3C': 'O',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D3E': 'P',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D3F': 'R',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D40': 'T',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D41': 'U',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u2C7D': 'V',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D42': 'W',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D43': 'a',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D47': 'b',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D9C': 'c',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D48': 'd',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D49': 'e',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1DA0': 'f',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D4D': 'g',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u02B0': 'h',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u2071': 'i',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u02B2': 'j',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D4F': 'k',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u02E1': 'l',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D50': 'm',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u207F': 'n',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D52': 'o',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D56': 'p',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u02B3': 'r',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u02E2': 's',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D57': 't',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D58': 'u',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D5B': 'v',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u02B7': 'w',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u02E3': 'x',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u02B8': 'y',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1DBB': 'z',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D5D': '',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D5E': '',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D5F': '',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D60': '</span><span class="s3">\\</span><span class="s1">u03d5',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1D61': '',</span><span class="s3">\n  </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u1DBF': ''</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">/* eslint no-constant-condition:0 */</span><span class="s3">\n\n</span><span class="s1">var unicodeAccents = {</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">acute</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">`</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">grave</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\\\\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">ddot</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">tilde</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">=</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">bar</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">breve</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">v</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">check</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">^</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">hat</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">dot</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">mathring</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">H</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">c</span><span class="s3">\&quot;\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var unicodeSymbols = {</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">b</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">f</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">h</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">h</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">h</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">h</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">h</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">i</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">i</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">i</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">i</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">i</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">i</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">i</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">i</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">i</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">j</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">j</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">k</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">k</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">k</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">l</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">l</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">l</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">m</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">m</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">p</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">p</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">s</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">s</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">s</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">s</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">s</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">s</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">s</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">t</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">t</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">t</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">t</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">v</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">w</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">w</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">w</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">w</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">w</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">w</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">B</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">D</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">D</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">D</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">E</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">E</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">E</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">E</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">E</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">E</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">E</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">E</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">E</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">E</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">E</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">E</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">E</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">E</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">E</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">E</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">F</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">G</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">G</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">G</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">G</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">G</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">G</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">G</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">I</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">I</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">I</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">I</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">I</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">I</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">I</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">I</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">I</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">I</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">J</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">K</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">K</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">K</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">L</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">L</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">L</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">M</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">M</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">N</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">N</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">N</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">N</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">N</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">N</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">O</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">P</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">P</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">R</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">R</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">R</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">R</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">S</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">S</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">S</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">S</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">S</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">S</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">S</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">T</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">T</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">T</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">V</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">W</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">W</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">W</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">W</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">W</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">X</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">X</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1"></span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1"></span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This file contains the parser used to parse out a TeX expression from the</span><span class="s3">\n </span><span class="s1">* input. Since TeX isn't context-free, standard parsers don't work particularly</span><span class="s3">\n </span><span class="s1">* well.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* The strategy of this parser is as such:</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* The main functions (the `.parse...` ones) take a position in the current</span><span class="s3">\n </span><span class="s1">* parse string to parse tokens from. The lexer (found in Lexer.js, stored at</span><span class="s3">\n </span><span class="s1">* this.gullet.lexer) also supports pulling out tokens at arbitrary places. When</span><span class="s3">\n </span><span class="s1">* individual tokens are needed at a position, the lexer is called to pull out a</span><span class="s3">\n </span><span class="s1">* token, which is then used.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* The parser has a property called </span><span class="s3">\&quot;</span><span class="s1">mode</span><span class="s3">\&quot; </span><span class="s1">indicating the mode that</span><span class="s3">\n </span><span class="s1">* the parser is currently in. Currently it has to be one of </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot; </span><span class="s1">or</span><span class="s3">\n </span><span class="s1">* </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">, which denotes whether the current environment is a math-y</span><span class="s3">\n </span><span class="s1">* one or a text-y one (e.g. inside </span><span class="s3">\\</span><span class="s1">text). Currently, this serves to</span><span class="s3">\n </span><span class="s1">* limit the functions which can be used in text mode.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* The main functions then return an object which contains the useful data that</span><span class="s3">\n </span><span class="s1">* was parsed at its given point, and a new position at the end of the parsed</span><span class="s3">\n </span><span class="s1">* data. The main functions can call each other and continue the parsing by</span><span class="s3">\n </span><span class="s1">* using the returned position as a new starting point.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* There are also extra `.handle...` functions, which pull out some reused</span><span class="s3">\n </span><span class="s1">* functionality into self-contained functions.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* The functions return ParseNodes.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class Parser {</span><span class="s3">\n  </span><span class="s1">constructor(input, settings) {</span><span class="s3">\n    </span><span class="s1">this.mode = void 0;</span><span class="s3">\n    </span><span class="s1">this.gullet = void 0;</span><span class="s3">\n    </span><span class="s1">this.settings = void 0;</span><span class="s3">\n    </span><span class="s1">this.leftrightDepth = void 0;</span><span class="s3">\n    </span><span class="s1">this.nextToken = void 0;</span><span class="s3">\n    </span><span class="s1">// Start in math mode</span><span class="s3">\n    </span><span class="s1">this.mode = </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">; // Create a new macro expander (gullet) and (indirectly via that) also a</span><span class="s3">\n    </span><span class="s1">// new lexer (mouth) for this parser (stomach, in the language of TeX)</span><span class="s3">\n\n    </span><span class="s1">this.gullet = new MacroExpander(input, settings, this.mode); // Store the settings for use in parsing</span><span class="s3">\n\n    </span><span class="s1">this.settings = settings; // Count leftright depth (for </span><span class="s3">\\</span><span class="s1">middle errors)</span><span class="s3">\n\n    </span><span class="s1">this.leftrightDepth = 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Checks a result to make sure it has the right type, and throws an</span><span class="s3">\n   </span><span class="s1">* appropriate error otherwise.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">expect(text, consume) {</span><span class="s3">\n    </span><span class="s1">if (consume === void 0) {</span><span class="s3">\n      </span><span class="s1">consume = true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (this.fetch().text !== text) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Expected '</span><span class="s3">\&quot; </span><span class="s1">+ text + </span><span class="s3">\&quot;</span><span class="s1">', got '</span><span class="s3">\&quot; </span><span class="s1">+ this.fetch().text + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">, this.fetch());</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (consume) {</span><span class="s3">\n      </span><span class="s1">this.consume();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Discards the current lookahead token, considering it consumed.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">consume() {</span><span class="s3">\n    </span><span class="s1">this.nextToken = null;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Return the current lookahead token, or if there isn't one (at the</span><span class="s3">\n   </span><span class="s1">* beginning, or if the previous lookahead token was consume()d),</span><span class="s3">\n   </span><span class="s1">* fetch the next token as the new lookahead token and return it.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">fetch() {</span><span class="s3">\n    </span><span class="s1">if (this.nextToken == null) {</span><span class="s3">\n      </span><span class="s1">this.nextToken = this.gullet.expandNextToken();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return this.nextToken;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Switches between </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot; </span><span class="s1">and </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot; </span><span class="s1">modes.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">switchMode(newMode) {</span><span class="s3">\n    </span><span class="s1">this.mode = newMode;</span><span class="s3">\n    </span><span class="s1">this.gullet.switchMode(newMode);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Main parsing function, which parses an entire input.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">parse() {</span><span class="s3">\n    </span><span class="s1">if (!this.settings.globalGroup) {</span><span class="s3">\n      </span><span class="s1">// Create a group namespace for the math expression.</span><span class="s3">\n      </span><span class="s1">// (LaTeX creates a new group for every $...$, $$...$$, </span><span class="s3">\\</span><span class="s1">[...</span><span class="s3">\\</span><span class="s1">].)</span><span class="s3">\n      </span><span class="s1">this.gullet.beginGroup();</span><span class="s3">\n    </span><span class="s1">} // Use old </span><span class="s3">\\</span><span class="s1">color behavior (same as LaTeX's </span><span class="s3">\\</span><span class="s1">textcolor) if requested.</span><span class="s3">\n    </span><span class="s1">// We do this within the group for the math expression, so it doesn't</span><span class="s3">\n    </span><span class="s1">// pollute settings.macros.</span><span class="s3">\n\n\n    </span><span class="s1">if (this.settings.colorIsTextColor) {</span><span class="s3">\n      </span><span class="s1">this.gullet.macros.set(</span><span class="s3">\&quot;\\\\</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">textcolor</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">// Try to parse the input</span><span class="s3">\n      </span><span class="s1">var parse = this.parseExpression(false); // If we succeeded, make sure there's an EOF at the end</span><span class="s3">\n\n      </span><span class="s1">this.expect(</span><span class="s3">\&quot;</span><span class="s1">EOF</span><span class="s3">\&quot;</span><span class="s1">); // End the group namespace for the expression</span><span class="s3">\n\n      </span><span class="s1">if (!this.settings.globalGroup) {</span><span class="s3">\n        </span><span class="s1">this.gullet.endGroup();</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">return parse; // Close any leftover groups in case of a parse error.</span><span class="s3">\n    </span><span class="s1">} finally {</span><span class="s3">\n      </span><span class="s1">this.gullet.endGroups();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Fully parse a separate sequence of tokens as a separate job.</span><span class="s3">\n   </span><span class="s1">* Tokens should be specified in reverse order, as in a MacroDefinition.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">subparse(tokens) {</span><span class="s3">\n    </span><span class="s1">// Save the next token from the current job.</span><span class="s3">\n    </span><span class="s1">var oldToken = this.nextToken;</span><span class="s3">\n    </span><span class="s1">this.consume(); // Run the new job, terminating it with an excess '}'</span><span class="s3">\n\n    </span><span class="s1">this.gullet.pushToken(new Token(</span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n    </span><span class="s1">this.gullet.pushTokens(tokens);</span><span class="s3">\n    </span><span class="s1">var parse = this.parseExpression(false);</span><span class="s3">\n    </span><span class="s1">this.expect(</span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">); // Restore the next token from the current job.</span><span class="s3">\n\n    </span><span class="s1">this.nextToken = oldToken;</span><span class="s3">\n    </span><span class="s1">return parse;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Parses an </span><span class="s3">\&quot;</span><span class="s1">expression</span><span class="s3">\&quot;</span><span class="s1">, which is a list of atoms.</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* `breakOnInfix`: Should the parsing stop when we hit infix nodes? This</span><span class="s3">\n   </span><span class="s1">*                 happens when functions have higher precedence han infix</span><span class="s3">\n   </span><span class="s1">*                 nodes in implicit parses.</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* `breakOnTokenText`: The text of the token that the expression should end</span><span class="s3">\n   </span><span class="s1">*                     with, or `null` if something else should end the</span><span class="s3">\n   </span><span class="s1">*                     expression.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">parseExpression(breakOnInfix, breakOnTokenText) {</span><span class="s3">\n    </span><span class="s1">var body = []; // Keep adding atoms to the body until we can't parse any more atoms (either</span><span class="s3">\n    </span><span class="s1">// we reached the end, a }, or a </span><span class="s3">\\</span><span class="s1">right)</span><span class="s3">\n\n    </span><span class="s1">while (true) {</span><span class="s3">\n      </span><span class="s1">// Ignore spaces in math mode</span><span class="s3">\n      </span><span class="s1">if (this.mode === </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">this.consumeSpaces();</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">var lex = this.fetch();</span><span class="s3">\n\n      </span><span class="s1">if (Parser.endOfExpression.indexOf(lex.text) !== -1) {</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (breakOnTokenText &amp;&amp; lex.text === breakOnTokenText) {</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (breakOnInfix &amp;&amp; functions[lex.text] &amp;&amp; functions[lex.text].infix) {</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">var atom = this.parseAtom(breakOnTokenText);</span><span class="s3">\n\n      </span><span class="s1">if (!atom) {</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">} else if (atom.type === </span><span class="s3">\&quot;</span><span class="s1">internal</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">continue;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">body.push(atom);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (this.mode === </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">this.formLigatures(body);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return this.handleInfixNodes(body);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Rewrites infix operators such as </span><span class="s3">\\</span><span class="s1">over with corresponding commands such</span><span class="s3">\n   </span><span class="s1">* as </span><span class="s3">\\</span><span class="s1">frac.</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* There can only be one infix operator per group.  If there's more than one</span><span class="s3">\n   </span><span class="s1">* then the expression is ambiguous.  This can be resolved by adding {}.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">handleInfixNodes(body) {</span><span class="s3">\n    </span><span class="s1">var overIndex = -1;</span><span class="s3">\n    </span><span class="s1">var funcName;</span><span class="s3">\n\n    </span><span class="s1">for (var i = 0; i &lt; body.length; i++) {</span><span class="s3">\n      </span><span class="s1">if (body[i].type === </span><span class="s3">\&quot;</span><span class="s1">infix</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">if (overIndex !== -1) {</span><span class="s3">\n          </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">only one infix operator per group</span><span class="s3">\&quot;</span><span class="s1">, body[i].token);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">overIndex = i;</span><span class="s3">\n        </span><span class="s1">funcName = body[i].replaceWith;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (overIndex !== -1 &amp;&amp; funcName) {</span><span class="s3">\n      </span><span class="s1">var numerNode;</span><span class="s3">\n      </span><span class="s1">var denomNode;</span><span class="s3">\n      </span><span class="s1">var numerBody = body.slice(0, overIndex);</span><span class="s3">\n      </span><span class="s1">var denomBody = body.slice(overIndex + 1);</span><span class="s3">\n\n      </span><span class="s1">if (numerBody.length === 1 &amp;&amp; numerBody[0].type === </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">numerNode = numerBody[0];</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">numerNode = {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">mode: this.mode,</span><span class="s3">\n          </span><span class="s1">body: numerBody</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (denomBody.length === 1 &amp;&amp; denomBody[0].type === </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">denomNode = denomBody[0];</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">denomNode = {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">mode: this.mode,</span><span class="s3">\n          </span><span class="s1">body: denomBody</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">var node;</span><span class="s3">\n\n      </span><span class="s1">if (funcName === </span><span class="s3">\&quot;\\\\\\\\</span><span class="s1">abovefrac</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">node = this.callFunction(funcName, [numerNode, body[overIndex], denomNode], []);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">node = this.callFunction(funcName, [numerNode, denomNode], []);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">return [node];</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return body;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Handle a subscript or superscript with nice errors.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">handleSupSubscript(name // For error reporting.</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">var symbolToken = this.fetch();</span><span class="s3">\n    </span><span class="s1">var symbol = symbolToken.text;</span><span class="s3">\n    </span><span class="s1">this.consume();</span><span class="s3">\n    </span><span class="s1">this.consumeSpaces(); // ignore spaces before sup/subscript argument</span><span class="s3">\n\n    </span><span class="s1">var group = this.parseGroup(name);</span><span class="s3">\n\n    </span><span class="s1">if (!group) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Expected group after '</span><span class="s3">\&quot; </span><span class="s1">+ symbol + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">, symbolToken);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return group;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Converts the textual input of an unsupported command into a text node</span><span class="s3">\n   </span><span class="s1">* contained within a color node whose color is determined by errorColor</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">formatUnsupportedCmd(text) {</span><span class="s3">\n    </span><span class="s1">var textordArray = [];</span><span class="s3">\n\n    </span><span class="s1">for (var i = 0; i &lt; text.length; i++) {</span><span class="s3">\n      </span><span class="s1">textordArray.push({</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">text: text[i]</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var textNode = {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: this.mode,</span><span class="s3">\n      </span><span class="s1">body: textordArray</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">var colorNode = {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: this.mode,</span><span class="s3">\n      </span><span class="s1">color: this.settings.errorColor,</span><span class="s3">\n      </span><span class="s1">body: [textNode]</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return colorNode;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Parses a group with optional super/subscripts.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">parseAtom(breakOnTokenText) {</span><span class="s3">\n    </span><span class="s1">// The body of an atom is an implicit group, so that things like</span><span class="s3">\n    </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">left(x</span><span class="s3">\\</span><span class="s1">right)^2 work correctly.</span><span class="s3">\n    </span><span class="s1">var base = this.parseGroup(</span><span class="s3">\&quot;</span><span class="s1">atom</span><span class="s3">\&quot;</span><span class="s1">, breakOnTokenText); // In text mode, we don't have superscripts or subscripts</span><span class="s3">\n\n    </span><span class="s1">if (this.mode === </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return base;</span><span class="s3">\n    </span><span class="s1">} // Note that base may be empty (i.e. null) at this point.</span><span class="s3">\n\n\n    </span><span class="s1">var superscript;</span><span class="s3">\n    </span><span class="s1">var subscript;</span><span class="s3">\n\n    </span><span class="s1">while (true) {</span><span class="s3">\n      </span><span class="s1">// Guaranteed in math mode, so eat any spaces first.</span><span class="s3">\n      </span><span class="s1">this.consumeSpaces(); // Lex the first token</span><span class="s3">\n\n      </span><span class="s1">var lex = this.fetch();</span><span class="s3">\n\n      </span><span class="s1">if (lex.text === </span><span class="s3">\&quot;\\\\</span><span class="s1">limits</span><span class="s3">\&quot; </span><span class="s1">|| lex.text === </span><span class="s3">\&quot;\\\\</span><span class="s1">nolimits</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">// We got a limit control</span><span class="s3">\n        </span><span class="s1">if (base &amp;&amp; base.type === </span><span class="s3">\&quot;</span><span class="s1">op</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">var limits = lex.text === </span><span class="s3">\&quot;\\\\</span><span class="s1">limits</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n          </span><span class="s1">base.limits = limits;</span><span class="s3">\n          </span><span class="s1">base.alwaysHandleSupSub = true;</span><span class="s3">\n        </span><span class="s1">} else if (base &amp;&amp; base.type === </span><span class="s3">\&quot;</span><span class="s1">operatorname</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">if (base.alwaysHandleSupSub) {</span><span class="s3">\n            </span><span class="s1">base.limits = lex.text === </span><span class="s3">\&quot;\\\\</span><span class="s1">limits</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Limit controls must follow a math operator</span><span class="s3">\&quot;</span><span class="s1">, lex);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">this.consume();</span><span class="s3">\n      </span><span class="s1">} else if (lex.text === </span><span class="s3">\&quot;</span><span class="s1">^</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">// We got a superscript start</span><span class="s3">\n        </span><span class="s1">if (superscript) {</span><span class="s3">\n          </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Double superscript</span><span class="s3">\&quot;</span><span class="s1">, lex);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">superscript = this.handleSupSubscript(</span><span class="s3">\&quot;</span><span class="s1">superscript</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">} else if (lex.text === </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">// We got a subscript start</span><span class="s3">\n        </span><span class="s1">if (subscript) {</span><span class="s3">\n          </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Double subscript</span><span class="s3">\&quot;</span><span class="s1">, lex);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">subscript = this.handleSupSubscript(</span><span class="s3">\&quot;</span><span class="s1">subscript</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">} else if (lex.text === </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">// We got a prime</span><span class="s3">\n        </span><span class="s1">if (superscript) {</span><span class="s3">\n          </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Double superscript</span><span class="s3">\&quot;</span><span class="s1">, lex);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">var prime = {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">mode: this.mode,</span><span class="s3">\n          </span><span class="s1">text: </span><span class="s3">\&quot;\\\\</span><span class="s1">prime</span><span class="s3">\&quot;\n        </span><span class="s1">}; // Many primes can be grouped together, so we handle this here</span><span class="s3">\n\n        </span><span class="s1">var primes = [prime];</span><span class="s3">\n        </span><span class="s1">this.consume(); // Keep lexing tokens until we get something that's not a prime</span><span class="s3">\n\n        </span><span class="s1">while (this.fetch().text === </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">// For each one, add another prime to the list</span><span class="s3">\n          </span><span class="s1">primes.push(prime);</span><span class="s3">\n          </span><span class="s1">this.consume();</span><span class="s3">\n        </span><span class="s1">} // If there's a superscript following the primes, combine that</span><span class="s3">\n        </span><span class="s1">// superscript in with the primes.</span><span class="s3">\n\n\n        </span><span class="s1">if (this.fetch().text === </span><span class="s3">\&quot;</span><span class="s1">^</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">primes.push(this.handleSupSubscript(</span><span class="s3">\&quot;</span><span class="s1">superscript</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n        </span><span class="s1">} // Put everything into an ordgroup as the superscript</span><span class="s3">\n\n\n        </span><span class="s1">superscript = {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">mode: this.mode,</span><span class="s3">\n          </span><span class="s1">body: primes</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n      </span><span class="s1">} else if (uSubsAndSups[lex.text]) {</span><span class="s3">\n        </span><span class="s1">// A Unicode subscript or superscript character.</span><span class="s3">\n        </span><span class="s1">// We treat these similarly to the unicode-math package.</span><span class="s3">\n        </span><span class="s1">// So we render a string of Unicode (sub|super)scripts the</span><span class="s3">\n        </span><span class="s1">// same as a (sub|super)script of regular characters.</span><span class="s3">\n        </span><span class="s1">var isSub = unicodeSubRegEx.test(lex.text);</span><span class="s3">\n        </span><span class="s1">var subsupTokens = [];</span><span class="s3">\n        </span><span class="s1">subsupTokens.push(new Token(uSubsAndSups[lex.text]));</span><span class="s3">\n        </span><span class="s1">this.consume(); // Continue fetching tokens to fill out the string.</span><span class="s3">\n\n        </span><span class="s1">while (true) {</span><span class="s3">\n          </span><span class="s1">var token = this.fetch().text;</span><span class="s3">\n\n          </span><span class="s1">if (!uSubsAndSups[token]) {</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n\n          </span><span class="s1">if (unicodeSubRegEx.test(token) !== isSub) {</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n\n          </span><span class="s1">subsupTokens.unshift(new Token(uSubsAndSups[token]));</span><span class="s3">\n          </span><span class="s1">this.consume();</span><span class="s3">\n        </span><span class="s1">} // Now create a (sub|super)script.</span><span class="s3">\n\n\n        </span><span class="s1">var body = this.subparse(subsupTokens);</span><span class="s3">\n\n        </span><span class="s1">if (isSub) {</span><span class="s3">\n          </span><span class="s1">subscript = {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">body</span><span class="s3">\n          </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">superscript = {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">body</span><span class="s3">\n          </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">// If it wasn't ^, _, or ', stop parsing super/subscripts</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} // Base must be set if superscript or subscript are set per logic above,</span><span class="s3">\n    </span><span class="s1">// but need to check here for type check to pass.</span><span class="s3">\n\n\n    </span><span class="s1">if (superscript || subscript) {</span><span class="s3">\n      </span><span class="s1">// If we got either a superscript or subscript, create a supsub</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">supsub</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">mode: this.mode,</span><span class="s3">\n        </span><span class="s1">base: base,</span><span class="s3">\n        </span><span class="s1">sup: superscript,</span><span class="s3">\n        </span><span class="s1">sub: subscript</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">// Otherwise return the original body</span><span class="s3">\n      </span><span class="s1">return base;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Parses an entire function, including its base and all of its arguments.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">parseFunction(breakOnTokenText, name // For determining its context</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">var token = this.fetch();</span><span class="s3">\n    </span><span class="s1">var func = token.text;</span><span class="s3">\n    </span><span class="s1">var funcData = functions[func];</span><span class="s3">\n\n    </span><span class="s1">if (!funcData) {</span><span class="s3">\n      </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">this.consume(); // consume command token</span><span class="s3">\n\n    </span><span class="s1">if (name &amp;&amp; name !== </span><span class="s3">\&quot;</span><span class="s1">atom</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; !funcData.allowedInArgument) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Got function '</span><span class="s3">\&quot; </span><span class="s1">+ func + </span><span class="s3">\&quot;</span><span class="s1">' with no arguments</span><span class="s3">\&quot; </span><span class="s1">+ (name ? </span><span class="s3">\&quot; </span><span class="s1">as </span><span class="s3">\&quot; </span><span class="s1">+ name : </span><span class="s3">\&quot;\&quot;</span><span class="s1">), token);</span><span class="s3">\n    </span><span class="s1">} else if (this.mode === </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; !funcData.allowedInText) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Can't use function '</span><span class="s3">\&quot; </span><span class="s1">+ func + </span><span class="s3">\&quot;</span><span class="s1">' in text mode</span><span class="s3">\&quot;</span><span class="s1">, token);</span><span class="s3">\n    </span><span class="s1">} else if (this.mode === </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; funcData.allowedInMath === false) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Can't use function '</span><span class="s3">\&quot; </span><span class="s1">+ func + </span><span class="s3">\&quot;</span><span class="s1">' in math mode</span><span class="s3">\&quot;</span><span class="s1">, token);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var {</span><span class="s3">\n      </span><span class="s1">args,</span><span class="s3">\n      </span><span class="s1">optArgs</span><span class="s3">\n    </span><span class="s1">} = this.parseArguments(func, funcData);</span><span class="s3">\n    </span><span class="s1">return this.callFunction(func, args, optArgs, token, breakOnTokenText);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Call a function handler with a suitable context and arguments.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">callFunction(name, args, optArgs, token, breakOnTokenText) {</span><span class="s3">\n    </span><span class="s1">var context = {</span><span class="s3">\n      </span><span class="s1">funcName: name,</span><span class="s3">\n      </span><span class="s1">parser: this,</span><span class="s3">\n      </span><span class="s1">token,</span><span class="s3">\n      </span><span class="s1">breakOnTokenText</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">var func = functions[name];</span><span class="s3">\n\n    </span><span class="s1">if (func &amp;&amp; func.handler) {</span><span class="s3">\n      </span><span class="s1">return func.handler(context, args, optArgs);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">No function handler for </span><span class="s3">\&quot; </span><span class="s1">+ name);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Parses the arguments of a function or environment</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">parseArguments(func, // Should look like </span><span class="s3">\&quot;\\</span><span class="s1">name</span><span class="s3">\&quot; </span><span class="s1">or </span><span class="s3">\&quot;\\</span><span class="s1">begin{name}</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\n  </span><span class="s1">funcData) {</span><span class="s3">\n    </span><span class="s1">var totalArgs = funcData.numArgs + funcData.numOptionalArgs;</span><span class="s3">\n\n    </span><span class="s1">if (totalArgs === 0) {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">args: [],</span><span class="s3">\n        </span><span class="s1">optArgs: []</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var args = [];</span><span class="s3">\n    </span><span class="s1">var optArgs = [];</span><span class="s3">\n\n    </span><span class="s1">for (var i = 0; i &lt; totalArgs; i++) {</span><span class="s3">\n      </span><span class="s1">var argType = funcData.argTypes &amp;&amp; funcData.argTypes[i];</span><span class="s3">\n      </span><span class="s1">var isOptional = i &lt; funcData.numOptionalArgs;</span><span class="s3">\n\n      </span><span class="s1">if (funcData.primitive &amp;&amp; argType == null || // </span><span class="s3">\\</span><span class="s1">sqrt expands into primitive if optional argument doesn't exist</span><span class="s3">\n      </span><span class="s1">funcData.type === </span><span class="s3">\&quot;</span><span class="s1">sqrt</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; i === 1 &amp;&amp; optArgs[0] == null) {</span><span class="s3">\n        </span><span class="s1">argType = </span><span class="s3">\&quot;</span><span class="s1">primitive</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">var arg = this.parseGroupOfType(</span><span class="s3">\&quot;</span><span class="s1">argument to '</span><span class="s3">\&quot; </span><span class="s1">+ func + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">, argType, isOptional);</span><span class="s3">\n\n      </span><span class="s1">if (isOptional) {</span><span class="s3">\n        </span><span class="s1">optArgs.push(arg);</span><span class="s3">\n      </span><span class="s1">} else if (arg != null) {</span><span class="s3">\n        </span><span class="s1">args.push(arg);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">// should be unreachable</span><span class="s3">\n        </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Null argument, please report this as a bug</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">args,</span><span class="s3">\n      </span><span class="s1">optArgs</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Parses a group when the mode is changing.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">parseGroupOfType(name, type, optional) {</span><span class="s3">\n    </span><span class="s1">switch (type) {</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">return this.parseColorGroup(optional);</span><span class="s3">\n\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">return this.parseSizeGroup(optional);</span><span class="s3">\n\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">url</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">return this.parseUrlGroup(optional);</span><span class="s3">\n\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">return this.parseArgumentGroup(optional, type);</span><span class="s3">\n\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">hbox</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">{</span><span class="s3">\n          </span><span class="s1">// hbox argument type wraps the argument in the equivalent of</span><span class="s3">\n          </span><span class="s1">// </span><span class="s3">\\</span><span class="s1">hbox, which is like </span><span class="s3">\\</span><span class="s1">text but switching to </span><span class="s3">\\</span><span class="s1">textstyle size.</span><span class="s3">\n          </span><span class="s1">var group = this.parseArgumentGroup(optional, </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n          </span><span class="s1">return group != null ? {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">styling</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">mode: group.mode,</span><span class="s3">\n            </span><span class="s1">body: [group],</span><span class="s3">\n            </span><span class="s1">style: </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot; </span><span class="s1">// simulate </span><span class="s3">\\</span><span class="s1">textstyle</span><span class="s3">\n\n          </span><span class="s1">} : null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">raw</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">{</span><span class="s3">\n          </span><span class="s1">var token = this.parseStringGroup(</span><span class="s3">\&quot;</span><span class="s1">raw</span><span class="s3">\&quot;</span><span class="s1">, optional);</span><span class="s3">\n          </span><span class="s1">return token != null ? {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">raw</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">string: token.text</span><span class="s3">\n          </span><span class="s1">} : null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">primitive</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">{</span><span class="s3">\n          </span><span class="s1">if (optional) {</span><span class="s3">\n            </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">A primitive argument cannot be optional</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n\n          </span><span class="s1">var _group = this.parseGroup(name);</span><span class="s3">\n\n          </span><span class="s1">if (_group == null) {</span><span class="s3">\n            </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Expected group as </span><span class="s3">\&quot; </span><span class="s1">+ name, this.fetch());</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n\n          </span><span class="s1">return _group;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">original</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">case null:</span><span class="s3">\n      </span><span class="s1">case undefined:</span><span class="s3">\n        </span><span class="s1">return this.parseArgumentGroup(optional);</span><span class="s3">\n\n      </span><span class="s1">default:</span><span class="s3">\n        </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Unknown group type as </span><span class="s3">\&quot; </span><span class="s1">+ name, this.fetch());</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Discard any space tokens, fetching the next non-space token.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">consumeSpaces() {</span><span class="s3">\n    </span><span class="s1">while (this.fetch().text === </span><span class="s3">\&quot; \&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">this.consume();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Parses a group, essentially returning the string formed by the</span><span class="s3">\n   </span><span class="s1">* brace-enclosed tokens plus some position information.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">parseStringGroup(modeName, // Used to describe the mode in error messages.</span><span class="s3">\n  </span><span class="s1">optional) {</span><span class="s3">\n    </span><span class="s1">var argToken = this.gullet.scanArgument(optional);</span><span class="s3">\n\n    </span><span class="s1">if (argToken == null) {</span><span class="s3">\n      </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var str = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">var nextToken;</span><span class="s3">\n\n    </span><span class="s1">while ((nextToken = this.fetch()).text !== </span><span class="s3">\&quot;</span><span class="s1">EOF</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">str += nextToken.text;</span><span class="s3">\n      </span><span class="s1">this.consume();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">this.consume(); // consume the end of the argument</span><span class="s3">\n\n    </span><span class="s1">argToken.text = str;</span><span class="s3">\n    </span><span class="s1">return argToken;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Parses a regex-delimited group: the largest sequence of tokens</span><span class="s3">\n   </span><span class="s1">* whose concatenated strings match `regex`. Returns the string</span><span class="s3">\n   </span><span class="s1">* formed by the tokens plus some position information.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">parseRegexGroup(regex, modeName // Used to describe the mode in error messages.</span><span class="s3">\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">var firstToken = this.fetch();</span><span class="s3">\n    </span><span class="s1">var lastToken = firstToken;</span><span class="s3">\n    </span><span class="s1">var str = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">var nextToken;</span><span class="s3">\n\n    </span><span class="s1">while ((nextToken = this.fetch()).text !== </span><span class="s3">\&quot;</span><span class="s1">EOF</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; regex.test(str + nextToken.text)) {</span><span class="s3">\n      </span><span class="s1">lastToken = nextToken;</span><span class="s3">\n      </span><span class="s1">str += lastToken.text;</span><span class="s3">\n      </span><span class="s1">this.consume();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (str === </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Invalid </span><span class="s3">\&quot; </span><span class="s1">+ modeName + </span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot; </span><span class="s1">+ firstToken.text + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">, firstToken);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return firstToken.range(lastToken, str);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Parses a color description.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">parseColorGroup(optional) {</span><span class="s3">\n    </span><span class="s1">var res = this.parseStringGroup(</span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">, optional);</span><span class="s3">\n\n    </span><span class="s1">if (res == null) {</span><span class="s3">\n      </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var match = /^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(res.text);</span><span class="s3">\n\n    </span><span class="s1">if (!match) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Invalid color: '</span><span class="s3">\&quot; </span><span class="s1">+ res.text + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">, res);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var color = match[0];</span><span class="s3">\n\n    </span><span class="s1">if (/^[0-9a-f]{6}$/i.test(color)) {</span><span class="s3">\n      </span><span class="s1">// We allow a 6-digit HTML color spec without a leading </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\n      </span><span class="s1">// This follows the xcolor package's HTML color model.</span><span class="s3">\n      </span><span class="s1">// Predefined color names are all missed by this RegEx pattern.</span><span class="s3">\n      </span><span class="s1">color = </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">+ color;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">color-token</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: this.mode,</span><span class="s3">\n      </span><span class="s1">color</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Parses a size specification, consisting of magnitude and unit.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">parseSizeGroup(optional) {</span><span class="s3">\n    </span><span class="s1">var res;</span><span class="s3">\n    </span><span class="s1">var isBlank = false; // don't expand before parseStringGroup</span><span class="s3">\n\n    </span><span class="s1">this.gullet.consumeSpaces();</span><span class="s3">\n\n    </span><span class="s1">if (!optional &amp;&amp; this.gullet.future().text !== </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">res = this.parseRegexGroup(/^[-+]? *(?:$|</span><span class="s3">\\</span><span class="s1">d+|</span><span class="s3">\\</span><span class="s1">d+</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d*|</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d*) *[a-z]{0,2} *$/, </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">res = this.parseStringGroup(</span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">, optional);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (!res) {</span><span class="s3">\n      </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (!optional &amp;&amp; res.text.length === 0) {</span><span class="s3">\n      </span><span class="s1">// Because we've tested for what is !optional, this block won't</span><span class="s3">\n      </span><span class="s1">// affect </span><span class="s3">\\</span><span class="s1">kern, </span><span class="s3">\\</span><span class="s1">hspace, etc. It will capture the mandatory arguments</span><span class="s3">\n      </span><span class="s1">// to </span><span class="s3">\\</span><span class="s1">genfrac and </span><span class="s3">\\</span><span class="s1">above.</span><span class="s3">\n      </span><span class="s1">res.text = </span><span class="s3">\&quot;</span><span class="s1">0pt</span><span class="s3">\&quot;</span><span class="s1">; // Enable </span><span class="s3">\\</span><span class="s1">above{}</span><span class="s3">\n\n      </span><span class="s1">isBlank = true; // This is here specifically for </span><span class="s3">\\</span><span class="s1">genfrac</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var match = /([-+]?) *(</span><span class="s3">\\</span><span class="s1">d+(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d*)?|</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+) *([a-z]{2})/.exec(res.text);</span><span class="s3">\n\n    </span><span class="s1">if (!match) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Invalid size: '</span><span class="s3">\&quot; </span><span class="s1">+ res.text + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">, res);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var data = {</span><span class="s3">\n      </span><span class="s1">number: +(match[1] + match[2]),</span><span class="s3">\n      </span><span class="s1">// sign + magnitude, cast to number</span><span class="s3">\n      </span><span class="s1">unit: match[3]</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n\n    </span><span class="s1">if (!validUnit(data)) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Invalid unit: '</span><span class="s3">\&quot; </span><span class="s1">+ data.unit + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">, res);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: this.mode,</span><span class="s3">\n      </span><span class="s1">value: data,</span><span class="s3">\n      </span><span class="s1">isBlank</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Parses an URL, checking escaped letters and allowed protocols,</span><span class="s3">\n   </span><span class="s1">* and setting the catcode of % as an active character (as in </span><span class="s3">\\</span><span class="s1">hyperref).</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">parseUrlGroup(optional) {</span><span class="s3">\n    </span><span class="s1">this.gullet.lexer.setCatcode(</span><span class="s3">\&quot;</span><span class="s1">%</span><span class="s3">\&quot;</span><span class="s1">, 13); // active character</span><span class="s3">\n\n    </span><span class="s1">this.gullet.lexer.setCatcode(</span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">, 12); // other character</span><span class="s3">\n\n    </span><span class="s1">var res = this.parseStringGroup(</span><span class="s3">\&quot;</span><span class="s1">url</span><span class="s3">\&quot;</span><span class="s1">, optional);</span><span class="s3">\n    </span><span class="s1">this.gullet.lexer.setCatcode(</span><span class="s3">\&quot;</span><span class="s1">%</span><span class="s3">\&quot;</span><span class="s1">, 14); // comment character</span><span class="s3">\n\n    </span><span class="s1">this.gullet.lexer.setCatcode(</span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">, 13); // active character</span><span class="s3">\n\n    </span><span class="s1">if (res == null) {</span><span class="s3">\n      </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">} // hyperref package allows backslashes alone in href, but doesn't</span><span class="s3">\n    </span><span class="s1">// generate valid links in such cases; we interpret this as</span><span class="s3">\n    </span><span class="s1">// </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot; </span><span class="s1">behaviour, and keep them as-is. Some browser will</span><span class="s3">\n    </span><span class="s1">// replace backslashes with forward slashes.</span><span class="s3">\n\n\n    </span><span class="s1">var url = res.text.replace(/</span><span class="s3">\\\\</span><span class="s1">([#$%&amp;~_^{}])/g, '$1');</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">url</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: this.mode,</span><span class="s3">\n      </span><span class="s1">url</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Parses an argument with the mode specified.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">parseArgumentGroup(optional, mode) {</span><span class="s3">\n    </span><span class="s1">var argToken = this.gullet.scanArgument(optional);</span><span class="s3">\n\n    </span><span class="s1">if (argToken == null) {</span><span class="s3">\n      </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">var outerMode = this.mode;</span><span class="s3">\n\n    </span><span class="s1">if (mode) {</span><span class="s3">\n      </span><span class="s1">// Switch to specified mode</span><span class="s3">\n      </span><span class="s1">this.switchMode(mode);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">this.gullet.beginGroup();</span><span class="s3">\n    </span><span class="s1">var expression = this.parseExpression(false, </span><span class="s3">\&quot;</span><span class="s1">EOF</span><span class="s3">\&quot;</span><span class="s1">); // TODO: find an alternative way to denote the end</span><span class="s3">\n\n    </span><span class="s1">this.expect(</span><span class="s3">\&quot;</span><span class="s1">EOF</span><span class="s3">\&quot;</span><span class="s1">); // expect the end of the argument</span><span class="s3">\n\n    </span><span class="s1">this.gullet.endGroup();</span><span class="s3">\n    </span><span class="s1">var result = {</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: this.mode,</span><span class="s3">\n      </span><span class="s1">loc: argToken.loc,</span><span class="s3">\n      </span><span class="s1">body: expression</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n\n    </span><span class="s1">if (mode) {</span><span class="s3">\n      </span><span class="s1">// Switch mode back</span><span class="s3">\n      </span><span class="s1">this.switchMode(outerMode);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return result;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Parses an ordinary group, which is either a single nucleus (like </span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n   </span><span class="s1">* or an expression in braces (like </span><span class="s3">\&quot;</span><span class="s1">{x+y}</span><span class="s3">\&quot;</span><span class="s1">) or an implicit group, a group</span><span class="s3">\n   </span><span class="s1">* that starts at the current position, and ends right before a higher explicit</span><span class="s3">\n   </span><span class="s1">* group ends, or at EOF.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">parseGroup(name, // For error reporting.</span><span class="s3">\n  </span><span class="s1">breakOnTokenText) {</span><span class="s3">\n    </span><span class="s1">var firstToken = this.fetch();</span><span class="s3">\n    </span><span class="s1">var text = firstToken.text;</span><span class="s3">\n    </span><span class="s1">var result; // Try to parse an open brace or </span><span class="s3">\\</span><span class="s1">begingroup</span><span class="s3">\n\n    </span><span class="s1">if (text === </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">|| text === </span><span class="s3">\&quot;\\\\</span><span class="s1">begingroup</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">this.consume();</span><span class="s3">\n      </span><span class="s1">var groupEnd = text === </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\\\\</span><span class="s1">endgroup</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">this.gullet.beginGroup(); // If we get a brace, parse an expression</span><span class="s3">\n\n      </span><span class="s1">var expression = this.parseExpression(false, groupEnd);</span><span class="s3">\n      </span><span class="s1">var lastToken = this.fetch();</span><span class="s3">\n      </span><span class="s1">this.expect(groupEnd); // Check that we got a matching closing brace</span><span class="s3">\n\n      </span><span class="s1">this.gullet.endGroup();</span><span class="s3">\n      </span><span class="s1">result = {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">ordgroup</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">mode: this.mode,</span><span class="s3">\n        </span><span class="s1">loc: SourceLocation.range(firstToken, lastToken),</span><span class="s3">\n        </span><span class="s1">body: expression,</span><span class="s3">\n        </span><span class="s1">// A group formed by </span><span class="s3">\\</span><span class="s1">begingroup...</span><span class="s3">\\</span><span class="s1">endgroup is a semi-simple group</span><span class="s3">\n        </span><span class="s1">// which doesn't affect spacing in math mode, i.e., is transparent.</span><span class="s3">\n        </span><span class="s1">// https://tex.stackexchange.com/questions/1930/when-should-one-</span><span class="s3">\n        </span><span class="s1">// use-begingroup-instead-of-bgroup</span><span class="s3">\n        </span><span class="s1">semisimple: text === </span><span class="s3">\&quot;\\\\</span><span class="s1">begingroup</span><span class="s3">\&quot; </span><span class="s1">|| undefined</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">// If there exists a function with this name, parse the function.</span><span class="s3">\n      </span><span class="s1">// Otherwise, just return a nucleus</span><span class="s3">\n      </span><span class="s1">result = this.parseFunction(breakOnTokenText, name) || this.parseSymbol();</span><span class="s3">\n\n      </span><span class="s1">if (result == null &amp;&amp; text[0] === </span><span class="s3">\&quot;\\\\\&quot; </span><span class="s1">&amp;&amp; !implicitCommands.hasOwnProperty(text)) {</span><span class="s3">\n        </span><span class="s1">if (this.settings.throwOnError) {</span><span class="s3">\n          </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Undefined control sequence: </span><span class="s3">\&quot; </span><span class="s1">+ text, firstToken);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">result = this.formatUnsupportedCmd(text);</span><span class="s3">\n        </span><span class="s1">this.consume();</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return result;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Form ligature-like combinations of characters for text mode.</span><span class="s3">\n   </span><span class="s1">* This includes inputs like </span><span class="s3">\&quot;</span><span class="s1">--</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">---</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">``</span><span class="s3">\&quot; </span><span class="s1">and </span><span class="s3">\&quot;</span><span class="s1">''</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\n   </span><span class="s1">* The result will simply replace multiple textord nodes with a single</span><span class="s3">\n   </span><span class="s1">* character in each value by a single textord node having multiple</span><span class="s3">\n   </span><span class="s1">* characters in its value.  The representation is still ASCII source.</span><span class="s3">\n   </span><span class="s1">* The group will be modified in place.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">formLigatures(group) {</span><span class="s3">\n    </span><span class="s1">var n = group.length - 1;</span><span class="s3">\n\n    </span><span class="s1">for (var i = 0; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">var a = group[i]; // $FlowFixMe: Not every node type has a `text` property.</span><span class="s3">\n\n      </span><span class="s1">var v = a.text;</span><span class="s3">\n\n      </span><span class="s1">if (v === </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; group[i + 1].text === </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">if (i + 1 &lt; n &amp;&amp; group[i + 2].text === </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">group.splice(i, 3, {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">loc: SourceLocation.range(a, group[i + 2]),</span><span class="s3">\n            </span><span class="s1">text: </span><span class="s3">\&quot;</span><span class="s1">---</span><span class="s3">\&quot;\n          </span><span class="s1">});</span><span class="s3">\n          </span><span class="s1">n -= 2;</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">group.splice(i, 2, {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">loc: SourceLocation.range(a, group[i + 1]),</span><span class="s3">\n            </span><span class="s1">text: </span><span class="s3">\&quot;</span><span class="s1">--</span><span class="s3">\&quot;\n          </span><span class="s1">});</span><span class="s3">\n          </span><span class="s1">n -= 1;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if ((v === </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot; </span><span class="s1">|| v === </span><span class="s3">\&quot;</span><span class="s1">`</span><span class="s3">\&quot;</span><span class="s1">) &amp;&amp; group[i + 1].text === v) {</span><span class="s3">\n        </span><span class="s1">group.splice(i, 2, {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">loc: SourceLocation.range(a, group[i + 1]),</span><span class="s3">\n          </span><span class="s1">text: v + v</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">n -= 1;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Parse a single symbol out of the string. Here, we handle single character</span><span class="s3">\n   </span><span class="s1">* symbols and special functions like </span><span class="s3">\\</span><span class="s1">verb.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n\n\n  </span><span class="s1">parseSymbol() {</span><span class="s3">\n    </span><span class="s1">var nucleus = this.fetch();</span><span class="s3">\n    </span><span class="s1">var text = nucleus.text;</span><span class="s3">\n\n    </span><span class="s1">if (/^</span><span class="s3">\\\\</span><span class="s1">verb[^a-zA-Z]/.test(text)) {</span><span class="s3">\n      </span><span class="s1">this.consume();</span><span class="s3">\n      </span><span class="s1">var arg = text.slice(5);</span><span class="s3">\n      </span><span class="s1">var star = arg.charAt(0) === </span><span class="s3">\&quot;</span><span class="s1">*</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n      </span><span class="s1">if (star) {</span><span class="s3">\n        </span><span class="s1">arg = arg.slice(1);</span><span class="s3">\n      </span><span class="s1">} // Lexer's tokenRegex is constructed to always have matching</span><span class="s3">\n      </span><span class="s1">// first/last characters.</span><span class="s3">\n\n\n      </span><span class="s1">if (arg.length &lt; 2 || arg.charAt(0) !== arg.slice(-1)) {</span><span class="s3">\n        </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;\\\\</span><span class="s1">verb assertion failed --</span><span class="s3">\\</span><span class="s1">n                    please report what input caused this bug</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">arg = arg.slice(1, -1); // remove first and last char</span><span class="s3">\n\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">verb</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">body: arg,</span><span class="s3">\n        </span><span class="s1">star</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">} // At this point, we should have a symbol, possibly with accents.</span><span class="s3">\n    </span><span class="s1">// First expand any accented base symbol according to unicodeSymbols.</span><span class="s3">\n\n\n    </span><span class="s1">if (unicodeSymbols.hasOwnProperty(text[0]) &amp;&amp; !symbols[this.mode][text[0]]) {</span><span class="s3">\n      </span><span class="s1">// This behavior is not strict (XeTeX-compatible) in math mode.</span><span class="s3">\n      </span><span class="s1">if (this.settings.strict &amp;&amp; this.mode === </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">this.settings.reportNonstrict(</span><span class="s3">\&quot;</span><span class="s1">unicodeTextInMathMode</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Accented Unicode text character </span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ text[0] + </span><span class="s3">\&quot;\\\&quot; </span><span class="s1">used in </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">math mode</span><span class="s3">\&quot;</span><span class="s1">, nucleus);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">text = unicodeSymbols[text[0]] + text.slice(1);</span><span class="s3">\n    </span><span class="s1">} // Strip off any combining characters</span><span class="s3">\n\n\n    </span><span class="s1">var match = combiningDiacriticalMarksEndRegex.exec(text);</span><span class="s3">\n\n    </span><span class="s1">if (match) {</span><span class="s3">\n      </span><span class="s1">text = text.substring(0, match.index);</span><span class="s3">\n\n      </span><span class="s1">if (text === 'i') {</span><span class="s3">\n        </span><span class="s1">text = '</span><span class="s3">\\</span><span class="s1">u0131'; // dotless i, in math and text mode</span><span class="s3">\n      </span><span class="s1">} else if (text === 'j') {</span><span class="s3">\n        </span><span class="s1">text = '</span><span class="s3">\\</span><span class="s1">u0237'; // dotless j, in math and text mode</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} // Recognize base symbol</span><span class="s3">\n\n\n    </span><span class="s1">var symbol;</span><span class="s3">\n\n    </span><span class="s1">if (symbols[this.mode][text]) {</span><span class="s3">\n      </span><span class="s1">if (this.settings.strict &amp;&amp; this.mode === 'math' &amp;&amp; extraLatin.indexOf(text) &gt;= 0) {</span><span class="s3">\n        </span><span class="s1">this.settings.reportNonstrict(</span><span class="s3">\&quot;</span><span class="s1">unicodeTextInMathMode</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Latin-1/Unicode text character </span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ text[0] + </span><span class="s3">\&quot;\\\&quot; </span><span class="s1">used in </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">math mode</span><span class="s3">\&quot;</span><span class="s1">, nucleus);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">var group = symbols[this.mode][text].group;</span><span class="s3">\n      </span><span class="s1">var loc = SourceLocation.range(nucleus);</span><span class="s3">\n      </span><span class="s1">var s;</span><span class="s3">\n\n      </span><span class="s1">if (ATOMS.hasOwnProperty(group)) {</span><span class="s3">\n        </span><span class="s1">// $FlowFixMe</span><span class="s3">\n        </span><span class="s1">var family = group;</span><span class="s3">\n        </span><span class="s1">s = {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">atom</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">mode: this.mode,</span><span class="s3">\n          </span><span class="s1">family,</span><span class="s3">\n          </span><span class="s1">loc,</span><span class="s3">\n          </span><span class="s1">text</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">// $FlowFixMe</span><span class="s3">\n        </span><span class="s1">s = {</span><span class="s3">\n          </span><span class="s1">type: group,</span><span class="s3">\n          </span><span class="s1">mode: this.mode,</span><span class="s3">\n          </span><span class="s1">loc,</span><span class="s3">\n          </span><span class="s1">text</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n      </span><span class="s1">} // $FlowFixMe</span><span class="s3">\n\n\n      </span><span class="s1">symbol = s;</span><span class="s3">\n    </span><span class="s1">} else if (text.charCodeAt(0) &gt;= 0x80) {</span><span class="s3">\n      </span><span class="s1">// no symbol for e.g. ^</span><span class="s3">\n      </span><span class="s1">if (this.settings.strict) {</span><span class="s3">\n        </span><span class="s1">if (!supportedCodepoint(text.charCodeAt(0))) {</span><span class="s3">\n          </span><span class="s1">this.settings.reportNonstrict(</span><span class="s3">\&quot;</span><span class="s1">unknownSymbol</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Unrecognized Unicode character </span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ text[0] + </span><span class="s3">\&quot;\\\&quot;\&quot; </span><span class="s1">+ (</span><span class="s3">\&quot; </span><span class="s1">(</span><span class="s3">\&quot; </span><span class="s1">+ text.charCodeAt(0) + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">), nucleus);</span><span class="s3">\n        </span><span class="s1">} else if (this.mode === </span><span class="s3">\&quot;</span><span class="s1">math</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">this.settings.reportNonstrict(</span><span class="s3">\&quot;</span><span class="s1">unicodeTextInMathMode</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Unicode text character </span><span class="s3">\\\&quot;\&quot; </span><span class="s1">+ text[0] + </span><span class="s3">\&quot;\\\&quot; </span><span class="s1">used in math mode</span><span class="s3">\&quot;</span><span class="s1">, nucleus);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} // All nonmathematical Unicode characters are rendered as if they</span><span class="s3">\n      </span><span class="s1">// are in text mode (wrapped in </span><span class="s3">\\</span><span class="s1">text) because that's what it</span><span class="s3">\n      </span><span class="s1">// takes to render them in LaTeX.  Setting `mode: this.mode` is</span><span class="s3">\n      </span><span class="s1">// another natural choice (the user requested math mode), but</span><span class="s3">\n      </span><span class="s1">// this makes it more difficult for getCharacterMetrics() to</span><span class="s3">\n      </span><span class="s1">// distinguish Unicode characters without metrics and those for</span><span class="s3">\n      </span><span class="s1">// which we want to simulate the letter M.</span><span class="s3">\n\n\n      </span><span class="s1">symbol = {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">textord</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">loc: SourceLocation.range(nucleus),</span><span class="s3">\n        </span><span class="s1">text</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return null; // EOF, ^, _, {, }, etc.</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">this.consume(); // Transform combining characters into accents</span><span class="s3">\n\n    </span><span class="s1">if (match) {</span><span class="s3">\n      </span><span class="s1">for (var i = 0; i &lt; match[0].length; i++) {</span><span class="s3">\n        </span><span class="s1">var accent = match[0][i];</span><span class="s3">\n\n        </span><span class="s1">if (!unicodeAccents[accent]) {</span><span class="s3">\n          </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Unknown accent ' </span><span class="s3">\&quot; </span><span class="s1">+ accent + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">, nucleus);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">var command = unicodeAccents[accent][this.mode] || unicodeAccents[accent].text;</span><span class="s3">\n\n        </span><span class="s1">if (!command) {</span><span class="s3">\n          </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">Accent </span><span class="s3">\&quot; </span><span class="s1">+ accent + </span><span class="s3">\&quot; </span><span class="s1">unsupported in </span><span class="s3">\&quot; </span><span class="s1">+ this.mode + </span><span class="s3">\&quot; </span><span class="s1">mode</span><span class="s3">\&quot;</span><span class="s1">, nucleus);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">symbol = {</span><span class="s3">\n          </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">accent</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">mode: this.mode,</span><span class="s3">\n          </span><span class="s1">loc: SourceLocation.range(nucleus),</span><span class="s3">\n          </span><span class="s1">label: command,</span><span class="s3">\n          </span><span class="s1">isStretchy: false,</span><span class="s3">\n          </span><span class="s1">isShifty: true,</span><span class="s3">\n          </span><span class="s1">// $FlowFixMe</span><span class="s3">\n          </span><span class="s1">base: symbol</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} // $FlowFixMe</span><span class="s3">\n\n\n    </span><span class="s1">return symbol;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">Parser.endOfExpression = [</span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">endgroup</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">right</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">&amp;</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Provides a single function for parsing an expression using a Parser</span><span class="s3">\n </span><span class="s1">* TODO(emily): Remove this</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Parses an expression using a Parser, then returns the parsed result.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var parseTree = function parseTree(toParse, settings) {</span><span class="s3">\n  </span><span class="s1">if (!(typeof toParse === 'string' || toParse instanceof String)) {</span><span class="s3">\n    </span><span class="s1">throw new TypeError('KaTeX can only parse string typed expression');</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var parser = new Parser(toParse, settings); // Blank out any </span><span class="s3">\\</span><span class="s1">df@tag to avoid spurious </span><span class="s3">\&quot;</span><span class="s1">Duplicate </span><span class="s3">\\</span><span class="s1">tag</span><span class="s3">\&quot; </span><span class="s1">errors</span><span class="s3">\n\n  </span><span class="s1">delete parser.gullet.macros.current[</span><span class="s3">\&quot;\\\\</span><span class="s1">df@tag</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">var tree = parser.parse(); // Prevent a color definition from persisting between calls to katex.render().</span><span class="s3">\n\n  </span><span class="s1">delete parser.gullet.macros.current[</span><span class="s3">\&quot;\\\\</span><span class="s1">current@color</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">delete parser.gullet.macros.current[</span><span class="s3">\&quot;\\\\</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">]; // If the input used </span><span class="s3">\\</span><span class="s1">tag, it will set the </span><span class="s3">\\</span><span class="s1">df@tag macro to the tag.</span><span class="s3">\n  </span><span class="s1">// In this case, we separately parse the tag and wrap the tree.</span><span class="s3">\n\n  </span><span class="s1">if (parser.gullet.macros.get(</span><span class="s3">\&quot;\\\\</span><span class="s1">df@tag</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n    </span><span class="s1">if (!settings.displayMode) {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;\\\\</span><span class="s1">tag works only in display equations</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">tree = [{</span><span class="s3">\n      </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">tag</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">body: tree,</span><span class="s3">\n      </span><span class="s1">tag: parser.subparse([new Token(</span><span class="s3">\&quot;\\\\</span><span class="s1">df@tag</span><span class="s3">\&quot;</span><span class="s1">)])</span><span class="s3">\n    </span><span class="s1">}];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return tree;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">/* eslint no-console:0 */</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Parse and build an expression, and place that expression in the DOM node</span><span class="s3">\n </span><span class="s1">* given.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var render = function render(expression, baseNode, options) {</span><span class="s3">\n  </span><span class="s1">baseNode.textContent = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">var node = renderToDomTree(expression, options).toNode();</span><span class="s3">\n  </span><span class="s1">baseNode.appendChild(node);</span><span class="s3">\n</span><span class="s1">}; // KaTeX's styles don't work properly in quirks mode. Print out an error, and</span><span class="s3">\n</span><span class="s1">// disable rendering.</span><span class="s3">\n\n\n</span><span class="s1">if (typeof document !== </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">if (document.compatMode !== </span><span class="s3">\&quot;</span><span class="s1">CSS1Compat</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">typeof console !== </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; console.warn(</span><span class="s3">\&quot;</span><span class="s1">Warning: KaTeX doesn't work in quirks mode. Make sure your </span><span class="s3">\&quot; </span><span class="s1">+ </span><span class="s3">\&quot;</span><span class="s1">website has a suitable doctype.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">render = function render() {</span><span class="s3">\n      </span><span class="s1">throw new ParseError(</span><span class="s3">\&quot;</span><span class="s1">KaTeX doesn't work in quirks mode.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Parse and build an expression, and return the markup for that.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var renderToString = function renderToString(expression, options) {</span><span class="s3">\n  </span><span class="s1">var markup = renderToDomTree(expression, options).toMarkup();</span><span class="s3">\n  </span><span class="s1">return markup;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Parse an expression and return the parse tree.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var generateParseTree = function generateParseTree(expression, options) {</span><span class="s3">\n  </span><span class="s1">var settings = new Settings(options);</span><span class="s3">\n  </span><span class="s1">return parseTree(expression, settings);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* If the given error is a KaTeX ParseError and options.throwOnError is false,</span><span class="s3">\n </span><span class="s1">* renders the invalid LaTeX as a span with hover title giving the KaTeX</span><span class="s3">\n </span><span class="s1">* error message.  Otherwise, simply throws the error.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var renderError = function renderError(error, expression, options) {</span><span class="s3">\n  </span><span class="s1">if (options.throwOnError || !(error instanceof ParseError)) {</span><span class="s3">\n    </span><span class="s1">throw error;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var node = buildCommon.makeSpan([</span><span class="s3">\&quot;</span><span class="s1">katex-error</span><span class="s3">\&quot;</span><span class="s1">], [new SymbolNode(expression)]);</span><span class="s3">\n  </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">title</span><span class="s3">\&quot;</span><span class="s1">, error.toString());</span><span class="s3">\n  </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">color:</span><span class="s3">\&quot; </span><span class="s1">+ options.errorColor);</span><span class="s3">\n  </span><span class="s1">return node;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Generates and returns the katex build tree. This is used for advanced</span><span class="s3">\n </span><span class="s1">* use cases (like rendering to custom output).</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var renderToDomTree = function renderToDomTree(expression, options) {</span><span class="s3">\n  </span><span class="s1">var settings = new Settings(options);</span><span class="s3">\n\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">var tree = parseTree(expression, settings);</span><span class="s3">\n    </span><span class="s1">return buildTree(tree, expression, settings);</span><span class="s3">\n  </span><span class="s1">} catch (error) {</span><span class="s3">\n    </span><span class="s1">return renderError(error, expression, settings);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Generates and returns the katex build tree, with just HTML (no MathML).</span><span class="s3">\n </span><span class="s1">* This is used for advanced use cases (like rendering to custom output).</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var renderToHTMLTree = function renderToHTMLTree(expression, options) {</span><span class="s3">\n  </span><span class="s1">var settings = new Settings(options);</span><span class="s3">\n\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">var tree = parseTree(expression, settings);</span><span class="s3">\n    </span><span class="s1">return buildHTMLTree(tree, expression, settings);</span><span class="s3">\n  </span><span class="s1">} catch (error) {</span><span class="s3">\n    </span><span class="s1">return renderError(error, expression, settings);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var version = </span><span class="s3">\&quot;</span><span class="s1">0.16.21</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __domTree = {</span><span class="s3">\n  </span><span class="s1">Span,</span><span class="s3">\n  </span><span class="s1">Anchor,</span><span class="s3">\n  </span><span class="s1">SymbolNode,</span><span class="s3">\n  </span><span class="s1">SvgNode,</span><span class="s3">\n  </span><span class="s1">PathNode,</span><span class="s3">\n  </span><span class="s1">LineNode</span><span class="s3">\n</span><span class="s1">}; // ESM exports</span><span class="s3">\n\n</span><span class="s1">var katex = {</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Current KaTeX version</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">version,</span><span class="s3">\n\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Renders the given LaTeX into an HTML+MathML combination, and adds</span><span class="s3">\n   </span><span class="s1">* it as a child to the specified DOM node.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">render,</span><span class="s3">\n\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Renders the given LaTeX into an HTML+MathML combination string,</span><span class="s3">\n   </span><span class="s1">* for sending to the client.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">renderToString,</span><span class="s3">\n\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* KaTeX error, usually during parsing.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">ParseError,</span><span class="s3">\n\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* The schema of Settings</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">SETTINGS_SCHEMA,</span><span class="s3">\n\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Parses the given LaTeX into KaTeX's internal parse tree structure,</span><span class="s3">\n   </span><span class="s1">* without rendering to HTML or MathML.</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* NOTE: This method is not currently recommended for public use.</span><span class="s3">\n   </span><span class="s1">* The internal tree representation is unstable and is very likely</span><span class="s3">\n   </span><span class="s1">* to change. Use at your own risk.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">__parse: generateParseTree,</span><span class="s3">\n\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Renders the given LaTeX into an HTML+MathML internal DOM tree</span><span class="s3">\n   </span><span class="s1">* representation, without flattening that representation to a string.</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* NOTE: This method is not currently recommended for public use.</span><span class="s3">\n   </span><span class="s1">* The internal tree representation is unstable and is very likely</span><span class="s3">\n   </span><span class="s1">* to change. Use at your own risk.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">__renderToDomTree: renderToDomTree,</span><span class="s3">\n\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Renders the given LaTeX into an HTML internal DOM tree representation,</span><span class="s3">\n   </span><span class="s1">* without MathML and without flattening that representation to a string.</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* NOTE: This method is not currently recommended for public use.</span><span class="s3">\n   </span><span class="s1">* The internal tree representation is unstable and is very likely</span><span class="s3">\n   </span><span class="s1">* to change. Use at your own risk.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">__renderToHTMLTree: renderToHTMLTree,</span><span class="s3">\n\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* extends internal font metrics object with a new object</span><span class="s3">\n   </span><span class="s1">* each key in the new object represents a font name</span><span class="s3">\n  </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">__setFontMetrics: setFontMetrics,</span><span class="s3">\n\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* adds a new symbol to builtin symbols table</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">__defineSymbol: defineSymbol,</span><span class="s3">\n\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* adds a new function to builtin function list,</span><span class="s3">\n   </span><span class="s1">* which directly produce parse tree elements</span><span class="s3">\n   </span><span class="s1">* and have their own html/mathml builders</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">__defineFunction: defineFunction,</span><span class="s3">\n\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* adds a new macro to builtin macro list</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">__defineMacro: defineMacro,</span><span class="s3">\n\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Expose the dom tree node types, which can be useful for type checking nodes.</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* NOTE: These methods are not currently recommended for public use.</span><span class="s3">\n   </span><span class="s1">* The internal tree representation is unstable and is very likely</span><span class="s3">\n   </span><span class="s1">* to change. Use at your own risk.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">__domTree</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { ParseError, SETTINGS_SCHEMA, defineFunction as __defineFunction, defineMacro as __defineMacro, defineSymbol as __defineSymbol, __domTree, generateParseTree as __parse, renderToDomTree as __renderToDomTree, renderToHTMLTree as __renderToHTMLTree, setFontMetrics as __setFontMetrics, katex as default, render, renderToString, version };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;sourceRoot&quot;</span><span class="s0">:</span><span class="s1">&quot;&quot;</span><span class="s0">}</span></pre>
</body>
</html>