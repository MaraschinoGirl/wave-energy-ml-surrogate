<html>
<head>
<title>4406.c435ee1d9e07c37b46e4.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
4406.c435ee1d9e07c37b46e4.js.map</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;4406.c435ee1d9e07c37b46e4.js?v=c435ee1d9e07c37b46e4&quot;</span><span class="s0">,</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AAAa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB,GAAG,+BAA+B,GAAG,kCAAkC,GAAG,sBAAsB,GAAG,2BAA2B,GAAG,2BAA2B,GAAG,yBAAyB,GAAG,4BAA4B;AACxO,4BAA4B;AAC5B,yBAAyB,iBAAiB;AAC1C,2BAA2B,mBAAmB;AAC9C,2BAA2B;AAC3B,sBAAsB,iBAAiB;AACvC,kCAAkC;AAClC,+BAA+B;AAC/B,iBAAiB;;;;;;;;;;ACVJ;AACb,6BAA6C,EAAE,aAAa,CAAC;AAC7D,SAAmB;AACnB,kBAAkB,mBAAO,CAAC,IAAa;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAmB;;;;;;;;AChFnB,eAAe,KAAoD,oBAAoB,CAA+G,CAAC,kBAAkB,aAAa,wJAAwJ,EAAE,UAAU,IAAI,WAAW,IAAI,YAAY,IAAI,QAAQ,IAAI,QAAQ,IAAI,iCAAiC,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,OAAO,IAAI,GAAG,IAAI,GAAG,IAAI,UAAU,uNAAuN,oCAAoC,4CAA4C,mBAAmB,gBAAgB,yDAAyD,IAAI,kBAAkB,6DAA6D,+CAA+C,mBAAmB,mCAAmC,8GAA8G,mCAAmC,eAAe,yCAAyC,eAAe,OAAO,yCAAyC,kDAAkD,eAAe,mBAAmB,aAAa,OAAO,qCAAqC,oCAAoC,qBAAqB,MAAM,eAAe,uBAAuB,sBAAsB,4BAA4B,mBAAmB,iCAAiC,KAAK,aAAa,WAAW,4BAA4B,iBAAiB,yBAAyB,8BAA8B,0CAA0C,KAAK,8BAA8B,YAAY,8CAA8C,GAAG,iBAAiB,cAAc,kEAAkE,YAAY,kBAAkB,2BAA2B,oBAAoB,qBAAqB,iCAAiC,0BAA0B,wCAAwC,uCAAuC,iBAAiB,MAAM,6CAA6C,0HAA0H,mBAAmB,gBAAgB,mBAAmB,cAAc,oLAAoL,qBAAqB,SAAS,sBAAsB,gCAAgC,wBAAwB,WAAW,4CAA4C,yBAAyB,4BAA4B,0BAA0B,0BAA0B,sBAAsB,oCAAoC,mBAAmB,sCAAsC,sBAAsB,yBAAyB,yBAAyB,kDAAkD,wDAAwD,sBAAsB,iBAAiB,uFAAuF,0DAA0D,UAAU,gCAAgC,gCAAgC,yDAAyD,0BAA0B,oCAAoC,+BAA+B,+BAA+B,oCAAoC,6BAA6B,qBAAqB,0BAA0B,sBAAsB,iDAAiD,yKAAyK,iBAAiB,4BAA4B,0EAA0E,sBAAsB,wBAAwB,qBAAqB,8BAA8B,mBAAmB,sBAAsB,qBAAqB,aAAa,YAAY,2BAA2B,WAAW,gDAAgD,sCAAsC,sCAAsC,qBAAqB,qBAAqB,WAAW,uDAAuD,mBAAmB,0BAA0B,wBAAwB,sBAAsB,4BAA4B,2CAA2C,mIAAmI,0CAA0C,eAAe,2BAA2B,sBAAsB,qBAAqB,4BAA4B,kCAAkC,sBAAsB,UAAU,uCAAuC,kCAAkC,mBAAmB,+BAA+B,wCAAwC,yBAAyB,oBAAoB,gCAAgC,4BAA4B,0CAA0C,6CAA6C,0BAA0B,yBAAyB,6BAA6B,oBAAoB,qBAAqB,yBAAyB,yBAAyB,yBAAyB,6BAA6B,4BAA4B,gCAAgC,kCAAkC,iBAAiB,YAAY,uBAAuB,GAAG,wBAAwB,sDAAsD,wBAAwB,wFAAwF,iBAAiB,UAAU,gBAAgB,MAAM,aAAa,MAAM,eAAe,MAAM,sBAAsB,MAAM,qBAAqB,MAAM,aAAa,MAAM,aAAa,MAAM,aAAa,MAAM,YAAY,kBAAkB,0BAA0B,wBAAwB,sBAAsB,kBAAkB,wBAAwB,qBAAqB,+BAA+B,qBAAqB,oBAAoB,yBAAyB,qBAAqB,gCAAgC,qBAAqB,8CAA8C,0BAA0B,6BAA6B,uBAAuB,6BAA6B,GAAG,iBAAiB,qHAAqH,oBAAoB,6BAA6B,0BAA0B,kCAAkC,2CAA2C,gBAAgB,wBAAwB,GAAG;;;;;;;;;;;ACAr/N;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE,UAAU;AACZ;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2FAA2F,aAAa;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E,eAAe;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,sBAAsB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,EAAE,iBAAiB,EAAE,MAAM;AACzD;AACA,8BAA8B,aAAa;AAC3C,wDAAwD;AACxD,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA,0CAA0C;AAC1C;AACA;AACA,gBAAgB,sBAAsB;AACtC,gBAAgB,sBAAsB;AACtC,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA,2CAA2C;AAC3C;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD,kDAAkD;AAClD,2CAA2C;AAC3C;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E;AAC1E,0EAA0E;AAC1E,sFAAsF;AACtF;AACA;AACA,gFAAgF;AAChF,wEAAwE;AACxE,wEAAwE;AACxE;AACA,qDAAqD;AACrD,qDAAqD;AACrD,oEAAoE;AACpE,uEAAuE;AACvE,0DAA0D;AAC1D,+CAA+C;AAC/C,kDAAkD;AAClD,0CAA0C;AAC1C,4DAA4D;AAC5D,4DAA4D;AAC5D,0CAA0C;AAC1C,+CAA+C;AAC/C,8DAA8D;AAC9D,+CAA+C;AAC/C,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,QAAQ;AACR;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,QAAQ;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,oFAAoF,6DAA6D;AACjJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qTAAqT;AACrT;AACA;AACA;AACA,MAAM,wCAAwC,oFAAoF,oKAAoK,iHAAiH;AACvZ;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAE6B;AAC7B;;;;;;;;;;;;;;;;;;;;ACzzCA;AACuC;AACvC;AACA;AACA;AACA;AACA,oBAAoB,qBAAI;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,qBAAI;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,2CAAe,IAAI,EAAC;;;ACzBpB;AACkC;AACL;AACU;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,wBAAwB,IAAI;AAC5B;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,yBAAyB,qBAAI;AAC7B;AACA;AACA;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA,qBAAqB,oBAAC;AACtB;AACA,qBAAqB,oBAAC;AACtB;AACA,qBAAqB,oBAAC;AACtB;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA,qBAAqB,oBAAC;AACtB;AACA,qBAAqB,oBAAC;AACtB;AACA,qBAAqB,oBAAC;AACtB;AACA;AACA;AACA;AACA;AACA,0BAA0B,qBAAI;AAC9B;AACA;AACA,eAAe,oBAAC;AAChB;AACA;AACA;AACA;AACA,0BAA0B,qBAAI;AAC9B;AACA;AACA,eAAe,oBAAC;AAChB;AACA;AACA;AACA;AACA,0BAA0B,qBAAI;AAC9B;AACA;AACA,eAAe,oBAAC;AAChB;AACA;AACA;AACA;AACA,0BAA0B,qBAAI;AAC9B;AACA;AACA,eAAe,oBAAC;AAChB;AACA;AACA;AACA;AACA,0BAA0B,qBAAI;AAC9B;AACA;AACA,eAAe,oBAAC;AAChB;AACA;AACA;AACA;AACA,0BAA0B,qBAAI;AAC9B;AACA;AACA,eAAe,oBAAC;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,qBAAI;AAC1B;AACA;AACA;AACA;AACA,sBAAsB,qBAAI;AAC1B;AACA;AACA;AACA;AACA,sBAAsB,qBAAI;AAC1B;AACA;AACA;AACA;AACA,sBAAsB,qBAAI;AAC1B;AACA;AACA;AACA;AACA,sBAAsB,qBAAI;AAC1B;AACA;AACA;AACA;AACA,sBAAsB,qBAAI;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAAe,QAAQ,EAAC;;;ACnIxB;AACmC;AACnC;AACA,MAAM,iBAAQ,OAAO,QAAQ,GAAG,wBAAwB;AACxD;AACA,+CAAe,iBAAQ,EAAC;;;;;;;;;;;;;;;;;;;;ACLxB;AACkC;AACqB;AACb;AAC1C;AACA;AACA;AACA,wBAAwB,EAAE,EAAE,IAAI,UAAU,EAAE;AAC5C;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,uBAAgB;AAC/B;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA,gBAAgB,aAAa;AAC7B,qBAAqB;AACrB,uBAAuB,wBAAO,gBAAgB,EAAE,wBAAO,gBAAgB,EAAE,wBAAO,gBAAgB,EAAE,wBAAO,sBAAsB;AAC/H;AACA,eAAe;AACf,uBAAuB,wBAAO,gBAAgB,EAAE,wBAAO,gBAAgB,EAAE,wBAAO,gBAAgB;AAChG;AACA;AACA;AACA;AACA,gDAAe,GAAG,EAAC;;;;;AC1CnB;AACkC;AACqB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,oBAAC;AACrC,mCAAmC,oBAAC;AACpC,oCAAoC,oBAAC;AACrC;AACA;AACA,eAAe,oBAAC;AAChB,KAAK;AACL;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,eAAe,uBAAgB;AAC/B;AACA,eAAe,oBAAC;AAChB,eAAe,oBAAC;AAChB,mBAAmB,oBAAC;AACpB,SAAS;AACT,KAAK;AACL;AACA,gBAAgB,aAAa;AAC7B,qBAAqB;AACrB,2BAA2B,oBAAC,eAAe,IAAI,oBAAC,eAAe,KAAK,oBAAC,eAAe,KAAK,EAAE;AAC3F;AACA,eAAe;AACf,0BAA0B,oBAAC,eAAe,IAAI,oBAAC,eAAe,KAAK,oBAAC,eAAe;AACnF;AACA;AACA;AACA;AACA,0CAAe,GAAG,EAAC;;;AChDnB;AAC2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAG;AAClB,KAAK;AACL;AACA,oBAAoB,SAAG;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAAe,OAAO,EAAC;;;AC5KvB;AACkC;AACqB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,eAAe,uBAAgB;AAC/B,eAAe,oBAAC;AAChB,eAAe,oBAAC;AAChB,eAAe,oBAAC;AAChB,mBAAmB,oBAAC;AACpB,SAAS;AACT,KAAK;AACL;AACA,gBAAgB,aAAa;AAC7B,qBAAqB;AACrB,2BAA2B,oBAAC,eAAe,IAAI,oBAAC,eAAe,IAAI,oBAAC,eAAe,IAAI,oBAAC,eAAe;AACvG;AACA,eAAe;AACf,0BAA0B,oBAAC,eAAe,IAAI,oBAAC,eAAe,IAAI,oBAAC,eAAe;AAClF;AACA;AACA;AACA;AACA,0CAAe,GAAG,EAAC;;;AClCnB;AACkC;AACP;AACA;AACQ;AACR;AACY;AACvC;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB,aAAa,SAAG;AAChB,aAAa,GAAG;AAChB,cAAc,GAAG;AACjB,aAAa,GAAG;AAChB,cAAc,GAAG;AACjB,KAAK;AACL;AACA;AACA;AACA;AACA,yBAAyB,SAAG,iBAAiB,GAAG,iBAAiB,GAAG,iBAAiB,OAAO,eAAe;AAC3G;AACA;AACA,sDAAsD,MAAM;AAC5D,KAAK;AACL;AACA;AACA;AACA;AACA,6BAA6B,qBAAI;AACjC,mBAAmB,GAAG;AACtB;AACA;AACA,mBAAmB,GAAG;AACtB;AACA;AACA,mBAAmB,SAAG;AACtB;AACA;AACA;AACA;AACA,4CAAe,KAAK,EAAC;;;;;;;;;;;;;;AC3CrB;AACiC;AACjC;AACA;AACA,gBAAgB,UAAU;AAC1B,iBAAiB,gEAAC,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACyB;;;;;;;;;;;;;;ACZzB;AACkC;AACI;AACtC;AACA;AACA,qBAAqB,gEAAK;AAC1B;AACA,uBAAuB,gEAAC;AACxB;AACA;AACA,WAAW,gEAAK;AAChB;AACA;AACA,iEAAe,aAAa,EAAC;;;;;;;;;;;;;;ACb7B;AACkC;AACI;AACtC;AACA;AACA,eAAe,gEAAK;AACpB;AACA,gBAAgB,gEAAC;AACjB;AACA,WAAW,gEAAK;AAChB;AACA;AACA,iEAAe,MAAM,EAAC;;;;;;;;;;;;;ACZtB;AACgD;AAChD;AACA;AACA,WAAW,uEAAa;AACxB;AACA;AACA,iEAAe,MAAM,EAAC;;;;;;;;;;;;;;;;;;;;ACPtB;AACkC;AACI;AACtC;AACA;AACA;AACA,YAAY,UAAU,EAAE,yBAAK;AAC7B,8BAA8B,oBAAC,+BAA+B,oBAAC,+BAA+B,oBAAC;AAC/F,WAAW,oBAAC;AACZ;AACA;AACA,wDAAe,SAAS,EAAC;;;ACXzB;AACuC;AACvC;AACA;AACA,WAAW,iBAAS;AACpB;AACA;AACA,+CAAe,OAAO,EAAC;;;ACPvB;AACoC;AACpC;AACA;AACA,YAAY,QAAO;AACnB;AACA;AACA,8CAAe,MAAM,EAAC;;;;;;;;;;;;;ACPtB;AACgD;AAChD;AACA;AACA,WAAW,uEAAa;AACxB;AACA;AACA,iEAAe,OAAO,EAAC;;;;;;;;;;;;;;;;ACPvB;AACkC;AACqB;AACjB;AACL;AACjC;AACA;AACA;AACA,eAAe,+DAAM,MAAM,MAAM;AACjC,qBAAqB,sEAAgB;AACrC,WAAW,gEAAC;AACZ,WAAW,gEAAC;AACZ,WAAW,gEAAC;AACZ,WAAW,gEAAC;AACZ,KAAK;AACL,WAAW,gEAAK;AAChB;AACA;AACA,iEAAe,IAAI,EAAC;;;;;;;;;;;;;;;;AClBpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,gBAAgB,SAAS;AACzB;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA,8CAAe,OAAO,EAAC;;;ACxFvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,2CAAe,IAAI,EAAC;;;ACbpB;AACA;AACA;AACA;AACA;AACA,0CAA0C,IAAI;AAC9C;AACA;AACA;AACA,2CAAe,IAAI,EAAC;;;ACTpB;AACmC;AACN;AACA;AAC7B;AACA;AACA,WAAW;AACX,QAAQ;AACR,QAAQ;AACR;AACA;AACA,4CAAe,KAAK,EAAC;;;;;;;;;;;;;;;;ACXrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sDAAe,cAAc,EAAC;;;;;ACZL;;AAEzB;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,QAAQ,qBAAE;AACV;AACA;AACA;AACA;AACA;;AAEA,oDAAe,YAAY,EAAC;;;ACpBkB;;AAE9C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA,cAAc,aAAY;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA,uDAAe,eAAe,EAAC;;;AClCe;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA,cAAc,aAAY;;AAE1B;AACA;;AAEA,oDAAe,YAAY,EAAC;;;AClBkB;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA,SAAS,aAAY;AACrB;;AAEA,oDAAe,YAAY,EAAC;;;ACfkB;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA,cAAc,aAAY;;AAE1B;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA,oDAAe,YAAY,EAAC;;;ACzBsB;AACE;AACN;AACA;AACA;;AAE9C;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B,eAAc;AAC1C,gCAAgC,gBAAe;AAC/C,0BAA0B,aAAY;AACtC,0BAA0B,aAAY;AACtC,0BAA0B,aAAY;;AAEtC,iDAAe,SAAS,EAAC;;;;;;;;;;;;;;AC/Be;AACV;;AAE9B;AACA,UAAU,kEAAS,CAAC,yDAAI;;AAExB,iEAAe,GAAG,EAAC;;;;;;;;;;;;;;;;;;ACNqB;;AAExC;AACA,mBAAmB,6BAAS;;AAE5B,oDAAe,YAAY,EAAC;;;ACLkB;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,aAAY,GAAG,aAAY;AAC7C;AACA;;AAEA,iDAAe,SAAS,EAAC;;;ACdzB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA,kDAAe,UAAU,EAAC;;;AChBoB;;AAE9C;AACA;;AAEA;AACA;;AAEA;AACA,IAAI,uBAAc;;AAElB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA,MAAM,aAAY;AAClB;AACA;AACA;AACA,SAAS,uBAAc;AACvB;;AAEA,+CAAe,OAAO,EAAC;;;AC7BuB;;AAE9C;AACA,IAAI,oBAAW;;AAEf;AACA,IAAI,uBAAc,GAAG,oBAAW;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA,SAAS,aAAY,+BAA+B,uBAAc;AAClE;;AAEA,+CAAe,OAAO,EAAC;;;ACtBuB;;AAE9C;AACA,IAAI,uBAAc;;AAElB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,eAAe,aAAY,2BAA2B,uBAAc;AACpE;AACA;;AAEA,+CAAe,OAAO,EAAC;;;ACtBiB;AACE;AACN;AACA;AACA;;AAEpC;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,UAAS;AAChC,2BAA2B,WAAU;AACrC,qBAAqB,QAAO;AAC5B,qBAAqB,QAAO;AAC5B,qBAAqB,QAAO;;AAE5B,4CAAe,IAAI,EAAC;;;;;;;AC/BU;AACU;AACZ;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,KAAI;AACpB,gBAAgB,mBAAG,IAAI,yBAAS;AAChC,kBAAkB,KAAI;AACtB;AACA;;AAEA,qDAAe,aAAa,EAAC;;;ACpB7B;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iDAAe,SAAS,EAAC;;;ACde;;AAExC;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA,SAAS,UAAS;AAClB;AACA;AACA;;AAEA,kDAAe,UAAU,EAAC;;;ACjBgB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA,eAAe,WAAU;AACzB;AACA;AACA;;AAEA,sDAAe,cAAc,EAAC;;;ACjBY;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA,SAAS,WAAU;AACnB;;AAEA,mDAAe,WAAW,EAAC;;;ACfe;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA,SAAS,WAAU;AACnB;;AAEA,mDAAe,WAAW,EAAC;;;ACfe;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA,aAAa,WAAU;AACvB;;AAEA;AACA;AACA;AACA;;AAEA,mDAAe,WAAW,EAAC;;;ACrBqB;AACE;AACN;AACA;AACA;;AAE5C;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,cAAa;AACxC,+BAA+B,eAAc;AAC7C,yBAAyB,YAAW;AACpC,yBAAyB,YAAW;AACpC,yBAAyB,YAAW;;AAEpC,gDAAe,QAAQ,EAAC;;;;;;;;;;;;;;AC/BgB;AACV;;AAE9B;AACA,UAAU,kEAAS,CAAC,yDAAI;;AAExB,iEAAe,GAAG,EAAC;;;;;;;;;;;;;;;;;;ACNqB;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,yBAAS;AAC/B;AACA;;AAEA,kDAAe,UAAU,EAAC;;;ACd1B;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mDAAe,WAAW,EAAC;;;ACjB3B;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA,gDAAe,QAAQ,EAAC;;;ACbxB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA,gDAAe,QAAQ,EAAC;;;;;;;ACbgB;AACZ;AACU;;AAEtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA,sBAAsB,yBAAS;AAC/B;AACA,SAAS,mBAAG;AACZ;AACA;AACA;AACA;AACA,+BAA+B,wBAAQ;AACvC;AACA;AACA;AACA;AACA;;AAEA,gDAAe,QAAQ,EAAC;;;ACjCgB;AACE;AACE;AACN;AACA;AACA;;AAEtC;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA,iCAAiC,yBAAS;AAC1C;AACA;;AAEA;AACA,wBAAwB,WAAU;AAClC,4BAA4B,YAAW;AACvC,sBAAsB,SAAQ;AAC9B,sBAAsB,SAAQ;AAC9B,sBAAsB,SAAQ;;AAE9B,6CAAe,KAAK,EAAC;;;;;;;;;;;;;AC1BS;;AAE9B;AACA,aAAa,yDAAI;;AAEjB,iEAAe,MAAM,EAAC;;;;;;;;;;;;;ACLQ;;AAE9B;AACA,iBAAiB,yDAAI;;AAErB,iEAAe,UAAU,EAAC;;;;;;;;;;;;;;;;ACL1B;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iDAAe,SAAS,EAAC;;;;;;;;;;;;;ACnBe;AACG;AACR;AACE;AACD;AACS;;AAE7C;AACA;;AAEA;AACA,IAAI,6BAAc;;AAElB;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA,cAAc,0BAAO;AACrB,wBAAwB,8BAAW;AACnC,mCAAmC,2BAAQ;AAC3C,8CAA8C,+BAAY;AAC1D;AACA,6BAA6B,UAAS;AACtC;;AAEA;AACA,sBAAsB,6BAAc;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,2BAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA,qDAAe,aAAa,EAAC;;;;;;;;;;;;;;AChDuB;AAC3B;;AAEzB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd;AACA;AACA;AACA,4CAA4C,2DAAE;AAC9C;AACA,IAAI,wEAAe;AACnB;AACA;;AAEA,iEAAe,WAAW,EAAC;;;;;;;;;;;;;AC3BuB;;AAElD;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd;AACA;AACA,4BAA4B,mEAAc;AAC1C,IAAI,uEAAc;AAClB;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;;AAEA,iEAAe,eAAe,EAAC;;;;;;;;;;;;;;;;ACxB/B;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qDAAe,aAAa,EAAC;;;ACxBmB;;AAEhD;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA,cAAc,cAAa;;AAE3B,+CAAe,OAAO,EAAC;;;;;;;;;;;;;;;;;;ACfW;;AAElC;AACA;;AAEA;AACA,IAAI,yBAAc;;AAElB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,sBAAM,GAAG,sBAAM;;AAEpC;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA,cAAc,yBAAc;AAC5B;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA,iDAAe,SAAS,EAAC;;;AC7CzB;AACA,IAAI,2BAAW;;AAEf;AACA;AACA;AACA;AACA;AACA,IAAI,oCAAoB,GAAG,2BAAW;;AAEtC;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA,SAAS,oCAAoB;AAC7B;;AAEA,sDAAe,cAAc,EAAC;;;ACrBI;AACM;AACU;;AAElD;AACA;AACA;;AAEA;AACA,IAAI,0BAAc,GAAG,sBAAM,GAAG,sBAAM;;AAEpC;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,UAAU,0BAAc,IAAI,0BAAc;AAC1C,MAAM,UAAS;AACf,MAAM,eAAc;AACpB;;AAEA,kDAAe,UAAU,EAAC;;;;;;;;;;;;;;;;;;;;AC3BU;;AAEpC;AACA,iBAAiB,2BAAO;;AAExB,kDAAe,UAAU,EAAC;;;ACLkB;AACF;;AAE1C;AACA;;AAEA;AACA,IAAI,wBAAc;;AAElB;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA,OAAO,+BAAW;AAClB,WAAW,WAAU;AACrB;AACA;AACA;AACA,QAAQ,wBAAc;AACtB;AACA;AACA;AACA;AACA;;AAEA,gDAAe,QAAQ,EAAC;;;;;;;;;;;;;;;AC7Ba;AACC;AACM;;AAE5C;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,aAAa,UAAU;AACvB;AACA;AACA,SAAS,oEAAW,CAAC,iEAAQ,cAAc,6DAAQ;AACnD;;AAEA,iEAAe,QAAQ,EAAC;;;;;;;;;;;;AChBxB;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,SAAS,EAAC;;;;;;;;;;;;;ACbiB;;AAE1C;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,aAAa,aAAa;AAC1B;AACA;AACA;AACA,MAAM,+DAAU,iBAAiB,+DAAU;AAC3C;AACA;;AAEA,iEAAe,gBAAgB,EAAC;;;;;;;;;;;;;;ACfF;;AAE9B;AACA;;AAEA;AACA,gCAAgC,QAAa;;AAE7C;AACA;;AAEA;AACA,6BAA6B,yDAAI;AACjC;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iEAAe,WAAW,EAAC;;;;;;;;;;;;;AClC2B;;AAEtD;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA,wBAAwB,yEAAgB;AACxC;AACA;;AAEA,iEAAe,eAAe,EAAC;;;;;;;;;;;;ACf/B;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,SAAS,EAAC;;;;;;;;;;;;;;ACnBmB;AACQ;;AAEpD;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,QAAQ,UAAU;AAC7B,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA,wBAAwB;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM,wEAAe;AACrB,MAAM;AACN,MAAM,oEAAW;AACjB;AACA;AACA;AACA;;AAEA,iEAAe,UAAU,EAAC;;;;;;;;;;;;;;ACvCY;AACY;;AAElD;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA,SAAS,iEAAQ;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,uEAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA,iEAAe,cAAc,EAAC;;;;;;;;;;;;;ACpCU;;AAExC;AACA;AACA,eAAe,kEAAS;AACxB,WAAW,QAAQ;AACnB;AACA,IAAI;AACJ,CAAC;;AAED,iEAAe,cAAc,EAAC;;;;;;;;;;;;ACV9B;AACA,wBAAwB,qBAAM,gBAAgB,qBAAM,IAAI,qBAAM,sBAAsB,qBAAM;;AAE1F,iEAAe,UAAU,EAAC;;;;;;;;;;;;;;;;;;;;ACHI;;AAE9B;AACA,iBAAiB,oBAAI;;AAErB,kDAAe,UAAU,EAAC;;;ACLgB;;AAE1C;AACA;AACA,0BAA0B,WAAU,IAAI,WAAU,SAAS,WAAU;AACrE;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA,gDAAe,QAAQ,EAAC;;;;;;;ACnBiB;AACH;AACD;AACC;;AAEtC;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,IAAI,4BAAc;;AAElB;AACA;AACA,oBAAoB,4BAAc;AAClC;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA,OAAO,2BAAQ,WAAW,SAAQ;AAClC;AACA;AACA,gBAAgB,6BAAU;AAC1B,sBAAsB,4BAAQ;AAC9B;;AAEA,oDAAe,YAAY,EAAC;;;AC9C5B;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA,gDAAe,QAAQ,EAAC;;;ACZsB;AACR;;AAEtC;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA,cAAc,SAAQ;AACtB,SAAS,aAAY;AACrB;;AAEA,iDAAe,SAAS,EAAC;;;;;;;;;;;;;AChBW;;AAEpC;AACA,mBAAmB,gEAAO;;AAE1B,iEAAe,YAAY,EAAC;;;;;;;;;;;;;;;;;;;;ACLY;AACV;;AAE9B;AACA,eAAe,6BAAS,CAAC,oBAAI;;AAE7B,gDAAe,QAAQ,EAAC;;;;;ACNgB;AACV;;AAE9B;AACA,cAAc,6BAAS,CAAC,oBAAI;;AAE5B,+CAAe,OAAO,EAAC;;;;;ACNiB;AACV;;AAE9B;AACA,cAAc,6BAAS,CAAC,oBAAI;;AAE5B,+CAAe,OAAO,EAAC;;;;;;;ACNe;AACV;AACQ;AACR;AACQ;AACM;AACJ;;AAEtC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,yBAAyB,4BAAQ,CAAC,SAAQ;AAC1C,oBAAoB,4BAAQ,CAAC,mBAAG;AAChC,wBAAwB,4BAAQ,CAAC,QAAO;AACxC,oBAAoB,4BAAQ,CAAC,mBAAG;AAChC,wBAAwB,4BAAQ,CAAC,QAAO;;AAExC;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA,aAAa,0BAAU;;AAEvB;AACA,KAAK,SAAQ,eAAe,SAAQ;AACpC,KAAK,mBAAG,eAAe,mBAAG;AAC1B,KAAK,QAAO,WAAW,QAAO;AAC9B,KAAK,mBAAG,eAAe,mBAAG;AAC1B,KAAK,QAAO,eAAe,QAAO;AAClC;AACA,iBAAiB,8BAAU;AAC3B;AACA,4BAA4B,4BAAQ;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8CAAe,MAAM,EAAC;;;;;;;;;;;;;;;;;;ACzDe;;AAErC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,SAAS,2BAAQ;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,kDAAe,UAAU,EAAC;;;;;;;AC7BgB;AACI;AACF;;AAE5C;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA,sDAAsD,+BAAW;AACjE,MAAM,WAAU,CAAC,gCAAY;AAC7B;AACA;;AAEA,uDAAe,eAAe,EAAC;;;;;;;;;;;;ACjB/B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,OAAO,EAAC;;;;;;;;;;;;;;;;ACxBE;AACkB;AACP;AACC;;AAErC;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA,OAAO,iEAAQ;AACf;AACA;AACA;AACA;AACA,WAAW,oEAAW,YAAY,gEAAO;AACzC;AACA;AACA,WAAW,2DAAE;AACb;AACA;AACA;;AAEA,iEAAe,cAAc,EAAC;;;;;;;;;;;;AC7B9B;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iEAAe,WAAW,EAAC;;;;;;;;;;;;;;ACjBe;;AAE1C;AACA;;AAEA;AACA,gCAAgC,QAAa;;AAE7C;AACA;;AAEA;AACA,mCAAmC,+DAAU;;AAE7C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ,CAAC;;AAED,iEAAe,QAAQ,EAAC;;;;;;;;;;;;AC7BxB;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,OAAO,EAAC;;;;;;;;;;;;;;;;ACdvB;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,WAAW,OAAO;AAClB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6CAAe,KAAK,EAAC;;;ACpBW;;AAEhC;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAK;AAChB;AACA;;AAEA,gDAAe,QAAQ,EAAC;;;;;;;;;;;;;ACnCkB;;AAE1C;AACA;;AAEA;AACA,WAAW,+DAAU;;AAErB,iEAAe,IAAI,EAAC;;;;;;;;;;;;;;;;;;;;;;ACRiB;AACa;AACb;;AAErC;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA,uBAAuB,8BAAc,GAAG,uBAAQ;AAChD,SAAS,kCAAc;AACvB;AACA;AACA,aAAa,2BAAQ;AACrB;AACA,GAAG;AACH;;AAEA,uDAAe,eAAe,EAAC;;;ACrB/B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA,gDAAe,QAAQ,EAAC;;;ACpC4B;AACd;;AAEtC;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA,kBAAkB,SAAQ,CAAC,gBAAe;;AAE1C,mDAAe,WAAW,EAAC;;;;;;;;;;;;ACb3B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA,iEAAe,QAAQ,EAAC;;;;;;;;;;;;ACzBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,UAAU;AACvB;AACA;AACA,yCAAyC,QAAQ;AACjD;AACA;AACA,YAAY,QAAQ,IAAI,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,QAAQ,EAAC;;;;;;;;;;;;ACzBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,kBAAkB;AAClB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,EAAE,EAAC;;;;;;;;;;;;ACpClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,GAAG;AAChB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,QAAQ,EAAC;;;;;;;;;;;;;;;;;;;;ACpBkB;AACG;;AAE7C;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,SAAS,+BAAY,WAAW,8BAAU;AAC1C;;AAEA,uDAAe,eAAe,EAAC;;;ACjBqB;AACP;;AAE7C;AACA;;AAEA;AACA,IAAI,0BAAc;;AAElB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA;AACA,kBAAkB,gBAAe,cAAc,mBAAmB,MAAM,gBAAe;AACvF,SAAS,+BAAY,WAAW,0BAAc;AAC9C;AACA;;AAEA,4DAAe,WAAW,EAAC;;;;;;;;;;;;ACnC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,OAAO,EAAC;;;;;;;;;;;;;;ACzBkB;AACJ;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,iEAAQ,mBAAmB,mEAAU;AAC/D;;AAEA,iEAAe,WAAW,EAAC;;;;;;;;;;;;;;AChCgB;AACE;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,qEAAY,WAAW,oEAAW;AAC3C;;AAEA,iEAAe,iBAAiB,EAAC;;;;;;;;;;;;;;;;;;AChCjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAAe,SAAS,EAAC;;;;ACjBK;AACS;;AAEvC;AACA;;AAEA;AACA,gCAAgC,QAAa;;AAE7C;AACA;;AAEA;AACA,6BAA6B,oBAAI;;AAEjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,mBAAS;;AAE1C,yDAAe,QAAQ,EAAC;;;;;;;;;;;;;;;;;;;;ACrCc;AACJ;AACS;AACR;AACQ;AACN;AACO;AACC;;AAE7C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,oEAAW;AACjB,OAAO,gEAAO;AACd,QAAQ,iEAAQ,WAAW,qEAAY,WAAW,oEAAW;AAC7D;AACA;AACA,YAAY,+DAAM;AAClB;AACA;AACA;AACA,MAAM,oEAAW;AACjB,YAAY,iEAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,OAAO,EAAC;;;;;;;;;;;;;;AC5EmB;AACL;;AAErC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,iEAAQ;AACf;AACA;AACA;AACA;AACA,YAAY,mEAAU;AACtB;AACA;;AAEA,iEAAe,UAAU,EAAC;;;;;;;;;;;;ACpC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,QAAQ,EAAC;;;;;;;;;;;;AClCxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,QAAQ,EAAC;;;;;;;;;;;;AC9BxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,YAAY,EAAC;;;;;;;;;;;;;;;;;;;;;;AC5Bc;AACL;AACQ;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,SAAS,+BAAY;AACrB,IAAI,2BAAQ,mCAAmC,8BAAU;AACzD;;AAEA,wDAAe,gBAAgB,EAAC;;;;;;;AC3DsB;AACd;AACF;;AAEtC;AACA,uBAAuB,wBAAQ,IAAI,wBAAQ;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,6BAAS,qBAAqB,iBAAgB;;AAEpF,6DAAe,YAAY,EAAC;;;;;;;;;;;;;;;;;;;;;;AC1B5B;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oDAAe,YAAY,EAAC;;;ACnBS;AACO;AACE;;AAE9C;AACA;;AAEA;AACA,IAAI,0BAAc;;AAElB;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA,OAAO,2BAAQ;AACf,WAAW,aAAY;AACvB;AACA,gBAAgB,+BAAW;AAC3B;;AAEA;AACA,+CAA+C,0BAAc;AAC7D;AACA;AACA;AACA;AACA;;AAEA,kDAAe,UAAU,EAAC;;;;;AChCsB;AACN;AACC;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,8BAAW,WAAW,iCAAa,iBAAiB,WAAU;AACvE;;AAEA,uDAAe,MAAM,EAAC;;;;;;;;;;;;;AC/BgB;;AAEtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA,kBAAkB;AAClB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,6DAAQ;AACjD;AACA;;AAEA;AACA,gBAAgB,6DAAQ;;AAExB,iEAAe,OAAO,EAAC;;;;;;;;;;;;;;;;;;;;;;ACxE6B;AAC3B;;AAEzB;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd;AACA;AACA,+BAA+B,qBAAE;AACjC;AACA,IAAI,mCAAe;AACnB;AACA;;AAEA,wDAAe,gBAAgB,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBU;AACI;AACD;;AAE7C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,IAAI,4BAAc;;AAElB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,gBAAgB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,+BAAY,WAAW,8BAAU;AACxC;AACA;AACA,cAAc,gCAAY;AAC1B;AACA;AACA;AACA,aAAa,4BAAc;AAC3B;AACA;AACA;;AAEA,8DAAe,aAAa,EAAC;;;;;AC7D7B;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,+CAAe,OAAO,EAAC;;;;;;;ACpBmB;AACT;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB,WAAW;AACX;AACA,cAAc,QAAQ;AACtB,WAAW;AACX;AACA;AACA,SAAS,8BAAU,QAAQ,yBAAM;AACjC;;AAEA,8DAAe,aAAa,EAAC;;;AC/ByB;AACV;AACQ;AACZ;AACY;AACT;AACR;AACoB;AAClB;AACI;AACJ;AACU;AACF;AACT;AACW;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB;AACA;AACA;AACA,iBAAiB,QAAO;AACxB,iBAAiB,QAAO;AACxB;;AAEA;AACA,IAAI,iBAAgB;AACpB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gBAAgB,0BAAO;AACvB,2BAA2B,2BAAQ;AACnC,uCAAuC,+BAAY;;AAEnD;AACA;AACA,UAAU,0BAAO;AACjB;AACA;AACA,eAAe,oCAAiB;AAChC,mBAAmB,6BAAS;AAC5B;AACA;AACA;AACA,mBAAmB,+BAAW;AAC9B;AACA;AACA;AACA,mBAAmB,mCAAe;AAClC;AACA;AACA;AACA;AACA;AACA,aAAa,uBAAa,cAAc,8BAAW;AACnD;AACA,UAAU,8BAAW;AACrB,mBAAmB,uBAAa;AAChC;AACA,gBAAgB,2BAAQ,cAAc,6BAAU;AAChD,mBAAmB,mCAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,iBAAgB;AAClB;;AAEA,qDAAe,aAAa,EAAC;;;AC7FG;AACsB;AAClB;AACY;AACX;AACJ;AACG;;AAEpC;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,2BAAO;AACT,0BAA0B,qBAAK;AAC/B,QAAQ,2BAAQ;AAChB,MAAM,cAAa;AACnB;AACA;AACA;AACA,qBAAqB,QAAO;AAC5B;;AAEA;AACA;AACA;AACA,MAAM,iBAAgB;AACtB;AACA,GAAG,EAAE,qBAAM;AACX;;AAEA,iDAAe,SAAS,EAAC;;;;;ACzCe;AACU;;AAElD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,WAAW;AACtB,aAAa,QAAQ;AACrB;AACA;AACA;AACA,aAAa,QAAQ,IAAI,QAAQ;AACjC;AACA;AACA;AACA,aAAa,QAAQ,IAAI,QAAQ;AACjC;AACA;AACA;AACA,WAAW,QAAQ,gBAAgB,IAAI,gBAAgB;AACvD;AACA,YAAY,kCAAc;AAC1B,EAAE,UAAS;AACX,CAAC;;AAED,sDAAe,KAAK,EAAC;;;;;;;;;;;;ACtCrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIE;;;;;;;;;;;;;;AC9I4B;;AAE9B;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA,gDAAgD,gBAAgB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA,kBAAkB,eAAe;AACjC;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA,qDAAqD,qEAAM;AAC3D;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,0BAA0B;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,yBAAyB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA,qEAAM;AACN;AACA;AACA,cAAc;AACd,gBAAgB;AAChB,eAAe;AACf,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,EAAE,qEAAM;AACR,6CAA6C,gBAAgB;AAC7D;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN,4CAA4C,qEAAM;AAClD;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ,sGAAsG,kCAAkC;AACxI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,6BAA6B,qEAAM;AACnC;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA,6BAA6B,qEAAM;AACnC;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA,6BAA6B,qEAAM;AACnC;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,qEAAM;AACrC;AACA,KAAK;AACL,+BAA+B,qEAAM;AACrC;AACA,KAAK;AACL,+BAA+B,qEAAM;AACrC;AACA,KAAK;AACL,+BAA+B,qEAAM;AACrC;AACA,KAAK;AACL,2BAA2B,qEAAM;AACjC;AACA,KAAK;AACL,GAAG;AACH;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,qEAAM;AACrC;AACA,KAAK;AACL,+BAA+B,qEAAM;AACrC;AACA,KAAK;AACL,+BAA+B,qEAAM;AACrC;AACA,KAAK;AACL,GAAG;AACH;AACA,CAAC;AACD;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,aAAa;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,qEAAM;AAClC;AACA,KAAK;AACL,2BAA2B,qEAAM;AACjC;AACA,KAAK;AACL,6BAA6B,qEAAM;AACnC;AACA,KAAK;AACL;AACA,iCAAiC,qEAAM;AACvC;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,0CAA0C,gBAAgB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,0CAA0C,gBAAgB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA,0CAA0C,gBAAgB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,EAAE;AACzC;AACA,sCAAsC,EAAE,eAAe,EAAE,YAAY;AACrE;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA,wBAAwB,qEAAM;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,uBAAuB,qEAAM;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,qBAAqB;AACzE;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA,gDAAgD,kBAAkB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA,+CAA+C,kBAAkB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,kBAAkB;AACrE;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;AACA,6EAA6E;AAC7E,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA,8HAA8H;AAC9H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR,6DAA6D,sBAAsB;AACnF;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,oEAAoE;AACpE,UAAU;AACV;AACA;AACA;AACA;AACA,QAAQ;AACR,+DAA+D;AAC/D,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,8DAA8D;AAC9D;AACA,mEAAmE,0BAA0B;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,MAAM;AACN;AACA;AACA,0DAA0D,0BAA0B;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E;AAC9E;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,gBAAgB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA,uDAAuD,gBAAgB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,gBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,qEAAM;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA,kBAAkB,mBAAmB;AACrC;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA,0CAA0C,gBAAgB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA,0CAA0C,gBAAgB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,qEAAM;AACN;AACA;AACA;AACA,4CAA4C,gBAAgB;AAC5D;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qDAAqD,gBAAgB;AACrE;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,gDAAgD,gBAAgB;AAChE;AACA;AACA,QAAQ;AACR;AACA,uDAAuD,gBAAgB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,WAAW;AAC7C;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAKE;AACF;;AAEA;AACA;AACA;;;;;;;;;;;;;;ACppF8B;;AAE9B;AAC4B;AAC5B,uCAAuC,qEAAM;AAC7C,UAAU,gBAAgB,EAAE,yEAAS;AACrC,aAAa,oDAAM;AACnB;AACA,2BAA2B,oDAAM,MAAM,GAAG;AAC1C;AACA,WAAW,oDAAM;AACjB;AACA,8BAA8B,GAAG;AACjC;AACA,CAAC;;AAIC;;;;;;;;;;;;;;;;;;;;ACnB4B;AAQA;;AAE9B;AAC4B;;AAE5B;AACgC;AACG;AACnC,wCAAwC,kBAAkB;AAC1D;AACA,wDAAwD,GAAG;AAC3D,6BAA6B,0DAAM;AACnC;AACA,mDAAmD;AACnD;AACA;AACA;AACA,qEAAM;AACN,8CAA8C;AAC9C;AACA,gBAAgB,0CAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA,sCAAsC,iCAAiC;AACvE;AACA,SAAS;AACT,OAAO;AACP,MAAM;AACN;AACA;AACA,OAAO;AACP,MAAM;AACN,gCAAgC,oCAAoC;AACpE;AACA;AACA,EAAE,qEAAM;AACR;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN,gCAAgC,wCAAwC;AACxE;AACA,GAAG;AACH;AACA;AACA,qEAAM;AACN,oCAAoC,mBAAmB,IAAI;AAC3D,gBAAgB,0CAAM;AACtB;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA,MAAM;AACN,wBAAwB,kCAAkC;AAC1D,MAAM;AACN,oBAAoB,kCAAkC;AACtD,MAAM;AACN,mBAAmB,kCAAkC;AACrD,MAAM;AACN;AACA,MAAM;AACN,gBAAgB,UAAU;AAC1B,MAAM;AACN;AACA;AACA,oCAAoC,UAAU;AAC9C;AACA,EAAE,qEAAM;AACR;AACA;AACA,qEAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,QAAQ,mCAAmC;AAC3C,QAAQ;AACR;AACA;AACA;AACA;AACA,kBAAkB,iCAAiC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,mCAAmC;AACzC,MAAM;AACN;AACA;AACA,qEAAM;AACN;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA,4BAA4B,iCAAiC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA,sBAAsB,WAAW;AACjC,uBAAuB,WAAW;AAClC;AACA;AACA,oBAAoB,uEAAQ;AAC5B,kBAAkB,0EAAW,oBAAoB,yEAAc,wBAAwB,yEAAS;AAChG;AACA;AACA;AACA;AACA;AACA,wBAAwB,YAAY,EAAE,QAAQ;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,0CAA0C,+BAA+B;AACzE;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,qEAAM;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,GAAG;AACH;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA,wBAAwB,oBAAoB;AAC5C;AACA;AACA,qEAAM;AACN,iCAAiC,qEAAM;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,IAAI;AACN,EAAE,8DAAG;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,6EAAc;AACnE;AACA;AACA;AACA,aAAa,uEAAQ;AACrB;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,GAAG,kCAAkC,GAAG,0BAA0B,GAAG;AAC/H,MAAM,oDAAM;AACZ,MAAM;AACN,0DAA0D,GAAG,kCAAkC,GAAG,0BAA0B,GAAG;AAC/H,MAAM,oDAAM;AACZ,0DAA0D,GAAG,kCAAkC,GAAG,0BAA0B,GAAG;AAC/H,MAAM,oDAAM;AACZ;AACA;AACA;AACA,CAAC;;AAMC;;;;;;;;;;;;;;;;;;;;ACxVF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEyD;;;ACpDzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;;AAEwG;;;ACvBzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEoC;;;ACfkD;AACrB;;AAEjE;AACA,iBAAiB,wBAAwB;AACzC,oBAAoB,wBAAwB;AAC5C,eAAe,0BAA0B;AACzC;AACA,sBAAsB,0BAA0B;AAChD;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEyB;;;ACnBzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEwB;;;ACtB0B;AACR;AACZ;AACO;;AAErC;AACA;AACA;AACA;AACA;AACA,mBAAmB,aAAa;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,aAAa;AACtB;AACA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B;AACA;;AAE4C;;;AC3BsB;;AAElE;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,KAAK,0BAA0B;AAC/B,CAAC;;AAEmE;;;ACbpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEyB;;;ACvCzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAE6D;;;AC7BL;AACmB;AAChC;AACC;;AAE5C;AACA;AACA;AACA,OAAO,gBAAgB;AACvB;AACA;AACA;AACA,OAAO,yBAAyB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,aAAa;AACzB,IAAI;AACJ;AACA,6CAA6C,aAAa;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEqC;;;ACtHrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEsB;;;ACRtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA,0CAA0C;AAC1C;AACA,sBAAsB;AACtB;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEsB;;;ACxBQ;;AAE9B;AAC8F;AAC9F;AACA,+DAA+D,kBAAkB,+DAA+D,6BAA6B,mBAAmB;AAChM;AACA;AACA;AACA;AACA;AACA,wCAAwC,iCAAM;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,0BAAG;AACP;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN,MAAM,0BAAG;AACT;AACA;AACA;AACA,CAAC;AACD,4CAA4C,iCAAM;AAClD,eAAe,YAAY;AAC3B;AACA,0CAA0C,SAAS;AACnD;AACA;AACA;AACA,wDAAwD,SAAS;AACjE;AACA;AACA;AACA;AACA;AACA,6CAA6C,YAAY;AACzD;AACA;AACA;AACA,gBAAgB;AAChB;AACA,MAAM;AACN,MAAM,0BAAG;AACT,kDAAkD,YAAY;AAC9D;AACA;AACA,mBAAmB,WAAW;AAC9B;AACA,uCAAuC,SAAS;AAChD;AACA;AACA,CAAC;AACD,iCAAiC,iCAAM;AACvC;AACA;AACA;AACA,IAAI;AACJ,IAAI,0BAAG;AACP;AACA;AACA,qBAAqB,SAAS;AAC9B,cAAc,UAAU,CAAC,UAAU;AACnC;AACA,CAAC;;AAMC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7E4B;AAGA;AAGA;AAMA;AAcA;;AAE9B;AAC4B;AAC5B,kCAAkC,qEAAM;AACxC;AACA,8CAA8C,uEAAQ,CAAC,yEAAU;AACjE;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,4EAA4E,kFAAmB;AAC/F;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,sBAAsB,yEAAU,UAAU,2EAAY,CAAC,6EAAc,SAAS,yEAAU;AACxF;AACA,yBAAyB,yEAAU;AACnC;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,eAAe,oDAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,yEAAU,cAAc,yEAAU;AACvE;AACA,4CAA4C,gFAAqB,aAAa,4EAAa;AAC3F;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,YAAY,qEAAM;AAClB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,CAAC;AACD,kCAAkC,qEAAM;AACxC,iDAAiD,uEAAQ,CAAC,yEAAU;AACpE;AACA,sBAAsB,yEAAU,UAAU,2EAAY,CAAC,6EAAc,SAAS,yEAAU;AACxF;AACA,4BAA4B,yEAAU;AACtC;AACA;AACA,GAAG;AACH;AACA;AACA,MAAM,uEAAQ,CAAC,yEAAU;AACzB;AACA,eAAe,oDAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,CAAC;AACD,uCAAuC,qEAAM;AAC7C;AACA;AACA;AACA,CAAC;AACD,qCAAqC,qEAAM;AAC3C;AACA,+CAA+C,oBAAoB,EAAE,IAAI,GAAG,IAAI;AAChF;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,YAAY;AAC9B;AACA;AACA;AACA,kBAAkB,MAAM;AACxB;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,eAAe;AACjC;AACA;AACA;AACA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA,qEAAM;;AAEN;AACuC;AACX;;AAE5B;AACA,oCAAoC,qEAAM;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,CAAC;AACD;;AAEA;AACuC;AACvC;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA,aAAa,oDAAO;AACpB;AACA;AACA,oBAAoB,uEAAQ;AAC5B,kBAAkB,0EAAW,oBAAoB,yEAAc,wBAAwB,yEAAU;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN,kCAAkC,qEAAM;AACxC;AACA;AACA;AACA;AACA,MAAM,uEAAQ,CAAC,yEAAU;AACzB;AACA,IAAI,8DAAG;AACP;AACA;AACA,aAAa,6EAAc;AAC3B;AACA,4BAA4B,oBAAoB;AAChD;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA,6CAA6C,qEAAM;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC,qEAAM;AAC3C,UAAU,gBAAgB,EAAE,yEAAU;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oCAAoC,qEAAM;AAC1C;AACA,WAAW;AACX,CAAC;AACD,iCAAiC,qEAAM;AACvC;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;AACD,mCAAmC,qEAAM;AACzC;AACA,CAAC;AACD,oCAAoC,qEAAM;AAC1C,UAAU,cAAc;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,oCAAoC;AACpC,kCAAkC;AAClC;AACA;AACA;AACA;AACA,CAAC;AACD,wCAAwC,qEAAM;AAC9C,UAAU,gCAAgC,EAAE,yEAAU;AACtD,UAAU,sBAAsB;AAChC,UAAU,YAAY;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;;AAED;AACA,2BAA2B,qEAAM;AACjC,EAAE,8DAAG;AACL,qBAAqB,yEAAU;AAC/B,UAAU,gCAAgC;AAC1C,UAAU,4BAA4B;AACtC,UAAU,0DAA0D;AACpE;AACA,wBAAwB,uEAAQ;AAChC;AACA,sBAAsB,yEAAU;AAChC;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM,uEAAQ;AACd;AACA,eAAe,oDAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,EAAE,8DAAG;AACL;AACA;AACA,eAAe,wDAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,MAAM,8DAAG;AACT;AACA,KAAK;AACL,wEAAwE;AACxE,+DAA+D;AAC/D,IAAI;AACJ;AACA;AACA;AACA,UAAU,yBAAyB,EAAE,qFAAuB;AAC5D;AACA;AACA;AACA,iBAAiB,wBAAwB,IAAI,kDAAkD;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,CAAC;AACD,gCAAgC,qEAAM;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,gCAAgC;AAC3C,CAAC;AACD,uCAAuC,qEAAM;AAC7C,qBAAqB,yEAAU;AAC/B,UAAU,gCAAgC;AAC1C,UAAU,2EAA2E;AACrF;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,uEAAQ;AACd;AACA,eAAe,oDAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wDAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,wCAAwC,qBAAqB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,wBAAwB,IAAI,SAAS,uEAAQ,2CAA2C;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,CAAC;AACD,oCAAoC,qEAAM;AAC1C,EAAE,8DAAG;AACL,qBAAqB,yEAAU;AAC/B,UAAU,gCAAgC;AAC1C,UAAU,4BAA4B;AACtC,UAAU,0DAA0D;AACpE;AACA,wBAAwB,uEAAQ;AAChC;AACA,sBAAsB,yEAAU;AAChC;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM,uEAAQ;AACd;AACA,eAAe,oDAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,EAAE,8DAAG;AACL;AACA;AACA,eAAe,wDAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,MAAM,8DAAG;AACT;AACA,KAAK;AACL,wEAAwE;AACxE,+DAA+D;AAC/D,IAAI;AACJ;AACA;AACA;AACA,UAAU,yBAAyB,EAAE,qFAAuB;AAC5D;AACA;AACA;AACA,iBAAiB,wBAAwB,IAAI,kDAAkD;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,CAAC;AACD,8BAA8B,qEAAM;AACpC,qBAAqB,yEAAU;AAC/B,UAAU,gCAAgC;AAC1C,UAAU,aAAa;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wDAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,qEAAM;AAC1C;AACA;AACA;AACA;AACA,CAAC;AACD,4BAA4B,qEAAM;AAClC;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,qEAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,qEAAM;AACN;;AAEA;AACA;AACA;AACA;AACA,qEAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,kBAAkB,uBAAuB;AACzC;AACA;AACA;AACA;AACA;AACA,QAAQ,+BAA+B;AACvC,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,qEAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAC6B;AAC7B;AACA,UAAU,cAAc;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB,aAAa,wDAAM;AACnB,4CAA4C,mDAAmD;AAC/F;AACA;AACA;AACA;AACA;AACA,mDAAmD,kFAAmB;AACtE;AACA;AACA,IAAI,8DAAG;AACP;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,eAAe;AACjC;AACA;AACA;AACA;AACA,kBAAkB,MAAM;AACxB;AACA;AACA;AACA,qEAAM;AACN;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB;AACA,MAAM,qBAAqB;AAC3B,MAAM,sBAAsB;AAC5B;AACA,MAAM,oBAAoB;AAC1B;AACA;AACA,aAAa,wDAAM;AACnB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,qEAAM;;AAEN;AACA;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,2BAA2B;AACjC,MAAM,kBAAkB;AACxB,MAAM,qBAAqB;AAC3B,MAAM,oBAAoB;AAC1B,MAAM,2BAA2B;AACjC,MAAM;AACN;AACA;AACA,UAAU,YAAY;AACtB;AACA,eAAe,wDAAM;AACrB,8CAA8C;AAC9C;AACA;AACA,8FAA8F,OAAO,IAAI,MAAM;AAC/G;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC6B;AAC7B;AACA,UAAU,aAAa;AACvB;AACA;AACA,UAAU,YAAY;AACtB;AACA;AACA,MAAM,gBAAgB;AACtB,MAAM,gBAAgB;AACtB,MAAM,iBAAiB;AACvB,MAAM;AACN;AACA,aAAa,wDAAM;AACnB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC6B;AAC7B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,8BAA8B;AACxC;AACA;AACA,UAAU,YAAY;AACtB;AACA,eAAe,wDAAM;AACrB,8CAA8C;AAC9C;AACA;AACA,oEAAoE,kFAAmB;AACvF,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI,8DAAG;AACP;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC6B;AAC7B;AACA;AACA;AACA;AACA,oBAAoB;AACpB,oBAAoB;AACpB,oBAAoB;AACpB,oBAAoB;AACpB,cAAc,UAAU,GAAG,WAAW,IAAI,UAAU,GAAG;AACvD,uBAAuB,UAAU,GAAG,WAAW,IAAI,UAAU,GAAG,UAAU;AAC1E;AACA,qEAAM;AACN;AACA,UAAU,0BAA0B;AACpC;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB,aAAa,wDAAM;AACnB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,8DAAG,yCAAyC,eAAe;AAC/D;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,eAAe;AACjC;AACA;AACA;AACA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA,qEAAM;AACN;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA,UAAU,YAAY;AACtB;AACA;AACA,MAAM,+BAA+B;AACrC;AACA;AACA,MAAM,+BAA+B;AACrC;AACA;AACA;AACA,MAAM,8BAA8B;AACpC,MAAM,+BAA+B;AACrC;AACA,MAAM,gCAAgC;AACtC;AACA;AACA,MAAM,8BAA8B;AACpC;AACA,MAAM,8BAA8B;AACpC,MAAM;AACN;AACA,aAAa,wDAAM;AACnB,4CAA4C,cAAc;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,YAAY;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,OAAO;AAC5D;AACA;AACA,iBAAiB,8CAA8C,GAAG,8DAA8D;AAChI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,eAAe;AACjC;AACA;AACA;AACA,kBAAkB,MAAM;AACxB;AACA;AACA;AACA,qEAAM;AACN;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA,UAAU,YAAY;AACtB;AACA;AACA,MAAM,+BAA+B;AACrC;AACA;AACA,MAAM,6BAA6B;AACnC;AACA;AACA;AACA,MAAM,+BAA+B;AACrC,MAAM,8BAA8B;AACpC;AACA,MAAM,+BAA+B;AACrC;AACA;AACA,MAAM,6BAA6B;AACnC;AACA,MAAM,6BAA6B;AACnC,MAAM;AACN;AACA,aAAa,wDAAM;AACnB,4CAA4C,cAAc;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,YAAY;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,QAAQ;AAC9D;AACA;AACA,iBAAiB,+DAA+D,GAAG,8DAA8D;AACjJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,eAAe;AACjC;AACA;AACA;AACA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA,qEAAM;AACN;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA,UAAU,YAAY;AACtB;AACA;AACA,MAAM,+BAA+B;AACrC;AACA;AACA,MAAM,+BAA+B;AACrC;AACA;AACA;AACA;AACA,MAAM,kCAAkC;AACxC;AACA;AACA,MAAM,mCAAmC;AACzC;AACA;AACA;AACA,MAAM,8BAA8B;AACpC,MAAM,+BAA+B;AACrC;AACA,MAAM,gCAAgC;AACtC;AACA;AACA,MAAM,8BAA8B;AACpC;AACA,MAAM,8BAA8B;AACpC,MAAM,mDAAmD;AACzD;AACA,MAAM,kCAAkC;AACxC;AACA;AACA,MAAM,mCAAmC;AACzC;AACA;AACA,aAAa,wDAAO;AACpB,4CAA4C,cAAc;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,YAAY;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,oBAAoB;AACtE;AACA;AACA,iBAAiB,+DAA+D,GAAG,8DAA8D;AACjJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,aAAa;AACnB,MAAM,aAAa;AACnB,MAAM,0BAA0B;AAChC,MAAM,uBAAuB;AAC7B,MAAM,uBAAuB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,OAAO,IAAI,OAAO;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B,0CAA0C,qEAAM;AAChD;AACA,QAAQ,EAAE,GAAG,OAAO;AACpB,QAAQ,GAAG,GAAG,IAAI,QAAQ,MAAM;AAChC,QAAQ,GAAG,GAAG,IAAI,QAAQ,OAAO;AACjC,UAAU,OAAO;AACjB,QAAQ,GAAG,GAAG,IAAI,QAAQ,MAAM;AAChC,UAAU,QAAQ;AAClB;AACA,CAAC;AACD,+CAA+C,qEAAM;AACrD;AACA,QAAQ,EAAE,GAAG,OAAO;AACpB,QAAQ,UAAU,GAAG,OAAO;AAC5B,QAAQ,GAAG,GAAG,IAAI,QAAQ,OAAO;AACjC,UAAU,OAAO;AACjB,QAAQ,GAAG,GAAG,IAAI,QAAQ,MAAM;AAChC,UAAU,QAAQ;AAClB;AACA,CAAC;AACD,+CAA+C,qEAAM;AACrD,cAAc,cAAc,GAAG,YAAY,OAAO,GAAG,GAAG,IAAI,QAAQ,MAAM;AAC1E,CAAC;AACD;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB;AACA,eAAe,wDAAO;AACtB;AACA;AACA,uEAAuE;AACvE,uEAAuE,cAAc;AACrF;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,iIAAiI,kFAAmB;AACpJ;AACA;AACA,2CAA2C,OAAO,IAAI,cAAc;AACpE;AACA;AACA;AACA,iBAAiB,gDAAgD,IAAI,4EAA4E;AACjJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,MAAM,sBAAsB;AAC5B,MAAM,0BAA0B;AAChC,MAAM,cAAc;AACpB,MAAM,UAAU;AAChB,MAAM,MAAM;AACZ,MAAM,UAAU;AAChB,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,0DAA0D,IAAI,sEAAsE;AACrJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,8BAA8B;AACxC;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB;AACA,eAAe,wDAAO;AACtB,mDAAmD,kCAAkC;AACrF,mDAAmD,kCAAkC;AACrF;AACA;AACA;AACA,8BAA8B,kFAAmB,iCAAiC,kFAAmB;AACrG;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,8DAAG;AACP;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B,sCAAsC,UAAU,kBAAkB;AAClE,UAAU,0BAA0B;AACpC;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB,aAAa,wDAAO;AACpB,UAAU,aAAa;AACvB,4CAA4C,oBAAoB;AAChE;AACA;AACA;AACA;AACA;AACA,yDAAyD,YAAY,WAAW;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,8DAAG,wCAAwC,eAAe;AAC9D;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;AACA,MAAM,aAAa;AACnB,MAAM,cAAc;AACpB,MAAM;AACN;AACA,UAAU,YAAY;AACtB,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,2GAA2G,OAAO,IAAI,MAAM;AAC5H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,8CAA8C,IAAI,8DAA8D;AACjI;AACA;AACA,IAAI,8DAAG;AACP;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B,kCAAkC,eAAe,iCAAiC;AAClF,UAAU,aAAa;AACvB;AACA;AACA,UAAU,YAAY;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,wDAAO;AACpB;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA,UAAU,YAAY;AACtB,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,MAAM,sBAAsB;AAC5B,MAAM,8BAA8B;AACpC;AACA,MAAM,6BAA6B;AACnC,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,8DAAG,gCAAgC,eAAe;AACtD;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B,yCAAyC,qEAAM;AAC/C;AACA,QAAQ,MAAM,GAAG,EAAE;AACnB,QAAQ,cAAc,GAAG,EAAE;AAC3B,QAAQ,UAAU,GAAG,eAAe;AACpC,QAAQ,cAAc,GAAG,WAAW;AACpC,QAAQ,MAAM,GAAG,WAAW;AAC5B,QAAQ,EAAE,GAAG,eAAe;AAC5B;AACA;AACA,CAAC;AACD;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA;AACA;AACA,MAAM,YAAY;AAClB,MAAM,gBAAgB;AACtB,MAAM,iBAAiB;AACvB,MAAM,iBAAiB;AACvB,MAAM,aAAa;AACnB,MAAM;AACN;AACA;AACA,UAAU,YAAY;AACtB;AACA,eAAe,wDAAO;AACtB,8CAA8C;AAC9C;AACA;AACA,8FAA8F,OAAO,IAAI,MAAM;AAC/G;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA;AACA,UAAU,WAAW;AACrB;AACA;AACA,UAAU,YAAY;AACtB,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,MAAM,YAAY;AAClB,MAAM,YAAY;AAClB,MAAM,YAAY;AAClB,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,OAAO,IAAI,OAAO;AAC3D;AACA;AACA,IAAI,8DAAG,gCAAgC,QAAQ;AAC/C;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B,oCAAoC,UAAU,6BAA6B;AAC3E,UAAU,cAAc;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA,UAAU,aAAa;AACvB,UAAU,YAAY;AACtB;AACA;AACA;AACA,aAAa,wDAAO;AACpB,4CAA4C,8BAA8B;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM,yEAAU;AAC5B;AACA;AACA;AACA,OAAO,EAAE;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,uBAAuB,GAAG,sIAAsI;AACnL;AACA,qCAAqC,uCAAuC;AAC5E;AACA;AACA;AACA,iBAAiB,8CAA8C,GAAG,4DAA4D;AAC9H;AACA;AACA;AACA,iBAAiB,EAAE,GAAG,oFAAoF;AAC1G;AACA;AACA;AACA,IAAI,8DAAG;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gDAAgD;AAC1D,UAAU,gDAAgD;AAC1D,UAAU,6EAA6E;AACvF,UAAU,wEAAwE;AAClF,UAAU,2CAA2C;AACrD,UAAU,2CAA2C;AACrD,UAAU,wEAAwE;AAClF,UAAU;AACV;AACA,MAAM;AACN;AACA,UAAU,2CAA2C;AACrD,UAAU,2CAA2C;AACrD,UAAU,oDAAoD;AAC9D,UAAU,yDAAyD;AACnE,UAAU,oDAAoD;AAC9D,UAAU,gDAAgD;AAC1D,UAAU,yDAAyD;AACnE,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B,0CAA0C,UAAU,6BAA6B;AACjF,UAAU,cAAc;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA,UAAU,sBAAsB;AAChC,UAAU,YAAY;AACtB,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM,yEAAU;AAC5B;AACA;AACA;AACA,OAAO,EAAE;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,iBAAiB,uBAAuB,GAAG,sIAAsI;AACjL;AACA,mCAAmC,uCAAuC;AAC1E;AACA;AACA,iBAAiB,8CAA8C,GAAG,4DAA4D;AAC9H;AACA;AACA;AACA,iBAAiB,EAAE,GAAG,oFAAoF;AAC1G;AACA;AACA;AACA,IAAI,8DAAG;AACP;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B,2CAA2C,UAAU,6BAA6B;AAClF,UAAU,cAAc;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,qCAAqC;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,sBAAsB;AAChC,UAAU,YAAY;AACtB;AACA;AACA;AACA,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM,yEAAU;AAC5B;AACA;AACA;AACA,OAAO,EAAE;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,uBAAuB,GAAG,sIAAsI;AACnL;AACA,qCAAqC,uCAAuC;AAC5E;AACA;AACA;AACA,iBAAiB,8CAA8C,GAAG,4DAA4D;AAC9H;AACA;AACA;AACA,iBAAiB,EAAE,GAAG,oFAAoF;AAC1G;AACA;AACA;AACA,IAAI,8DAAG;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gDAAgD;AAC1D,UAAU,gDAAgD;AAC1D,UAAU,6EAA6E;AACvF,UAAU,wEAAwE;AAClF,UAAU,2CAA2C;AACrD,UAAU,2CAA2C;AACrD,UAAU,wEAAwE;AAClF,UAAU;AACV;AACA,MAAM;AACN;AACA,UAAU,2CAA2C;AACrD,UAAU,2CAA2C;AACrD,UAAU,oDAAoD;AAC9D,UAAU,yDAAyD;AACnE,UAAU,oDAAoD;AAC9D,UAAU,gDAAgD;AAC1D,UAAU,yDAAyD;AACnE,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B,0CAA0C,UAAU,6BAA6B;AACjF,UAAU,cAAc;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,qCAAqC;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,sBAAsB;AAChC,UAAU,YAAY;AACtB;AACA;AACA;AACA,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM,yEAAU;AAC5B;AACA;AACA;AACA,OAAO,EAAE;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,uBAAuB,GAAG,sIAAsI;AACnL;AACA,qCAAqC,uCAAuC;AAC5E;AACA;AACA;AACA,iBAAiB,8CAA8C,GAAG,4DAA4D;AAC9H;AACA;AACA;AACA,iBAAiB,EAAE,GAAG,oFAAoF;AAC1G;AACA;AACA;AACA,IAAI,8DAAG;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gDAAgD;AAC1D,UAAU,gDAAgD;AAC1D,UAAU,6EAA6E;AACvF,UAAU,wEAAwE;AAClF,UAAU,2CAA2C;AACrD,UAAU,2CAA2C;AACrD,UAAU,wEAAwE;AAClF,UAAU;AACV;AACA,MAAM;AACN;AACA,UAAU,2CAA2C;AACrD,UAAU,2CAA2C;AACrD,UAAU,oDAAoD;AAC9D,UAAU,yDAAyD;AACnE,UAAU,oDAAoD;AAC9D,UAAU,gDAAgD;AAC1D,UAAU,yDAAyD;AACnE,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B,2CAA2C,UAAU,aAAa;AAClE;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,cAAc;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;AACA,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gBAAgB,GAAG,4DAA4D;AAClG;AACA;AACA;AACA;AACA,iBAAiB,8CAA8C,GAAG,wHAAwH;AAC1L;AACA;AACA;AACA,iBAAiB,EAAE,GAAG,oFAAoF;AAC1G;AACA;AACA;AACA,IAAI,8DAAG;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gDAAgD;AAC1D,UAAU,gDAAgD;AAC1D,UAAU,6EAA6E;AACvF,UAAU,6EAA6E;AACvF,UAAU,gDAAgD;AAC1D,UAAU,gDAAgD;AAC1D,UAAU,6EAA6E;AACvF,UAAU;AACV;AACA,MAAM;AACN;AACA,UAAU,gDAAgD;AAC1D,UAAU,gDAAgD;AAC1D,UAAU,8DAA8D;AACxE,UAAU,8DAA8D;AACxE,UAAU,oDAAoD;AAC9D,UAAU,gDAAgD;AAC1D,UAAU,8DAA8D;AACxE,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA,MAAM,YAAY;AAClB,MAAM,YAAY;AAClB,MAAM,yBAAyB;AAC/B,MAAM;AACN;AACA;AACA,UAAU,YAAY;AACtB;AACA,eAAe,wDAAO;AACtB,8CAA8C;AAC9C;AACA;AACA,8FAA8F,OAAO,IAAI,MAAM;AAC/G;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA;AACA;AACA,QAAQ,SAAS;AACjB,UAAU,YAAY;AACtB;AACA;AACA;AACA;AACA;AACA,eAAe,wDAAO;AACtB,+CAA+C;AAC/C;AACA;AACA,+DAA+D,kFAAmB;AAClF,IAAI;AACJ;AACA,sFAAsF,kFAAmB,iBAAiB,kFAAmB;AAC7I;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AACA;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,gDAAgD,IAAI,gDAAgD;AACrH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA,MAAM,YAAY;AAClB,MAAM,wBAAwB;AAC9B,MAAM,aAAa;AACnB,MAAM;AACN;AACA;AACA,UAAU,YAAY;AACtB;AACA,eAAe,wDAAO;AACtB,8CAA8C;AAC9C;AACA;AACA,8FAA8F,OAAO,IAAI,MAAM;AAC/G;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA,MAAM,qBAAqB;AAC3B,MAAM,YAAY;AAClB,MAAM,yBAAyB;AAC/B,MAAM;AACN;AACA;AACA,UAAU,YAAY;AACtB;AACA,eAAe,wDAAO;AACtB,8CAA8C;AAC9C;AACA;AACA,8FAA8F,OAAO,IAAI,MAAM;AAC/G;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA;AACA;AACA,UAAU,YAAY;AACtB;AACA;AACA;AACA;AACA,MAAM,gBAAgB;AACtB,MAAM,2BAA2B;AACjC,MAAM,yCAAyC;AAC/C,MAAM,qBAAqB;AAC3B,MAAM,+BAA+B;AACrC,MAAM;AACN;AACA,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,UAAU,GAAG,QAAQ;AACtE;AACA;AACA,IAAI,8DAAG;AACP;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B,2CAA2C,qEAAM;AACjD;AACA,QAAQ,EAAE,GAAG,OAAO;AACpB,QAAQ,GAAG,GAAG,IAAI,QAAQ,MAAM;AAChC,QAAQ,GAAG,GAAG,IAAI,QAAQ,OAAO;AACjC,UAAU,OAAO;AACjB,QAAQ,GAAG,GAAG,IAAI,QAAQ,MAAM;AAChC,UAAU,QAAQ;AAClB,QAAQ,EAAE,GAAG,qBAAqB;AAClC,QAAQ,GAAG,GAAG,IAAI,QAAQ,MAAM;AAChC;AACA,CAAC;AACD,gDAAgD,qEAAM;AACtD;AACA,QAAQ,EAAE,GAAG,OAAO;AACpB,QAAQ,UAAU,GAAG,OAAO;AAC5B,QAAQ,GAAG,GAAG,IAAI,QAAQ,OAAO;AACjC,UAAU,OAAO;AACjB,QAAQ,GAAG,GAAG,IAAI,QAAQ,MAAM;AAChC,UAAU,QAAQ;AAClB,QAAQ,EAAE,GAAG,qBAAqB;AAClC,QAAQ,GAAG,GAAG,IAAI,QAAQ,MAAM;AAChC;AACA,CAAC;AACD,gDAAgD,qEAAM;AACtD,cAAc,cAAc,GAAG,YAAY,OAAO,GAAG,GAAG,IAAI,QAAQ,MAAM;AAC1E,CAAC;AACD;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB;AACA,eAAe,wDAAO;AACtB;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,iIAAiI,kFAAmB;AACpJ;AACA;AACA,2CAA2C,OAAO,IAAI,cAAc;AACpE;AACA;AACA;AACA,iBAAiB,gDAAgD,IAAI,qDAAqD;AAC1H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,MAAM,yCAAyC;AAC/C,MAAM,wCAAwC;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,wCAAwC;AAC9C,MAAM,yCAAyC;AAC/C,MAAM,2BAA2B;AACjC,MAAM,gCAAgC;AACtC,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,mBAAmB;AACnE;AACA;AACA,iBAAiB,6EAA6E,GAAG,8EAA8E;AAC/K;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA,MAAM,sCAAsC;AAC5C,MAAM,0CAA0C;AAChD,MAAM,8CAA8C;AACpD,MAAM,iCAAiC;AACvC,MAAM,oBAAoB;AAC1B,MAAM,iCAAiC;AACvC,MAAM,8CAA8C;AACpD,MAAM,0CAA0C;AAChD,MAAM,sCAAsC;AAC5C,MAAM,sBAAsB;AAC5B,MAAM,MAAM;AACZ,MAAM;AACN;AACA;AACA,MAAM,sBAAsB;AAC5B,MAAM,0CAA0C;AAChD,MAAM,iCAAiC;AACvC,MAAM,oBAAoB;AAC1B,MAAM,aAAa;AACnB,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,0BAA0B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,6DAA6D,IAAI,6DAA6D;AAC/I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,sCAAsC;AAC5C,MAAM,+CAA+C;AACrD;AACA,MAAM,wDAAwD;AAC9D,MAAM,2CAA2C;AACjD,MAAM,+CAA+C;AACrD,MAAM,4DAA4D;AAClE,MAAM,0CAA0C;AAChD,MAAM,sCAAsC;AAC5C,MAAM,sBAAsB;AAC5B,MAAM,MAAM;AACZ,MAAM;AACN;AACA;AACA,MAAM,sBAAsB;AAC5B,MAAM,0CAA0C;AAChD,MAAM,wDAAwD;AAC9D,MAAM,2CAA2C;AACjD,MAAM,aAAa;AACnB,MAAM;AACN;AACA,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,mBAAmB;AAC5D;AACA;AACA,iBAAiB,6DAA6D,IAAI,iFAAiF;AACnK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B,oCAAoC,UAAU,kBAAkB;AAChE,UAAU,0BAA0B;AACpC;AACA,8CAA8C,wEAAS;AACvD;AACA;AACA;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB,aAAa,wDAAO;AACpB;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B,6CAA6C,qEAAM;AACnD;AACA,QAAQ,aAAa,GAAG,EAAE;AAC1B,QAAQ,SAAS,GAAG,aAAa;AACjC,QAAQ,aAAa,GAAG,SAAS;AACjC,QAAQ,EAAE,GAAG,aAAa;AAC1B;AACA;AACA,CAAC;AACD;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA;AACA,MAAM,gBAAgB;AACtB,MAAM,iBAAiB;AACvB,MAAM,iBAAiB;AACvB,MAAM;AACN;AACA;AACA,UAAU,YAAY;AACtB;AACA,eAAe,wDAAO;AACtB,8CAA8C;AAC9C;AACA;AACA,8FAA8F,OAAO,IAAI,MAAM;AAC/G;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,8DAAG;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,iBAAiB;AACvB,MAAM,SAAS;AACf,MAAM,qBAAqB;AAC3B,MAAM,cAAc;AACpB,MAAM;AACN;AACA,UAAU,YAAY;AACtB,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,WAAW;AACpD;AACA;AACA,iBAAiB,0DAA0D,IAAI,gDAAgD;AAC/H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AACuC;AACT;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,MAAM,uEAAQ,CAAC,yEAAU;AACzB;AACA,gBAAgB,oDAAO;AACvB;AACA;AACA;AACA;AACA,EAAE,8DAAG;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,oDAAO;AACpB;AACA;AACA;AACA;AACA,EAAE,oDAAO;AACT;AACA;AACA;AACA,EAAE,oDAAO;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wDAAO;AACtB,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,8DAAG;AACT;AACA,KAAK;AACL;AACA,MAAM,8DAAG;AACT;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,MAAM,MAAM;AACZ,MAAM,iBAAiB;AACvB,MAAM,wBAAwB;AAC9B,MAAM,oBAAoB;AAC1B,MAAM,aAAa;AACnB,MAAM,MAAM;AACZ,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,kFAAmB;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,+DAA+D,GAAG,0DAA0D;AAC7I;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,MAAM,MAAM;AACZ,MAAM,aAAa;AACnB,MAAM,oBAAoB;AAC1B,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,MAAM;AAClD;AACA;AACA,iBAAiB,2DAA2D,IAAI,0DAA0D;AAC1I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA,UAAU,YAAY;AACtB;AACA,eAAe,wDAAO;AACtB,8CAA8C;AAC9C;AACA;AACA;AACA,+DAA+D,kFAAmB;AAClF,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B,kCAAkC,UAAU,kBAAkB;AAC9D,UAAU,0BAA0B;AACpC;AACA,UAAU,YAAY;AACtB,UAAU,qCAAqC;AAC/C;AACA,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B,oCAAoC,UAAU,kBAAkB;AAChE,UAAU,YAAY;AACtB;AACA;AACA;AACA,eAAe,wDAAO;AACtB;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,YAAY;AAClB,MAAM,YAAY;AAClB,MAAM,aAAa;AACnB,MAAM,aAAa;AACnB,MAAM,YAAY;AAClB,MAAM,aAAa;AACnB,MAAM,gBAAgB;AACtB,MAAM,iBAAiB;AACvB,MAAM,cAAc;AACpB,MAAM;AACN;AACA;AACA,eAAe,wDAAO;AACtB,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,YAAY;AACxB,+DAA+D,kFAAmB;AAClF;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA,MAAM,wBAAwB;AAC9B,MAAM,4BAA4B;AAClC,MAAM,mCAAmC;AACzC,MAAM;AACN;AACA;AACA,MAAM,mCAAmC;AACzC,MAAM,mCAAmC;AACzC,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,gCAAgC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,MAAM,wCAAwC;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,wCAAwC;AAC9C,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM,uCAAuC;AAC7C,MAAM,gCAAgC;AACtC,MAAM,4BAA4B;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,mBAAmB;AACnE;AACA;AACA,iBAAiB,2DAA2D,GAAG,8EAA8E;AAC7J;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AACA;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B,2CAA2C,qEAAM;AACjD,aAAa,EAAE,GAAG;AAClB,OAAO,GAAG,GAAG,IAAI,QAAQ,EAAE,GAAG;AAC9B,OAAO,MAAM,GAAG;AAChB,OAAO,GAAG,GAAG,IAAI,QAAQ,EAAE,GAAG;AAC9B,OAAO,MAAM,GAAG;AAChB,OAAO,GAAG,GAAG,IAAI,QAAQ,EAAE,GAAG;AAC9B,OAAO,OAAO,GAAG,EAAE;AACnB,CAAC;AACD,gDAAgD,qEAAM;AACtD;AACA,QAAQ,EAAE,GAAG,EAAE;AACf,QAAQ,UAAU,GAAG,EAAE;AACvB,QAAQ,GAAG,GAAG,IAAI,QAAQ,EAAE,GAAG,QAAQ;AACvC,QAAQ,OAAO;AACf,QAAQ,GAAG,GAAG,IAAI,QAAQ,EAAE,GAAG,OAAO;AACtC,QAAQ,MAAM;AACd;AACA,CAAC;AACD,gDAAgD,qEAAM;AACtD,cAAc,cAAc,GAAG,YAAY,OAAO,GAAG,GAAG,IAAI,UAAU,OAAO;AAC7E,CAAC;AACD;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,qCAAqC;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB;AACA;AACA,eAAe,wDAAO;AACtB;AACA;AACA,uEAAuE;AACvE,uEAAuE,cAAc;AACrF;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,iIAAiI,kFAAmB;AACpJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,OAAO,IAAI,OAAO;AAC7D;AACA;AACA,iBAAiB,qDAAqD,IAAI,gDAAgD;AAC1H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA,MAAM,qBAAqB;AAC3B,MAAM,wBAAwB;AAC9B,MAAM,aAAa;AACnB,MAAM;AACN;AACA;AACA,UAAU,YAAY;AACtB;AACA,eAAe,wDAAO;AACtB,8CAA8C;AAC9C;AACA;AACA,8FAA8F,OAAO,IAAI,MAAM;AAC/G;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA,UAAU,YAAY;AACtB,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,MAAM,4BAA4B;AAClC,MAAM,2BAA2B;AACjC,MAAM,2BAA2B;AACjC,MAAM,oBAAoB;AAC1B,MAAM,qBAAqB;AAC3B,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,wBAAwB;AAClC,wBAAwB,uEAAQ,CAAC,yEAAU;AAC3C;AACA;AACA;AACA;AACA,MAAM,YAAY;AAClB,MAAM,aAAa;AACnB,MAAM;AACN;AACA,UAAU,YAAY;AACtB,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,kGAAkG,OAAO,IAAI,MAAM;AACnH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,8CAA8C,IAAI,mGAAmG;AACtK;AACA;AACA,IAAI,8DAAG;AACP;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB;AACA;AACA;AACA,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,MAAM,mCAAmC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,mCAAmC;AACzC,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,mBAAmB;AACnE;AACA;AACA,iBAAiB,2DAA2D,GAAG,0EAA0E;AACzJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,MAAM,0BAA0B;AAChC;AACA,MAAM,0BAA0B;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B;AACA,UAAU,0BAA0B;AACpC;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA,MAAM,sCAAsC;AAC5C,MAAM,6BAA6B;AACnC,MAAM,oBAAoB;AAC1B,MAAM;AACN;AACA,mBAAmB,eAAe,GAAG,gBAAgB,GAAG,MAAM,GAAG,gBAAgB,GAAG,MAAM,GAAG,OAAO,GAAG,eAAe,GAAG,OAAO,GAAG,eAAe,GAAG;AACrJ,mBAAmB,eAAe,GAAG,GAAG,GAAG,MAAM,GAAG;AACpD,mBAAmB,EAAE,GAAG,gBAAgB,GAAG,EAAE,GAAG,MAAM;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,eAAe,IAAI,eAAe;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iEAAiE,IAAI,iEAAiE;AACvJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AACS;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,kCAAkC,EAAE,wEAAS;AACzD,YAAY,aAAa;AACzB;AACA;AACA;AACA;AACA,2CAA2C,WAAW;AACtD;AACA;AACA;AACA,iBAAiB,wEAAS;AAC1B;AACA;AACA;AACA,UAAU,YAAY;AACtB,UAAU,cAAc;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,iFAAkB;AAC1B;AACA;AACA;AACA,SAAS,uEAAQ;AACjB;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,oDAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,6BAA6B,IAAI,oDAAoD;AACxG;AACA,GAAG;AACH;AACA;AACA;AACA,UAAU,iBAAiB,EAAE,wEAAS;AACtC,UAAU,8BAA8B;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,6GAA6G,6BAA6B;AAC1I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA,4DAA4D,kBAAkB,kCAAkC,WAAW,IAAI,WAAW;AAC1I,oBAAoB,gFAAiB;AACrC,gBAAgB,gFAAiB;AACjC,+CAA+C,wBAAwB;AACvE;AACA;AACA,UAAU,yEAAU;AACpB;AACA;AACA;AACA,eAAe,iFAAkB;AACjC;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,8BAA8B,8BAA8B;AAC5D;AACA,0DAA0D,wBAAwB;AAClF;AACA;AACA,4DAA4D,wBAAwB;AACpF;AACA;AACA;AACA,MAAM,uEAAQ;AACd;AACA;AACA,eAAe,oDAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AACuC;AACT;;AAE9B;AACuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,aAAa,WAAW,OAAO;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,+BAA+B;AAClF;AACA,4CAA4C,0BAA0B,IAAI,sBAAsB;AAChG;AACA;AACA;AACA,iBAAiB,EAAE,IAAI,mDAAmD;AAC1E;AACA;AACA;AACA;AACA,iBAAiB,EAAE,IAAI,yGAAyG;AAChI;AACA;AACA,WAAW;AACX;AACA,qEAAM;AACN;AACA,6FAA6F;AAC7F,iBAAiB,wEAAS;AAC1B,qEAAqE,uEAAQ;AAC7E;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,MAAM,uEAAQ;AACd;AACA;AACA,sBAAsB,yEAAU;AAChC;AACA,IAAI,4EAAa,CAAC,6EAAc;AAChC;AACA,aAAa,iFAAkB;AAC/B;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,oDAAO;AACb;AACA;AACA;AACA;AACA,wFAAwF,wBAAwB;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,eAAe,oDAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,YAAY,qEAAM;AAClB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AACA;AACA,iBAAiB,yEAAU;AAC3B;AACA;AACA,8CAA8C,uEAAQ;AACtD;AACA;AACA;AACA;AACA,UAAU,iBAAiB;AAC3B,UAAU,0BAA0B;AACpC;AACA;AACA,0CAA0C;AAC1C;AACA,iEAAiE;AACjE;AACA;AACA,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,oDAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,yCAAyC,cAAc,IAAI,cAAc;AACzE,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AAC8B;AACS;AACvC;AACA,UAAU,0BAA0B;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,IAAI,EAAE,qBAAqB,IAAI,IAAI;AAC9C;AACA;AACA;AACA,IAAI;AACJ,+CAA+C,IAAI,WAAW,IAAI;AAClE;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,kBAAkB;AAC3C;AACA;AACA;AACA;AACA;AACA,SAAS,uCAAuC,8BAA8B,OAAO;AACrF;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,gCAAgC,qBAAqB,OAAO;AACrE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,gCAAgC,qBAAqB,OAAO;AACrE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,gDAAgD,6BAA6B,OAAO;AAC7F;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,SAAS,4BAA4B,iBAAiB,OAAO;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,iCAAiC,mBAAmB,OAAO;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,wDAAO;AACpB,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,oDAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,cAAc,IAAI,wBAAwB;AACnF,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA,iBAAiB,yEAAU;AAC3B;AACA,sBAAsB,yEAAU;AAChC;AACA,IAAI,4EAAa,CAAC,6EAAc;AAChC;AACA,aAAa,iFAAkB;AAC/B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,wBAAwB;AACpF;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,eAAe,oDAAO;AACtB;AACA;AACA;AACA;AACA,wCAAwC,gBAAgB,GAAG,2BAA2B;AACtF;AACA;AACA,qEAAM;;AAEN;AAC8B;AAC9B,wCAAwC,qEAAM;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gDAAgD,QAAQ;AACxD,UAAU,0BAA0B;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,8BAA8B;AACrC;AACA;AACA;AACA;AACA,IAAI;AACJ,OAAO,8BAA8B;AACrC;AACA;AACA;AACA;AACA;AACA,UAAU,6CAA6C;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,SAAS;AACnB,UAAU,YAAY;AACtB;AACA,eAAe,wDAAO;AACtB,qDAAqD;AACrD;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,qEAAM;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,qEAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,sCAAsC,WAAW;AACjD;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN,kCAAkC,qEAAM;AACxC;AACA,CAAC;AACD,6BAA6B,qEAAM;AACnC;AACA,CAAC;AACD,mCAAmC,qEAAM;AACzC;AACA,EAAE,8DAAG;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,CAAC;;AAcC;;;;;;;;;;;;;;;;;;;;;;;;ACpoK4B;AAIA;AAGA;AAGA;AAGA;AAMA;;AAE9B;AAgBY;AACgB;;AAE5B;AACA,qCAAqC,qEAAM;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iBAAiB,4BAA4B;AAC7C,iBAAiB,2BAA2B;AAC5C,gBAAgB,0BAA0B;AAC1C,kBAAkB,6BAA6B;AAC/C,iBAAiB,kCAAkC;AACnD,eAAe,gCAAgC;AAC/C,iBAAiB,iCAAiC;AAClD,gBAAgB,gCAAgC;AAChD,cAAc,+BAA+B;AAC7C,cAAc,8BAA8B;AAC5C,iBAAiB,gCAAgC;AACjD,iBAAiB,gCAAgC;AACjD,kBAAkB,iCAAiC;AACnD,uBAAuB,wCAAwC;AAC/D,0BAA0B;AAC1B;AACA,oCAAoC,qEAAM;AAC1C;AACA;AACA,IAAI,8DAAG,6BAA6B,UAAU;AAC9C;AACA;AACA;AACA;AACA,8BAA8B,GAAG,GAAG,YAAY,GAAG,cAAc,EAAE,OAAO;AAC1E;AACA;AACA,+BAA+B,iBAAiB,GAAG,QAAQ;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B,SAAS,UAAU,IAAI,GAAG,gBAAgB;AACrE,IAAI;AACJ,2BAA2B,SAAS,UAAU,IAAI,GAAG,iBAAiB;AACtE;AACA,CAAC;;AAED;AACA;AACA;AACA,4BAA4B,qEAAM;AAClC;AACA;AACA,CAAC;AACD,qCAAqC,qEAAM;AAC3C,sEAAsE;AACtE;AACA,CAAC;AACD,sCAAsC,qEAAM;AAC5C,sBAAsB,uEAAQ,CAAC,yEAAS;AACxC,6BAA6B,yEAAU;AACvC;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE,8DAAG;AACL;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oDAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,kFAAmB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA,oCAAoC,kFAAmB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA,kCAAkC,kFAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA,kCAAkC,kFAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,MAAM,yEAAS;AACf;AACA;AACA;AACA;AACA,qEAAM;AACN,wCAAwC,qEAAM;AAC9C,EAAE,8DAAG;AACL;AACA,qBAAqB,yEAAS;AAC9B,UAAU,2BAA2B,EAAE,qFAAuB;AAC9D;AACA;AACA;AACA;AACA;AACA,kBAAkB,wEAAa;AAC/B,MAAM,8DAAG;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,EAAE,IAAI,iCAAiC;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,wEAAa;AAC/B;AACA;AACA;AACA,sCAAsC,EAAE,IAAI,EAAE;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,wEAAa;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,EAAE,IAAI,EAAE;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,wEAAa;AAC/B;AACA;AACA;AACA,sCAAsC,EAAE,IAAI,EAAE;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,wEAAa;AAC/B;AACA;AACA;AACA,sCAAsC,EAAE,IAAI,EAAE;AAC9C;AACA,CAAC;AACD,kCAAkC,qEAAM;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,mCAAmC,qEAAM;AACzC,EAAE,8DAAG;AACL,kBAAkB;AAClB,kBAAkB;AAClB,oBAAoB,QAAQ,IAAI,QAAQ,IAAI,YAAY,IAAI,YAAY;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,8DAAG,mCAAmC,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE;AACpE;AACA,IAAI;AACJ;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,IAAI,8DAAG,8BAA8B,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,QAAQ;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,CAAC;AACD,yCAAyC,qEAAM;AAC/C,EAAE,8DAAG;AACL;AACA;AACA;AACA;AACA,IAAI,8DAAG;AACP;AACA;AACA,MAAM,8DAAG;AACT,MAAM,8DAAG;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,QAAQ;AACR,QAAQ,8DAAG;AACX;AACA;AACA,MAAM;AACN,MAAM,8DAAG;AACT;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE,8DAAG;AACL;AACA,CAAC;AACD;AACA;AACA;AACA,kBAAkB,uBAAuB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,qEAAM;AACN,wCAAwC,qEAAM;AAC9C;AACA;AACA;AACA;AACA,WAAW;AACX,CAAC;AACD,iCAAiC,qEAAM;AACvC,UAAU,uBAAuB;AACjC;AACA,kBAAkB,qBAAqB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,QAAQ,8DAAG;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,QAAQ,8DAAG;AACX;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,CAAC;AACD,iCAAiC,qEAAM;AACvC,UAAU,gBAAgB,EAAE,yEAAS;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,2EAAY;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,8DAAG;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,8DAAG;AACP;AACA;AACA;AACA;AACA,IAAI,8DAAG;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,qDAAU;AACxB,UAAU,sDAAW;AACrB;AACA;AACA,cAAc,sDAAW;AACzB;AACA;AACA,cAAc,qDAAU;AACxB;AACA;AACA,cAAc,wDAAa;AAC3B;AACA;AACA,cAAc,qDAAU;AACxB;AACA;AACA,cAAc,qDAAU;AACxB;AACA;AACA,cAAc,0DAAe;AAC7B;AACA;AACA,cAAc,yDAAc;AAC5B;AACA;AACA,cAAc,yDAAc;AAC5B;AACA;AACA,cAAc,uDAAY;AAC1B;AACA;AACA,cAAc,oDAAS;AACvB;AACA;AACA,cAAc,yDAAc;AAC5B;AACA;AACA,cAAc,yDAAe;AAC7B;AACA;AACA,cAAc,qDAAU;AACxB;AACA,UAAU,OAAO,EAAE,wFAA0B;AAC7C,uBAAuB,mDAAI;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wDAAK;AACpB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,cAAc,oDAAM,oMAAoM;AACxN;AACA;AACA;AACA,IAAI;AACJ,qDAAqD;AACrD,kFAAkF;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,eAAe;AAC/E;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA,MAAM,yEAAS,oCAAoC,yEAAS;AAC5D;AACA;AACA;AACA,EAAE,8DAAG;AACL,EAAE,8DAAG;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,oCAAoC,qEAAM;AAC1C;AACA;AACA,GAAG;AACH,CAAC;AACD,gCAAgC,qEAAM;AACtC,EAAE,8DAAG;AACL;AACA;AACA,CAAC;AACD,kCAAkC,qEAAM;AACxC;AACA;AACA,CAAC;AACD,kCAAkC,qEAAM;AACxC;AACA;AACA,CAAC;AACD,iCAAiC,qEAAM;AACvC;AACA;AACA,CAAC;AACD,+BAA+B,qEAAM;AACrC;AACA;AACA,CAAC;AACD,4BAA4B,qEAAM;AAClC;AACA;AACA,CAAC;AACD,6BAA6B,qEAAM;AACnC;AACA;AACA,CAAC;AACD,4BAA4B,qEAAM;AAClC;AACA;AACA,CAAC;AACD,2BAA2B,qEAAM;AACjC;AACA,CAAC;AACD,+BAA+B,qEAAM;AACrC;AACA;AACA,CAAC;AACD,kCAAkC,qEAAM;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kCAAkC,qEAAM;AACxC;AACA;AACA,CAAC;AACD,mCAAmC,qEAAM;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,wCAAwC,qEAAM;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,2CAA2C,qEAAM;AACjD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAQE;;;;;;;;;;;;;AChtB4B;;AAE9B;AACA,8CAA8C,qEAAM;AACpD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAIC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZ4B;;AAE9B;AACsD;AAuB1C;AAC+B;AACJ;AACvC;AACA;AACA,YAAY;AACZ,kBAAkB;AAClB,gBAAgB;AAChB,YAAY;AACZ,YAAY;AACZ,aAAa;AACb,qBAAqB;AACrB,mBAAmB;AACnB,eAAe;AACf,uBAAuB;AACvB,qBAAqB;AACrB,iBAAiB;AACjB,aAAa;AACb,mBAAmB;AACnB,gBAAgB;AAChB,gBAAgB;AAChB,cAAc;AACd,WAAW;AACX,gBAAgB;AAChB,iBAAiB;AACjB;AACA,wEAAwE,EAAE,EAAE,oBAAoB,EAAE,EAAE;AACpG,iCAAiC,qEAAM;AACvC;AACA;AACA;AACA;AACA,IAAI,gFAAiB;AACrB,cAAc,sFAAuB;AACrC,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,aAAa,yEAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,sCAAsC,qEAAM;AAC5C;AACA;AACA,WAAW,EAAE,KAAK,GAAG,4BAA4B,MAAM,KAAK,EAAE;AAC9D;AACA;AACA;AACA;AACA,IAAI,8DAAG;AACP,oCAAoC,sCAAsC,oBAAoB,KAAK;AACnG;AACA;AACA;AACA,oBAAoB,yEAAc;AAClC,0BAA0B,yEAAc;AACxC,QAAQ,yEAAc;AACtB;AACA;AACA;AACA;AACA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,IAAI;AACJ,IAAI,8DAAG;AACP,gBAAgB,eAAe,qCAAqC,KAAK,wBAAwB,KAAK;AACtG;AACA,aAAa;AACb;AACA,CAAC;AACD,uCAAuC,qEAAM;AAC7C,sBAAsB,yEAAc;AACpC,CAAC;AACD,yCAAyC,qEAAM;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,4BAA4B,2DAA2D;AACvF;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,6EAAW;AACtB;AACA;AACA;AACA,qEAAM;AACN,8BAA8B,qEAAM;AACpC;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA,MAAM,8DAAG,yBAAyB,cAAc;AAChD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN,kCAAkC,qEAAM;AACxC;AACA;AACA,CAAC;AACD,qCAAqC,qEAAM;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,8CAA8C,qEAAM;AACpD,EAAE,8DAAG,oBAAoB,uBAAuB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,EAAE,8DAAG;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C,QAAQ;AACR,oCAAoC;AACpC;AACA;AACA;AACA,WAAW;AACX;AACA,qEAAM;AACN;AACA,iCAAiC,qEAAM;AACvC;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,kBAAkB,YAAY;AAC9B;AACA;AACA;AACA;AACA,qEAAM;AACN,6BAA6B,qEAAM;AACnC;AACA,CAAC;AACD,iCAAiC,qEAAM;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,qCAAqC,qEAAM;AAC3C,sCAAsC,yEAAc;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gBAAgB,yEAAO;AACvB;AACA;AACA;AACA;AACA;AACA,QAAQ,uEAAuE;AAC/E;AACA;AACA,QAAQ,yEAAc;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,MAAM;AACrD;AACA;AACA,gBAAgB,mCAAmC;AACnD;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH,kCAAkC,MAAM,EAAE,SAAS,EAAE,gBAAgB,EAAE,kBAAkB,EAAE,kBAAkB,EAAE,gBAAgB;AAC/H;AACA,kBAAkB,yEAAO;AACzB;AACA;AACA,QAAQ,+DAA+D;AACvE;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,YAAY,EAAE,UAAU;AAClD;AACA;AACA;AACA;AACA,sCAAsC,SAAS,EAAE,gBAAgB;AACjE;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL,aAAa;AACb,GAAG;AACH,wDAAwD,KAAK,EAAE,SAAS,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,kBAAkB,EAAE,kBAAkB;AACpJ;AACA;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN,8BAA8B,yEAAO;AACrC;AACA,YAAY,wDAAwD;AACpE;AACA,eAAe;AACf;AACA;AACA;AACA,6BAA6B,yEAAc;AAC3C;AACA,iBAAiB,oDAAM;AACvB;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,uBAAuB,KAAK,EAAE,gBAAgB,EAAE,kBAAkB,EAAE,kBAAkB;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,qEAAM;AACV;AACA;AACA;AACA,mCAAmC,qEAAM;AACzC;AACA,kFAAkF;AAClF;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,qEAAM;AACN,kCAAkC,qEAAM;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oCAAoC,qEAAM;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA,CAAC;AACD;AACA,SAAS,uEAAK,GAAG;AACjB;AACA,qEAAM;AACN;AACA,mBAAmB,kFAAuB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,qEAAM;AAC3C;AACA,oCAAoC;AACpC;AACA,GAAG;AACH,uCAAuC;AACvC;AACA,GAAG;AACH,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,GAAG;AACH;AACA,CAAC;AACD,qCAAqC,qEAAM;AAC3C,yEAAyE;AACzE,CAAC;AACD,gCAAgC,qEAAM;AACtC;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,YAAY,YAAY,OAAO,QAAQ,EAAE,KAAK,GAAG,GAAG,GAAG,QAAQ,EAAE,aAAa,OAAO,OAAO;AAC5F,CAAC;AACD;AACA;AACA;AACA,qEAAM;;AAoBJ;;;;;;;;;;;;;;;;;;ACtjB4B;AAKA;AAGA;AAMA;;AAE9B;AACA;AACA,UAAU,yEAAc;AACxB,WAAW;AACX,eAAe;AACf,YAAY;AACZ,iBAAiB;AACjB,iBAAiB,0EAAe;AAChC,YAAY;AACZ,oBAAoB;AACpB,aAAa;AACb,KAAK;AACL,mBAAmB;AACnB;;AAEA;AACA;AACA,4CAA4C,qEAAM;AAClD;AACA;AACA;AACA,CAAC;AACD,mDAAmD,qEAAM;AACzD;AACA;AACA;AACA,8BAA8B,qEAAM,mBAAmB,4KAA8B;AACrF;AACA;AACA,CAAC;AACD;AACA,6BAA6B,qEAAM;AACnC;AACA,iDAAiD,4BAA4B;AAC7E;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD,mDAAmD,qEAAM,oBAAoB,qBAAqB,IAAI;AACtG;AACA;AACA;AACA;AACA,IAAI,8DAAG,0BAA0B,WAAW,2BAA2B,UAAU;AACjF;AACA;AACA,4CAA4C,WAAW,MAAM,UAAU;AACvE,CAAC;;AAMC;;;;;;;;;;;;;AC3E4B;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,qEAAM;AACN,uCAAuC,qEAAM;AAC7C;AACA,aAAa;AACb;AACA;AACA,CAAC;AACD,iDAAiD,qEAAM;AACvD;AACA,uBAAuB,qEAAM;AAC7B;AACA;AACA;AACA,gBAAgB,gBAAgB;AAChC;AACA,QAAQ;AACR,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,uBAAuB,qEAAM;AAC7B;AACA;AACA;AACA,gBAAgB,gBAAgB;AAChC;AACA,QAAQ;AACR,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA,UAAU,uBAAuB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP,sCAAsC,YAAY;AAClD;AACA;AACA;AACA,OAAO;AACP,sCAAsC,YAAY,IAAI,YAAY;AAClE;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAIE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtJF;AACsC;AACL;AACjC;AACA;AACA,eAAe,yBAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,yBAAM;AACjB;AACA;AACA,qDAAe,MAAM,EAAC;;;;;ACftB;AACsC;AACT;AAC7B;AACA;AACA;AACA,YAAY,6BAA6B,EAAE,yBAAK;AAChD,YAAY,6BAA6B,EAAE,yBAAK;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,uBAAI;AACf;AACA;AACA,kDAAe,GAAG,EAAC;;;ACrBnB;AACsC;AACX;AAC3B;AACA;AACA,oBAAoB,yBAAK;AACzB;AACA;AACA;AACA,WAAW,WAAG;AACd;AACA;AACA,qDAAe,MAAM,EAAC;;;;;;;;;;;ACZtB;AACA,4DAA4D,2BAA2B;AACvF;AACA;AACA,8BAA8B,kCAAkC;AAChE;;AAEA;AAC0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,eAAe,mBAAK;AACpB,cAAc,MAAM,IAAI,OAAO;AAC/B,CAAC;;AAED;AACA,2BAA2B,EAAE,sBAAsB,EAAE;AACrD,wBAAwB,GAAG,0CAA0C,EAAE,EAAE,oBAAoB,EAAE,EAAE;AACjG;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,KAAK;AAC5E;AACA,CAAC;AACD;AACA,eAAe,uBAAuB;AACtC;AACA;AACA,CAAC;AACD;AACA;AACA,kCAAkC,KAAK;AACvC;AACA,qBAAqB;AACrB,iCAAiC,KAAK,OAAO,6BAA6B;AAC1E,CAAC;AACD;AACA;AACA,CAAC;;AAED;AACA,0DAA0D,6BAA6B,IAAI;AAC3F,oBAAoB;AACpB;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,2BAA2B;AACpF,QAAQ;AACR;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;;AAEA;AAC4E;;AAE5E;AACA;AACA;;AAEA;AACgC;AAChC,oEAAoE,cAAM,QAAQ,eAAe,IAAI,cAAM,QAAQ,gBAAgB;;AAEnI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,cAAO,sBAAsB,SAAS;AACvF,+CAA+C,cAAO,sBAAsB,cAAc;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,cAAM;AAC/D,uDAAuD,cAAM;AAC7D,uCAAuC,cAAM;AAC7C,iDAAiD,cAAM;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E,yBAAM;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,yBAAM;AACrE;AACA,2DAA2D,cAAM;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,0BAAO;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,yBAAM;AACzC,qCAAqC,yBAAM;AAC3C,MAAM;AACN,mCAAmC,0BAAO;AAC1C,qCAAqC,0BAAO;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,cAAO,sBAAsB,OAAO;AACvE,mCAAmC,cAAO,sBAAsB,OAAO;AACvE,mCAAmC,cAAO,sBAAsB,OAAO;AACvE,mCAAmC,cAAO,sBAAsB,QAAQ;AACxE,mCAAmC,cAAO,sBAAsB,QAAQ;AACxE,mCAAmC,cAAO,sBAAsB,gBAAgB;AAChF,mCAAmC,cAAO,sBAAsB,QAAQ;AACxE,qCAAqC,cAAO,sBAAsB,QAAQ;AAC1E,qCAAqC,cAAO,sBAAsB,QAAQ;AAC1E;AACA,sBAAsB,4BAA4B;AAClD,6BAA6B,yBAAM;AACnC;AACA,MAAM;AACN,sBAAsB,4BAA4B;AAClD,6BAA6B,yBAAM;AACnC;AACA;AACA,oBAAoB,4BAA4B;AAChD,uDAAuD,cAAM;AAC7D;AACA,oBAAoB,4BAA4B;AAChD;AACA,2DAA2D,0BAAO;AAClE,QAAQ;AACR,2DAA2D,yBAAM;AACjE;AACA;AACA;AACA,oBAAoB,4BAA4B;AAChD;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B,mDAAmD,cAAO,iBAAiB,6CAA6C;AACxH,2DAA2D,cAAO,iBAAiB,6CAA6C;AAChI;AACA;AACA;AACA;AACA,uCAAuC,cAAO,sBAAsB,OAAO;AAC3E,uCAAuC,cAAO,wBAAwB,OAAO;AAC7E,uCAAuC,cAAO,sBAAsB,QAAQ;AAC5E,uCAAuC,cAAO,wBAAwB,QAAQ;AAC9E,uCAAuC,cAAO,sBAAsB,QAAQ;AAC5E,uCAAuC,cAAO,wBAAwB,QAAQ;AAC9E;AACA;AACA;AACA,6BAA6B,cAAO,sBAAsB,QAAQ;AAClE,6BAA6B,cAAO,wBAAwB,QAAQ;AACpE,6BAA6B,cAAO,uBAAuB,QAAQ;AACnE,6BAA6B,cAAO,sBAAsB,eAAe;AACzE,6BAA6B,cAAO,sBAAsB,gBAAgB;AAC1E,6BAA6B,cAAO,sBAAsB,cAAc;AACxE,+BAA+B,cAAO,sBAAsB,eAAe;AAC3E,+BAA+B,cAAO,sBAAsB,gBAAgB;AAC5E,+BAA+B,cAAO,sBAAsB,gBAAgB;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,cAAO,sBAAsB,kBAAkB;AAC9F,+CAA+C,cAAO,sBAAsB,qBAAqB;AACjG,+CAA+C,cAAO,sBAAsB,qBAAqB;AACjG;AACA,uDAAuD,cAAO,0BAA0B,qBAAqB;AAC7G,uDAAuD,cAAO,0BAA0B,wBAAwB;AAChH,uDAAuD,cAAO,0BAA0B,wBAAwB;AAChH,uDAAuD,0BAAM,uBAAuB,0BAAO,uBAAuB,yBAAM;AACxH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oFAAoF,yBAAM;AAC1F;AACA;AACA;AACA;AACA,6BAA6B,cAAO,sBAAsB,QAAQ;AAClE,6BAA6B,cAAO,sBAAsB,QAAQ;AAClE,6BAA6B,cAAO,sBAAsB,QAAQ;AAClE,6BAA6B,cAAO,sBAAsB,OAAO;AACjE,6BAA6B,cAAO,sBAAsB,QAAQ;AAClE;AACA,kBAAkB,0BAAO;AACzB,kBAAkB,0BAAO;AACzB,kBAAkB,0BAAO;AACzB,kBAAkB,0BAAO;AACzB,kBAAkB,0BAAO;AACzB,kBAAkB,0BAAO;AACzB,kBAAkB,0BAAO;AACzB,kBAAkB,0BAAO;AACzB,MAAM;AACN,kBAAkB,yBAAM;AACxB,kBAAkB,yBAAM;AACxB,kBAAkB,yBAAM;AACxB,kBAAkB,yBAAM;AACxB,kBAAkB,yBAAM;AACxB,kBAAkB,yBAAM;AACxB,kBAAkB,yBAAM;AACxB,kBAAkB,yBAAM;AACxB;AACA,mCAAmC,cAAM;AACzC,mCAAmC,cAAM;AACzC,mCAAmC,cAAM;AACzC,mCAAmC,cAAM;AACzC,mCAAmC,cAAM;AACzC,mCAAmC,cAAM;AACzC,mCAAmC,cAAM;AACzC,mCAAmC,cAAM;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AAC+H;AAC/H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,0BAAQ;AAClC,yBAAyB,cAAO,sBAAsB,SAAS;AAC/D,8BAA8B,cAAO;AACrC;AACA;AACA,4BAA4B,cAAO;AACnC,8BAA8B,cAAO;AACrC,6BAA6B,cAAO;AACpC,qBAAqB,cAAO;AAC5B,qBAAqB,cAAO;AAC5B;AACA;AACA;AACA,yBAAyB,0BAAQ,CAAC,cAAO;AACzC;AACA;AACA,mBAAmB,uBAAI;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,yBAAO;AAClC;AACA;AACA,2BAA2B,yBAAO;AAClC,2BAA2B,uBAAI;AAC/B;AACA;AACA;AACA;AACA;AACA,iCAAiC,uBAAI;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,0BAAQ;AACzC,mCAAmC,yBAAO;AAC1C;AACA;AACA;AACA;AACA;AACA,qBAAqB,0BAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,0BAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,0BAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,cAAO,sBAAsB,OAAO;AACzD,qBAAqB,cAAO,wBAAwB,OAAO;AAC3D,qBAAqB,cAAO,sBAAsB,QAAQ;AAC1D,qBAAqB,cAAO,wBAAwB,QAAQ;AAC5D,qBAAqB,cAAO,sBAAsB,QAAQ;AAC1D,qBAAqB,cAAO,wBAAwB,QAAQ;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,cAAO,sBAAsB,OAAO;AACvE,mCAAmC,cAAO,sBAAsB,OAAO;AACvE,mCAAmC,cAAO,sBAAsB,OAAO;AACvE,mCAAmC,cAAO,sBAAsB,QAAQ;AACxE,mCAAmC,cAAO,sBAAsB,QAAQ;AACxE,mCAAmC,cAAO,sBAAsB,QAAQ;AACxE,mCAAmC,cAAO,sBAAsB,QAAQ;AACxE,qCAAqC,cAAO,sBAAsB,QAAQ;AAC1E,qCAAqC,cAAO,sBAAsB,QAAQ;AAC1E,oBAAoB,4BAA4B;AAChD,uDAAuD,cAAO;AAC9D;AACA,oBAAoB,4BAA4B;AAChD,yDAAyD,0BAAQ;AACjE;AACA,oBAAoB,OAAO;AAC3B,mDAAmD,cAAO,iBAAiB,kCAAkC;AAC7G,2DAA2D,cAAO,iBAAiB,iCAAiC;AACpH;AACA;AACA,oBAAoB,4BAA4B;AAChD;AACA;AACA,oBAAoB,4BAA4B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,cAAO,sBAAsB,kBAAkB;AAC9F,+CAA+C,cAAO,sBAAsB,qBAAqB;AACjG,+CAA+C,cAAO,sBAAsB,qBAAqB;AACjG;AACA,uDAAuD,cAAO,0BAA0B,qBAAqB;AAC7G,uDAAuD,cAAO,0BAA0B,wBAAwB;AAChH,uDAAuD,cAAO,0BAA0B,wBAAwB;AAChH,uDAAuD,0BAAO,uBAAuB,0BAAQ,uBAAuB,yBAAO;AAC3H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oFAAoF,yBAAO;AAC3F;AACA,gBAAgB,0BAAQ;AACxB,gBAAgB,0BAAQ;AACxB,gBAAgB,0BAAQ;AACxB,gBAAgB,0BAAQ,cAAc,cAAO,sBAAsB,QAAQ;AAC3E,gBAAgB,0BAAQ,cAAc,cAAO,sBAAsB,QAAQ;AAC3E,gBAAgB,0BAAQ,cAAc,cAAO,sBAAsB,QAAQ;AAC3E,gBAAgB,0BAAQ,cAAc,cAAO,sBAAsB,OAAO;AAC1E,gBAAgB,0BAAQ,cAAc,cAAO,sBAAsB,QAAQ;AAC3E,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mDAAmD,cAAO;AAC1D;AACA;AACA,mDAAmD,cAAO;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E,0BAAQ;AACnF,6EAA6E,0BAAQ;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACwI;AACxI;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,cAAO,sBAAsB,QAAQ;AAC/D;AACA,yBAAyB,cAAO,sBAAsB,SAAS;AAC/D;AACA;AACA;AACA,4BAA4B,cAAO;AACnC,8BAA8B,cAAO;AACrC,6BAA6B,cAAO;AACpC,qBAAqB,cAAO;AAC5B,qBAAqB,cAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,uBAAK;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,cAAO,sBAAsB,OAAO;AACvE,mCAAmC,cAAO,sBAAsB,OAAO;AACvE,mCAAmC,cAAO,sBAAsB,OAAO;AACvE,mCAAmC,cAAO,sBAAsB,QAAQ;AACxE,mCAAmC,cAAO,sBAAsB,QAAQ;AACxE,mCAAmC,cAAO,sBAAsB,QAAQ;AACxE,mCAAmC,cAAO,sBAAsB,QAAQ;AACxE,qCAAqC,cAAO,sBAAsB,QAAQ;AAC1E,qCAAqC,cAAO,sBAAsB,QAAQ;AAC1E,iDAAiD,yBAAO;AACxD,iDAAiD,yBAAO;AACxD,oBAAoB,4BAA4B;AAChD,2BAA2B,yBAAO;AAClC,yDAAyD,yBAAO;AAChE;AACA,oBAAoB,4BAA4B;AAChD,uDAAuD,cAAO,uBAAuB,QAAQ;AAC7F;AACA,oBAAoB,OAAO;AAC3B,mDAAmD,cAAO,iBAAiB,wBAAwB;AACnG,2DAA2D,cAAO,iBAAiB,wBAAwB;AAC3G;AACA;AACA;AACA,+CAA+C,cAAO;AACtD,+CAA+C,cAAO;AACtD,sBAAsB,4BAA4B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,0BAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,0BAAQ;AACzC,mCAAmC,0BAAQ;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,cAAO,sBAAsB,OAAO;AACzD,qBAAqB,cAAO,wBAAwB,OAAO;AAC3D,qBAAqB,cAAO,sBAAsB,QAAQ;AAC1D,qBAAqB,cAAO,wBAAwB,QAAQ;AAC5D,qBAAqB,cAAO,sBAAsB,QAAQ;AAC1D,qBAAqB,cAAO,wBAAwB,QAAQ;AAC5D;AACA;AACA,6BAA6B,cAAO,uBAAuB,QAAQ;AACnE,6BAA6B,cAAO,sBAAsB,QAAQ;AAClE,6BAA6B,cAAO,wBAAwB,QAAQ;AACpE,6BAA6B,cAAO,uBAAuB,QAAQ;AACnE,6BAA6B,cAAO,sBAAsB,eAAe;AACzE,6BAA6B,cAAO,sBAAsB,gBAAgB;AAC1E,6BAA6B,cAAO,sBAAsB,gBAAgB;AAC1E,+BAA+B,cAAO,sBAAsB,eAAe;AAC3E,+BAA+B,cAAO,sBAAsB,gBAAgB;AAC5E,+BAA+B,cAAO,sBAAsB,gBAAgB;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,cAAO,sBAAsB,kBAAkB;AAC9F,+CAA+C,cAAO,sBAAsB,qBAAqB;AACjG,+CAA+C,cAAO,sBAAsB,qBAAqB;AACjG;AACA,uDAAuD,cAAO,0BAA0B,qBAAqB;AAC7G,uDAAuD,cAAO,0BAA0B,wBAAwB;AAChH,uDAAuD,cAAO,0BAA0B,wBAAwB;AAChH,uDAAuD,0BAAO,uBAAuB,0BAAQ,uBAAuB,yBAAO;AAC3H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAO,sBAAsB,QAAQ;AAClE,6BAA6B,cAAO,sBAAsB,QAAQ;AAClE,6BAA6B,cAAO,sBAAsB,QAAQ;AAClE,6BAA6B,cAAO,sBAAsB,OAAO;AACjE,6BAA6B,cAAO,sBAAsB,QAAQ;AAClE;AACA,kBAAkB,0BAAQ;AAC1B,kBAAkB,0BAAQ;AAC1B,kBAAkB,0BAAQ;AAC1B,kBAAkB,0BAAQ;AAC1B,kBAAkB,0BAAQ;AAC1B,kBAAkB,0BAAQ;AAC1B,kBAAkB,0BAAQ;AAC1B,kBAAkB,0BAAQ;AAC1B,MAAM;AACN,kBAAkB,yBAAO;AACzB,kBAAkB,yBAAO;AACzB,kBAAkB,yBAAO;AACzB,kBAAkB,yBAAO;AACzB,kBAAkB,yBAAO;AACzB,kBAAkB,yBAAO;AACzB,kBAAkB,yBAAO;AACzB,kBAAkB,yBAAO;AACzB;AACA,mCAAmC,yBAAO,CAAC,cAAO;AAClD,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mDAAmD,cAAO;AAC1D;AACA;AACA,mDAAmD,cAAO;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACyH;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,0BAAQ;AACjC;AACA;AACA;AACA,4BAA4B,cAAO;AACnC,8BAA8B,cAAO;AACrC,6BAA6B,cAAO;AACpC,qBAAqB,cAAO;AAC5B,qBAAqB,cAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,yBAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,cAAO,sBAAsB,OAAO;AACvE,mCAAmC,cAAO,sBAAsB,OAAO;AACvE,mCAAmC,cAAO,sBAAsB,OAAO;AACvE,mCAAmC,cAAO,sBAAsB,QAAQ;AACxE,mCAAmC,cAAO,sBAAsB,QAAQ;AACxE,mCAAmC,cAAO,sBAAsB,QAAQ;AACxE,mCAAmC,cAAO,sBAAsB,QAAQ;AACxE,qCAAqC,cAAO,sBAAsB,QAAQ;AAC1E,qCAAqC,cAAO,sBAAsB,QAAQ;AAC1E,iDAAiD,yBAAO;AACxD,iDAAiD,yBAAO;AACxD,oBAAoB,4BAA4B;AAChD,2BAA2B,yBAAO;AAClC,yDAAyD,yBAAO;AAChE;AACA,oBAAoB,4BAA4B;AAChD,uDAAuD,cAAO,uBAAuB,QAAQ;AAC7F;AACA;AACA,oBAAoB,4BAA4B;AAChD;AACA;AACA,oBAAoB,OAAO;AAC3B,mDAAmD,cAAO,iBAAiB,gCAAgC;AAC3G,2DAA2D,cAAO,iBAAiB,gCAAgC;AACnH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,0BAAQ;AACzC,mCAAmC,0BAAQ;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,cAAO,sBAAsB,OAAO;AACzD,qBAAqB,cAAO,wBAAwB,OAAO;AAC3D,qBAAqB,cAAO,sBAAsB,QAAQ;AAC1D,qBAAqB,cAAO,wBAAwB,QAAQ;AAC5D,qBAAqB,cAAO,sBAAsB,QAAQ;AAC1D,qBAAqB,cAAO,wBAAwB,QAAQ;AAC5D;AACA;AACA;AACA,6BAA6B,cAAO,sBAAsB,QAAQ;AAClE,6BAA6B,cAAO,wBAAwB,QAAQ;AACpE,6BAA6B,cAAO,uBAAuB,eAAe;AAC1E,6BAA6B,cAAO,sBAAsB,eAAe;AACzE,6BAA6B,cAAO,sBAAsB,gBAAgB;AAC1E,6BAA6B,cAAO,sBAAsB,cAAc;AACxE,+BAA+B,cAAO,sBAAsB,eAAe;AAC3E,+BAA+B,cAAO,sBAAsB,gBAAgB;AAC5E,+BAA+B,cAAO,sBAAsB,gBAAgB;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,cAAO,sBAAsB,kBAAkB;AAC9F,+CAA+C,cAAO,sBAAsB,qBAAqB;AACjG,+CAA+C,cAAO,sBAAsB,qBAAqB;AACjG;AACA,uDAAuD,cAAO,0BAA0B,qBAAqB;AAC7G,uDAAuD,cAAO,0BAA0B,wBAAwB;AAChH,uDAAuD,cAAO,0BAA0B,wBAAwB;AAChH,uDAAuD,0BAAO,uBAAuB,0BAAQ,uBAAuB,yBAAO;AAC3H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAO,sBAAsB,QAAQ;AAClE,6BAA6B,cAAO,sBAAsB,QAAQ;AAClE,6BAA6B,cAAO,sBAAsB,QAAQ;AAClE,6BAA6B,cAAO,sBAAsB,OAAO;AACjE,6BAA6B,cAAO,sBAAsB,QAAQ;AAClE;AACA,kBAAkB,0BAAQ;AAC1B,kBAAkB,0BAAQ;AAC1B,kBAAkB,0BAAQ;AAC1B,kBAAkB,0BAAQ;AAC1B,kBAAkB,0BAAQ;AAC1B,kBAAkB,0BAAQ;AAC1B,kBAAkB,0BAAQ;AAC1B,kBAAkB,0BAAQ;AAC1B,MAAM;AACN,kBAAkB,yBAAO;AACzB,kBAAkB,yBAAO;AACzB,kBAAkB,yBAAO;AACzB,kBAAkB,yBAAO;AACzB,kBAAkB,yBAAO;AACzB,kBAAkB,yBAAO;AACzB,kBAAkB,yBAAO;AACzB,kBAAkB,yBAAO;AACzB;AACA,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mDAAmD,cAAO;AAC1D;AACA;AACA,mDAAmD,cAAO;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACyH;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,0BAAQ;AAClC;AACA,yBAAyB,cAAO,sBAAsB,SAAS;AAC/D;AACA;AACA;AACA,4BAA4B,cAAO;AACnC,8BAA8B,cAAO;AACrC,6BAA6B,cAAO;AACpC,qBAAqB,cAAO;AAC5B,qBAAqB,cAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,0BAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,0BAAQ;AAC7B;AACA,uBAAuB,0BAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,4BAA4B;AAChD,uDAAuD,cAAO;AAC9D;AACA,oBAAoB,4BAA4B;AAChD;AACA,2DAA2D,0BAAQ;AACnE,QAAQ;AACR,2DAA2D,yBAAO;AAClE;AACA;AACA;AACA;AACA;AACA,oBAAoB,4BAA4B;AAChD;AACA;AACA,oBAAoB,OAAO;AAC3B,mDAAmD,cAAO,iBAAiB,iBAAiB;AAC5F,2DAA2D,cAAO,iBAAiB,iBAAiB;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,0BAAQ;AACnC,4BAA4B,0BAAQ;AACpC,2BAA2B,yBAAO;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,0BAAQ;AAC7B;AACA;AACA;AACA,2BAA2B,yBAAO;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,cAAO,sBAAsB,OAAO;AACzD,qBAAqB,cAAO,wBAAwB,OAAO;AAC3D,qBAAqB,cAAO,sBAAsB,QAAQ;AAC1D,qBAAqB,cAAO,wBAAwB,QAAQ;AAC5D,qBAAqB,cAAO,sBAAsB,QAAQ;AAC1D,qBAAqB,cAAO,wBAAwB,QAAQ;AAC5D,oBAAoB,4BAA4B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,cAAO,sBAAsB,kBAAkB;AAC9F,+CAA+C,cAAO,sBAAsB,qBAAqB;AACjG,+CAA+C,cAAO,sBAAsB,qBAAqB;AACjG;AACA,uDAAuD,cAAO,0BAA0B,qBAAqB;AAC7G,uDAAuD,cAAO,0BAA0B,wBAAwB;AAChH,uDAAuD,cAAO,0BAA0B,wBAAwB;AAChH,uDAAuD,0BAAO,uBAAuB,0BAAQ,uBAAuB,yBAAO;AAC3H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,yBAAO;AACvB;AACA;AACA,6BAA6B,cAAO,sBAAsB,QAAQ;AAClE,6BAA6B,cAAO,sBAAsB,QAAQ;AAClE,6BAA6B,cAAO,sBAAsB,QAAQ;AAClE,6BAA6B,cAAO,sBAAsB,OAAO;AACjE,6BAA6B,cAAO,sBAAsB,QAAQ;AAClE,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C,mCAAmC,cAAO;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,gBAAgB,6BAA6B;AAC7C;AACA,sBAAsB;AACtB;AACA,MAAM,uBAAuB;AAC7B;AACA;AACA;AACA;AACA,cAAc,6BAA6B;AAC3C;AACA;AACA,CAAC;;AAED;AACA;AACA,2CAA2C;AAC3C;AACA;AACA,8CAA8C;AAC9C;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D;AAC9D;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mDAAmD;AACnD,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mCAAmC;AACnC,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mCAAmC;AACnC,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,IAAI;AAC7D;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,IAAI,oBAAK;AACT;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,EAAE,wBAAS;AACX;AACA;AACA;AACA,GAAG;AACH,EAAE,wBAAS;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,wBAAwB,wBAAS;AACjC;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,qCAAqC,sBAAsB;AAC3D,yCAAyC;AACzC;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,WAAW,wBAAS;AACpB,IAAI;AACJ,WAAW,wBAAS;AACpB;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;AACD;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;AACD;AACA;AACA;AACA,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,iBAAiB,QAAQ,oGAAe;AAClD;AACA;AACA,2DAA2D,qBAAqB,yBAAyB,oBAAoB,IAAI,KAAK,kBAAkB,KAAK;AAC7J;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,qCAAqC,MAAM,GAAG;AAC9C,IAAI;AACJ;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,0BAA0B,OAAO,GAAG,QAAQ;AAC5C;AACA;AACA,4BAA4B,MAAM,GAAG,OAAO;AAC5C;AACA;AACA,iCAAiC,MAAM,GAAG,OAAO;AACjD;AACA,kBAAkB,uBAAuB,EAAE,uBAAuB,EAAE,+BAA+B,EAAE,+BAA+B;AACpI;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,mCAAmC,KAAK;AACxC;AACA;AACA,mBAAmB;AACnB,iBAAiB;AACjB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA,YAAY;AACZ,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY;AACZ,cAAc;AACd;AACA;AACA,cAAc;AACd;;AAEA;AACA,mBAAmB;AACnB,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA,IAAI;;AAEJ,IAAI;AACJ;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,iCAAiC,IAAI;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,qBAAqB,MAAM;AAC3B;AACA;;AAsDE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACliGK;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACrBP;AACA,WAAW;AACX,YAAY;AACZ;AACO;;AAEP;AACA,WAAW;AACX,YAAY;AACZ;AACO,IAAI,YAAI;;AAEf;AACA,WAAW;AACX,YAAY;AACZ;AACO,IAAI,cAAM;;AAEjB;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,iBAAiB;AAC5B,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACO;AACP;AACA;;AAEA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,YAAY;AACZ;AACO,SAAS,cAAM;AACtB;AACA;;AAEA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,YAAY;AACZ;AACO;AACP;AACA;;AAEA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP,wCAAwC,+BAA+B;AACvE;;;AC5H4F;AACzD;;AAEnC;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,YAAY;AACZ;AACO;AACP;;AAEA,iBAAiB,qBAAqB;AACtC;;AAEA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,YAAY;AACZ;AACO;AACP;AACA,OAAO,KAAK;AACZ,OAAO,MAAM,OAAO,SAAS,OAAO,WAAW;AAC/C,OAAO,OAAO;AACd,OAAO,SAAS,4CAA4C,8CAA8C;AAC1G,OAAO,OAAO,OAAO,MAAM;AAC3B;;AAEA,QAAQ,MAAM,wFAAwF,iBAAiB;AACvH;;;AClC+E;;AAExE;AACA;AACA,IAAI,gBAAM;AACV;AACA;AACA;;AAEP;AACA,WAAW,QAAQ;AACnB,WAAW,eAAe;AAC1B,WAAW,eAAe;AAC1B,WAAW,QAAQ;AACnB,WAAW,mBAAmB;AAC9B,WAAW,mBAAmB;AAC9B,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB;AACO;AACP,SAAS;AACT;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP,8EAA8E,qBAAqB;AACnG;;AAEA;AACA,WAAW,QAAQ;AACnB;AACO;AACP;AACA,0BAA0B,iBAAiB;;AAE3C;AACA;;AAEA;AACA,YAAY;AACZ;AACO,SAAS,cAAI;AACpB;AACA;;AAEA;AACA,YAAY;AACZ;AACO;AACP,4BAA4B,MAAM;;AAElC;AACA;;AAEA;AACA;;AAEA;AACA,YAAY;AACZ;AACO;AACP,wBAAwB,gBAAM,GAAG,MAAM;;AAEvC;AACA;;AAEA;AACA;;AAEA;AACA,YAAY;AACZ;AACO;AACP,QAAQ,MAAM;AACd;;AAEA;AACA,YAAY;AACZ;AACO;AACP;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP,QAAQ,MAAM;AACd;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP,2BAA2B,gBAAM,GAAG,MAAM;AAC1C;;AAEA;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACO;AACP;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP,QAAQ,IAAI;AACZ;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,WAAW,UAAU;AACrB,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kDAAkD,YAAI;AACtD;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA;;AAEA;AACA;;;AChQuD;AAC+C;AACyC;;AAE/I;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP,QAAQ,OAAO,2CAA2C,KAAK;AAC/D;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4CAA4C,IAAI;AAChD;AACA;AACA,2BAA2B,MAAM;AACjC,SAAS,OAAO,eAAe,OAAO,CAAC,OAAO,iCAAiC,GAAG;AAClF;AACA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB;AACA;AACA;AACA,kBAAkB,UAAU;AAC5B;AACA;AACA;AACA,kBAAkB,QAAQ,CAAC,KAAK;AAChC;AACA;AACA;AACA,YAAY,IAAI;AAChB;AACA,MAAM,cAAM,SAAS,SAAS,CAAC,IAAI,IAAI,KAAK;AAC5C,WAAW,KAAK,wBAAwB,KAAK,CAAC,IAAI,kBAAkB,MAAM,gBAAgB,MAAM;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,MAAM;AAC5B,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,yDAAyD,OAAO;AAChE,2BAA2B,MAAM;AACjC,OAAO,cAAM,4CAA4C,yDAAyD,OAAO,0BAA0B;AACnJ;AACA;AACA,8BAA8B;AAC9B,UAAU;AACV;AACA,MAAM,cAAM;;AAEZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA,+DAA+D,cAAM;AACrE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,qDAAqD,IAAI;AACzD;;AAEA,0BAA0B,YAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,MAAM;AAC/B;AACA;AACA;AACA;AACA,UAAU,IAAI;AACd,qBAAqB,OAAO,CAAC,IAAI;;AAEjC,eAAe,IAAI,sBAAsB,MAAM,sBAAsB,UAAU,CAAC,KAAK;AACrF;AACA;AACA;AACA,6BAA6B,MAAM;AACnC;AACA;AACA;;AAEA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY;AACZ;AACO;AACP;AACA;AACA,YAAY,MAAM;;AAElB,+BAA+B,WAAW;AAC1C,sBAAsB,MAAM,yBAAyB,GAAG,6BAA6B,UAAU;AAC/F,WAAW,IAAI,6BAA6B,OAAO;AACnD;;AAEA,QAAQ,IAAI,qCAAqC,OAAO;AACxD;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,UAAU;AACrB,YAAY;AACZ;AACO;AACP,QAAQ,IAAI,sBAAsB,OAAO,EAAE,YAAI,CAAC,cAAI,KAAK,MAAM;AAC/D;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY;AACZ;AACO;AACP,QAAQ,IAAI,sBAAsB,WAAW,EAAE,MAAM,oBAAoB,MAAM;AAC/E;;;;;;;ACtMkD;AAGA;AACA;AACA;AACA;AACA;AAGA;AACA;AAQA;AAGA;AAGA;AA2BA;;AAElD;AACmC;;AAEnC;AACA;AACA,+BAA+B,iCAAM;AACrC;AACA,CAAC;AACD,6BAA6B,iCAAM;AACnC,UAAU,oBAAoB,QAAQ,oGAAsD;AAC5F,WAAW;AACX,CAAC;AACD,IAAI,mBAAM;AACV;AACA;AACA;AACA;AACA,yBAAyB,mBAAM;;AAE/B;AACA;AACA,gCAAgC,iCAAM;AACtC;AACA;AACA;AACA;AACA,CAAC;AACD,8BAA8B,iCAAM;AACpC,UAAU,oBAAoB,QAAQ,qGAAwD;AAC9F,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,iCAAM;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,8BAA8B,iCAAM;AACpC,UAAU,oBAAoB,QAAQ,qGAAwD;AAC9F,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,iCAAM;AACtC;AACA,CAAC;AACD,8BAA8B,iCAAM;AACpC,UAAU,oBAAoB,QAAQ,qGAAsD;AAC5F,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,iCAAM;AACtC;AACA,CAAC;AACD,8BAA8B,iCAAM;AACpC,UAAU,oBAAoB,QAAQ,6KAA4D;AAClG,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,iCAAM;AACtC;AACA,CAAC;AACD,8BAA8B,iCAAM;AACpC,UAAU,oBAAoB,QAAQ,qGAAyD;AAC/F,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,iCAAM;AACtC;AACA,CAAC;AACD,8BAA8B,iCAAM;AACpC,UAAU,oBAAoB,QAAQ,6KAAwD;AAC9F,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,iCAAM;AACtC;AACA,CAAC;AACD,8BAA8B,iCAAM;AACpC,UAAU,oBAAoB,QAAQ,4KAAuD;AAC7F,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,iCAAM;AACtC;AACA,CAAC;AACD,8BAA8B,iCAAM;AACpC,UAAU,oBAAoB,QAAQ,qGAA4D;AAClG,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,iCAAM;AACvC;AACA,CAAC;AACD,+BAA+B,iCAAM;AACrC,UAAU,oBAAoB,QAAQ,qGAA2D;AACjG,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,iCAAM;AACvC;AACA,CAAC;AACD,+BAA+B,iCAAM;AACrC,UAAU,oBAAoB,QAAQ,qGAA+D;AACrG,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,iCAAM;AACvC;AACA,CAAC;AACD,+BAA+B,iCAAM;AACrC,UAAU,oBAAoB,QAAQ,qGAA4D;AAClG,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,iCAAM;AACvC;AACA;AACA;AACA;AACA,CAAC;AACD,+BAA+B,iCAAM;AACrC,UAAU,oBAAoB,QAAQ,+IAAyD;AAC/F,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,iCAAM;AACvC;AACA;AACA;AACA;AACA,CAAC;AACD,+BAA+B,iCAAM;AACrC,UAAU,oBAAoB,QAAQ,+IAA4D;AAClG,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,iCAAM;AACvC;AACA;AACA;AACA;AACA,CAAC;AACD,+BAA+B,iCAAM;AACrC,UAAU,oBAAoB,QAAQ,0MAAyD;AAC/F,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,iCAAM;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,+BAA+B,iCAAM;AACrC,UAAU,oBAAoB,QAAQ,+IAA4D;AAClG,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,iCAAM;AACvC;AACA,CAAC;AACD,+BAA+B,iCAAM;AACrC,UAAU,oBAAoB,QAAQ,qGAA2D;AACjG,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,iCAAM;AACjC,EAAE,0BAAG;AACL,cAAc,0CAAgB;AAC9B;AACA;AACA,EAAE,2CAAgB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gKAAgK,QAAQ;AACxK,CAAC;AACD,iBAAiB;AACjB;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA,2BAA2B,iCAAM;AACjC;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,iCAAM,kBAAkB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,+BAA+B,iCAAM;AACrC,UAAU,oBAAoB,QAAQ,qGAAwD;AAC9F,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,iCAAM;AACvC;AACA,CAAC;AACD,+BAA+B,iCAAM;AACrC,UAAU,oBAAoB,QAAQ,qGAAgE;AACtG,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,iCAAM;AACvC;AACA,CAAC;AACD,+BAA+B,iCAAM;AACrC,UAAU,oBAAoB,QAAQ,+IAA+D;AACrG,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,iCAAM;AACvC;AACA,CAAC;AACD,+BAA+B,iCAAM;AACrC,UAAU,oBAAoB,QAAQ,qGAA8D;AACpG,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,iCAAM;AACvC;AACA,CAAC;AACD,+BAA+B,iCAAM;AACrC,UAAU,oBAAoB,QAAQ,qGAA0D;AAChG,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,iCAAM;AACvC;AACA,CAAC;AACD,+BAA+B,iCAAM;AACrC,UAAU,oBAAoB,QAAQ,6KAAoD;AAC1F,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,iCAAM;AACvC;AACA,CAAC;AACD,+BAA+B,iCAAM;AACrC,UAAU,oBAAoB,QAAQ,4KAAoD;AAC1F,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,iCAAM;AACvC;AACA,CAAC;AACD,+BAA+B,iCAAM;AACrC,UAAU,oBAAoB,QAAQ,gJAAyD;AAC/F,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,iCAAM;AACvC;AACA,CAAC;AACD,+BAA+B,iCAAM;AACrC,UAAU,oBAAoB,QAAQ,0MAAgE;AACtG,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,iCAAM;AACxC;AACA;AACA;AACA;AACA,EAAE,0CAAe;AACjB;AACA,GAAG;AACH,EAAE,0CAAe;AACjB;AACA;AACA;AACA;AACA,+BAA+B,iCAAM;AACrC,SAAS;AACT,OAAO;AACP,gBAAgB;AAChB;AACA;AACA,8BAA8B,iCAAM;AACpC,SAAS;AACT,OAAO;AACP;AACA,+BAA+B,iCAAM;AACrC;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,4BAA4B,iCAAM;AAClC;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,EAAE,qDAA0B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,6CAA6C,iCAAM;AACnD,EAAE,0BAAG;AACL;AACA,mBAAmB,gCAAS,qBAAqB,wCAAwC;AACzF;AACA;AACA,UAAU,qCAAU;AACpB,UAAU;AACV;AACA,oBAAoB,8BAA8B;AAClD,YAAY,0CAAe;AAC3B,YAAY;AACZ,YAAY,0BAAG,mDAAmD,IAAI;AACtE,mBAAmB,gCAAS;AAC5B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,IAAI,0BAAG,yBAAyB,eAAe;AAC/C;AACA,MAAM,0BAAG;AACT;AACA,sCAAsC,eAAe;AACrD;AACA,CAAC;;AAED;AAC4B;AAC2B;AACrB;AACS;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAM;AACN;AACA;AACA;AACA;AACA;AACA,iCAAiC,OAAO;AACxC;AACA;AACA;AACA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA;AACA;AACA,iCAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,iCAAM;AACV;AACA,2CAA2C;AAC3C,mBAAmB,oCAAS;AAC5B,iBAAiB,qCAAU;AAC3B,WAAW,yCAAc;AACzB;AACA,MAAM,qCAAU;AAChB,MAAM;AACN,uBAAuB,2CAAgB;AACvC;AACA,kBAAkB,0CAAmB,YAAY,MAAM;AACvD;AACA,cAAc,8BAA8B;AAC5C,MAAM,0CAAe;AACrB;AACA,YAAY,+CAA+C,EAAE,qCAAU;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC,iCAAM;AAC5C;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA,sCAAsC,iCAAM;AAC5C,iCAAiC;AACjC,CAAC;;AAED;AACA;AACA,6BAA6B,uCAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,8BAAI;AACnB;AACA;AACA,YAAY,iCAAW;AACvB,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAM;;AAEN;AACA,kCAAkC,iCAAM;AACxC;AACA;AACA;AACA;AACA,CAAC;AACD,yCAAyC,iCAAM;AAC/C,UAAU,iBAAiB;AAC3B,UAAU,kCAAkC;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,CAAC;AACD,wCAAwC,iCAAM;AAC9C,wBAAwB,oCAAa;AACrC,yBAAyB,oCAAa;AACtC;AACA,gDAAgD,MAAM;AACtD,IAAI;AACJ;AACA;AACA;AACA,UAAU,2CAAgB;AAC1B;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,iBAAiB,wCAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA,iCAAM;;AAEN;AACA;AACA,4CAA4C,yCAAyC;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,SAAS;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,gCAAK;AACP,EAAE,uCAAY,uBAAuB;AACrC;AACA;AACA,iCAAM;AACN,eAAe,kBAAK;AACpB;AACA;AACA,YAAY,eAAe;AAC3B;AACA,aAAa;AACb,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,iCAAM,CAAC,kBAAK;AACZ,yCAAyC,iCAAM;AAC/C;AACA,GAAG,UAAU,EAAE,WAAW,EAAE,8BAA8B,IAAI,aAAa;AAC3E,CAAC;AACD,sCAAsC,iCAAM;AAC5C;AACA;AACA;AACA,EAAE,gBAAgB;AAClB;AACA;AACA;AACA,QAAQ,yBAAyB,mBAAmB;AACpD;AACA;AACA;AACA,QAAQ,6BAA6B,sBAAsB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,0BAAO;AAClB;AACA;AACA,SAAS;AACT;AACA,WAAW,0BAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD,uCAAuC,iCAAM;AAC7C;AACA,oBAAoB,yCAAc;AAClC,SAAS,SAAS,CAAC,OAAO,IAAI,OAAO,EAAE,WAAW,IAAI,SAAS;AAC/D,CAAC;AACD,qCAAqC,iCAAM;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,yCAAc;AAC/B;AACA;AACA,CAAC;AACD,oCAAoC,iCAAM;AAC1C;AACA,oDAAoD,kBAAkB,IAAI,QAAQ;AAClF,iCAAiC,cAAc,SAAS,QAAQ,EAAE,cAAc,sBAAsB,cAAc,SAAS,iBAAiB,aAAa,oBAAoB;AAC/K,IAAI;AACJ;AACA,CAAC;AACD,oCAAoC,iCAAM;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,sFAAsF,aAAa;AACnG;AACA,iCAAM;AACN,6CAA6C,iCAAM;AACnD;AACA;AACA;AACA,CAAC;AACD,6BAA6B,iCAAM;AACnC;AACA;AACA;AACA,iBAAiB,oCAAS;AAC1B,EAAE,0BAAG;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,iCAAM;AACnD;AACA,iBAAiB,sBAAM;AACvB;AACA;AACA;AACA,GAAG;AACH,aAAa,sBAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,sBAAM;AAC3C,aAAa,sBAAM;AACnB;AACA,MAAM;AACN,aAAa,sBAAM;AACnB;AACA,8DAA8D,WAAW;AACzE,IAAI;AACJ;AACA;AACA,qCAAqC,sBAAM;AAC3C,aAAa,sBAAM;AACnB;AACA,MAAM;AACN,aAAa,sBAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,wBAAwB;AAClE,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,qCAAe;AACxD,IAAI;AACJ;AACA;AACA,MAAM;AACN,6CAA6C,qCAAe;AAC5D;AACA;AACA;AACA,iCAAiC,yBAAyB;AAC1D;AACA;AACA;AACA,sBAAsB,KAAK;AAC3B;AACA,EAAE,0BAAG;AACL,iDAAiD,mCAAQ;AACzD;AACA;AACA;AACA,IAAI;AACJ,cAAc,wBAAS;AACvB;AACA;AACA,iCAAiC;AACjC,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oCAAoC;AACpC,kBAAkB,kDAAuB,GAAG;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,mDAAwB;AAC1B,yCAAyC,qCAAc;AACvD,6BAA6B,qCAAc;AAC3C;AACA;AACA,IAAI;AACJ,6BAA6B,qCAAc;AAC3C;AACA,+CAA+C,wCAAa,YAAY,wCAAa;AACrF,EAAE,sCAAW;AACb;AACA;AACA,iCAAM;AACN,yCAAyC,iCAAM,qBAAqB;AACpE,UAAU,OAAO;AACjB;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,iCAAM;AACN;AACA;AACA,OAAO;AACP;AACA;AACA,WAAW;AACX,WAAW;AACX,eAAe;AACf,kBAAkB;AAClB,yBAAyB,iCAAM;AAC/B,IAAI,gCAAK;AACT,GAAG;AACH,+BAA+B,iCAAM;AACrC,IAAI,gCAAK,CAAC,oCAAa;AACvB,GAAG;AACH,eAAe;AACf,CAAC;AACD,sCAAW,CAAC,oCAAS;AACrB,gCAAK,CAAC,oCAAS;;AAEf;AACA,kCAAkC,iCAAM;AACxC,EAAE,0BAAG;AACL,MAAM,0CAAe;AACrB;AACA;AACA;AACA,kBAAkB,qCAAqC;AACvD,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,CAAC;AACD,0BAA0B,iCAAM;AAChC;AACA,CAAC;AACD;AACA;AACA,IAAI;AACJ,QAAQ,0CAAe;AACvB,MAAM,0BAAG;AACT;AACA;AACA;AACA;AACA;AACA,MAAM,0BAAG;AACT;AACA;AACA;AACA,CAAC;AACD,sCAAsC,iCAAM,kBAAkB,2CAA2C;AACzG;AACA,CAAC;AACD;AACA,EAAE,0BAAG,UAAU,iCAAiC;AAChD;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA,EAAE,0BAAG,gBAAgB,uBAAuB;AAC5C;AACA,IAAI,0BAAG;AACP,kCAAkC,gCAAgC;AAClE;AACA,0BAA0B,oCAAa;AACvC;AACA;AACA;AACA,IAAI,0BAAG;AACP;AACA;AACA;AACA;AACA,4BAA4B,mBAAmB;AAC/C;AACA,UAAU,qBAAM,CAAC,oCAAa;AAC9B,kBAAkB,oCAAa;AAC/B;AACA,MAAM,0BAAG;AACT;AACA;AACA,cAAc,qBAAqB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kCAAkC,iCAAM;AACxC;AACA,CAAC;AACD,2BAA2B,iCAAM;AACjC,EAAE,0BAAG;AACL;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,IAAI;AACJ;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,CAAC;AACD,+CAA+C,iCAAM;AACrD;AACA,EAAE,IAAI;AACN;AACA,EAAE,qDAA0B;AAC5B;AACA;AACA;AACA,CAAC;AACD,oCAAoC,iCAAM;AAC1C;AACA,YAAY,cAAc;AAC1B;AACA,mCAAmC,0BAAG;AACtC;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,2CAA2C,iCAAM;AACjD;AACA,CAAC;AACD;AACA;AACA,mCAAmC,iCAAM;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,QAAQ,0BAAG;AACX;AACA;AACA;AACA;AACA,CAAC;AACD,6BAA6B,iCAAM;AACnC;AACA,wCAAwC,iCAAM;AAC9C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,UAAU,0BAAG;AACb;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH,CAAC;AACD,8BAA8B,iCAAM;AACpC;AACA,wCAAwC,iCAAM;AAC9C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,UAAU,0BAAG;AACb;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA,YAAY;AACZ,mBAAmB;AACnB;AACA;AAGE;AACF;AACA;AACA;AACA;;;;;;;;;;;;ACpzCA,kBAAkB,gBAAgB,yDAAyD,kBAAkB,aAAa,gDAAgD,gBAAgB,gCAAgC,sBAAsB,mFAAmF,+BAA+B,wBAAwB,WAAW,kBAAkB,eAAe,uEAAuE,WAAW,iBAAiB,WAAW,6BAA6B,aAAa,KAAK,sBAAsB,gBAAgB,4BAA4B,QAAQ,oFAAoF,GAAG,uJAAuJ,yBAAyB,KAAK,mBAAmB,EAAE,aAAa,SAAS,YAAY,2BAA2B,QAAQ,6BAA6B,QAAQ,WAAW,EAAE,GAAG,qKAAqK,WAAW,MAAM,YAAY,qBAAqB,8BAA8B,kDAAkD,oBAAoB,kCAAkC,OAAO,SAAS,QAAQ,MAAM,2BAA2B,iBAAiB,WAAW,sCAAsC,SAAS,SAAS,gBAAgB,MAAM,0BAA0B,mBAAmB,sDAAsD,QAAQ,sHAAsH,QAAQ,eAAe,cAAc,kBAAkB,+BAA+B,mBAAmB,eAAe,OAAO,6CAA6C,iBAAiB,WAAW,yFAAyF,UAAU,cAAc,oBAAoB,8DAA8D,kBAAkB,kBAAkB,mBAAmB,0CAA0C,4BAA4B,IAAI,aAAa,2EAA2E,uFAAuF,OAAO,8CAA8C,kBAAkB,kBAAkB,kDAAkD,IAAI,+BAA+B,4BAA4B,oCAAoC,QAAQ,eAAe,cAAc,kBAAkB,8BAA8B,IAAI,eAAe,GAAG,6BAA6B,iBAAiB,WAAW,mBAAmB,0CAA0C,mBAAmB,yBAAyB,YAAY,kBAAkB,kGAAkG,YAAY,IAAI,KAAK,iGAAiG,kBAAkB,OAAO,0BAA0B,QAAQ,eAAe,cAAc,kBAAkB,eAAe,OAAO,4CAA4C,gBAAgB,yJAAyJ,sBAAsB,qDAAqD,kBAAkB,2BAA2B,2CAA2C,YAAY,IAAI,KAAK,kKAAkK,6DAA6D,MAAM,QAAQ,eAAe,cAAc,kBAAkB,gHAAgH,IAAI,eAAe,GAAG,OAAO,+CAA+C,mBAAmB,WAAW,sBAAsB,mCAAmC,kBAAkB,2BAA2B,2CAA2C,YAAY,IAAI,KAAK,yMAAyM,iHAAiH,MAAM,WAAW,QAAQ,eAAe,YAAY,OAAO,uFAAuF,qBAAqB,iFAAiF,gBAAgB,kBAAkB,cAAc,yBAAyB,kBAAkB,KAAK,OAAO,2DAA2D,0DAA0D,sBAAsB,8BAA8B,KAAK,oFAAoF,aAAa,eAAe,sBAAsB,EAAE,8BAA8B,oBAAoB,eAAe,GAAG,IAAI,uBAAuB,KAAK,QAAQ,EAAE,QAAQ,WAAW,cAAc,iDAAiD,yBAAyB,8CAA8C,4DAA4D,YAAY,MAAM,KAAK,aAAa,gEAAgE,oBAAoB,6DAA6D,SAAS,cAAc,yDAAyD,SAAS,cAAc,oBAAoB,WAAW,UAAU,aAAa,eAAe,gBAAgB,oBAAoB,kBAAkB,MAAM,gCAAgC,mBAAmB,UAAU,MAAM,gBAAgB,oBAAoB,UAAU,MAAM,gCAAgC,mBAAmB,EAAE,MAAM,gBAAgB,oBAAoB,gBAAgB,MAAM,SAAS,oCAAoC,QAAQ,eAAe,gBAAgB,MAAM,gBAAgB,oBAAoB,gBAAgB,MAAM,SAAS,oCAAoC,QAAQ,eAAe,gBAAgB,MAAM,gBAAgB,oBAAoB,gBAAgB,MAAM,gCAAgC,4CAA4C,EAAE,MAAM,gBAAgB,oBAAoB,SAAS,MAAM,wBAAwB,iBAAiB,EAAE,MAAM,gBAAgB,oBAAoB,SAAS,MAAM,wBAAwB,iBAAiB,EAAE,MAAM,gBAAgB,oBAAoB,gBAAgB,MAAM,SAAS,oCAAoC,QAAQ,eAAe,gBAAgB,MAAM,gBAAgB,oBAAoB,gBAAgB,MAAM,gCAAgC,mBAAmB,EAAE,MAAM,wBAAwB,gBAAgB,UAAU,SAAS,cAAc,WAAW,iCAAiC,UAAU,aAAa,MAAM,UAAU,gBAAgB,oBAAoB,kBAAkB,MAAM,gBAAgB,oBAAoB,8BAA8B,MAAM,gBAAgB,oBAAoB,UAAU,MAAM,uBAAuB,mBAAmB,EAAE,MAAM,uBAAuB,mBAAmB,EAAE,MAAM,SAAS,YAAY,yDAAyD,wBAAwB,8BAA8B,MAAM,SAAS,aAAa,YAAY,iDAAiD,8DAA8D,QAAQ,2BAA2B,kBAAkB,MAAM,SAAS,yEAAyE,QAAQ,2BAA2B,kBAAkB,MAAM,SAAS,2EAA2E,wBAAwB,2BAA2B,UAAU,sBAAsB,0CAA0C,QAAQ,eAAe,EAAE,WAAW,MAAM,gBAAgB,gBAAgB,UAAU,IAAI,SAAS,kBAAkB,gEAAgE,gCAAgC,4BAA4B,MAAM,yBAAyB,iBAAiB,KAAK,gCAAgC,0BAA0B,0BAA0B,gCAAgC,0FAA0F,gQAAgQ,UAAU,gCAAgC,kBAAkB,mHAAmH,MAAM,kJAAkJ,gEAAgE,oBAAoB,WAAW,YAAY,WAAW,MAAM,mFAAmF,wCAAwC,UAAU,SAAS,yBAAyB,cAAc,qCAAqC,gBAAgB,6BAA6B,iBAAiB,wBAAwB,mCAAmC,yBAAyB,sBAAsB,OAAO,8BAA8B,kBAAkB,uBAAuB,QAAQ,WAAW,YAAY,MAAM,wDAAwD,+DAA+D,mBAAmB,mDAAmD,oBAAoB,sBAAsB,qBAAqB,iBAAiB,sCAAsC,gBAAgB,aAAa,uIAAuI,YAAY,WAAW,KAAK,aAAa,aAAa,gGAAgG,0CAA0C,2CAA2C,OAAO,6BAA6B,OAAO,oBAAoB,kBAAkB,oKAAoK,oCAAoC,yBAAyB,gCAAgC,uBAAuB,oBAAoB,0EAA0E,kBAAkB,2CAA2C,4DAA4D,cAAc,OAAO,yBAAyB,oBAAoB,8BAA8B,cAAc,oCAAoC,4BAA4B,YAAY,KAAK,IAAI,2BAA2B,iCAAiC,kFAAkF,0BAA0B,+BAA+B,aAAa,qHAAqH,uBAAuB,EAAE,mDAAmD,IAAI,mBAAmB,gBAAgB,wBAAwB,oBAAoB,UAAU,aAAa,eAAe,oCAAoC,MAAM,0DAA0D,MAAM,SAAS,qBAAqB,sCAAsC,MAAM,0DAA0D,OAAO,mBAAmB,gBAAgB,WAAW,8BAA8B,4CAA4C,QAAQ,QAAQ,+CAA+C,EAAE,YAAY,IAAI,YAAY,iDAAiD,GAAG,OAAO,uBAAuB,gBAAgB,qBAAqB,6BAA6B,mBAAmB,mCAAmC,MAAM,wCAAwC,MAAM,iCAAiC,MAAM,mCAAmC,MAAM,wCAAwC,MAAM,0CAA0C,YAAY,wBAAwB,cAAc,wBAAwB,IAAI,uDAAuD,cAAc,yEAAyE,sBAAsB,oCAAoC,oBAAoB,mBAAmB,2BAA2B,6EAA6E,cAAc,2BAA2B,mBAAmB,0BAA0B,uDAAuD,QAAQ,wCAAwC,+BAA+B,oBAAoB,yBAAyB,0FAA0F,sBAAsB,8DAA8D,qBAAqB,yCAAyC,UAAU,mDAAmD,aAAa,iHAAiH,UAAU,iHAAiH,IAAI,kBAAkB,sBAAsB,WAAW,gFAAgF,YAAY,WAAW,oGAAoG,mBAAmB,kBAAkB,sBAAsB,QAAQ,gCAAgC,QAAQ,iCAAiC,EAAE,YAAY,MAAM,KAAK,aAAa,4MAA4M,qEAAqE,EAAE,oBAAoB,8BAA8B,QAAQ,2CAA2C,GAAG,oBAAoB,iCAAiC,UAAU,qEAAqE,gEAAgE,SAAS,4BAA4B,gBAAgB,oBAAoB,iDAAiD,YAAY,aAAa,MAAM,0CAA0C,oBAAoB,oFAAoF,KAAK,0BAA0B,kEAAkE,wBAAwB,YAAY,IAAI,MAAM,wDAAwD,oBAAoB,kOAAkO,YAAY,8BAA8B,uBAAuB,kEAAkE,YAAY,KAAK,6DAA6D,uGAAuG,4BAA4B,sEAAsE,YAAY,sDAAsD,YAAY,IAAI,kBAAkB,2BAA2B,UAAU,2DAA2D,8CAA8C,+EAA+E,EAAE,SAAS,cAAc,aAAa,kBAAkB,iBAAiB,mEAAmE,WAAW,iDAAiD,KAAK,WAAW,kBAAkB,YAAY,WAAW,8CAA8C,iBAAiB,gBAAgB,YAAY,aAAa,KAAK,aAAa,4NAA4N,SAAS,gBAAgB,mDAAmD,kBAAkB,eAAe,uBAAuB,0DAA0D,iDAAiD,kBAAkB,8CAA8C,oBAAoB,cAAc,iBAAiB,0CAA0C,yBAAyB,KAAK,yBAAyB,KAAK,yBAAyB,KAAK,yBAAyB,sCAAsC,SAAS,eAAe,aAAa,qDAAqD,eAAe,eAAe,KAAK,iHAAiH,sCAAsC,QAAQ,SAAS,gBAAgB,yBAAyB,sBAAsB,8BAA8B,YAAY,cAAc,MAAM,KAAK,oBAAoB,eAAe,sFAAsF,sBAAsB,4BAA4B,YAAY,IAAI,KAAK,aAAa,kCAAkC,gBAAgB,SAAS,eAAe,qBAAqB,yUAAyU,kBAAkB,yEAAyE,iBAAiB,uCAAuC,MAAM,yBAAyB,4CAA4C,UAAU,OAAO,mDAAmD,gBAAgB,mBAAmB,wCAAwC,qBAAqB,uCAAuC,WAAW,0CAA0C,wDAAwD,yDAAyD,mBAAmB,gDAAgD,oCAAoC,yBAAyB,4BAA4B,sCAAsC,6DAA6D,gBAAgB,gCAAgC,0BAA0B,gBAAgB,mBAAmB,2CAA2C,wBAAwB,gDAAgD,uCAAuC,wBAAwB,IAAI,wBAAwB,+BAA+B,4BAA4B,oCAAoC,cAAc,oCAAoC,4BAA4B,YAAY,KAAK,IAAI,2BAA2B,iCAAiC,oCAAoC,YAAY,KAAK,+CAA+C,wEAAwE,iBAAiB,mDAAmD,WAAW,iCAAiC,iDAAiD,0CAA0C,KAAK,mFAAmF,GAAG,QAAQ,6CAA6C,EAAE,KAAK,eAAe,aAAa,uCAAuC,0JAA0J,2BAA2B,qDAAqD,aAAa,oCAAoC,yHAAyH,UAAU,wBAAwB,iCAAiC,0EAA0E,iIAAiI,wBAAwB,sBAAsB,aAAa,oCAAoC,QAAQ,gCAAgC,UAAU,aAAa,eAAe,oCAAoC,MAAM,gCAAgC,MAAM,sBAAsB,iCAAiC,oBAAoB,4DAA4D,MAAM,gCAAgC,mBAAmB,WAAW,kBAAkB,eAAe,oBAAoB,SAAS,6DAA6D,+CAA+C,0CAA0C,KAAK,mFAAmF,GAAG,QAAQ,6CAA6C,EAAE,oBAAoB,oBAAoB,4BAA4B,kBAAkB,kCAAkC,eAAe,SAAS,sBAAsB,uEAAuE,aAAa,kBAAkB,MAAM,EAAE,MAAM,EAAE,MAAM,sBAAsB,MAAM,EAAE,KAAK,IAAI,MAAM,EAAE,KAAK,IAAI,MAAM,EAAE,MAAM,EAAE,MAAM,oBAAoB,MAAM,EAAE,MAAM,GAAG,gBAAgB,WAAW,yDAAyD,kBAAkB,WAAW,eAAe,cAAc,uEAAuE,MAAM,kBAAkB,6DAA6D,MAAM,wCAAwC,aAAa,SAAS,gBAAgB,mBAAmB,iCAAiC,6DAA6D,gBAAgB,gDAAgD,SAAS,iBAAiB,uEAAuE,QAAQ,wGAAwG,gCAAgC,gQAAgQ,MAAM,gBAAgB,gCAAgC,qFAAqF,yCAAyC,MAAM,yCAAyC,kBAAkB,mBAAmB,oPAAoP,kCAAkC,cAAc,sBAAsB,uEAAuE,aAAa,+BAA+B,MAAM,8DAA8D,MAAM,kCAAkC,yCAAyC,gBAAgB,gBAAgB,oBAAoB,+BAA+B,gBAAgB,iCAAiC,sBAAsB,qBAAqB,sCAAsC,sBAAsB,mBAAmB,oCAAoC,sBAAsB,gBAAgB,iCAAiC,sBAAsB,gBAAgB,iCAAiC,sBAAsB,aAAa,8BAA8B,sBAAsB,wBAAwB,sCAAsC,sBAAsB,WAAW,4BAA4B,sBAAsB,UAAU,2BAA2B,uBAAuB,sCAAsC,SAAS,iBAAiB,8BAA8B,QAAQ,mKAAmK,kBAAkB,WAAW,eAAe,uVAAuV,uBAAuB,GAAG,MAAM,yQAAyQ,MAAM,0CAA0C,oBAAoB,SAAS,kBAAkB,mBAAmB,yBAAyB,qCAAqC,4TAA4T,qBAAqB,KAAK,gBAAgB,gBAAgB,oBAAoB,+BAA+B,eAAe,+BAA+B,gBAAgB,iCAAiC,oBAAoB,qBAAqB,sCAAsC,oBAAoB,mBAAmB,oCAAoC,oBAAoB,gBAAgB,iCAAiC,oBAAoB,gBAAgB,iCAAiC,oBAAoB,aAAa,8BAA8B,oBAAoB,wBAAwB,sCAAsC,oBAAoB,WAAW,4BAA4B,oBAAoB,UAAU,2BAA2B,qBAAqB,QAAQ,kGAAwH;;;;;;;;;;;;ACA5l2B;AACP;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,YAAY,+HAA+H;AACxM;AACA;AACA,KAAK;AACL;AACA,4CAA4C,4CAA4C;AACxF,+CAA+C,sCAAsC;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sEAAe,sDAAM,IAAC;AACtB&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@braintree/sanitize-url/dist/constants.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@braintree/sanitize-url/dist/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/dayjs/dayjs.min.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/dompurify/dist/purify.es.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/channels/type.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/channels/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/channels/reusable.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/color/hex.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/color/hsl.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/color/keyword.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/color/rgb.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/color/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/constants.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/methods/adjust_channel.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/methods/change.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/methods/darken.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/methods/luminance.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/methods/is_light.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/methods/is_dark.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/methods/lighten.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/methods/rgba.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/utils/channel.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/utils/lang.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/utils/unit.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/utils/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_listCacheClear.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_assocIndexOf.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_listCacheDelete.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_listCacheGet.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_listCacheHas.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_listCacheSet.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_ListCache.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_Map.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_nativeCreate.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_hashClear.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_hashDelete.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_hashGet.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_hashHas.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_hashSet.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_Hash.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_mapCacheClear.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_isKeyable.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_getMapData.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_mapCacheDelete.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_mapCacheGet.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_mapCacheHas.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_mapCacheSet.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_MapCache.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_Set.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_stackClear.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_stackDelete.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_stackGet.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_stackHas.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_stackSet.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_Stack.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_Symbol.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_Uint8Array.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_baseTimes.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_arrayLikeKeys.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_assignValue.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_baseAssignValue.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_createBaseFor.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_baseFor.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_getRawTag.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_objectToString.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_baseGetTag.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_nativeKeys.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_baseKeys.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_baseRest.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_baseUnary.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_cloneArrayBuffer.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_cloneBuffer.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_cloneTypedArray.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_copyArray.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_copyObject.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_createAssigner.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_defineProperty.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_freeGlobal.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_coreJsData.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_isMasked.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_baseIsNative.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_getValue.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_getNative.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_getPrototype.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_DataView.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_Promise.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_WeakMap.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_getTag.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_baseCreate.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_initCloneObject.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_isIndex.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_isIterateeCall.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_isPrototype.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_nodeUtil.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_overArg.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_apply.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_overRest.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_root.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_baseSetToString.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_shortOut.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_setToString.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_toSource.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/constant.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/eq.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/identity.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_baseIsArguments.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/isArguments.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/isArray.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/isArrayLike.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/isArrayLikeObject.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/stubFalse.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/isBuffer.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/isEmpty.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/isFunction.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/isLength.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/isObject.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/isObjectLike.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_baseIsTypedArray.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/isTypedArray.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_nativeKeysIn.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_baseKeysIn.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/keysIn.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/memoize.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_assignMergeValue.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/isPlainObject.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_safeGet.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/toPlainObject.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_baseMergeDeep.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/_baseMerge.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/lodash-es/merge.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mermaid/dist/chunks/mermaid.core/chunk-5NNNAHNI.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mermaid/dist/chunks/mermaid.core/chunk-6JRP7KZX.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mermaid/dist/chunks/mermaid.core/chunk-7B677QYD.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mermaid/dist/chunks/mermaid.core/chunk-C3MQ5ANM.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@iconify/utils/lib/icon/name.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@iconify/utils/lib/icon/defaults.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@iconify/utils/lib/icon/transformations.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@iconify/utils/lib/icon/merge.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@iconify/utils/lib/icon-set/tree.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@iconify/utils/lib/icon-set/get-icon.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@iconify/utils/lib/customisations/defaults.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@iconify/utils/lib/svg/size.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@iconify/utils/lib/svg/defs.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@iconify/utils/lib/svg/build.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@iconify/utils/lib/svg/html.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@iconify/utils/lib/svg/id.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mermaid/dist/chunks/mermaid.core/chunk-H2D2JQ3I.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mermaid/dist/chunks/mermaid.core/chunk-HRU6DDCH.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mermaid/dist/chunks/mermaid.core/chunk-IIMUDSI4.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mermaid/dist/chunks/mermaid.core/chunk-K557N5IZ.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mermaid/dist/chunks/mermaid.core/chunk-O4NI6UNU.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mermaid/dist/chunks/mermaid.core/chunk-TYCBKAJE.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mermaid/dist/chunks/mermaid.core/chunk-VV3M67IP.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/methods/adjust.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/methods/mix.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/khroma/dist/methods/invert.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mermaid/dist/chunks/mermaid.core/chunk-YTJNT7DU.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/stylis/src/Enum.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/stylis/src/Utility.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/stylis/src/Serializer.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/stylis/src/Tokenizer.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/stylis/src/Parser.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mermaid/dist/mermaid.core.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/roughjs/bundled/rough.esm.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ts-dedent/esm/index.js&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.BLANK_URL = exports.relativeFirstCharacters = exports.whitespaceEscapeCharsRegex = exports.urlSchemeRegex = exports.ctrlCharactersRegex = exports.htmlCtrlEntityRegex = exports.htmlEntitiesRegex = exports.invalidProtocolRegex = void 0;</span><span class="s3">\n</span><span class="s1">exports.invalidProtocolRegex = /^([^</span><span class="s3">\\</span><span class="s1">w]*)(javascript|data|vbscript)/im;</span><span class="s3">\n</span><span class="s1">exports.htmlEntitiesRegex = /&amp;#(</span><span class="s3">\\</span><span class="s1">w+)(^</span><span class="s3">\\</span><span class="s1">w|;)?/g;</span><span class="s3">\n</span><span class="s1">exports.htmlCtrlEntityRegex = /&amp;(newline|tab);/gi;</span><span class="s3">\n</span><span class="s1">exports.ctrlCharactersRegex = /[</span><span class="s3">\\</span><span class="s1">u0000-</span><span class="s3">\\</span><span class="s1">u001F</span><span class="s3">\\</span><span class="s1">u007F-</span><span class="s3">\\</span><span class="s1">u009F</span><span class="s3">\\</span><span class="s1">u2000-</span><span class="s3">\\</span><span class="s1">u200D</span><span class="s3">\\</span><span class="s1">uFEFF]/gim;</span><span class="s3">\n</span><span class="s1">exports.urlSchemeRegex = /^.+(:|&amp;colon;)/gim;</span><span class="s3">\n</span><span class="s1">exports.whitespaceEscapeCharsRegex = /(</span><span class="s3">\\\\</span><span class="s1">|%5[cC])((%(6[eE]|72|74))|[nrt])/g;</span><span class="s3">\n</span><span class="s1">exports.relativeFirstCharacters = [</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">/</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">exports.BLANK_URL = </span><span class="s3">\&quot;</span><span class="s1">about:blank</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.sanitizeUrl = void 0;</span><span class="s3">\n</span><span class="s1">var constants_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./constants</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function isRelativeUrlWithoutProtocol(url) {</span><span class="s3">\n    </span><span class="s1">return constants_1.relativeFirstCharacters.indexOf(url[0]) &gt; -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function decodeHtmlCharacters(str) {</span><span class="s3">\n    </span><span class="s1">var removedNullByte = str.replace(constants_1.ctrlCharactersRegex, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return removedNullByte.replace(constants_1.htmlEntitiesRegex, function (match, dec) {</span><span class="s3">\n        </span><span class="s1">return String.fromCharCode(dec);</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function isValidUrl(url) {</span><span class="s3">\n    </span><span class="s1">return URL.canParse(url);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function decodeURI(uri) {</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">return decodeURIComponent(uri);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (e) {</span><span class="s3">\n        </span><span class="s1">// Ignoring error</span><span class="s3">\n        </span><span class="s1">// It is possible that the URI contains a `%` not associated</span><span class="s3">\n        </span><span class="s1">// with URI/URL-encoding.</span><span class="s3">\n        </span><span class="s1">return uri;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function sanitizeUrl(url) {</span><span class="s3">\n    </span><span class="s1">if (!url) {</span><span class="s3">\n        </span><span class="s1">return constants_1.BLANK_URL;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var charsToDecode;</span><span class="s3">\n    </span><span class="s1">var decodedUrl = decodeURI(url.trim());</span><span class="s3">\n    </span><span class="s1">do {</span><span class="s3">\n        </span><span class="s1">decodedUrl = decodeHtmlCharacters(decodedUrl)</span><span class="s3">\n            </span><span class="s1">.replace(constants_1.htmlCtrlEntityRegex, </span><span class="s3">\&quot;\&quot;</span><span class="s1">)</span><span class="s3">\n            </span><span class="s1">.replace(constants_1.ctrlCharactersRegex, </span><span class="s3">\&quot;\&quot;</span><span class="s1">)</span><span class="s3">\n            </span><span class="s1">.replace(constants_1.whitespaceEscapeCharsRegex, </span><span class="s3">\&quot;\&quot;</span><span class="s1">)</span><span class="s3">\n            </span><span class="s1">.trim();</span><span class="s3">\n        </span><span class="s1">decodedUrl = decodeURI(decodedUrl);</span><span class="s3">\n        </span><span class="s1">charsToDecode =</span><span class="s3">\n            </span><span class="s1">decodedUrl.match(constants_1.ctrlCharactersRegex) ||</span><span class="s3">\n                </span><span class="s1">decodedUrl.match(constants_1.htmlEntitiesRegex) ||</span><span class="s3">\n                </span><span class="s1">decodedUrl.match(constants_1.htmlCtrlEntityRegex) ||</span><span class="s3">\n                </span><span class="s1">decodedUrl.match(constants_1.whitespaceEscapeCharsRegex);</span><span class="s3">\n    </span><span class="s1">} while (charsToDecode &amp;&amp; charsToDecode.length &gt; 0);</span><span class="s3">\n    </span><span class="s1">var sanitizedUrl = decodedUrl;</span><span class="s3">\n    </span><span class="s1">if (!sanitizedUrl) {</span><span class="s3">\n        </span><span class="s1">return constants_1.BLANK_URL;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (isRelativeUrlWithoutProtocol(sanitizedUrl)) {</span><span class="s3">\n        </span><span class="s1">return sanitizedUrl;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// Remove any leading whitespace before checking the URL scheme</span><span class="s3">\n    </span><span class="s1">var trimmedUrl = sanitizedUrl.trimStart();</span><span class="s3">\n    </span><span class="s1">var urlSchemeParseResults = trimmedUrl.match(constants_1.urlSchemeRegex);</span><span class="s3">\n    </span><span class="s1">if (!urlSchemeParseResults) {</span><span class="s3">\n        </span><span class="s1">return sanitizedUrl;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var urlScheme = urlSchemeParseResults[0].toLowerCase().trim();</span><span class="s3">\n    </span><span class="s1">if (constants_1.invalidProtocolRegex.test(urlScheme)) {</span><span class="s3">\n        </span><span class="s1">return constants_1.BLANK_URL;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var backSanitized = trimmedUrl.replace(/</span><span class="s3">\\\\</span><span class="s1">/g, </span><span class="s3">\&quot;</span><span class="s1">/</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">// Handle special cases for mailto: and custom deep-link protocols</span><span class="s3">\n    </span><span class="s1">if (urlScheme === </span><span class="s3">\&quot;</span><span class="s1">mailto:</span><span class="s3">\&quot; </span><span class="s1">|| urlScheme.includes(</span><span class="s3">\&quot;</span><span class="s1">://</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n        </span><span class="s1">return backSanitized;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// For http and https URLs, perform additional validation</span><span class="s3">\n    </span><span class="s1">if (urlScheme === </span><span class="s3">\&quot;</span><span class="s1">http:</span><span class="s3">\&quot; </span><span class="s1">|| urlScheme === </span><span class="s3">\&quot;</span><span class="s1">https:</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">if (!isValidUrl(backSanitized)) {</span><span class="s3">\n            </span><span class="s1">return constants_1.BLANK_URL;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var url_1 = new URL(backSanitized);</span><span class="s3">\n        </span><span class="s1">url_1.protocol = url_1.protocol.toLowerCase();</span><span class="s3">\n        </span><span class="s1">url_1.hostname = url_1.hostname.toLowerCase();</span><span class="s3">\n        </span><span class="s1">return url_1.toString();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return backSanitized;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">exports.sanitizeUrl = sanitizeUrl;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;!function(t,e){</span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">==typeof exports&amp;&amp;</span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot;</span><span class="s1">!=typeof module?module.exports=e():</span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">==typeof define&amp;&amp;define.amd?define(e):(t=</span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot;</span><span class="s1">!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;var t=1e3,e=6e4,n=36e5,r=</span><span class="s3">\&quot;</span><span class="s1">millisecond</span><span class="s3">\&quot;</span><span class="s1">,i=</span><span class="s3">\&quot;</span><span class="s1">second</span><span class="s3">\&quot;</span><span class="s1">,s=</span><span class="s3">\&quot;</span><span class="s1">minute</span><span class="s3">\&quot;</span><span class="s1">,u=</span><span class="s3">\&quot;</span><span class="s1">hour</span><span class="s3">\&quot;</span><span class="s1">,a=</span><span class="s3">\&quot;</span><span class="s1">day</span><span class="s3">\&quot;</span><span class="s1">,o=</span><span class="s3">\&quot;</span><span class="s1">week</span><span class="s3">\&quot;</span><span class="s1">,c=</span><span class="s3">\&quot;</span><span class="s1">month</span><span class="s3">\&quot;</span><span class="s1">,f=</span><span class="s3">\&quot;</span><span class="s1">quarter</span><span class="s3">\&quot;</span><span class="s1">,h=</span><span class="s3">\&quot;</span><span class="s1">year</span><span class="s3">\&quot;</span><span class="s1">,d=</span><span class="s3">\&quot;</span><span class="s1">date</span><span class="s3">\&quot;</span><span class="s1">,l=</span><span class="s3">\&quot;</span><span class="s1">Invalid Date</span><span class="s3">\&quot;</span><span class="s1">,$=/^(</span><span class="s3">\\</span><span class="s1">d{4})[-/]?(</span><span class="s3">\\</span><span class="s1">d{1,2})?[-/]?(</span><span class="s3">\\</span><span class="s1">d{0,2})[Tt</span><span class="s3">\\</span><span class="s1">s]*(</span><span class="s3">\\</span><span class="s1">d{1,2})?:?(</span><span class="s3">\\</span><span class="s1">d{1,2})?:?(</span><span class="s3">\\</span><span class="s1">d{1,2})?[.:]?(</span><span class="s3">\\</span><span class="s1">d+)?$/,y=/</span><span class="s3">\\</span><span class="s1">[([^</span><span class="s3">\\</span><span class="s1">]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:</span><span class="s3">\&quot;</span><span class="s1">en</span><span class="s3">\&quot;</span><span class="s1">,weekdays:</span><span class="s3">\&quot;</span><span class="s1">Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday</span><span class="s3">\&quot;</span><span class="s1">.split(</span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">),months:</span><span class="s3">\&quot;</span><span class="s1">January_February_March_April_May_June_July_August_September_October_November_December</span><span class="s3">\&quot;</span><span class="s1">.split(</span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">),ordinal:function(t){var e=[</span><span class="s3">\&quot;</span><span class="s1">th</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">st</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">nd</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">rd</span><span class="s3">\&quot;</span><span class="s1">],n=t%100;return</span><span class="s3">\&quot;</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">+t+(e[(n-20)%10]||e[n]||e[0])+</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot;</span><span class="s1">}},m=function(t,e,n){var r=String(t);return!r||r.length&gt;=e?t:</span><span class="s3">\&quot;\&quot;</span><span class="s1">+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e&lt;=0?</span><span class="s3">\&quot;</span><span class="s1">+</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">)+m(r,2,</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">)+</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">+m(i,2,</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">)},m:function t(e,n){if(e.date()&lt;n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i&lt;0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t&lt;0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||</span><span class="s3">\&quot;\&quot;</span><span class="s1">).toLowerCase().replace(/s$/,</span><span class="s3">\&quot;\&quot;</span><span class="s1">)},u:function(t){return void 0===t}},g=</span><span class="s3">\&quot;</span><span class="s1">en</span><span class="s3">\&quot;</span><span class="s1">,D={};D[g]=M;var p=</span><span class="s3">\&quot;</span><span class="s1">$isDayjsObject</span><span class="s3">\&quot;</span><span class="s1">,S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(</span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">==typeof e){var s=e.toLowerCase();D[s]&amp;&amp;(i=s),n&amp;&amp;(D[s]=n,i=s);var u=e.split(</span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">);if(!i&amp;&amp;u.length&gt;1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&amp;&amp;i&amp;&amp;(g=i),i||!r&amp;&amp;g},O=function(t,e){if(S(t))return t.clone();var n=</span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(</span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">==typeof e&amp;&amp;!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">).substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)&lt;=n&amp;&amp;n&lt;=this.endOf(e)},m.isAfter=function(t,e){return O(t)&lt;this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)&lt;O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(</span><span class="s3">\&quot;</span><span class="s1">s</span><span class="s3">\&quot;</span><span class="s1">),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=</span><span class="s3">\&quot;</span><span class="s1">set</span><span class="s3">\&quot;</span><span class="s1">+(this.$u?</span><span class="s3">\&quot;</span><span class="s1">UTC</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;\&quot;</span><span class="s1">);switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y&lt;g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+</span><span class="s3">\&quot;</span><span class="s1">Hours</span><span class="s3">\&quot;</span><span class="s1">,0);case u:return $(v+</span><span class="s3">\&quot;</span><span class="s1">Minutes</span><span class="s3">\&quot;</span><span class="s1">,1);case s:return $(v+</span><span class="s3">\&quot;</span><span class="s1">Seconds</span><span class="s3">\&quot;</span><span class="s1">,2);case i:return $(v+</span><span class="s3">\&quot;</span><span class="s1">Milliseconds</span><span class="s3">\&quot;</span><span class="s1">,3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=</span><span class="s3">\&quot;</span><span class="s1">set</span><span class="s3">\&quot;</span><span class="s1">+(this.$u?</span><span class="s3">\&quot;</span><span class="s1">UTC</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;\&quot;</span><span class="s1">),l=(n={},n[a]=f+</span><span class="s3">\&quot;</span><span class="s1">Date</span><span class="s3">\&quot;</span><span class="s1">,n[d]=f+</span><span class="s3">\&quot;</span><span class="s1">Date</span><span class="s3">\&quot;</span><span class="s1">,n[c]=f+</span><span class="s3">\&quot;</span><span class="s1">Month</span><span class="s3">\&quot;</span><span class="s1">,n[h]=f+</span><span class="s3">\&quot;</span><span class="s1">FullYear</span><span class="s3">\&quot;</span><span class="s1">,n[u]=f+</span><span class="s3">\&quot;</span><span class="s1">Hours</span><span class="s3">\&quot;</span><span class="s1">,n[s]=f+</span><span class="s3">\&quot;</span><span class="s1">Minutes</span><span class="s3">\&quot;</span><span class="s1">,n[i]=f+</span><span class="s3">\&quot;</span><span class="s1">Seconds</span><span class="s3">\&quot;</span><span class="s1">,n[r]=f+</span><span class="s3">\&quot;</span><span class="s1">Milliseconds</span><span class="s3">\&quot;</span><span class="s1">,n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&amp;&amp;this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||</span><span class="s3">\&quot;</span><span class="s1">YYYY-MM-DDTHH:mm:ssZ</span><span class="s3">\&quot;</span><span class="s1">,i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&amp;&amp;(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">)},$=f||function(t,e,n){var r=t&lt;12?</span><span class="s3">\&quot;</span><span class="s1">AM</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">PM</span><span class="s3">\&quot;</span><span class="s1">;return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case</span><span class="s3">\&quot;</span><span class="s1">YY</span><span class="s3">\&quot;</span><span class="s1">:return String(e.$y).slice(-2);case</span><span class="s3">\&quot;</span><span class="s1">YYYY</span><span class="s3">\&quot;</span><span class="s1">:return b.s(e.$y,4,</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);case</span><span class="s3">\&quot;</span><span class="s1">M</span><span class="s3">\&quot;</span><span class="s1">:return a+1;case</span><span class="s3">\&quot;</span><span class="s1">MM</span><span class="s3">\&quot;</span><span class="s1">:return b.s(a+1,2,</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);case</span><span class="s3">\&quot;</span><span class="s1">MMM</span><span class="s3">\&quot;</span><span class="s1">:return h(n.monthsShort,a,c,3);case</span><span class="s3">\&quot;</span><span class="s1">MMMM</span><span class="s3">\&quot;</span><span class="s1">:return h(c,a);case</span><span class="s3">\&quot;</span><span class="s1">D</span><span class="s3">\&quot;</span><span class="s1">:return e.$D;case</span><span class="s3">\&quot;</span><span class="s1">DD</span><span class="s3">\&quot;</span><span class="s1">:return b.s(e.$D,2,</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);case</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">:return String(e.$W);case</span><span class="s3">\&quot;</span><span class="s1">dd</span><span class="s3">\&quot;</span><span class="s1">:return h(n.weekdaysMin,e.$W,o,2);case</span><span class="s3">\&quot;</span><span class="s1">ddd</span><span class="s3">\&quot;</span><span class="s1">:return h(n.weekdaysShort,e.$W,o,3);case</span><span class="s3">\&quot;</span><span class="s1">dddd</span><span class="s3">\&quot;</span><span class="s1">:return o[e.$W];case</span><span class="s3">\&quot;</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">:return String(s);case</span><span class="s3">\&quot;</span><span class="s1">HH</span><span class="s3">\&quot;</span><span class="s1">:return b.s(s,2,</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);case</span><span class="s3">\&quot;</span><span class="s1">h</span><span class="s3">\&quot;</span><span class="s1">:return d(1);case</span><span class="s3">\&quot;</span><span class="s1">hh</span><span class="s3">\&quot;</span><span class="s1">:return d(2);case</span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">:return $(s,u,!0);case</span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">:return $(s,u,!1);case</span><span class="s3">\&quot;</span><span class="s1">m</span><span class="s3">\&quot;</span><span class="s1">:return String(u);case</span><span class="s3">\&quot;</span><span class="s1">mm</span><span class="s3">\&quot;</span><span class="s1">:return b.s(u,2,</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);case</span><span class="s3">\&quot;</span><span class="s1">s</span><span class="s3">\&quot;</span><span class="s1">:return String(e.$s);case</span><span class="s3">\&quot;</span><span class="s1">ss</span><span class="s3">\&quot;</span><span class="s1">:return b.s(e.$s,2,</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);case</span><span class="s3">\&quot;</span><span class="s1">SSS</span><span class="s3">\&quot;</span><span class="s1">:return b.s(e.$ms,3,</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);case</span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">:return i}return null}(t)||i.replace(</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;\&quot;</span><span class="s1">)}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&amp;&amp;(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[</span><span class="s3">\&quot;</span><span class="s1">$ms</span><span class="s3">\&quot;</span><span class="s1">,r],[</span><span class="s3">\&quot;</span><span class="s1">$s</span><span class="s3">\&quot;</span><span class="s1">,i],[</span><span class="s3">\&quot;</span><span class="s1">$m</span><span class="s3">\&quot;</span><span class="s1">,s],[</span><span class="s3">\&quot;</span><span class="s1">$H</span><span class="s3">\&quot;</span><span class="s1">,u],[</span><span class="s3">\&quot;</span><span class="s1">$W</span><span class="s3">\&quot;</span><span class="s1">,a],[</span><span class="s3">\&quot;</span><span class="s1">$M</span><span class="s3">\&quot;</span><span class="s1">,c],[</span><span class="s3">\&quot;</span><span class="s1">$y</span><span class="s3">\&quot;</span><span class="s1">,h],[</span><span class="s3">\&quot;</span><span class="s1">$D</span><span class="s3">\&quot;</span><span class="s1">,d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));&quot;</span><span class="s0">,</span><span class="s1">&quot;/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */</span><span class="s3">\n\n</span><span class="s1">const {</span><span class="s3">\n  </span><span class="s1">entries,</span><span class="s3">\n  </span><span class="s1">setPrototypeOf,</span><span class="s3">\n  </span><span class="s1">isFrozen,</span><span class="s3">\n  </span><span class="s1">getPrototypeOf,</span><span class="s3">\n  </span><span class="s1">getOwnPropertyDescriptor</span><span class="s3">\n</span><span class="s1">} = Object;</span><span class="s3">\n</span><span class="s1">let {</span><span class="s3">\n  </span><span class="s1">freeze,</span><span class="s3">\n  </span><span class="s1">seal,</span><span class="s3">\n  </span><span class="s1">create</span><span class="s3">\n</span><span class="s1">} = Object; // eslint-disable-line import/no-mutable-exports</span><span class="s3">\n</span><span class="s1">let {</span><span class="s3">\n  </span><span class="s1">apply,</span><span class="s3">\n  </span><span class="s1">construct</span><span class="s3">\n</span><span class="s1">} = typeof Reflect !== 'undefined' &amp;&amp; Reflect;</span><span class="s3">\n</span><span class="s1">if (!freeze) {</span><span class="s3">\n  </span><span class="s1">freeze = function freeze(x) {</span><span class="s3">\n    </span><span class="s1">return x;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">if (!seal) {</span><span class="s3">\n  </span><span class="s1">seal = function seal(x) {</span><span class="s3">\n    </span><span class="s1">return x;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">if (!apply) {</span><span class="s3">\n  </span><span class="s1">apply = function apply(fun, thisValue, args) {</span><span class="s3">\n    </span><span class="s1">return fun.apply(thisValue, args);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">if (!construct) {</span><span class="s3">\n  </span><span class="s1">construct = function construct(Func, args) {</span><span class="s3">\n    </span><span class="s1">return new Func(...args);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const arrayForEach = unapply(Array.prototype.forEach);</span><span class="s3">\n</span><span class="s1">const arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);</span><span class="s3">\n</span><span class="s1">const arrayPop = unapply(Array.prototype.pop);</span><span class="s3">\n</span><span class="s1">const arrayPush = unapply(Array.prototype.push);</span><span class="s3">\n</span><span class="s1">const arraySplice = unapply(Array.prototype.splice);</span><span class="s3">\n</span><span class="s1">const stringToLowerCase = unapply(String.prototype.toLowerCase);</span><span class="s3">\n</span><span class="s1">const stringToString = unapply(String.prototype.toString);</span><span class="s3">\n</span><span class="s1">const stringMatch = unapply(String.prototype.match);</span><span class="s3">\n</span><span class="s1">const stringReplace = unapply(String.prototype.replace);</span><span class="s3">\n</span><span class="s1">const stringIndexOf = unapply(String.prototype.indexOf);</span><span class="s3">\n</span><span class="s1">const stringTrim = unapply(String.prototype.trim);</span><span class="s3">\n</span><span class="s1">const objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);</span><span class="s3">\n</span><span class="s1">const regExpTest = unapply(RegExp.prototype.test);</span><span class="s3">\n</span><span class="s1">const typeErrorCreate = unconstruct(TypeError);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates a new function that calls the given function with a specified thisArg and arguments.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param func - The function to be wrapped and called.</span><span class="s3">\n </span><span class="s1">* @returns A new function that calls the given function with a specified thisArg and arguments.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function unapply(func) {</span><span class="s3">\n  </span><span class="s1">return function (thisArg) {</span><span class="s3">\n    </span><span class="s1">for (var _len = arguments.length, args = new Array(_len &gt; 1 ? _len - 1 : 0), _key = 1; _key &lt; _len; _key++) {</span><span class="s3">\n      </span><span class="s1">args[_key - 1] = arguments[_key];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return apply(func, thisArg, args);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates a new function that constructs an instance of the given constructor function with the provided arguments.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param func - The constructor function to be wrapped and called.</span><span class="s3">\n </span><span class="s1">* @returns A new function that constructs an instance of the given constructor function with the provided arguments.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function unconstruct(func) {</span><span class="s3">\n  </span><span class="s1">return function () {</span><span class="s3">\n    </span><span class="s1">for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 &lt; _len2; _key2++) {</span><span class="s3">\n      </span><span class="s1">args[_key2] = arguments[_key2];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return construct(func, args);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Add properties to a lookup table</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param set - The set to which elements will be added.</span><span class="s3">\n </span><span class="s1">* @param array - The array containing elements to be added to the set.</span><span class="s3">\n </span><span class="s1">* @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.</span><span class="s3">\n </span><span class="s1">* @returns The modified set with added elements.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function addToSet(set, array) {</span><span class="s3">\n  </span><span class="s1">let transformCaseFunc = arguments.length &gt; 2 &amp;&amp; arguments[2] !== undefined ? arguments[2] : stringToLowerCase;</span><span class="s3">\n  </span><span class="s1">if (setPrototypeOf) {</span><span class="s3">\n    </span><span class="s1">// Make 'in' and truthy checks like Boolean(set.constructor)</span><span class="s3">\n    </span><span class="s1">// independent of any properties defined on Object.prototype.</span><span class="s3">\n    </span><span class="s1">// Prevent prototype setters from intercepting set as a this value.</span><span class="s3">\n    </span><span class="s1">setPrototypeOf(set, null);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let l = array.length;</span><span class="s3">\n  </span><span class="s1">while (l--) {</span><span class="s3">\n    </span><span class="s1">let element = array[l];</span><span class="s3">\n    </span><span class="s1">if (typeof element === 'string') {</span><span class="s3">\n      </span><span class="s1">const lcElement = transformCaseFunc(element);</span><span class="s3">\n      </span><span class="s1">if (lcElement !== element) {</span><span class="s3">\n        </span><span class="s1">// Config presets (e.g. tags.js, attrs.js) are immutable.</span><span class="s3">\n        </span><span class="s1">if (!isFrozen(array)) {</span><span class="s3">\n          </span><span class="s1">array[l] = lcElement;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">element = lcElement;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set[element] = true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return set;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Clean up an array to harden against CSPP</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param array - The array to be cleaned.</span><span class="s3">\n </span><span class="s1">* @returns The cleaned version of the array</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function cleanArray(array) {</span><span class="s3">\n  </span><span class="s1">for (let index = 0; index &lt; array.length; index++) {</span><span class="s3">\n    </span><span class="s1">const isPropertyExist = objectHasOwnProperty(array, index);</span><span class="s3">\n    </span><span class="s1">if (!isPropertyExist) {</span><span class="s3">\n      </span><span class="s1">array[index] = null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return array;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Shallow clone an object</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param object - The object to be cloned.</span><span class="s3">\n </span><span class="s1">* @returns A new object that copies the original.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function clone(object) {</span><span class="s3">\n  </span><span class="s1">const newObject = create(null);</span><span class="s3">\n  </span><span class="s1">for (const [property, value] of entries(object)) {</span><span class="s3">\n    </span><span class="s1">const isPropertyExist = objectHasOwnProperty(object, property);</span><span class="s3">\n    </span><span class="s1">if (isPropertyExist) {</span><span class="s3">\n      </span><span class="s1">if (Array.isArray(value)) {</span><span class="s3">\n        </span><span class="s1">newObject[property] = cleanArray(value);</span><span class="s3">\n      </span><span class="s1">} else if (value &amp;&amp; typeof value === 'object' &amp;&amp; value.constructor === Object) {</span><span class="s3">\n        </span><span class="s1">newObject[property] = clone(value);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">newObject[property] = value;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return newObject;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This method automatically checks if the prop is function or getter and behaves accordingly.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param object - The object to look up the getter function in its prototype chain.</span><span class="s3">\n </span><span class="s1">* @param prop - The property name for which to find the getter function.</span><span class="s3">\n </span><span class="s1">* @returns The getter function found in the prototype chain or a fallback function.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function lookupGetter(object, prop) {</span><span class="s3">\n  </span><span class="s1">while (object !== null) {</span><span class="s3">\n    </span><span class="s1">const desc = getOwnPropertyDescriptor(object, prop);</span><span class="s3">\n    </span><span class="s1">if (desc) {</span><span class="s3">\n      </span><span class="s1">if (desc.get) {</span><span class="s3">\n        </span><span class="s1">return unapply(desc.get);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (typeof desc.value === 'function') {</span><span class="s3">\n        </span><span class="s1">return unapply(desc.value);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">object = getPrototypeOf(object);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">function fallbackValue() {</span><span class="s3">\n    </span><span class="s1">return null;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return fallbackValue;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);</span><span class="s3">\n</span><span class="s1">const svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);</span><span class="s3">\n</span><span class="s1">const svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);</span><span class="s3">\n</span><span class="s1">// List of SVG elements that are disallowed by default.</span><span class="s3">\n</span><span class="s1">// We still need to know them so that we can do namespace</span><span class="s3">\n</span><span class="s1">// checks properly in case one wants to add them to</span><span class="s3">\n</span><span class="s1">// allow-list.</span><span class="s3">\n</span><span class="s1">const svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);</span><span class="s3">\n</span><span class="s1">const mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);</span><span class="s3">\n</span><span class="s1">// Similarly to SVG, we want to know all MathML elements,</span><span class="s3">\n</span><span class="s1">// even those that we disallow by default.</span><span class="s3">\n</span><span class="s1">const mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);</span><span class="s3">\n</span><span class="s1">const text = freeze(['#text']);</span><span class="s3">\n\n</span><span class="s1">const html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);</span><span class="s3">\n</span><span class="s1">const svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);</span><span class="s3">\n</span><span class="s1">const mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);</span><span class="s3">\n</span><span class="s1">const xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);</span><span class="s3">\n\n</span><span class="s1">// eslint-disable-next-line unicorn/better-regex</span><span class="s3">\n</span><span class="s1">const MUSTACHE_EXPR = seal(/</span><span class="s3">\\</span><span class="s1">{</span><span class="s3">\\</span><span class="s1">{[</span><span class="s3">\\</span><span class="s1">w</span><span class="s3">\\</span><span class="s1">W]*|[</span><span class="s3">\\</span><span class="s1">w</span><span class="s3">\\</span><span class="s1">W]*</span><span class="s3">\\</span><span class="s1">}</span><span class="s3">\\</span><span class="s1">}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode</span><span class="s3">\n</span><span class="s1">const ERB_EXPR = seal(/&lt;%[</span><span class="s3">\\</span><span class="s1">w</span><span class="s3">\\</span><span class="s1">W]*|[</span><span class="s3">\\</span><span class="s1">w</span><span class="s3">\\</span><span class="s1">W]*%&gt;/gm);</span><span class="s3">\n</span><span class="s1">const TMPLIT_EXPR = seal(/</span><span class="s3">\\</span><span class="s1">$</span><span class="s3">\\</span><span class="s1">{[</span><span class="s3">\\</span><span class="s1">w</span><span class="s3">\\</span><span class="s1">W]*/gm); // eslint-disable-line unicorn/better-regex</span><span class="s3">\n</span><span class="s1">const DATA_ATTR = seal(/^data-[</span><span class="s3">\\</span><span class="s1">-</span><span class="s3">\\</span><span class="s1">w.</span><span class="s3">\\</span><span class="s1">u00B7-</span><span class="s3">\\</span><span class="s1">uFFFF]+$/); // eslint-disable-line no-useless-escape</span><span class="s3">\n</span><span class="s1">const ARIA_ATTR = seal(/^aria-[</span><span class="s3">\\</span><span class="s1">-</span><span class="s3">\\</span><span class="s1">w]+$/); // eslint-disable-line no-useless-escape</span><span class="s3">\n</span><span class="s1">const IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.</span><span class="s3">\\</span><span class="s1">-]+(?:[^a-z+.</span><span class="s3">\\</span><span class="s1">-:]|$))/i // eslint-disable-line no-useless-escape</span><span class="s3">\n</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">const IS_SCRIPT_OR_DATA = seal(/^(?:</span><span class="s3">\\</span><span class="s1">w+script|data):/i);</span><span class="s3">\n</span><span class="s1">const ATTR_WHITESPACE = seal(/[</span><span class="s3">\\</span><span class="s1">u0000-</span><span class="s3">\\</span><span class="s1">u0020</span><span class="s3">\\</span><span class="s1">u00A0</span><span class="s3">\\</span><span class="s1">u1680</span><span class="s3">\\</span><span class="s1">u180E</span><span class="s3">\\</span><span class="s1">u2000-</span><span class="s3">\\</span><span class="s1">u2029</span><span class="s3">\\</span><span class="s1">u205F</span><span class="s3">\\</span><span class="s1">u3000]/g // eslint-disable-line no-control-regex</span><span class="s3">\n</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">const DOCTYPE_NAME = seal(/^html$/i);</span><span class="s3">\n</span><span class="s1">const CUSTOM_ELEMENT = seal(/^[a-z][.</span><span class="s3">\\</span><span class="s1">w]*(-[.</span><span class="s3">\\</span><span class="s1">w]+)+$/i);</span><span class="s3">\n\n</span><span class="s1">var EXPRESSIONS = /*#__PURE__*/Object.freeze({</span><span class="s3">\n  </span><span class="s1">__proto__: null,</span><span class="s3">\n  </span><span class="s1">ARIA_ATTR: ARIA_ATTR,</span><span class="s3">\n  </span><span class="s1">ATTR_WHITESPACE: ATTR_WHITESPACE,</span><span class="s3">\n  </span><span class="s1">CUSTOM_ELEMENT: CUSTOM_ELEMENT,</span><span class="s3">\n  </span><span class="s1">DATA_ATTR: DATA_ATTR,</span><span class="s3">\n  </span><span class="s1">DOCTYPE_NAME: DOCTYPE_NAME,</span><span class="s3">\n  </span><span class="s1">ERB_EXPR: ERB_EXPR,</span><span class="s3">\n  </span><span class="s1">IS_ALLOWED_URI: IS_ALLOWED_URI,</span><span class="s3">\n  </span><span class="s1">IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,</span><span class="s3">\n  </span><span class="s1">MUSTACHE_EXPR: MUSTACHE_EXPR,</span><span class="s3">\n  </span><span class="s1">TMPLIT_EXPR: TMPLIT_EXPR</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">/* eslint-disable @typescript-eslint/indent */</span><span class="s3">\n</span><span class="s1">// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType</span><span class="s3">\n</span><span class="s1">const NODE_TYPE = {</span><span class="s3">\n  </span><span class="s1">element: 1,</span><span class="s3">\n  </span><span class="s1">attribute: 2,</span><span class="s3">\n  </span><span class="s1">text: 3,</span><span class="s3">\n  </span><span class="s1">cdataSection: 4,</span><span class="s3">\n  </span><span class="s1">entityReference: 5,</span><span class="s3">\n  </span><span class="s1">// Deprecated</span><span class="s3">\n  </span><span class="s1">entityNode: 6,</span><span class="s3">\n  </span><span class="s1">// Deprecated</span><span class="s3">\n  </span><span class="s1">progressingInstruction: 7,</span><span class="s3">\n  </span><span class="s1">comment: 8,</span><span class="s3">\n  </span><span class="s1">document: 9,</span><span class="s3">\n  </span><span class="s1">documentType: 10,</span><span class="s3">\n  </span><span class="s1">documentFragment: 11,</span><span class="s3">\n  </span><span class="s1">notation: 12 // Deprecated</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">const getGlobal = function getGlobal() {</span><span class="s3">\n  </span><span class="s1">return typeof window === 'undefined' ? null : window;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates a no-op policy for internal use only.</span><span class="s3">\n </span><span class="s1">* Don't export this function outside this module!</span><span class="s3">\n </span><span class="s1">* @param trustedTypes The policy factory.</span><span class="s3">\n </span><span class="s1">* @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).</span><span class="s3">\n </span><span class="s1">* @return The policy created (or null, if Trusted Types</span><span class="s3">\n </span><span class="s1">* are not supported or creating the policy failed).</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {</span><span class="s3">\n  </span><span class="s1">if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {</span><span class="s3">\n    </span><span class="s1">return null;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">// Allow the callers to control the unique policy name</span><span class="s3">\n  </span><span class="s1">// by adding a data-tt-policy-suffix to the script element with the DOMPurify.</span><span class="s3">\n  </span><span class="s1">// Policy creation with duplicate names throws in Trusted Types.</span><span class="s3">\n  </span><span class="s1">let suffix = null;</span><span class="s3">\n  </span><span class="s1">const ATTR_NAME = 'data-tt-policy-suffix';</span><span class="s3">\n  </span><span class="s1">if (purifyHostElement &amp;&amp; purifyHostElement.hasAttribute(ATTR_NAME)) {</span><span class="s3">\n    </span><span class="s1">suffix = purifyHostElement.getAttribute(ATTR_NAME);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const policyName = 'dompurify' + (suffix ? '#' + suffix : '');</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">return trustedTypes.createPolicy(policyName, {</span><span class="s3">\n      </span><span class="s1">createHTML(html) {</span><span class="s3">\n        </span><span class="s1">return html;</span><span class="s3">\n      </span><span class="s1">},</span><span class="s3">\n      </span><span class="s1">createScriptURL(scriptUrl) {</span><span class="s3">\n        </span><span class="s1">return scriptUrl;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">} catch (_) {</span><span class="s3">\n    </span><span class="s1">// Policy creation failed (most likely another DOMPurify script has</span><span class="s3">\n    </span><span class="s1">// already run). Skip creating the policy, as this will only cause errors</span><span class="s3">\n    </span><span class="s1">// if TT are enforced.</span><span class="s3">\n    </span><span class="s1">console.warn('TrustedTypes policy ' + policyName + ' could not be created.');</span><span class="s3">\n    </span><span class="s1">return null;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">const _createHooksMap = function _createHooksMap() {</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">afterSanitizeAttributes: [],</span><span class="s3">\n    </span><span class="s1">afterSanitizeElements: [],</span><span class="s3">\n    </span><span class="s1">afterSanitizeShadowDOM: [],</span><span class="s3">\n    </span><span class="s1">beforeSanitizeAttributes: [],</span><span class="s3">\n    </span><span class="s1">beforeSanitizeElements: [],</span><span class="s3">\n    </span><span class="s1">beforeSanitizeShadowDOM: [],</span><span class="s3">\n    </span><span class="s1">uponSanitizeAttribute: [],</span><span class="s3">\n    </span><span class="s1">uponSanitizeElement: [],</span><span class="s3">\n    </span><span class="s1">uponSanitizeShadowNode: []</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">function createDOMPurify() {</span><span class="s3">\n  </span><span class="s1">let window = arguments.length &gt; 0 &amp;&amp; arguments[0] !== undefined ? arguments[0] : getGlobal();</span><span class="s3">\n  </span><span class="s1">const DOMPurify = root =&gt; createDOMPurify(root);</span><span class="s3">\n  </span><span class="s1">DOMPurify.version = '3.2.4';</span><span class="s3">\n  </span><span class="s1">DOMPurify.removed = [];</span><span class="s3">\n  </span><span class="s1">if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document || !window.Element) {</span><span class="s3">\n    </span><span class="s1">// Not running in a browser, provide a factory function</span><span class="s3">\n    </span><span class="s1">// so that you can pass your own Window</span><span class="s3">\n    </span><span class="s1">DOMPurify.isSupported = false;</span><span class="s3">\n    </span><span class="s1">return DOMPurify;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let {</span><span class="s3">\n    </span><span class="s1">document</span><span class="s3">\n  </span><span class="s1">} = window;</span><span class="s3">\n  </span><span class="s1">const originalDocument = document;</span><span class="s3">\n  </span><span class="s1">const currentScript = originalDocument.currentScript;</span><span class="s3">\n  </span><span class="s1">const {</span><span class="s3">\n    </span><span class="s1">DocumentFragment,</span><span class="s3">\n    </span><span class="s1">HTMLTemplateElement,</span><span class="s3">\n    </span><span class="s1">Node,</span><span class="s3">\n    </span><span class="s1">Element,</span><span class="s3">\n    </span><span class="s1">NodeFilter,</span><span class="s3">\n    </span><span class="s1">NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,</span><span class="s3">\n    </span><span class="s1">HTMLFormElement,</span><span class="s3">\n    </span><span class="s1">DOMParser,</span><span class="s3">\n    </span><span class="s1">trustedTypes</span><span class="s3">\n  </span><span class="s1">} = window;</span><span class="s3">\n  </span><span class="s1">const ElementPrototype = Element.prototype;</span><span class="s3">\n  </span><span class="s1">const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');</span><span class="s3">\n  </span><span class="s1">const remove = lookupGetter(ElementPrototype, 'remove');</span><span class="s3">\n  </span><span class="s1">const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');</span><span class="s3">\n  </span><span class="s1">const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');</span><span class="s3">\n  </span><span class="s1">const getParentNode = lookupGetter(ElementPrototype, 'parentNode');</span><span class="s3">\n  </span><span class="s1">// As per issue #47, the web-components registry is inherited by a</span><span class="s3">\n  </span><span class="s1">// new document created via createHTMLDocument. As per the spec</span><span class="s3">\n  </span><span class="s1">// (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)</span><span class="s3">\n  </span><span class="s1">// a new empty registry is used when creating a template contents owner</span><span class="s3">\n  </span><span class="s1">// document, so we use that as our parent document to ensure nothing</span><span class="s3">\n  </span><span class="s1">// is inherited.</span><span class="s3">\n  </span><span class="s1">if (typeof HTMLTemplateElement === 'function') {</span><span class="s3">\n    </span><span class="s1">const template = document.createElement('template');</span><span class="s3">\n    </span><span class="s1">if (template.content &amp;&amp; template.content.ownerDocument) {</span><span class="s3">\n      </span><span class="s1">document = template.content.ownerDocument;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let trustedTypesPolicy;</span><span class="s3">\n  </span><span class="s1">let emptyHTML = '';</span><span class="s3">\n  </span><span class="s1">const {</span><span class="s3">\n    </span><span class="s1">implementation,</span><span class="s3">\n    </span><span class="s1">createNodeIterator,</span><span class="s3">\n    </span><span class="s1">createDocumentFragment,</span><span class="s3">\n    </span><span class="s1">getElementsByTagName</span><span class="s3">\n  </span><span class="s1">} = document;</span><span class="s3">\n  </span><span class="s1">const {</span><span class="s3">\n    </span><span class="s1">importNode</span><span class="s3">\n  </span><span class="s1">} = originalDocument;</span><span class="s3">\n  </span><span class="s1">let hooks = _createHooksMap();</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Expose whether this browser supports running the full DOMPurify.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">DOMPurify.isSupported = typeof entries === 'function' &amp;&amp; typeof getParentNode === 'function' &amp;&amp; implementation &amp;&amp; implementation.createHTMLDocument !== undefined;</span><span class="s3">\n  </span><span class="s1">const {</span><span class="s3">\n    </span><span class="s1">MUSTACHE_EXPR,</span><span class="s3">\n    </span><span class="s1">ERB_EXPR,</span><span class="s3">\n    </span><span class="s1">TMPLIT_EXPR,</span><span class="s3">\n    </span><span class="s1">DATA_ATTR,</span><span class="s3">\n    </span><span class="s1">ARIA_ATTR,</span><span class="s3">\n    </span><span class="s1">IS_SCRIPT_OR_DATA,</span><span class="s3">\n    </span><span class="s1">ATTR_WHITESPACE,</span><span class="s3">\n    </span><span class="s1">CUSTOM_ELEMENT</span><span class="s3">\n  </span><span class="s1">} = EXPRESSIONS;</span><span class="s3">\n  </span><span class="s1">let {</span><span class="s3">\n    </span><span class="s1">IS_ALLOWED_URI: IS_ALLOWED_URI$1</span><span class="s3">\n  </span><span class="s1">} = EXPRESSIONS;</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* We consider the elements and attributes below to be safe. Ideally</span><span class="s3">\n   </span><span class="s1">* don't add any new ones but feel free to remove unwanted ones.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">/* allowed element names */</span><span class="s3">\n  </span><span class="s1">let ALLOWED_TAGS = null;</span><span class="s3">\n  </span><span class="s1">const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);</span><span class="s3">\n  </span><span class="s1">/* Allowed attribute names */</span><span class="s3">\n  </span><span class="s1">let ALLOWED_ATTR = null;</span><span class="s3">\n  </span><span class="s1">const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);</span><span class="s3">\n  </span><span class="s1">/*</span><span class="s3">\n   </span><span class="s1">* Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.</span><span class="s3">\n   </span><span class="s1">* @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)</span><span class="s3">\n   </span><span class="s1">* @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)</span><span class="s3">\n   </span><span class="s1">* @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {</span><span class="s3">\n    </span><span class="s1">tagNameCheck: {</span><span class="s3">\n      </span><span class="s1">writable: true,</span><span class="s3">\n      </span><span class="s1">configurable: false,</span><span class="s3">\n      </span><span class="s1">enumerable: true,</span><span class="s3">\n      </span><span class="s1">value: null</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">attributeNameCheck: {</span><span class="s3">\n      </span><span class="s1">writable: true,</span><span class="s3">\n      </span><span class="s1">configurable: false,</span><span class="s3">\n      </span><span class="s1">enumerable: true,</span><span class="s3">\n      </span><span class="s1">value: null</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">allowCustomizedBuiltInElements: {</span><span class="s3">\n      </span><span class="s1">writable: true,</span><span class="s3">\n      </span><span class="s1">configurable: false,</span><span class="s3">\n      </span><span class="s1">enumerable: true,</span><span class="s3">\n      </span><span class="s1">value: false</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}));</span><span class="s3">\n  </span><span class="s1">/* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */</span><span class="s3">\n  </span><span class="s1">let FORBID_TAGS = null;</span><span class="s3">\n  </span><span class="s1">/* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */</span><span class="s3">\n  </span><span class="s1">let FORBID_ATTR = null;</span><span class="s3">\n  </span><span class="s1">/* Decide if ARIA attributes are okay */</span><span class="s3">\n  </span><span class="s1">let ALLOW_ARIA_ATTR = true;</span><span class="s3">\n  </span><span class="s1">/* Decide if custom data attributes are okay */</span><span class="s3">\n  </span><span class="s1">let ALLOW_DATA_ATTR = true;</span><span class="s3">\n  </span><span class="s1">/* Decide if unknown protocols are okay */</span><span class="s3">\n  </span><span class="s1">let ALLOW_UNKNOWN_PROTOCOLS = false;</span><span class="s3">\n  </span><span class="s1">/* Decide if self-closing tags in attributes are allowed.</span><span class="s3">\n   </span><span class="s1">* Usually removed due to a mXSS issue in jQuery 3.0 */</span><span class="s3">\n  </span><span class="s1">let ALLOW_SELF_CLOSE_IN_ATTR = true;</span><span class="s3">\n  </span><span class="s1">/* Output should be safe for common template engines.</span><span class="s3">\n   </span><span class="s1">* This means, DOMPurify removes data attributes, mustaches and ERB</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">let SAFE_FOR_TEMPLATES = false;</span><span class="s3">\n  </span><span class="s1">/* Output should be safe even for XML used within HTML and alike.</span><span class="s3">\n   </span><span class="s1">* This means, DOMPurify removes comments when containing risky content.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">let SAFE_FOR_XML = true;</span><span class="s3">\n  </span><span class="s1">/* Decide if document with &lt;html&gt;... should be returned */</span><span class="s3">\n  </span><span class="s1">let WHOLE_DOCUMENT = false;</span><span class="s3">\n  </span><span class="s1">/* Track whether config is already set on this instance of DOMPurify. */</span><span class="s3">\n  </span><span class="s1">let SET_CONFIG = false;</span><span class="s3">\n  </span><span class="s1">/* Decide if all elements (e.g. style, script) must be children of</span><span class="s3">\n   </span><span class="s1">* document.body. By default, browsers might move them to document.head */</span><span class="s3">\n  </span><span class="s1">let FORCE_BODY = false;</span><span class="s3">\n  </span><span class="s1">/* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html</span><span class="s3">\n   </span><span class="s1">* string (or a TrustedHTML object if Trusted Types are supported).</span><span class="s3">\n   </span><span class="s1">* If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">let RETURN_DOM = false;</span><span class="s3">\n  </span><span class="s1">/* Decide if a DOM `DocumentFragment` should be returned, instead of a html</span><span class="s3">\n   </span><span class="s1">* string  (or a TrustedHTML object if Trusted Types are supported) */</span><span class="s3">\n  </span><span class="s1">let RETURN_DOM_FRAGMENT = false;</span><span class="s3">\n  </span><span class="s1">/* Try to return a Trusted Type object instead of a string, return a string in</span><span class="s3">\n   </span><span class="s1">* case Trusted Types are not supported  */</span><span class="s3">\n  </span><span class="s1">let RETURN_TRUSTED_TYPE = false;</span><span class="s3">\n  </span><span class="s1">/* Output should be free from DOM clobbering attacks?</span><span class="s3">\n   </span><span class="s1">* This sanitizes markups named with colliding, clobberable built-in DOM APIs.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">let SANITIZE_DOM = true;</span><span class="s3">\n  </span><span class="s1">/* Achieve full DOM Clobbering protection by isolating the namespace of named</span><span class="s3">\n   </span><span class="s1">* properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* HTML/DOM spec rules that enable DOM Clobbering:</span><span class="s3">\n   </span><span class="s1">*   - Named Access on Window (7.3.3)</span><span class="s3">\n   </span><span class="s1">*   - DOM Tree Accessors (3.1.5)</span><span class="s3">\n   </span><span class="s1">*   - Form Element Parent-Child Relations (4.10.3)</span><span class="s3">\n   </span><span class="s1">*   - Iframe srcdoc / Nested WindowProxies (4.8.5)</span><span class="s3">\n   </span><span class="s1">*   - HTMLCollection (4.2.10.2)</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* Namespace isolation is implemented by prefixing `id` and `name` attributes</span><span class="s3">\n   </span><span class="s1">* with a constant string, i.e., `user-content-`</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">let SANITIZE_NAMED_PROPS = false;</span><span class="s3">\n  </span><span class="s1">const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';</span><span class="s3">\n  </span><span class="s1">/* Keep element content when removing element? */</span><span class="s3">\n  </span><span class="s1">let KEEP_CONTENT = true;</span><span class="s3">\n  </span><span class="s1">/* If a `Node` is passed to sanitize(), then performs sanitization in-place instead</span><span class="s3">\n   </span><span class="s1">* of importing it into a new Document and returning a sanitized copy */</span><span class="s3">\n  </span><span class="s1">let IN_PLACE = false;</span><span class="s3">\n  </span><span class="s1">/* Allow usage of profiles like html, svg and mathMl */</span><span class="s3">\n  </span><span class="s1">let USE_PROFILES = {};</span><span class="s3">\n  </span><span class="s1">/* Tags to ignore content of when KEEP_CONTENT is true */</span><span class="s3">\n  </span><span class="s1">let FORBID_CONTENTS = null;</span><span class="s3">\n  </span><span class="s1">const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);</span><span class="s3">\n  </span><span class="s1">/* Tags that are safe for data: URIs */</span><span class="s3">\n  </span><span class="s1">let DATA_URI_TAGS = null;</span><span class="s3">\n  </span><span class="s1">const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);</span><span class="s3">\n  </span><span class="s1">/* Attributes safe for values like </span><span class="s3">\&quot;</span><span class="s1">javascript:</span><span class="s3">\&quot; </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">let URI_SAFE_ATTRIBUTES = null;</span><span class="s3">\n  </span><span class="s1">const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);</span><span class="s3">\n  </span><span class="s1">const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';</span><span class="s3">\n  </span><span class="s1">const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';</span><span class="s3">\n  </span><span class="s1">const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';</span><span class="s3">\n  </span><span class="s1">/* Document namespace */</span><span class="s3">\n  </span><span class="s1">let NAMESPACE = HTML_NAMESPACE;</span><span class="s3">\n  </span><span class="s1">let IS_EMPTY_INPUT = false;</span><span class="s3">\n  </span><span class="s1">/* Allowed XHTML+XML namespaces */</span><span class="s3">\n  </span><span class="s1">let ALLOWED_NAMESPACES = null;</span><span class="s3">\n  </span><span class="s1">const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);</span><span class="s3">\n  </span><span class="s1">let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);</span><span class="s3">\n  </span><span class="s1">let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);</span><span class="s3">\n  </span><span class="s1">// Certain elements are allowed in both SVG and HTML</span><span class="s3">\n  </span><span class="s1">// namespace. We need to specify them explicitly</span><span class="s3">\n  </span><span class="s1">// so that they don't get erroneously deleted from</span><span class="s3">\n  </span><span class="s1">// HTML namespace.</span><span class="s3">\n  </span><span class="s1">const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);</span><span class="s3">\n  </span><span class="s1">/* Parsing of strict XHTML documents */</span><span class="s3">\n  </span><span class="s1">let PARSER_MEDIA_TYPE = null;</span><span class="s3">\n  </span><span class="s1">const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];</span><span class="s3">\n  </span><span class="s1">const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';</span><span class="s3">\n  </span><span class="s1">let transformCaseFunc = null;</span><span class="s3">\n  </span><span class="s1">/* Keep a reference to config to pass to hooks */</span><span class="s3">\n  </span><span class="s1">let CONFIG = null;</span><span class="s3">\n  </span><span class="s1">/* Ideally, do not touch anything below this line */</span><span class="s3">\n  </span><span class="s1">/* ______________________________________________ */</span><span class="s3">\n  </span><span class="s1">const formElement = document.createElement('form');</span><span class="s3">\n  </span><span class="s1">const isRegexOrFunction = function isRegexOrFunction(testValue) {</span><span class="s3">\n    </span><span class="s1">return testValue instanceof RegExp || testValue instanceof Function;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* _parseConfig</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param cfg optional config literal</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">// eslint-disable-next-line complexity</span><span class="s3">\n  </span><span class="s1">const _parseConfig = function _parseConfig() {</span><span class="s3">\n    </span><span class="s1">let cfg = arguments.length &gt; 0 &amp;&amp; arguments[0] !== undefined ? arguments[0] : {};</span><span class="s3">\n    </span><span class="s1">if (CONFIG &amp;&amp; CONFIG === cfg) {</span><span class="s3">\n      </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Shield configuration object from tampering */</span><span class="s3">\n    </span><span class="s1">if (!cfg || typeof cfg !== 'object') {</span><span class="s3">\n      </span><span class="s1">cfg = {};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Shield configuration object from prototype pollution */</span><span class="s3">\n    </span><span class="s1">cfg = clone(cfg);</span><span class="s3">\n    </span><span class="s1">PARSER_MEDIA_TYPE =</span><span class="s3">\n    </span><span class="s1">// eslint-disable-next-line unicorn/prefer-includes</span><span class="s3">\n    </span><span class="s1">SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;</span><span class="s3">\n    </span><span class="s1">// HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.</span><span class="s3">\n    </span><span class="s1">transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;</span><span class="s3">\n    </span><span class="s1">/* Set configuration parameters */</span><span class="s3">\n    </span><span class="s1">ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;</span><span class="s3">\n    </span><span class="s1">ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;</span><span class="s3">\n    </span><span class="s1">ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;</span><span class="s3">\n    </span><span class="s1">URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;</span><span class="s3">\n    </span><span class="s1">DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;</span><span class="s3">\n    </span><span class="s1">FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;</span><span class="s3">\n    </span><span class="s1">FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};</span><span class="s3">\n    </span><span class="s1">FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};</span><span class="s3">\n    </span><span class="s1">USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;</span><span class="s3">\n    </span><span class="s1">ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true</span><span class="s3">\n    </span><span class="s1">ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true</span><span class="s3">\n    </span><span class="s1">ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false</span><span class="s3">\n    </span><span class="s1">ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true</span><span class="s3">\n    </span><span class="s1">SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false</span><span class="s3">\n    </span><span class="s1">SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true</span><span class="s3">\n    </span><span class="s1">WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false</span><span class="s3">\n    </span><span class="s1">RETURN_DOM = cfg.RETURN_DOM || false; // Default false</span><span class="s3">\n    </span><span class="s1">RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false</span><span class="s3">\n    </span><span class="s1">RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false</span><span class="s3">\n    </span><span class="s1">FORCE_BODY = cfg.FORCE_BODY || false; // Default false</span><span class="s3">\n    </span><span class="s1">SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true</span><span class="s3">\n    </span><span class="s1">SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false</span><span class="s3">\n    </span><span class="s1">KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true</span><span class="s3">\n    </span><span class="s1">IN_PLACE = cfg.IN_PLACE || false; // Default false</span><span class="s3">\n    </span><span class="s1">IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;</span><span class="s3">\n    </span><span class="s1">NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;</span><span class="s3">\n    </span><span class="s1">MATHML_TEXT_INTEGRATION_POINTS = cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;</span><span class="s3">\n    </span><span class="s1">HTML_INTEGRATION_POINTS = cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;</span><span class="s3">\n    </span><span class="s1">CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};</span><span class="s3">\n    </span><span class="s1">if (cfg.CUSTOM_ELEMENT_HANDLING &amp;&amp; isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {</span><span class="s3">\n      </span><span class="s1">CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (cfg.CUSTOM_ELEMENT_HANDLING &amp;&amp; isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {</span><span class="s3">\n      </span><span class="s1">CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (cfg.CUSTOM_ELEMENT_HANDLING &amp;&amp; typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {</span><span class="s3">\n      </span><span class="s1">CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (SAFE_FOR_TEMPLATES) {</span><span class="s3">\n      </span><span class="s1">ALLOW_DATA_ATTR = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (RETURN_DOM_FRAGMENT) {</span><span class="s3">\n      </span><span class="s1">RETURN_DOM = true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Parse profile info */</span><span class="s3">\n    </span><span class="s1">if (USE_PROFILES) {</span><span class="s3">\n      </span><span class="s1">ALLOWED_TAGS = addToSet({}, text);</span><span class="s3">\n      </span><span class="s1">ALLOWED_ATTR = [];</span><span class="s3">\n      </span><span class="s1">if (USE_PROFILES.html === true) {</span><span class="s3">\n        </span><span class="s1">addToSet(ALLOWED_TAGS, html$1);</span><span class="s3">\n        </span><span class="s1">addToSet(ALLOWED_ATTR, html);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (USE_PROFILES.svg === true) {</span><span class="s3">\n        </span><span class="s1">addToSet(ALLOWED_TAGS, svg$1);</span><span class="s3">\n        </span><span class="s1">addToSet(ALLOWED_ATTR, svg);</span><span class="s3">\n        </span><span class="s1">addToSet(ALLOWED_ATTR, xml);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (USE_PROFILES.svgFilters === true) {</span><span class="s3">\n        </span><span class="s1">addToSet(ALLOWED_TAGS, svgFilters);</span><span class="s3">\n        </span><span class="s1">addToSet(ALLOWED_ATTR, svg);</span><span class="s3">\n        </span><span class="s1">addToSet(ALLOWED_ATTR, xml);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (USE_PROFILES.mathMl === true) {</span><span class="s3">\n        </span><span class="s1">addToSet(ALLOWED_TAGS, mathMl$1);</span><span class="s3">\n        </span><span class="s1">addToSet(ALLOWED_ATTR, mathMl);</span><span class="s3">\n        </span><span class="s1">addToSet(ALLOWED_ATTR, xml);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Merge configuration parameters */</span><span class="s3">\n    </span><span class="s1">if (cfg.ADD_TAGS) {</span><span class="s3">\n      </span><span class="s1">if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {</span><span class="s3">\n        </span><span class="s1">ALLOWED_TAGS = clone(ALLOWED_TAGS);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (cfg.ADD_ATTR) {</span><span class="s3">\n      </span><span class="s1">if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {</span><span class="s3">\n        </span><span class="s1">ALLOWED_ATTR = clone(ALLOWED_ATTR);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (cfg.ADD_URI_SAFE_ATTR) {</span><span class="s3">\n      </span><span class="s1">addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (cfg.FORBID_CONTENTS) {</span><span class="s3">\n      </span><span class="s1">if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {</span><span class="s3">\n        </span><span class="s1">FORBID_CONTENTS = clone(FORBID_CONTENTS);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Add #text in case KEEP_CONTENT is set to true */</span><span class="s3">\n    </span><span class="s1">if (KEEP_CONTENT) {</span><span class="s3">\n      </span><span class="s1">ALLOWED_TAGS['#text'] = true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */</span><span class="s3">\n    </span><span class="s1">if (WHOLE_DOCUMENT) {</span><span class="s3">\n      </span><span class="s1">addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */</span><span class="s3">\n    </span><span class="s1">if (ALLOWED_TAGS.table) {</span><span class="s3">\n      </span><span class="s1">addToSet(ALLOWED_TAGS, ['tbody']);</span><span class="s3">\n      </span><span class="s1">delete FORBID_TAGS.tbody;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (cfg.TRUSTED_TYPES_POLICY) {</span><span class="s3">\n      </span><span class="s1">if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {</span><span class="s3">\n        </span><span class="s1">throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a </span><span class="s3">\&quot;</span><span class="s1">createHTML</span><span class="s3">\&quot; </span><span class="s1">hook.');</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {</span><span class="s3">\n        </span><span class="s1">throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a </span><span class="s3">\&quot;</span><span class="s1">createScriptURL</span><span class="s3">\&quot; </span><span class="s1">hook.');</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">// Overwrite existing TrustedTypes policy.</span><span class="s3">\n      </span><span class="s1">trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;</span><span class="s3">\n      </span><span class="s1">// Sign local variables required by `sanitize`.</span><span class="s3">\n      </span><span class="s1">emptyHTML = trustedTypesPolicy.createHTML('');</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">// Uninitialized policy, attempt to initialize the internal dompurify policy.</span><span class="s3">\n      </span><span class="s1">if (trustedTypesPolicy === undefined) {</span><span class="s3">\n        </span><span class="s1">trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">// If creating the internal policy succeeded sign internal variables.</span><span class="s3">\n      </span><span class="s1">if (trustedTypesPolicy !== null &amp;&amp; typeof emptyHTML === 'string') {</span><span class="s3">\n        </span><span class="s1">emptyHTML = trustedTypesPolicy.createHTML('');</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// Prevent further manipulation of configuration.</span><span class="s3">\n    </span><span class="s1">// Not available in IE8, Safari 5, etc.</span><span class="s3">\n    </span><span class="s1">if (freeze) {</span><span class="s3">\n      </span><span class="s1">freeze(cfg);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">CONFIG = cfg;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">/* Keep track of all possible SVG and MathML tags</span><span class="s3">\n   </span><span class="s1">* so that we can perform the namespace checks</span><span class="s3">\n   </span><span class="s1">* correctly. */</span><span class="s3">\n  </span><span class="s1">const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);</span><span class="s3">\n  </span><span class="s1">const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* @param element a DOM element whose namespace is being checked</span><span class="s3">\n   </span><span class="s1">* @returns Return false if the element has a</span><span class="s3">\n   </span><span class="s1">*  namespace that a spec-compliant parser would never</span><span class="s3">\n   </span><span class="s1">*  return. Return true otherwise.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">const _checkValidNamespace = function _checkValidNamespace(element) {</span><span class="s3">\n    </span><span class="s1">let parent = getParentNode(element);</span><span class="s3">\n    </span><span class="s1">// In JSDOM, if we're inside shadow DOM, then parentNode</span><span class="s3">\n    </span><span class="s1">// can be null. We just simulate parent in this case.</span><span class="s3">\n    </span><span class="s1">if (!parent || !parent.tagName) {</span><span class="s3">\n      </span><span class="s1">parent = {</span><span class="s3">\n        </span><span class="s1">namespaceURI: NAMESPACE,</span><span class="s3">\n        </span><span class="s1">tagName: 'template'</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const tagName = stringToLowerCase(element.tagName);</span><span class="s3">\n    </span><span class="s1">const parentTagName = stringToLowerCase(parent.tagName);</span><span class="s3">\n    </span><span class="s1">if (!ALLOWED_NAMESPACES[element.namespaceURI]) {</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (element.namespaceURI === SVG_NAMESPACE) {</span><span class="s3">\n      </span><span class="s1">// The only way to switch from HTML namespace to SVG</span><span class="s3">\n      </span><span class="s1">// is via &lt;svg&gt;. If it happens via any other tag, then</span><span class="s3">\n      </span><span class="s1">// it should be killed.</span><span class="s3">\n      </span><span class="s1">if (parent.namespaceURI === HTML_NAMESPACE) {</span><span class="s3">\n        </span><span class="s1">return tagName === 'svg';</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">// The only way to switch from MathML to SVG is via`</span><span class="s3">\n      </span><span class="s1">// svg if parent is either &lt;annotation-xml&gt; or MathML</span><span class="s3">\n      </span><span class="s1">// text integration points.</span><span class="s3">\n      </span><span class="s1">if (parent.namespaceURI === MATHML_NAMESPACE) {</span><span class="s3">\n        </span><span class="s1">return tagName === 'svg' &amp;&amp; (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">// We only allow elements that are defined in SVG</span><span class="s3">\n      </span><span class="s1">// spec. All others are disallowed in SVG namespace.</span><span class="s3">\n      </span><span class="s1">return Boolean(ALL_SVG_TAGS[tagName]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (element.namespaceURI === MATHML_NAMESPACE) {</span><span class="s3">\n      </span><span class="s1">// The only way to switch from HTML namespace to MathML</span><span class="s3">\n      </span><span class="s1">// is via &lt;math&gt;. If it happens via any other tag, then</span><span class="s3">\n      </span><span class="s1">// it should be killed.</span><span class="s3">\n      </span><span class="s1">if (parent.namespaceURI === HTML_NAMESPACE) {</span><span class="s3">\n        </span><span class="s1">return tagName === 'math';</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">// The only way to switch from SVG to MathML is via</span><span class="s3">\n      </span><span class="s1">// &lt;math&gt; and HTML integration points</span><span class="s3">\n      </span><span class="s1">if (parent.namespaceURI === SVG_NAMESPACE) {</span><span class="s3">\n        </span><span class="s1">return tagName === 'math' &amp;&amp; HTML_INTEGRATION_POINTS[parentTagName];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">// We only allow elements that are defined in MathML</span><span class="s3">\n      </span><span class="s1">// spec. All others are disallowed in MathML namespace.</span><span class="s3">\n      </span><span class="s1">return Boolean(ALL_MATHML_TAGS[tagName]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (element.namespaceURI === HTML_NAMESPACE) {</span><span class="s3">\n      </span><span class="s1">// The only way to switch from SVG to HTML is via</span><span class="s3">\n      </span><span class="s1">// HTML integration points, and from MathML to HTML</span><span class="s3">\n      </span><span class="s1">// is via MathML text integration points</span><span class="s3">\n      </span><span class="s1">if (parent.namespaceURI === SVG_NAMESPACE &amp;&amp; !HTML_INTEGRATION_POINTS[parentTagName]) {</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (parent.namespaceURI === MATHML_NAMESPACE &amp;&amp; !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">// We disallow tags that are specific for MathML</span><span class="s3">\n      </span><span class="s1">// or SVG and should never appear in HTML namespace</span><span class="s3">\n      </span><span class="s1">return !ALL_MATHML_TAGS[tagName] &amp;&amp; (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// For XHTML and XML documents that support custom namespaces</span><span class="s3">\n    </span><span class="s1">if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' &amp;&amp; ALLOWED_NAMESPACES[element.namespaceURI]) {</span><span class="s3">\n      </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// The code should never reach this place (this means</span><span class="s3">\n    </span><span class="s1">// that the element somehow got namespace that is not</span><span class="s3">\n    </span><span class="s1">// HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).</span><span class="s3">\n    </span><span class="s1">// Return false just in case.</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* _forceRemove</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param node a DOM node</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">const _forceRemove = function _forceRemove(node) {</span><span class="s3">\n    </span><span class="s1">arrayPush(DOMPurify.removed, {</span><span class="s3">\n      </span><span class="s1">element: node</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">// eslint-disable-next-line unicorn/prefer-dom-node-remove</span><span class="s3">\n      </span><span class="s1">getParentNode(node).removeChild(node);</span><span class="s3">\n    </span><span class="s1">} catch (_) {</span><span class="s3">\n      </span><span class="s1">remove(node);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* _removeAttribute</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param name an Attribute name</span><span class="s3">\n   </span><span class="s1">* @param element a DOM node</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">const _removeAttribute = function _removeAttribute(name, element) {</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">arrayPush(DOMPurify.removed, {</span><span class="s3">\n        </span><span class="s1">attribute: element.getAttributeNode(name),</span><span class="s3">\n        </span><span class="s1">from: element</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">} catch (_) {</span><span class="s3">\n      </span><span class="s1">arrayPush(DOMPurify.removed, {</span><span class="s3">\n        </span><span class="s1">attribute: null,</span><span class="s3">\n        </span><span class="s1">from: element</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">element.removeAttribute(name);</span><span class="s3">\n    </span><span class="s1">// We void attribute values for unremovable </span><span class="s3">\&quot;</span><span class="s1">is</span><span class="s3">\&quot; </span><span class="s1">attributes</span><span class="s3">\n    </span><span class="s1">if (name === 'is') {</span><span class="s3">\n      </span><span class="s1">if (RETURN_DOM || RETURN_DOM_FRAGMENT) {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n          </span><span class="s1">_forceRemove(element);</span><span class="s3">\n        </span><span class="s1">} catch (_) {}</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n          </span><span class="s1">element.setAttribute(name, '');</span><span class="s3">\n        </span><span class="s1">} catch (_) {}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* _initDocument</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param dirty - a string of dirty markup</span><span class="s3">\n   </span><span class="s1">* @return a DOM, filled with the dirty markup</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">const _initDocument = function _initDocument(dirty) {</span><span class="s3">\n    </span><span class="s1">/* Create a HTML document */</span><span class="s3">\n    </span><span class="s1">let doc = null;</span><span class="s3">\n    </span><span class="s1">let leadingWhitespace = null;</span><span class="s3">\n    </span><span class="s1">if (FORCE_BODY) {</span><span class="s3">\n      </span><span class="s1">dirty = '&lt;remove&gt;&lt;/remove&gt;' + dirty;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">/* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */</span><span class="s3">\n      </span><span class="s1">const matches = stringMatch(dirty, /^[</span><span class="s3">\\</span><span class="s1">r</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\\</span><span class="s1">t ]+/);</span><span class="s3">\n      </span><span class="s1">leadingWhitespace = matches &amp;&amp; matches[0];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' &amp;&amp; NAMESPACE === HTML_NAMESPACE) {</span><span class="s3">\n      </span><span class="s1">// Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)</span><span class="s3">\n      </span><span class="s1">dirty = '&lt;html xmlns=</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/1999/xhtml</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;' + dirty + '&lt;/body&gt;&lt;/html&gt;';</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;</span><span class="s3">\n    </span><span class="s1">/*</span><span class="s3">\n     </span><span class="s1">* Use the DOMParser API by default, fallback later if needs be</span><span class="s3">\n     </span><span class="s1">* DOMParser not work for svg when has multiple root element.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">if (NAMESPACE === HTML_NAMESPACE) {</span><span class="s3">\n      </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);</span><span class="s3">\n      </span><span class="s1">} catch (_) {}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Use createHTMLDocument in case DOMParser is not available */</span><span class="s3">\n    </span><span class="s1">if (!doc || !doc.documentElement) {</span><span class="s3">\n      </span><span class="s1">doc = implementation.createDocument(NAMESPACE, 'template', null);</span><span class="s3">\n      </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;</span><span class="s3">\n      </span><span class="s1">} catch (_) {</span><span class="s3">\n        </span><span class="s1">// Syntax error if dirtyPayload is invalid xml</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const body = doc.body || doc.documentElement;</span><span class="s3">\n    </span><span class="s1">if (dirty &amp;&amp; leadingWhitespace) {</span><span class="s3">\n      </span><span class="s1">body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Work on whole document or just its body */</span><span class="s3">\n    </span><span class="s1">if (NAMESPACE === HTML_NAMESPACE) {</span><span class="s3">\n      </span><span class="s1">return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return WHOLE_DOCUMENT ? doc.documentElement : body;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param root The root element or node to start traversing on.</span><span class="s3">\n   </span><span class="s1">* @return The created NodeIterator</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">const _createNodeIterator = function _createNodeIterator(root) {</span><span class="s3">\n    </span><span class="s1">return createNodeIterator.call(root.ownerDocument || root, root,</span><span class="s3">\n    </span><span class="s1">// eslint-disable-next-line no-bitwise</span><span class="s3">\n    </span><span class="s1">NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* _isClobbered</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param element element to check for clobbering attacks</span><span class="s3">\n   </span><span class="s1">* @return true if clobbered, false if safe</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">const _isClobbered = function _isClobbered(element) {</span><span class="s3">\n    </span><span class="s1">return element instanceof HTMLFormElement &amp;&amp; (typeof element.nodeName !== 'string' || typeof element.textContent !== 'string' || typeof element.removeChild !== 'function' || !(element.attributes instanceof NamedNodeMap) || typeof element.removeAttribute !== 'function' || typeof element.setAttribute !== 'function' || typeof element.namespaceURI !== 'string' || typeof element.insertBefore !== 'function' || typeof element.hasChildNodes !== 'function');</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Checks whether the given object is a DOM node.</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param value object to check whether it's a DOM node</span><span class="s3">\n   </span><span class="s1">* @return true is object is a DOM node</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">const _isNode = function _isNode(value) {</span><span class="s3">\n    </span><span class="s1">return typeof Node === 'function' &amp;&amp; value instanceof Node;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">function _executeHooks(hooks, currentNode, data) {</span><span class="s3">\n    </span><span class="s1">arrayForEach(hooks, hook =&gt; {</span><span class="s3">\n      </span><span class="s1">hook.call(DOMPurify, currentNode, data, CONFIG);</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* _sanitizeElements</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @protect nodeName</span><span class="s3">\n   </span><span class="s1">* @protect textContent</span><span class="s3">\n   </span><span class="s1">* @protect removeChild</span><span class="s3">\n   </span><span class="s1">* @param currentNode to check for permission to exist</span><span class="s3">\n   </span><span class="s1">* @return true if node was killed, false if left alive</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">const _sanitizeElements = function _sanitizeElements(currentNode) {</span><span class="s3">\n    </span><span class="s1">let content = null;</span><span class="s3">\n    </span><span class="s1">/* Execute a hook if present */</span><span class="s3">\n    </span><span class="s1">_executeHooks(hooks.beforeSanitizeElements, currentNode, null);</span><span class="s3">\n    </span><span class="s1">/* Check if element is clobbered or can clobber */</span><span class="s3">\n    </span><span class="s1">if (_isClobbered(currentNode)) {</span><span class="s3">\n      </span><span class="s1">_forceRemove(currentNode);</span><span class="s3">\n      </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Now let's check the element's type and name */</span><span class="s3">\n    </span><span class="s1">const tagName = transformCaseFunc(currentNode.nodeName);</span><span class="s3">\n    </span><span class="s1">/* Execute a hook if present */</span><span class="s3">\n    </span><span class="s1">_executeHooks(hooks.uponSanitizeElement, currentNode, {</span><span class="s3">\n      </span><span class="s1">tagName,</span><span class="s3">\n      </span><span class="s1">allowedTags: ALLOWED_TAGS</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">/* Detect mXSS attempts abusing namespace confusion */</span><span class="s3">\n    </span><span class="s1">if (currentNode.hasChildNodes() &amp;&amp; !_isNode(currentNode.firstElementChild) &amp;&amp; regExpTest(/&lt;[/</span><span class="s3">\\</span><span class="s1">w]/g, currentNode.innerHTML) &amp;&amp; regExpTest(/&lt;[/</span><span class="s3">\\</span><span class="s1">w]/g, currentNode.textContent)) {</span><span class="s3">\n      </span><span class="s1">_forceRemove(currentNode);</span><span class="s3">\n      </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Remove any occurrence of processing instructions */</span><span class="s3">\n    </span><span class="s1">if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {</span><span class="s3">\n      </span><span class="s1">_forceRemove(currentNode);</span><span class="s3">\n      </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Remove any kind of possibly harmful comments */</span><span class="s3">\n    </span><span class="s1">if (SAFE_FOR_XML &amp;&amp; currentNode.nodeType === NODE_TYPE.comment &amp;&amp; regExpTest(/&lt;[/</span><span class="s3">\\</span><span class="s1">w]/g, currentNode.data)) {</span><span class="s3">\n      </span><span class="s1">_forceRemove(currentNode);</span><span class="s3">\n      </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Remove element if anything forbids its presence */</span><span class="s3">\n    </span><span class="s1">if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {</span><span class="s3">\n      </span><span class="s1">/* Check if we have a custom element to handle */</span><span class="s3">\n      </span><span class="s1">if (!FORBID_TAGS[tagName] &amp;&amp; _isBasicCustomElement(tagName)) {</span><span class="s3">\n        </span><span class="s1">if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &amp;&amp; regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {</span><span class="s3">\n          </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &amp;&amp; CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {</span><span class="s3">\n          </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">/* Keep content except for bad-listed elements */</span><span class="s3">\n      </span><span class="s1">if (KEEP_CONTENT &amp;&amp; !FORBID_CONTENTS[tagName]) {</span><span class="s3">\n        </span><span class="s1">const parentNode = getParentNode(currentNode) || currentNode.parentNode;</span><span class="s3">\n        </span><span class="s1">const childNodes = getChildNodes(currentNode) || currentNode.childNodes;</span><span class="s3">\n        </span><span class="s1">if (childNodes &amp;&amp; parentNode) {</span><span class="s3">\n          </span><span class="s1">const childCount = childNodes.length;</span><span class="s3">\n          </span><span class="s1">for (let i = childCount - 1; i &gt;= 0; --i) {</span><span class="s3">\n            </span><span class="s1">const childClone = cloneNode(childNodes[i], true);</span><span class="s3">\n            </span><span class="s1">childClone.__removalCount = (currentNode.__removalCount || 0) + 1;</span><span class="s3">\n            </span><span class="s1">parentNode.insertBefore(childClone, getNextSibling(currentNode));</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">_forceRemove(currentNode);</span><span class="s3">\n      </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Check whether element has a valid namespace */</span><span class="s3">\n    </span><span class="s1">if (currentNode instanceof Element &amp;&amp; !_checkValidNamespace(currentNode)) {</span><span class="s3">\n      </span><span class="s1">_forceRemove(currentNode);</span><span class="s3">\n      </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Make sure that older browsers don't get fallback-tag mXSS */</span><span class="s3">\n    </span><span class="s1">if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') &amp;&amp; regExpTest(/&lt;</span><span class="s3">\\</span><span class="s1">/no(script|embed|frames)/i, currentNode.innerHTML)) {</span><span class="s3">\n      </span><span class="s1">_forceRemove(currentNode);</span><span class="s3">\n      </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Sanitize element content to be template-safe */</span><span class="s3">\n    </span><span class="s1">if (SAFE_FOR_TEMPLATES &amp;&amp; currentNode.nodeType === NODE_TYPE.text) {</span><span class="s3">\n      </span><span class="s1">/* Get the element's text content */</span><span class="s3">\n      </span><span class="s1">content = currentNode.textContent;</span><span class="s3">\n      </span><span class="s1">arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr =&gt; {</span><span class="s3">\n        </span><span class="s1">content = stringReplace(content, expr, ' ');</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n      </span><span class="s1">if (currentNode.textContent !== content) {</span><span class="s3">\n        </span><span class="s1">arrayPush(DOMPurify.removed, {</span><span class="s3">\n          </span><span class="s1">element: currentNode.cloneNode()</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">currentNode.textContent = content;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Execute a hook if present */</span><span class="s3">\n    </span><span class="s1">_executeHooks(hooks.afterSanitizeElements, currentNode, null);</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* _isValidAttribute</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param lcTag Lowercase tag name of containing element.</span><span class="s3">\n   </span><span class="s1">* @param lcName Lowercase attribute name.</span><span class="s3">\n   </span><span class="s1">* @param value Attribute value.</span><span class="s3">\n   </span><span class="s1">* @return Returns true if `value` is valid, otherwise false.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">// eslint-disable-next-line complexity</span><span class="s3">\n  </span><span class="s1">const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {</span><span class="s3">\n    </span><span class="s1">/* Make sure attribute cannot clobber */</span><span class="s3">\n    </span><span class="s1">if (SANITIZE_DOM &amp;&amp; (lcName === 'id' || lcName === 'name') &amp;&amp; (value in document || value in formElement)) {</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Allow valid data-* attributes: At least one character after </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;\n        </span><span class="s1">(https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)</span><span class="s3">\n        </span><span class="s1">XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)</span><span class="s3">\n        </span><span class="s1">We don't need to check the value; it's always URI safe. */</span><span class="s3">\n    </span><span class="s1">if (ALLOW_DATA_ATTR &amp;&amp; !FORBID_ATTR[lcName] &amp;&amp; regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR &amp;&amp; regExpTest(ARIA_ATTR, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {</span><span class="s3">\n      </span><span class="s1">if (</span><span class="s3">\n      </span><span class="s1">// First condition does a very basic check if a) it's basically a valid custom element tagname AND</span><span class="s3">\n      </span><span class="s1">// b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck</span><span class="s3">\n      </span><span class="s1">// and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck</span><span class="s3">\n      </span><span class="s1">_isBasicCustomElement(lcTag) &amp;&amp; (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &amp;&amp; regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &amp;&amp; CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) &amp;&amp; (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp &amp;&amp; regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function &amp;&amp; CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) ||</span><span class="s3">\n      </span><span class="s1">// Alternative, second condition checks if it's an `is`-attribute, AND</span><span class="s3">\n      </span><span class="s1">// the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck</span><span class="s3">\n      </span><span class="s1">lcName === 'is' &amp;&amp; CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements &amp;&amp; (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &amp;&amp; regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &amp;&amp; CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">/* Check value is safe. First, is attr inert? If so, is safe */</span><span class="s3">\n    </span><span class="s1">} else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') &amp;&amp; lcTag !== 'script' &amp;&amp; stringIndexOf(value, 'data:') === 0 &amp;&amp; DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS &amp;&amp; !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">} else ;</span><span class="s3">\n    </span><span class="s1">return true;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* _isBasicCustomElement</span><span class="s3">\n   </span><span class="s1">* checks if at least one dash is included in tagName, and it's not the first char</span><span class="s3">\n   </span><span class="s1">* for more sophisticated checking see https://github.com/sindresorhus/validate-element-name</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param tagName name of the tag of the node to sanitize</span><span class="s3">\n   </span><span class="s1">* @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">const _isBasicCustomElement = function _isBasicCustomElement(tagName) {</span><span class="s3">\n    </span><span class="s1">return tagName !== 'annotation-xml' &amp;&amp; stringMatch(tagName, CUSTOM_ELEMENT);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* _sanitizeAttributes</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @protect attributes</span><span class="s3">\n   </span><span class="s1">* @protect nodeName</span><span class="s3">\n   </span><span class="s1">* @protect removeAttribute</span><span class="s3">\n   </span><span class="s1">* @protect setAttribute</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param currentNode to sanitize</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {</span><span class="s3">\n    </span><span class="s1">/* Execute a hook if present */</span><span class="s3">\n    </span><span class="s1">_executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);</span><span class="s3">\n    </span><span class="s1">const {</span><span class="s3">\n      </span><span class="s1">attributes</span><span class="s3">\n    </span><span class="s1">} = currentNode;</span><span class="s3">\n    </span><span class="s1">/* Check if we have attributes; if not we might have a text node */</span><span class="s3">\n    </span><span class="s1">if (!attributes || _isClobbered(currentNode)) {</span><span class="s3">\n      </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const hookEvent = {</span><span class="s3">\n      </span><span class="s1">attrName: '',</span><span class="s3">\n      </span><span class="s1">attrValue: '',</span><span class="s3">\n      </span><span class="s1">keepAttr: true,</span><span class="s3">\n      </span><span class="s1">allowedAttributes: ALLOWED_ATTR,</span><span class="s3">\n      </span><span class="s1">forceKeepAttr: undefined</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">let l = attributes.length;</span><span class="s3">\n    </span><span class="s1">/* Go backwards over all attributes; safely remove bad ones */</span><span class="s3">\n    </span><span class="s1">while (l--) {</span><span class="s3">\n      </span><span class="s1">const attr = attributes[l];</span><span class="s3">\n      </span><span class="s1">const {</span><span class="s3">\n        </span><span class="s1">name,</span><span class="s3">\n        </span><span class="s1">namespaceURI,</span><span class="s3">\n        </span><span class="s1">value: attrValue</span><span class="s3">\n      </span><span class="s1">} = attr;</span><span class="s3">\n      </span><span class="s1">const lcName = transformCaseFunc(name);</span><span class="s3">\n      </span><span class="s1">let value = name === 'value' ? attrValue : stringTrim(attrValue);</span><span class="s3">\n      </span><span class="s1">/* Execute a hook if present */</span><span class="s3">\n      </span><span class="s1">hookEvent.attrName = lcName;</span><span class="s3">\n      </span><span class="s1">hookEvent.attrValue = value;</span><span class="s3">\n      </span><span class="s1">hookEvent.keepAttr = true;</span><span class="s3">\n      </span><span class="s1">hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set</span><span class="s3">\n      </span><span class="s1">_executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);</span><span class="s3">\n      </span><span class="s1">value = hookEvent.attrValue;</span><span class="s3">\n      </span><span class="s1">/* Full DOM Clobbering protection via namespace isolation,</span><span class="s3">\n       </span><span class="s1">* Prefix id and name attributes with `user-content-`</span><span class="s3">\n       </span><span class="s1">*/</span><span class="s3">\n      </span><span class="s1">if (SANITIZE_NAMED_PROPS &amp;&amp; (lcName === 'id' || lcName === 'name')) {</span><span class="s3">\n        </span><span class="s1">// Remove the attribute with this value</span><span class="s3">\n        </span><span class="s1">_removeAttribute(name, currentNode);</span><span class="s3">\n        </span><span class="s1">// Prefix the value and later re-create the attribute with the sanitized value</span><span class="s3">\n        </span><span class="s1">value = SANITIZE_NAMED_PROPS_PREFIX + value;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">/* Work around a security issue with comments inside attributes */</span><span class="s3">\n      </span><span class="s1">if (SAFE_FOR_XML &amp;&amp; regExpTest(/((--!?|])&gt;)|&lt;</span><span class="s3">\\</span><span class="s1">/(style|title)/i, value)) {</span><span class="s3">\n        </span><span class="s1">_removeAttribute(name, currentNode);</span><span class="s3">\n        </span><span class="s1">continue;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">/* Did the hooks approve of the attribute? */</span><span class="s3">\n      </span><span class="s1">if (hookEvent.forceKeepAttr) {</span><span class="s3">\n        </span><span class="s1">continue;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">/* Remove attribute */</span><span class="s3">\n      </span><span class="s1">_removeAttribute(name, currentNode);</span><span class="s3">\n      </span><span class="s1">/* Did the hooks approve of the attribute? */</span><span class="s3">\n      </span><span class="s1">if (!hookEvent.keepAttr) {</span><span class="s3">\n        </span><span class="s1">continue;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">/* Work around a security issue in jQuery 3.0 */</span><span class="s3">\n      </span><span class="s1">if (!ALLOW_SELF_CLOSE_IN_ATTR &amp;&amp; regExpTest(/</span><span class="s3">\\</span><span class="s1">/&gt;/i, value)) {</span><span class="s3">\n        </span><span class="s1">_removeAttribute(name, currentNode);</span><span class="s3">\n        </span><span class="s1">continue;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">/* Sanitize attribute content to be template-safe */</span><span class="s3">\n      </span><span class="s1">if (SAFE_FOR_TEMPLATES) {</span><span class="s3">\n        </span><span class="s1">arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr =&gt; {</span><span class="s3">\n          </span><span class="s1">value = stringReplace(value, expr, ' ');</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">/* Is `value` valid for this attribute? */</span><span class="s3">\n      </span><span class="s1">const lcTag = transformCaseFunc(currentNode.nodeName);</span><span class="s3">\n      </span><span class="s1">if (!_isValidAttribute(lcTag, lcName, value)) {</span><span class="s3">\n        </span><span class="s1">continue;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">/* Handle attributes that require Trusted Types */</span><span class="s3">\n      </span><span class="s1">if (trustedTypesPolicy &amp;&amp; typeof trustedTypes === 'object' &amp;&amp; typeof trustedTypes.getAttributeType === 'function') {</span><span class="s3">\n        </span><span class="s1">if (namespaceURI) ; else {</span><span class="s3">\n          </span><span class="s1">switch (trustedTypes.getAttributeType(lcTag, lcName)) {</span><span class="s3">\n            </span><span class="s1">case 'TrustedHTML':</span><span class="s3">\n              </span><span class="s1">{</span><span class="s3">\n                </span><span class="s1">value = trustedTypesPolicy.createHTML(value);</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case 'TrustedScriptURL':</span><span class="s3">\n              </span><span class="s1">{</span><span class="s3">\n                </span><span class="s1">value = trustedTypesPolicy.createScriptURL(value);</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">/* Handle invalid data-* attribute set by try-catching it */</span><span class="s3">\n      </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">if (namespaceURI) {</span><span class="s3">\n          </span><span class="s1">currentNode.setAttributeNS(namespaceURI, name, value);</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">/* Fallback to setAttribute() for browser-unrecognized namespaces e.g. </span><span class="s3">\&quot;</span><span class="s1">x-schema</span><span class="s3">\&quot;</span><span class="s1">. */</span><span class="s3">\n          </span><span class="s1">currentNode.setAttribute(name, value);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (_isClobbered(currentNode)) {</span><span class="s3">\n          </span><span class="s1">_forceRemove(currentNode);</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">arrayPop(DOMPurify.removed);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} catch (_) {}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Execute a hook if present */</span><span class="s3">\n    </span><span class="s1">_executeHooks(hooks.afterSanitizeAttributes, currentNode, null);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* _sanitizeShadowDOM</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param fragment to iterate over recursively</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {</span><span class="s3">\n    </span><span class="s1">let shadowNode = null;</span><span class="s3">\n    </span><span class="s1">const shadowIterator = _createNodeIterator(fragment);</span><span class="s3">\n    </span><span class="s1">/* Execute a hook if present */</span><span class="s3">\n    </span><span class="s1">_executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);</span><span class="s3">\n    </span><span class="s1">while (shadowNode = shadowIterator.nextNode()) {</span><span class="s3">\n      </span><span class="s1">/* Execute a hook if present */</span><span class="s3">\n      </span><span class="s1">_executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);</span><span class="s3">\n      </span><span class="s1">/* Sanitize tags and elements */</span><span class="s3">\n      </span><span class="s1">_sanitizeElements(shadowNode);</span><span class="s3">\n      </span><span class="s1">/* Check attributes next */</span><span class="s3">\n      </span><span class="s1">_sanitizeAttributes(shadowNode);</span><span class="s3">\n      </span><span class="s1">/* Deep shadow DOM detected */</span><span class="s3">\n      </span><span class="s1">if (shadowNode.content instanceof DocumentFragment) {</span><span class="s3">\n        </span><span class="s1">_sanitizeShadowDOM(shadowNode.content);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Execute a hook if present */</span><span class="s3">\n    </span><span class="s1">_executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">// eslint-disable-next-line complexity</span><span class="s3">\n  </span><span class="s1">DOMPurify.sanitize = function (dirty) {</span><span class="s3">\n    </span><span class="s1">let cfg = arguments.length &gt; 1 &amp;&amp; arguments[1] !== undefined ? arguments[1] : {};</span><span class="s3">\n    </span><span class="s1">let body = null;</span><span class="s3">\n    </span><span class="s1">let importedNode = null;</span><span class="s3">\n    </span><span class="s1">let currentNode = null;</span><span class="s3">\n    </span><span class="s1">let returnNode = null;</span><span class="s3">\n    </span><span class="s1">/* Make sure we have a string to sanitize.</span><span class="s3">\n      </span><span class="s1">DO NOT return early, as this will return the wrong type if</span><span class="s3">\n      </span><span class="s1">the user has requested a DOM object rather than a string */</span><span class="s3">\n    </span><span class="s1">IS_EMPTY_INPUT = !dirty;</span><span class="s3">\n    </span><span class="s1">if (IS_EMPTY_INPUT) {</span><span class="s3">\n      </span><span class="s1">dirty = '&lt;!--&gt;';</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Stringify, in case dirty is an object */</span><span class="s3">\n    </span><span class="s1">if (typeof dirty !== 'string' &amp;&amp; !_isNode(dirty)) {</span><span class="s3">\n      </span><span class="s1">if (typeof dirty.toString === 'function') {</span><span class="s3">\n        </span><span class="s1">dirty = dirty.toString();</span><span class="s3">\n        </span><span class="s1">if (typeof dirty !== 'string') {</span><span class="s3">\n          </span><span class="s1">throw typeErrorCreate('dirty is not a string, aborting');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">throw typeErrorCreate('toString is not a function');</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Return dirty HTML if DOMPurify cannot run */</span><span class="s3">\n    </span><span class="s1">if (!DOMPurify.isSupported) {</span><span class="s3">\n      </span><span class="s1">return dirty;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Assign config vars */</span><span class="s3">\n    </span><span class="s1">if (!SET_CONFIG) {</span><span class="s3">\n      </span><span class="s1">_parseConfig(cfg);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Clean up removed elements */</span><span class="s3">\n    </span><span class="s1">DOMPurify.removed = [];</span><span class="s3">\n    </span><span class="s1">/* Check if dirty is correctly typed for IN_PLACE */</span><span class="s3">\n    </span><span class="s1">if (typeof dirty === 'string') {</span><span class="s3">\n      </span><span class="s1">IN_PLACE = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (IN_PLACE) {</span><span class="s3">\n      </span><span class="s1">/* Do some early pre-sanitization to avoid unsafe root nodes */</span><span class="s3">\n      </span><span class="s1">if (dirty.nodeName) {</span><span class="s3">\n        </span><span class="s1">const tagName = transformCaseFunc(dirty.nodeName);</span><span class="s3">\n        </span><span class="s1">if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {</span><span class="s3">\n          </span><span class="s1">throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (dirty instanceof Node) {</span><span class="s3">\n      </span><span class="s1">/* If dirty is a DOM element, append to an empty document to avoid</span><span class="s3">\n         </span><span class="s1">elements being stripped by the parser */</span><span class="s3">\n      </span><span class="s1">body = _initDocument('&lt;!----&gt;');</span><span class="s3">\n      </span><span class="s1">importedNode = body.ownerDocument.importNode(dirty, true);</span><span class="s3">\n      </span><span class="s1">if (importedNode.nodeType === NODE_TYPE.element &amp;&amp; importedNode.nodeName === 'BODY') {</span><span class="s3">\n        </span><span class="s1">/* Node is already a body, use as is */</span><span class="s3">\n        </span><span class="s1">body = importedNode;</span><span class="s3">\n      </span><span class="s1">} else if (importedNode.nodeName === 'HTML') {</span><span class="s3">\n        </span><span class="s1">body = importedNode;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">// eslint-disable-next-line unicorn/prefer-dom-node-append</span><span class="s3">\n        </span><span class="s1">body.appendChild(importedNode);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">/* Exit directly if we have nothing to do */</span><span class="s3">\n      </span><span class="s1">if (!RETURN_DOM &amp;&amp; !SAFE_FOR_TEMPLATES &amp;&amp; !WHOLE_DOCUMENT &amp;&amp;</span><span class="s3">\n      </span><span class="s1">// eslint-disable-next-line unicorn/prefer-includes</span><span class="s3">\n      </span><span class="s1">dirty.indexOf('&lt;') === -1) {</span><span class="s3">\n        </span><span class="s1">return trustedTypesPolicy &amp;&amp; RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">/* Initialize the document to work on */</span><span class="s3">\n      </span><span class="s1">body = _initDocument(dirty);</span><span class="s3">\n      </span><span class="s1">/* Check we have a DOM node from the data */</span><span class="s3">\n      </span><span class="s1">if (!body) {</span><span class="s3">\n        </span><span class="s1">return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Remove first element node (ours) if FORCE_BODY is set */</span><span class="s3">\n    </span><span class="s1">if (body &amp;&amp; FORCE_BODY) {</span><span class="s3">\n      </span><span class="s1">_forceRemove(body.firstChild);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Get node iterator */</span><span class="s3">\n    </span><span class="s1">const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);</span><span class="s3">\n    </span><span class="s1">/* Now start iterating over the created document */</span><span class="s3">\n    </span><span class="s1">while (currentNode = nodeIterator.nextNode()) {</span><span class="s3">\n      </span><span class="s1">/* Sanitize tags and elements */</span><span class="s3">\n      </span><span class="s1">_sanitizeElements(currentNode);</span><span class="s3">\n      </span><span class="s1">/* Check attributes next */</span><span class="s3">\n      </span><span class="s1">_sanitizeAttributes(currentNode);</span><span class="s3">\n      </span><span class="s1">/* Shadow DOM detected, sanitize it */</span><span class="s3">\n      </span><span class="s1">if (currentNode.content instanceof DocumentFragment) {</span><span class="s3">\n        </span><span class="s1">_sanitizeShadowDOM(currentNode.content);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* If we sanitized `dirty` in-place, return it. */</span><span class="s3">\n    </span><span class="s1">if (IN_PLACE) {</span><span class="s3">\n      </span><span class="s1">return dirty;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Return sanitized string or DOM */</span><span class="s3">\n    </span><span class="s1">if (RETURN_DOM) {</span><span class="s3">\n      </span><span class="s1">if (RETURN_DOM_FRAGMENT) {</span><span class="s3">\n        </span><span class="s1">returnNode = createDocumentFragment.call(body.ownerDocument);</span><span class="s3">\n        </span><span class="s1">while (body.firstChild) {</span><span class="s3">\n          </span><span class="s1">// eslint-disable-next-line unicorn/prefer-dom-node-append</span><span class="s3">\n          </span><span class="s1">returnNode.appendChild(body.firstChild);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">returnNode = body;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {</span><span class="s3">\n        </span><span class="s1">/*</span><span class="s3">\n          </span><span class="s1">AdoptNode() is not used because internal state is not reset</span><span class="s3">\n          </span><span class="s1">(e.g. the past names map of a HTMLFormElement), this is safe</span><span class="s3">\n          </span><span class="s1">in theory but we would rather not risk another attack vector.</span><span class="s3">\n          </span><span class="s1">The state that is cloned by importNode() is explicitly defined</span><span class="s3">\n          </span><span class="s1">by the specs.</span><span class="s3">\n        </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">returnNode = importNode.call(originalDocument, returnNode, true);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return returnNode;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;</span><span class="s3">\n    </span><span class="s1">/* Serialize doctype if allowed */</span><span class="s3">\n    </span><span class="s1">if (WHOLE_DOCUMENT &amp;&amp; ALLOWED_TAGS['!doctype'] &amp;&amp; body.ownerDocument &amp;&amp; body.ownerDocument.doctype &amp;&amp; body.ownerDocument.doctype.name &amp;&amp; regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {</span><span class="s3">\n      </span><span class="s1">serializedHTML = '&lt;!DOCTYPE ' + body.ownerDocument.doctype.name + '&gt;</span><span class="s3">\\</span><span class="s1">n' + serializedHTML;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* Sanitize final string template-safe */</span><span class="s3">\n    </span><span class="s1">if (SAFE_FOR_TEMPLATES) {</span><span class="s3">\n      </span><span class="s1">arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr =&gt; {</span><span class="s3">\n        </span><span class="s1">serializedHTML = stringReplace(serializedHTML, expr, ' ');</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return trustedTypesPolicy &amp;&amp; RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">DOMPurify.setConfig = function () {</span><span class="s3">\n    </span><span class="s1">let cfg = arguments.length &gt; 0 &amp;&amp; arguments[0] !== undefined ? arguments[0] : {};</span><span class="s3">\n    </span><span class="s1">_parseConfig(cfg);</span><span class="s3">\n    </span><span class="s1">SET_CONFIG = true;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">DOMPurify.clearConfig = function () {</span><span class="s3">\n    </span><span class="s1">CONFIG = null;</span><span class="s3">\n    </span><span class="s1">SET_CONFIG = false;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">DOMPurify.isValidAttribute = function (tag, attr, value) {</span><span class="s3">\n    </span><span class="s1">/* Initialize shared config vars if necessary. */</span><span class="s3">\n    </span><span class="s1">if (!CONFIG) {</span><span class="s3">\n      </span><span class="s1">_parseConfig({});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const lcTag = transformCaseFunc(tag);</span><span class="s3">\n    </span><span class="s1">const lcName = transformCaseFunc(attr);</span><span class="s3">\n    </span><span class="s1">return _isValidAttribute(lcTag, lcName, value);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">DOMPurify.addHook = function (entryPoint, hookFunction) {</span><span class="s3">\n    </span><span class="s1">if (typeof hookFunction !== 'function') {</span><span class="s3">\n      </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">arrayPush(hooks[entryPoint], hookFunction);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">DOMPurify.removeHook = function (entryPoint, hookFunction) {</span><span class="s3">\n    </span><span class="s1">if (hookFunction !== undefined) {</span><span class="s3">\n      </span><span class="s1">const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);</span><span class="s3">\n      </span><span class="s1">return index === -1 ? undefined : arraySplice(hooks[entryPoint], index, 1)[0];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return arrayPop(hooks[entryPoint]);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">DOMPurify.removeHooks = function (entryPoint) {</span><span class="s3">\n    </span><span class="s1">hooks[entryPoint] = [];</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">DOMPurify.removeAllHooks = function () {</span><span class="s3">\n    </span><span class="s1">hooks = _createHooksMap();</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return DOMPurify;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">var purify = createDOMPurify();</span><span class="s3">\n\n</span><span class="s1">export { purify as default };</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=purify.es.mjs.map</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import { TYPE } from '../constants.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">class Type {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">/* VARIABLES */</span><span class="s3">\n        </span><span class="s1">this.type = TYPE.ALL;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* API */</span><span class="s3">\n    </span><span class="s1">get() {</span><span class="s3">\n        </span><span class="s1">return this.type;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set(type) {</span><span class="s3">\n        </span><span class="s1">if (this.type &amp;&amp; this.type !== type)</span><span class="s3">\n            </span><span class="s1">throw new Error('Cannot change both RGB and HSL channels at the same time');</span><span class="s3">\n        </span><span class="s1">this.type = type;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">reset() {</span><span class="s3">\n        </span><span class="s1">this.type = TYPE.ALL;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">is(type) {</span><span class="s3">\n        </span><span class="s1">return this.type === type;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default Type;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import _ from '../utils/index.js';</span><span class="s3">\n</span><span class="s1">import Type from './type.js';</span><span class="s3">\n</span><span class="s1">import { TYPE } from '../constants.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">class Channels {</span><span class="s3">\n    </span><span class="s1">/* CONSTRUCTOR */</span><span class="s3">\n    </span><span class="s1">constructor(data, color) {</span><span class="s3">\n        </span><span class="s1">this.color = color;</span><span class="s3">\n        </span><span class="s1">this.changed = false;</span><span class="s3">\n        </span><span class="s1">this.data = data; //TSC</span><span class="s3">\n        </span><span class="s1">this.type = new Type();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* API */</span><span class="s3">\n    </span><span class="s1">set(data, color) {</span><span class="s3">\n        </span><span class="s1">this.color = color;</span><span class="s3">\n        </span><span class="s1">this.changed = false;</span><span class="s3">\n        </span><span class="s1">this.data = data; //TSC</span><span class="s3">\n        </span><span class="s1">this.type.type = TYPE.ALL;</span><span class="s3">\n        </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* HELPERS */</span><span class="s3">\n    </span><span class="s1">_ensureHSL() {</span><span class="s3">\n        </span><span class="s1">const data = this.data;</span><span class="s3">\n        </span><span class="s1">const { h, s, l } = data;</span><span class="s3">\n        </span><span class="s1">if (h === undefined)</span><span class="s3">\n            </span><span class="s1">data.h = _.channel.rgb2hsl(data, 'h');</span><span class="s3">\n        </span><span class="s1">if (s === undefined)</span><span class="s3">\n            </span><span class="s1">data.s = _.channel.rgb2hsl(data, 's');</span><span class="s3">\n        </span><span class="s1">if (l === undefined)</span><span class="s3">\n            </span><span class="s1">data.l = _.channel.rgb2hsl(data, 'l');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">_ensureRGB() {</span><span class="s3">\n        </span><span class="s1">const data = this.data;</span><span class="s3">\n        </span><span class="s1">const { r, g, b } = data;</span><span class="s3">\n        </span><span class="s1">if (r === undefined)</span><span class="s3">\n            </span><span class="s1">data.r = _.channel.hsl2rgb(data, 'r');</span><span class="s3">\n        </span><span class="s1">if (g === undefined)</span><span class="s3">\n            </span><span class="s1">data.g = _.channel.hsl2rgb(data, 'g');</span><span class="s3">\n        </span><span class="s1">if (b === undefined)</span><span class="s3">\n            </span><span class="s1">data.b = _.channel.hsl2rgb(data, 'b');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* GETTERS */</span><span class="s3">\n    </span><span class="s1">get r() {</span><span class="s3">\n        </span><span class="s1">const data = this.data;</span><span class="s3">\n        </span><span class="s1">const r = data.r;</span><span class="s3">\n        </span><span class="s1">if (!this.type.is(TYPE.HSL) &amp;&amp; r !== undefined)</span><span class="s3">\n            </span><span class="s1">return r;</span><span class="s3">\n        </span><span class="s1">this._ensureHSL();</span><span class="s3">\n        </span><span class="s1">return _.channel.hsl2rgb(data, 'r');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get g() {</span><span class="s3">\n        </span><span class="s1">const data = this.data;</span><span class="s3">\n        </span><span class="s1">const g = data.g;</span><span class="s3">\n        </span><span class="s1">if (!this.type.is(TYPE.HSL) &amp;&amp; g !== undefined)</span><span class="s3">\n            </span><span class="s1">return g;</span><span class="s3">\n        </span><span class="s1">this._ensureHSL();</span><span class="s3">\n        </span><span class="s1">return _.channel.hsl2rgb(data, 'g');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get b() {</span><span class="s3">\n        </span><span class="s1">const data = this.data;</span><span class="s3">\n        </span><span class="s1">const b = data.b;</span><span class="s3">\n        </span><span class="s1">if (!this.type.is(TYPE.HSL) &amp;&amp; b !== undefined)</span><span class="s3">\n            </span><span class="s1">return b;</span><span class="s3">\n        </span><span class="s1">this._ensureHSL();</span><span class="s3">\n        </span><span class="s1">return _.channel.hsl2rgb(data, 'b');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get h() {</span><span class="s3">\n        </span><span class="s1">const data = this.data;</span><span class="s3">\n        </span><span class="s1">const h = data.h;</span><span class="s3">\n        </span><span class="s1">if (!this.type.is(TYPE.RGB) &amp;&amp; h !== undefined)</span><span class="s3">\n            </span><span class="s1">return h;</span><span class="s3">\n        </span><span class="s1">this._ensureRGB();</span><span class="s3">\n        </span><span class="s1">return _.channel.rgb2hsl(data, 'h');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get s() {</span><span class="s3">\n        </span><span class="s1">const data = this.data;</span><span class="s3">\n        </span><span class="s1">const s = data.s;</span><span class="s3">\n        </span><span class="s1">if (!this.type.is(TYPE.RGB) &amp;&amp; s !== undefined)</span><span class="s3">\n            </span><span class="s1">return s;</span><span class="s3">\n        </span><span class="s1">this._ensureRGB();</span><span class="s3">\n        </span><span class="s1">return _.channel.rgb2hsl(data, 's');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get l() {</span><span class="s3">\n        </span><span class="s1">const data = this.data;</span><span class="s3">\n        </span><span class="s1">const l = data.l;</span><span class="s3">\n        </span><span class="s1">if (!this.type.is(TYPE.RGB) &amp;&amp; l !== undefined)</span><span class="s3">\n            </span><span class="s1">return l;</span><span class="s3">\n        </span><span class="s1">this._ensureRGB();</span><span class="s3">\n        </span><span class="s1">return _.channel.rgb2hsl(data, 'l');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get a() {</span><span class="s3">\n        </span><span class="s1">return this.data.a;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/* SETTERS */</span><span class="s3">\n    </span><span class="s1">set r(r) {</span><span class="s3">\n        </span><span class="s1">this.type.set(TYPE.RGB);</span><span class="s3">\n        </span><span class="s1">this.changed = true;</span><span class="s3">\n        </span><span class="s1">this.data.r = r;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set g(g) {</span><span class="s3">\n        </span><span class="s1">this.type.set(TYPE.RGB);</span><span class="s3">\n        </span><span class="s1">this.changed = true;</span><span class="s3">\n        </span><span class="s1">this.data.g = g;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set b(b) {</span><span class="s3">\n        </span><span class="s1">this.type.set(TYPE.RGB);</span><span class="s3">\n        </span><span class="s1">this.changed = true;</span><span class="s3">\n        </span><span class="s1">this.data.b = b;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set h(h) {</span><span class="s3">\n        </span><span class="s1">this.type.set(TYPE.HSL);</span><span class="s3">\n        </span><span class="s1">this.changed = true;</span><span class="s3">\n        </span><span class="s1">this.data.h = h;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set s(s) {</span><span class="s3">\n        </span><span class="s1">this.type.set(TYPE.HSL);</span><span class="s3">\n        </span><span class="s1">this.changed = true;</span><span class="s3">\n        </span><span class="s1">this.data.s = s;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set l(l) {</span><span class="s3">\n        </span><span class="s1">this.type.set(TYPE.HSL);</span><span class="s3">\n        </span><span class="s1">this.changed = true;</span><span class="s3">\n        </span><span class="s1">this.data.l = l;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set a(a) {</span><span class="s3">\n        </span><span class="s1">this.changed = true;</span><span class="s3">\n        </span><span class="s1">this.data.a = a;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default Channels;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import Channels from './/index.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">const channels = new Channels({ r: 0, g: 0, b: 0, a: 0 }, 'transparent');</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default channels;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import _ from '../utils/index.js';</span><span class="s3">\n</span><span class="s1">import ChannelsReusable from '../channels/reusable.js';</span><span class="s3">\n</span><span class="s1">import { DEC2HEX } from '../constants.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">const Hex = {</span><span class="s3">\n    </span><span class="s1">/* VARIABLES */</span><span class="s3">\n    </span><span class="s1">re: /^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,</span><span class="s3">\n    </span><span class="s1">/* API */</span><span class="s3">\n    </span><span class="s1">parse: (color) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (color.charCodeAt(0) !== 35)</span><span class="s3">\n            </span><span class="s1">return; // '#'</span><span class="s3">\n        </span><span class="s1">const match = color.match(Hex.re);</span><span class="s3">\n        </span><span class="s1">if (!match)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">const hex = match[1];</span><span class="s3">\n        </span><span class="s1">const dec = parseInt(hex, 16);</span><span class="s3">\n        </span><span class="s1">const length = hex.length;</span><span class="s3">\n        </span><span class="s1">const hasAlpha = length % 4 === 0;</span><span class="s3">\n        </span><span class="s1">const isFullLength = length &gt; 4;</span><span class="s3">\n        </span><span class="s1">const multiplier = isFullLength ? 1 : 17;</span><span class="s3">\n        </span><span class="s1">const bits = isFullLength ? 8 : 4;</span><span class="s3">\n        </span><span class="s1">const bitsOffset = hasAlpha ? 0 : -1;</span><span class="s3">\n        </span><span class="s1">const mask = isFullLength ? 255 : 15;</span><span class="s3">\n        </span><span class="s1">return ChannelsReusable.set({</span><span class="s3">\n            </span><span class="s1">r: ((dec &gt;&gt; (bits * (bitsOffset + 3))) &amp; mask) * multiplier,</span><span class="s3">\n            </span><span class="s1">g: ((dec &gt;&gt; (bits * (bitsOffset + 2))) &amp; mask) * multiplier,</span><span class="s3">\n            </span><span class="s1">b: ((dec &gt;&gt; (bits * (bitsOffset + 1))) &amp; mask) * multiplier,</span><span class="s3">\n            </span><span class="s1">a: hasAlpha ? (dec &amp; mask) * multiplier / 255 : 1</span><span class="s3">\n        </span><span class="s1">}, color);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">stringify: (channels) =&gt; {</span><span class="s3">\n        </span><span class="s1">const { r, g, b, a } = channels;</span><span class="s3">\n        </span><span class="s1">if (a &lt; 1) { // #RRGGBBAA</span><span class="s3">\n            </span><span class="s1">return `#${DEC2HEX[Math.round(r)]}${DEC2HEX[Math.round(g)]}${DEC2HEX[Math.round(b)]}${DEC2HEX[Math.round(a * 255)]}`;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else { // #RRGGBB</span><span class="s3">\n            </span><span class="s1">return `#${DEC2HEX[Math.round(r)]}${DEC2HEX[Math.round(g)]}${DEC2HEX[Math.round(b)]}`;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default Hex;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import _ from '../utils/index.js';</span><span class="s3">\n</span><span class="s1">import ChannelsReusable from '../channels/reusable.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">const HSL = {</span><span class="s3">\n    </span><span class="s1">/* VARIABLES */</span><span class="s3">\n    </span><span class="s1">re: /^hsla?</span><span class="s3">\\</span><span class="s1">(</span><span class="s3">\\</span><span class="s1">s*?(-?(?:</span><span class="s3">\\</span><span class="s1">d+(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)?|(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+))(?:e-?</span><span class="s3">\\</span><span class="s1">d+)?(?:deg|grad|rad|turn)?)</span><span class="s3">\\</span><span class="s1">s*?(?:,|</span><span class="s3">\\</span><span class="s1">s)</span><span class="s3">\\</span><span class="s1">s*?(-?(?:</span><span class="s3">\\</span><span class="s1">d+(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)?|(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+))(?:e-?</span><span class="s3">\\</span><span class="s1">d+)?%)</span><span class="s3">\\</span><span class="s1">s*?(?:,|</span><span class="s3">\\</span><span class="s1">s)</span><span class="s3">\\</span><span class="s1">s*?(-?(?:</span><span class="s3">\\</span><span class="s1">d+(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)?|(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+))(?:e-?</span><span class="s3">\\</span><span class="s1">d+)?%)(?:</span><span class="s3">\\</span><span class="s1">s*?(?:,|</span><span class="s3">\\</span><span class="s1">/)</span><span class="s3">\\</span><span class="s1">s*?</span><span class="s3">\\</span><span class="s1">+?(-?(?:</span><span class="s3">\\</span><span class="s1">d+(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)?|(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+))(?:e-?</span><span class="s3">\\</span><span class="s1">d+)?(%)?))?</span><span class="s3">\\</span><span class="s1">s*?</span><span class="s3">\\</span><span class="s1">)$/i,</span><span class="s3">\n    </span><span class="s1">hueRe: /^(.+?)(deg|grad|rad|turn)$/i,</span><span class="s3">\n    </span><span class="s1">/* HELPERS */</span><span class="s3">\n    </span><span class="s1">_hue2deg: (hue) =&gt; {</span><span class="s3">\n        </span><span class="s1">const match = hue.match(HSL.hueRe);</span><span class="s3">\n        </span><span class="s1">if (match) {</span><span class="s3">\n            </span><span class="s1">const [, number, unit] = match;</span><span class="s3">\n            </span><span class="s1">switch (unit) {</span><span class="s3">\n                </span><span class="s1">case 'grad': return _.channel.clamp.h(parseFloat(number) * .9);</span><span class="s3">\n                </span><span class="s1">case 'rad': return _.channel.clamp.h(parseFloat(number) * 180 / Math.PI);</span><span class="s3">\n                </span><span class="s1">case 'turn': return _.channel.clamp.h(parseFloat(number) * 360);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return _.channel.clamp.h(parseFloat(hue));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/* API */</span><span class="s3">\n    </span><span class="s1">parse: (color) =&gt; {</span><span class="s3">\n        </span><span class="s1">const charCode = color.charCodeAt(0);</span><span class="s3">\n        </span><span class="s1">if (charCode !== 104 &amp;&amp; charCode !== 72)</span><span class="s3">\n            </span><span class="s1">return; // 'h'/'H'</span><span class="s3">\n        </span><span class="s1">const match = color.match(HSL.re);</span><span class="s3">\n        </span><span class="s1">if (!match)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">const [, h, s, l, a, isAlphaPercentage] = match;</span><span class="s3">\n        </span><span class="s1">return ChannelsReusable.set({</span><span class="s3">\n            </span><span class="s1">h: HSL._hue2deg(h),</span><span class="s3">\n            </span><span class="s1">s: _.channel.clamp.s(parseFloat(s)),</span><span class="s3">\n            </span><span class="s1">l: _.channel.clamp.l(parseFloat(l)),</span><span class="s3">\n            </span><span class="s1">a: a ? _.channel.clamp.a(isAlphaPercentage ? parseFloat(a) / 100 : parseFloat(a)) : 1</span><span class="s3">\n        </span><span class="s1">}, color);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">stringify: (channels) =&gt; {</span><span class="s3">\n        </span><span class="s1">const { h, s, l, a } = channels;</span><span class="s3">\n        </span><span class="s1">if (a &lt; 1) { // HSLA</span><span class="s3">\n            </span><span class="s1">return `hsla(${_.lang.round(h)}, ${_.lang.round(s)}%, ${_.lang.round(l)}%, ${a})`;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else { // HSL</span><span class="s3">\n            </span><span class="s1">return `hsl(${_.lang.round(h)}, ${_.lang.round(s)}%, ${_.lang.round(l)}%)`;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default HSL;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import Hex from './hex.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">const Keyword = {</span><span class="s3">\n    </span><span class="s1">/* VARIABLES */</span><span class="s3">\n    </span><span class="s1">colors: {</span><span class="s3">\n        </span><span class="s1">aliceblue: '#f0f8ff',</span><span class="s3">\n        </span><span class="s1">antiquewhite: '#faebd7',</span><span class="s3">\n        </span><span class="s1">aqua: '#00ffff',</span><span class="s3">\n        </span><span class="s1">aquamarine: '#7fffd4',</span><span class="s3">\n        </span><span class="s1">azure: '#f0ffff',</span><span class="s3">\n        </span><span class="s1">beige: '#f5f5dc',</span><span class="s3">\n        </span><span class="s1">bisque: '#ffe4c4',</span><span class="s3">\n        </span><span class="s1">black: '#000000',</span><span class="s3">\n        </span><span class="s1">blanchedalmond: '#ffebcd',</span><span class="s3">\n        </span><span class="s1">blue: '#0000ff',</span><span class="s3">\n        </span><span class="s1">blueviolet: '#8a2be2',</span><span class="s3">\n        </span><span class="s1">brown: '#a52a2a',</span><span class="s3">\n        </span><span class="s1">burlywood: '#deb887',</span><span class="s3">\n        </span><span class="s1">cadetblue: '#5f9ea0',</span><span class="s3">\n        </span><span class="s1">chartreuse: '#7fff00',</span><span class="s3">\n        </span><span class="s1">chocolate: '#d2691e',</span><span class="s3">\n        </span><span class="s1">coral: '#ff7f50',</span><span class="s3">\n        </span><span class="s1">cornflowerblue: '#6495ed',</span><span class="s3">\n        </span><span class="s1">cornsilk: '#fff8dc',</span><span class="s3">\n        </span><span class="s1">crimson: '#dc143c',</span><span class="s3">\n        </span><span class="s1">cyanaqua: '#00ffff',</span><span class="s3">\n        </span><span class="s1">darkblue: '#00008b',</span><span class="s3">\n        </span><span class="s1">darkcyan: '#008b8b',</span><span class="s3">\n        </span><span class="s1">darkgoldenrod: '#b8860b',</span><span class="s3">\n        </span><span class="s1">darkgray: '#a9a9a9',</span><span class="s3">\n        </span><span class="s1">darkgreen: '#006400',</span><span class="s3">\n        </span><span class="s1">darkgrey: '#a9a9a9',</span><span class="s3">\n        </span><span class="s1">darkkhaki: '#bdb76b',</span><span class="s3">\n        </span><span class="s1">darkmagenta: '#8b008b',</span><span class="s3">\n        </span><span class="s1">darkolivegreen: '#556b2f',</span><span class="s3">\n        </span><span class="s1">darkorange: '#ff8c00',</span><span class="s3">\n        </span><span class="s1">darkorchid: '#9932cc',</span><span class="s3">\n        </span><span class="s1">darkred: '#8b0000',</span><span class="s3">\n        </span><span class="s1">darksalmon: '#e9967a',</span><span class="s3">\n        </span><span class="s1">darkseagreen: '#8fbc8f',</span><span class="s3">\n        </span><span class="s1">darkslateblue: '#483d8b',</span><span class="s3">\n        </span><span class="s1">darkslategray: '#2f4f4f',</span><span class="s3">\n        </span><span class="s1">darkslategrey: '#2f4f4f',</span><span class="s3">\n        </span><span class="s1">darkturquoise: '#00ced1',</span><span class="s3">\n        </span><span class="s1">darkviolet: '#9400d3',</span><span class="s3">\n        </span><span class="s1">deeppink: '#ff1493',</span><span class="s3">\n        </span><span class="s1">deepskyblue: '#00bfff',</span><span class="s3">\n        </span><span class="s1">dimgray: '#696969',</span><span class="s3">\n        </span><span class="s1">dimgrey: '#696969',</span><span class="s3">\n        </span><span class="s1">dodgerblue: '#1e90ff',</span><span class="s3">\n        </span><span class="s1">firebrick: '#b22222',</span><span class="s3">\n        </span><span class="s1">floralwhite: '#fffaf0',</span><span class="s3">\n        </span><span class="s1">forestgreen: '#228b22',</span><span class="s3">\n        </span><span class="s1">fuchsia: '#ff00ff',</span><span class="s3">\n        </span><span class="s1">gainsboro: '#dcdcdc',</span><span class="s3">\n        </span><span class="s1">ghostwhite: '#f8f8ff',</span><span class="s3">\n        </span><span class="s1">gold: '#ffd700',</span><span class="s3">\n        </span><span class="s1">goldenrod: '#daa520',</span><span class="s3">\n        </span><span class="s1">gray: '#808080',</span><span class="s3">\n        </span><span class="s1">green: '#008000',</span><span class="s3">\n        </span><span class="s1">greenyellow: '#adff2f',</span><span class="s3">\n        </span><span class="s1">grey: '#808080',</span><span class="s3">\n        </span><span class="s1">honeydew: '#f0fff0',</span><span class="s3">\n        </span><span class="s1">hotpink: '#ff69b4',</span><span class="s3">\n        </span><span class="s1">indianred: '#cd5c5c',</span><span class="s3">\n        </span><span class="s1">indigo: '#4b0082',</span><span class="s3">\n        </span><span class="s1">ivory: '#fffff0',</span><span class="s3">\n        </span><span class="s1">khaki: '#f0e68c',</span><span class="s3">\n        </span><span class="s1">lavender: '#e6e6fa',</span><span class="s3">\n        </span><span class="s1">lavenderblush: '#fff0f5',</span><span class="s3">\n        </span><span class="s1">lawngreen: '#7cfc00',</span><span class="s3">\n        </span><span class="s1">lemonchiffon: '#fffacd',</span><span class="s3">\n        </span><span class="s1">lightblue: '#add8e6',</span><span class="s3">\n        </span><span class="s1">lightcoral: '#f08080',</span><span class="s3">\n        </span><span class="s1">lightcyan: '#e0ffff',</span><span class="s3">\n        </span><span class="s1">lightgoldenrodyellow: '#fafad2',</span><span class="s3">\n        </span><span class="s1">lightgray: '#d3d3d3',</span><span class="s3">\n        </span><span class="s1">lightgreen: '#90ee90',</span><span class="s3">\n        </span><span class="s1">lightgrey: '#d3d3d3',</span><span class="s3">\n        </span><span class="s1">lightpink: '#ffb6c1',</span><span class="s3">\n        </span><span class="s1">lightsalmon: '#ffa07a',</span><span class="s3">\n        </span><span class="s1">lightseagreen: '#20b2aa',</span><span class="s3">\n        </span><span class="s1">lightskyblue: '#87cefa',</span><span class="s3">\n        </span><span class="s1">lightslategray: '#778899',</span><span class="s3">\n        </span><span class="s1">lightslategrey: '#778899',</span><span class="s3">\n        </span><span class="s1">lightsteelblue: '#b0c4de',</span><span class="s3">\n        </span><span class="s1">lightyellow: '#ffffe0',</span><span class="s3">\n        </span><span class="s1">lime: '#00ff00',</span><span class="s3">\n        </span><span class="s1">limegreen: '#32cd32',</span><span class="s3">\n        </span><span class="s1">linen: '#faf0e6',</span><span class="s3">\n        </span><span class="s1">magenta: '#ff00ff',</span><span class="s3">\n        </span><span class="s1">maroon: '#800000',</span><span class="s3">\n        </span><span class="s1">mediumaquamarine: '#66cdaa',</span><span class="s3">\n        </span><span class="s1">mediumblue: '#0000cd',</span><span class="s3">\n        </span><span class="s1">mediumorchid: '#ba55d3',</span><span class="s3">\n        </span><span class="s1">mediumpurple: '#9370db',</span><span class="s3">\n        </span><span class="s1">mediumseagreen: '#3cb371',</span><span class="s3">\n        </span><span class="s1">mediumslateblue: '#7b68ee',</span><span class="s3">\n        </span><span class="s1">mediumspringgreen: '#00fa9a',</span><span class="s3">\n        </span><span class="s1">mediumturquoise: '#48d1cc',</span><span class="s3">\n        </span><span class="s1">mediumvioletred: '#c71585',</span><span class="s3">\n        </span><span class="s1">midnightblue: '#191970',</span><span class="s3">\n        </span><span class="s1">mintcream: '#f5fffa',</span><span class="s3">\n        </span><span class="s1">mistyrose: '#ffe4e1',</span><span class="s3">\n        </span><span class="s1">moccasin: '#ffe4b5',</span><span class="s3">\n        </span><span class="s1">navajowhite: '#ffdead',</span><span class="s3">\n        </span><span class="s1">navy: '#000080',</span><span class="s3">\n        </span><span class="s1">oldlace: '#fdf5e6',</span><span class="s3">\n        </span><span class="s1">olive: '#808000',</span><span class="s3">\n        </span><span class="s1">olivedrab: '#6b8e23',</span><span class="s3">\n        </span><span class="s1">orange: '#ffa500',</span><span class="s3">\n        </span><span class="s1">orangered: '#ff4500',</span><span class="s3">\n        </span><span class="s1">orchid: '#da70d6',</span><span class="s3">\n        </span><span class="s1">palegoldenrod: '#eee8aa',</span><span class="s3">\n        </span><span class="s1">palegreen: '#98fb98',</span><span class="s3">\n        </span><span class="s1">paleturquoise: '#afeeee',</span><span class="s3">\n        </span><span class="s1">palevioletred: '#db7093',</span><span class="s3">\n        </span><span class="s1">papayawhip: '#ffefd5',</span><span class="s3">\n        </span><span class="s1">peachpuff: '#ffdab9',</span><span class="s3">\n        </span><span class="s1">peru: '#cd853f',</span><span class="s3">\n        </span><span class="s1">pink: '#ffc0cb',</span><span class="s3">\n        </span><span class="s1">plum: '#dda0dd',</span><span class="s3">\n        </span><span class="s1">powderblue: '#b0e0e6',</span><span class="s3">\n        </span><span class="s1">purple: '#800080',</span><span class="s3">\n        </span><span class="s1">rebeccapurple: '#663399',</span><span class="s3">\n        </span><span class="s1">red: '#ff0000',</span><span class="s3">\n        </span><span class="s1">rosybrown: '#bc8f8f',</span><span class="s3">\n        </span><span class="s1">royalblue: '#4169e1',</span><span class="s3">\n        </span><span class="s1">saddlebrown: '#8b4513',</span><span class="s3">\n        </span><span class="s1">salmon: '#fa8072',</span><span class="s3">\n        </span><span class="s1">sandybrown: '#f4a460',</span><span class="s3">\n        </span><span class="s1">seagreen: '#2e8b57',</span><span class="s3">\n        </span><span class="s1">seashell: '#fff5ee',</span><span class="s3">\n        </span><span class="s1">sienna: '#a0522d',</span><span class="s3">\n        </span><span class="s1">silver: '#c0c0c0',</span><span class="s3">\n        </span><span class="s1">skyblue: '#87ceeb',</span><span class="s3">\n        </span><span class="s1">slateblue: '#6a5acd',</span><span class="s3">\n        </span><span class="s1">slategray: '#708090',</span><span class="s3">\n        </span><span class="s1">slategrey: '#708090',</span><span class="s3">\n        </span><span class="s1">snow: '#fffafa',</span><span class="s3">\n        </span><span class="s1">springgreen: '#00ff7f',</span><span class="s3">\n        </span><span class="s1">tan: '#d2b48c',</span><span class="s3">\n        </span><span class="s1">teal: '#008080',</span><span class="s3">\n        </span><span class="s1">thistle: '#d8bfd8',</span><span class="s3">\n        </span><span class="s1">transparent: '#00000000',</span><span class="s3">\n        </span><span class="s1">turquoise: '#40e0d0',</span><span class="s3">\n        </span><span class="s1">violet: '#ee82ee',</span><span class="s3">\n        </span><span class="s1">wheat: '#f5deb3',</span><span class="s3">\n        </span><span class="s1">white: '#ffffff',</span><span class="s3">\n        </span><span class="s1">whitesmoke: '#f5f5f5',</span><span class="s3">\n        </span><span class="s1">yellow: '#ffff00',</span><span class="s3">\n        </span><span class="s1">yellowgreen: '#9acd32'</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/* API */</span><span class="s3">\n    </span><span class="s1">parse: (color) =&gt; {</span><span class="s3">\n        </span><span class="s1">color = color.toLowerCase();</span><span class="s3">\n        </span><span class="s1">const hex = Keyword.colors[color];</span><span class="s3">\n        </span><span class="s1">if (!hex)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">return Hex.parse(hex);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">stringify: (channels) =&gt; {</span><span class="s3">\n        </span><span class="s1">const hex = Hex.stringify(channels);</span><span class="s3">\n        </span><span class="s1">for (const name in Keyword.colors) {</span><span class="s3">\n            </span><span class="s1">if (Keyword.colors[name] === hex)</span><span class="s3">\n                </span><span class="s1">return name;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default Keyword;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import _ from '../utils/index.js';</span><span class="s3">\n</span><span class="s1">import ChannelsReusable from '../channels/reusable.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">const RGB = {</span><span class="s3">\n    </span><span class="s1">/* VARIABLES */</span><span class="s3">\n    </span><span class="s1">re: /^rgba?</span><span class="s3">\\</span><span class="s1">(</span><span class="s3">\\</span><span class="s1">s*?(-?(?:</span><span class="s3">\\</span><span class="s1">d+(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)?|(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+))(?:e</span><span class="s3">\\</span><span class="s1">d+)?(%?))</span><span class="s3">\\</span><span class="s1">s*?(?:,|</span><span class="s3">\\</span><span class="s1">s)</span><span class="s3">\\</span><span class="s1">s*?(-?(?:</span><span class="s3">\\</span><span class="s1">d+(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)?|(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+))(?:e</span><span class="s3">\\</span><span class="s1">d+)?(%?))</span><span class="s3">\\</span><span class="s1">s*?(?:,|</span><span class="s3">\\</span><span class="s1">s)</span><span class="s3">\\</span><span class="s1">s*?(-?(?:</span><span class="s3">\\</span><span class="s1">d+(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)?|(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+))(?:e</span><span class="s3">\\</span><span class="s1">d+)?(%?))(?:</span><span class="s3">\\</span><span class="s1">s*?(?:,|</span><span class="s3">\\</span><span class="s1">/)</span><span class="s3">\\</span><span class="s1">s*?</span><span class="s3">\\</span><span class="s1">+?(-?(?:</span><span class="s3">\\</span><span class="s1">d+(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)?|(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+))(?:e</span><span class="s3">\\</span><span class="s1">d+)?(%?)))?</span><span class="s3">\\</span><span class="s1">s*?</span><span class="s3">\\</span><span class="s1">)$/i,</span><span class="s3">\n    </span><span class="s1">/* API */</span><span class="s3">\n    </span><span class="s1">parse: (color) =&gt; {</span><span class="s3">\n        </span><span class="s1">const charCode = color.charCodeAt(0);</span><span class="s3">\n        </span><span class="s1">if (charCode !== 114 &amp;&amp; charCode !== 82)</span><span class="s3">\n            </span><span class="s1">return; // 'r'/'R'</span><span class="s3">\n        </span><span class="s1">const match = color.match(RGB.re);</span><span class="s3">\n        </span><span class="s1">if (!match)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">const [, r, isRedPercentage, g, isGreenPercentage, b, isBluePercentage, a, isAlphaPercentage] = match;</span><span class="s3">\n        </span><span class="s1">return ChannelsReusable.set({</span><span class="s3">\n            </span><span class="s1">r: _.channel.clamp.r(isRedPercentage ? parseFloat(r) * 2.55 : parseFloat(r)),</span><span class="s3">\n            </span><span class="s1">g: _.channel.clamp.g(isGreenPercentage ? parseFloat(g) * 2.55 : parseFloat(g)),</span><span class="s3">\n            </span><span class="s1">b: _.channel.clamp.b(isBluePercentage ? parseFloat(b) * 2.55 : parseFloat(b)),</span><span class="s3">\n            </span><span class="s1">a: a ? _.channel.clamp.a(isAlphaPercentage ? parseFloat(a) / 100 : parseFloat(a)) : 1</span><span class="s3">\n        </span><span class="s1">}, color);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">stringify: (channels) =&gt; {</span><span class="s3">\n        </span><span class="s1">const { r, g, b, a } = channels;</span><span class="s3">\n        </span><span class="s1">if (a &lt; 1) { // RGBA</span><span class="s3">\n            </span><span class="s1">return `rgba(${_.lang.round(r)}, ${_.lang.round(g)}, ${_.lang.round(b)}, ${_.lang.round(a)})`;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else { // RGB</span><span class="s3">\n            </span><span class="s1">return `rgb(${_.lang.round(r)}, ${_.lang.round(g)}, ${_.lang.round(b)})`;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default RGB;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import _ from '../utils/index.js';</span><span class="s3">\n</span><span class="s1">import Hex from './hex.js';</span><span class="s3">\n</span><span class="s1">import HSL from './hsl.js';</span><span class="s3">\n</span><span class="s1">import Keyword from './keyword.js';</span><span class="s3">\n</span><span class="s1">import RGB from './rgb.js';</span><span class="s3">\n</span><span class="s1">import { TYPE } from '../constants.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">const Color = {</span><span class="s3">\n    </span><span class="s1">/* VARIABLES */</span><span class="s3">\n    </span><span class="s1">format: {</span><span class="s3">\n        </span><span class="s1">keyword: Keyword,</span><span class="s3">\n        </span><span class="s1">hex: Hex,</span><span class="s3">\n        </span><span class="s1">rgb: RGB,</span><span class="s3">\n        </span><span class="s1">rgba: RGB,</span><span class="s3">\n        </span><span class="s1">hsl: HSL,</span><span class="s3">\n        </span><span class="s1">hsla: HSL</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/* API */</span><span class="s3">\n    </span><span class="s1">parse: (color) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (typeof color !== 'string')</span><span class="s3">\n            </span><span class="s1">return color;</span><span class="s3">\n        </span><span class="s1">const channels = Hex.parse(color) || RGB.parse(color) || HSL.parse(color) || Keyword.parse(color); // Color providers ordered with performance in mind</span><span class="s3">\n        </span><span class="s1">if (channels)</span><span class="s3">\n            </span><span class="s1">return channels;</span><span class="s3">\n        </span><span class="s1">throw new Error(`Unsupported color format: </span><span class="s3">\&quot;</span><span class="s1">${color}</span><span class="s3">\&quot;</span><span class="s1">`);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">stringify: (channels) =&gt; {</span><span class="s3">\n        </span><span class="s1">// SASS returns a keyword if possible, but we avoid doing that as it's slower and doesn't really add any value</span><span class="s3">\n        </span><span class="s1">if (!channels.changed &amp;&amp; channels.color)</span><span class="s3">\n            </span><span class="s1">return channels.color;</span><span class="s3">\n        </span><span class="s1">if (channels.type.is(TYPE.HSL) || channels.data.r === undefined) {</span><span class="s3">\n            </span><span class="s1">return HSL.stringify(channels);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (channels.a &lt; 1 || !Number.isInteger(channels.r) || !Number.isInteger(channels.g) || !Number.isInteger(channels.b)) {</span><span class="s3">\n            </span><span class="s1">return RGB.stringify(channels);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">return Hex.stringify(channels);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default Color;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import _ from './utils/index.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">const DEC2HEX = {};</span><span class="s3">\n</span><span class="s1">for (let i = 0; i &lt;= 255; i++)</span><span class="s3">\n    </span><span class="s1">DEC2HEX[i] = _.unit.dec2hex(i); // Populating dynamically, striking a balance between code size and performance</span><span class="s3">\n</span><span class="s1">const TYPE = {</span><span class="s3">\n    </span><span class="s1">ALL: 0,</span><span class="s3">\n    </span><span class="s1">RGB: 1,</span><span class="s3">\n    </span><span class="s1">HSL: 2</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export { DEC2HEX, TYPE };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import _ from '../utils/index.js';</span><span class="s3">\n</span><span class="s1">import Color from '../color/index.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">const adjustChannel = (color, channel, amount) =&gt; {</span><span class="s3">\n    </span><span class="s1">const channels = Color.parse(color);</span><span class="s3">\n    </span><span class="s1">const amountCurrent = channels[channel];</span><span class="s3">\n    </span><span class="s1">const amountNext = _.channel.clamp[channel](amountCurrent + amount);</span><span class="s3">\n    </span><span class="s1">if (amountCurrent !== amountNext)</span><span class="s3">\n        </span><span class="s1">channels[channel] = amountNext;</span><span class="s3">\n    </span><span class="s1">return Color.stringify(channels);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default adjustChannel;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import _ from '../utils/index.js';</span><span class="s3">\n</span><span class="s1">import Color from '../color/index.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">const change = (color, channels) =&gt; {</span><span class="s3">\n    </span><span class="s1">const ch = Color.parse(color);</span><span class="s3">\n    </span><span class="s1">for (const c in channels) {</span><span class="s3">\n        </span><span class="s1">ch[c] = _.channel.clamp[c](channels[c]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return Color.stringify(ch);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default change;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import adjustChannel from './adjust_channel.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">const darken = (color, amount) =&gt; {</span><span class="s3">\n    </span><span class="s1">return adjustChannel(color, 'l', -amount);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default darken;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import _ from '../utils/index.js';</span><span class="s3">\n</span><span class="s1">import Color from '../color/index.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">//SOURCE: https://planetcalc.com/7779</span><span class="s3">\n</span><span class="s1">const luminance = (color) =&gt; {</span><span class="s3">\n    </span><span class="s1">const { r, g, b } = Color.parse(color);</span><span class="s3">\n    </span><span class="s1">const luminance = .2126 * _.channel.toLinear(r) + .7152 * _.channel.toLinear(g) + .0722 * _.channel.toLinear(b);</span><span class="s3">\n    </span><span class="s1">return _.lang.round(luminance);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default luminance;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import luminance from './luminance.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">const isLight = (color) =&gt; {</span><span class="s3">\n    </span><span class="s1">return luminance(color) &gt;= .5;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default isLight;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import isLight from './is_light.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">const isDark = (color) =&gt; {</span><span class="s3">\n    </span><span class="s1">return !isLight(color);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default isDark;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import adjustChannel from './adjust_channel.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">const lighten = (color, amount) =&gt; {</span><span class="s3">\n    </span><span class="s1">return adjustChannel(color, 'l', amount);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default lighten;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import _ from '../utils/index.js';</span><span class="s3">\n</span><span class="s1">import ChannelsReusable from '../channels/reusable.js';</span><span class="s3">\n</span><span class="s1">import Color from '../color/index.js';</span><span class="s3">\n</span><span class="s1">import change from './change.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">const rgba = (r, g, b = 0, a = 1) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (typeof r !== 'number')</span><span class="s3">\n        </span><span class="s1">return change(r, { a: g });</span><span class="s3">\n    </span><span class="s1">const channels = ChannelsReusable.set({</span><span class="s3">\n        </span><span class="s1">r: _.channel.clamp.r(r),</span><span class="s3">\n        </span><span class="s1">g: _.channel.clamp.g(g),</span><span class="s3">\n        </span><span class="s1">b: _.channel.clamp.b(b),</span><span class="s3">\n        </span><span class="s1">a: _.channel.clamp.a(a)</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">return Color.stringify(channels);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default rgba;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">const Channel = {</span><span class="s3">\n    </span><span class="s1">/* CLAMP */</span><span class="s3">\n    </span><span class="s1">min: {</span><span class="s3">\n        </span><span class="s1">r: 0,</span><span class="s3">\n        </span><span class="s1">g: 0,</span><span class="s3">\n        </span><span class="s1">b: 0,</span><span class="s3">\n        </span><span class="s1">s: 0,</span><span class="s3">\n        </span><span class="s1">l: 0,</span><span class="s3">\n        </span><span class="s1">a: 0</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">max: {</span><span class="s3">\n        </span><span class="s1">r: 255,</span><span class="s3">\n        </span><span class="s1">g: 255,</span><span class="s3">\n        </span><span class="s1">b: 255,</span><span class="s3">\n        </span><span class="s1">h: 360,</span><span class="s3">\n        </span><span class="s1">s: 100,</span><span class="s3">\n        </span><span class="s1">l: 100,</span><span class="s3">\n        </span><span class="s1">a: 1</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">clamp: {</span><span class="s3">\n        </span><span class="s1">r: (r) =&gt; r &gt;= 255 ? 255 : (r &lt; 0 ? 0 : r),</span><span class="s3">\n        </span><span class="s1">g: (g) =&gt; g &gt;= 255 ? 255 : (g &lt; 0 ? 0 : g),</span><span class="s3">\n        </span><span class="s1">b: (b) =&gt; b &gt;= 255 ? 255 : (b &lt; 0 ? 0 : b),</span><span class="s3">\n        </span><span class="s1">h: (h) =&gt; h % 360,</span><span class="s3">\n        </span><span class="s1">s: (s) =&gt; s &gt;= 100 ? 100 : (s &lt; 0 ? 0 : s),</span><span class="s3">\n        </span><span class="s1">l: (l) =&gt; l &gt;= 100 ? 100 : (l &lt; 0 ? 0 : l),</span><span class="s3">\n        </span><span class="s1">a: (a) =&gt; a &gt;= 1 ? 1 : (a &lt; 0 ? 0 : a)</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/* CONVERSION */</span><span class="s3">\n    </span><span class="s1">//SOURCE: https://planetcalc.com/7779</span><span class="s3">\n    </span><span class="s1">toLinear: (c) =&gt; {</span><span class="s3">\n        </span><span class="s1">const n = c / 255;</span><span class="s3">\n        </span><span class="s1">return c &gt; .03928 ? Math.pow(((n + .055) / 1.055), 2.4) : n / 12.92;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">//SOURCE: https://gist.github.com/mjackson/5311256</span><span class="s3">\n    </span><span class="s1">hue2rgb: (p, q, t) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (t &lt; 0)</span><span class="s3">\n            </span><span class="s1">t += 1;</span><span class="s3">\n        </span><span class="s1">if (t &gt; 1)</span><span class="s3">\n            </span><span class="s1">t -= 1;</span><span class="s3">\n        </span><span class="s1">if (t &lt; 1 / 6)</span><span class="s3">\n            </span><span class="s1">return p + (q - p) * 6 * t;</span><span class="s3">\n        </span><span class="s1">if (t &lt; 1 / 2)</span><span class="s3">\n            </span><span class="s1">return q;</span><span class="s3">\n        </span><span class="s1">if (t &lt; 2 / 3)</span><span class="s3">\n            </span><span class="s1">return p + (q - p) * (2 / 3 - t) * 6;</span><span class="s3">\n        </span><span class="s1">return p;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">hsl2rgb: ({ h, s, l }, channel) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (!s)</span><span class="s3">\n            </span><span class="s1">return l * 2.55; // Achromatic</span><span class="s3">\n        </span><span class="s1">h /= 360;</span><span class="s3">\n        </span><span class="s1">s /= 100;</span><span class="s3">\n        </span><span class="s1">l /= 100;</span><span class="s3">\n        </span><span class="s1">const q = (l &lt; .5) ? l * (1 + s) : (l + s) - (l * s);</span><span class="s3">\n        </span><span class="s1">const p = 2 * l - q;</span><span class="s3">\n        </span><span class="s1">switch (channel) {</span><span class="s3">\n            </span><span class="s1">case 'r': return Channel.hue2rgb(p, q, h + 1 / 3) * 255;</span><span class="s3">\n            </span><span class="s1">case 'g': return Channel.hue2rgb(p, q, h) * 255;</span><span class="s3">\n            </span><span class="s1">case 'b': return Channel.hue2rgb(p, q, h - 1 / 3) * 255;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">rgb2hsl: ({ r, g, b }, channel) =&gt; {</span><span class="s3">\n        </span><span class="s1">r /= 255;</span><span class="s3">\n        </span><span class="s1">g /= 255;</span><span class="s3">\n        </span><span class="s1">b /= 255;</span><span class="s3">\n        </span><span class="s1">const max = Math.max(r, g, b);</span><span class="s3">\n        </span><span class="s1">const min = Math.min(r, g, b);</span><span class="s3">\n        </span><span class="s1">const l = (max + min) / 2;</span><span class="s3">\n        </span><span class="s1">if (channel === 'l')</span><span class="s3">\n            </span><span class="s1">return l * 100;</span><span class="s3">\n        </span><span class="s1">if (max === min)</span><span class="s3">\n            </span><span class="s1">return 0; // Achromatic</span><span class="s3">\n        </span><span class="s1">const d = max - min;</span><span class="s3">\n        </span><span class="s1">const s = (l &gt; .5) ? d / (2 - max - min) : d / (max + min);</span><span class="s3">\n        </span><span class="s1">if (channel === 's')</span><span class="s3">\n            </span><span class="s1">return s * 100;</span><span class="s3">\n        </span><span class="s1">switch (max) {</span><span class="s3">\n            </span><span class="s1">case r: return ((g - b) / d + (g &lt; b ? 6 : 0)) * 60;</span><span class="s3">\n            </span><span class="s1">case g: return ((b - r) / d + 2) * 60;</span><span class="s3">\n            </span><span class="s1">case b: return ((r - g) / d + 4) * 60;</span><span class="s3">\n            </span><span class="s1">default: return -1; //TSC: TypeScript is stupid and complains if there isn't this useless default statement</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default Channel;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* MAIN */</span><span class="s3">\n</span><span class="s1">const Lang = {</span><span class="s3">\n    </span><span class="s1">/* API */</span><span class="s3">\n    </span><span class="s1">clamp: (number, lower, upper) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (lower &gt; upper)</span><span class="s3">\n            </span><span class="s1">return Math.min(lower, Math.max(upper, number));</span><span class="s3">\n        </span><span class="s1">return Math.min(upper, Math.max(lower, number));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">round: (number) =&gt; {</span><span class="s3">\n        </span><span class="s1">return Math.round(number * 10000000000) / 10000000000;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default Lang;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* MAIN */</span><span class="s3">\n</span><span class="s1">const Unit = {</span><span class="s3">\n    </span><span class="s1">/* API */</span><span class="s3">\n    </span><span class="s1">dec2hex: (dec) =&gt; {</span><span class="s3">\n        </span><span class="s1">const hex = Math.round(dec).toString(16);</span><span class="s3">\n        </span><span class="s1">return hex.length &gt; 1 ? hex : `0${hex}`;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default Unit;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import channel from './channel.js';</span><span class="s3">\n</span><span class="s1">import lang from './lang.js';</span><span class="s3">\n</span><span class="s1">import unit from './unit.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">const Utils = {</span><span class="s3">\n    </span><span class="s1">channel,</span><span class="s3">\n    </span><span class="s1">lang,</span><span class="s3">\n    </span><span class="s1">unit</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default Utils;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Removes all key-value entries from the list cache.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name clear</span><span class="s3">\n </span><span class="s1">* @memberOf ListCache</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function listCacheClear() {</span><span class="s3">\n  </span><span class="s1">this.__data__ = [];</span><span class="s3">\n  </span><span class="s1">this.size = 0;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default listCacheClear;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import eq from './eq.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Gets the index at which the `key` is found in `array` of key-value pairs.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Array} array The array to inspect.</span><span class="s3">\n </span><span class="s1">* @param {*} key The key to search for.</span><span class="s3">\n </span><span class="s1">* @returns {number} Returns the index of the matched value, else `-1`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function assocIndexOf(array, key) {</span><span class="s3">\n  </span><span class="s1">var length = array.length;</span><span class="s3">\n  </span><span class="s1">while (length--) {</span><span class="s3">\n    </span><span class="s1">if (eq(array[length][0], key)) {</span><span class="s3">\n      </span><span class="s1">return length;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default assocIndexOf;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import assocIndexOf from './_assocIndexOf.js';</span><span class="s3">\n\n</span><span class="s1">/** Used for built-in method references. */</span><span class="s3">\n</span><span class="s1">var arrayProto = Array.prototype;</span><span class="s3">\n\n</span><span class="s1">/** Built-in value references. */</span><span class="s3">\n</span><span class="s1">var splice = arrayProto.splice;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Removes `key` and its value from the list cache.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name delete</span><span class="s3">\n </span><span class="s1">* @memberOf ListCache</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the value to remove.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if the entry was removed, else `false`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function listCacheDelete(key) {</span><span class="s3">\n  </span><span class="s1">var data = this.__data__,</span><span class="s3">\n      </span><span class="s1">index = assocIndexOf(data, key);</span><span class="s3">\n\n  </span><span class="s1">if (index &lt; 0) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">var lastIndex = data.length - 1;</span><span class="s3">\n  </span><span class="s1">if (index == lastIndex) {</span><span class="s3">\n    </span><span class="s1">data.pop();</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">splice.call(data, index, 1);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">--this.size;</span><span class="s3">\n  </span><span class="s1">return true;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default listCacheDelete;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import assocIndexOf from './_assocIndexOf.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Gets the list cache value for `key`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name get</span><span class="s3">\n </span><span class="s1">* @memberOf ListCache</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the value to get.</span><span class="s3">\n </span><span class="s1">* @returns {*} Returns the entry value.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function listCacheGet(key) {</span><span class="s3">\n  </span><span class="s1">var data = this.__data__,</span><span class="s3">\n      </span><span class="s1">index = assocIndexOf(data, key);</span><span class="s3">\n\n  </span><span class="s1">return index &lt; 0 ? undefined : data[index][1];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default listCacheGet;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import assocIndexOf from './_assocIndexOf.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks if a list cache value for `key` exists.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name has</span><span class="s3">\n </span><span class="s1">* @memberOf ListCache</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the entry to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function listCacheHas(key) {</span><span class="s3">\n  </span><span class="s1">return assocIndexOf(this.__data__, key) &gt; -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default listCacheHas;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import assocIndexOf from './_assocIndexOf.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Sets the list cache `key` to `value`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name set</span><span class="s3">\n </span><span class="s1">* @memberOf ListCache</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the value to set.</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to set.</span><span class="s3">\n </span><span class="s1">* @returns {Object} Returns the list cache instance.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function listCacheSet(key, value) {</span><span class="s3">\n  </span><span class="s1">var data = this.__data__,</span><span class="s3">\n      </span><span class="s1">index = assocIndexOf(data, key);</span><span class="s3">\n\n  </span><span class="s1">if (index &lt; 0) {</span><span class="s3">\n    </span><span class="s1">++this.size;</span><span class="s3">\n    </span><span class="s1">data.push([key, value]);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">data[index][1] = value;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return this;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default listCacheSet;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import listCacheClear from './_listCacheClear.js';</span><span class="s3">\n</span><span class="s1">import listCacheDelete from './_listCacheDelete.js';</span><span class="s3">\n</span><span class="s1">import listCacheGet from './_listCacheGet.js';</span><span class="s3">\n</span><span class="s1">import listCacheHas from './_listCacheHas.js';</span><span class="s3">\n</span><span class="s1">import listCacheSet from './_listCacheSet.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates an list cache object.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @constructor</span><span class="s3">\n </span><span class="s1">* @param {Array} [entries] The key-value pairs to cache.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function ListCache(entries) {</span><span class="s3">\n  </span><span class="s1">var index = -1,</span><span class="s3">\n      </span><span class="s1">length = entries == null ? 0 : entries.length;</span><span class="s3">\n\n  </span><span class="s1">this.clear();</span><span class="s3">\n  </span><span class="s1">while (++index &lt; length) {</span><span class="s3">\n    </span><span class="s1">var entry = entries[index];</span><span class="s3">\n    </span><span class="s1">this.set(entry[0], entry[1]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Add methods to `ListCache`.</span><span class="s3">\n</span><span class="s1">ListCache.prototype.clear = listCacheClear;</span><span class="s3">\n</span><span class="s1">ListCache.prototype['delete'] = listCacheDelete;</span><span class="s3">\n</span><span class="s1">ListCache.prototype.get = listCacheGet;</span><span class="s3">\n</span><span class="s1">ListCache.prototype.has = listCacheHas;</span><span class="s3">\n</span><span class="s1">ListCache.prototype.set = listCacheSet;</span><span class="s3">\n\n</span><span class="s1">export default ListCache;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import getNative from './_getNative.js';</span><span class="s3">\n</span><span class="s1">import root from './_root.js';</span><span class="s3">\n\n</span><span class="s1">/* Built-in method references that are verified to be native. */</span><span class="s3">\n</span><span class="s1">var Map = getNative(root, 'Map');</span><span class="s3">\n\n</span><span class="s1">export default Map;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import getNative from './_getNative.js';</span><span class="s3">\n\n</span><span class="s1">/* Built-in method references that are verified to be native. */</span><span class="s3">\n</span><span class="s1">var nativeCreate = getNative(Object, 'create');</span><span class="s3">\n\n</span><span class="s1">export default nativeCreate;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import nativeCreate from './_nativeCreate.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Removes all key-value entries from the hash.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name clear</span><span class="s3">\n </span><span class="s1">* @memberOf Hash</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function hashClear() {</span><span class="s3">\n  </span><span class="s1">this.__data__ = nativeCreate ? nativeCreate(null) : {};</span><span class="s3">\n  </span><span class="s1">this.size = 0;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default hashClear;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Removes `key` and its value from the hash.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name delete</span><span class="s3">\n </span><span class="s1">* @memberOf Hash</span><span class="s3">\n </span><span class="s1">* @param {Object} hash The hash to modify.</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the value to remove.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if the entry was removed, else `false`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function hashDelete(key) {</span><span class="s3">\n  </span><span class="s1">var result = this.has(key) &amp;&amp; delete this.__data__[key];</span><span class="s3">\n  </span><span class="s1">this.size -= result ? 1 : 0;</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default hashDelete;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import nativeCreate from './_nativeCreate.js';</span><span class="s3">\n\n</span><span class="s1">/** Used to stand-in for `undefined` hash values. */</span><span class="s3">\n</span><span class="s1">var HASH_UNDEFINED = '__lodash_hash_undefined__';</span><span class="s3">\n\n</span><span class="s1">/** Used for built-in method references. */</span><span class="s3">\n</span><span class="s1">var objectProto = Object.prototype;</span><span class="s3">\n\n</span><span class="s1">/** Used to check objects for own properties. */</span><span class="s3">\n</span><span class="s1">var hasOwnProperty = objectProto.hasOwnProperty;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Gets the hash value for `key`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name get</span><span class="s3">\n </span><span class="s1">* @memberOf Hash</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the value to get.</span><span class="s3">\n </span><span class="s1">* @returns {*} Returns the entry value.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function hashGet(key) {</span><span class="s3">\n  </span><span class="s1">var data = this.__data__;</span><span class="s3">\n  </span><span class="s1">if (nativeCreate) {</span><span class="s3">\n    </span><span class="s1">var result = data[key];</span><span class="s3">\n    </span><span class="s1">return result === HASH_UNDEFINED ? undefined : result;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return hasOwnProperty.call(data, key) ? data[key] : undefined;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default hashGet;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import nativeCreate from './_nativeCreate.js';</span><span class="s3">\n\n</span><span class="s1">/** Used for built-in method references. */</span><span class="s3">\n</span><span class="s1">var objectProto = Object.prototype;</span><span class="s3">\n\n</span><span class="s1">/** Used to check objects for own properties. */</span><span class="s3">\n</span><span class="s1">var hasOwnProperty = objectProto.hasOwnProperty;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks if a hash value for `key` exists.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name has</span><span class="s3">\n </span><span class="s1">* @memberOf Hash</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the entry to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function hashHas(key) {</span><span class="s3">\n  </span><span class="s1">var data = this.__data__;</span><span class="s3">\n  </span><span class="s1">return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default hashHas;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import nativeCreate from './_nativeCreate.js';</span><span class="s3">\n\n</span><span class="s1">/** Used to stand-in for `undefined` hash values. */</span><span class="s3">\n</span><span class="s1">var HASH_UNDEFINED = '__lodash_hash_undefined__';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Sets the hash `key` to `value`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name set</span><span class="s3">\n </span><span class="s1">* @memberOf Hash</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the value to set.</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to set.</span><span class="s3">\n </span><span class="s1">* @returns {Object} Returns the hash instance.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function hashSet(key, value) {</span><span class="s3">\n  </span><span class="s1">var data = this.__data__;</span><span class="s3">\n  </span><span class="s1">this.size += this.has(key) ? 0 : 1;</span><span class="s3">\n  </span><span class="s1">data[key] = (nativeCreate &amp;&amp; value === undefined) ? HASH_UNDEFINED : value;</span><span class="s3">\n  </span><span class="s1">return this;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default hashSet;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import hashClear from './_hashClear.js';</span><span class="s3">\n</span><span class="s1">import hashDelete from './_hashDelete.js';</span><span class="s3">\n</span><span class="s1">import hashGet from './_hashGet.js';</span><span class="s3">\n</span><span class="s1">import hashHas from './_hashHas.js';</span><span class="s3">\n</span><span class="s1">import hashSet from './_hashSet.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates a hash object.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @constructor</span><span class="s3">\n </span><span class="s1">* @param {Array} [entries] The key-value pairs to cache.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function Hash(entries) {</span><span class="s3">\n  </span><span class="s1">var index = -1,</span><span class="s3">\n      </span><span class="s1">length = entries == null ? 0 : entries.length;</span><span class="s3">\n\n  </span><span class="s1">this.clear();</span><span class="s3">\n  </span><span class="s1">while (++index &lt; length) {</span><span class="s3">\n    </span><span class="s1">var entry = entries[index];</span><span class="s3">\n    </span><span class="s1">this.set(entry[0], entry[1]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Add methods to `Hash`.</span><span class="s3">\n</span><span class="s1">Hash.prototype.clear = hashClear;</span><span class="s3">\n</span><span class="s1">Hash.prototype['delete'] = hashDelete;</span><span class="s3">\n</span><span class="s1">Hash.prototype.get = hashGet;</span><span class="s3">\n</span><span class="s1">Hash.prototype.has = hashHas;</span><span class="s3">\n</span><span class="s1">Hash.prototype.set = hashSet;</span><span class="s3">\n\n</span><span class="s1">export default Hash;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import Hash from './_Hash.js';</span><span class="s3">\n</span><span class="s1">import ListCache from './_ListCache.js';</span><span class="s3">\n</span><span class="s1">import Map from './_Map.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Removes all key-value entries from the map.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name clear</span><span class="s3">\n </span><span class="s1">* @memberOf MapCache</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function mapCacheClear() {</span><span class="s3">\n  </span><span class="s1">this.size = 0;</span><span class="s3">\n  </span><span class="s1">this.__data__ = {</span><span class="s3">\n    </span><span class="s1">'hash': new Hash,</span><span class="s3">\n    </span><span class="s1">'map': new (Map || ListCache),</span><span class="s3">\n    </span><span class="s1">'string': new Hash</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default mapCacheClear;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Checks if `value` is suitable for use as unique object key.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if `value` is suitable, else `false`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isKeyable(value) {</span><span class="s3">\n  </span><span class="s1">var type = typeof value;</span><span class="s3">\n  </span><span class="s1">return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')</span><span class="s3">\n    </span><span class="s1">? (value !== '__proto__')</span><span class="s3">\n    </span><span class="s1">: (value === null);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default isKeyable;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import isKeyable from './_isKeyable.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Gets the data for `map`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Object} map The map to query.</span><span class="s3">\n </span><span class="s1">* @param {string} key The reference key.</span><span class="s3">\n </span><span class="s1">* @returns {*} Returns the map data.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function getMapData(map, key) {</span><span class="s3">\n  </span><span class="s1">var data = map.__data__;</span><span class="s3">\n  </span><span class="s1">return isKeyable(key)</span><span class="s3">\n    </span><span class="s1">? data[typeof key == 'string' ? 'string' : 'hash']</span><span class="s3">\n    </span><span class="s1">: data.map;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default getMapData;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import getMapData from './_getMapData.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Removes `key` and its value from the map.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name delete</span><span class="s3">\n </span><span class="s1">* @memberOf MapCache</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the value to remove.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if the entry was removed, else `false`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function mapCacheDelete(key) {</span><span class="s3">\n  </span><span class="s1">var result = getMapData(this, key)['delete'](key);</span><span class="s3">\n  </span><span class="s1">this.size -= result ? 1 : 0;</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default mapCacheDelete;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import getMapData from './_getMapData.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Gets the map value for `key`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name get</span><span class="s3">\n </span><span class="s1">* @memberOf MapCache</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the value to get.</span><span class="s3">\n </span><span class="s1">* @returns {*} Returns the entry value.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function mapCacheGet(key) {</span><span class="s3">\n  </span><span class="s1">return getMapData(this, key).get(key);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default mapCacheGet;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import getMapData from './_getMapData.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks if a map value for `key` exists.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name has</span><span class="s3">\n </span><span class="s1">* @memberOf MapCache</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the entry to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function mapCacheHas(key) {</span><span class="s3">\n  </span><span class="s1">return getMapData(this, key).has(key);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default mapCacheHas;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import getMapData from './_getMapData.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Sets the map `key` to `value`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name set</span><span class="s3">\n </span><span class="s1">* @memberOf MapCache</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the value to set.</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to set.</span><span class="s3">\n </span><span class="s1">* @returns {Object} Returns the map cache instance.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function mapCacheSet(key, value) {</span><span class="s3">\n  </span><span class="s1">var data = getMapData(this, key),</span><span class="s3">\n      </span><span class="s1">size = data.size;</span><span class="s3">\n\n  </span><span class="s1">data.set(key, value);</span><span class="s3">\n  </span><span class="s1">this.size += data.size == size ? 0 : 1;</span><span class="s3">\n  </span><span class="s1">return this;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default mapCacheSet;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import mapCacheClear from './_mapCacheClear.js';</span><span class="s3">\n</span><span class="s1">import mapCacheDelete from './_mapCacheDelete.js';</span><span class="s3">\n</span><span class="s1">import mapCacheGet from './_mapCacheGet.js';</span><span class="s3">\n</span><span class="s1">import mapCacheHas from './_mapCacheHas.js';</span><span class="s3">\n</span><span class="s1">import mapCacheSet from './_mapCacheSet.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates a map cache object to store key-value pairs.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @constructor</span><span class="s3">\n </span><span class="s1">* @param {Array} [entries] The key-value pairs to cache.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function MapCache(entries) {</span><span class="s3">\n  </span><span class="s1">var index = -1,</span><span class="s3">\n      </span><span class="s1">length = entries == null ? 0 : entries.length;</span><span class="s3">\n\n  </span><span class="s1">this.clear();</span><span class="s3">\n  </span><span class="s1">while (++index &lt; length) {</span><span class="s3">\n    </span><span class="s1">var entry = entries[index];</span><span class="s3">\n    </span><span class="s1">this.set(entry[0], entry[1]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Add methods to `MapCache`.</span><span class="s3">\n</span><span class="s1">MapCache.prototype.clear = mapCacheClear;</span><span class="s3">\n</span><span class="s1">MapCache.prototype['delete'] = mapCacheDelete;</span><span class="s3">\n</span><span class="s1">MapCache.prototype.get = mapCacheGet;</span><span class="s3">\n</span><span class="s1">MapCache.prototype.has = mapCacheHas;</span><span class="s3">\n</span><span class="s1">MapCache.prototype.set = mapCacheSet;</span><span class="s3">\n\n</span><span class="s1">export default MapCache;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import getNative from './_getNative.js';</span><span class="s3">\n</span><span class="s1">import root from './_root.js';</span><span class="s3">\n\n</span><span class="s1">/* Built-in method references that are verified to be native. */</span><span class="s3">\n</span><span class="s1">var Set = getNative(root, 'Set');</span><span class="s3">\n\n</span><span class="s1">export default Set;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import ListCache from './_ListCache.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Removes all key-value entries from the stack.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name clear</span><span class="s3">\n </span><span class="s1">* @memberOf Stack</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function stackClear() {</span><span class="s3">\n  </span><span class="s1">this.__data__ = new ListCache;</span><span class="s3">\n  </span><span class="s1">this.size = 0;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default stackClear;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Removes `key` and its value from the stack.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name delete</span><span class="s3">\n </span><span class="s1">* @memberOf Stack</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the value to remove.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if the entry was removed, else `false`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function stackDelete(key) {</span><span class="s3">\n  </span><span class="s1">var data = this.__data__,</span><span class="s3">\n      </span><span class="s1">result = data['delete'](key);</span><span class="s3">\n\n  </span><span class="s1">this.size = data.size;</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default stackDelete;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Gets the stack value for `key`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name get</span><span class="s3">\n </span><span class="s1">* @memberOf Stack</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the value to get.</span><span class="s3">\n </span><span class="s1">* @returns {*} Returns the entry value.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function stackGet(key) {</span><span class="s3">\n  </span><span class="s1">return this.__data__.get(key);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default stackGet;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Checks if a stack value for `key` exists.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name has</span><span class="s3">\n </span><span class="s1">* @memberOf Stack</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the entry to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function stackHas(key) {</span><span class="s3">\n  </span><span class="s1">return this.__data__.has(key);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default stackHas;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import ListCache from './_ListCache.js';</span><span class="s3">\n</span><span class="s1">import Map from './_Map.js';</span><span class="s3">\n</span><span class="s1">import MapCache from './_MapCache.js';</span><span class="s3">\n\n</span><span class="s1">/** Used as the size to enable large array optimizations. */</span><span class="s3">\n</span><span class="s1">var LARGE_ARRAY_SIZE = 200;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Sets the stack `key` to `value`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @name set</span><span class="s3">\n </span><span class="s1">* @memberOf Stack</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the value to set.</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to set.</span><span class="s3">\n </span><span class="s1">* @returns {Object} Returns the stack cache instance.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function stackSet(key, value) {</span><span class="s3">\n  </span><span class="s1">var data = this.__data__;</span><span class="s3">\n  </span><span class="s1">if (data instanceof ListCache) {</span><span class="s3">\n    </span><span class="s1">var pairs = data.__data__;</span><span class="s3">\n    </span><span class="s1">if (!Map || (pairs.length &lt; LARGE_ARRAY_SIZE - 1)) {</span><span class="s3">\n      </span><span class="s1">pairs.push([key, value]);</span><span class="s3">\n      </span><span class="s1">this.size = ++data.size;</span><span class="s3">\n      </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">data = this.__data__ = new MapCache(pairs);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">data.set(key, value);</span><span class="s3">\n  </span><span class="s1">this.size = data.size;</span><span class="s3">\n  </span><span class="s1">return this;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default stackSet;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import ListCache from './_ListCache.js';</span><span class="s3">\n</span><span class="s1">import stackClear from './_stackClear.js';</span><span class="s3">\n</span><span class="s1">import stackDelete from './_stackDelete.js';</span><span class="s3">\n</span><span class="s1">import stackGet from './_stackGet.js';</span><span class="s3">\n</span><span class="s1">import stackHas from './_stackHas.js';</span><span class="s3">\n</span><span class="s1">import stackSet from './_stackSet.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates a stack cache object to store key-value pairs.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @constructor</span><span class="s3">\n </span><span class="s1">* @param {Array} [entries] The key-value pairs to cache.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function Stack(entries) {</span><span class="s3">\n  </span><span class="s1">var data = this.__data__ = new ListCache(entries);</span><span class="s3">\n  </span><span class="s1">this.size = data.size;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Add methods to `Stack`.</span><span class="s3">\n</span><span class="s1">Stack.prototype.clear = stackClear;</span><span class="s3">\n</span><span class="s1">Stack.prototype['delete'] = stackDelete;</span><span class="s3">\n</span><span class="s1">Stack.prototype.get = stackGet;</span><span class="s3">\n</span><span class="s1">Stack.prototype.has = stackHas;</span><span class="s3">\n</span><span class="s1">Stack.prototype.set = stackSet;</span><span class="s3">\n\n</span><span class="s1">export default Stack;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import root from './_root.js';</span><span class="s3">\n\n</span><span class="s1">/** Built-in value references. */</span><span class="s3">\n</span><span class="s1">var Symbol = root.Symbol;</span><span class="s3">\n\n</span><span class="s1">export default Symbol;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import root from './_root.js';</span><span class="s3">\n\n</span><span class="s1">/** Built-in value references. */</span><span class="s3">\n</span><span class="s1">var Uint8Array = root.Uint8Array;</span><span class="s3">\n\n</span><span class="s1">export default Uint8Array;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* The base implementation of `_.times` without support for iteratee shorthands</span><span class="s3">\n </span><span class="s1">* or max array length checks.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {number} n The number of times to invoke `iteratee`.</span><span class="s3">\n </span><span class="s1">* @param {Function} iteratee The function invoked per iteration.</span><span class="s3">\n </span><span class="s1">* @returns {Array} Returns the array of results.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function baseTimes(n, iteratee) {</span><span class="s3">\n  </span><span class="s1">var index = -1,</span><span class="s3">\n      </span><span class="s1">result = Array(n);</span><span class="s3">\n\n  </span><span class="s1">while (++index &lt; n) {</span><span class="s3">\n    </span><span class="s1">result[index] = iteratee(index);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default baseTimes;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import baseTimes from './_baseTimes.js';</span><span class="s3">\n</span><span class="s1">import isArguments from './isArguments.js';</span><span class="s3">\n</span><span class="s1">import isArray from './isArray.js';</span><span class="s3">\n</span><span class="s1">import isBuffer from './isBuffer.js';</span><span class="s3">\n</span><span class="s1">import isIndex from './_isIndex.js';</span><span class="s3">\n</span><span class="s1">import isTypedArray from './isTypedArray.js';</span><span class="s3">\n\n</span><span class="s1">/** Used for built-in method references. */</span><span class="s3">\n</span><span class="s1">var objectProto = Object.prototype;</span><span class="s3">\n\n</span><span class="s1">/** Used to check objects for own properties. */</span><span class="s3">\n</span><span class="s1">var hasOwnProperty = objectProto.hasOwnProperty;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates an array of the enumerable property names of the array-like `value`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to query.</span><span class="s3">\n </span><span class="s1">* @param {boolean} inherited Specify returning inherited property names.</span><span class="s3">\n </span><span class="s1">* @returns {Array} Returns the array of property names.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function arrayLikeKeys(value, inherited) {</span><span class="s3">\n  </span><span class="s1">var isArr = isArray(value),</span><span class="s3">\n      </span><span class="s1">isArg = !isArr &amp;&amp; isArguments(value),</span><span class="s3">\n      </span><span class="s1">isBuff = !isArr &amp;&amp; !isArg &amp;&amp; isBuffer(value),</span><span class="s3">\n      </span><span class="s1">isType = !isArr &amp;&amp; !isArg &amp;&amp; !isBuff &amp;&amp; isTypedArray(value),</span><span class="s3">\n      </span><span class="s1">skipIndexes = isArr || isArg || isBuff || isType,</span><span class="s3">\n      </span><span class="s1">result = skipIndexes ? baseTimes(value.length, String) : [],</span><span class="s3">\n      </span><span class="s1">length = result.length;</span><span class="s3">\n\n  </span><span class="s1">for (var key in value) {</span><span class="s3">\n    </span><span class="s1">if ((inherited || hasOwnProperty.call(value, key)) &amp;&amp;</span><span class="s3">\n        </span><span class="s1">!(skipIndexes &amp;&amp; (</span><span class="s3">\n           </span><span class="s1">// Safari 9 has enumerable `arguments.length` in strict mode.</span><span class="s3">\n           </span><span class="s1">key == 'length' ||</span><span class="s3">\n           </span><span class="s1">// Node.js 0.10 has enumerable non-index properties on buffers.</span><span class="s3">\n           </span><span class="s1">(isBuff &amp;&amp; (key == 'offset' || key == 'parent')) ||</span><span class="s3">\n           </span><span class="s1">// PhantomJS 2 has enumerable non-index properties on typed arrays.</span><span class="s3">\n           </span><span class="s1">(isType &amp;&amp; (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||</span><span class="s3">\n           </span><span class="s1">// Skip index properties.</span><span class="s3">\n           </span><span class="s1">isIndex(key, length)</span><span class="s3">\n        </span><span class="s1">))) {</span><span class="s3">\n      </span><span class="s1">result.push(key);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default arrayLikeKeys;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import baseAssignValue from './_baseAssignValue.js';</span><span class="s3">\n</span><span class="s1">import eq from './eq.js';</span><span class="s3">\n\n</span><span class="s1">/** Used for built-in method references. */</span><span class="s3">\n</span><span class="s1">var objectProto = Object.prototype;</span><span class="s3">\n\n</span><span class="s1">/** Used to check objects for own properties. */</span><span class="s3">\n</span><span class="s1">var hasOwnProperty = objectProto.hasOwnProperty;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Assigns `value` to `key` of `object` if the existing value is not equivalent</span><span class="s3">\n </span><span class="s1">* using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)</span><span class="s3">\n </span><span class="s1">* for equality comparisons.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Object} object The object to modify.</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the property to assign.</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to assign.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function assignValue(object, key, value) {</span><span class="s3">\n  </span><span class="s1">var objValue = object[key];</span><span class="s3">\n  </span><span class="s1">if (!(hasOwnProperty.call(object, key) &amp;&amp; eq(objValue, value)) ||</span><span class="s3">\n      </span><span class="s1">(value === undefined &amp;&amp; !(key in object))) {</span><span class="s3">\n    </span><span class="s1">baseAssignValue(object, key, value);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default assignValue;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import defineProperty from './_defineProperty.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The base implementation of `assignValue` and `assignMergeValue` without</span><span class="s3">\n </span><span class="s1">* value checks.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Object} object The object to modify.</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the property to assign.</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to assign.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function baseAssignValue(object, key, value) {</span><span class="s3">\n  </span><span class="s1">if (key == '__proto__' &amp;&amp; defineProperty) {</span><span class="s3">\n    </span><span class="s1">defineProperty(object, key, {</span><span class="s3">\n      </span><span class="s1">'configurable': true,</span><span class="s3">\n      </span><span class="s1">'enumerable': true,</span><span class="s3">\n      </span><span class="s1">'value': value,</span><span class="s3">\n      </span><span class="s1">'writable': true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">object[key] = value;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default baseAssignValue;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Creates a base function for methods like `_.forIn` and `_.forOwn`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {boolean} [fromRight] Specify iterating from right to left.</span><span class="s3">\n </span><span class="s1">* @returns {Function} Returns the new base function.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function createBaseFor(fromRight) {</span><span class="s3">\n  </span><span class="s1">return function(object, iteratee, keysFunc) {</span><span class="s3">\n    </span><span class="s1">var index = -1,</span><span class="s3">\n        </span><span class="s1">iterable = Object(object),</span><span class="s3">\n        </span><span class="s1">props = keysFunc(object),</span><span class="s3">\n        </span><span class="s1">length = props.length;</span><span class="s3">\n\n    </span><span class="s1">while (length--) {</span><span class="s3">\n      </span><span class="s1">var key = props[fromRight ? length : ++index];</span><span class="s3">\n      </span><span class="s1">if (iteratee(iterable[key], key, iterable) === false) {</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return object;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default createBaseFor;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import createBaseFor from './_createBaseFor.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The base implementation of `baseForOwn` which iterates over `object`</span><span class="s3">\n </span><span class="s1">* properties returned by `keysFunc` and invokes `iteratee` for each property.</span><span class="s3">\n </span><span class="s1">* Iteratee functions may exit iteration early by explicitly returning `false`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Object} object The object to iterate over.</span><span class="s3">\n </span><span class="s1">* @param {Function} iteratee The function invoked per iteration.</span><span class="s3">\n </span><span class="s1">* @param {Function} keysFunc The function to get the keys of `object`.</span><span class="s3">\n </span><span class="s1">* @returns {Object} Returns `object`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var baseFor = createBaseFor();</span><span class="s3">\n\n</span><span class="s1">export default baseFor;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import Symbol from './_Symbol.js';</span><span class="s3">\n\n</span><span class="s1">/** Used for built-in method references. */</span><span class="s3">\n</span><span class="s1">var objectProto = Object.prototype;</span><span class="s3">\n\n</span><span class="s1">/** Used to check objects for own properties. */</span><span class="s3">\n</span><span class="s1">var hasOwnProperty = objectProto.hasOwnProperty;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Used to resolve the</span><span class="s3">\n </span><span class="s1">* [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)</span><span class="s3">\n </span><span class="s1">* of values.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var nativeObjectToString = objectProto.toString;</span><span class="s3">\n\n</span><span class="s1">/** Built-in value references. */</span><span class="s3">\n</span><span class="s1">var symToStringTag = Symbol ? Symbol.toStringTag : undefined;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to query.</span><span class="s3">\n </span><span class="s1">* @returns {string} Returns the raw `toStringTag`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function getRawTag(value) {</span><span class="s3">\n  </span><span class="s1">var isOwn = hasOwnProperty.call(value, symToStringTag),</span><span class="s3">\n      </span><span class="s1">tag = value[symToStringTag];</span><span class="s3">\n\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">value[symToStringTag] = undefined;</span><span class="s3">\n    </span><span class="s1">var unmasked = true;</span><span class="s3">\n  </span><span class="s1">} catch (e) {}</span><span class="s3">\n\n  </span><span class="s1">var result = nativeObjectToString.call(value);</span><span class="s3">\n  </span><span class="s1">if (unmasked) {</span><span class="s3">\n    </span><span class="s1">if (isOwn) {</span><span class="s3">\n      </span><span class="s1">value[symToStringTag] = tag;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">delete value[symToStringTag];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default getRawTag;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/** Used for built-in method references. */</span><span class="s3">\n</span><span class="s1">var objectProto = Object.prototype;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Used to resolve the</span><span class="s3">\n </span><span class="s1">* [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)</span><span class="s3">\n </span><span class="s1">* of values.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var nativeObjectToString = objectProto.toString;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts `value` to a string using `Object.prototype.toString`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to convert.</span><span class="s3">\n </span><span class="s1">* @returns {string} Returns the converted string.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function objectToString(value) {</span><span class="s3">\n  </span><span class="s1">return nativeObjectToString.call(value);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default objectToString;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import Symbol from './_Symbol.js';</span><span class="s3">\n</span><span class="s1">import getRawTag from './_getRawTag.js';</span><span class="s3">\n</span><span class="s1">import objectToString from './_objectToString.js';</span><span class="s3">\n\n</span><span class="s1">/** `Object#toString` result references. */</span><span class="s3">\n</span><span class="s1">var nullTag = '[object Null]',</span><span class="s3">\n    </span><span class="s1">undefinedTag = '[object Undefined]';</span><span class="s3">\n\n</span><span class="s1">/** Built-in value references. */</span><span class="s3">\n</span><span class="s1">var symToStringTag = Symbol ? Symbol.toStringTag : undefined;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The base implementation of `getTag` without fallbacks for buggy environments.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to query.</span><span class="s3">\n </span><span class="s1">* @returns {string} Returns the `toStringTag`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function baseGetTag(value) {</span><span class="s3">\n  </span><span class="s1">if (value == null) {</span><span class="s3">\n    </span><span class="s1">return value === undefined ? undefinedTag : nullTag;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return (symToStringTag &amp;&amp; symToStringTag in Object(value))</span><span class="s3">\n    </span><span class="s1">? getRawTag(value)</span><span class="s3">\n    </span><span class="s1">: objectToString(value);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default baseGetTag;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import overArg from './_overArg.js';</span><span class="s3">\n\n</span><span class="s1">/* Built-in method references for those with the same name as other `lodash` methods. */</span><span class="s3">\n</span><span class="s1">var nativeKeys = overArg(Object.keys, Object);</span><span class="s3">\n\n</span><span class="s1">export default nativeKeys;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import isPrototype from './_isPrototype.js';</span><span class="s3">\n</span><span class="s1">import nativeKeys from './_nativeKeys.js';</span><span class="s3">\n\n</span><span class="s1">/** Used for built-in method references. */</span><span class="s3">\n</span><span class="s1">var objectProto = Object.prototype;</span><span class="s3">\n\n</span><span class="s1">/** Used to check objects for own properties. */</span><span class="s3">\n</span><span class="s1">var hasOwnProperty = objectProto.hasOwnProperty;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The base implementation of `_.keys` which doesn't treat sparse arrays as dense.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Object} object The object to query.</span><span class="s3">\n </span><span class="s1">* @returns {Array} Returns the array of property names.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function baseKeys(object) {</span><span class="s3">\n  </span><span class="s1">if (!isPrototype(object)) {</span><span class="s3">\n    </span><span class="s1">return nativeKeys(object);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">var result = [];</span><span class="s3">\n  </span><span class="s1">for (var key in Object(object)) {</span><span class="s3">\n    </span><span class="s1">if (hasOwnProperty.call(object, key) &amp;&amp; key != 'constructor') {</span><span class="s3">\n      </span><span class="s1">result.push(key);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default baseKeys;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import identity from './identity.js';</span><span class="s3">\n</span><span class="s1">import overRest from './_overRest.js';</span><span class="s3">\n</span><span class="s1">import setToString from './_setToString.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The base implementation of `_.rest` which doesn't validate or coerce arguments.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Function} func The function to apply a rest parameter to.</span><span class="s3">\n </span><span class="s1">* @param {number} [start=func.length-1] The start position of the rest parameter.</span><span class="s3">\n </span><span class="s1">* @returns {Function} Returns the new function.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function baseRest(func, start) {</span><span class="s3">\n  </span><span class="s1">return setToString(overRest(func, start, identity), func + '');</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default baseRest;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* The base implementation of `_.unary` without support for storing metadata.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Function} func The function to cap arguments for.</span><span class="s3">\n </span><span class="s1">* @returns {Function} Returns the new capped function.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function baseUnary(func) {</span><span class="s3">\n  </span><span class="s1">return function(value) {</span><span class="s3">\n    </span><span class="s1">return func(value);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default baseUnary;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import Uint8Array from './_Uint8Array.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates a clone of `arrayBuffer`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {ArrayBuffer} arrayBuffer The array buffer to clone.</span><span class="s3">\n </span><span class="s1">* @returns {ArrayBuffer} Returns the cloned array buffer.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function cloneArrayBuffer(arrayBuffer) {</span><span class="s3">\n  </span><span class="s1">var result = new arrayBuffer.constructor(arrayBuffer.byteLength);</span><span class="s3">\n  </span><span class="s1">new Uint8Array(result).set(new Uint8Array(arrayBuffer));</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default cloneArrayBuffer;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import root from './_root.js';</span><span class="s3">\n\n</span><span class="s1">/** Detect free variable `exports`. */</span><span class="s3">\n</span><span class="s1">var freeExports = typeof exports == 'object' &amp;&amp; exports &amp;&amp; !exports.nodeType &amp;&amp; exports;</span><span class="s3">\n\n</span><span class="s1">/** Detect free variable `module`. */</span><span class="s3">\n</span><span class="s1">var freeModule = freeExports &amp;&amp; typeof module == 'object' &amp;&amp; module &amp;&amp; !module.nodeType &amp;&amp; module;</span><span class="s3">\n\n</span><span class="s1">/** Detect the popular CommonJS extension `module.exports`. */</span><span class="s3">\n</span><span class="s1">var moduleExports = freeModule &amp;&amp; freeModule.exports === freeExports;</span><span class="s3">\n\n</span><span class="s1">/** Built-in value references. */</span><span class="s3">\n</span><span class="s1">var Buffer = moduleExports ? root.Buffer : undefined,</span><span class="s3">\n    </span><span class="s1">allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates a clone of  `buffer`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Buffer} buffer The buffer to clone.</span><span class="s3">\n </span><span class="s1">* @param {boolean} [isDeep] Specify a deep clone.</span><span class="s3">\n </span><span class="s1">* @returns {Buffer} Returns the cloned buffer.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function cloneBuffer(buffer, isDeep) {</span><span class="s3">\n  </span><span class="s1">if (isDeep) {</span><span class="s3">\n    </span><span class="s1">return buffer.slice();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">var length = buffer.length,</span><span class="s3">\n      </span><span class="s1">result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);</span><span class="s3">\n\n  </span><span class="s1">buffer.copy(result);</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default cloneBuffer;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import cloneArrayBuffer from './_cloneArrayBuffer.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates a clone of `typedArray`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Object} typedArray The typed array to clone.</span><span class="s3">\n </span><span class="s1">* @param {boolean} [isDeep] Specify a deep clone.</span><span class="s3">\n </span><span class="s1">* @returns {Object} Returns the cloned typed array.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function cloneTypedArray(typedArray, isDeep) {</span><span class="s3">\n  </span><span class="s1">var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;</span><span class="s3">\n  </span><span class="s1">return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default cloneTypedArray;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Copies the values of `source` to `array`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Array} source The array to copy values from.</span><span class="s3">\n </span><span class="s1">* @param {Array} [array=[]] The array to copy values to.</span><span class="s3">\n </span><span class="s1">* @returns {Array} Returns `array`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function copyArray(source, array) {</span><span class="s3">\n  </span><span class="s1">var index = -1,</span><span class="s3">\n      </span><span class="s1">length = source.length;</span><span class="s3">\n\n  </span><span class="s1">array || (array = Array(length));</span><span class="s3">\n  </span><span class="s1">while (++index &lt; length) {</span><span class="s3">\n    </span><span class="s1">array[index] = source[index];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return array;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default copyArray;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import assignValue from './_assignValue.js';</span><span class="s3">\n</span><span class="s1">import baseAssignValue from './_baseAssignValue.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Copies properties of `source` to `object`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Object} source The object to copy properties from.</span><span class="s3">\n </span><span class="s1">* @param {Array} props The property identifiers to copy.</span><span class="s3">\n </span><span class="s1">* @param {Object} [object={}] The object to copy properties to.</span><span class="s3">\n </span><span class="s1">* @param {Function} [customizer] The function to customize copied values.</span><span class="s3">\n </span><span class="s1">* @returns {Object} Returns `object`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function copyObject(source, props, object, customizer) {</span><span class="s3">\n  </span><span class="s1">var isNew = !object;</span><span class="s3">\n  </span><span class="s1">object || (object = {});</span><span class="s3">\n\n  </span><span class="s1">var index = -1,</span><span class="s3">\n      </span><span class="s1">length = props.length;</span><span class="s3">\n\n  </span><span class="s1">while (++index &lt; length) {</span><span class="s3">\n    </span><span class="s1">var key = props[index];</span><span class="s3">\n\n    </span><span class="s1">var newValue = customizer</span><span class="s3">\n      </span><span class="s1">? customizer(object[key], source[key], key, object, source)</span><span class="s3">\n      </span><span class="s1">: undefined;</span><span class="s3">\n\n    </span><span class="s1">if (newValue === undefined) {</span><span class="s3">\n      </span><span class="s1">newValue = source[key];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (isNew) {</span><span class="s3">\n      </span><span class="s1">baseAssignValue(object, key, newValue);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">assignValue(object, key, newValue);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return object;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default copyObject;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import baseRest from './_baseRest.js';</span><span class="s3">\n</span><span class="s1">import isIterateeCall from './_isIterateeCall.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates a function like `_.assign`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Function} assigner The function to assign values.</span><span class="s3">\n </span><span class="s1">* @returns {Function} Returns the new assigner function.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function createAssigner(assigner) {</span><span class="s3">\n  </span><span class="s1">return baseRest(function(object, sources) {</span><span class="s3">\n    </span><span class="s1">var index = -1,</span><span class="s3">\n        </span><span class="s1">length = sources.length,</span><span class="s3">\n        </span><span class="s1">customizer = length &gt; 1 ? sources[length - 1] : undefined,</span><span class="s3">\n        </span><span class="s1">guard = length &gt; 2 ? sources[2] : undefined;</span><span class="s3">\n\n    </span><span class="s1">customizer = (assigner.length &gt; 3 &amp;&amp; typeof customizer == 'function')</span><span class="s3">\n      </span><span class="s1">? (length--, customizer)</span><span class="s3">\n      </span><span class="s1">: undefined;</span><span class="s3">\n\n    </span><span class="s1">if (guard &amp;&amp; isIterateeCall(sources[0], sources[1], guard)) {</span><span class="s3">\n      </span><span class="s1">customizer = length &lt; 3 ? undefined : customizer;</span><span class="s3">\n      </span><span class="s1">length = 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">object = Object(object);</span><span class="s3">\n    </span><span class="s1">while (++index &lt; length) {</span><span class="s3">\n      </span><span class="s1">var source = sources[index];</span><span class="s3">\n      </span><span class="s1">if (source) {</span><span class="s3">\n        </span><span class="s1">assigner(object, source, index, customizer);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return object;</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default createAssigner;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import getNative from './_getNative.js';</span><span class="s3">\n\n</span><span class="s1">var defineProperty = (function() {</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">var func = getNative(Object, 'defineProperty');</span><span class="s3">\n    </span><span class="s1">func({}, '', {});</span><span class="s3">\n    </span><span class="s1">return func;</span><span class="s3">\n  </span><span class="s1">} catch (e) {}</span><span class="s3">\n</span><span class="s1">}());</span><span class="s3">\n\n</span><span class="s1">export default defineProperty;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/** Detect free variable `global` from Node.js. */</span><span class="s3">\n</span><span class="s1">var freeGlobal = typeof global == 'object' &amp;&amp; global &amp;&amp; global.Object === Object &amp;&amp; global;</span><span class="s3">\n\n</span><span class="s1">export default freeGlobal;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import root from './_root.js';</span><span class="s3">\n\n</span><span class="s1">/** Used to detect overreaching core-js shims. */</span><span class="s3">\n</span><span class="s1">var coreJsData = root['__core-js_shared__'];</span><span class="s3">\n\n</span><span class="s1">export default coreJsData;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import coreJsData from './_coreJsData.js';</span><span class="s3">\n\n</span><span class="s1">/** Used to detect methods masquerading as native. */</span><span class="s3">\n</span><span class="s1">var maskSrcKey = (function() {</span><span class="s3">\n  </span><span class="s1">var uid = /[^.]+$/.exec(coreJsData &amp;&amp; coreJsData.keys &amp;&amp; coreJsData.keys.IE_PROTO || '');</span><span class="s3">\n  </span><span class="s1">return uid ? ('Symbol(src)_1.' + uid) : '';</span><span class="s3">\n</span><span class="s1">}());</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks if `func` has its source masked.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Function} func The function to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if `func` is masked, else `false`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isMasked(func) {</span><span class="s3">\n  </span><span class="s1">return !!maskSrcKey &amp;&amp; (maskSrcKey in func);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default isMasked;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import isFunction from './isFunction.js';</span><span class="s3">\n</span><span class="s1">import isMasked from './_isMasked.js';</span><span class="s3">\n</span><span class="s1">import isObject from './isObject.js';</span><span class="s3">\n</span><span class="s1">import toSource from './_toSource.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Used to match `RegExp`</span><span class="s3">\n </span><span class="s1">* [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var reRegExpChar = /[</span><span class="s3">\\\\</span><span class="s1">^$.*+?()[</span><span class="s3">\\</span><span class="s1">]{}|]/g;</span><span class="s3">\n\n</span><span class="s1">/** Used to detect host constructors (Safari). */</span><span class="s3">\n</span><span class="s1">var reIsHostCtor = /^</span><span class="s3">\\</span><span class="s1">[object .+?Constructor</span><span class="s3">\\</span><span class="s1">]$/;</span><span class="s3">\n\n</span><span class="s1">/** Used for built-in method references. */</span><span class="s3">\n</span><span class="s1">var funcProto = Function.prototype,</span><span class="s3">\n    </span><span class="s1">objectProto = Object.prototype;</span><span class="s3">\n\n</span><span class="s1">/** Used to resolve the decompiled source of functions. */</span><span class="s3">\n</span><span class="s1">var funcToString = funcProto.toString;</span><span class="s3">\n\n</span><span class="s1">/** Used to check objects for own properties. */</span><span class="s3">\n</span><span class="s1">var hasOwnProperty = objectProto.hasOwnProperty;</span><span class="s3">\n\n</span><span class="s1">/** Used to detect if a method is native. */</span><span class="s3">\n</span><span class="s1">var reIsNative = RegExp('^' +</span><span class="s3">\n  </span><span class="s1">funcToString.call(hasOwnProperty).replace(reRegExpChar, '</span><span class="s3">\\\\</span><span class="s1">$&amp;')</span><span class="s3">\n  </span><span class="s1">.replace(/hasOwnProperty|(function).*?(?=</span><span class="s3">\\\\\\</span><span class="s1">()| for .+?(?=</span><span class="s3">\\\\\\</span><span class="s1">])/g, '$1.*?') + '$'</span><span class="s3">\n</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The base implementation of `_.isNative` without bad shim checks.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if `value` is a native function,</span><span class="s3">\n </span><span class="s1">*  else `false`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function baseIsNative(value) {</span><span class="s3">\n  </span><span class="s1">if (!isObject(value) || isMasked(value)) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">var pattern = isFunction(value) ? reIsNative : reIsHostCtor;</span><span class="s3">\n  </span><span class="s1">return pattern.test(toSource(value));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default baseIsNative;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Gets the value at `key` of `object`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Object} [object] The object to query.</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the property to get.</span><span class="s3">\n </span><span class="s1">* @returns {*} Returns the property value.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function getValue(object, key) {</span><span class="s3">\n  </span><span class="s1">return object == null ? undefined : object[key];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default getValue;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import baseIsNative from './_baseIsNative.js';</span><span class="s3">\n</span><span class="s1">import getValue from './_getValue.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Gets the native function at `key` of `object`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Object} object The object to query.</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the method to get.</span><span class="s3">\n </span><span class="s1">* @returns {*} Returns the function if it's native, else `undefined`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function getNative(object, key) {</span><span class="s3">\n  </span><span class="s1">var value = getValue(object, key);</span><span class="s3">\n  </span><span class="s1">return baseIsNative(value) ? value : undefined;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default getNative;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import overArg from './_overArg.js';</span><span class="s3">\n\n</span><span class="s1">/** Built-in value references. */</span><span class="s3">\n</span><span class="s1">var getPrototype = overArg(Object.getPrototypeOf, Object);</span><span class="s3">\n\n</span><span class="s1">export default getPrototype;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import getNative from './_getNative.js';</span><span class="s3">\n</span><span class="s1">import root from './_root.js';</span><span class="s3">\n\n</span><span class="s1">/* Built-in method references that are verified to be native. */</span><span class="s3">\n</span><span class="s1">var DataView = getNative(root, 'DataView');</span><span class="s3">\n\n</span><span class="s1">export default DataView;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import getNative from './_getNative.js';</span><span class="s3">\n</span><span class="s1">import root from './_root.js';</span><span class="s3">\n\n</span><span class="s1">/* Built-in method references that are verified to be native. */</span><span class="s3">\n</span><span class="s1">var Promise = getNative(root, 'Promise');</span><span class="s3">\n\n</span><span class="s1">export default Promise;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import getNative from './_getNative.js';</span><span class="s3">\n</span><span class="s1">import root from './_root.js';</span><span class="s3">\n\n</span><span class="s1">/* Built-in method references that are verified to be native. */</span><span class="s3">\n</span><span class="s1">var WeakMap = getNative(root, 'WeakMap');</span><span class="s3">\n\n</span><span class="s1">export default WeakMap;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import DataView from './_DataView.js';</span><span class="s3">\n</span><span class="s1">import Map from './_Map.js';</span><span class="s3">\n</span><span class="s1">import Promise from './_Promise.js';</span><span class="s3">\n</span><span class="s1">import Set from './_Set.js';</span><span class="s3">\n</span><span class="s1">import WeakMap from './_WeakMap.js';</span><span class="s3">\n</span><span class="s1">import baseGetTag from './_baseGetTag.js';</span><span class="s3">\n</span><span class="s1">import toSource from './_toSource.js';</span><span class="s3">\n\n</span><span class="s1">/** `Object#toString` result references. */</span><span class="s3">\n</span><span class="s1">var mapTag = '[object Map]',</span><span class="s3">\n    </span><span class="s1">objectTag = '[object Object]',</span><span class="s3">\n    </span><span class="s1">promiseTag = '[object Promise]',</span><span class="s3">\n    </span><span class="s1">setTag = '[object Set]',</span><span class="s3">\n    </span><span class="s1">weakMapTag = '[object WeakMap]';</span><span class="s3">\n\n</span><span class="s1">var dataViewTag = '[object DataView]';</span><span class="s3">\n\n</span><span class="s1">/** Used to detect maps, sets, and weakmaps. */</span><span class="s3">\n</span><span class="s1">var dataViewCtorString = toSource(DataView),</span><span class="s3">\n    </span><span class="s1">mapCtorString = toSource(Map),</span><span class="s3">\n    </span><span class="s1">promiseCtorString = toSource(Promise),</span><span class="s3">\n    </span><span class="s1">setCtorString = toSource(Set),</span><span class="s3">\n    </span><span class="s1">weakMapCtorString = toSource(WeakMap);</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Gets the `toStringTag` of `value`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to query.</span><span class="s3">\n </span><span class="s1">* @returns {string} Returns the `toStringTag`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var getTag = baseGetTag;</span><span class="s3">\n\n</span><span class="s1">// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js &lt; 6.</span><span class="s3">\n</span><span class="s1">if ((DataView &amp;&amp; getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||</span><span class="s3">\n    </span><span class="s1">(Map &amp;&amp; getTag(new Map) != mapTag) ||</span><span class="s3">\n    </span><span class="s1">(Promise &amp;&amp; getTag(Promise.resolve()) != promiseTag) ||</span><span class="s3">\n    </span><span class="s1">(Set &amp;&amp; getTag(new Set) != setTag) ||</span><span class="s3">\n    </span><span class="s1">(WeakMap &amp;&amp; getTag(new WeakMap) != weakMapTag)) {</span><span class="s3">\n  </span><span class="s1">getTag = function(value) {</span><span class="s3">\n    </span><span class="s1">var result = baseGetTag(value),</span><span class="s3">\n        </span><span class="s1">Ctor = result == objectTag ? value.constructor : undefined,</span><span class="s3">\n        </span><span class="s1">ctorString = Ctor ? toSource(Ctor) : '';</span><span class="s3">\n\n    </span><span class="s1">if (ctorString) {</span><span class="s3">\n      </span><span class="s1">switch (ctorString) {</span><span class="s3">\n        </span><span class="s1">case dataViewCtorString: return dataViewTag;</span><span class="s3">\n        </span><span class="s1">case mapCtorString: return mapTag;</span><span class="s3">\n        </span><span class="s1">case promiseCtorString: return promiseTag;</span><span class="s3">\n        </span><span class="s1">case setCtorString: return setTag;</span><span class="s3">\n        </span><span class="s1">case weakMapCtorString: return weakMapTag;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return result;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default getTag;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import isObject from './isObject.js';</span><span class="s3">\n\n</span><span class="s1">/** Built-in value references. */</span><span class="s3">\n</span><span class="s1">var objectCreate = Object.create;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The base implementation of `_.create` without support for assigning</span><span class="s3">\n </span><span class="s1">* properties to the created object.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Object} proto The object to inherit from.</span><span class="s3">\n </span><span class="s1">* @returns {Object} Returns the new object.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var baseCreate = (function() {</span><span class="s3">\n  </span><span class="s1">function object() {}</span><span class="s3">\n  </span><span class="s1">return function(proto) {</span><span class="s3">\n    </span><span class="s1">if (!isObject(proto)) {</span><span class="s3">\n      </span><span class="s1">return {};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (objectCreate) {</span><span class="s3">\n      </span><span class="s1">return objectCreate(proto);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">object.prototype = proto;</span><span class="s3">\n    </span><span class="s1">var result = new object;</span><span class="s3">\n    </span><span class="s1">object.prototype = undefined;</span><span class="s3">\n    </span><span class="s1">return result;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}());</span><span class="s3">\n\n</span><span class="s1">export default baseCreate;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import baseCreate from './_baseCreate.js';</span><span class="s3">\n</span><span class="s1">import getPrototype from './_getPrototype.js';</span><span class="s3">\n</span><span class="s1">import isPrototype from './_isPrototype.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Initializes an object clone.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Object} object The object to clone.</span><span class="s3">\n </span><span class="s1">* @returns {Object} Returns the initialized clone.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function initCloneObject(object) {</span><span class="s3">\n  </span><span class="s1">return (typeof object.constructor == 'function' &amp;&amp; !isPrototype(object))</span><span class="s3">\n    </span><span class="s1">? baseCreate(getPrototype(object))</span><span class="s3">\n    </span><span class="s1">: {};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default initCloneObject;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/** Used as references for various `Number` constants. */</span><span class="s3">\n</span><span class="s1">var MAX_SAFE_INTEGER = 9007199254740991;</span><span class="s3">\n\n</span><span class="s1">/** Used to detect unsigned integer values. */</span><span class="s3">\n</span><span class="s1">var reIsUint = /^(?:0|[1-9]</span><span class="s3">\\</span><span class="s1">d*)$/;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks if `value` is a valid array-like index.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to check.</span><span class="s3">\n </span><span class="s1">* @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if `value` is a valid index, else `false`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isIndex(value, length) {</span><span class="s3">\n  </span><span class="s1">var type = typeof value;</span><span class="s3">\n  </span><span class="s1">length = length == null ? MAX_SAFE_INTEGER : length;</span><span class="s3">\n\n  </span><span class="s1">return !!length &amp;&amp;</span><span class="s3">\n    </span><span class="s1">(type == 'number' ||</span><span class="s3">\n      </span><span class="s1">(type != 'symbol' &amp;&amp; reIsUint.test(value))) &amp;&amp;</span><span class="s3">\n        </span><span class="s1">(value &gt; -1 &amp;&amp; value % 1 == 0 &amp;&amp; value &lt; length);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default isIndex;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import eq from './eq.js';</span><span class="s3">\n</span><span class="s1">import isArrayLike from './isArrayLike.js';</span><span class="s3">\n</span><span class="s1">import isIndex from './_isIndex.js';</span><span class="s3">\n</span><span class="s1">import isObject from './isObject.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks if the given arguments are from an iteratee call.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {*} value The potential iteratee value argument.</span><span class="s3">\n </span><span class="s1">* @param {*} index The potential iteratee index or key argument.</span><span class="s3">\n </span><span class="s1">* @param {*} object The potential iteratee object argument.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if the arguments are from an iteratee call,</span><span class="s3">\n </span><span class="s1">*  else `false`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isIterateeCall(value, index, object) {</span><span class="s3">\n  </span><span class="s1">if (!isObject(object)) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">var type = typeof index;</span><span class="s3">\n  </span><span class="s1">if (type == 'number'</span><span class="s3">\n        </span><span class="s1">? (isArrayLike(object) &amp;&amp; isIndex(index, object.length))</span><span class="s3">\n        </span><span class="s1">: (type == 'string' &amp;&amp; index in object)</span><span class="s3">\n      </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return eq(object[index], value);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return false;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default isIterateeCall;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/** Used for built-in method references. */</span><span class="s3">\n</span><span class="s1">var objectProto = Object.prototype;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks if `value` is likely a prototype object.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if `value` is a prototype, else `false`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isPrototype(value) {</span><span class="s3">\n  </span><span class="s1">var Ctor = value &amp;&amp; value.constructor,</span><span class="s3">\n      </span><span class="s1">proto = (typeof Ctor == 'function' &amp;&amp; Ctor.prototype) || objectProto;</span><span class="s3">\n\n  </span><span class="s1">return value === proto;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default isPrototype;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import freeGlobal from './_freeGlobal.js';</span><span class="s3">\n\n</span><span class="s1">/** Detect free variable `exports`. */</span><span class="s3">\n</span><span class="s1">var freeExports = typeof exports == 'object' &amp;&amp; exports &amp;&amp; !exports.nodeType &amp;&amp; exports;</span><span class="s3">\n\n</span><span class="s1">/** Detect free variable `module`. */</span><span class="s3">\n</span><span class="s1">var freeModule = freeExports &amp;&amp; typeof module == 'object' &amp;&amp; module &amp;&amp; !module.nodeType &amp;&amp; module;</span><span class="s3">\n\n</span><span class="s1">/** Detect the popular CommonJS extension `module.exports`. */</span><span class="s3">\n</span><span class="s1">var moduleExports = freeModule &amp;&amp; freeModule.exports === freeExports;</span><span class="s3">\n\n</span><span class="s1">/** Detect free variable `process` from Node.js. */</span><span class="s3">\n</span><span class="s1">var freeProcess = moduleExports &amp;&amp; freeGlobal.process;</span><span class="s3">\n\n</span><span class="s1">/** Used to access faster Node.js helpers. */</span><span class="s3">\n</span><span class="s1">var nodeUtil = (function() {</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">// Use `util.types` for Node.js 10+.</span><span class="s3">\n    </span><span class="s1">var types = freeModule &amp;&amp; freeModule.require &amp;&amp; freeModule.require('util').types;</span><span class="s3">\n\n    </span><span class="s1">if (types) {</span><span class="s3">\n      </span><span class="s1">return types;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// Legacy `process.binding('util')` for Node.js &lt; 10.</span><span class="s3">\n    </span><span class="s1">return freeProcess &amp;&amp; freeProcess.binding &amp;&amp; freeProcess.binding('util');</span><span class="s3">\n  </span><span class="s1">} catch (e) {}</span><span class="s3">\n</span><span class="s1">}());</span><span class="s3">\n\n</span><span class="s1">export default nodeUtil;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Creates a unary function that invokes `func` with its argument transformed.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Function} func The function to wrap.</span><span class="s3">\n </span><span class="s1">* @param {Function} transform The argument transform.</span><span class="s3">\n </span><span class="s1">* @returns {Function} Returns the new function.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function overArg(func, transform) {</span><span class="s3">\n  </span><span class="s1">return function(arg) {</span><span class="s3">\n    </span><span class="s1">return func(transform(arg));</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default overArg;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* A faster alternative to `Function#apply`, this function invokes `func`</span><span class="s3">\n </span><span class="s1">* with the `this` binding of `thisArg` and the arguments of `args`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Function} func The function to invoke.</span><span class="s3">\n </span><span class="s1">* @param {*} thisArg The `this` binding of `func`.</span><span class="s3">\n </span><span class="s1">* @param {Array} args The arguments to invoke `func` with.</span><span class="s3">\n </span><span class="s1">* @returns {*} Returns the result of `func`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function apply(func, thisArg, args) {</span><span class="s3">\n  </span><span class="s1">switch (args.length) {</span><span class="s3">\n    </span><span class="s1">case 0: return func.call(thisArg);</span><span class="s3">\n    </span><span class="s1">case 1: return func.call(thisArg, args[0]);</span><span class="s3">\n    </span><span class="s1">case 2: return func.call(thisArg, args[0], args[1]);</span><span class="s3">\n    </span><span class="s1">case 3: return func.call(thisArg, args[0], args[1], args[2]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return func.apply(thisArg, args);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default apply;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import apply from './_apply.js';</span><span class="s3">\n\n</span><span class="s1">/* Built-in method references for those with the same name as other `lodash` methods. */</span><span class="s3">\n</span><span class="s1">var nativeMax = Math.max;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A specialized version of `baseRest` which transforms the rest array.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Function} func The function to apply a rest parameter to.</span><span class="s3">\n </span><span class="s1">* @param {number} [start=func.length-1] The start position of the rest parameter.</span><span class="s3">\n </span><span class="s1">* @param {Function} transform The rest array transform.</span><span class="s3">\n </span><span class="s1">* @returns {Function} Returns the new function.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function overRest(func, start, transform) {</span><span class="s3">\n  </span><span class="s1">start = nativeMax(start === undefined ? (func.length - 1) : start, 0);</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var args = arguments,</span><span class="s3">\n        </span><span class="s1">index = -1,</span><span class="s3">\n        </span><span class="s1">length = nativeMax(args.length - start, 0),</span><span class="s3">\n        </span><span class="s1">array = Array(length);</span><span class="s3">\n\n    </span><span class="s1">while (++index &lt; length) {</span><span class="s3">\n      </span><span class="s1">array[index] = args[start + index];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">index = -1;</span><span class="s3">\n    </span><span class="s1">var otherArgs = Array(start + 1);</span><span class="s3">\n    </span><span class="s1">while (++index &lt; start) {</span><span class="s3">\n      </span><span class="s1">otherArgs[index] = args[index];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">otherArgs[start] = transform(array);</span><span class="s3">\n    </span><span class="s1">return apply(func, this, otherArgs);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default overRest;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import freeGlobal from './_freeGlobal.js';</span><span class="s3">\n\n</span><span class="s1">/** Detect free variable `self`. */</span><span class="s3">\n</span><span class="s1">var freeSelf = typeof self == 'object' &amp;&amp; self &amp;&amp; self.Object === Object &amp;&amp; self;</span><span class="s3">\n\n</span><span class="s1">/** Used as a reference to the global object. */</span><span class="s3">\n</span><span class="s1">var root = freeGlobal || freeSelf || Function('return this')();</span><span class="s3">\n\n</span><span class="s1">export default root;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import constant from './constant.js';</span><span class="s3">\n</span><span class="s1">import defineProperty from './_defineProperty.js';</span><span class="s3">\n</span><span class="s1">import identity from './identity.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The base implementation of `setToString` without support for hot loop shorting.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Function} func The function to modify.</span><span class="s3">\n </span><span class="s1">* @param {Function} string The `toString` result.</span><span class="s3">\n </span><span class="s1">* @returns {Function} Returns `func`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var baseSetToString = !defineProperty ? identity : function(func, string) {</span><span class="s3">\n  </span><span class="s1">return defineProperty(func, 'toString', {</span><span class="s3">\n    </span><span class="s1">'configurable': true,</span><span class="s3">\n    </span><span class="s1">'enumerable': false,</span><span class="s3">\n    </span><span class="s1">'value': constant(string),</span><span class="s3">\n    </span><span class="s1">'writable': true</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export default baseSetToString;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/** Used to detect hot functions by number of calls within a span of milliseconds. */</span><span class="s3">\n</span><span class="s1">var HOT_COUNT = 800,</span><span class="s3">\n    </span><span class="s1">HOT_SPAN = 16;</span><span class="s3">\n\n</span><span class="s1">/* Built-in method references for those with the same name as other `lodash` methods. */</span><span class="s3">\n</span><span class="s1">var nativeNow = Date.now;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates a function that'll short out and invoke `identity` instead</span><span class="s3">\n </span><span class="s1">* of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`</span><span class="s3">\n </span><span class="s1">* milliseconds.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Function} func The function to restrict.</span><span class="s3">\n </span><span class="s1">* @returns {Function} Returns the new shortable function.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function shortOut(func) {</span><span class="s3">\n  </span><span class="s1">var count = 0,</span><span class="s3">\n      </span><span class="s1">lastCalled = 0;</span><span class="s3">\n\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var stamp = nativeNow(),</span><span class="s3">\n        </span><span class="s1">remaining = HOT_SPAN - (stamp - lastCalled);</span><span class="s3">\n\n    </span><span class="s1">lastCalled = stamp;</span><span class="s3">\n    </span><span class="s1">if (remaining &gt; 0) {</span><span class="s3">\n      </span><span class="s1">if (++count &gt;= HOT_COUNT) {</span><span class="s3">\n        </span><span class="s1">return arguments[0];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">count = 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return func.apply(undefined, arguments);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default shortOut;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import baseSetToString from './_baseSetToString.js';</span><span class="s3">\n</span><span class="s1">import shortOut from './_shortOut.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Sets the `toString` method of `func` to return `string`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Function} func The function to modify.</span><span class="s3">\n </span><span class="s1">* @param {Function} string The `toString` result.</span><span class="s3">\n </span><span class="s1">* @returns {Function} Returns `func`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var setToString = shortOut(baseSetToString);</span><span class="s3">\n\n</span><span class="s1">export default setToString;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/** Used for built-in method references. */</span><span class="s3">\n</span><span class="s1">var funcProto = Function.prototype;</span><span class="s3">\n\n</span><span class="s1">/** Used to resolve the decompiled source of functions. */</span><span class="s3">\n</span><span class="s1">var funcToString = funcProto.toString;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts `func` to its source code.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Function} func The function to convert.</span><span class="s3">\n </span><span class="s1">* @returns {string} Returns the source code.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function toSource(func) {</span><span class="s3">\n  </span><span class="s1">if (func != null) {</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">return funcToString.call(func);</span><span class="s3">\n    </span><span class="s1">} catch (e) {}</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">return (func + '');</span><span class="s3">\n    </span><span class="s1">} catch (e) {}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return '';</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default toSource;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Creates a function that returns `value`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @since 2.4.0</span><span class="s3">\n </span><span class="s1">* @category Util</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to return from the new function.</span><span class="s3">\n </span><span class="s1">* @returns {Function} Returns the new constant function.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* var objects = _.times(2, _.constant({ 'a': 1 }));</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* console.log(objects);</span><span class="s3">\n </span><span class="s1">* // =&gt; [{ 'a': 1 }, { 'a': 1 }]</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* console.log(objects[0] === objects[1]);</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function constant(value) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">return value;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default constant;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Performs a</span><span class="s3">\n </span><span class="s1">* [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)</span><span class="s3">\n </span><span class="s1">* comparison between two values to determine if they are equivalent.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @since 4.0.0</span><span class="s3">\n </span><span class="s1">* @category Lang</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to compare.</span><span class="s3">\n </span><span class="s1">* @param {*} other The other value to compare.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if the values are equivalent, else `false`.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* var object = { 'a': 1 };</span><span class="s3">\n </span><span class="s1">* var other = { 'a': 1 };</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.eq(object, object);</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.eq(object, other);</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.eq('a', 'a');</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.eq('a', Object('a'));</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.eq(NaN, NaN);</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function eq(value, other) {</span><span class="s3">\n  </span><span class="s1">return value === other || (value !== value &amp;&amp; other !== other);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default eq;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* This method returns the first argument it receives.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @since 0.1.0</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @category Util</span><span class="s3">\n </span><span class="s1">* @param {*} value Any value.</span><span class="s3">\n </span><span class="s1">* @returns {*} Returns `value`.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* var object = { 'a': 1 };</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* console.log(_.identity(object) === object);</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function identity(value) {</span><span class="s3">\n  </span><span class="s1">return value;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default identity;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import baseGetTag from './_baseGetTag.js';</span><span class="s3">\n</span><span class="s1">import isObjectLike from './isObjectLike.js';</span><span class="s3">\n\n</span><span class="s1">/** `Object#toString` result references. */</span><span class="s3">\n</span><span class="s1">var argsTag = '[object Arguments]';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The base implementation of `_.isArguments`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if `value` is an `arguments` object,</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function baseIsArguments(value) {</span><span class="s3">\n  </span><span class="s1">return isObjectLike(value) &amp;&amp; baseGetTag(value) == argsTag;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default baseIsArguments;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import baseIsArguments from './_baseIsArguments.js';</span><span class="s3">\n</span><span class="s1">import isObjectLike from './isObjectLike.js';</span><span class="s3">\n\n</span><span class="s1">/** Used for built-in method references. */</span><span class="s3">\n</span><span class="s1">var objectProto = Object.prototype;</span><span class="s3">\n\n</span><span class="s1">/** Used to check objects for own properties. */</span><span class="s3">\n</span><span class="s1">var hasOwnProperty = objectProto.hasOwnProperty;</span><span class="s3">\n\n</span><span class="s1">/** Built-in value references. */</span><span class="s3">\n</span><span class="s1">var propertyIsEnumerable = objectProto.propertyIsEnumerable;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks if `value` is likely an `arguments` object.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @since 0.1.0</span><span class="s3">\n </span><span class="s1">* @category Lang</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if `value` is an `arguments` object,</span><span class="s3">\n </span><span class="s1">*  else `false`.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isArguments(function() { return arguments; }());</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isArguments([1, 2, 3]);</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {</span><span class="s3">\n  </span><span class="s1">return isObjectLike(value) &amp;&amp; hasOwnProperty.call(value, 'callee') &amp;&amp;</span><span class="s3">\n    </span><span class="s1">!propertyIsEnumerable.call(value, 'callee');</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export default isArguments;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Checks if `value` is classified as an `Array` object.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @since 0.1.0</span><span class="s3">\n </span><span class="s1">* @category Lang</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if `value` is an array, else `false`.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isArray([1, 2, 3]);</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isArray(document.body.children);</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isArray('abc');</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isArray(_.noop);</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var isArray = Array.isArray;</span><span class="s3">\n\n</span><span class="s1">export default isArray;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import isFunction from './isFunction.js';</span><span class="s3">\n</span><span class="s1">import isLength from './isLength.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks if `value` is array-like. A value is considered array-like if it's</span><span class="s3">\n </span><span class="s1">* not a function and has a `value.length` that's an integer greater than or</span><span class="s3">\n </span><span class="s1">* equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @since 4.0.0</span><span class="s3">\n </span><span class="s1">* @category Lang</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if `value` is array-like, else `false`.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isArrayLike([1, 2, 3]);</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isArrayLike(document.body.children);</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isArrayLike('abc');</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isArrayLike(_.noop);</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isArrayLike(value) {</span><span class="s3">\n  </span><span class="s1">return value != null &amp;&amp; isLength(value.length) &amp;&amp; !isFunction(value);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default isArrayLike;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import isArrayLike from './isArrayLike.js';</span><span class="s3">\n</span><span class="s1">import isObjectLike from './isObjectLike.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This method is like `_.isArrayLike` except that it also checks if `value`</span><span class="s3">\n </span><span class="s1">* is an object.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @since 4.0.0</span><span class="s3">\n </span><span class="s1">* @category Lang</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if `value` is an array-like object,</span><span class="s3">\n </span><span class="s1">*  else `false`.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isArrayLikeObject([1, 2, 3]);</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isArrayLikeObject(document.body.children);</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isArrayLikeObject('abc');</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isArrayLikeObject(_.noop);</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isArrayLikeObject(value) {</span><span class="s3">\n  </span><span class="s1">return isObjectLike(value) &amp;&amp; isArrayLike(value);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default isArrayLikeObject;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* This method returns `false`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @since 4.13.0</span><span class="s3">\n </span><span class="s1">* @category Util</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `false`.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.times(2, _.stubFalse);</span><span class="s3">\n </span><span class="s1">* // =&gt; [false, false]</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function stubFalse() {</span><span class="s3">\n  </span><span class="s1">return false;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default stubFalse;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import root from './_root.js';</span><span class="s3">\n</span><span class="s1">import stubFalse from './stubFalse.js';</span><span class="s3">\n\n</span><span class="s1">/** Detect free variable `exports`. */</span><span class="s3">\n</span><span class="s1">var freeExports = typeof exports == 'object' &amp;&amp; exports &amp;&amp; !exports.nodeType &amp;&amp; exports;</span><span class="s3">\n\n</span><span class="s1">/** Detect free variable `module`. */</span><span class="s3">\n</span><span class="s1">var freeModule = freeExports &amp;&amp; typeof module == 'object' &amp;&amp; module &amp;&amp; !module.nodeType &amp;&amp; module;</span><span class="s3">\n\n</span><span class="s1">/** Detect the popular CommonJS extension `module.exports`. */</span><span class="s3">\n</span><span class="s1">var moduleExports = freeModule &amp;&amp; freeModule.exports === freeExports;</span><span class="s3">\n\n</span><span class="s1">/** Built-in value references. */</span><span class="s3">\n</span><span class="s1">var Buffer = moduleExports ? root.Buffer : undefined;</span><span class="s3">\n\n</span><span class="s1">/* Built-in method references for those with the same name as other `lodash` methods. */</span><span class="s3">\n</span><span class="s1">var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks if `value` is a buffer.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @since 4.3.0</span><span class="s3">\n </span><span class="s1">* @category Lang</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if `value` is a buffer, else `false`.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isBuffer(new Buffer(2));</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isBuffer(new Uint8Array(2));</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var isBuffer = nativeIsBuffer || stubFalse;</span><span class="s3">\n\n</span><span class="s1">export default isBuffer;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import baseKeys from './_baseKeys.js';</span><span class="s3">\n</span><span class="s1">import getTag from './_getTag.js';</span><span class="s3">\n</span><span class="s1">import isArguments from './isArguments.js';</span><span class="s3">\n</span><span class="s1">import isArray from './isArray.js';</span><span class="s3">\n</span><span class="s1">import isArrayLike from './isArrayLike.js';</span><span class="s3">\n</span><span class="s1">import isBuffer from './isBuffer.js';</span><span class="s3">\n</span><span class="s1">import isPrototype from './_isPrototype.js';</span><span class="s3">\n</span><span class="s1">import isTypedArray from './isTypedArray.js';</span><span class="s3">\n\n</span><span class="s1">/** `Object#toString` result references. */</span><span class="s3">\n</span><span class="s1">var mapTag = '[object Map]',</span><span class="s3">\n    </span><span class="s1">setTag = '[object Set]';</span><span class="s3">\n\n</span><span class="s1">/** Used for built-in method references. */</span><span class="s3">\n</span><span class="s1">var objectProto = Object.prototype;</span><span class="s3">\n\n</span><span class="s1">/** Used to check objects for own properties. */</span><span class="s3">\n</span><span class="s1">var hasOwnProperty = objectProto.hasOwnProperty;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks if `value` is an empty object, collection, map, or set.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Objects are considered empty if they have no own enumerable string keyed</span><span class="s3">\n </span><span class="s1">* properties.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Array-like values such as `arguments` objects, arrays, buffers, strings, or</span><span class="s3">\n </span><span class="s1">* jQuery-like collections are considered empty if they have a `length` of `0`.</span><span class="s3">\n </span><span class="s1">* Similarly, maps and sets are considered empty if they have a `size` of `0`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @since 0.1.0</span><span class="s3">\n </span><span class="s1">* @category Lang</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if `value` is empty, else `false`.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isEmpty(null);</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isEmpty(true);</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isEmpty(1);</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isEmpty([1, 2, 3]);</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isEmpty({ 'a': 1 });</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isEmpty(value) {</span><span class="s3">\n  </span><span class="s1">if (value == null) {</span><span class="s3">\n    </span><span class="s1">return true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (isArrayLike(value) &amp;&amp;</span><span class="s3">\n      </span><span class="s1">(isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||</span><span class="s3">\n        </span><span class="s1">isBuffer(value) || isTypedArray(value) || isArguments(value))) {</span><span class="s3">\n    </span><span class="s1">return !value.length;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">var tag = getTag(value);</span><span class="s3">\n  </span><span class="s1">if (tag == mapTag || tag == setTag) {</span><span class="s3">\n    </span><span class="s1">return !value.size;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (isPrototype(value)) {</span><span class="s3">\n    </span><span class="s1">return !baseKeys(value).length;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">for (var key in value) {</span><span class="s3">\n    </span><span class="s1">if (hasOwnProperty.call(value, key)) {</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return true;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default isEmpty;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import baseGetTag from './_baseGetTag.js';</span><span class="s3">\n</span><span class="s1">import isObject from './isObject.js';</span><span class="s3">\n\n</span><span class="s1">/** `Object#toString` result references. */</span><span class="s3">\n</span><span class="s1">var asyncTag = '[object AsyncFunction]',</span><span class="s3">\n    </span><span class="s1">funcTag = '[object Function]',</span><span class="s3">\n    </span><span class="s1">genTag = '[object GeneratorFunction]',</span><span class="s3">\n    </span><span class="s1">proxyTag = '[object Proxy]';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks if `value` is classified as a `Function` object.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @since 0.1.0</span><span class="s3">\n </span><span class="s1">* @category Lang</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if `value` is a function, else `false`.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isFunction(_);</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isFunction(/abc/);</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isFunction(value) {</span><span class="s3">\n  </span><span class="s1">if (!isObject(value)) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">// The use of `Object#toString` avoids issues with the `typeof` operator</span><span class="s3">\n  </span><span class="s1">// in Safari 9 which returns 'object' for typed arrays and other constructors.</span><span class="s3">\n  </span><span class="s1">var tag = baseGetTag(value);</span><span class="s3">\n  </span><span class="s1">return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default isFunction;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/** Used as references for various `Number` constants. */</span><span class="s3">\n</span><span class="s1">var MAX_SAFE_INTEGER = 9007199254740991;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks if `value` is a valid array-like length.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* **Note:** This method is loosely based on</span><span class="s3">\n </span><span class="s1">* [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @since 4.0.0</span><span class="s3">\n </span><span class="s1">* @category Lang</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if `value` is a valid length, else `false`.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isLength(3);</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isLength(Number.MIN_VALUE);</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isLength(Infinity);</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isLength('3');</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isLength(value) {</span><span class="s3">\n  </span><span class="s1">return typeof value == 'number' &amp;&amp;</span><span class="s3">\n    </span><span class="s1">value &gt; -1 &amp;&amp; value % 1 == 0 &amp;&amp; value &lt;= MAX_SAFE_INTEGER;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default isLength;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Checks if `value` is the</span><span class="s3">\n </span><span class="s1">* [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)</span><span class="s3">\n </span><span class="s1">* of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @since 0.1.0</span><span class="s3">\n </span><span class="s1">* @category Lang</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if `value` is an object, else `false`.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isObject({});</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isObject([1, 2, 3]);</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isObject(_.noop);</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isObject(null);</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isObject(value) {</span><span class="s3">\n  </span><span class="s1">var type = typeof value;</span><span class="s3">\n  </span><span class="s1">return value != null &amp;&amp; (type == 'object' || type == 'function');</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default isObject;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Checks if `value` is object-like. A value is object-like if it's not `null`</span><span class="s3">\n </span><span class="s1">* and has a `typeof` result of </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @since 4.0.0</span><span class="s3">\n </span><span class="s1">* @category Lang</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if `value` is object-like, else `false`.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isObjectLike({});</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isObjectLike([1, 2, 3]);</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isObjectLike(_.noop);</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isObjectLike(null);</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isObjectLike(value) {</span><span class="s3">\n  </span><span class="s1">return value != null &amp;&amp; typeof value == 'object';</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default isObjectLike;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import baseGetTag from './_baseGetTag.js';</span><span class="s3">\n</span><span class="s1">import isLength from './isLength.js';</span><span class="s3">\n</span><span class="s1">import isObjectLike from './isObjectLike.js';</span><span class="s3">\n\n</span><span class="s1">/** `Object#toString` result references. */</span><span class="s3">\n</span><span class="s1">var argsTag = '[object Arguments]',</span><span class="s3">\n    </span><span class="s1">arrayTag = '[object Array]',</span><span class="s3">\n    </span><span class="s1">boolTag = '[object Boolean]',</span><span class="s3">\n    </span><span class="s1">dateTag = '[object Date]',</span><span class="s3">\n    </span><span class="s1">errorTag = '[object Error]',</span><span class="s3">\n    </span><span class="s1">funcTag = '[object Function]',</span><span class="s3">\n    </span><span class="s1">mapTag = '[object Map]',</span><span class="s3">\n    </span><span class="s1">numberTag = '[object Number]',</span><span class="s3">\n    </span><span class="s1">objectTag = '[object Object]',</span><span class="s3">\n    </span><span class="s1">regexpTag = '[object RegExp]',</span><span class="s3">\n    </span><span class="s1">setTag = '[object Set]',</span><span class="s3">\n    </span><span class="s1">stringTag = '[object String]',</span><span class="s3">\n    </span><span class="s1">weakMapTag = '[object WeakMap]';</span><span class="s3">\n\n</span><span class="s1">var arrayBufferTag = '[object ArrayBuffer]',</span><span class="s3">\n    </span><span class="s1">dataViewTag = '[object DataView]',</span><span class="s3">\n    </span><span class="s1">float32Tag = '[object Float32Array]',</span><span class="s3">\n    </span><span class="s1">float64Tag = '[object Float64Array]',</span><span class="s3">\n    </span><span class="s1">int8Tag = '[object Int8Array]',</span><span class="s3">\n    </span><span class="s1">int16Tag = '[object Int16Array]',</span><span class="s3">\n    </span><span class="s1">int32Tag = '[object Int32Array]',</span><span class="s3">\n    </span><span class="s1">uint8Tag = '[object Uint8Array]',</span><span class="s3">\n    </span><span class="s1">uint8ClampedTag = '[object Uint8ClampedArray]',</span><span class="s3">\n    </span><span class="s1">uint16Tag = '[object Uint16Array]',</span><span class="s3">\n    </span><span class="s1">uint32Tag = '[object Uint32Array]';</span><span class="s3">\n\n</span><span class="s1">/** Used to identify `toStringTag` values of typed arrays. */</span><span class="s3">\n</span><span class="s1">var typedArrayTags = {};</span><span class="s3">\n</span><span class="s1">typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =</span><span class="s3">\n</span><span class="s1">typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =</span><span class="s3">\n</span><span class="s1">typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =</span><span class="s3">\n</span><span class="s1">typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =</span><span class="s3">\n</span><span class="s1">typedArrayTags[uint32Tag] = true;</span><span class="s3">\n</span><span class="s1">typedArrayTags[argsTag] = typedArrayTags[arrayTag] =</span><span class="s3">\n</span><span class="s1">typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =</span><span class="s3">\n</span><span class="s1">typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =</span><span class="s3">\n</span><span class="s1">typedArrayTags[errorTag] = typedArrayTags[funcTag] =</span><span class="s3">\n</span><span class="s1">typedArrayTags[mapTag] = typedArrayTags[numberTag] =</span><span class="s3">\n</span><span class="s1">typedArrayTags[objectTag] = typedArrayTags[regexpTag] =</span><span class="s3">\n</span><span class="s1">typedArrayTags[setTag] = typedArrayTags[stringTag] =</span><span class="s3">\n</span><span class="s1">typedArrayTags[weakMapTag] = false;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The base implementation of `_.isTypedArray` without Node.js optimizations.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if `value` is a typed array, else `false`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function baseIsTypedArray(value) {</span><span class="s3">\n  </span><span class="s1">return isObjectLike(value) &amp;&amp;</span><span class="s3">\n    </span><span class="s1">isLength(value.length) &amp;&amp; !!typedArrayTags[baseGetTag(value)];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default baseIsTypedArray;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import baseIsTypedArray from './_baseIsTypedArray.js';</span><span class="s3">\n</span><span class="s1">import baseUnary from './_baseUnary.js';</span><span class="s3">\n</span><span class="s1">import nodeUtil from './_nodeUtil.js';</span><span class="s3">\n\n</span><span class="s1">/* Node.js helper references. */</span><span class="s3">\n</span><span class="s1">var nodeIsTypedArray = nodeUtil &amp;&amp; nodeUtil.isTypedArray;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks if `value` is classified as a typed array.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @since 3.0.0</span><span class="s3">\n </span><span class="s1">* @category Lang</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if `value` is a typed array, else `false`.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isTypedArray(new Uint8Array);</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isTypedArray([]);</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;</span><span class="s3">\n\n</span><span class="s1">export default isTypedArray;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* This function is like</span><span class="s3">\n </span><span class="s1">* [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)</span><span class="s3">\n </span><span class="s1">* except that it includes inherited enumerable properties.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Object} object The object to query.</span><span class="s3">\n </span><span class="s1">* @returns {Array} Returns the array of property names.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function nativeKeysIn(object) {</span><span class="s3">\n  </span><span class="s1">var result = [];</span><span class="s3">\n  </span><span class="s1">if (object != null) {</span><span class="s3">\n    </span><span class="s1">for (var key in Object(object)) {</span><span class="s3">\n      </span><span class="s1">result.push(key);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default nativeKeysIn;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import isObject from './isObject.js';</span><span class="s3">\n</span><span class="s1">import isPrototype from './_isPrototype.js';</span><span class="s3">\n</span><span class="s1">import nativeKeysIn from './_nativeKeysIn.js';</span><span class="s3">\n\n</span><span class="s1">/** Used for built-in method references. */</span><span class="s3">\n</span><span class="s1">var objectProto = Object.prototype;</span><span class="s3">\n\n</span><span class="s1">/** Used to check objects for own properties. */</span><span class="s3">\n</span><span class="s1">var hasOwnProperty = objectProto.hasOwnProperty;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Object} object The object to query.</span><span class="s3">\n </span><span class="s1">* @returns {Array} Returns the array of property names.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function baseKeysIn(object) {</span><span class="s3">\n  </span><span class="s1">if (!isObject(object)) {</span><span class="s3">\n    </span><span class="s1">return nativeKeysIn(object);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">var isProto = isPrototype(object),</span><span class="s3">\n      </span><span class="s1">result = [];</span><span class="s3">\n\n  </span><span class="s1">for (var key in object) {</span><span class="s3">\n    </span><span class="s1">if (!(key == 'constructor' &amp;&amp; (isProto || !hasOwnProperty.call(object, key)))) {</span><span class="s3">\n      </span><span class="s1">result.push(key);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default baseKeysIn;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import arrayLikeKeys from './_arrayLikeKeys.js';</span><span class="s3">\n</span><span class="s1">import baseKeysIn from './_baseKeysIn.js';</span><span class="s3">\n</span><span class="s1">import isArrayLike from './isArrayLike.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates an array of the own and inherited enumerable property names of `object`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* **Note:** Non-object values are coerced to objects.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @since 3.0.0</span><span class="s3">\n </span><span class="s1">* @category Object</span><span class="s3">\n </span><span class="s1">* @param {Object} object The object to query.</span><span class="s3">\n </span><span class="s1">* @returns {Array} Returns the array of property names.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* function Foo() {</span><span class="s3">\n </span><span class="s1">*   this.a = 1;</span><span class="s3">\n </span><span class="s1">*   this.b = 2;</span><span class="s3">\n </span><span class="s1">* }</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Foo.prototype.c = 3;</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.keysIn(new Foo);</span><span class="s3">\n </span><span class="s1">* // =&gt; ['a', 'b', 'c'] (iteration order is not guaranteed)</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function keysIn(object) {</span><span class="s3">\n  </span><span class="s1">return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default keysIn;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import MapCache from './_MapCache.js';</span><span class="s3">\n\n</span><span class="s1">/** Error message constants. */</span><span class="s3">\n</span><span class="s1">var FUNC_ERROR_TEXT = 'Expected a function';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates a function that memoizes the result of `func`. If `resolver` is</span><span class="s3">\n </span><span class="s1">* provided, it determines the cache key for storing the result based on the</span><span class="s3">\n </span><span class="s1">* arguments provided to the memoized function. By default, the first argument</span><span class="s3">\n </span><span class="s1">* provided to the memoized function is used as the map cache key. The `func`</span><span class="s3">\n </span><span class="s1">* is invoked with the `this` binding of the memoized function.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* **Note:** The cache is exposed as the `cache` property on the memoized</span><span class="s3">\n </span><span class="s1">* function. Its creation may be customized by replacing the `_.memoize.Cache`</span><span class="s3">\n </span><span class="s1">* constructor with one whose instances implement the</span><span class="s3">\n </span><span class="s1">* [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)</span><span class="s3">\n </span><span class="s1">* method interface of `clear`, `delete`, `get`, `has`, and `set`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @since 0.1.0</span><span class="s3">\n </span><span class="s1">* @category Function</span><span class="s3">\n </span><span class="s1">* @param {Function} func The function to have its output memoized.</span><span class="s3">\n </span><span class="s1">* @param {Function} [resolver] The function to resolve the cache key.</span><span class="s3">\n </span><span class="s1">* @returns {Function} Returns the new memoized function.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* var object = { 'a': 1, 'b': 2 };</span><span class="s3">\n </span><span class="s1">* var other = { 'c': 3, 'd': 4 };</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* var values = _.memoize(_.values);</span><span class="s3">\n </span><span class="s1">* values(object);</span><span class="s3">\n </span><span class="s1">* // =&gt; [1, 2]</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* values(other);</span><span class="s3">\n </span><span class="s1">* // =&gt; [3, 4]</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* object.a = 2;</span><span class="s3">\n </span><span class="s1">* values(object);</span><span class="s3">\n </span><span class="s1">* // =&gt; [1, 2]</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* // Modify the result cache.</span><span class="s3">\n </span><span class="s1">* values.cache.set(object, ['a', 'b']);</span><span class="s3">\n </span><span class="s1">* values(object);</span><span class="s3">\n </span><span class="s1">* // =&gt; ['a', 'b']</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* // Replace `_.memoize.Cache`.</span><span class="s3">\n </span><span class="s1">* _.memoize.Cache = WeakMap;</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function memoize(func, resolver) {</span><span class="s3">\n  </span><span class="s1">if (typeof func != 'function' || (resolver != null &amp;&amp; typeof resolver != 'function')) {</span><span class="s3">\n    </span><span class="s1">throw new TypeError(FUNC_ERROR_TEXT);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">var memoized = function() {</span><span class="s3">\n    </span><span class="s1">var args = arguments,</span><span class="s3">\n        </span><span class="s1">key = resolver ? resolver.apply(this, args) : args[0],</span><span class="s3">\n        </span><span class="s1">cache = memoized.cache;</span><span class="s3">\n\n    </span><span class="s1">if (cache.has(key)) {</span><span class="s3">\n      </span><span class="s1">return cache.get(key);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var result = func.apply(this, args);</span><span class="s3">\n    </span><span class="s1">memoized.cache = cache.set(key, result) || cache;</span><span class="s3">\n    </span><span class="s1">return result;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">memoized.cache = new (memoize.Cache || MapCache);</span><span class="s3">\n  </span><span class="s1">return memoized;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Expose `MapCache`.</span><span class="s3">\n</span><span class="s1">memoize.Cache = MapCache;</span><span class="s3">\n\n</span><span class="s1">export default memoize;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import baseAssignValue from './_baseAssignValue.js';</span><span class="s3">\n</span><span class="s1">import eq from './eq.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This function is like `assignValue` except that it doesn't assign</span><span class="s3">\n </span><span class="s1">* `undefined` values.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Object} object The object to modify.</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the property to assign.</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to assign.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function assignMergeValue(object, key, value) {</span><span class="s3">\n  </span><span class="s1">if ((value !== undefined &amp;&amp; !eq(object[key], value)) ||</span><span class="s3">\n      </span><span class="s1">(value === undefined &amp;&amp; !(key in object))) {</span><span class="s3">\n    </span><span class="s1">baseAssignValue(object, key, value);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default assignMergeValue;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import baseGetTag from './_baseGetTag.js';</span><span class="s3">\n</span><span class="s1">import getPrototype from './_getPrototype.js';</span><span class="s3">\n</span><span class="s1">import isObjectLike from './isObjectLike.js';</span><span class="s3">\n\n</span><span class="s1">/** `Object#toString` result references. */</span><span class="s3">\n</span><span class="s1">var objectTag = '[object Object]';</span><span class="s3">\n\n</span><span class="s1">/** Used for built-in method references. */</span><span class="s3">\n</span><span class="s1">var funcProto = Function.prototype,</span><span class="s3">\n    </span><span class="s1">objectProto = Object.prototype;</span><span class="s3">\n\n</span><span class="s1">/** Used to resolve the decompiled source of functions. */</span><span class="s3">\n</span><span class="s1">var funcToString = funcProto.toString;</span><span class="s3">\n\n</span><span class="s1">/** Used to check objects for own properties. */</span><span class="s3">\n</span><span class="s1">var hasOwnProperty = objectProto.hasOwnProperty;</span><span class="s3">\n\n</span><span class="s1">/** Used to infer the `Object` constructor. */</span><span class="s3">\n</span><span class="s1">var objectCtorString = funcToString.call(Object);</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks if `value` is a plain object, that is, an object created by the</span><span class="s3">\n </span><span class="s1">* `Object` constructor or one with a `[[Prototype]]` of `null`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @since 0.8.0</span><span class="s3">\n </span><span class="s1">* @category Lang</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} Returns `true` if `value` is a plain object, else `false`.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* function Foo() {</span><span class="s3">\n </span><span class="s1">*   this.a = 1;</span><span class="s3">\n </span><span class="s1">* }</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isPlainObject(new Foo);</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isPlainObject([1, 2, 3]);</span><span class="s3">\n </span><span class="s1">* // =&gt; false</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isPlainObject({ 'x': 0, 'y': 0 });</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.isPlainObject(Object.create(null));</span><span class="s3">\n </span><span class="s1">* // =&gt; true</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isPlainObject(value) {</span><span class="s3">\n  </span><span class="s1">if (!isObjectLike(value) || baseGetTag(value) != objectTag) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">var proto = getPrototype(value);</span><span class="s3">\n  </span><span class="s1">if (proto === null) {</span><span class="s3">\n    </span><span class="s1">return true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">var Ctor = hasOwnProperty.call(proto, 'constructor') &amp;&amp; proto.constructor;</span><span class="s3">\n  </span><span class="s1">return typeof Ctor == 'function' &amp;&amp; Ctor instanceof Ctor &amp;&amp;</span><span class="s3">\n    </span><span class="s1">funcToString.call(Ctor) == objectCtorString;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default isPlainObject;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Gets the value at `key`, unless `key` is </span><span class="s3">\&quot;</span><span class="s1">__proto__</span><span class="s3">\&quot; </span><span class="s1">or </span><span class="s3">\&quot;</span><span class="s1">constructor</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Object} object The object to query.</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the property to get.</span><span class="s3">\n </span><span class="s1">* @returns {*} Returns the property value.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function safeGet(object, key) {</span><span class="s3">\n  </span><span class="s1">if (key === 'constructor' &amp;&amp; typeof object[key] === 'function') {</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (key == '__proto__') {</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return object[key];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default safeGet;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import copyObject from './_copyObject.js';</span><span class="s3">\n</span><span class="s1">import keysIn from './keysIn.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts `value` to a plain object flattening inherited enumerable string</span><span class="s3">\n </span><span class="s1">* keyed properties of `value` to own properties of the plain object.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @since 3.0.0</span><span class="s3">\n </span><span class="s1">* @category Lang</span><span class="s3">\n </span><span class="s1">* @param {*} value The value to convert.</span><span class="s3">\n </span><span class="s1">* @returns {Object} Returns the converted plain object.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* function Foo() {</span><span class="s3">\n </span><span class="s1">*   this.b = 2;</span><span class="s3">\n </span><span class="s1">* }</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Foo.prototype.c = 3;</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.assign({ 'a': 1 }, new Foo);</span><span class="s3">\n </span><span class="s1">* // =&gt; { 'a': 1, 'b': 2 }</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.assign({ 'a': 1 }, _.toPlainObject(new Foo));</span><span class="s3">\n </span><span class="s1">* // =&gt; { 'a': 1, 'b': 2, 'c': 3 }</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function toPlainObject(value) {</span><span class="s3">\n  </span><span class="s1">return copyObject(value, keysIn(value));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default toPlainObject;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import assignMergeValue from './_assignMergeValue.js';</span><span class="s3">\n</span><span class="s1">import cloneBuffer from './_cloneBuffer.js';</span><span class="s3">\n</span><span class="s1">import cloneTypedArray from './_cloneTypedArray.js';</span><span class="s3">\n</span><span class="s1">import copyArray from './_copyArray.js';</span><span class="s3">\n</span><span class="s1">import initCloneObject from './_initCloneObject.js';</span><span class="s3">\n</span><span class="s1">import isArguments from './isArguments.js';</span><span class="s3">\n</span><span class="s1">import isArray from './isArray.js';</span><span class="s3">\n</span><span class="s1">import isArrayLikeObject from './isArrayLikeObject.js';</span><span class="s3">\n</span><span class="s1">import isBuffer from './isBuffer.js';</span><span class="s3">\n</span><span class="s1">import isFunction from './isFunction.js';</span><span class="s3">\n</span><span class="s1">import isObject from './isObject.js';</span><span class="s3">\n</span><span class="s1">import isPlainObject from './isPlainObject.js';</span><span class="s3">\n</span><span class="s1">import isTypedArray from './isTypedArray.js';</span><span class="s3">\n</span><span class="s1">import safeGet from './_safeGet.js';</span><span class="s3">\n</span><span class="s1">import toPlainObject from './toPlainObject.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A specialized version of `baseMerge` for arrays and objects which performs</span><span class="s3">\n </span><span class="s1">* deep merges and tracks traversed objects enabling objects with circular</span><span class="s3">\n </span><span class="s1">* references to be merged.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Object} object The destination object.</span><span class="s3">\n </span><span class="s1">* @param {Object} source The source object.</span><span class="s3">\n </span><span class="s1">* @param {string} key The key of the value to merge.</span><span class="s3">\n </span><span class="s1">* @param {number} srcIndex The index of `source`.</span><span class="s3">\n </span><span class="s1">* @param {Function} mergeFunc The function to merge values.</span><span class="s3">\n </span><span class="s1">* @param {Function} [customizer] The function to customize assigned values.</span><span class="s3">\n </span><span class="s1">* @param {Object} [stack] Tracks traversed source values and their merged</span><span class="s3">\n </span><span class="s1">*  counterparts.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {</span><span class="s3">\n  </span><span class="s1">var objValue = safeGet(object, key),</span><span class="s3">\n      </span><span class="s1">srcValue = safeGet(source, key),</span><span class="s3">\n      </span><span class="s1">stacked = stack.get(srcValue);</span><span class="s3">\n\n  </span><span class="s1">if (stacked) {</span><span class="s3">\n    </span><span class="s1">assignMergeValue(object, key, stacked);</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">var newValue = customizer</span><span class="s3">\n    </span><span class="s1">? customizer(objValue, srcValue, (key + ''), object, source, stack)</span><span class="s3">\n    </span><span class="s1">: undefined;</span><span class="s3">\n\n  </span><span class="s1">var isCommon = newValue === undefined;</span><span class="s3">\n\n  </span><span class="s1">if (isCommon) {</span><span class="s3">\n    </span><span class="s1">var isArr = isArray(srcValue),</span><span class="s3">\n        </span><span class="s1">isBuff = !isArr &amp;&amp; isBuffer(srcValue),</span><span class="s3">\n        </span><span class="s1">isTyped = !isArr &amp;&amp; !isBuff &amp;&amp; isTypedArray(srcValue);</span><span class="s3">\n\n    </span><span class="s1">newValue = srcValue;</span><span class="s3">\n    </span><span class="s1">if (isArr || isBuff || isTyped) {</span><span class="s3">\n      </span><span class="s1">if (isArray(objValue)) {</span><span class="s3">\n        </span><span class="s1">newValue = objValue;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">else if (isArrayLikeObject(objValue)) {</span><span class="s3">\n        </span><span class="s1">newValue = copyArray(objValue);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">else if (isBuff) {</span><span class="s3">\n        </span><span class="s1">isCommon = false;</span><span class="s3">\n        </span><span class="s1">newValue = cloneBuffer(srcValue, true);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">else if (isTyped) {</span><span class="s3">\n        </span><span class="s1">isCommon = false;</span><span class="s3">\n        </span><span class="s1">newValue = cloneTypedArray(srcValue, true);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">newValue = [];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (isPlainObject(srcValue) || isArguments(srcValue)) {</span><span class="s3">\n      </span><span class="s1">newValue = objValue;</span><span class="s3">\n      </span><span class="s1">if (isArguments(objValue)) {</span><span class="s3">\n        </span><span class="s1">newValue = toPlainObject(objValue);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">else if (!isObject(objValue) || isFunction(objValue)) {</span><span class="s3">\n        </span><span class="s1">newValue = initCloneObject(srcValue);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n      </span><span class="s1">isCommon = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (isCommon) {</span><span class="s3">\n    </span><span class="s1">// Recursively merge objects and arrays (susceptible to call stack limits).</span><span class="s3">\n    </span><span class="s1">stack.set(srcValue, newValue);</span><span class="s3">\n    </span><span class="s1">mergeFunc(newValue, srcValue, srcIndex, customizer, stack);</span><span class="s3">\n    </span><span class="s1">stack['delete'](srcValue);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">assignMergeValue(object, key, newValue);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default baseMergeDeep;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import Stack from './_Stack.js';</span><span class="s3">\n</span><span class="s1">import assignMergeValue from './_assignMergeValue.js';</span><span class="s3">\n</span><span class="s1">import baseFor from './_baseFor.js';</span><span class="s3">\n</span><span class="s1">import baseMergeDeep from './_baseMergeDeep.js';</span><span class="s3">\n</span><span class="s1">import isObject from './isObject.js';</span><span class="s3">\n</span><span class="s1">import keysIn from './keysIn.js';</span><span class="s3">\n</span><span class="s1">import safeGet from './_safeGet.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The base implementation of `_.merge` without support for multiple sources.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">* @param {Object} object The destination object.</span><span class="s3">\n </span><span class="s1">* @param {Object} source The source object.</span><span class="s3">\n </span><span class="s1">* @param {number} srcIndex The index of `source`.</span><span class="s3">\n </span><span class="s1">* @param {Function} [customizer] The function to customize merged values.</span><span class="s3">\n </span><span class="s1">* @param {Object} [stack] Tracks traversed source values and their merged</span><span class="s3">\n </span><span class="s1">*  counterparts.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function baseMerge(object, source, srcIndex, customizer, stack) {</span><span class="s3">\n  </span><span class="s1">if (object === source) {</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">baseFor(source, function(srcValue, key) {</span><span class="s3">\n    </span><span class="s1">stack || (stack = new Stack);</span><span class="s3">\n    </span><span class="s1">if (isObject(srcValue)) {</span><span class="s3">\n      </span><span class="s1">baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n      </span><span class="s1">var newValue = customizer</span><span class="s3">\n        </span><span class="s1">? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)</span><span class="s3">\n        </span><span class="s1">: undefined;</span><span class="s3">\n\n      </span><span class="s1">if (newValue === undefined) {</span><span class="s3">\n        </span><span class="s1">newValue = srcValue;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">assignMergeValue(object, key, newValue);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}, keysIn);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default baseMerge;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import baseMerge from './_baseMerge.js';</span><span class="s3">\n</span><span class="s1">import createAssigner from './_createAssigner.js';</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This method is like `_.assign` except that it recursively merges own and</span><span class="s3">\n </span><span class="s1">* inherited enumerable string keyed properties of source objects into the</span><span class="s3">\n </span><span class="s1">* destination object. Source properties that resolve to `undefined` are</span><span class="s3">\n </span><span class="s1">* skipped if a destination value exists. Array and plain object properties</span><span class="s3">\n </span><span class="s1">* are merged recursively. Other objects and value types are overridden by</span><span class="s3">\n </span><span class="s1">* assignment. Source objects are applied from left to right. Subsequent</span><span class="s3">\n </span><span class="s1">* sources overwrite property assignments of previous sources.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* **Note:** This method mutates `object`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @static</span><span class="s3">\n </span><span class="s1">* @memberOf _</span><span class="s3">\n </span><span class="s1">* @since 0.5.0</span><span class="s3">\n </span><span class="s1">* @category Object</span><span class="s3">\n </span><span class="s1">* @param {Object} object The destination object.</span><span class="s3">\n </span><span class="s1">* @param {...Object} [sources] The source objects.</span><span class="s3">\n </span><span class="s1">* @returns {Object} Returns `object`.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* var object = {</span><span class="s3">\n </span><span class="s1">*   'a': [{ 'b': 2 }, { 'd': 4 }]</span><span class="s3">\n </span><span class="s1">* };</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* var other = {</span><span class="s3">\n </span><span class="s1">*   'a': [{ 'c': 3 }, { 'e': 5 }]</span><span class="s3">\n </span><span class="s1">* };</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* _.merge(object, other);</span><span class="s3">\n </span><span class="s1">* // =&gt; { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var merge = createAssigner(function(object, source, srcIndex) {</span><span class="s3">\n  </span><span class="s1">baseMerge(object, source, srcIndex);</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">export default merge;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// package.json</span><span class="s3">\n</span><span class="s1">var package_default = {</span><span class="s3">\n  </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">mermaid</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">version: </span><span class="s3">\&quot;</span><span class="s1">11.6.0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">module</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">module: </span><span class="s3">\&quot;</span><span class="s1">./dist/mermaid.core.mjs</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">types: </span><span class="s3">\&quot;</span><span class="s1">./dist/mermaid.d.ts</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">exports: {</span><span class="s3">\n    \&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n      </span><span class="s1">types: </span><span class="s3">\&quot;</span><span class="s1">./dist/mermaid.d.ts</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">import: </span><span class="s3">\&quot;</span><span class="s1">./dist/mermaid.core.mjs</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">default: </span><span class="s3">\&quot;</span><span class="s1">./dist/mermaid.core.mjs</span><span class="s3">\&quot;\n    </span><span class="s1">},</span><span class="s3">\n    \&quot;</span><span class="s1">./*</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">./*</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">keywords: [</span><span class="s3">\n    \&quot;</span><span class="s1">diagram</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">markdown</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">flowchart</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">sequence diagram</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">gantt</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">class diagram</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">git graph</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">mindmap</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">packet diagram</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">c4 diagram</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">er diagram</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">pie chart</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">pie diagram</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">quadrant chart</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">requirement diagram</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">graph</span><span class="s3">\&quot;\n  </span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">scripts: {</span><span class="s3">\n    </span><span class="s1">clean: </span><span class="s3">\&quot;</span><span class="s1">rimraf dist</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">dev: </span><span class="s3">\&quot;</span><span class="s1">pnpm -w dev</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">docs:code</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts &amp;&amp; prettier --write ./src/docs/config/setup</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">docs:build</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">rimraf ../../docs &amp;&amp; pnpm docs:code &amp;&amp; pnpm docs:spellcheck &amp;&amp; tsx scripts/docs.cli.mts</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">docs:verify</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">pnpm docs:code &amp;&amp; pnpm docs:spellcheck &amp;&amp; tsx scripts/docs.cli.mts --verify</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">docs:pre:vitepress</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">pnpm --filter ./src/docs prefetch &amp;&amp; rimraf src/vitepress &amp;&amp; pnpm docs:code &amp;&amp; tsx scripts/docs.cli.mts --vitepress &amp;&amp; pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">docs:build:vitepress</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">pnpm docs:pre:vitepress &amp;&amp; (cd src/vitepress &amp;&amp; pnpm run build) &amp;&amp; cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">docs:dev</span><span class="s3">\&quot;</span><span class="s1">: 'pnpm docs:pre:vitepress &amp;&amp; concurrently </span><span class="s3">\&quot;</span><span class="s1">pnpm --filter ./src/vitepress dev</span><span class="s3">\&quot; \&quot;</span><span class="s1">tsx scripts/docs.cli.mts --watch --vitepress</span><span class="s3">\&quot;</span><span class="s1">',</span><span class="s3">\n    \&quot;</span><span class="s1">docs:dev:docker</span><span class="s3">\&quot;</span><span class="s1">: 'pnpm docs:pre:vitepress &amp;&amp; concurrently </span><span class="s3">\&quot;</span><span class="s1">pnpm --filter ./src/vitepress dev:docker</span><span class="s3">\&quot; \&quot;</span><span class="s1">tsx scripts/docs.cli.mts --watch --vitepress</span><span class="s3">\&quot;</span><span class="s1">',</span><span class="s3">\n    \&quot;</span><span class="s1">docs:serve</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">pnpm docs:build:vitepress &amp;&amp; vitepress serve src/vitepress</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">docs:spellcheck</span><span class="s3">\&quot;</span><span class="s1">: 'cspell </span><span class="s3">\&quot;</span><span class="s1">src/docs/**/*.md</span><span class="s3">\&quot;</span><span class="s1">',</span><span class="s3">\n    \&quot;</span><span class="s1">docs:release-version</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">tsx scripts/update-release-version.mts</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">docs:verify-version</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">tsx scripts/update-release-version.mts --verify</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">types:build-config</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">tsx scripts/create-types-from-json-schema.mts</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">types:verify-config</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">tsx scripts/create-types-from-json-schema.mts --verify</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">checkCircle: </span><span class="s3">\&quot;</span><span class="s1">npx madge --circular ./src</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">prepublishOnly: </span><span class="s3">\&quot;</span><span class="s1">pnpm docs:verify-version</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">repository: {</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">git</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">url: </span><span class="s3">\&quot;</span><span class="s1">https://github.com/mermaid-js/mermaid</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">author: </span><span class="s3">\&quot;</span><span class="s1">Knut Sveidqvist</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">license: </span><span class="s3">\&quot;</span><span class="s1">MIT</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">standard: {</span><span class="s3">\n    </span><span class="s1">ignore: [</span><span class="s3">\n      \&quot;</span><span class="s1">**/parser/*.js</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">dist/**/*.js</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">cypress/**/*.js</span><span class="s3">\&quot;\n    </span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">globals: [</span><span class="s3">\n      \&quot;</span><span class="s1">page</span><span class="s3">\&quot;\n    </span><span class="s1">]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">dependencies: {</span><span class="s3">\n    \&quot;</span><span class="s1">@braintree/sanitize-url</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^7.0.4</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">@iconify/utils</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^2.1.33</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">@mermaid-js/parser</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">workspace:^</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">@types/d3</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^7.4.3</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">cytoscape: </span><span class="s3">\&quot;</span><span class="s1">^3.29.3</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">cytoscape-cose-bilkent</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^4.1.0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">cytoscape-fcose</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^2.2.0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">d3: </span><span class="s3">\&quot;</span><span class="s1">^7.9.0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">d3-sankey</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^0.12.3</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">dagre-d3-es</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">7.0.11</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">dayjs: </span><span class="s3">\&quot;</span><span class="s1">^1.11.13</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">dompurify: </span><span class="s3">\&quot;</span><span class="s1">^3.2.4</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">katex: </span><span class="s3">\&quot;</span><span class="s1">^0.16.9</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">khroma: </span><span class="s3">\&quot;</span><span class="s1">^2.1.0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">lodash-es</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^4.17.21</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">marked: </span><span class="s3">\&quot;</span><span class="s1">^15.0.7</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">roughjs: </span><span class="s3">\&quot;</span><span class="s1">^4.6.6</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">stylis: </span><span class="s3">\&quot;</span><span class="s1">^4.3.6</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">ts-dedent</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^2.2.0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">uuid: </span><span class="s3">\&quot;</span><span class="s1">^11.1.0</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">devDependencies: {</span><span class="s3">\n    \&quot;</span><span class="s1">@adobe/jsonschema2md</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^8.0.2</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">@iconify/types</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^2.0.0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">@types/cytoscape</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^3.21.9</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">@types/cytoscape-fcose</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^2.2.4</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">@types/d3-sankey</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^0.12.4</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">@types/d3-scale</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^4.0.9</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">@types/d3-scale-chromatic</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^3.1.0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">@types/d3-selection</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^3.0.11</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">@types/d3-shape</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^3.1.7</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">@types/jsdom</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^21.1.7</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">@types/katex</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^0.16.7</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">@types/lodash-es</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^4.17.12</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">@types/micromatch</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^4.0.9</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">@types/stylis</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^4.2.7</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">@types/uuid</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^10.0.0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">ajv: </span><span class="s3">\&quot;</span><span class="s1">^8.17.1</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">chokidar: </span><span class="s3">\&quot;</span><span class="s1">^4.0.3</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">concurrently: </span><span class="s3">\&quot;</span><span class="s1">^9.1.2</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">csstree-validator</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^4.0.1</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">globby: </span><span class="s3">\&quot;</span><span class="s1">^14.0.2</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">jison: </span><span class="s3">\&quot;</span><span class="s1">^0.4.18</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">js-base64</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^3.7.7</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">jsdom: </span><span class="s3">\&quot;</span><span class="s1">^26.0.0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">json-schema-to-typescript</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^15.0.4</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">micromatch: </span><span class="s3">\&quot;</span><span class="s1">^4.0.8</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">path-browserify</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^1.0.1</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">prettier: </span><span class="s3">\&quot;</span><span class="s1">^3.5.2</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">remark: </span><span class="s3">\&quot;</span><span class="s1">^15.0.1</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">remark-frontmatter</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^5.0.0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">remark-gfm</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^4.0.1</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">rimraf: </span><span class="s3">\&quot;</span><span class="s1">^6.0.1</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">start-server-and-test</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^2.0.10</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">type-fest</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^4.35.0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">typedoc: </span><span class="s3">\&quot;</span><span class="s1">^0.27.8</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">typedoc-plugin-markdown</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^4.4.2</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">typescript: </span><span class="s3">\&quot;</span><span class="s1">~5.7.3</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">unist-util-flatmap</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^1.0.0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">unist-util-visit</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">^5.0.0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">vitepress: </span><span class="s3">\&quot;</span><span class="s1">^1.0.2</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">vitepress-plugin-search</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">1.0.4-alpha.22</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">files: [</span><span class="s3">\n    \&quot;</span><span class="s1">dist/</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">README.md</span><span class="s3">\&quot;\n  </span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">publishConfig: {</span><span class="s3">\n    </span><span class="s1">access: </span><span class="s3">\&quot;</span><span class="s1">public</span><span class="s3">\&quot;\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">package_default</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {</span><span class="s3">\n  </span><span class="s1">__name</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-YTJNT7DU.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// ../../node_modules/.pnpm/js-yaml@4.1.0/node_modules/js-yaml/dist/js-yaml.mjs</span><span class="s3">\n</span><span class="s1">function isNothing(subject) {</span><span class="s3">\n  </span><span class="s1">return typeof subject === </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot; </span><span class="s1">|| subject === null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(isNothing, </span><span class="s3">\&quot;</span><span class="s1">isNothing</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function isObject(subject) {</span><span class="s3">\n  </span><span class="s1">return typeof subject === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; subject !== null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(isObject, </span><span class="s3">\&quot;</span><span class="s1">isObject</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function toArray(sequence) {</span><span class="s3">\n  </span><span class="s1">if (Array.isArray(sequence)) return sequence;</span><span class="s3">\n  </span><span class="s1">else if (isNothing(sequence)) return [];</span><span class="s3">\n  </span><span class="s1">return [sequence];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(toArray, </span><span class="s3">\&quot;</span><span class="s1">toArray</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function extend(target, source) {</span><span class="s3">\n  </span><span class="s1">var index, length, key, sourceKeys;</span><span class="s3">\n  </span><span class="s1">if (source) {</span><span class="s3">\n    </span><span class="s1">sourceKeys = Object.keys(source);</span><span class="s3">\n    </span><span class="s1">for (index = 0, length = sourceKeys.length; index &lt; length; index += 1) {</span><span class="s3">\n      </span><span class="s1">key = sourceKeys[index];</span><span class="s3">\n      </span><span class="s1">target[key] = source[key];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return target;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(extend, </span><span class="s3">\&quot;</span><span class="s1">extend</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function repeat(string, count) {</span><span class="s3">\n  </span><span class="s1">var result = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, cycle;</span><span class="s3">\n  </span><span class="s1">for (cycle = 0; cycle &lt; count; cycle += 1) {</span><span class="s3">\n    </span><span class="s1">result += string;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(repeat, </span><span class="s3">\&quot;</span><span class="s1">repeat</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function isNegativeZero(number) {</span><span class="s3">\n  </span><span class="s1">return number === 0 &amp;&amp; Number.NEGATIVE_INFINITY === 1 / number;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(isNegativeZero, </span><span class="s3">\&quot;</span><span class="s1">isNegativeZero</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var isNothing_1 = isNothing;</span><span class="s3">\n</span><span class="s1">var isObject_1 = isObject;</span><span class="s3">\n</span><span class="s1">var toArray_1 = toArray;</span><span class="s3">\n</span><span class="s1">var repeat_1 = repeat;</span><span class="s3">\n</span><span class="s1">var isNegativeZero_1 = isNegativeZero;</span><span class="s3">\n</span><span class="s1">var extend_1 = extend;</span><span class="s3">\n</span><span class="s1">var common = {</span><span class="s3">\n  </span><span class="s1">isNothing: isNothing_1,</span><span class="s3">\n  </span><span class="s1">isObject: isObject_1,</span><span class="s3">\n  </span><span class="s1">toArray: toArray_1,</span><span class="s3">\n  </span><span class="s1">repeat: repeat_1,</span><span class="s3">\n  </span><span class="s1">isNegativeZero: isNegativeZero_1,</span><span class="s3">\n  </span><span class="s1">extend: extend_1</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">function formatError(exception2, compact) {</span><span class="s3">\n  </span><span class="s1">var where = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, message = exception2.reason || </span><span class="s3">\&quot;</span><span class="s1">(unknown reason)</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">if (!exception2.mark) return message;</span><span class="s3">\n  </span><span class="s1">if (exception2.mark.name) {</span><span class="s3">\n    </span><span class="s1">where += 'in </span><span class="s3">\&quot;</span><span class="s1">' + exception2.mark.name + '</span><span class="s3">\&quot; </span><span class="s1">';</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">where += </span><span class="s3">\&quot;</span><span class="s1">(</span><span class="s3">\&quot; </span><span class="s1">+ (exception2.mark.line + 1) + </span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot; </span><span class="s1">+ (exception2.mark.column + 1) + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">if (!compact &amp;&amp; exception2.mark.snippet) {</span><span class="s3">\n    </span><span class="s1">where += </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\&quot; </span><span class="s1">+ exception2.mark.snippet;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return message + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ where;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(formatError, </span><span class="s3">\&quot;</span><span class="s1">formatError</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function YAMLException$1(reason, mark) {</span><span class="s3">\n  </span><span class="s1">Error.call(this);</span><span class="s3">\n  </span><span class="s1">this.name = </span><span class="s3">\&quot;</span><span class="s1">YAMLException</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">this.reason = reason;</span><span class="s3">\n  </span><span class="s1">this.mark = mark;</span><span class="s3">\n  </span><span class="s1">this.message = formatError(this, false);</span><span class="s3">\n  </span><span class="s1">if (Error.captureStackTrace) {</span><span class="s3">\n    </span><span class="s1">Error.captureStackTrace(this, this.constructor);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">this.stack = new Error().stack || </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(YAMLException$1, </span><span class="s3">\&quot;</span><span class="s1">YAMLException$1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">YAMLException$1.prototype = Object.create(Error.prototype);</span><span class="s3">\n</span><span class="s1">YAMLException$1.prototype.constructor = YAMLException$1;</span><span class="s3">\n</span><span class="s1">YAMLException$1.prototype.toString = /* @__PURE__ */ __name(function toString(compact) {</span><span class="s3">\n  </span><span class="s1">return this.name + </span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot; </span><span class="s1">+ formatError(this, compact);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">toString</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var exception = YAMLException$1;</span><span class="s3">\n</span><span class="s1">function getLine(buffer, lineStart, lineEnd, position, maxLineLength) {</span><span class="s3">\n  </span><span class="s1">var head = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">var tail = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">var maxHalfLength = Math.floor(maxLineLength / 2) - 1;</span><span class="s3">\n  </span><span class="s1">if (position - lineStart &gt; maxHalfLength) {</span><span class="s3">\n    </span><span class="s1">head = </span><span class="s3">\&quot; </span><span class="s1">... </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">lineStart = position - maxHalfLength + head.length;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (lineEnd - position &gt; maxHalfLength) {</span><span class="s3">\n    </span><span class="s1">tail = </span><span class="s3">\&quot; </span><span class="s1">...</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">lineEnd = position + maxHalfLength - tail.length;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">str: head + buffer.slice(lineStart, lineEnd).replace(/</span><span class="s3">\\</span><span class="s1">t/g, </span><span class="s3">\&quot;\\</span><span class="s1">u2192</span><span class="s3">\&quot;</span><span class="s1">) + tail,</span><span class="s3">\n    </span><span class="s1">pos: position - lineStart + head.length</span><span class="s3">\n    </span><span class="s1">// relative position</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(getLine, </span><span class="s3">\&quot;</span><span class="s1">getLine</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function padStart(string, max) {</span><span class="s3">\n  </span><span class="s1">return common.repeat(</span><span class="s3">\&quot; \&quot;</span><span class="s1">, max - string.length) + string;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(padStart, </span><span class="s3">\&quot;</span><span class="s1">padStart</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function makeSnippet(mark, options) {</span><span class="s3">\n  </span><span class="s1">options = Object.create(options || null);</span><span class="s3">\n  </span><span class="s1">if (!mark.buffer) return null;</span><span class="s3">\n  </span><span class="s1">if (!options.maxLength) options.maxLength = 79;</span><span class="s3">\n  </span><span class="s1">if (typeof options.indent !== </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) options.indent = 1;</span><span class="s3">\n  </span><span class="s1">if (typeof options.linesBefore !== </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) options.linesBefore = 3;</span><span class="s3">\n  </span><span class="s1">if (typeof options.linesAfter !== </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) options.linesAfter = 2;</span><span class="s3">\n  </span><span class="s1">var re = /</span><span class="s3">\\</span><span class="s1">r?</span><span class="s3">\\</span><span class="s1">n|</span><span class="s3">\\</span><span class="s1">r|</span><span class="s3">\\</span><span class="s1">0/g;</span><span class="s3">\n  </span><span class="s1">var lineStarts = [0];</span><span class="s3">\n  </span><span class="s1">var lineEnds = [];</span><span class="s3">\n  </span><span class="s1">var match;</span><span class="s3">\n  </span><span class="s1">var foundLineNo = -1;</span><span class="s3">\n  </span><span class="s1">while (match = re.exec(mark.buffer)) {</span><span class="s3">\n    </span><span class="s1">lineEnds.push(match.index);</span><span class="s3">\n    </span><span class="s1">lineStarts.push(match.index + match[0].length);</span><span class="s3">\n    </span><span class="s1">if (mark.position &lt;= match.index &amp;&amp; foundLineNo &lt; 0) {</span><span class="s3">\n      </span><span class="s1">foundLineNo = lineStarts.length - 2;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (foundLineNo &lt; 0) foundLineNo = lineStarts.length - 1;</span><span class="s3">\n  </span><span class="s1">var result = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, i, line;</span><span class="s3">\n  </span><span class="s1">var lineNoLength = Math.min(mark.line + options.linesAfter, lineEnds.length).toString().length;</span><span class="s3">\n  </span><span class="s1">var maxLineLength = options.maxLength - (options.indent + lineNoLength + 3);</span><span class="s3">\n  </span><span class="s1">for (i = 1; i &lt;= options.linesBefore; i++) {</span><span class="s3">\n    </span><span class="s1">if (foundLineNo - i &lt; 0) break;</span><span class="s3">\n    </span><span class="s1">line = getLine(</span><span class="s3">\n      </span><span class="s1">mark.buffer,</span><span class="s3">\n      </span><span class="s1">lineStarts[foundLineNo - i],</span><span class="s3">\n      </span><span class="s1">lineEnds[foundLineNo - i],</span><span class="s3">\n      </span><span class="s1">mark.position - (lineStarts[foundLineNo] - lineStarts[foundLineNo - i]),</span><span class="s3">\n      </span><span class="s1">maxLineLength</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">result = common.repeat(</span><span class="s3">\&quot; \&quot;</span><span class="s1">, options.indent) + padStart((mark.line - i + 1).toString(), lineNoLength) + </span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot; </span><span class="s1">+ line.str + </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot; </span><span class="s1">+ result;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">line = getLine(mark.buffer, lineStarts[foundLineNo], lineEnds[foundLineNo], mark.position, maxLineLength);</span><span class="s3">\n  </span><span class="s1">result += common.repeat(</span><span class="s3">\&quot; \&quot;</span><span class="s1">, options.indent) + padStart((mark.line + 1).toString(), lineNoLength) + </span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot; </span><span class="s1">+ line.str + </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">result += common.repeat(</span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">, options.indent + lineNoLength + 3 + line.pos) + </span><span class="s3">\&quot;</span><span class="s1">^</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">for (i = 1; i &lt;= options.linesAfter; i++) {</span><span class="s3">\n    </span><span class="s1">if (foundLineNo + i &gt;= lineEnds.length) break;</span><span class="s3">\n    </span><span class="s1">line = getLine(</span><span class="s3">\n      </span><span class="s1">mark.buffer,</span><span class="s3">\n      </span><span class="s1">lineStarts[foundLineNo + i],</span><span class="s3">\n      </span><span class="s1">lineEnds[foundLineNo + i],</span><span class="s3">\n      </span><span class="s1">mark.position - (lineStarts[foundLineNo] - lineStarts[foundLineNo + i]),</span><span class="s3">\n      </span><span class="s1">maxLineLength</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">result += common.repeat(</span><span class="s3">\&quot; \&quot;</span><span class="s1">, options.indent) + padStart((mark.line + i + 1).toString(), lineNoLength) + </span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot; </span><span class="s1">+ line.str + </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result.replace(/</span><span class="s3">\\</span><span class="s1">n$/, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(makeSnippet, </span><span class="s3">\&quot;</span><span class="s1">makeSnippet</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var snippet = makeSnippet;</span><span class="s3">\n</span><span class="s1">var TYPE_CONSTRUCTOR_OPTIONS = [</span><span class="s3">\n  \&quot;</span><span class="s1">kind</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">multi</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">resolve</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">construct</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">instanceOf</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">predicate</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">represent</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">representName</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">defaultStyle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">styleAliases</span><span class="s3">\&quot;\n</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">var YAML_NODE_KINDS = [</span><span class="s3">\n  \&quot;</span><span class="s1">scalar</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">sequence</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">mapping</span><span class="s3">\&quot;\n</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">function compileStyleAliases(map2) {</span><span class="s3">\n  </span><span class="s1">var result = {};</span><span class="s3">\n  </span><span class="s1">if (map2 !== null) {</span><span class="s3">\n    </span><span class="s1">Object.keys(map2).forEach(function(style) {</span><span class="s3">\n      </span><span class="s1">map2[style].forEach(function(alias) {</span><span class="s3">\n        </span><span class="s1">result[String(alias)] = style;</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(compileStyleAliases, </span><span class="s3">\&quot;</span><span class="s1">compileStyleAliases</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function Type$1(tag, options) {</span><span class="s3">\n  </span><span class="s1">options = options || {};</span><span class="s3">\n  </span><span class="s1">Object.keys(options).forEach(function(name) {</span><span class="s3">\n    </span><span class="s1">if (TYPE_CONSTRUCTOR_OPTIONS.indexOf(name) === -1) {</span><span class="s3">\n      </span><span class="s1">throw new exception('Unknown option </span><span class="s3">\&quot;</span><span class="s1">' + name + '</span><span class="s3">\&quot; </span><span class="s1">is met in definition of </span><span class="s3">\&quot;</span><span class="s1">' + tag + '</span><span class="s3">\&quot; </span><span class="s1">YAML type.');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">this.options = options;</span><span class="s3">\n  </span><span class="s1">this.tag = tag;</span><span class="s3">\n  </span><span class="s1">this.kind = options[</span><span class="s3">\&quot;</span><span class="s1">kind</span><span class="s3">\&quot;</span><span class="s1">] || null;</span><span class="s3">\n  </span><span class="s1">this.resolve = options[</span><span class="s3">\&quot;</span><span class="s1">resolve</span><span class="s3">\&quot;</span><span class="s1">] || function() {</span><span class="s3">\n    </span><span class="s1">return true;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">this.construct = options[</span><span class="s3">\&quot;</span><span class="s1">construct</span><span class="s3">\&quot;</span><span class="s1">] || function(data) {</span><span class="s3">\n    </span><span class="s1">return data;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">this.instanceOf = options[</span><span class="s3">\&quot;</span><span class="s1">instanceOf</span><span class="s3">\&quot;</span><span class="s1">] || null;</span><span class="s3">\n  </span><span class="s1">this.predicate = options[</span><span class="s3">\&quot;</span><span class="s1">predicate</span><span class="s3">\&quot;</span><span class="s1">] || null;</span><span class="s3">\n  </span><span class="s1">this.represent = options[</span><span class="s3">\&quot;</span><span class="s1">represent</span><span class="s3">\&quot;</span><span class="s1">] || null;</span><span class="s3">\n  </span><span class="s1">this.representName = options[</span><span class="s3">\&quot;</span><span class="s1">representName</span><span class="s3">\&quot;</span><span class="s1">] || null;</span><span class="s3">\n  </span><span class="s1">this.defaultStyle = options[</span><span class="s3">\&quot;</span><span class="s1">defaultStyle</span><span class="s3">\&quot;</span><span class="s1">] || null;</span><span class="s3">\n  </span><span class="s1">this.multi = options[</span><span class="s3">\&quot;</span><span class="s1">multi</span><span class="s3">\&quot;</span><span class="s1">] || false;</span><span class="s3">\n  </span><span class="s1">this.styleAliases = compileStyleAliases(options[</span><span class="s3">\&quot;</span><span class="s1">styleAliases</span><span class="s3">\&quot;</span><span class="s1">] || null);</span><span class="s3">\n  </span><span class="s1">if (YAML_NODE_KINDS.indexOf(this.kind) === -1) {</span><span class="s3">\n    </span><span class="s1">throw new exception('Unknown kind </span><span class="s3">\&quot;</span><span class="s1">' + this.kind + '</span><span class="s3">\&quot; </span><span class="s1">is specified for </span><span class="s3">\&quot;</span><span class="s1">' + tag + '</span><span class="s3">\&quot; </span><span class="s1">YAML type.');</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(Type$1, </span><span class="s3">\&quot;</span><span class="s1">Type$1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var type = Type$1;</span><span class="s3">\n</span><span class="s1">function compileList(schema2, name) {</span><span class="s3">\n  </span><span class="s1">var result = [];</span><span class="s3">\n  </span><span class="s1">schema2[name].forEach(function(currentType) {</span><span class="s3">\n    </span><span class="s1">var newIndex = result.length;</span><span class="s3">\n    </span><span class="s1">result.forEach(function(previousType, previousIndex) {</span><span class="s3">\n      </span><span class="s1">if (previousType.tag === currentType.tag &amp;&amp; previousType.kind === currentType.kind &amp;&amp; previousType.multi === currentType.multi) {</span><span class="s3">\n        </span><span class="s1">newIndex = previousIndex;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">result[newIndex] = currentType;</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(compileList, </span><span class="s3">\&quot;</span><span class="s1">compileList</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function compileMap() {</span><span class="s3">\n  </span><span class="s1">var result = {</span><span class="s3">\n    </span><span class="s1">scalar: {},</span><span class="s3">\n    </span><span class="s1">sequence: {},</span><span class="s3">\n    </span><span class="s1">mapping: {},</span><span class="s3">\n    </span><span class="s1">fallback: {},</span><span class="s3">\n    </span><span class="s1">multi: {</span><span class="s3">\n      </span><span class="s1">scalar: [],</span><span class="s3">\n      </span><span class="s1">sequence: [],</span><span class="s3">\n      </span><span class="s1">mapping: [],</span><span class="s3">\n      </span><span class="s1">fallback: []</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}, index, length;</span><span class="s3">\n  </span><span class="s1">function collectType(type2) {</span><span class="s3">\n    </span><span class="s1">if (type2.multi) {</span><span class="s3">\n      </span><span class="s1">result.multi[type2.kind].push(type2);</span><span class="s3">\n      </span><span class="s1">result.multi[</span><span class="s3">\&quot;</span><span class="s1">fallback</span><span class="s3">\&quot;</span><span class="s1">].push(type2);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">result[type2.kind][type2.tag] = result[</span><span class="s3">\&quot;</span><span class="s1">fallback</span><span class="s3">\&quot;</span><span class="s1">][type2.tag] = type2;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">__name(collectType, </span><span class="s3">\&quot;</span><span class="s1">collectType</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">for (index = 0, length = arguments.length; index &lt; length; index += 1) {</span><span class="s3">\n    </span><span class="s1">arguments[index].forEach(collectType);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(compileMap, </span><span class="s3">\&quot;</span><span class="s1">compileMap</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function Schema$1(definition) {</span><span class="s3">\n  </span><span class="s1">return this.extend(definition);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(Schema$1, </span><span class="s3">\&quot;</span><span class="s1">Schema$1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">Schema$1.prototype.extend = /* @__PURE__ */ __name(function extend2(definition) {</span><span class="s3">\n  </span><span class="s1">var implicit = [];</span><span class="s3">\n  </span><span class="s1">var explicit = [];</span><span class="s3">\n  </span><span class="s1">if (definition instanceof type) {</span><span class="s3">\n    </span><span class="s1">explicit.push(definition);</span><span class="s3">\n  </span><span class="s1">} else if (Array.isArray(definition)) {</span><span class="s3">\n    </span><span class="s1">explicit = explicit.concat(definition);</span><span class="s3">\n  </span><span class="s1">} else if (definition &amp;&amp; (Array.isArray(definition.implicit) || Array.isArray(definition.explicit))) {</span><span class="s3">\n    </span><span class="s1">if (definition.implicit) implicit = implicit.concat(definition.implicit);</span><span class="s3">\n    </span><span class="s1">if (definition.explicit) explicit = explicit.concat(definition.explicit);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">throw new exception(</span><span class="s3">\&quot;</span><span class="s1">Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">implicit.forEach(function(type$1) {</span><span class="s3">\n    </span><span class="s1">if (!(type$1 instanceof type)) {</span><span class="s3">\n      </span><span class="s1">throw new exception(</span><span class="s3">\&quot;</span><span class="s1">Specified list of YAML types (or a single Type object) contains a non-Type object.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (type$1.loadKind &amp;&amp; type$1.loadKind !== </span><span class="s3">\&quot;</span><span class="s1">scalar</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">throw new exception(</span><span class="s3">\&quot;</span><span class="s1">There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (type$1.multi) {</span><span class="s3">\n      </span><span class="s1">throw new exception(</span><span class="s3">\&quot;</span><span class="s1">There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">explicit.forEach(function(type$1) {</span><span class="s3">\n    </span><span class="s1">if (!(type$1 instanceof type)) {</span><span class="s3">\n      </span><span class="s1">throw new exception(</span><span class="s3">\&quot;</span><span class="s1">Specified list of YAML types (or a single Type object) contains a non-Type object.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">var result = Object.create(Schema$1.prototype);</span><span class="s3">\n  </span><span class="s1">result.implicit = (this.implicit || []).concat(implicit);</span><span class="s3">\n  </span><span class="s1">result.explicit = (this.explicit || []).concat(explicit);</span><span class="s3">\n  </span><span class="s1">result.compiledImplicit = compileList(result, </span><span class="s3">\&quot;</span><span class="s1">implicit</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">result.compiledExplicit = compileList(result, </span><span class="s3">\&quot;</span><span class="s1">explicit</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">result.compiledTypeMap = compileMap(result.compiledImplicit, result.compiledExplicit);</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">extend</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var schema = Schema$1;</span><span class="s3">\n</span><span class="s1">var str = new type(</span><span class="s3">\&quot;</span><span class="s1">tag:yaml.org,2002:str</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n  </span><span class="s1">kind: </span><span class="s3">\&quot;</span><span class="s1">scalar</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">construct: /* @__PURE__ */ __name(function(data) {</span><span class="s3">\n    </span><span class="s1">return data !== null ? data : </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">construct</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var seq = new type(</span><span class="s3">\&quot;</span><span class="s1">tag:yaml.org,2002:seq</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n  </span><span class="s1">kind: </span><span class="s3">\&quot;</span><span class="s1">sequence</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">construct: /* @__PURE__ */ __name(function(data) {</span><span class="s3">\n    </span><span class="s1">return data !== null ? data : [];</span><span class="s3">\n  </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">construct</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var map = new type(</span><span class="s3">\&quot;</span><span class="s1">tag:yaml.org,2002:map</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n  </span><span class="s1">kind: </span><span class="s3">\&quot;</span><span class="s1">mapping</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">construct: /* @__PURE__ */ __name(function(data) {</span><span class="s3">\n    </span><span class="s1">return data !== null ? data : {};</span><span class="s3">\n  </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">construct</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var failsafe = new schema({</span><span class="s3">\n  </span><span class="s1">explicit: [</span><span class="s3">\n    </span><span class="s1">str,</span><span class="s3">\n    </span><span class="s1">seq,</span><span class="s3">\n    </span><span class="s1">map</span><span class="s3">\n  </span><span class="s1">]</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">function resolveYamlNull(data) {</span><span class="s3">\n  </span><span class="s1">if (data === null) return true;</span><span class="s3">\n  </span><span class="s1">var max = data.length;</span><span class="s3">\n  </span><span class="s1">return max === 1 &amp;&amp; data === </span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot; </span><span class="s1">|| max === 4 &amp;&amp; (data === </span><span class="s3">\&quot;</span><span class="s1">null</span><span class="s3">\&quot; </span><span class="s1">|| data === </span><span class="s3">\&quot;</span><span class="s1">Null</span><span class="s3">\&quot; </span><span class="s1">|| data === </span><span class="s3">\&quot;</span><span class="s1">NULL</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(resolveYamlNull, </span><span class="s3">\&quot;</span><span class="s1">resolveYamlNull</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function constructYamlNull() {</span><span class="s3">\n  </span><span class="s1">return null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(constructYamlNull, </span><span class="s3">\&quot;</span><span class="s1">constructYamlNull</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function isNull(object) {</span><span class="s3">\n  </span><span class="s1">return object === null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(isNull, </span><span class="s3">\&quot;</span><span class="s1">isNull</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var _null = new type(</span><span class="s3">\&quot;</span><span class="s1">tag:yaml.org,2002:null</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n  </span><span class="s1">kind: </span><span class="s3">\&quot;</span><span class="s1">scalar</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">resolve: resolveYamlNull,</span><span class="s3">\n  </span><span class="s1">construct: constructYamlNull,</span><span class="s3">\n  </span><span class="s1">predicate: isNull,</span><span class="s3">\n  </span><span class="s1">represent: {</span><span class="s3">\n    </span><span class="s1">canonical: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">canonical</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">lowercase: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">null</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">lowercase</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">uppercase: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">NULL</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">uppercase</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">camelcase: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">Null</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">camelcase</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">empty: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">empty</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">defaultStyle: </span><span class="s3">\&quot;</span><span class="s1">lowercase</span><span class="s3">\&quot;\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">function resolveYamlBoolean(data) {</span><span class="s3">\n  </span><span class="s1">if (data === null) return false;</span><span class="s3">\n  </span><span class="s1">var max = data.length;</span><span class="s3">\n  </span><span class="s1">return max === 4 &amp;&amp; (data === </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot; </span><span class="s1">|| data === </span><span class="s3">\&quot;</span><span class="s1">True</span><span class="s3">\&quot; </span><span class="s1">|| data === </span><span class="s3">\&quot;</span><span class="s1">TRUE</span><span class="s3">\&quot;</span><span class="s1">) || max === 5 &amp;&amp; (data === </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot; </span><span class="s1">|| data === </span><span class="s3">\&quot;</span><span class="s1">False</span><span class="s3">\&quot; </span><span class="s1">|| data === </span><span class="s3">\&quot;</span><span class="s1">FALSE</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(resolveYamlBoolean, </span><span class="s3">\&quot;</span><span class="s1">resolveYamlBoolean</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function constructYamlBoolean(data) {</span><span class="s3">\n  </span><span class="s1">return data === </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot; </span><span class="s1">|| data === </span><span class="s3">\&quot;</span><span class="s1">True</span><span class="s3">\&quot; </span><span class="s1">|| data === </span><span class="s3">\&quot;</span><span class="s1">TRUE</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(constructYamlBoolean, </span><span class="s3">\&quot;</span><span class="s1">constructYamlBoolean</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function isBoolean(object) {</span><span class="s3">\n  </span><span class="s1">return Object.prototype.toString.call(object) === </span><span class="s3">\&quot;</span><span class="s1">[object Boolean]</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(isBoolean, </span><span class="s3">\&quot;</span><span class="s1">isBoolean</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var bool = new type(</span><span class="s3">\&quot;</span><span class="s1">tag:yaml.org,2002:bool</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n  </span><span class="s1">kind: </span><span class="s3">\&quot;</span><span class="s1">scalar</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">resolve: resolveYamlBoolean,</span><span class="s3">\n  </span><span class="s1">construct: constructYamlBoolean,</span><span class="s3">\n  </span><span class="s1">predicate: isBoolean,</span><span class="s3">\n  </span><span class="s1">represent: {</span><span class="s3">\n    </span><span class="s1">lowercase: /* @__PURE__ */ __name(function(object) {</span><span class="s3">\n      </span><span class="s1">return object ? </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">lowercase</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">uppercase: /* @__PURE__ */ __name(function(object) {</span><span class="s3">\n      </span><span class="s1">return object ? </span><span class="s3">\&quot;</span><span class="s1">TRUE</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">FALSE</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">uppercase</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">camelcase: /* @__PURE__ */ __name(function(object) {</span><span class="s3">\n      </span><span class="s1">return object ? </span><span class="s3">\&quot;</span><span class="s1">True</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">False</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">camelcase</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">defaultStyle: </span><span class="s3">\&quot;</span><span class="s1">lowercase</span><span class="s3">\&quot;\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">function isHexCode(c) {</span><span class="s3">\n  </span><span class="s1">return 48 &lt;= c &amp;&amp; c &lt;= 57 || 65 &lt;= c &amp;&amp; c &lt;= 70 || 97 &lt;= c &amp;&amp; c &lt;= 102;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(isHexCode, </span><span class="s3">\&quot;</span><span class="s1">isHexCode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function isOctCode(c) {</span><span class="s3">\n  </span><span class="s1">return 48 &lt;= c &amp;&amp; c &lt;= 55;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(isOctCode, </span><span class="s3">\&quot;</span><span class="s1">isOctCode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function isDecCode(c) {</span><span class="s3">\n  </span><span class="s1">return 48 &lt;= c &amp;&amp; c &lt;= 57;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(isDecCode, </span><span class="s3">\&quot;</span><span class="s1">isDecCode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function resolveYamlInteger(data) {</span><span class="s3">\n  </span><span class="s1">if (data === null) return false;</span><span class="s3">\n  </span><span class="s1">var max = data.length, index = 0, hasDigits = false, ch;</span><span class="s3">\n  </span><span class="s1">if (!max) return false;</span><span class="s3">\n  </span><span class="s1">ch = data[index];</span><span class="s3">\n  </span><span class="s1">if (ch === </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">|| ch === </span><span class="s3">\&quot;</span><span class="s1">+</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">ch = data[++index];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (ch === </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">if (index + 1 === max) return true;</span><span class="s3">\n    </span><span class="s1">ch = data[++index];</span><span class="s3">\n    </span><span class="s1">if (ch === </span><span class="s3">\&quot;</span><span class="s1">b</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">index++;</span><span class="s3">\n      </span><span class="s1">for (; index &lt; max; index++) {</span><span class="s3">\n        </span><span class="s1">ch = data[index];</span><span class="s3">\n        </span><span class="s1">if (ch === </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">) continue;</span><span class="s3">\n        </span><span class="s1">if (ch !== </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; ch !== </span><span class="s3">\&quot;</span><span class="s1">1</span><span class="s3">\&quot;</span><span class="s1">) return false;</span><span class="s3">\n        </span><span class="s1">hasDigits = true;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return hasDigits &amp;&amp; ch !== </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (ch === </span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">index++;</span><span class="s3">\n      </span><span class="s1">for (; index &lt; max; index++) {</span><span class="s3">\n        </span><span class="s1">ch = data[index];</span><span class="s3">\n        </span><span class="s1">if (ch === </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">) continue;</span><span class="s3">\n        </span><span class="s1">if (!isHexCode(data.charCodeAt(index))) return false;</span><span class="s3">\n        </span><span class="s1">hasDigits = true;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return hasDigits &amp;&amp; ch !== </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (ch === </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">index++;</span><span class="s3">\n      </span><span class="s1">for (; index &lt; max; index++) {</span><span class="s3">\n        </span><span class="s1">ch = data[index];</span><span class="s3">\n        </span><span class="s1">if (ch === </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">) continue;</span><span class="s3">\n        </span><span class="s1">if (!isOctCode(data.charCodeAt(index))) return false;</span><span class="s3">\n        </span><span class="s1">hasDigits = true;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return hasDigits &amp;&amp; ch !== </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (ch === </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">) return false;</span><span class="s3">\n  </span><span class="s1">for (; index &lt; max; index++) {</span><span class="s3">\n    </span><span class="s1">ch = data[index];</span><span class="s3">\n    </span><span class="s1">if (ch === </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">) continue;</span><span class="s3">\n    </span><span class="s1">if (!isDecCode(data.charCodeAt(index))) {</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">hasDigits = true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (!hasDigits || ch === </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">) return false;</span><span class="s3">\n  </span><span class="s1">return true;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(resolveYamlInteger, </span><span class="s3">\&quot;</span><span class="s1">resolveYamlInteger</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function constructYamlInteger(data) {</span><span class="s3">\n  </span><span class="s1">var value = data, sign = 1, ch;</span><span class="s3">\n  </span><span class="s1">if (value.indexOf(</span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">) !== -1) {</span><span class="s3">\n    </span><span class="s1">value = value.replace(/_/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">ch = value[0];</span><span class="s3">\n  </span><span class="s1">if (ch === </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">|| ch === </span><span class="s3">\&quot;</span><span class="s1">+</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">if (ch === </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">) sign = -1;</span><span class="s3">\n    </span><span class="s1">value = value.slice(1);</span><span class="s3">\n    </span><span class="s1">ch = value[0];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (value === </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">) return 0;</span><span class="s3">\n  </span><span class="s1">if (ch === </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">if (value[1] === </span><span class="s3">\&quot;</span><span class="s1">b</span><span class="s3">\&quot;</span><span class="s1">) return sign * parseInt(value.slice(2), 2);</span><span class="s3">\n    </span><span class="s1">if (value[1] === </span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">) return sign * parseInt(value.slice(2), 16);</span><span class="s3">\n    </span><span class="s1">if (value[1] === </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">) return sign * parseInt(value.slice(2), 8);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return sign * parseInt(value, 10);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(constructYamlInteger, </span><span class="s3">\&quot;</span><span class="s1">constructYamlInteger</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function isInteger(object) {</span><span class="s3">\n  </span><span class="s1">return Object.prototype.toString.call(object) === </span><span class="s3">\&quot;</span><span class="s1">[object Number]</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; (object % 1 === 0 &amp;&amp; !common.isNegativeZero(object));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(isInteger, </span><span class="s3">\&quot;</span><span class="s1">isInteger</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var int = new type(</span><span class="s3">\&quot;</span><span class="s1">tag:yaml.org,2002:int</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n  </span><span class="s1">kind: </span><span class="s3">\&quot;</span><span class="s1">scalar</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">resolve: resolveYamlInteger,</span><span class="s3">\n  </span><span class="s1">construct: constructYamlInteger,</span><span class="s3">\n  </span><span class="s1">predicate: isInteger,</span><span class="s3">\n  </span><span class="s1">represent: {</span><span class="s3">\n    </span><span class="s1">binary: /* @__PURE__ */ __name(function(obj) {</span><span class="s3">\n      </span><span class="s1">return obj &gt;= 0 ? </span><span class="s3">\&quot;</span><span class="s1">0b</span><span class="s3">\&quot; </span><span class="s1">+ obj.toString(2) : </span><span class="s3">\&quot;</span><span class="s1">-0b</span><span class="s3">\&quot; </span><span class="s1">+ obj.toString(2).slice(1);</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">binary</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">octal: /* @__PURE__ */ __name(function(obj) {</span><span class="s3">\n      </span><span class="s1">return obj &gt;= 0 ? </span><span class="s3">\&quot;</span><span class="s1">0o</span><span class="s3">\&quot; </span><span class="s1">+ obj.toString(8) : </span><span class="s3">\&quot;</span><span class="s1">-0o</span><span class="s3">\&quot; </span><span class="s1">+ obj.toString(8).slice(1);</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">octal</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">decimal: /* @__PURE__ */ __name(function(obj) {</span><span class="s3">\n      </span><span class="s1">return obj.toString(10);</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">decimal</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">/* eslint-disable max-len */</span><span class="s3">\n    </span><span class="s1">hexadecimal: /* @__PURE__ */ __name(function(obj) {</span><span class="s3">\n      </span><span class="s1">return obj &gt;= 0 ? </span><span class="s3">\&quot;</span><span class="s1">0x</span><span class="s3">\&quot; </span><span class="s1">+ obj.toString(16).toUpperCase() : </span><span class="s3">\&quot;</span><span class="s1">-0x</span><span class="s3">\&quot; </span><span class="s1">+ obj.toString(16).toUpperCase().slice(1);</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">hexadecimal</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">defaultStyle: </span><span class="s3">\&quot;</span><span class="s1">decimal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">styleAliases: {</span><span class="s3">\n    </span><span class="s1">binary: [2, </span><span class="s3">\&quot;</span><span class="s1">bin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">octal: [8, </span><span class="s3">\&quot;</span><span class="s1">oct</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">decimal: [10, </span><span class="s3">\&quot;</span><span class="s1">dec</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">hexadecimal: [16, </span><span class="s3">\&quot;</span><span class="s1">hex</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var YAML_FLOAT_PATTERN = new RegExp(</span><span class="s3">\n  </span><span class="s1">// 2.5e4, 2.5 and integers</span><span class="s3">\n  \&quot;</span><span class="s1">^(?:[-+]?(?:[0-9][0-9_]*)(?:</span><span class="s3">\\\\</span><span class="s1">.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|</span><span class="s3">\\\\</span><span class="s1">.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?</span><span class="s3">\\\\</span><span class="s1">.(?:inf|Inf|INF)|</span><span class="s3">\\\\</span><span class="s1">.(?:nan|NaN|NAN))$</span><span class="s3">\&quot;\n</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function resolveYamlFloat(data) {</span><span class="s3">\n  </span><span class="s1">if (data === null) return false;</span><span class="s3">\n  </span><span class="s1">if (!YAML_FLOAT_PATTERN.test(data) || // Quick hack to not allow integers end with `_`</span><span class="s3">\n  </span><span class="s1">// Probably should update regexp &amp; check speed</span><span class="s3">\n  </span><span class="s1">data[data.length - 1] === </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return true;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(resolveYamlFloat, </span><span class="s3">\&quot;</span><span class="s1">resolveYamlFloat</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function constructYamlFloat(data) {</span><span class="s3">\n  </span><span class="s1">var value, sign;</span><span class="s3">\n  </span><span class="s1">value = data.replace(/_/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">).toLowerCase();</span><span class="s3">\n  </span><span class="s1">sign = value[0] === </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">? -1 : 1;</span><span class="s3">\n  </span><span class="s1">if (</span><span class="s3">\&quot;</span><span class="s1">+-</span><span class="s3">\&quot;</span><span class="s1">.indexOf(value[0]) &gt;= 0) {</span><span class="s3">\n    </span><span class="s1">value = value.slice(1);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (value === </span><span class="s3">\&quot;</span><span class="s1">.inf</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return sign === 1 ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY;</span><span class="s3">\n  </span><span class="s1">} else if (value === </span><span class="s3">\&quot;</span><span class="s1">.nan</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return NaN;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return sign * parseFloat(value, 10);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(constructYamlFloat, </span><span class="s3">\&quot;</span><span class="s1">constructYamlFloat</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var SCIENTIFIC_WITHOUT_DOT = /^[-+]?[0-9]+e/;</span><span class="s3">\n</span><span class="s1">function representYamlFloat(object, style) {</span><span class="s3">\n  </span><span class="s1">var res;</span><span class="s3">\n  </span><span class="s1">if (isNaN(object)) {</span><span class="s3">\n    </span><span class="s1">switch (style) {</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">lowercase</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">.nan</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">uppercase</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">.NAN</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">camelcase</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">.NaN</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else if (Number.POSITIVE_INFINITY === object) {</span><span class="s3">\n    </span><span class="s1">switch (style) {</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">lowercase</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">.inf</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">uppercase</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">.INF</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">camelcase</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">.Inf</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else if (Number.NEGATIVE_INFINITY === object) {</span><span class="s3">\n    </span><span class="s1">switch (style) {</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">lowercase</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">-.inf</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">uppercase</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">-.INF</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">camelcase</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">-.Inf</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else if (common.isNegativeZero(object)) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">-0.0</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">res = object.toString(10);</span><span class="s3">\n  </span><span class="s1">return SCIENTIFIC_WITHOUT_DOT.test(res) ? res.replace(</span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">.e</span><span class="s3">\&quot;</span><span class="s1">) : res;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(representYamlFloat, </span><span class="s3">\&quot;</span><span class="s1">representYamlFloat</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function isFloat(object) {</span><span class="s3">\n  </span><span class="s1">return Object.prototype.toString.call(object) === </span><span class="s3">\&quot;</span><span class="s1">[object Number]</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; (object % 1 !== 0 || common.isNegativeZero(object));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(isFloat, </span><span class="s3">\&quot;</span><span class="s1">isFloat</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var float = new type(</span><span class="s3">\&quot;</span><span class="s1">tag:yaml.org,2002:float</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n  </span><span class="s1">kind: </span><span class="s3">\&quot;</span><span class="s1">scalar</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">resolve: resolveYamlFloat,</span><span class="s3">\n  </span><span class="s1">construct: constructYamlFloat,</span><span class="s3">\n  </span><span class="s1">predicate: isFloat,</span><span class="s3">\n  </span><span class="s1">represent: representYamlFloat,</span><span class="s3">\n  </span><span class="s1">defaultStyle: </span><span class="s3">\&quot;</span><span class="s1">lowercase</span><span class="s3">\&quot;\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var json = failsafe.extend({</span><span class="s3">\n  </span><span class="s1">implicit: [</span><span class="s3">\n    </span><span class="s1">_null,</span><span class="s3">\n    </span><span class="s1">bool,</span><span class="s3">\n    </span><span class="s1">int,</span><span class="s3">\n    </span><span class="s1">float</span><span class="s3">\n  </span><span class="s1">]</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var core = json;</span><span class="s3">\n</span><span class="s1">var YAML_DATE_REGEXP = new RegExp(</span><span class="s3">\n  \&quot;</span><span class="s1">^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$</span><span class="s3">\&quot;\n</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var YAML_TIMESTAMP_REGEXP = new RegExp(</span><span class="s3">\n  \&quot;</span><span class="s1">^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ </span><span class="s3">\\\\</span><span class="s1">t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:</span><span class="s3">\\\\</span><span class="s1">.([0-9]*))?(?:[ </span><span class="s3">\\\\</span><span class="s1">t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$</span><span class="s3">\&quot;\n</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function resolveYamlTimestamp(data) {</span><span class="s3">\n  </span><span class="s1">if (data === null) return false;</span><span class="s3">\n  </span><span class="s1">if (YAML_DATE_REGEXP.exec(data) !== null) return true;</span><span class="s3">\n  </span><span class="s1">if (YAML_TIMESTAMP_REGEXP.exec(data) !== null) return true;</span><span class="s3">\n  </span><span class="s1">return false;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(resolveYamlTimestamp, </span><span class="s3">\&quot;</span><span class="s1">resolveYamlTimestamp</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function constructYamlTimestamp(data) {</span><span class="s3">\n  </span><span class="s1">var match, year, month, day, hour, minute, second, fraction = 0, delta = null, tz_hour, tz_minute, date;</span><span class="s3">\n  </span><span class="s1">match = YAML_DATE_REGEXP.exec(data);</span><span class="s3">\n  </span><span class="s1">if (match === null) match = YAML_TIMESTAMP_REGEXP.exec(data);</span><span class="s3">\n  </span><span class="s1">if (match === null) throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Date resolve error</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">year = +match[1];</span><span class="s3">\n  </span><span class="s1">month = +match[2] - 1;</span><span class="s3">\n  </span><span class="s1">day = +match[3];</span><span class="s3">\n  </span><span class="s1">if (!match[4]) {</span><span class="s3">\n    </span><span class="s1">return new Date(Date.UTC(year, month, day));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">hour = +match[4];</span><span class="s3">\n  </span><span class="s1">minute = +match[5];</span><span class="s3">\n  </span><span class="s1">second = +match[6];</span><span class="s3">\n  </span><span class="s1">if (match[7]) {</span><span class="s3">\n    </span><span class="s1">fraction = match[7].slice(0, 3);</span><span class="s3">\n    </span><span class="s1">while (fraction.length &lt; 3) {</span><span class="s3">\n      </span><span class="s1">fraction += </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">fraction = +fraction;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (match[9]) {</span><span class="s3">\n    </span><span class="s1">tz_hour = +match[10];</span><span class="s3">\n    </span><span class="s1">tz_minute = +(match[11] || 0);</span><span class="s3">\n    </span><span class="s1">delta = (tz_hour * 60 + tz_minute) * 6e4;</span><span class="s3">\n    </span><span class="s1">if (match[9] === </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">) delta = -delta;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">date = new Date(Date.UTC(year, month, day, hour, minute, second, fraction));</span><span class="s3">\n  </span><span class="s1">if (delta) date.setTime(date.getTime() - delta);</span><span class="s3">\n  </span><span class="s1">return date;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(constructYamlTimestamp, </span><span class="s3">\&quot;</span><span class="s1">constructYamlTimestamp</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function representYamlTimestamp(object) {</span><span class="s3">\n  </span><span class="s1">return object.toISOString();</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(representYamlTimestamp, </span><span class="s3">\&quot;</span><span class="s1">representYamlTimestamp</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var timestamp = new type(</span><span class="s3">\&quot;</span><span class="s1">tag:yaml.org,2002:timestamp</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n  </span><span class="s1">kind: </span><span class="s3">\&quot;</span><span class="s1">scalar</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">resolve: resolveYamlTimestamp,</span><span class="s3">\n  </span><span class="s1">construct: constructYamlTimestamp,</span><span class="s3">\n  </span><span class="s1">instanceOf: Date,</span><span class="s3">\n  </span><span class="s1">represent: representYamlTimestamp</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">function resolveYamlMerge(data) {</span><span class="s3">\n  </span><span class="s1">return data === </span><span class="s3">\&quot;</span><span class="s1">&lt;&lt;</span><span class="s3">\&quot; </span><span class="s1">|| data === null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(resolveYamlMerge, </span><span class="s3">\&quot;</span><span class="s1">resolveYamlMerge</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var merge = new type(</span><span class="s3">\&quot;</span><span class="s1">tag:yaml.org,2002:merge</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n  </span><span class="s1">kind: </span><span class="s3">\&quot;</span><span class="s1">scalar</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">resolve: resolveYamlMerge</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var BASE64_MAP = </span><span class="s3">\&quot;</span><span class="s1">ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\\</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function resolveYamlBinary(data) {</span><span class="s3">\n  </span><span class="s1">if (data === null) return false;</span><span class="s3">\n  </span><span class="s1">var code, idx, bitlen = 0, max = data.length, map2 = BASE64_MAP;</span><span class="s3">\n  </span><span class="s1">for (idx = 0; idx &lt; max; idx++) {</span><span class="s3">\n    </span><span class="s1">code = map2.indexOf(data.charAt(idx));</span><span class="s3">\n    </span><span class="s1">if (code &gt; 64) continue;</span><span class="s3">\n    </span><span class="s1">if (code &lt; 0) return false;</span><span class="s3">\n    </span><span class="s1">bitlen += 6;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return bitlen % 8 === 0;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(resolveYamlBinary, </span><span class="s3">\&quot;</span><span class="s1">resolveYamlBinary</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function constructYamlBinary(data) {</span><span class="s3">\n  </span><span class="s1">var idx, tailbits, input = data.replace(/[</span><span class="s3">\\</span><span class="s1">r</span><span class="s3">\\</span><span class="s1">n=]/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">), max = input.length, map2 = BASE64_MAP, bits = 0, result = [];</span><span class="s3">\n  </span><span class="s1">for (idx = 0; idx &lt; max; idx++) {</span><span class="s3">\n    </span><span class="s1">if (idx % 4 === 0 &amp;&amp; idx) {</span><span class="s3">\n      </span><span class="s1">result.push(bits &gt;&gt; 16 &amp; 255);</span><span class="s3">\n      </span><span class="s1">result.push(bits &gt;&gt; 8 &amp; 255);</span><span class="s3">\n      </span><span class="s1">result.push(bits &amp; 255);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">bits = bits &lt;&lt; 6 | map2.indexOf(input.charAt(idx));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">tailbits = max % 4 * 6;</span><span class="s3">\n  </span><span class="s1">if (tailbits === 0) {</span><span class="s3">\n    </span><span class="s1">result.push(bits &gt;&gt; 16 &amp; 255);</span><span class="s3">\n    </span><span class="s1">result.push(bits &gt;&gt; 8 &amp; 255);</span><span class="s3">\n    </span><span class="s1">result.push(bits &amp; 255);</span><span class="s3">\n  </span><span class="s1">} else if (tailbits === 18) {</span><span class="s3">\n    </span><span class="s1">result.push(bits &gt;&gt; 10 &amp; 255);</span><span class="s3">\n    </span><span class="s1">result.push(bits &gt;&gt; 2 &amp; 255);</span><span class="s3">\n  </span><span class="s1">} else if (tailbits === 12) {</span><span class="s3">\n    </span><span class="s1">result.push(bits &gt;&gt; 4 &amp; 255);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return new Uint8Array(result);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(constructYamlBinary, </span><span class="s3">\&quot;</span><span class="s1">constructYamlBinary</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function representYamlBinary(object) {</span><span class="s3">\n  </span><span class="s1">var result = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, bits = 0, idx, tail, max = object.length, map2 = BASE64_MAP;</span><span class="s3">\n  </span><span class="s1">for (idx = 0; idx &lt; max; idx++) {</span><span class="s3">\n    </span><span class="s1">if (idx % 3 === 0 &amp;&amp; idx) {</span><span class="s3">\n      </span><span class="s1">result += map2[bits &gt;&gt; 18 &amp; 63];</span><span class="s3">\n      </span><span class="s1">result += map2[bits &gt;&gt; 12 &amp; 63];</span><span class="s3">\n      </span><span class="s1">result += map2[bits &gt;&gt; 6 &amp; 63];</span><span class="s3">\n      </span><span class="s1">result += map2[bits &amp; 63];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">bits = (bits &lt;&lt; 8) + object[idx];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">tail = max % 3;</span><span class="s3">\n  </span><span class="s1">if (tail === 0) {</span><span class="s3">\n    </span><span class="s1">result += map2[bits &gt;&gt; 18 &amp; 63];</span><span class="s3">\n    </span><span class="s1">result += map2[bits &gt;&gt; 12 &amp; 63];</span><span class="s3">\n    </span><span class="s1">result += map2[bits &gt;&gt; 6 &amp; 63];</span><span class="s3">\n    </span><span class="s1">result += map2[bits &amp; 63];</span><span class="s3">\n  </span><span class="s1">} else if (tail === 2) {</span><span class="s3">\n    </span><span class="s1">result += map2[bits &gt;&gt; 10 &amp; 63];</span><span class="s3">\n    </span><span class="s1">result += map2[bits &gt;&gt; 4 &amp; 63];</span><span class="s3">\n    </span><span class="s1">result += map2[bits &lt;&lt; 2 &amp; 63];</span><span class="s3">\n    </span><span class="s1">result += map2[64];</span><span class="s3">\n  </span><span class="s1">} else if (tail === 1) {</span><span class="s3">\n    </span><span class="s1">result += map2[bits &gt;&gt; 2 &amp; 63];</span><span class="s3">\n    </span><span class="s1">result += map2[bits &lt;&lt; 4 &amp; 63];</span><span class="s3">\n    </span><span class="s1">result += map2[64];</span><span class="s3">\n    </span><span class="s1">result += map2[64];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(representYamlBinary, </span><span class="s3">\&quot;</span><span class="s1">representYamlBinary</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function isBinary(obj) {</span><span class="s3">\n  </span><span class="s1">return Object.prototype.toString.call(obj) === </span><span class="s3">\&quot;</span><span class="s1">[object Uint8Array]</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(isBinary, </span><span class="s3">\&quot;</span><span class="s1">isBinary</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var binary = new type(</span><span class="s3">\&quot;</span><span class="s1">tag:yaml.org,2002:binary</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n  </span><span class="s1">kind: </span><span class="s3">\&quot;</span><span class="s1">scalar</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">resolve: resolveYamlBinary,</span><span class="s3">\n  </span><span class="s1">construct: constructYamlBinary,</span><span class="s3">\n  </span><span class="s1">predicate: isBinary,</span><span class="s3">\n  </span><span class="s1">represent: representYamlBinary</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var _hasOwnProperty$3 = Object.prototype.hasOwnProperty;</span><span class="s3">\n</span><span class="s1">var _toString$2 = Object.prototype.toString;</span><span class="s3">\n</span><span class="s1">function resolveYamlOmap(data) {</span><span class="s3">\n  </span><span class="s1">if (data === null) return true;</span><span class="s3">\n  </span><span class="s1">var objectKeys = [], index, length, pair, pairKey, pairHasKey, object = data;</span><span class="s3">\n  </span><span class="s1">for (index = 0, length = object.length; index &lt; length; index += 1) {</span><span class="s3">\n    </span><span class="s1">pair = object[index];</span><span class="s3">\n    </span><span class="s1">pairHasKey = false;</span><span class="s3">\n    </span><span class="s1">if (_toString$2.call(pair) !== </span><span class="s3">\&quot;</span><span class="s1">[object Object]</span><span class="s3">\&quot;</span><span class="s1">) return false;</span><span class="s3">\n    </span><span class="s1">for (pairKey in pair) {</span><span class="s3">\n      </span><span class="s1">if (_hasOwnProperty$3.call(pair, pairKey)) {</span><span class="s3">\n        </span><span class="s1">if (!pairHasKey) pairHasKey = true;</span><span class="s3">\n        </span><span class="s1">else return false;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!pairHasKey) return false;</span><span class="s3">\n    </span><span class="s1">if (objectKeys.indexOf(pairKey) === -1) objectKeys.push(pairKey);</span><span class="s3">\n    </span><span class="s1">else return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return true;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(resolveYamlOmap, </span><span class="s3">\&quot;</span><span class="s1">resolveYamlOmap</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function constructYamlOmap(data) {</span><span class="s3">\n  </span><span class="s1">return data !== null ? data : [];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(constructYamlOmap, </span><span class="s3">\&quot;</span><span class="s1">constructYamlOmap</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var omap = new type(</span><span class="s3">\&quot;</span><span class="s1">tag:yaml.org,2002:omap</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n  </span><span class="s1">kind: </span><span class="s3">\&quot;</span><span class="s1">sequence</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">resolve: resolveYamlOmap,</span><span class="s3">\n  </span><span class="s1">construct: constructYamlOmap</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var _toString$1 = Object.prototype.toString;</span><span class="s3">\n</span><span class="s1">function resolveYamlPairs(data) {</span><span class="s3">\n  </span><span class="s1">if (data === null) return true;</span><span class="s3">\n  </span><span class="s1">var index, length, pair, keys, result, object = data;</span><span class="s3">\n  </span><span class="s1">result = new Array(object.length);</span><span class="s3">\n  </span><span class="s1">for (index = 0, length = object.length; index &lt; length; index += 1) {</span><span class="s3">\n    </span><span class="s1">pair = object[index];</span><span class="s3">\n    </span><span class="s1">if (_toString$1.call(pair) !== </span><span class="s3">\&quot;</span><span class="s1">[object Object]</span><span class="s3">\&quot;</span><span class="s1">) return false;</span><span class="s3">\n    </span><span class="s1">keys = Object.keys(pair);</span><span class="s3">\n    </span><span class="s1">if (keys.length !== 1) return false;</span><span class="s3">\n    </span><span class="s1">result[index] = [keys[0], pair[keys[0]]];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return true;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(resolveYamlPairs, </span><span class="s3">\&quot;</span><span class="s1">resolveYamlPairs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function constructYamlPairs(data) {</span><span class="s3">\n  </span><span class="s1">if (data === null) return [];</span><span class="s3">\n  </span><span class="s1">var index, length, pair, keys, result, object = data;</span><span class="s3">\n  </span><span class="s1">result = new Array(object.length);</span><span class="s3">\n  </span><span class="s1">for (index = 0, length = object.length; index &lt; length; index += 1) {</span><span class="s3">\n    </span><span class="s1">pair = object[index];</span><span class="s3">\n    </span><span class="s1">keys = Object.keys(pair);</span><span class="s3">\n    </span><span class="s1">result[index] = [keys[0], pair[keys[0]]];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(constructYamlPairs, </span><span class="s3">\&quot;</span><span class="s1">constructYamlPairs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var pairs = new type(</span><span class="s3">\&quot;</span><span class="s1">tag:yaml.org,2002:pairs</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n  </span><span class="s1">kind: </span><span class="s3">\&quot;</span><span class="s1">sequence</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">resolve: resolveYamlPairs,</span><span class="s3">\n  </span><span class="s1">construct: constructYamlPairs</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var _hasOwnProperty$2 = Object.prototype.hasOwnProperty;</span><span class="s3">\n</span><span class="s1">function resolveYamlSet(data) {</span><span class="s3">\n  </span><span class="s1">if (data === null) return true;</span><span class="s3">\n  </span><span class="s1">var key, object = data;</span><span class="s3">\n  </span><span class="s1">for (key in object) {</span><span class="s3">\n    </span><span class="s1">if (_hasOwnProperty$2.call(object, key)) {</span><span class="s3">\n      </span><span class="s1">if (object[key] !== null) return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return true;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(resolveYamlSet, </span><span class="s3">\&quot;</span><span class="s1">resolveYamlSet</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function constructYamlSet(data) {</span><span class="s3">\n  </span><span class="s1">return data !== null ? data : {};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(constructYamlSet, </span><span class="s3">\&quot;</span><span class="s1">constructYamlSet</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var set = new type(</span><span class="s3">\&quot;</span><span class="s1">tag:yaml.org,2002:set</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n  </span><span class="s1">kind: </span><span class="s3">\&quot;</span><span class="s1">mapping</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">resolve: resolveYamlSet,</span><span class="s3">\n  </span><span class="s1">construct: constructYamlSet</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var _default = core.extend({</span><span class="s3">\n  </span><span class="s1">implicit: [</span><span class="s3">\n    </span><span class="s1">timestamp,</span><span class="s3">\n    </span><span class="s1">merge</span><span class="s3">\n  </span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">explicit: [</span><span class="s3">\n    </span><span class="s1">binary,</span><span class="s3">\n    </span><span class="s1">omap,</span><span class="s3">\n    </span><span class="s1">pairs,</span><span class="s3">\n    </span><span class="s1">set</span><span class="s3">\n  </span><span class="s1">]</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var _hasOwnProperty$1 = Object.prototype.hasOwnProperty;</span><span class="s3">\n</span><span class="s1">var CONTEXT_FLOW_IN = 1;</span><span class="s3">\n</span><span class="s1">var CONTEXT_FLOW_OUT = 2;</span><span class="s3">\n</span><span class="s1">var CONTEXT_BLOCK_IN = 3;</span><span class="s3">\n</span><span class="s1">var CONTEXT_BLOCK_OUT = 4;</span><span class="s3">\n</span><span class="s1">var CHOMPING_CLIP = 1;</span><span class="s3">\n</span><span class="s1">var CHOMPING_STRIP = 2;</span><span class="s3">\n</span><span class="s1">var CHOMPING_KEEP = 3;</span><span class="s3">\n</span><span class="s1">var PATTERN_NON_PRINTABLE = /[</span><span class="s3">\\</span><span class="s1">x00-</span><span class="s3">\\</span><span class="s1">x08</span><span class="s3">\\</span><span class="s1">x0B</span><span class="s3">\\</span><span class="s1">x0C</span><span class="s3">\\</span><span class="s1">x0E-</span><span class="s3">\\</span><span class="s1">x1F</span><span class="s3">\\</span><span class="s1">x7F-</span><span class="s3">\\</span><span class="s1">x84</span><span class="s3">\\</span><span class="s1">x86-</span><span class="s3">\\</span><span class="s1">x9F</span><span class="s3">\\</span><span class="s1">uFFFE</span><span class="s3">\\</span><span class="s1">uFFFF]|[</span><span class="s3">\\</span><span class="s1">uD800-</span><span class="s3">\\</span><span class="s1">uDBFF](?![</span><span class="s3">\\</span><span class="s1">uDC00-</span><span class="s3">\\</span><span class="s1">uDFFF])|(?:[^</span><span class="s3">\\</span><span class="s1">uD800-</span><span class="s3">\\</span><span class="s1">uDBFF]|^)[</span><span class="s3">\\</span><span class="s1">uDC00-</span><span class="s3">\\</span><span class="s1">uDFFF]/;</span><span class="s3">\n</span><span class="s1">var PATTERN_NON_ASCII_LINE_BREAKS = /[</span><span class="s3">\\</span><span class="s1">x85</span><span class="s3">\\</span><span class="s1">u2028</span><span class="s3">\\</span><span class="s1">u2029]/;</span><span class="s3">\n</span><span class="s1">var PATTERN_FLOW_INDICATORS = /[,</span><span class="s3">\\</span><span class="s1">[</span><span class="s3">\\</span><span class="s1">]</span><span class="s3">\\</span><span class="s1">{</span><span class="s3">\\</span><span class="s1">}]/;</span><span class="s3">\n</span><span class="s1">var PATTERN_TAG_HANDLE = /^(?:!|!!|![a-z</span><span class="s3">\\</span><span class="s1">-]+!)$/i;</span><span class="s3">\n</span><span class="s1">var PATTERN_TAG_URI = /^(?:!|[^,</span><span class="s3">\\</span><span class="s1">[</span><span class="s3">\\</span><span class="s1">]</span><span class="s3">\\</span><span class="s1">{</span><span class="s3">\\</span><span class="s1">}])(?:%[0-9a-f]{2}|[0-9a-z</span><span class="s3">\\</span><span class="s1">-#;</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">?:@&amp;=</span><span class="s3">\\</span><span class="s1">+</span><span class="s3">\\</span><span class="s1">$,_</span><span class="s3">\\</span><span class="s1">.!~</span><span class="s3">\\</span><span class="s1">*'</span><span class="s3">\\</span><span class="s1">(</span><span class="s3">\\</span><span class="s1">)</span><span class="s3">\\</span><span class="s1">[</span><span class="s3">\\</span><span class="s1">]])*$/i;</span><span class="s3">\n</span><span class="s1">function _class(obj) {</span><span class="s3">\n  </span><span class="s1">return Object.prototype.toString.call(obj);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(_class, </span><span class="s3">\&quot;</span><span class="s1">_class</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function is_EOL(c) {</span><span class="s3">\n  </span><span class="s1">return c === 10 || c === 13;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(is_EOL, </span><span class="s3">\&quot;</span><span class="s1">is_EOL</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function is_WHITE_SPACE(c) {</span><span class="s3">\n  </span><span class="s1">return c === 9 || c === 32;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(is_WHITE_SPACE, </span><span class="s3">\&quot;</span><span class="s1">is_WHITE_SPACE</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function is_WS_OR_EOL(c) {</span><span class="s3">\n  </span><span class="s1">return c === 9 || c === 32 || c === 10 || c === 13;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(is_WS_OR_EOL, </span><span class="s3">\&quot;</span><span class="s1">is_WS_OR_EOL</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function is_FLOW_INDICATOR(c) {</span><span class="s3">\n  </span><span class="s1">return c === 44 || c === 91 || c === 93 || c === 123 || c === 125;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(is_FLOW_INDICATOR, </span><span class="s3">\&quot;</span><span class="s1">is_FLOW_INDICATOR</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function fromHexCode(c) {</span><span class="s3">\n  </span><span class="s1">var lc;</span><span class="s3">\n  </span><span class="s1">if (48 &lt;= c &amp;&amp; c &lt;= 57) {</span><span class="s3">\n    </span><span class="s1">return c - 48;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">lc = c | 32;</span><span class="s3">\n  </span><span class="s1">if (97 &lt;= lc &amp;&amp; lc &lt;= 102) {</span><span class="s3">\n    </span><span class="s1">return lc - 97 + 10;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(fromHexCode, </span><span class="s3">\&quot;</span><span class="s1">fromHexCode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function escapedHexLen(c) {</span><span class="s3">\n  </span><span class="s1">if (c === 120) {</span><span class="s3">\n    </span><span class="s1">return 2;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (c === 117) {</span><span class="s3">\n    </span><span class="s1">return 4;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (c === 85) {</span><span class="s3">\n    </span><span class="s1">return 8;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return 0;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(escapedHexLen, </span><span class="s3">\&quot;</span><span class="s1">escapedHexLen</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function fromDecimalCode(c) {</span><span class="s3">\n  </span><span class="s1">if (48 &lt;= c &amp;&amp; c &lt;= 57) {</span><span class="s3">\n    </span><span class="s1">return c - 48;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(fromDecimalCode, </span><span class="s3">\&quot;</span><span class="s1">fromDecimalCode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function simpleEscapeSequence(c) {</span><span class="s3">\n  </span><span class="s1">return c === 48 ? </span><span class="s3">\&quot;\\</span><span class="s1">0</span><span class="s3">\&quot; </span><span class="s1">: c === 97 ? </span><span class="s3">\&quot;\\</span><span class="s1">x07</span><span class="s3">\&quot; </span><span class="s1">: c === 98 ? </span><span class="s3">\&quot;\\</span><span class="s1">b</span><span class="s3">\&quot; </span><span class="s1">: c === 116 ? </span><span class="s3">\&quot;\t\&quot; </span><span class="s1">: c === 9 ? </span><span class="s3">\&quot;\t\&quot; </span><span class="s1">: c === 110 ? </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot; </span><span class="s1">: c === 118 ? </span><span class="s3">\&quot;\\</span><span class="s1">v</span><span class="s3">\&quot; </span><span class="s1">: c === 102 ? </span><span class="s3">\&quot;\\</span><span class="s1">f</span><span class="s3">\&quot; </span><span class="s1">: c === 114 ? </span><span class="s3">\&quot;\\</span><span class="s1">r</span><span class="s3">\&quot; </span><span class="s1">: c === 101 ? </span><span class="s3">\&quot;\\</span><span class="s1">x1B</span><span class="s3">\&quot; </span><span class="s1">: c === 32 ? </span><span class="s3">\&quot; \&quot; </span><span class="s1">: c === 34 ? '</span><span class="s3">\&quot;</span><span class="s1">' : c === 47 ? </span><span class="s3">\&quot;</span><span class="s1">/</span><span class="s3">\&quot; </span><span class="s1">: c === 92 ? </span><span class="s3">\&quot;\\\\\&quot; </span><span class="s1">: c === 78 ? </span><span class="s3">\&quot;\\</span><span class="s1">x85</span><span class="s3">\&quot; </span><span class="s1">: c === 95 ? </span><span class="s3">\&quot;\\</span><span class="s1">xA0</span><span class="s3">\&quot; </span><span class="s1">: c === 76 ? </span><span class="s3">\&quot;\\</span><span class="s1">u2028</span><span class="s3">\&quot; </span><span class="s1">: c === 80 ? </span><span class="s3">\&quot;\\</span><span class="s1">u2029</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(simpleEscapeSequence, </span><span class="s3">\&quot;</span><span class="s1">simpleEscapeSequence</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function charFromCodepoint(c) {</span><span class="s3">\n  </span><span class="s1">if (c &lt;= 65535) {</span><span class="s3">\n    </span><span class="s1">return String.fromCharCode(c);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return String.fromCharCode(</span><span class="s3">\n    </span><span class="s1">(c - 65536 &gt;&gt; 10) + 55296,</span><span class="s3">\n    </span><span class="s1">(c - 65536 &amp; 1023) + 56320</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(charFromCodepoint, </span><span class="s3">\&quot;</span><span class="s1">charFromCodepoint</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var simpleEscapeCheck = new Array(256);</span><span class="s3">\n</span><span class="s1">var simpleEscapeMap = new Array(256);</span><span class="s3">\n</span><span class="s1">for (i = 0; i &lt; 256; i++) {</span><span class="s3">\n  </span><span class="s1">simpleEscapeCheck[i] = simpleEscapeSequence(i) ? 1 : 0;</span><span class="s3">\n  </span><span class="s1">simpleEscapeMap[i] = simpleEscapeSequence(i);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">var i;</span><span class="s3">\n</span><span class="s1">function State$1(input, options) {</span><span class="s3">\n  </span><span class="s1">this.input = input;</span><span class="s3">\n  </span><span class="s1">this.filename = options[</span><span class="s3">\&quot;</span><span class="s1">filename</span><span class="s3">\&quot;</span><span class="s1">] || null;</span><span class="s3">\n  </span><span class="s1">this.schema = options[</span><span class="s3">\&quot;</span><span class="s1">schema</span><span class="s3">\&quot;</span><span class="s1">] || _default;</span><span class="s3">\n  </span><span class="s1">this.onWarning = options[</span><span class="s3">\&quot;</span><span class="s1">onWarning</span><span class="s3">\&quot;</span><span class="s1">] || null;</span><span class="s3">\n  </span><span class="s1">this.legacy = options[</span><span class="s3">\&quot;</span><span class="s1">legacy</span><span class="s3">\&quot;</span><span class="s1">] || false;</span><span class="s3">\n  </span><span class="s1">this.json = options[</span><span class="s3">\&quot;</span><span class="s1">json</span><span class="s3">\&quot;</span><span class="s1">] || false;</span><span class="s3">\n  </span><span class="s1">this.listener = options[</span><span class="s3">\&quot;</span><span class="s1">listener</span><span class="s3">\&quot;</span><span class="s1">] || null;</span><span class="s3">\n  </span><span class="s1">this.implicitTypes = this.schema.compiledImplicit;</span><span class="s3">\n  </span><span class="s1">this.typeMap = this.schema.compiledTypeMap;</span><span class="s3">\n  </span><span class="s1">this.length = input.length;</span><span class="s3">\n  </span><span class="s1">this.position = 0;</span><span class="s3">\n  </span><span class="s1">this.line = 0;</span><span class="s3">\n  </span><span class="s1">this.lineStart = 0;</span><span class="s3">\n  </span><span class="s1">this.lineIndent = 0;</span><span class="s3">\n  </span><span class="s1">this.firstTabInLine = -1;</span><span class="s3">\n  </span><span class="s1">this.documents = [];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(State$1, </span><span class="s3">\&quot;</span><span class="s1">State$1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function generateError(state, message) {</span><span class="s3">\n  </span><span class="s1">var mark = {</span><span class="s3">\n    </span><span class="s1">name: state.filename,</span><span class="s3">\n    </span><span class="s1">buffer: state.input.slice(0, -1),</span><span class="s3">\n    </span><span class="s1">// omit trailing </span><span class="s3">\\</span><span class="s1">0</span><span class="s3">\n    </span><span class="s1">position: state.position,</span><span class="s3">\n    </span><span class="s1">line: state.line,</span><span class="s3">\n    </span><span class="s1">column: state.position - state.lineStart</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">mark.snippet = snippet(mark);</span><span class="s3">\n  </span><span class="s1">return new exception(message, mark);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(generateError, </span><span class="s3">\&quot;</span><span class="s1">generateError</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function throwError(state, message) {</span><span class="s3">\n  </span><span class="s1">throw generateError(state, message);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(throwError, </span><span class="s3">\&quot;</span><span class="s1">throwError</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function throwWarning(state, message) {</span><span class="s3">\n  </span><span class="s1">if (state.onWarning) {</span><span class="s3">\n    </span><span class="s1">state.onWarning.call(null, generateError(state, message));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(throwWarning, </span><span class="s3">\&quot;</span><span class="s1">throwWarning</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var directiveHandlers = {</span><span class="s3">\n  </span><span class="s1">YAML: /* @__PURE__ */ __name(function handleYamlDirective(state, name, args) {</span><span class="s3">\n    </span><span class="s1">var match, major, minor;</span><span class="s3">\n    </span><span class="s1">if (state.version !== null) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">duplication of %YAML directive</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (args.length !== 1) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">YAML directive accepts exactly one argument</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">match = /^([0-9]+)</span><span class="s3">\\</span><span class="s1">.([0-9]+)$/.exec(args[0]);</span><span class="s3">\n    </span><span class="s1">if (match === null) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">ill-formed argument of the YAML directive</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">major = parseInt(match[1], 10);</span><span class="s3">\n    </span><span class="s1">minor = parseInt(match[2], 10);</span><span class="s3">\n    </span><span class="s1">if (major !== 1) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">unacceptable YAML version of the document</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">state.version = args[0];</span><span class="s3">\n    </span><span class="s1">state.checkLineBreaks = minor &lt; 2;</span><span class="s3">\n    </span><span class="s1">if (minor !== 1 &amp;&amp; minor !== 2) {</span><span class="s3">\n      </span><span class="s1">throwWarning(state, </span><span class="s3">\&quot;</span><span class="s1">unsupported YAML version of the document</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">handleYamlDirective</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n  </span><span class="s1">TAG: /* @__PURE__ */ __name(function handleTagDirective(state, name, args) {</span><span class="s3">\n    </span><span class="s1">var handle, prefix;</span><span class="s3">\n    </span><span class="s1">if (args.length !== 2) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">TAG directive accepts exactly two arguments</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">handle = args[0];</span><span class="s3">\n    </span><span class="s1">prefix = args[1];</span><span class="s3">\n    </span><span class="s1">if (!PATTERN_TAG_HANDLE.test(handle)) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">ill-formed tag handle (first argument) of the TAG directive</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (_hasOwnProperty$1.call(state.tagMap, handle)) {</span><span class="s3">\n      </span><span class="s1">throwError(state, 'there is a previously declared suffix for </span><span class="s3">\&quot;</span><span class="s1">' + handle + '</span><span class="s3">\&quot; </span><span class="s1">tag handle');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!PATTERN_TAG_URI.test(prefix)) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">ill-formed tag prefix (second argument) of the TAG directive</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">prefix = decodeURIComponent(prefix);</span><span class="s3">\n    </span><span class="s1">} catch (err) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">tag prefix is malformed: </span><span class="s3">\&quot; </span><span class="s1">+ prefix);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">state.tagMap[handle] = prefix;</span><span class="s3">\n  </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">handleTagDirective</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">function captureSegment(state, start, end, checkJson) {</span><span class="s3">\n  </span><span class="s1">var _position, _length, _character, _result;</span><span class="s3">\n  </span><span class="s1">if (start &lt; end) {</span><span class="s3">\n    </span><span class="s1">_result = state.input.slice(start, end);</span><span class="s3">\n    </span><span class="s1">if (checkJson) {</span><span class="s3">\n      </span><span class="s1">for (_position = 0, _length = _result.length; _position &lt; _length; _position += 1) {</span><span class="s3">\n        </span><span class="s1">_character = _result.charCodeAt(_position);</span><span class="s3">\n        </span><span class="s1">if (!(_character === 9 || 32 &lt;= _character &amp;&amp; _character &lt;= 1114111)) {</span><span class="s3">\n          </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">expected valid JSON character</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (PATTERN_NON_PRINTABLE.test(_result)) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">the stream contains non-printable characters</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">state.result += _result;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(captureSegment, </span><span class="s3">\&quot;</span><span class="s1">captureSegment</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function mergeMappings(state, destination, source, overridableKeys) {</span><span class="s3">\n  </span><span class="s1">var sourceKeys, key, index, quantity;</span><span class="s3">\n  </span><span class="s1">if (!common.isObject(source)) {</span><span class="s3">\n    </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">cannot merge mappings; the provided source object is unacceptable</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">sourceKeys = Object.keys(source);</span><span class="s3">\n  </span><span class="s1">for (index = 0, quantity = sourceKeys.length; index &lt; quantity; index += 1) {</span><span class="s3">\n    </span><span class="s1">key = sourceKeys[index];</span><span class="s3">\n    </span><span class="s1">if (!_hasOwnProperty$1.call(destination, key)) {</span><span class="s3">\n      </span><span class="s1">destination[key] = source[key];</span><span class="s3">\n      </span><span class="s1">overridableKeys[key] = true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(mergeMappings, </span><span class="s3">\&quot;</span><span class="s1">mergeMappings</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, startLine, startLineStart, startPos) {</span><span class="s3">\n  </span><span class="s1">var index, quantity;</span><span class="s3">\n  </span><span class="s1">if (Array.isArray(keyNode)) {</span><span class="s3">\n    </span><span class="s1">keyNode = Array.prototype.slice.call(keyNode);</span><span class="s3">\n    </span><span class="s1">for (index = 0, quantity = keyNode.length; index &lt; quantity; index += 1) {</span><span class="s3">\n      </span><span class="s1">if (Array.isArray(keyNode[index])) {</span><span class="s3">\n        </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">nested arrays are not supported inside keys</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (typeof keyNode === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; _class(keyNode[index]) === </span><span class="s3">\&quot;</span><span class="s1">[object Object]</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">keyNode[index] = </span><span class="s3">\&quot;</span><span class="s1">[object Object]</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (typeof keyNode === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; _class(keyNode) === </span><span class="s3">\&quot;</span><span class="s1">[object Object]</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">keyNode = </span><span class="s3">\&quot;</span><span class="s1">[object Object]</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">keyNode = String(keyNode);</span><span class="s3">\n  </span><span class="s1">if (_result === null) {</span><span class="s3">\n    </span><span class="s1">_result = {};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (keyTag === </span><span class="s3">\&quot;</span><span class="s1">tag:yaml.org,2002:merge</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">if (Array.isArray(valueNode)) {</span><span class="s3">\n      </span><span class="s1">for (index = 0, quantity = valueNode.length; index &lt; quantity; index += 1) {</span><span class="s3">\n        </span><span class="s1">mergeMappings(state, _result, valueNode[index], overridableKeys);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">mergeMappings(state, _result, valueNode, overridableKeys);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">if (!state.json &amp;&amp; !_hasOwnProperty$1.call(overridableKeys, keyNode) &amp;&amp; _hasOwnProperty$1.call(_result, keyNode)) {</span><span class="s3">\n      </span><span class="s1">state.line = startLine || state.line;</span><span class="s3">\n      </span><span class="s1">state.lineStart = startLineStart || state.lineStart;</span><span class="s3">\n      </span><span class="s1">state.position = startPos || state.position;</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">duplicated mapping key</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (keyNode === </span><span class="s3">\&quot;</span><span class="s1">__proto__</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">Object.defineProperty(_result, keyNode, {</span><span class="s3">\n        </span><span class="s1">configurable: true,</span><span class="s3">\n        </span><span class="s1">enumerable: true,</span><span class="s3">\n        </span><span class="s1">writable: true,</span><span class="s3">\n        </span><span class="s1">value: valueNode</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">_result[keyNode] = valueNode;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">delete overridableKeys[keyNode];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return _result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(storeMappingPair, </span><span class="s3">\&quot;</span><span class="s1">storeMappingPair</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function readLineBreak(state) {</span><span class="s3">\n  </span><span class="s1">var ch;</span><span class="s3">\n  </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n  </span><span class="s1">if (ch === 10) {</span><span class="s3">\n    </span><span class="s1">state.position++;</span><span class="s3">\n  </span><span class="s1">} else if (ch === 13) {</span><span class="s3">\n    </span><span class="s1">state.position++;</span><span class="s3">\n    </span><span class="s1">if (state.input.charCodeAt(state.position) === 10) {</span><span class="s3">\n      </span><span class="s1">state.position++;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">a line break is expected</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">state.line += 1;</span><span class="s3">\n  </span><span class="s1">state.lineStart = state.position;</span><span class="s3">\n  </span><span class="s1">state.firstTabInLine = -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(readLineBreak, </span><span class="s3">\&quot;</span><span class="s1">readLineBreak</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function skipSeparationSpace(state, allowComments, checkIndent) {</span><span class="s3">\n  </span><span class="s1">var lineBreaks = 0, ch = state.input.charCodeAt(state.position);</span><span class="s3">\n  </span><span class="s1">while (ch !== 0) {</span><span class="s3">\n    </span><span class="s1">while (is_WHITE_SPACE(ch)) {</span><span class="s3">\n      </span><span class="s1">if (ch === 9 &amp;&amp; state.firstTabInLine === -1) {</span><span class="s3">\n        </span><span class="s1">state.firstTabInLine = state.position;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (allowComments &amp;&amp; ch === 35) {</span><span class="s3">\n      </span><span class="s1">do {</span><span class="s3">\n        </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n      </span><span class="s1">} while (ch !== 10 &amp;&amp; ch !== 13 &amp;&amp; ch !== 0);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (is_EOL(ch)) {</span><span class="s3">\n      </span><span class="s1">readLineBreak(state);</span><span class="s3">\n      </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n      </span><span class="s1">lineBreaks++;</span><span class="s3">\n      </span><span class="s1">state.lineIndent = 0;</span><span class="s3">\n      </span><span class="s1">while (ch === 32) {</span><span class="s3">\n        </span><span class="s1">state.lineIndent++;</span><span class="s3">\n        </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (checkIndent !== -1 &amp;&amp; lineBreaks !== 0 &amp;&amp; state.lineIndent &lt; checkIndent) {</span><span class="s3">\n    </span><span class="s1">throwWarning(state, </span><span class="s3">\&quot;</span><span class="s1">deficient indentation</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return lineBreaks;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(skipSeparationSpace, </span><span class="s3">\&quot;</span><span class="s1">skipSeparationSpace</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function testDocumentSeparator(state) {</span><span class="s3">\n  </span><span class="s1">var _position = state.position, ch;</span><span class="s3">\n  </span><span class="s1">ch = state.input.charCodeAt(_position);</span><span class="s3">\n  </span><span class="s1">if ((ch === 45 || ch === 46) &amp;&amp; ch === state.input.charCodeAt(_position + 1) &amp;&amp; ch === state.input.charCodeAt(_position + 2)) {</span><span class="s3">\n    </span><span class="s1">_position += 3;</span><span class="s3">\n    </span><span class="s1">ch = state.input.charCodeAt(_position);</span><span class="s3">\n    </span><span class="s1">if (ch === 0 || is_WS_OR_EOL(ch)) {</span><span class="s3">\n      </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return false;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(testDocumentSeparator, </span><span class="s3">\&quot;</span><span class="s1">testDocumentSeparator</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function writeFoldedLines(state, count) {</span><span class="s3">\n  </span><span class="s1">if (count === 1) {</span><span class="s3">\n    </span><span class="s1">state.result += </span><span class="s3">\&quot; \&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else if (count &gt; 1) {</span><span class="s3">\n    </span><span class="s1">state.result += common.repeat(</span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">, count - 1);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(writeFoldedLines, </span><span class="s3">\&quot;</span><span class="s1">writeFoldedLines</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function readPlainScalar(state, nodeIndent, withinFlowCollection) {</span><span class="s3">\n  </span><span class="s1">var preceding, following, captureStart, captureEnd, hasPendingContent, _line, _lineStart, _lineIndent, _kind = state.kind, _result = state.result, ch;</span><span class="s3">\n  </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n  </span><span class="s1">if (is_WS_OR_EOL(ch) || is_FLOW_INDICATOR(ch) || ch === 35 || ch === 38 || ch === 42 || ch === 33 || ch === 124 || ch === 62 || ch === 39 || ch === 34 || ch === 37 || ch === 64 || ch === 96) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (ch === 63 || ch === 45) {</span><span class="s3">\n    </span><span class="s1">following = state.input.charCodeAt(state.position + 1);</span><span class="s3">\n    </span><span class="s1">if (is_WS_OR_EOL(following) || withinFlowCollection &amp;&amp; is_FLOW_INDICATOR(following)) {</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">state.kind = </span><span class="s3">\&quot;</span><span class="s1">scalar</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">state.result = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">captureStart = captureEnd = state.position;</span><span class="s3">\n  </span><span class="s1">hasPendingContent = false;</span><span class="s3">\n  </span><span class="s1">while (ch !== 0) {</span><span class="s3">\n    </span><span class="s1">if (ch === 58) {</span><span class="s3">\n      </span><span class="s1">following = state.input.charCodeAt(state.position + 1);</span><span class="s3">\n      </span><span class="s1">if (is_WS_OR_EOL(following) || withinFlowCollection &amp;&amp; is_FLOW_INDICATOR(following)) {</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (ch === 35) {</span><span class="s3">\n      </span><span class="s1">preceding = state.input.charCodeAt(state.position - 1);</span><span class="s3">\n      </span><span class="s1">if (is_WS_OR_EOL(preceding)) {</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (state.position === state.lineStart &amp;&amp; testDocumentSeparator(state) || withinFlowCollection &amp;&amp; is_FLOW_INDICATOR(ch)) {</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">} else if (is_EOL(ch)) {</span><span class="s3">\n      </span><span class="s1">_line = state.line;</span><span class="s3">\n      </span><span class="s1">_lineStart = state.lineStart;</span><span class="s3">\n      </span><span class="s1">_lineIndent = state.lineIndent;</span><span class="s3">\n      </span><span class="s1">skipSeparationSpace(state, false, -1);</span><span class="s3">\n      </span><span class="s1">if (state.lineIndent &gt;= nodeIndent) {</span><span class="s3">\n        </span><span class="s1">hasPendingContent = true;</span><span class="s3">\n        </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n        </span><span class="s1">continue;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">state.position = captureEnd;</span><span class="s3">\n        </span><span class="s1">state.line = _line;</span><span class="s3">\n        </span><span class="s1">state.lineStart = _lineStart;</span><span class="s3">\n        </span><span class="s1">state.lineIndent = _lineIndent;</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (hasPendingContent) {</span><span class="s3">\n      </span><span class="s1">captureSegment(state, captureStart, captureEnd, false);</span><span class="s3">\n      </span><span class="s1">writeFoldedLines(state, state.line - _line);</span><span class="s3">\n      </span><span class="s1">captureStart = captureEnd = state.position;</span><span class="s3">\n      </span><span class="s1">hasPendingContent = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!is_WHITE_SPACE(ch)) {</span><span class="s3">\n      </span><span class="s1">captureEnd = state.position + 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">captureSegment(state, captureStart, captureEnd, false);</span><span class="s3">\n  </span><span class="s1">if (state.result) {</span><span class="s3">\n    </span><span class="s1">return true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">state.kind = _kind;</span><span class="s3">\n  </span><span class="s1">state.result = _result;</span><span class="s3">\n  </span><span class="s1">return false;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(readPlainScalar, </span><span class="s3">\&quot;</span><span class="s1">readPlainScalar</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function readSingleQuotedScalar(state, nodeIndent) {</span><span class="s3">\n  </span><span class="s1">var ch, captureStart, captureEnd;</span><span class="s3">\n  </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n  </span><span class="s1">if (ch !== 39) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">state.kind = </span><span class="s3">\&quot;</span><span class="s1">scalar</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">state.result = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">state.position++;</span><span class="s3">\n  </span><span class="s1">captureStart = captureEnd = state.position;</span><span class="s3">\n  </span><span class="s1">while ((ch = state.input.charCodeAt(state.position)) !== 0) {</span><span class="s3">\n    </span><span class="s1">if (ch === 39) {</span><span class="s3">\n      </span><span class="s1">captureSegment(state, captureStart, state.position, true);</span><span class="s3">\n      </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n      </span><span class="s1">if (ch === 39) {</span><span class="s3">\n        </span><span class="s1">captureStart = state.position;</span><span class="s3">\n        </span><span class="s1">state.position++;</span><span class="s3">\n        </span><span class="s1">captureEnd = state.position;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (is_EOL(ch)) {</span><span class="s3">\n      </span><span class="s1">captureSegment(state, captureStart, captureEnd, true);</span><span class="s3">\n      </span><span class="s1">writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));</span><span class="s3">\n      </span><span class="s1">captureStart = captureEnd = state.position;</span><span class="s3">\n    </span><span class="s1">} else if (state.position === state.lineStart &amp;&amp; testDocumentSeparator(state)) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">unexpected end of the document within a single quoted scalar</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">state.position++;</span><span class="s3">\n      </span><span class="s1">captureEnd = state.position;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">unexpected end of the stream within a single quoted scalar</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(readSingleQuotedScalar, </span><span class="s3">\&quot;</span><span class="s1">readSingleQuotedScalar</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function readDoubleQuotedScalar(state, nodeIndent) {</span><span class="s3">\n  </span><span class="s1">var captureStart, captureEnd, hexLength, hexResult, tmp, ch;</span><span class="s3">\n  </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n  </span><span class="s1">if (ch !== 34) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">state.kind = </span><span class="s3">\&quot;</span><span class="s1">scalar</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">state.result = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">state.position++;</span><span class="s3">\n  </span><span class="s1">captureStart = captureEnd = state.position;</span><span class="s3">\n  </span><span class="s1">while ((ch = state.input.charCodeAt(state.position)) !== 0) {</span><span class="s3">\n    </span><span class="s1">if (ch === 34) {</span><span class="s3">\n      </span><span class="s1">captureSegment(state, captureStart, state.position, true);</span><span class="s3">\n      </span><span class="s1">state.position++;</span><span class="s3">\n      </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">} else if (ch === 92) {</span><span class="s3">\n      </span><span class="s1">captureSegment(state, captureStart, state.position, true);</span><span class="s3">\n      </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n      </span><span class="s1">if (is_EOL(ch)) {</span><span class="s3">\n        </span><span class="s1">skipSeparationSpace(state, false, nodeIndent);</span><span class="s3">\n      </span><span class="s1">} else if (ch &lt; 256 &amp;&amp; simpleEscapeCheck[ch]) {</span><span class="s3">\n        </span><span class="s1">state.result += simpleEscapeMap[ch];</span><span class="s3">\n        </span><span class="s1">state.position++;</span><span class="s3">\n      </span><span class="s1">} else if ((tmp = escapedHexLen(ch)) &gt; 0) {</span><span class="s3">\n        </span><span class="s1">hexLength = tmp;</span><span class="s3">\n        </span><span class="s1">hexResult = 0;</span><span class="s3">\n        </span><span class="s1">for (; hexLength &gt; 0; hexLength--) {</span><span class="s3">\n          </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n          </span><span class="s1">if ((tmp = fromHexCode(ch)) &gt;= 0) {</span><span class="s3">\n            </span><span class="s1">hexResult = (hexResult &lt;&lt; 4) + tmp;</span><span class="s3">\n          </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">expected hexadecimal character</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">state.result += charFromCodepoint(hexResult);</span><span class="s3">\n        </span><span class="s1">state.position++;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">unknown escape sequence</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">captureStart = captureEnd = state.position;</span><span class="s3">\n    </span><span class="s1">} else if (is_EOL(ch)) {</span><span class="s3">\n      </span><span class="s1">captureSegment(state, captureStart, captureEnd, true);</span><span class="s3">\n      </span><span class="s1">writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));</span><span class="s3">\n      </span><span class="s1">captureStart = captureEnd = state.position;</span><span class="s3">\n    </span><span class="s1">} else if (state.position === state.lineStart &amp;&amp; testDocumentSeparator(state)) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">unexpected end of the document within a double quoted scalar</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">state.position++;</span><span class="s3">\n      </span><span class="s1">captureEnd = state.position;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">unexpected end of the stream within a double quoted scalar</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(readDoubleQuotedScalar, </span><span class="s3">\&quot;</span><span class="s1">readDoubleQuotedScalar</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function readFlowCollection(state, nodeIndent) {</span><span class="s3">\n  </span><span class="s1">var readNext = true, _line, _lineStart, _pos, _tag = state.tag, _result, _anchor = state.anchor, following, terminator, isPair, isExplicitPair, isMapping, overridableKeys = /* @__PURE__ */ Object.create(null), keyNode, keyTag, valueNode, ch;</span><span class="s3">\n  </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n  </span><span class="s1">if (ch === 91) {</span><span class="s3">\n    </span><span class="s1">terminator = 93;</span><span class="s3">\n    </span><span class="s1">isMapping = false;</span><span class="s3">\n    </span><span class="s1">_result = [];</span><span class="s3">\n  </span><span class="s1">} else if (ch === 123) {</span><span class="s3">\n    </span><span class="s1">terminator = 125;</span><span class="s3">\n    </span><span class="s1">isMapping = true;</span><span class="s3">\n    </span><span class="s1">_result = {};</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (state.anchor !== null) {</span><span class="s3">\n    </span><span class="s1">state.anchorMap[state.anchor] = _result;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n  </span><span class="s1">while (ch !== 0) {</span><span class="s3">\n    </span><span class="s1">skipSeparationSpace(state, true, nodeIndent);</span><span class="s3">\n    </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n    </span><span class="s1">if (ch === terminator) {</span><span class="s3">\n      </span><span class="s1">state.position++;</span><span class="s3">\n      </span><span class="s1">state.tag = _tag;</span><span class="s3">\n      </span><span class="s1">state.anchor = _anchor;</span><span class="s3">\n      </span><span class="s1">state.kind = isMapping ? </span><span class="s3">\&quot;</span><span class="s1">mapping</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">sequence</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">state.result = _result;</span><span class="s3">\n      </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">} else if (!readNext) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">missed comma between flow collection entries</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} else if (ch === 44) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">expected the node content, but found ','</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">keyTag = keyNode = valueNode = null;</span><span class="s3">\n    </span><span class="s1">isPair = isExplicitPair = false;</span><span class="s3">\n    </span><span class="s1">if (ch === 63) {</span><span class="s3">\n      </span><span class="s1">following = state.input.charCodeAt(state.position + 1);</span><span class="s3">\n      </span><span class="s1">if (is_WS_OR_EOL(following)) {</span><span class="s3">\n        </span><span class="s1">isPair = isExplicitPair = true;</span><span class="s3">\n        </span><span class="s1">state.position++;</span><span class="s3">\n        </span><span class="s1">skipSeparationSpace(state, true, nodeIndent);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">_line = state.line;</span><span class="s3">\n    </span><span class="s1">_lineStart = state.lineStart;</span><span class="s3">\n    </span><span class="s1">_pos = state.position;</span><span class="s3">\n    </span><span class="s1">composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);</span><span class="s3">\n    </span><span class="s1">keyTag = state.tag;</span><span class="s3">\n    </span><span class="s1">keyNode = state.result;</span><span class="s3">\n    </span><span class="s1">skipSeparationSpace(state, true, nodeIndent);</span><span class="s3">\n    </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n    </span><span class="s1">if ((isExplicitPair || state.line === _line) &amp;&amp; ch === 58) {</span><span class="s3">\n      </span><span class="s1">isPair = true;</span><span class="s3">\n      </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n      </span><span class="s1">skipSeparationSpace(state, true, nodeIndent);</span><span class="s3">\n      </span><span class="s1">composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);</span><span class="s3">\n      </span><span class="s1">valueNode = state.result;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (isMapping) {</span><span class="s3">\n      </span><span class="s1">storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _line, _lineStart, _pos);</span><span class="s3">\n    </span><span class="s1">} else if (isPair) {</span><span class="s3">\n      </span><span class="s1">_result.push(storeMappingPair(state, null, overridableKeys, keyTag, keyNode, valueNode, _line, _lineStart, _pos));</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">_result.push(keyNode);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">skipSeparationSpace(state, true, nodeIndent);</span><span class="s3">\n    </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n    </span><span class="s1">if (ch === 44) {</span><span class="s3">\n      </span><span class="s1">readNext = true;</span><span class="s3">\n      </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">readNext = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">unexpected end of the stream within a flow collection</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(readFlowCollection, </span><span class="s3">\&quot;</span><span class="s1">readFlowCollection</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function readBlockScalar(state, nodeIndent) {</span><span class="s3">\n  </span><span class="s1">var captureStart, folding, chomping = CHOMPING_CLIP, didReadContent = false, detectedIndent = false, textIndent = nodeIndent, emptyLines = 0, atMoreIndented = false, tmp, ch;</span><span class="s3">\n  </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n  </span><span class="s1">if (ch === 124) {</span><span class="s3">\n    </span><span class="s1">folding = false;</span><span class="s3">\n  </span><span class="s1">} else if (ch === 62) {</span><span class="s3">\n    </span><span class="s1">folding = true;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">state.kind = </span><span class="s3">\&quot;</span><span class="s1">scalar</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">state.result = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">while (ch !== 0) {</span><span class="s3">\n    </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n    </span><span class="s1">if (ch === 43 || ch === 45) {</span><span class="s3">\n      </span><span class="s1">if (CHOMPING_CLIP === chomping) {</span><span class="s3">\n        </span><span class="s1">chomping = ch === 43 ? CHOMPING_KEEP : CHOMPING_STRIP;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">repeat of a chomping mode identifier</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if ((tmp = fromDecimalCode(ch)) &gt;= 0) {</span><span class="s3">\n      </span><span class="s1">if (tmp === 0) {</span><span class="s3">\n        </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">bad explicit indentation width of a block scalar; it cannot be less than one</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">} else if (!detectedIndent) {</span><span class="s3">\n        </span><span class="s1">textIndent = nodeIndent + tmp - 1;</span><span class="s3">\n        </span><span class="s1">detectedIndent = true;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">repeat of an indentation width identifier</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (is_WHITE_SPACE(ch)) {</span><span class="s3">\n    </span><span class="s1">do {</span><span class="s3">\n      </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n    </span><span class="s1">} while (is_WHITE_SPACE(ch));</span><span class="s3">\n    </span><span class="s1">if (ch === 35) {</span><span class="s3">\n      </span><span class="s1">do {</span><span class="s3">\n        </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n      </span><span class="s1">} while (!is_EOL(ch) &amp;&amp; ch !== 0);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">while (ch !== 0) {</span><span class="s3">\n    </span><span class="s1">readLineBreak(state);</span><span class="s3">\n    </span><span class="s1">state.lineIndent = 0;</span><span class="s3">\n    </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n    </span><span class="s1">while ((!detectedIndent || state.lineIndent &lt; textIndent) &amp;&amp; ch === 32) {</span><span class="s3">\n      </span><span class="s1">state.lineIndent++;</span><span class="s3">\n      </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!detectedIndent &amp;&amp; state.lineIndent &gt; textIndent) {</span><span class="s3">\n      </span><span class="s1">textIndent = state.lineIndent;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (is_EOL(ch)) {</span><span class="s3">\n      </span><span class="s1">emptyLines++;</span><span class="s3">\n      </span><span class="s1">continue;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (state.lineIndent &lt; textIndent) {</span><span class="s3">\n      </span><span class="s1">if (chomping === CHOMPING_KEEP) {</span><span class="s3">\n        </span><span class="s1">state.result += common.repeat(</span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">, didReadContent ? 1 + emptyLines : emptyLines);</span><span class="s3">\n      </span><span class="s1">} else if (chomping === CHOMPING_CLIP) {</span><span class="s3">\n        </span><span class="s1">if (didReadContent) {</span><span class="s3">\n          </span><span class="s1">state.result += </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (folding) {</span><span class="s3">\n      </span><span class="s1">if (is_WHITE_SPACE(ch)) {</span><span class="s3">\n        </span><span class="s1">atMoreIndented = true;</span><span class="s3">\n        </span><span class="s1">state.result += common.repeat(</span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">, didReadContent ? 1 + emptyLines : emptyLines);</span><span class="s3">\n      </span><span class="s1">} else if (atMoreIndented) {</span><span class="s3">\n        </span><span class="s1">atMoreIndented = false;</span><span class="s3">\n        </span><span class="s1">state.result += common.repeat(</span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">, emptyLines + 1);</span><span class="s3">\n      </span><span class="s1">} else if (emptyLines === 0) {</span><span class="s3">\n        </span><span class="s1">if (didReadContent) {</span><span class="s3">\n          </span><span class="s1">state.result += </span><span class="s3">\&quot; \&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">state.result += common.repeat(</span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">, emptyLines);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">state.result += common.repeat(</span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">, didReadContent ? 1 + emptyLines : emptyLines);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">didReadContent = true;</span><span class="s3">\n    </span><span class="s1">detectedIndent = true;</span><span class="s3">\n    </span><span class="s1">emptyLines = 0;</span><span class="s3">\n    </span><span class="s1">captureStart = state.position;</span><span class="s3">\n    </span><span class="s1">while (!is_EOL(ch) &amp;&amp; ch !== 0) {</span><span class="s3">\n      </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">captureSegment(state, captureStart, state.position, false);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return true;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(readBlockScalar, </span><span class="s3">\&quot;</span><span class="s1">readBlockScalar</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function readBlockSequence(state, nodeIndent) {</span><span class="s3">\n  </span><span class="s1">var _line, _tag = state.tag, _anchor = state.anchor, _result = [], following, detected = false, ch;</span><span class="s3">\n  </span><span class="s1">if (state.firstTabInLine !== -1) return false;</span><span class="s3">\n  </span><span class="s1">if (state.anchor !== null) {</span><span class="s3">\n    </span><span class="s1">state.anchorMap[state.anchor] = _result;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n  </span><span class="s1">while (ch !== 0) {</span><span class="s3">\n    </span><span class="s1">if (state.firstTabInLine !== -1) {</span><span class="s3">\n      </span><span class="s1">state.position = state.firstTabInLine;</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">tab characters must not be used in indentation</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (ch !== 45) {</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">following = state.input.charCodeAt(state.position + 1);</span><span class="s3">\n    </span><span class="s1">if (!is_WS_OR_EOL(following)) {</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">detected = true;</span><span class="s3">\n    </span><span class="s1">state.position++;</span><span class="s3">\n    </span><span class="s1">if (skipSeparationSpace(state, true, -1)) {</span><span class="s3">\n      </span><span class="s1">if (state.lineIndent &lt;= nodeIndent) {</span><span class="s3">\n        </span><span class="s1">_result.push(null);</span><span class="s3">\n        </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n        </span><span class="s1">continue;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">_line = state.line;</span><span class="s3">\n    </span><span class="s1">composeNode(state, nodeIndent, CONTEXT_BLOCK_IN, false, true);</span><span class="s3">\n    </span><span class="s1">_result.push(state.result);</span><span class="s3">\n    </span><span class="s1">skipSeparationSpace(state, true, -1);</span><span class="s3">\n    </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n    </span><span class="s1">if ((state.line === _line || state.lineIndent &gt; nodeIndent) &amp;&amp; ch !== 0) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">bad indentation of a sequence entry</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} else if (state.lineIndent &lt; nodeIndent) {</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (detected) {</span><span class="s3">\n    </span><span class="s1">state.tag = _tag;</span><span class="s3">\n    </span><span class="s1">state.anchor = _anchor;</span><span class="s3">\n    </span><span class="s1">state.kind = </span><span class="s3">\&quot;</span><span class="s1">sequence</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">state.result = _result;</span><span class="s3">\n    </span><span class="s1">return true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return false;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(readBlockSequence, </span><span class="s3">\&quot;</span><span class="s1">readBlockSequence</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function readBlockMapping(state, nodeIndent, flowIndent) {</span><span class="s3">\n  </span><span class="s1">var following, allowCompact, _line, _keyLine, _keyLineStart, _keyPos, _tag = state.tag, _anchor = state.anchor, _result = {}, overridableKeys = /* @__PURE__ */ Object.create(null), keyTag = null, keyNode = null, valueNode = null, atExplicitKey = false, detected = false, ch;</span><span class="s3">\n  </span><span class="s1">if (state.firstTabInLine !== -1) return false;</span><span class="s3">\n  </span><span class="s1">if (state.anchor !== null) {</span><span class="s3">\n    </span><span class="s1">state.anchorMap[state.anchor] = _result;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n  </span><span class="s1">while (ch !== 0) {</span><span class="s3">\n    </span><span class="s1">if (!atExplicitKey &amp;&amp; state.firstTabInLine !== -1) {</span><span class="s3">\n      </span><span class="s1">state.position = state.firstTabInLine;</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">tab characters must not be used in indentation</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">following = state.input.charCodeAt(state.position + 1);</span><span class="s3">\n    </span><span class="s1">_line = state.line;</span><span class="s3">\n    </span><span class="s1">if ((ch === 63 || ch === 58) &amp;&amp; is_WS_OR_EOL(following)) {</span><span class="s3">\n      </span><span class="s1">if (ch === 63) {</span><span class="s3">\n        </span><span class="s1">if (atExplicitKey) {</span><span class="s3">\n          </span><span class="s1">storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);</span><span class="s3">\n          </span><span class="s1">keyTag = keyNode = valueNode = null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">detected = true;</span><span class="s3">\n        </span><span class="s1">atExplicitKey = true;</span><span class="s3">\n        </span><span class="s1">allowCompact = true;</span><span class="s3">\n      </span><span class="s1">} else if (atExplicitKey) {</span><span class="s3">\n        </span><span class="s1">atExplicitKey = false;</span><span class="s3">\n        </span><span class="s1">allowCompact = true;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">state.position += 1;</span><span class="s3">\n      </span><span class="s1">ch = following;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">_keyLine = state.line;</span><span class="s3">\n      </span><span class="s1">_keyLineStart = state.lineStart;</span><span class="s3">\n      </span><span class="s1">_keyPos = state.position;</span><span class="s3">\n      </span><span class="s1">if (!composeNode(state, flowIndent, CONTEXT_FLOW_OUT, false, true)) {</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (state.line === _line) {</span><span class="s3">\n        </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n        </span><span class="s1">while (is_WHITE_SPACE(ch)) {</span><span class="s3">\n          </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (ch === 58) {</span><span class="s3">\n          </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n          </span><span class="s1">if (!is_WS_OR_EOL(ch)) {</span><span class="s3">\n            </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">a whitespace character is expected after the key-value separator within a block mapping</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">if (atExplicitKey) {</span><span class="s3">\n            </span><span class="s1">storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);</span><span class="s3">\n            </span><span class="s1">keyTag = keyNode = valueNode = null;</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">detected = true;</span><span class="s3">\n          </span><span class="s1">atExplicitKey = false;</span><span class="s3">\n          </span><span class="s1">allowCompact = false;</span><span class="s3">\n          </span><span class="s1">keyTag = state.tag;</span><span class="s3">\n          </span><span class="s1">keyNode = state.result;</span><span class="s3">\n        </span><span class="s1">} else if (detected) {</span><span class="s3">\n          </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">can not read an implicit mapping pair; a colon is missed</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">state.tag = _tag;</span><span class="s3">\n          </span><span class="s1">state.anchor = _anchor;</span><span class="s3">\n          </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} else if (detected) {</span><span class="s3">\n        </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">can not read a block mapping entry; a multiline key may not be an implicit key</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">state.tag = _tag;</span><span class="s3">\n        </span><span class="s1">state.anchor = _anchor;</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (state.line === _line || state.lineIndent &gt; nodeIndent) {</span><span class="s3">\n      </span><span class="s1">if (atExplicitKey) {</span><span class="s3">\n        </span><span class="s1">_keyLine = state.line;</span><span class="s3">\n        </span><span class="s1">_keyLineStart = state.lineStart;</span><span class="s3">\n        </span><span class="s1">_keyPos = state.position;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (composeNode(state, nodeIndent, CONTEXT_BLOCK_OUT, true, allowCompact)) {</span><span class="s3">\n        </span><span class="s1">if (atExplicitKey) {</span><span class="s3">\n          </span><span class="s1">keyNode = state.result;</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">valueNode = state.result;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (!atExplicitKey) {</span><span class="s3">\n        </span><span class="s1">storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _keyLine, _keyLineStart, _keyPos);</span><span class="s3">\n        </span><span class="s1">keyTag = keyNode = valueNode = null;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">skipSeparationSpace(state, true, -1);</span><span class="s3">\n      </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if ((state.line === _line || state.lineIndent &gt; nodeIndent) &amp;&amp; ch !== 0) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">bad indentation of a mapping entry</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} else if (state.lineIndent &lt; nodeIndent) {</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (atExplicitKey) {</span><span class="s3">\n    </span><span class="s1">storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (detected) {</span><span class="s3">\n    </span><span class="s1">state.tag = _tag;</span><span class="s3">\n    </span><span class="s1">state.anchor = _anchor;</span><span class="s3">\n    </span><span class="s1">state.kind = </span><span class="s3">\&quot;</span><span class="s1">mapping</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">state.result = _result;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return detected;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(readBlockMapping, </span><span class="s3">\&quot;</span><span class="s1">readBlockMapping</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function readTagProperty(state) {</span><span class="s3">\n  </span><span class="s1">var _position, isVerbatim = false, isNamed = false, tagHandle, tagName, ch;</span><span class="s3">\n  </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n  </span><span class="s1">if (ch !== 33) return false;</span><span class="s3">\n  </span><span class="s1">if (state.tag !== null) {</span><span class="s3">\n    </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">duplication of a tag property</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n  </span><span class="s1">if (ch === 60) {</span><span class="s3">\n    </span><span class="s1">isVerbatim = true;</span><span class="s3">\n    </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n  </span><span class="s1">} else if (ch === 33) {</span><span class="s3">\n    </span><span class="s1">isNamed = true;</span><span class="s3">\n    </span><span class="s1">tagHandle = </span><span class="s3">\&quot;</span><span class="s1">!!</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">tagHandle = </span><span class="s3">\&quot;</span><span class="s1">!</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">_position = state.position;</span><span class="s3">\n  </span><span class="s1">if (isVerbatim) {</span><span class="s3">\n    </span><span class="s1">do {</span><span class="s3">\n      </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n    </span><span class="s1">} while (ch !== 0 &amp;&amp; ch !== 62);</span><span class="s3">\n    </span><span class="s1">if (state.position &lt; state.length) {</span><span class="s3">\n      </span><span class="s1">tagName = state.input.slice(_position, state.position);</span><span class="s3">\n      </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">unexpected end of the stream within a verbatim tag</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">while (ch !== 0 &amp;&amp; !is_WS_OR_EOL(ch)) {</span><span class="s3">\n      </span><span class="s1">if (ch === 33) {</span><span class="s3">\n        </span><span class="s1">if (!isNamed) {</span><span class="s3">\n          </span><span class="s1">tagHandle = state.input.slice(_position - 1, state.position + 1);</span><span class="s3">\n          </span><span class="s1">if (!PATTERN_TAG_HANDLE.test(tagHandle)) {</span><span class="s3">\n            </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">named tag handle cannot contain such characters</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">isNamed = true;</span><span class="s3">\n          </span><span class="s1">_position = state.position + 1;</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">tag suffix cannot contain exclamation marks</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">tagName = state.input.slice(_position, state.position);</span><span class="s3">\n    </span><span class="s1">if (PATTERN_FLOW_INDICATORS.test(tagName)) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">tag suffix cannot contain flow indicator characters</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (tagName &amp;&amp; !PATTERN_TAG_URI.test(tagName)) {</span><span class="s3">\n    </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">tag name cannot contain such characters: </span><span class="s3">\&quot; </span><span class="s1">+ tagName);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">tagName = decodeURIComponent(tagName);</span><span class="s3">\n  </span><span class="s1">} catch (err) {</span><span class="s3">\n    </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">tag name is malformed: </span><span class="s3">\&quot; </span><span class="s1">+ tagName);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (isVerbatim) {</span><span class="s3">\n    </span><span class="s1">state.tag = tagName;</span><span class="s3">\n  </span><span class="s1">} else if (_hasOwnProperty$1.call(state.tagMap, tagHandle)) {</span><span class="s3">\n    </span><span class="s1">state.tag = state.tagMap[tagHandle] + tagName;</span><span class="s3">\n  </span><span class="s1">} else if (tagHandle === </span><span class="s3">\&quot;</span><span class="s1">!</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">state.tag = </span><span class="s3">\&quot;</span><span class="s1">!</span><span class="s3">\&quot; </span><span class="s1">+ tagName;</span><span class="s3">\n  </span><span class="s1">} else if (tagHandle === </span><span class="s3">\&quot;</span><span class="s1">!!</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">state.tag = </span><span class="s3">\&quot;</span><span class="s1">tag:yaml.org,2002:</span><span class="s3">\&quot; </span><span class="s1">+ tagName;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">throwError(state, 'undeclared tag handle </span><span class="s3">\&quot;</span><span class="s1">' + tagHandle + '</span><span class="s3">\&quot;</span><span class="s1">');</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return true;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(readTagProperty, </span><span class="s3">\&quot;</span><span class="s1">readTagProperty</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function readAnchorProperty(state) {</span><span class="s3">\n  </span><span class="s1">var _position, ch;</span><span class="s3">\n  </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n  </span><span class="s1">if (ch !== 38) return false;</span><span class="s3">\n  </span><span class="s1">if (state.anchor !== null) {</span><span class="s3">\n    </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">duplication of an anchor property</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n  </span><span class="s1">_position = state.position;</span><span class="s3">\n  </span><span class="s1">while (ch !== 0 &amp;&amp; !is_WS_OR_EOL(ch) &amp;&amp; !is_FLOW_INDICATOR(ch)) {</span><span class="s3">\n    </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (state.position === _position) {</span><span class="s3">\n    </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">name of an anchor node must contain at least one character</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">state.anchor = state.input.slice(_position, state.position);</span><span class="s3">\n  </span><span class="s1">return true;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(readAnchorProperty, </span><span class="s3">\&quot;</span><span class="s1">readAnchorProperty</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function readAlias(state) {</span><span class="s3">\n  </span><span class="s1">var _position, alias, ch;</span><span class="s3">\n  </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n  </span><span class="s1">if (ch !== 42) return false;</span><span class="s3">\n  </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n  </span><span class="s1">_position = state.position;</span><span class="s3">\n  </span><span class="s1">while (ch !== 0 &amp;&amp; !is_WS_OR_EOL(ch) &amp;&amp; !is_FLOW_INDICATOR(ch)) {</span><span class="s3">\n    </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (state.position === _position) {</span><span class="s3">\n    </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">name of an alias node must contain at least one character</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">alias = state.input.slice(_position, state.position);</span><span class="s3">\n  </span><span class="s1">if (!_hasOwnProperty$1.call(state.anchorMap, alias)) {</span><span class="s3">\n    </span><span class="s1">throwError(state, 'unidentified alias </span><span class="s3">\&quot;</span><span class="s1">' + alias + '</span><span class="s3">\&quot;</span><span class="s1">');</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">state.result = state.anchorMap[alias];</span><span class="s3">\n  </span><span class="s1">skipSeparationSpace(state, true, -1);</span><span class="s3">\n  </span><span class="s1">return true;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(readAlias, </span><span class="s3">\&quot;</span><span class="s1">readAlias</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function composeNode(state, parentIndent, nodeContext, allowToSeek, allowCompact) {</span><span class="s3">\n  </span><span class="s1">var allowBlockStyles, allowBlockScalars, allowBlockCollections, indentStatus = 1, atNewLine = false, hasContent = false, typeIndex, typeQuantity, typeList, type2, flowIndent, blockIndent;</span><span class="s3">\n  </span><span class="s1">if (state.listener !== null) {</span><span class="s3">\n    </span><span class="s1">state.listener(</span><span class="s3">\&quot;</span><span class="s1">open</span><span class="s3">\&quot;</span><span class="s1">, state);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">state.tag = null;</span><span class="s3">\n  </span><span class="s1">state.anchor = null;</span><span class="s3">\n  </span><span class="s1">state.kind = null;</span><span class="s3">\n  </span><span class="s1">state.result = null;</span><span class="s3">\n  </span><span class="s1">allowBlockStyles = allowBlockScalars = allowBlockCollections = CONTEXT_BLOCK_OUT === nodeContext || CONTEXT_BLOCK_IN === nodeContext;</span><span class="s3">\n  </span><span class="s1">if (allowToSeek) {</span><span class="s3">\n    </span><span class="s1">if (skipSeparationSpace(state, true, -1)) {</span><span class="s3">\n      </span><span class="s1">atNewLine = true;</span><span class="s3">\n      </span><span class="s1">if (state.lineIndent &gt; parentIndent) {</span><span class="s3">\n        </span><span class="s1">indentStatus = 1;</span><span class="s3">\n      </span><span class="s1">} else if (state.lineIndent === parentIndent) {</span><span class="s3">\n        </span><span class="s1">indentStatus = 0;</span><span class="s3">\n      </span><span class="s1">} else if (state.lineIndent &lt; parentIndent) {</span><span class="s3">\n        </span><span class="s1">indentStatus = -1;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (indentStatus === 1) {</span><span class="s3">\n    </span><span class="s1">while (readTagProperty(state) || readAnchorProperty(state)) {</span><span class="s3">\n      </span><span class="s1">if (skipSeparationSpace(state, true, -1)) {</span><span class="s3">\n        </span><span class="s1">atNewLine = true;</span><span class="s3">\n        </span><span class="s1">allowBlockCollections = allowBlockStyles;</span><span class="s3">\n        </span><span class="s1">if (state.lineIndent &gt; parentIndent) {</span><span class="s3">\n          </span><span class="s1">indentStatus = 1;</span><span class="s3">\n        </span><span class="s1">} else if (state.lineIndent === parentIndent) {</span><span class="s3">\n          </span><span class="s1">indentStatus = 0;</span><span class="s3">\n        </span><span class="s1">} else if (state.lineIndent &lt; parentIndent) {</span><span class="s3">\n          </span><span class="s1">indentStatus = -1;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">allowBlockCollections = false;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (allowBlockCollections) {</span><span class="s3">\n    </span><span class="s1">allowBlockCollections = atNewLine || allowCompact;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (indentStatus === 1 || CONTEXT_BLOCK_OUT === nodeContext) {</span><span class="s3">\n    </span><span class="s1">if (CONTEXT_FLOW_IN === nodeContext || CONTEXT_FLOW_OUT === nodeContext) {</span><span class="s3">\n      </span><span class="s1">flowIndent = parentIndent;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">flowIndent = parentIndent + 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">blockIndent = state.position - state.lineStart;</span><span class="s3">\n    </span><span class="s1">if (indentStatus === 1) {</span><span class="s3">\n      </span><span class="s1">if (allowBlockCollections &amp;&amp; (readBlockSequence(state, blockIndent) || readBlockMapping(state, blockIndent, flowIndent)) || readFlowCollection(state, flowIndent)) {</span><span class="s3">\n        </span><span class="s1">hasContent = true;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">if (allowBlockScalars &amp;&amp; readBlockScalar(state, flowIndent) || readSingleQuotedScalar(state, flowIndent) || readDoubleQuotedScalar(state, flowIndent)) {</span><span class="s3">\n          </span><span class="s1">hasContent = true;</span><span class="s3">\n        </span><span class="s1">} else if (readAlias(state)) {</span><span class="s3">\n          </span><span class="s1">hasContent = true;</span><span class="s3">\n          </span><span class="s1">if (state.tag !== null || state.anchor !== null) {</span><span class="s3">\n            </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">alias node should not have any properties</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">} else if (readPlainScalar(state, flowIndent, CONTEXT_FLOW_IN === nodeContext)) {</span><span class="s3">\n          </span><span class="s1">hasContent = true;</span><span class="s3">\n          </span><span class="s1">if (state.tag === null) {</span><span class="s3">\n            </span><span class="s1">state.tag = </span><span class="s3">\&quot;</span><span class="s1">?</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (state.anchor !== null) {</span><span class="s3">\n          </span><span class="s1">state.anchorMap[state.anchor] = state.result;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (indentStatus === 0) {</span><span class="s3">\n      </span><span class="s1">hasContent = allowBlockCollections &amp;&amp; readBlockSequence(state, blockIndent);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (state.tag === null) {</span><span class="s3">\n    </span><span class="s1">if (state.anchor !== null) {</span><span class="s3">\n      </span><span class="s1">state.anchorMap[state.anchor] = state.result;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else if (state.tag === </span><span class="s3">\&quot;</span><span class="s1">?</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">if (state.result !== null &amp;&amp; state.kind !== </span><span class="s3">\&quot;</span><span class="s1">scalar</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">throwError(state, 'unacceptable node kind for !&lt;?&gt; tag; it should be </span><span class="s3">\&quot;</span><span class="s1">scalar</span><span class="s3">\&quot;</span><span class="s1">, not </span><span class="s3">\&quot;</span><span class="s1">' + state.kind + '</span><span class="s3">\&quot;</span><span class="s1">');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">for (typeIndex = 0, typeQuantity = state.implicitTypes.length; typeIndex &lt; typeQuantity; typeIndex += 1) {</span><span class="s3">\n      </span><span class="s1">type2 = state.implicitTypes[typeIndex];</span><span class="s3">\n      </span><span class="s1">if (type2.resolve(state.result)) {</span><span class="s3">\n        </span><span class="s1">state.result = type2.construct(state.result);</span><span class="s3">\n        </span><span class="s1">state.tag = type2.tag;</span><span class="s3">\n        </span><span class="s1">if (state.anchor !== null) {</span><span class="s3">\n          </span><span class="s1">state.anchorMap[state.anchor] = state.result;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else if (state.tag !== </span><span class="s3">\&quot;</span><span class="s1">!</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">if (_hasOwnProperty$1.call(state.typeMap[state.kind || </span><span class="s3">\&quot;</span><span class="s1">fallback</span><span class="s3">\&quot;</span><span class="s1">], state.tag)) {</span><span class="s3">\n      </span><span class="s1">type2 = state.typeMap[state.kind || </span><span class="s3">\&quot;</span><span class="s1">fallback</span><span class="s3">\&quot;</span><span class="s1">][state.tag];</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">type2 = null;</span><span class="s3">\n      </span><span class="s1">typeList = state.typeMap.multi[state.kind || </span><span class="s3">\&quot;</span><span class="s1">fallback</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n      </span><span class="s1">for (typeIndex = 0, typeQuantity = typeList.length; typeIndex &lt; typeQuantity; typeIndex += 1) {</span><span class="s3">\n        </span><span class="s1">if (state.tag.slice(0, typeList[typeIndex].tag.length) === typeList[typeIndex].tag) {</span><span class="s3">\n          </span><span class="s1">type2 = typeList[typeIndex];</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!type2) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">unknown tag !&lt;</span><span class="s3">\&quot; </span><span class="s1">+ state.tag + </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (state.result !== null &amp;&amp; type2.kind !== state.kind) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">unacceptable node kind for !&lt;</span><span class="s3">\&quot; </span><span class="s1">+ state.tag + '&gt; tag; it should be </span><span class="s3">\&quot;</span><span class="s1">' + type2.kind + '</span><span class="s3">\&quot;</span><span class="s1">, not </span><span class="s3">\&quot;</span><span class="s1">' + state.kind + '</span><span class="s3">\&quot;</span><span class="s1">');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!type2.resolve(state.result, state.tag)) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">cannot resolve a node with !&lt;</span><span class="s3">\&quot; </span><span class="s1">+ state.tag + </span><span class="s3">\&quot;</span><span class="s1">&gt; explicit tag</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">state.result = type2.construct(state.result, state.tag);</span><span class="s3">\n      </span><span class="s1">if (state.anchor !== null) {</span><span class="s3">\n        </span><span class="s1">state.anchorMap[state.anchor] = state.result;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (state.listener !== null) {</span><span class="s3">\n    </span><span class="s1">state.listener(</span><span class="s3">\&quot;</span><span class="s1">close</span><span class="s3">\&quot;</span><span class="s1">, state);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return state.tag !== null || state.anchor !== null || hasContent;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(composeNode, </span><span class="s3">\&quot;</span><span class="s1">composeNode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function readDocument(state) {</span><span class="s3">\n  </span><span class="s1">var documentStart = state.position, _position, directiveName, directiveArgs, hasDirectives = false, ch;</span><span class="s3">\n  </span><span class="s1">state.version = null;</span><span class="s3">\n  </span><span class="s1">state.checkLineBreaks = state.legacy;</span><span class="s3">\n  </span><span class="s1">state.tagMap = /* @__PURE__ */ Object.create(null);</span><span class="s3">\n  </span><span class="s1">state.anchorMap = /* @__PURE__ */ Object.create(null);</span><span class="s3">\n  </span><span class="s1">while ((ch = state.input.charCodeAt(state.position)) !== 0) {</span><span class="s3">\n    </span><span class="s1">skipSeparationSpace(state, true, -1);</span><span class="s3">\n    </span><span class="s1">ch = state.input.charCodeAt(state.position);</span><span class="s3">\n    </span><span class="s1">if (state.lineIndent &gt; 0 || ch !== 37) {</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">hasDirectives = true;</span><span class="s3">\n    </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n    </span><span class="s1">_position = state.position;</span><span class="s3">\n    </span><span class="s1">while (ch !== 0 &amp;&amp; !is_WS_OR_EOL(ch)) {</span><span class="s3">\n      </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">directiveName = state.input.slice(_position, state.position);</span><span class="s3">\n    </span><span class="s1">directiveArgs = [];</span><span class="s3">\n    </span><span class="s1">if (directiveName.length &lt; 1) {</span><span class="s3">\n      </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">directive name must not be less than one character in length</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">while (ch !== 0) {</span><span class="s3">\n      </span><span class="s1">while (is_WHITE_SPACE(ch)) {</span><span class="s3">\n        </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (ch === 35) {</span><span class="s3">\n        </span><span class="s1">do {</span><span class="s3">\n          </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n        </span><span class="s1">} while (ch !== 0 &amp;&amp; !is_EOL(ch));</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (is_EOL(ch)) break;</span><span class="s3">\n      </span><span class="s1">_position = state.position;</span><span class="s3">\n      </span><span class="s1">while (ch !== 0 &amp;&amp; !is_WS_OR_EOL(ch)) {</span><span class="s3">\n        </span><span class="s1">ch = state.input.charCodeAt(++state.position);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">directiveArgs.push(state.input.slice(_position, state.position));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (ch !== 0) readLineBreak(state);</span><span class="s3">\n    </span><span class="s1">if (_hasOwnProperty$1.call(directiveHandlers, directiveName)) {</span><span class="s3">\n      </span><span class="s1">directiveHandlers[directiveName](state, directiveName, directiveArgs);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">throwWarning(state, 'unknown document directive </span><span class="s3">\&quot;</span><span class="s1">' + directiveName + '</span><span class="s3">\&quot;</span><span class="s1">');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">skipSeparationSpace(state, true, -1);</span><span class="s3">\n  </span><span class="s1">if (state.lineIndent === 0 &amp;&amp; state.input.charCodeAt(state.position) === 45 &amp;&amp; state.input.charCodeAt(state.position + 1) === 45 &amp;&amp; state.input.charCodeAt(state.position + 2) === 45) {</span><span class="s3">\n    </span><span class="s1">state.position += 3;</span><span class="s3">\n    </span><span class="s1">skipSeparationSpace(state, true, -1);</span><span class="s3">\n  </span><span class="s1">} else if (hasDirectives) {</span><span class="s3">\n    </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">directives end mark is expected</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">composeNode(state, state.lineIndent - 1, CONTEXT_BLOCK_OUT, false, true);</span><span class="s3">\n  </span><span class="s1">skipSeparationSpace(state, true, -1);</span><span class="s3">\n  </span><span class="s1">if (state.checkLineBreaks &amp;&amp; PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart, state.position))) {</span><span class="s3">\n    </span><span class="s1">throwWarning(state, </span><span class="s3">\&quot;</span><span class="s1">non-ASCII line breaks are interpreted as content</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">state.documents.push(state.result);</span><span class="s3">\n  </span><span class="s1">if (state.position === state.lineStart &amp;&amp; testDocumentSeparator(state)) {</span><span class="s3">\n    </span><span class="s1">if (state.input.charCodeAt(state.position) === 46) {</span><span class="s3">\n      </span><span class="s1">state.position += 3;</span><span class="s3">\n      </span><span class="s1">skipSeparationSpace(state, true, -1);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (state.position &lt; state.length - 1) {</span><span class="s3">\n    </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">end of the stream or a document separator is expected</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(readDocument, </span><span class="s3">\&quot;</span><span class="s1">readDocument</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function loadDocuments(input, options) {</span><span class="s3">\n  </span><span class="s1">input = String(input);</span><span class="s3">\n  </span><span class="s1">options = options || {};</span><span class="s3">\n  </span><span class="s1">if (input.length !== 0) {</span><span class="s3">\n    </span><span class="s1">if (input.charCodeAt(input.length - 1) !== 10 &amp;&amp; input.charCodeAt(input.length - 1) !== 13) {</span><span class="s3">\n      </span><span class="s1">input += </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (input.charCodeAt(0) === 65279) {</span><span class="s3">\n      </span><span class="s1">input = input.slice(1);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">var state = new State$1(input, options);</span><span class="s3">\n  </span><span class="s1">var nullpos = input.indexOf(</span><span class="s3">\&quot;\\</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (nullpos !== -1) {</span><span class="s3">\n    </span><span class="s1">state.position = nullpos;</span><span class="s3">\n    </span><span class="s1">throwError(state, </span><span class="s3">\&quot;</span><span class="s1">null byte is not allowed in input</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">state.input += </span><span class="s3">\&quot;\\</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">while (state.input.charCodeAt(state.position) === 32) {</span><span class="s3">\n    </span><span class="s1">state.lineIndent += 1;</span><span class="s3">\n    </span><span class="s1">state.position += 1;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">while (state.position &lt; state.length - 1) {</span><span class="s3">\n    </span><span class="s1">readDocument(state);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return state.documents;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(loadDocuments, </span><span class="s3">\&quot;</span><span class="s1">loadDocuments</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function loadAll$1(input, iterator, options) {</span><span class="s3">\n  </span><span class="s1">if (iterator !== null &amp;&amp; typeof iterator === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; typeof options === </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options = iterator;</span><span class="s3">\n    </span><span class="s1">iterator = null;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">var documents = loadDocuments(input, options);</span><span class="s3">\n  </span><span class="s1">if (typeof iterator !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return documents;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">for (var index = 0, length = documents.length; index &lt; length; index += 1) {</span><span class="s3">\n    </span><span class="s1">iterator(documents[index]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(loadAll$1, </span><span class="s3">\&quot;</span><span class="s1">loadAll$1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function load$1(input, options) {</span><span class="s3">\n  </span><span class="s1">var documents = loadDocuments(input, options);</span><span class="s3">\n  </span><span class="s1">if (documents.length === 0) {</span><span class="s3">\n    </span><span class="s1">return void 0;</span><span class="s3">\n  </span><span class="s1">} else if (documents.length === 1) {</span><span class="s3">\n    </span><span class="s1">return documents[0];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">throw new exception(</span><span class="s3">\&quot;</span><span class="s1">expected a single document in the stream, but found more</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(load$1, </span><span class="s3">\&quot;</span><span class="s1">load$1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loadAll_1 = loadAll$1;</span><span class="s3">\n</span><span class="s1">var load_1 = load$1;</span><span class="s3">\n</span><span class="s1">var loader = {</span><span class="s3">\n  </span><span class="s1">loadAll: loadAll_1,</span><span class="s3">\n  </span><span class="s1">load: load_1</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var _toString = Object.prototype.toString;</span><span class="s3">\n</span><span class="s1">var _hasOwnProperty = Object.prototype.hasOwnProperty;</span><span class="s3">\n</span><span class="s1">var CHAR_BOM = 65279;</span><span class="s3">\n</span><span class="s1">var CHAR_TAB = 9;</span><span class="s3">\n</span><span class="s1">var CHAR_LINE_FEED = 10;</span><span class="s3">\n</span><span class="s1">var CHAR_CARRIAGE_RETURN = 13;</span><span class="s3">\n</span><span class="s1">var CHAR_SPACE = 32;</span><span class="s3">\n</span><span class="s1">var CHAR_EXCLAMATION = 33;</span><span class="s3">\n</span><span class="s1">var CHAR_DOUBLE_QUOTE = 34;</span><span class="s3">\n</span><span class="s1">var CHAR_SHARP = 35;</span><span class="s3">\n</span><span class="s1">var CHAR_PERCENT = 37;</span><span class="s3">\n</span><span class="s1">var CHAR_AMPERSAND = 38;</span><span class="s3">\n</span><span class="s1">var CHAR_SINGLE_QUOTE = 39;</span><span class="s3">\n</span><span class="s1">var CHAR_ASTERISK = 42;</span><span class="s3">\n</span><span class="s1">var CHAR_COMMA = 44;</span><span class="s3">\n</span><span class="s1">var CHAR_MINUS = 45;</span><span class="s3">\n</span><span class="s1">var CHAR_COLON = 58;</span><span class="s3">\n</span><span class="s1">var CHAR_EQUALS = 61;</span><span class="s3">\n</span><span class="s1">var CHAR_GREATER_THAN = 62;</span><span class="s3">\n</span><span class="s1">var CHAR_QUESTION = 63;</span><span class="s3">\n</span><span class="s1">var CHAR_COMMERCIAL_AT = 64;</span><span class="s3">\n</span><span class="s1">var CHAR_LEFT_SQUARE_BRACKET = 91;</span><span class="s3">\n</span><span class="s1">var CHAR_RIGHT_SQUARE_BRACKET = 93;</span><span class="s3">\n</span><span class="s1">var CHAR_GRAVE_ACCENT = 96;</span><span class="s3">\n</span><span class="s1">var CHAR_LEFT_CURLY_BRACKET = 123;</span><span class="s3">\n</span><span class="s1">var CHAR_VERTICAL_LINE = 124;</span><span class="s3">\n</span><span class="s1">var CHAR_RIGHT_CURLY_BRACKET = 125;</span><span class="s3">\n</span><span class="s1">var ESCAPE_SEQUENCES = {};</span><span class="s3">\n</span><span class="s1">ESCAPE_SEQUENCES[0] = </span><span class="s3">\&quot;\\\\</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">ESCAPE_SEQUENCES[7] = </span><span class="s3">\&quot;\\\\</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">ESCAPE_SEQUENCES[8] = </span><span class="s3">\&quot;\\\\</span><span class="s1">b</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">ESCAPE_SEQUENCES[9] = </span><span class="s3">\&quot;\\\\</span><span class="s1">t</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">ESCAPE_SEQUENCES[10] = </span><span class="s3">\&quot;\\\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">ESCAPE_SEQUENCES[11] = </span><span class="s3">\&quot;\\\\</span><span class="s1">v</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">ESCAPE_SEQUENCES[12] = </span><span class="s3">\&quot;\\\\</span><span class="s1">f</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">ESCAPE_SEQUENCES[13] = </span><span class="s3">\&quot;\\\\</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">ESCAPE_SEQUENCES[27] = </span><span class="s3">\&quot;\\\\</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">ESCAPE_SEQUENCES[34] = '</span><span class="s3">\\\\\&quot;</span><span class="s1">';</span><span class="s3">\n</span><span class="s1">ESCAPE_SEQUENCES[92] = </span><span class="s3">\&quot;\\\\\\\\\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">ESCAPE_SEQUENCES[133] = </span><span class="s3">\&quot;\\\\</span><span class="s1">N</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">ESCAPE_SEQUENCES[160] = </span><span class="s3">\&quot;\\\\</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">ESCAPE_SEQUENCES[8232] = </span><span class="s3">\&quot;\\\\</span><span class="s1">L</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">ESCAPE_SEQUENCES[8233] = </span><span class="s3">\&quot;\\\\</span><span class="s1">P</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var DEPRECATED_BOOLEANS_SYNTAX = [</span><span class="s3">\n  \&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">Y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">yes</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">Yes</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">YES</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">on</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">On</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">ON</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">N</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">no</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">No</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">NO</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">off</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">Off</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">OFF</span><span class="s3">\&quot;\n</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">var DEPRECATED_BASE60_SYNTAX = /^[-+]?[0-9_]+(?::[0-9_]+)+(?:</span><span class="s3">\\</span><span class="s1">.[0-9_]*)?$/;</span><span class="s3">\n</span><span class="s1">function compileStyleMap(schema2, map2) {</span><span class="s3">\n  </span><span class="s1">var result, keys, index, length, tag, style, type2;</span><span class="s3">\n  </span><span class="s1">if (map2 === null) return {};</span><span class="s3">\n  </span><span class="s1">result = {};</span><span class="s3">\n  </span><span class="s1">keys = Object.keys(map2);</span><span class="s3">\n  </span><span class="s1">for (index = 0, length = keys.length; index &lt; length; index += 1) {</span><span class="s3">\n    </span><span class="s1">tag = keys[index];</span><span class="s3">\n    </span><span class="s1">style = String(map2[tag]);</span><span class="s3">\n    </span><span class="s1">if (tag.slice(0, 2) === </span><span class="s3">\&quot;</span><span class="s1">!!</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">tag = </span><span class="s3">\&quot;</span><span class="s1">tag:yaml.org,2002:</span><span class="s3">\&quot; </span><span class="s1">+ tag.slice(2);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">type2 = schema2.compiledTypeMap[</span><span class="s3">\&quot;</span><span class="s1">fallback</span><span class="s3">\&quot;</span><span class="s1">][tag];</span><span class="s3">\n    </span><span class="s1">if (type2 &amp;&amp; _hasOwnProperty.call(type2.styleAliases, style)) {</span><span class="s3">\n      </span><span class="s1">style = type2.styleAliases[style];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">result[tag] = style;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(compileStyleMap, </span><span class="s3">\&quot;</span><span class="s1">compileStyleMap</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function encodeHex(character) {</span><span class="s3">\n  </span><span class="s1">var string, handle, length;</span><span class="s3">\n  </span><span class="s1">string = character.toString(16).toUpperCase();</span><span class="s3">\n  </span><span class="s1">if (character &lt;= 255) {</span><span class="s3">\n    </span><span class="s1">handle = </span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">length = 2;</span><span class="s3">\n  </span><span class="s1">} else if (character &lt;= 65535) {</span><span class="s3">\n    </span><span class="s1">handle = </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">length = 4;</span><span class="s3">\n  </span><span class="s1">} else if (character &lt;= 4294967295) {</span><span class="s3">\n    </span><span class="s1">handle = </span><span class="s3">\&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">length = 8;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">throw new exception(</span><span class="s3">\&quot;</span><span class="s1">code point within a string may not be greater than 0xFFFFFFFF</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return </span><span class="s3">\&quot;\\\\\&quot; </span><span class="s1">+ handle + common.repeat(</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">, length - string.length) + string;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(encodeHex, </span><span class="s3">\&quot;</span><span class="s1">encodeHex</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var QUOTING_TYPE_SINGLE = 1;</span><span class="s3">\n</span><span class="s1">var QUOTING_TYPE_DOUBLE = 2;</span><span class="s3">\n</span><span class="s1">function State(options) {</span><span class="s3">\n  </span><span class="s1">this.schema = options[</span><span class="s3">\&quot;</span><span class="s1">schema</span><span class="s3">\&quot;</span><span class="s1">] || _default;</span><span class="s3">\n  </span><span class="s1">this.indent = Math.max(1, options[</span><span class="s3">\&quot;</span><span class="s1">indent</span><span class="s3">\&quot;</span><span class="s1">] || 2);</span><span class="s3">\n  </span><span class="s1">this.noArrayIndent = options[</span><span class="s3">\&quot;</span><span class="s1">noArrayIndent</span><span class="s3">\&quot;</span><span class="s1">] || false;</span><span class="s3">\n  </span><span class="s1">this.skipInvalid = options[</span><span class="s3">\&quot;</span><span class="s1">skipInvalid</span><span class="s3">\&quot;</span><span class="s1">] || false;</span><span class="s3">\n  </span><span class="s1">this.flowLevel = common.isNothing(options[</span><span class="s3">\&quot;</span><span class="s1">flowLevel</span><span class="s3">\&quot;</span><span class="s1">]) ? -1 : options[</span><span class="s3">\&quot;</span><span class="s1">flowLevel</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">this.styleMap = compileStyleMap(this.schema, options[</span><span class="s3">\&quot;</span><span class="s1">styles</span><span class="s3">\&quot;</span><span class="s1">] || null);</span><span class="s3">\n  </span><span class="s1">this.sortKeys = options[</span><span class="s3">\&quot;</span><span class="s1">sortKeys</span><span class="s3">\&quot;</span><span class="s1">] || false;</span><span class="s3">\n  </span><span class="s1">this.lineWidth = options[</span><span class="s3">\&quot;</span><span class="s1">lineWidth</span><span class="s3">\&quot;</span><span class="s1">] || 80;</span><span class="s3">\n  </span><span class="s1">this.noRefs = options[</span><span class="s3">\&quot;</span><span class="s1">noRefs</span><span class="s3">\&quot;</span><span class="s1">] || false;</span><span class="s3">\n  </span><span class="s1">this.noCompatMode = options[</span><span class="s3">\&quot;</span><span class="s1">noCompatMode</span><span class="s3">\&quot;</span><span class="s1">] || false;</span><span class="s3">\n  </span><span class="s1">this.condenseFlow = options[</span><span class="s3">\&quot;</span><span class="s1">condenseFlow</span><span class="s3">\&quot;</span><span class="s1">] || false;</span><span class="s3">\n  </span><span class="s1">this.quotingType = options[</span><span class="s3">\&quot;</span><span class="s1">quotingType</span><span class="s3">\&quot;</span><span class="s1">] === '</span><span class="s3">\&quot;</span><span class="s1">' ? QUOTING_TYPE_DOUBLE : QUOTING_TYPE_SINGLE;</span><span class="s3">\n  </span><span class="s1">this.forceQuotes = options[</span><span class="s3">\&quot;</span><span class="s1">forceQuotes</span><span class="s3">\&quot;</span><span class="s1">] || false;</span><span class="s3">\n  </span><span class="s1">this.replacer = typeof options[</span><span class="s3">\&quot;</span><span class="s1">replacer</span><span class="s3">\&quot;</span><span class="s1">] === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? options[</span><span class="s3">\&quot;</span><span class="s1">replacer</span><span class="s3">\&quot;</span><span class="s1">] : null;</span><span class="s3">\n  </span><span class="s1">this.implicitTypes = this.schema.compiledImplicit;</span><span class="s3">\n  </span><span class="s1">this.explicitTypes = this.schema.compiledExplicit;</span><span class="s3">\n  </span><span class="s1">this.tag = null;</span><span class="s3">\n  </span><span class="s1">this.result = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">this.duplicates = [];</span><span class="s3">\n  </span><span class="s1">this.usedDuplicates = null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(State, </span><span class="s3">\&quot;</span><span class="s1">State</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function indentString(string, spaces) {</span><span class="s3">\n  </span><span class="s1">var ind = common.repeat(</span><span class="s3">\&quot; \&quot;</span><span class="s1">, spaces), position = 0, next = -1, result = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, line, length = string.length;</span><span class="s3">\n  </span><span class="s1">while (position &lt; length) {</span><span class="s3">\n    </span><span class="s1">next = string.indexOf(</span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">, position);</span><span class="s3">\n    </span><span class="s1">if (next === -1) {</span><span class="s3">\n      </span><span class="s1">line = string.slice(position);</span><span class="s3">\n      </span><span class="s1">position = length;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">line = string.slice(position, next + 1);</span><span class="s3">\n      </span><span class="s1">position = next + 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (line.length &amp;&amp; line !== </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">) result += ind;</span><span class="s3">\n    </span><span class="s1">result += line;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(indentString, </span><span class="s3">\&quot;</span><span class="s1">indentString</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function generateNextLine(state, level) {</span><span class="s3">\n  </span><span class="s1">return </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot; </span><span class="s1">+ common.repeat(</span><span class="s3">\&quot; \&quot;</span><span class="s1">, state.indent * level);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(generateNextLine, </span><span class="s3">\&quot;</span><span class="s1">generateNextLine</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function testImplicitResolving(state, str2) {</span><span class="s3">\n  </span><span class="s1">var index, length, type2;</span><span class="s3">\n  </span><span class="s1">for (index = 0, length = state.implicitTypes.length; index &lt; length; index += 1) {</span><span class="s3">\n    </span><span class="s1">type2 = state.implicitTypes[index];</span><span class="s3">\n    </span><span class="s1">if (type2.resolve(str2)) {</span><span class="s3">\n      </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return false;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(testImplicitResolving, </span><span class="s3">\&quot;</span><span class="s1">testImplicitResolving</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function isWhitespace(c) {</span><span class="s3">\n  </span><span class="s1">return c === CHAR_SPACE || c === CHAR_TAB;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(isWhitespace, </span><span class="s3">\&quot;</span><span class="s1">isWhitespace</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function isPrintable(c) {</span><span class="s3">\n  </span><span class="s1">return 32 &lt;= c &amp;&amp; c &lt;= 126 || 161 &lt;= c &amp;&amp; c &lt;= 55295 &amp;&amp; c !== 8232 &amp;&amp; c !== 8233 || 57344 &lt;= c &amp;&amp; c &lt;= 65533 &amp;&amp; c !== CHAR_BOM || 65536 &lt;= c &amp;&amp; c &lt;= 1114111;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(isPrintable, </span><span class="s3">\&quot;</span><span class="s1">isPrintable</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function isNsCharOrWhitespace(c) {</span><span class="s3">\n  </span><span class="s1">return isPrintable(c) &amp;&amp; c !== CHAR_BOM &amp;&amp; c !== CHAR_CARRIAGE_RETURN &amp;&amp; c !== CHAR_LINE_FEED;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(isNsCharOrWhitespace, </span><span class="s3">\&quot;</span><span class="s1">isNsCharOrWhitespace</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function isPlainSafe(c, prev, inblock) {</span><span class="s3">\n  </span><span class="s1">var cIsNsCharOrWhitespace = isNsCharOrWhitespace(c);</span><span class="s3">\n  </span><span class="s1">var cIsNsChar = cIsNsCharOrWhitespace &amp;&amp; !isWhitespace(c);</span><span class="s3">\n  </span><span class="s1">return (</span><span class="s3">\n    </span><span class="s1">// ns-plain-safe</span><span class="s3">\n    </span><span class="s1">(inblock ? (</span><span class="s3">\n      </span><span class="s1">// c = flow-in</span><span class="s3">\n      </span><span class="s1">cIsNsCharOrWhitespace</span><span class="s3">\n    </span><span class="s1">) : cIsNsCharOrWhitespace &amp;&amp; c !== CHAR_COMMA &amp;&amp; c !== CHAR_LEFT_SQUARE_BRACKET &amp;&amp; c !== CHAR_RIGHT_SQUARE_BRACKET &amp;&amp; c !== CHAR_LEFT_CURLY_BRACKET &amp;&amp; c !== CHAR_RIGHT_CURLY_BRACKET) &amp;&amp; c !== CHAR_SHARP &amp;&amp; !(prev === CHAR_COLON &amp;&amp; !cIsNsChar) || isNsCharOrWhitespace(prev) &amp;&amp; !isWhitespace(prev) &amp;&amp; c === CHAR_SHARP || prev === CHAR_COLON &amp;&amp; cIsNsChar</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(isPlainSafe, </span><span class="s3">\&quot;</span><span class="s1">isPlainSafe</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function isPlainSafeFirst(c) {</span><span class="s3">\n  </span><span class="s1">return isPrintable(c) &amp;&amp; c !== CHAR_BOM &amp;&amp; !isWhitespace(c) &amp;&amp; c !== CHAR_MINUS &amp;&amp; c !== CHAR_QUESTION &amp;&amp; c !== CHAR_COLON &amp;&amp; c !== CHAR_COMMA &amp;&amp; c !== CHAR_LEFT_SQUARE_BRACKET &amp;&amp; c !== CHAR_RIGHT_SQUARE_BRACKET &amp;&amp; c !== CHAR_LEFT_CURLY_BRACKET &amp;&amp; c !== CHAR_RIGHT_CURLY_BRACKET &amp;&amp; c !== CHAR_SHARP &amp;&amp; c !== CHAR_AMPERSAND &amp;&amp; c !== CHAR_ASTERISK &amp;&amp; c !== CHAR_EXCLAMATION &amp;&amp; c !== CHAR_VERTICAL_LINE &amp;&amp; c !== CHAR_EQUALS &amp;&amp; c !== CHAR_GREATER_THAN &amp;&amp; c !== CHAR_SINGLE_QUOTE &amp;&amp; c !== CHAR_DOUBLE_QUOTE &amp;&amp; c !== CHAR_PERCENT &amp;&amp; c !== CHAR_COMMERCIAL_AT &amp;&amp; c !== CHAR_GRAVE_ACCENT;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(isPlainSafeFirst, </span><span class="s3">\&quot;</span><span class="s1">isPlainSafeFirst</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function isPlainSafeLast(c) {</span><span class="s3">\n  </span><span class="s1">return !isWhitespace(c) &amp;&amp; c !== CHAR_COLON;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(isPlainSafeLast, </span><span class="s3">\&quot;</span><span class="s1">isPlainSafeLast</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function codePointAt(string, pos) {</span><span class="s3">\n  </span><span class="s1">var first = string.charCodeAt(pos), second;</span><span class="s3">\n  </span><span class="s1">if (first &gt;= 55296 &amp;&amp; first &lt;= 56319 &amp;&amp; pos + 1 &lt; string.length) {</span><span class="s3">\n    </span><span class="s1">second = string.charCodeAt(pos + 1);</span><span class="s3">\n    </span><span class="s1">if (second &gt;= 56320 &amp;&amp; second &lt;= 57343) {</span><span class="s3">\n      </span><span class="s1">return (first - 55296) * 1024 + second - 56320 + 65536;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return first;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(codePointAt, </span><span class="s3">\&quot;</span><span class="s1">codePointAt</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function needIndentIndicator(string) {</span><span class="s3">\n  </span><span class="s1">var leadingSpaceRe = /^</span><span class="s3">\\</span><span class="s1">n* /;</span><span class="s3">\n  </span><span class="s1">return leadingSpaceRe.test(string);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(needIndentIndicator, </span><span class="s3">\&quot;</span><span class="s1">needIndentIndicator</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var STYLE_PLAIN = 1;</span><span class="s3">\n</span><span class="s1">var STYLE_SINGLE = 2;</span><span class="s3">\n</span><span class="s1">var STYLE_LITERAL = 3;</span><span class="s3">\n</span><span class="s1">var STYLE_FOLDED = 4;</span><span class="s3">\n</span><span class="s1">var STYLE_DOUBLE = 5;</span><span class="s3">\n</span><span class="s1">function chooseScalarStyle(string, singleLineOnly, indentPerLevel, lineWidth, testAmbiguousType, quotingType, forceQuotes, inblock) {</span><span class="s3">\n  </span><span class="s1">var i;</span><span class="s3">\n  </span><span class="s1">var char = 0;</span><span class="s3">\n  </span><span class="s1">var prevChar = null;</span><span class="s3">\n  </span><span class="s1">var hasLineBreak = false;</span><span class="s3">\n  </span><span class="s1">var hasFoldableLine = false;</span><span class="s3">\n  </span><span class="s1">var shouldTrackWidth = lineWidth !== -1;</span><span class="s3">\n  </span><span class="s1">var previousLineBreak = -1;</span><span class="s3">\n  </span><span class="s1">var plain = isPlainSafeFirst(codePointAt(string, 0)) &amp;&amp; isPlainSafeLast(codePointAt(string, string.length - 1));</span><span class="s3">\n  </span><span class="s1">if (singleLineOnly || forceQuotes) {</span><span class="s3">\n    </span><span class="s1">for (i = 0; i &lt; string.length; char &gt;= 65536 ? i += 2 : i++) {</span><span class="s3">\n      </span><span class="s1">char = codePointAt(string, i);</span><span class="s3">\n      </span><span class="s1">if (!isPrintable(char)) {</span><span class="s3">\n        </span><span class="s1">return STYLE_DOUBLE;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">plain = plain &amp;&amp; isPlainSafe(char, prevChar, inblock);</span><span class="s3">\n      </span><span class="s1">prevChar = char;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">for (i = 0; i &lt; string.length; char &gt;= 65536 ? i += 2 : i++) {</span><span class="s3">\n      </span><span class="s1">char = codePointAt(string, i);</span><span class="s3">\n      </span><span class="s1">if (char === CHAR_LINE_FEED) {</span><span class="s3">\n        </span><span class="s1">hasLineBreak = true;</span><span class="s3">\n        </span><span class="s1">if (shouldTrackWidth) {</span><span class="s3">\n          </span><span class="s1">hasFoldableLine = hasFoldableLine || // Foldable line = too long, and not more-indented.</span><span class="s3">\n          </span><span class="s1">i - previousLineBreak - 1 &gt; lineWidth &amp;&amp; string[previousLineBreak + 1] !== </span><span class="s3">\&quot; \&quot;</span><span class="s1">;</span><span class="s3">\n          </span><span class="s1">previousLineBreak = i;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} else if (!isPrintable(char)) {</span><span class="s3">\n        </span><span class="s1">return STYLE_DOUBLE;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">plain = plain &amp;&amp; isPlainSafe(char, prevChar, inblock);</span><span class="s3">\n      </span><span class="s1">prevChar = char;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">hasFoldableLine = hasFoldableLine || shouldTrackWidth &amp;&amp; (i - previousLineBreak - 1 &gt; lineWidth &amp;&amp; string[previousLineBreak + 1] !== </span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (!hasLineBreak &amp;&amp; !hasFoldableLine) {</span><span class="s3">\n    </span><span class="s1">if (plain &amp;&amp; !forceQuotes &amp;&amp; !testAmbiguousType(string)) {</span><span class="s3">\n      </span><span class="s1">return STYLE_PLAIN;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return quotingType === QUOTING_TYPE_DOUBLE ? STYLE_DOUBLE : STYLE_SINGLE;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (indentPerLevel &gt; 9 &amp;&amp; needIndentIndicator(string)) {</span><span class="s3">\n    </span><span class="s1">return STYLE_DOUBLE;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (!forceQuotes) {</span><span class="s3">\n    </span><span class="s1">return hasFoldableLine ? STYLE_FOLDED : STYLE_LITERAL;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return quotingType === QUOTING_TYPE_DOUBLE ? STYLE_DOUBLE : STYLE_SINGLE;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(chooseScalarStyle, </span><span class="s3">\&quot;</span><span class="s1">chooseScalarStyle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function writeScalar(state, string, level, iskey, inblock) {</span><span class="s3">\n  </span><span class="s1">state.dump = function() {</span><span class="s3">\n    </span><span class="s1">if (string.length === 0) {</span><span class="s3">\n      </span><span class="s1">return state.quotingType === QUOTING_TYPE_DOUBLE ? '</span><span class="s3">\&quot;\&quot;</span><span class="s1">' : </span><span class="s3">\&quot;</span><span class="s1">''</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!state.noCompatMode) {</span><span class="s3">\n      </span><span class="s1">if (DEPRECATED_BOOLEANS_SYNTAX.indexOf(string) !== -1 || DEPRECATED_BASE60_SYNTAX.test(string)) {</span><span class="s3">\n        </span><span class="s1">return state.quotingType === QUOTING_TYPE_DOUBLE ? '</span><span class="s3">\&quot;</span><span class="s1">' + string + '</span><span class="s3">\&quot;</span><span class="s1">' : </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot; </span><span class="s1">+ string + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var indent = state.indent * Math.max(1, level);</span><span class="s3">\n    </span><span class="s1">var lineWidth = state.lineWidth === -1 ? -1 : Math.max(Math.min(state.lineWidth, 40), state.lineWidth - indent);</span><span class="s3">\n    </span><span class="s1">var singleLineOnly = iskey || state.flowLevel &gt; -1 &amp;&amp; level &gt;= state.flowLevel;</span><span class="s3">\n    </span><span class="s1">function testAmbiguity(string2) {</span><span class="s3">\n      </span><span class="s1">return testImplicitResolving(state, string2);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">__name(testAmbiguity, </span><span class="s3">\&quot;</span><span class="s1">testAmbiguity</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">switch (chooseScalarStyle(</span><span class="s3">\n      </span><span class="s1">string,</span><span class="s3">\n      </span><span class="s1">singleLineOnly,</span><span class="s3">\n      </span><span class="s1">state.indent,</span><span class="s3">\n      </span><span class="s1">lineWidth,</span><span class="s3">\n      </span><span class="s1">testAmbiguity,</span><span class="s3">\n      </span><span class="s1">state.quotingType,</span><span class="s3">\n      </span><span class="s1">state.forceQuotes &amp;&amp; !iskey,</span><span class="s3">\n      </span><span class="s1">inblock</span><span class="s3">\n    </span><span class="s1">)) {</span><span class="s3">\n      </span><span class="s1">case STYLE_PLAIN:</span><span class="s3">\n        </span><span class="s1">return string;</span><span class="s3">\n      </span><span class="s1">case STYLE_SINGLE:</span><span class="s3">\n        </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot; </span><span class="s1">+ string.replace(/'/g, </span><span class="s3">\&quot;</span><span class="s1">''</span><span class="s3">\&quot;</span><span class="s1">) + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">case STYLE_LITERAL:</span><span class="s3">\n        </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot; </span><span class="s1">+ blockHeader(string, state.indent) + dropEndingNewline(indentString(string, indent));</span><span class="s3">\n      </span><span class="s1">case STYLE_FOLDED:</span><span class="s3">\n        </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot; </span><span class="s1">+ blockHeader(string, state.indent) + dropEndingNewline(indentString(foldString(string, lineWidth), indent));</span><span class="s3">\n      </span><span class="s1">case STYLE_DOUBLE:</span><span class="s3">\n        </span><span class="s1">return '</span><span class="s3">\&quot;</span><span class="s1">' + escapeString(string) + '</span><span class="s3">\&quot;</span><span class="s1">';</span><span class="s3">\n      </span><span class="s1">default:</span><span class="s3">\n        </span><span class="s1">throw new exception(</span><span class="s3">\&quot;</span><span class="s1">impossible error: invalid scalar style</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}();</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(writeScalar, </span><span class="s3">\&quot;</span><span class="s1">writeScalar</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function blockHeader(string, indentPerLevel) {</span><span class="s3">\n  </span><span class="s1">var indentIndicator = needIndentIndicator(string) ? String(indentPerLevel) : </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">var clip = string[string.length - 1] === </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">var keep = clip &amp;&amp; (string[string.length - 2] === </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot; </span><span class="s1">|| string === </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">var chomp = keep ? </span><span class="s3">\&quot;</span><span class="s1">+</span><span class="s3">\&quot; </span><span class="s1">: clip ? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">return indentIndicator + chomp + </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(blockHeader, </span><span class="s3">\&quot;</span><span class="s1">blockHeader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function dropEndingNewline(string) {</span><span class="s3">\n  </span><span class="s1">return string[string.length - 1] === </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot; </span><span class="s1">? string.slice(0, -1) : string;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(dropEndingNewline, </span><span class="s3">\&quot;</span><span class="s1">dropEndingNewline</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function foldString(string, width) {</span><span class="s3">\n  </span><span class="s1">var lineRe = /(</span><span class="s3">\\</span><span class="s1">n+)([^</span><span class="s3">\\</span><span class="s1">n]*)/g;</span><span class="s3">\n  </span><span class="s1">var result = function() {</span><span class="s3">\n    </span><span class="s1">var nextLF = string.indexOf(</span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">nextLF = nextLF !== -1 ? nextLF : string.length;</span><span class="s3">\n    </span><span class="s1">lineRe.lastIndex = nextLF;</span><span class="s3">\n    </span><span class="s1">return foldLine(string.slice(0, nextLF), width);</span><span class="s3">\n  </span><span class="s1">}();</span><span class="s3">\n  </span><span class="s1">var prevMoreIndented = string[0] === </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot; </span><span class="s1">|| string[0] === </span><span class="s3">\&quot; \&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">var moreIndented;</span><span class="s3">\n  </span><span class="s1">var match;</span><span class="s3">\n  </span><span class="s1">while (match = lineRe.exec(string)) {</span><span class="s3">\n    </span><span class="s1">var prefix = match[1], line = match[2];</span><span class="s3">\n    </span><span class="s1">moreIndented = line[0] === </span><span class="s3">\&quot; \&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">result += prefix + (!prevMoreIndented &amp;&amp; !moreIndented &amp;&amp; line !== </span><span class="s3">\&quot;\&quot; </span><span class="s1">? </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + foldLine(line, width);</span><span class="s3">\n    </span><span class="s1">prevMoreIndented = moreIndented;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(foldString, </span><span class="s3">\&quot;</span><span class="s1">foldString</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function foldLine(line, width) {</span><span class="s3">\n  </span><span class="s1">if (line === </span><span class="s3">\&quot;\&quot; </span><span class="s1">|| line[0] === </span><span class="s3">\&quot; \&quot;</span><span class="s1">) return line;</span><span class="s3">\n  </span><span class="s1">var breakRe = / [^ ]/g;</span><span class="s3">\n  </span><span class="s1">var match;</span><span class="s3">\n  </span><span class="s1">var start = 0, end, curr = 0, next = 0;</span><span class="s3">\n  </span><span class="s1">var result = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">while (match = breakRe.exec(line)) {</span><span class="s3">\n    </span><span class="s1">next = match.index;</span><span class="s3">\n    </span><span class="s1">if (next - start &gt; width) {</span><span class="s3">\n      </span><span class="s1">end = curr &gt; start ? curr : next;</span><span class="s3">\n      </span><span class="s1">result += </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot; </span><span class="s1">+ line.slice(start, end);</span><span class="s3">\n      </span><span class="s1">start = end + 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">curr = next;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">result += </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">if (line.length - start &gt; width &amp;&amp; curr &gt; start) {</span><span class="s3">\n    </span><span class="s1">result += line.slice(start, curr) + </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot; </span><span class="s1">+ line.slice(curr + 1);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">result += line.slice(start);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result.slice(1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(foldLine, </span><span class="s3">\&quot;</span><span class="s1">foldLine</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function escapeString(string) {</span><span class="s3">\n  </span><span class="s1">var result = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">var char = 0;</span><span class="s3">\n  </span><span class="s1">var escapeSeq;</span><span class="s3">\n  </span><span class="s1">for (var i = 0; i &lt; string.length; char &gt;= 65536 ? i += 2 : i++) {</span><span class="s3">\n    </span><span class="s1">char = codePointAt(string, i);</span><span class="s3">\n    </span><span class="s1">escapeSeq = ESCAPE_SEQUENCES[char];</span><span class="s3">\n    </span><span class="s1">if (!escapeSeq &amp;&amp; isPrintable(char)) {</span><span class="s3">\n      </span><span class="s1">result += string[i];</span><span class="s3">\n      </span><span class="s1">if (char &gt;= 65536) result += string[i + 1];</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">result += escapeSeq || encodeHex(char);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(escapeString, </span><span class="s3">\&quot;</span><span class="s1">escapeString</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function writeFlowSequence(state, level, object) {</span><span class="s3">\n  </span><span class="s1">var _result = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, _tag = state.tag, index, length, value;</span><span class="s3">\n  </span><span class="s1">for (index = 0, length = object.length; index &lt; length; index += 1) {</span><span class="s3">\n    </span><span class="s1">value = object[index];</span><span class="s3">\n    </span><span class="s1">if (state.replacer) {</span><span class="s3">\n      </span><span class="s1">value = state.replacer.call(object, String(index), value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (writeNode(state, level, value, false, false) || typeof value === </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; writeNode(state, level, null, false, false)) {</span><span class="s3">\n      </span><span class="s1">if (_result !== </span><span class="s3">\&quot;\&quot;</span><span class="s1">) _result += </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot; </span><span class="s1">+ (!state.condenseFlow ? </span><span class="s3">\&quot; \&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">_result += state.dump;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">state.tag = _tag;</span><span class="s3">\n  </span><span class="s1">state.dump = </span><span class="s3">\&quot;</span><span class="s1">[</span><span class="s3">\&quot; </span><span class="s1">+ _result + </span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(writeFlowSequence, </span><span class="s3">\&quot;</span><span class="s1">writeFlowSequence</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function writeBlockSequence(state, level, object, compact) {</span><span class="s3">\n  </span><span class="s1">var _result = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, _tag = state.tag, index, length, value;</span><span class="s3">\n  </span><span class="s1">for (index = 0, length = object.length; index &lt; length; index += 1) {</span><span class="s3">\n    </span><span class="s1">value = object[index];</span><span class="s3">\n    </span><span class="s1">if (state.replacer) {</span><span class="s3">\n      </span><span class="s1">value = state.replacer.call(object, String(index), value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (writeNode(state, level + 1, value, true, true, false, true) || typeof value === </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; writeNode(state, level + 1, null, true, true, false, true)) {</span><span class="s3">\n      </span><span class="s1">if (!compact || _result !== </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">_result += generateNextLine(state, level);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (state.dump &amp;&amp; CHAR_LINE_FEED === state.dump.charCodeAt(0)) {</span><span class="s3">\n        </span><span class="s1">_result += </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">_result += </span><span class="s3">\&quot;</span><span class="s1">- </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">_result += state.dump;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">state.tag = _tag;</span><span class="s3">\n  </span><span class="s1">state.dump = _result || </span><span class="s3">\&quot;</span><span class="s1">[]</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(writeBlockSequence, </span><span class="s3">\&quot;</span><span class="s1">writeBlockSequence</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function writeFlowMapping(state, level, object) {</span><span class="s3">\n  </span><span class="s1">var _result = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, _tag = state.tag, objectKeyList = Object.keys(object), index, length, objectKey, objectValue, pairBuffer;</span><span class="s3">\n  </span><span class="s1">for (index = 0, length = objectKeyList.length; index &lt; length; index += 1) {</span><span class="s3">\n    </span><span class="s1">pairBuffer = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">if (_result !== </span><span class="s3">\&quot;\&quot;</span><span class="s1">) pairBuffer += </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">if (state.condenseFlow) pairBuffer += '</span><span class="s3">\&quot;</span><span class="s1">';</span><span class="s3">\n    </span><span class="s1">objectKey = objectKeyList[index];</span><span class="s3">\n    </span><span class="s1">objectValue = object[objectKey];</span><span class="s3">\n    </span><span class="s1">if (state.replacer) {</span><span class="s3">\n      </span><span class="s1">objectValue = state.replacer.call(object, objectKey, objectValue);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!writeNode(state, level, objectKey, false, false)) {</span><span class="s3">\n      </span><span class="s1">continue;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (state.dump.length &gt; 1024) pairBuffer += </span><span class="s3">\&quot;</span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">pairBuffer += state.dump + (state.condenseFlow ? '</span><span class="s3">\&quot;</span><span class="s1">' : </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + </span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot; </span><span class="s1">+ (state.condenseFlow ? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: </span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (!writeNode(state, level, objectValue, false, false)) {</span><span class="s3">\n      </span><span class="s1">continue;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">pairBuffer += state.dump;</span><span class="s3">\n    </span><span class="s1">_result += pairBuffer;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">state.tag = _tag;</span><span class="s3">\n  </span><span class="s1">state.dump = </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">+ _result + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(writeFlowMapping, </span><span class="s3">\&quot;</span><span class="s1">writeFlowMapping</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function writeBlockMapping(state, level, object, compact) {</span><span class="s3">\n  </span><span class="s1">var _result = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, _tag = state.tag, objectKeyList = Object.keys(object), index, length, objectKey, objectValue, explicitPair, pairBuffer;</span><span class="s3">\n  </span><span class="s1">if (state.sortKeys === true) {</span><span class="s3">\n    </span><span class="s1">objectKeyList.sort();</span><span class="s3">\n  </span><span class="s1">} else if (typeof state.sortKeys === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">objectKeyList.sort(state.sortKeys);</span><span class="s3">\n  </span><span class="s1">} else if (state.sortKeys) {</span><span class="s3">\n    </span><span class="s1">throw new exception(</span><span class="s3">\&quot;</span><span class="s1">sortKeys must be a boolean or a function</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">for (index = 0, length = objectKeyList.length; index &lt; length; index += 1) {</span><span class="s3">\n    </span><span class="s1">pairBuffer = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">if (!compact || _result !== </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">pairBuffer += generateNextLine(state, level);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">objectKey = objectKeyList[index];</span><span class="s3">\n    </span><span class="s1">objectValue = object[objectKey];</span><span class="s3">\n    </span><span class="s1">if (state.replacer) {</span><span class="s3">\n      </span><span class="s1">objectValue = state.replacer.call(object, objectKey, objectValue);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!writeNode(state, level + 1, objectKey, true, true, true)) {</span><span class="s3">\n      </span><span class="s1">continue;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">explicitPair = state.tag !== null &amp;&amp; state.tag !== </span><span class="s3">\&quot;</span><span class="s1">?</span><span class="s3">\&quot; </span><span class="s1">|| state.dump &amp;&amp; state.dump.length &gt; 1024;</span><span class="s3">\n    </span><span class="s1">if (explicitPair) {</span><span class="s3">\n      </span><span class="s1">if (state.dump &amp;&amp; CHAR_LINE_FEED === state.dump.charCodeAt(0)) {</span><span class="s3">\n        </span><span class="s1">pairBuffer += </span><span class="s3">\&quot;</span><span class="s1">?</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">pairBuffer += </span><span class="s3">\&quot;</span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">pairBuffer += state.dump;</span><span class="s3">\n    </span><span class="s1">if (explicitPair) {</span><span class="s3">\n      </span><span class="s1">pairBuffer += generateNextLine(state, level);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!writeNode(state, level + 1, objectValue, true, explicitPair)) {</span><span class="s3">\n      </span><span class="s1">continue;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (state.dump &amp;&amp; CHAR_LINE_FEED === state.dump.charCodeAt(0)) {</span><span class="s3">\n      </span><span class="s1">pairBuffer += </span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">pairBuffer += </span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">pairBuffer += state.dump;</span><span class="s3">\n    </span><span class="s1">_result += pairBuffer;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">state.tag = _tag;</span><span class="s3">\n  </span><span class="s1">state.dump = _result || </span><span class="s3">\&quot;</span><span class="s1">{}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(writeBlockMapping, </span><span class="s3">\&quot;</span><span class="s1">writeBlockMapping</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function detectType(state, object, explicit) {</span><span class="s3">\n  </span><span class="s1">var _result, typeList, index, length, type2, style;</span><span class="s3">\n  </span><span class="s1">typeList = explicit ? state.explicitTypes : state.implicitTypes;</span><span class="s3">\n  </span><span class="s1">for (index = 0, length = typeList.length; index &lt; length; index += 1) {</span><span class="s3">\n    </span><span class="s1">type2 = typeList[index];</span><span class="s3">\n    </span><span class="s1">if ((type2.instanceOf || type2.predicate) &amp;&amp; (!type2.instanceOf || typeof object === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; object instanceof type2.instanceOf) &amp;&amp; (!type2.predicate || type2.predicate(object))) {</span><span class="s3">\n      </span><span class="s1">if (explicit) {</span><span class="s3">\n        </span><span class="s1">if (type2.multi &amp;&amp; type2.representName) {</span><span class="s3">\n          </span><span class="s1">state.tag = type2.representName(object);</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">state.tag = type2.tag;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">state.tag = </span><span class="s3">\&quot;</span><span class="s1">?</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (type2.represent) {</span><span class="s3">\n        </span><span class="s1">style = state.styleMap[type2.tag] || type2.defaultStyle;</span><span class="s3">\n        </span><span class="s1">if (_toString.call(type2.represent) === </span><span class="s3">\&quot;</span><span class="s1">[object Function]</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">_result = type2.represent(object, style);</span><span class="s3">\n        </span><span class="s1">} else if (_hasOwnProperty.call(type2.represent, style)) {</span><span class="s3">\n          </span><span class="s1">_result = type2.represent[style](object, style);</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">throw new exception(</span><span class="s3">\&quot;</span><span class="s1">!&lt;</span><span class="s3">\&quot; </span><span class="s1">+ type2.tag + '&gt; tag resolver accepts not </span><span class="s3">\&quot;</span><span class="s1">' + style + '</span><span class="s3">\&quot; </span><span class="s1">style');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">state.dump = _result;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return false;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(detectType, </span><span class="s3">\&quot;</span><span class="s1">detectType</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function writeNode(state, level, object, block, compact, iskey, isblockseq) {</span><span class="s3">\n  </span><span class="s1">state.tag = null;</span><span class="s3">\n  </span><span class="s1">state.dump = object;</span><span class="s3">\n  </span><span class="s1">if (!detectType(state, object, false)) {</span><span class="s3">\n    </span><span class="s1">detectType(state, object, true);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">var type2 = _toString.call(state.dump);</span><span class="s3">\n  </span><span class="s1">var inblock = block;</span><span class="s3">\n  </span><span class="s1">var tagStr;</span><span class="s3">\n  </span><span class="s1">if (block) {</span><span class="s3">\n    </span><span class="s1">block = state.flowLevel &lt; 0 || state.flowLevel &gt; level;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">var objectOrArray = type2 === </span><span class="s3">\&quot;</span><span class="s1">[object Object]</span><span class="s3">\&quot; </span><span class="s1">|| type2 === </span><span class="s3">\&quot;</span><span class="s1">[object Array]</span><span class="s3">\&quot;</span><span class="s1">, duplicateIndex, duplicate;</span><span class="s3">\n  </span><span class="s1">if (objectOrArray) {</span><span class="s3">\n    </span><span class="s1">duplicateIndex = state.duplicates.indexOf(object);</span><span class="s3">\n    </span><span class="s1">duplicate = duplicateIndex !== -1;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (state.tag !== null &amp;&amp; state.tag !== </span><span class="s3">\&quot;</span><span class="s1">?</span><span class="s3">\&quot; </span><span class="s1">|| duplicate || state.indent !== 2 &amp;&amp; level &gt; 0) {</span><span class="s3">\n    </span><span class="s1">compact = false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (duplicate &amp;&amp; state.usedDuplicates[duplicateIndex]) {</span><span class="s3">\n    </span><span class="s1">state.dump = </span><span class="s3">\&quot;</span><span class="s1">*ref_</span><span class="s3">\&quot; </span><span class="s1">+ duplicateIndex;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">if (objectOrArray &amp;&amp; duplicate &amp;&amp; !state.usedDuplicates[duplicateIndex]) {</span><span class="s3">\n      </span><span class="s1">state.usedDuplicates[duplicateIndex] = true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (type2 === </span><span class="s3">\&quot;</span><span class="s1">[object Object]</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">if (block &amp;&amp; Object.keys(state.dump).length !== 0) {</span><span class="s3">\n        </span><span class="s1">writeBlockMapping(state, level, state.dump, compact);</span><span class="s3">\n        </span><span class="s1">if (duplicate) {</span><span class="s3">\n          </span><span class="s1">state.dump = </span><span class="s3">\&quot;</span><span class="s1">&amp;ref_</span><span class="s3">\&quot; </span><span class="s1">+ duplicateIndex + state.dump;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">writeFlowMapping(state, level, state.dump);</span><span class="s3">\n        </span><span class="s1">if (duplicate) {</span><span class="s3">\n          </span><span class="s1">state.dump = </span><span class="s3">\&quot;</span><span class="s1">&amp;ref_</span><span class="s3">\&quot; </span><span class="s1">+ duplicateIndex + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ state.dump;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (type2 === </span><span class="s3">\&quot;</span><span class="s1">[object Array]</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">if (block &amp;&amp; state.dump.length !== 0) {</span><span class="s3">\n        </span><span class="s1">if (state.noArrayIndent &amp;&amp; !isblockseq &amp;&amp; level &gt; 0) {</span><span class="s3">\n          </span><span class="s1">writeBlockSequence(state, level - 1, state.dump, compact);</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">writeBlockSequence(state, level, state.dump, compact);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (duplicate) {</span><span class="s3">\n          </span><span class="s1">state.dump = </span><span class="s3">\&quot;</span><span class="s1">&amp;ref_</span><span class="s3">\&quot; </span><span class="s1">+ duplicateIndex + state.dump;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">writeFlowSequence(state, level, state.dump);</span><span class="s3">\n        </span><span class="s1">if (duplicate) {</span><span class="s3">\n          </span><span class="s1">state.dump = </span><span class="s3">\&quot;</span><span class="s1">&amp;ref_</span><span class="s3">\&quot; </span><span class="s1">+ duplicateIndex + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ state.dump;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (type2 === </span><span class="s3">\&quot;</span><span class="s1">[object String]</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">if (state.tag !== </span><span class="s3">\&quot;</span><span class="s1">?</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">writeScalar(state, state.dump, level, iskey, inblock);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (type2 === </span><span class="s3">\&quot;</span><span class="s1">[object Undefined]</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">if (state.skipInvalid) return false;</span><span class="s3">\n      </span><span class="s1">throw new exception(</span><span class="s3">\&quot;</span><span class="s1">unacceptable kind of an object to dump </span><span class="s3">\&quot; </span><span class="s1">+ type2);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (state.tag !== null &amp;&amp; state.tag !== </span><span class="s3">\&quot;</span><span class="s1">?</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">tagStr = encodeURI(</span><span class="s3">\n        </span><span class="s1">state.tag[0] === </span><span class="s3">\&quot;</span><span class="s1">!</span><span class="s3">\&quot; </span><span class="s1">? state.tag.slice(1) : state.tag</span><span class="s3">\n      </span><span class="s1">).replace(/!/g, </span><span class="s3">\&quot;</span><span class="s1">%21</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">if (state.tag[0] === </span><span class="s3">\&quot;</span><span class="s1">!</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">tagStr = </span><span class="s3">\&quot;</span><span class="s1">!</span><span class="s3">\&quot; </span><span class="s1">+ tagStr;</span><span class="s3">\n      </span><span class="s1">} else if (tagStr.slice(0, 18) === </span><span class="s3">\&quot;</span><span class="s1">tag:yaml.org,2002:</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">tagStr = </span><span class="s3">\&quot;</span><span class="s1">!!</span><span class="s3">\&quot; </span><span class="s1">+ tagStr.slice(18);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">tagStr = </span><span class="s3">\&quot;</span><span class="s1">!&lt;</span><span class="s3">\&quot; </span><span class="s1">+ tagStr + </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">state.dump = tagStr + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ state.dump;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return true;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(writeNode, </span><span class="s3">\&quot;</span><span class="s1">writeNode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function getDuplicateReferences(object, state) {</span><span class="s3">\n  </span><span class="s1">var objects = [], duplicatesIndexes = [], index, length;</span><span class="s3">\n  </span><span class="s1">inspectNode(object, objects, duplicatesIndexes);</span><span class="s3">\n  </span><span class="s1">for (index = 0, length = duplicatesIndexes.length; index &lt; length; index += 1) {</span><span class="s3">\n    </span><span class="s1">state.duplicates.push(objects[duplicatesIndexes[index]]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">state.usedDuplicates = new Array(length);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(getDuplicateReferences, </span><span class="s3">\&quot;</span><span class="s1">getDuplicateReferences</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function inspectNode(object, objects, duplicatesIndexes) {</span><span class="s3">\n  </span><span class="s1">var objectKeyList, index, length;</span><span class="s3">\n  </span><span class="s1">if (object !== null &amp;&amp; typeof object === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">index = objects.indexOf(object);</span><span class="s3">\n    </span><span class="s1">if (index !== -1) {</span><span class="s3">\n      </span><span class="s1">if (duplicatesIndexes.indexOf(index) === -1) {</span><span class="s3">\n        </span><span class="s1">duplicatesIndexes.push(index);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">objects.push(object);</span><span class="s3">\n      </span><span class="s1">if (Array.isArray(object)) {</span><span class="s3">\n        </span><span class="s1">for (index = 0, length = object.length; index &lt; length; index += 1) {</span><span class="s3">\n          </span><span class="s1">inspectNode(object[index], objects, duplicatesIndexes);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">objectKeyList = Object.keys(object);</span><span class="s3">\n        </span><span class="s1">for (index = 0, length = objectKeyList.length; index &lt; length; index += 1) {</span><span class="s3">\n          </span><span class="s1">inspectNode(object[objectKeyList[index]], objects, duplicatesIndexes);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(inspectNode, </span><span class="s3">\&quot;</span><span class="s1">inspectNode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function dump$1(input, options) {</span><span class="s3">\n  </span><span class="s1">options = options || {};</span><span class="s3">\n  </span><span class="s1">var state = new State(options);</span><span class="s3">\n  </span><span class="s1">if (!state.noRefs) getDuplicateReferences(input, state);</span><span class="s3">\n  </span><span class="s1">var value = input;</span><span class="s3">\n  </span><span class="s1">if (state.replacer) {</span><span class="s3">\n    </span><span class="s1">value = state.replacer.call({ </span><span class="s3">\&quot;\&quot;</span><span class="s1">: value }, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, value);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (writeNode(state, 0, value, true, true)) return state.dump + </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">return </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(dump$1, </span><span class="s3">\&quot;</span><span class="s1">dump$1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var dump_1 = dump$1;</span><span class="s3">\n</span><span class="s1">var dumper = {</span><span class="s3">\n  </span><span class="s1">dump: dump_1</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">function renamed(from, to) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Function yaml.</span><span class="s3">\&quot; </span><span class="s1">+ from + </span><span class="s3">\&quot; </span><span class="s1">is removed in js-yaml 4. Use yaml.</span><span class="s3">\&quot; </span><span class="s1">+ to + </span><span class="s3">\&quot; </span><span class="s1">instead, which is now safe by default.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(renamed, </span><span class="s3">\&quot;</span><span class="s1">renamed</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var JSON_SCHEMA = json;</span><span class="s3">\n</span><span class="s1">var load = loader.load;</span><span class="s3">\n</span><span class="s1">var loadAll = loader.loadAll;</span><span class="s3">\n</span><span class="s1">var dump = dumper.dump;</span><span class="s3">\n</span><span class="s1">var safeLoad = renamed(</span><span class="s3">\&quot;</span><span class="s1">safeLoad</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">load</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var safeLoadAll = renamed(</span><span class="s3">\&quot;</span><span class="s1">safeLoadAll</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">loadAll</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var safeDump = renamed(</span><span class="s3">\&quot;</span><span class="s1">safeDump</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">dump</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">JSON_SCHEMA,</span><span class="s3">\n  </span><span class="s1">load</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/*! Bundled license information:</span><span class="s3">\n\n</span><span class="s1">js-yaml/dist/js-yaml.mjs:</span><span class="s3">\n  </span><span class="s1">(*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)</span><span class="s3">\n</span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {</span><span class="s3">\n  </span><span class="s1">__name,</span><span class="s3">\n  </span><span class="s1">getConfig2 as getConfig</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-YTJNT7DU.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/selectSvgElement.ts</span><span class="s3">\n</span><span class="s1">import { select } from </span><span class="s3">\&quot;</span><span class="s1">d3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var selectSvgElement = /* @__PURE__ */ __name((id) =&gt; {</span><span class="s3">\n  </span><span class="s1">const { securityLevel } = getConfig();</span><span class="s3">\n  </span><span class="s1">let root = select(</span><span class="s3">\&quot;</span><span class="s1">body</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (securityLevel === </span><span class="s3">\&quot;</span><span class="s1">sandbox</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const sandboxElement = select(`#i${id}`);</span><span class="s3">\n    </span><span class="s1">const doc = sandboxElement.node()?.contentDocument ?? document;</span><span class="s3">\n    </span><span class="s1">root = select(doc.body);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const svg = root.select(`#${id}`);</span><span class="s3">\n  </span><span class="s1">return svg;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">selectSvgElement</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">selectSvgElement</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {</span><span class="s3">\n  </span><span class="s1">decodeEntities</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-O4NI6UNU.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">__name,</span><span class="s3">\n  </span><span class="s1">common_default,</span><span class="s3">\n  </span><span class="s1">getConfig2 as getConfig,</span><span class="s3">\n  </span><span class="s1">hasKatex,</span><span class="s3">\n  </span><span class="s1">log,</span><span class="s3">\n  </span><span class="s1">renderKatex</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-YTJNT7DU.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/createText.ts</span><span class="s3">\n</span><span class="s1">import { select } from </span><span class="s3">\&quot;</span><span class="s1">d3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/handle-markdown-text.ts</span><span class="s3">\n</span><span class="s1">import { marked } from </span><span class="s3">\&quot;</span><span class="s1">marked</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { dedent } from </span><span class="s3">\&quot;</span><span class="s1">ts-dedent</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function preprocessMarkdown(markdown, { markdownAutoWrap }) {</span><span class="s3">\n  </span><span class="s1">const withoutBR = markdown.replace(/&lt;br</span><span class="s3">\\</span><span class="s1">/&gt;/g, </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const withoutMultipleNewlines = withoutBR.replace(/</span><span class="s3">\\</span><span class="s1">n{2,}/g, </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const withoutExtraSpaces = dedent(withoutMultipleNewlines);</span><span class="s3">\n  </span><span class="s1">if (markdownAutoWrap === false) {</span><span class="s3">\n    </span><span class="s1">return withoutExtraSpaces.replace(/ /g, </span><span class="s3">\&quot;</span><span class="s1">&amp;nbsp;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return withoutExtraSpaces;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(preprocessMarkdown, </span><span class="s3">\&quot;</span><span class="s1">preprocessMarkdown</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function markdownToLines(markdown, config = {}) {</span><span class="s3">\n  </span><span class="s1">const preprocessedMarkdown = preprocessMarkdown(markdown, config);</span><span class="s3">\n  </span><span class="s1">const nodes = marked.lexer(preprocessedMarkdown);</span><span class="s3">\n  </span><span class="s1">const lines = [[]];</span><span class="s3">\n  </span><span class="s1">let currentLine = 0;</span><span class="s3">\n  </span><span class="s1">function processNode(node, parentType = </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">if (node.type === </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">const textLines = node.text.split(</span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">textLines.forEach((textLine, index) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (index !== 0) {</span><span class="s3">\n          </span><span class="s1">currentLine++;</span><span class="s3">\n          </span><span class="s1">lines.push([]);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">textLine.split(</span><span class="s3">\&quot; \&quot;</span><span class="s1">).forEach((word) =&gt; {</span><span class="s3">\n          </span><span class="s1">word = word.replace(/&amp;#39;/g, `'`);</span><span class="s3">\n          </span><span class="s1">if (word) {</span><span class="s3">\n            </span><span class="s1">lines[currentLine].push({ content: word, type: parentType });</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">} else if (node.type === </span><span class="s3">\&quot;</span><span class="s1">strong</span><span class="s3">\&quot; </span><span class="s1">|| node.type === </span><span class="s3">\&quot;</span><span class="s1">em</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">node.tokens.forEach((contentNode) =&gt; {</span><span class="s3">\n        </span><span class="s1">processNode(contentNode, node.type);</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">} else if (node.type === </span><span class="s3">\&quot;</span><span class="s1">html</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">lines[currentLine].push({ content: node.text, type: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">__name(processNode, </span><span class="s3">\&quot;</span><span class="s1">processNode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">nodes.forEach((treeNode) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (treeNode.type === </span><span class="s3">\&quot;</span><span class="s1">paragraph</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">treeNode.tokens?.forEach((contentNode) =&gt; {</span><span class="s3">\n        </span><span class="s1">processNode(contentNode);</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">} else if (treeNode.type === </span><span class="s3">\&quot;</span><span class="s1">html</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">lines[currentLine].push({ content: treeNode.text, type: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">return lines;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(markdownToLines, </span><span class="s3">\&quot;</span><span class="s1">markdownToLines</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function markdownToHTML(markdown, { markdownAutoWrap } = {}) {</span><span class="s3">\n  </span><span class="s1">const nodes = marked.lexer(markdown);</span><span class="s3">\n  </span><span class="s1">function output(node) {</span><span class="s3">\n    </span><span class="s1">if (node.type === </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">if (markdownAutoWrap === false) {</span><span class="s3">\n        </span><span class="s1">return node.text.replace(/</span><span class="s3">\\</span><span class="s1">n */g, </span><span class="s3">\&quot;</span><span class="s1">&lt;br/&gt;</span><span class="s3">\&quot;</span><span class="s1">).replace(/ /g, </span><span class="s3">\&quot;</span><span class="s1">&amp;nbsp;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return node.text.replace(/</span><span class="s3">\\</span><span class="s1">n */g, </span><span class="s3">\&quot;</span><span class="s1">&lt;br/&gt;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} else if (node.type === </span><span class="s3">\&quot;</span><span class="s1">strong</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return `&lt;strong&gt;${node.tokens?.map(output).join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">)}&lt;/strong&gt;`;</span><span class="s3">\n    </span><span class="s1">} else if (node.type === </span><span class="s3">\&quot;</span><span class="s1">em</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return `&lt;em&gt;${node.tokens?.map(output).join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">)}&lt;/em&gt;`;</span><span class="s3">\n    </span><span class="s1">} else if (node.type === </span><span class="s3">\&quot;</span><span class="s1">paragraph</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return `&lt;p&gt;${node.tokens?.map(output).join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">)}&lt;/p&gt;`;</span><span class="s3">\n    </span><span class="s1">} else if (node.type === </span><span class="s3">\&quot;</span><span class="s1">space</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">} else if (node.type === </span><span class="s3">\&quot;</span><span class="s1">html</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return `${node.text}`;</span><span class="s3">\n    </span><span class="s1">} else if (node.type === </span><span class="s3">\&quot;</span><span class="s1">escape</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return node.text;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return `Unsupported markdown: ${node.type}`;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">__name(output, </span><span class="s3">\&quot;</span><span class="s1">output</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return nodes.map(output).join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(markdownToHTML, </span><span class="s3">\&quot;</span><span class="s1">markdownToHTML</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/splitText.ts</span><span class="s3">\n</span><span class="s1">function splitTextToChars(text) {</span><span class="s3">\n  </span><span class="s1">if (Intl.Segmenter) {</span><span class="s3">\n    </span><span class="s1">return [...new Intl.Segmenter().segment(text)].map((s) =&gt; s.segment);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return [...text];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(splitTextToChars, </span><span class="s3">\&quot;</span><span class="s1">splitTextToChars</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function splitWordToFitWidth(checkFit, word) {</span><span class="s3">\n  </span><span class="s1">const characters = splitTextToChars(word.content);</span><span class="s3">\n  </span><span class="s1">return splitWordToFitWidthRecursion(checkFit, [], characters, word.type);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(splitWordToFitWidth, </span><span class="s3">\&quot;</span><span class="s1">splitWordToFitWidth</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function splitWordToFitWidthRecursion(checkFit, usedChars, remainingChars, type) {</span><span class="s3">\n  </span><span class="s1">if (remainingChars.length === 0) {</span><span class="s3">\n    </span><span class="s1">return [</span><span class="s3">\n      </span><span class="s1">{ content: usedChars.join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">), type },</span><span class="s3">\n      </span><span class="s1">{ content: </span><span class="s3">\&quot;\&quot;</span><span class="s1">, type }</span><span class="s3">\n    </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const [nextChar, ...rest] = remainingChars;</span><span class="s3">\n  </span><span class="s1">const newWord = [...usedChars, nextChar];</span><span class="s3">\n  </span><span class="s1">if (checkFit([{ content: newWord.join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">), type }])) {</span><span class="s3">\n    </span><span class="s1">return splitWordToFitWidthRecursion(checkFit, newWord, rest, type);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (usedChars.length === 0 &amp;&amp; nextChar) {</span><span class="s3">\n    </span><span class="s1">usedChars.push(nextChar);</span><span class="s3">\n    </span><span class="s1">remainingChars.shift();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return [</span><span class="s3">\n    </span><span class="s1">{ content: usedChars.join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">), type },</span><span class="s3">\n    </span><span class="s1">{ content: remainingChars.join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">), type }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(splitWordToFitWidthRecursion, </span><span class="s3">\&quot;</span><span class="s1">splitWordToFitWidthRecursion</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function splitLineToFitWidth(line, checkFit) {</span><span class="s3">\n  </span><span class="s1">if (line.some(({ content }) =&gt; content.includes(</span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">))) {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">splitLineToFitWidth does not support newlines in the line</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return splitLineToFitWidthRecursion(line, checkFit);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(splitLineToFitWidth, </span><span class="s3">\&quot;</span><span class="s1">splitLineToFitWidth</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function splitLineToFitWidthRecursion(words, checkFit, lines = [], newLine = []) {</span><span class="s3">\n  </span><span class="s1">if (words.length === 0) {</span><span class="s3">\n    </span><span class="s1">if (newLine.length &gt; 0) {</span><span class="s3">\n      </span><span class="s1">lines.push(newLine);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return lines.length &gt; 0 ? lines : [];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let joiner = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">if (words[0].content === </span><span class="s3">\&quot; \&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">joiner = </span><span class="s3">\&quot; \&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">words.shift();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const nextWord = words.shift() ?? { content: </span><span class="s3">\&quot; \&quot;</span><span class="s1">, type: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot; </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">const lineWithNextWord = [...newLine];</span><span class="s3">\n  </span><span class="s1">if (joiner !== </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">lineWithNextWord.push({ content: joiner, type: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">lineWithNextWord.push(nextWord);</span><span class="s3">\n  </span><span class="s1">if (checkFit(lineWithNextWord)) {</span><span class="s3">\n    </span><span class="s1">return splitLineToFitWidthRecursion(words, checkFit, lines, lineWithNextWord);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (newLine.length &gt; 0) {</span><span class="s3">\n    </span><span class="s1">lines.push(newLine);</span><span class="s3">\n    </span><span class="s1">words.unshift(nextWord);</span><span class="s3">\n  </span><span class="s1">} else if (nextWord.content) {</span><span class="s3">\n    </span><span class="s1">const [line, rest] = splitWordToFitWidth(checkFit, nextWord);</span><span class="s3">\n    </span><span class="s1">lines.push([line]);</span><span class="s3">\n    </span><span class="s1">if (rest.content) {</span><span class="s3">\n      </span><span class="s1">words.unshift(rest);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return splitLineToFitWidthRecursion(words, checkFit, lines);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(splitLineToFitWidthRecursion, </span><span class="s3">\&quot;</span><span class="s1">splitLineToFitWidthRecursion</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/createText.ts</span><span class="s3">\n</span><span class="s1">function applyStyle(dom, styleFn) {</span><span class="s3">\n  </span><span class="s1">if (styleFn) {</span><span class="s3">\n    </span><span class="s1">dom.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, styleFn);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(applyStyle, </span><span class="s3">\&quot;</span><span class="s1">applyStyle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">async function addHtmlSpan(element, node, width, classes, addBackground = false) {</span><span class="s3">\n  </span><span class="s1">const fo = element.append(</span><span class="s3">\&quot;</span><span class="s1">foreignObject</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">fo.attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, `${10 * width}px`);</span><span class="s3">\n  </span><span class="s1">fo.attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, `${10 * width}px`);</span><span class="s3">\n  </span><span class="s1">const div = fo.append(</span><span class="s3">\&quot;</span><span class="s1">xhtml:div</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">let label = node.label;</span><span class="s3">\n  </span><span class="s1">if (node.label &amp;&amp; hasKatex(node.label)) {</span><span class="s3">\n    </span><span class="s1">label = await renderKatex(node.label.replace(common_default.lineBreakRegex, </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">), getConfig());</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const labelClass = node.isNode ? </span><span class="s3">\&quot;</span><span class="s1">nodeLabel</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">edgeLabel</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">const span = div.append(</span><span class="s3">\&quot;</span><span class="s1">span</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">span.html(label);</span><span class="s3">\n  </span><span class="s1">applyStyle(span, node.labelStyle);</span><span class="s3">\n  </span><span class="s1">span.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, `${labelClass} ${classes}`);</span><span class="s3">\n  </span><span class="s1">applyStyle(div, node.labelStyle);</span><span class="s3">\n  </span><span class="s1">div.style(</span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">table-cell</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">div.style(</span><span class="s3">\&quot;</span><span class="s1">white-space</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">nowrap</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">div.style(</span><span class="s3">\&quot;</span><span class="s1">line-height</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">1.5</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">div.style(</span><span class="s3">\&quot;</span><span class="s1">max-width</span><span class="s3">\&quot;</span><span class="s1">, width + </span><span class="s3">\&quot;</span><span class="s1">px</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">div.style(</span><span class="s3">\&quot;</span><span class="s1">text-align</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">div.attr(</span><span class="s3">\&quot;</span><span class="s1">xmlns</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/1999/xhtml</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (addBackground) {</span><span class="s3">\n    </span><span class="s1">div.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">labelBkg</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let bbox = div.node().getBoundingClientRect();</span><span class="s3">\n  </span><span class="s1">if (bbox.width === width) {</span><span class="s3">\n    </span><span class="s1">div.style(</span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">table</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">div.style(</span><span class="s3">\&quot;</span><span class="s1">white-space</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">break-spaces</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">div.style(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, width + </span><span class="s3">\&quot;</span><span class="s1">px</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">bbox = div.node().getBoundingClientRect();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return fo.node();</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(addHtmlSpan, </span><span class="s3">\&quot;</span><span class="s1">addHtmlSpan</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function createTspan(textElement, lineIndex, lineHeight) {</span><span class="s3">\n  </span><span class="s1">return textElement.append(</span><span class="s3">\&quot;</span><span class="s1">tspan</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">text-outer-tspan</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, 0).attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, lineIndex * lineHeight - 0.1 + </span><span class="s3">\&quot;</span><span class="s1">em</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">dy</span><span class="s3">\&quot;</span><span class="s1">, lineHeight + </span><span class="s3">\&quot;</span><span class="s1">em</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(createTspan, </span><span class="s3">\&quot;</span><span class="s1">createTspan</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function computeWidthOfText(parentNode, lineHeight, line) {</span><span class="s3">\n  </span><span class="s1">const testElement = parentNode.append(</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const testSpan = createTspan(testElement, 1, lineHeight);</span><span class="s3">\n  </span><span class="s1">updateTextContentAndStyles(testSpan, line);</span><span class="s3">\n  </span><span class="s1">const textLength = testSpan.node().getComputedTextLength();</span><span class="s3">\n  </span><span class="s1">testElement.remove();</span><span class="s3">\n  </span><span class="s1">return textLength;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(computeWidthOfText, </span><span class="s3">\&quot;</span><span class="s1">computeWidthOfText</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function computeDimensionOfText(parentNode, lineHeight, text) {</span><span class="s3">\n  </span><span class="s1">const testElement = parentNode.append(</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const testSpan = createTspan(testElement, 1, lineHeight);</span><span class="s3">\n  </span><span class="s1">updateTextContentAndStyles(testSpan, [{ content: text, type: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot; </span><span class="s1">}]);</span><span class="s3">\n  </span><span class="s1">const textDimension = testSpan.node()?.getBoundingClientRect();</span><span class="s3">\n  </span><span class="s1">if (textDimension) {</span><span class="s3">\n    </span><span class="s1">testElement.remove();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return textDimension;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(computeDimensionOfText, </span><span class="s3">\&quot;</span><span class="s1">computeDimensionOfText</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function createFormattedText(width, g, structuredText, addBackground = false) {</span><span class="s3">\n  </span><span class="s1">const lineHeight = 1.1;</span><span class="s3">\n  </span><span class="s1">const labelGroup = g.append(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const bkg = labelGroup.insert(</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">background</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">stroke: none</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const textElement = labelGroup.append(</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">-10.1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">let lineIndex = 0;</span><span class="s3">\n  </span><span class="s1">for (const line of structuredText) {</span><span class="s3">\n    </span><span class="s1">const checkWidth = /* @__PURE__ */ __name((line2) =&gt; computeWidthOfText(labelGroup, lineHeight, line2) &lt;= width, </span><span class="s3">\&quot;</span><span class="s1">checkWidth</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const linesUnderWidth = checkWidth(line) ? [line] : splitLineToFitWidth(line, checkWidth);</span><span class="s3">\n    </span><span class="s1">for (const preparedLine of linesUnderWidth) {</span><span class="s3">\n      </span><span class="s1">const tspan = createTspan(textElement, lineIndex, lineHeight);</span><span class="s3">\n      </span><span class="s1">updateTextContentAndStyles(tspan, preparedLine);</span><span class="s3">\n      </span><span class="s1">lineIndex++;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (addBackground) {</span><span class="s3">\n    </span><span class="s1">const bbox = textElement.node().getBBox();</span><span class="s3">\n    </span><span class="s1">const padding = 2;</span><span class="s3">\n    </span><span class="s1">bkg.attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, bbox.x - padding).attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, bbox.y - padding).attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, bbox.width + 2 * padding).attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, bbox.height + 2 * padding);</span><span class="s3">\n    </span><span class="s1">return labelGroup.node();</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return textElement.node();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(createFormattedText, </span><span class="s3">\&quot;</span><span class="s1">createFormattedText</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function updateTextContentAndStyles(tspan, wrappedLine) {</span><span class="s3">\n  </span><span class="s1">tspan.text(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">wrappedLine.forEach((word, index) =&gt; {</span><span class="s3">\n    </span><span class="s1">const innerTspan = tspan.append(</span><span class="s3">\&quot;</span><span class="s1">tspan</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">font-style</span><span class="s3">\&quot;</span><span class="s1">, word.type === </span><span class="s3">\&quot;</span><span class="s1">em</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">italic</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">text-inner-tspan</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">font-weight</span><span class="s3">\&quot;</span><span class="s1">, word.type === </span><span class="s3">\&quot;</span><span class="s1">strong</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">bold</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (index === 0) {</span><span class="s3">\n      </span><span class="s1">innerTspan.text(word.content);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">innerTspan.text(</span><span class="s3">\&quot; \&quot; </span><span class="s1">+ word.content);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(updateTextContentAndStyles, </span><span class="s3">\&quot;</span><span class="s1">updateTextContentAndStyles</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function replaceIconSubstring(text) {</span><span class="s3">\n  </span><span class="s1">return text.replace(</span><span class="s3">\n    </span><span class="s1">/fa[bklrs]?:fa-[</span><span class="s3">\\</span><span class="s1">w-]+/g,</span><span class="s3">\n    </span><span class="s1">// cspell: disable-line</span><span class="s3">\n    </span><span class="s1">(s) =&gt; `&lt;i class='${s.replace(</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; \&quot;</span><span class="s1">)}'&gt;&lt;/i&gt;`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(replaceIconSubstring, </span><span class="s3">\&quot;</span><span class="s1">replaceIconSubstring</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var createText = /* @__PURE__ */ __name(async (el, text = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, {</span><span class="s3">\n  </span><span class="s1">style = </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">isTitle = false,</span><span class="s3">\n  </span><span class="s1">classes = </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">useHtmlLabels = true,</span><span class="s3">\n  </span><span class="s1">isNode = true,</span><span class="s3">\n  </span><span class="s1">width = 200,</span><span class="s3">\n  </span><span class="s1">addSvgBackground = false</span><span class="s3">\n</span><span class="s1">} = {}, config) =&gt; {</span><span class="s3">\n  </span><span class="s1">log.debug(</span><span class="s3">\n    \&quot;</span><span class="s1">XYZ createText</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">text,</span><span class="s3">\n    </span><span class="s1">style,</span><span class="s3">\n    </span><span class="s1">isTitle,</span><span class="s3">\n    </span><span class="s1">classes,</span><span class="s3">\n    </span><span class="s1">useHtmlLabels,</span><span class="s3">\n    </span><span class="s1">isNode,</span><span class="s3">\n    \&quot;</span><span class="s1">addSvgBackground: </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">addSvgBackground</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (useHtmlLabels) {</span><span class="s3">\n    </span><span class="s1">const htmlText = markdownToHTML(text, config);</span><span class="s3">\n    </span><span class="s1">const decodedReplacedText = replaceIconSubstring(decodeEntities(htmlText));</span><span class="s3">\n    </span><span class="s1">const inputForKatex = text.replace(/</span><span class="s3">\\\\\\\\</span><span class="s1">/g, </span><span class="s3">\&quot;\\\\\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const node = {</span><span class="s3">\n      </span><span class="s1">isNode,</span><span class="s3">\n      </span><span class="s1">label: hasKatex(text) ? inputForKatex : decodedReplacedText,</span><span class="s3">\n      </span><span class="s1">labelStyle: style.replace(</span><span class="s3">\&quot;</span><span class="s1">fill:</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">color:</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">const vertexNode = await addHtmlSpan(el, node, width, classes, addSvgBackground);</span><span class="s3">\n    </span><span class="s1">return vertexNode;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">const sanitizeBR = text.replace(/&lt;br</span><span class="s3">\\</span><span class="s1">s*</span><span class="s3">\\</span><span class="s1">/?&gt;/g, </span><span class="s3">\&quot;</span><span class="s1">&lt;br/&gt;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const structuredText = markdownToLines(sanitizeBR.replace(</span><span class="s3">\&quot;</span><span class="s1">&lt;br&gt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">&lt;br/&gt;</span><span class="s3">\&quot;</span><span class="s1">), config);</span><span class="s3">\n    </span><span class="s1">const svgLabel = createFormattedText(</span><span class="s3">\n      </span><span class="s1">width,</span><span class="s3">\n      </span><span class="s1">el,</span><span class="s3">\n      </span><span class="s1">structuredText,</span><span class="s3">\n      </span><span class="s1">text ? addSvgBackground : false</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (isNode) {</span><span class="s3">\n      </span><span class="s1">if (/stroke:/.exec(style)) {</span><span class="s3">\n        </span><span class="s1">style = style.replace(</span><span class="s3">\&quot;</span><span class="s1">stroke:</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">lineColor:</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">const nodeLabelTextStyle = style.replace(/stroke:[^;]+;?/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">).replace(/stroke-width:[^;]+;?/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">).replace(/fill:[^;]+;?/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">).replace(/color:/g, </span><span class="s3">\&quot;</span><span class="s1">fill:</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">select(svgLabel).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeLabelTextStyle);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">const edgeLabelRectStyle = style.replace(/stroke:[^;]+;?/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">).replace(/stroke-width:[^;]+;?/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">).replace(/fill:[^;]+;?/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">).replace(/background:/g, </span><span class="s3">\&quot;</span><span class="s1">fill:</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">select(svgLabel).select(</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, edgeLabelRectStyle.replace(/background:/g, </span><span class="s3">\&quot;</span><span class="s1">fill:</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n      </span><span class="s1">const edgeLabelTextStyle = style.replace(/stroke:[^;]+;?/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">).replace(/stroke-width:[^;]+;?/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">).replace(/fill:[^;]+;?/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">).replace(/color:/g, </span><span class="s3">\&quot;</span><span class="s1">fill:</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">select(svgLabel).select(</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, edgeLabelTextStyle);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return svgLabel;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">createText</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">computeDimensionOfText,</span><span class="s3">\n  </span><span class="s1">replaceIconSubstring,</span><span class="s3">\n  </span><span class="s1">createText</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;const matchIconName = /^[a-z0-9]+(-[a-z0-9]+)*$/;</span><span class="s3">\n</span><span class="s1">const stringToIcon = (value, validate, allowSimpleName, provider = </span><span class="s3">\&quot;\&quot;</span><span class="s1">) =&gt; {</span><span class="s3">\n  </span><span class="s1">const colonSeparated = value.split(</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (value.slice(0, 1) === </span><span class="s3">\&quot;</span><span class="s1">@</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">if (colonSeparated.length &lt; 2 || colonSeparated.length &gt; 3) {</span><span class="s3">\n      </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">provider = colonSeparated.shift().slice(1);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (colonSeparated.length &gt; 3 || !colonSeparated.length) {</span><span class="s3">\n    </span><span class="s1">return null;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (colonSeparated.length &gt; 1) {</span><span class="s3">\n    </span><span class="s1">const name2 = colonSeparated.pop();</span><span class="s3">\n    </span><span class="s1">const prefix = colonSeparated.pop();</span><span class="s3">\n    </span><span class="s1">const result = {</span><span class="s3">\n      </span><span class="s1">// Allow provider without '@': </span><span class="s3">\&quot;</span><span class="s1">provider:prefix:name</span><span class="s3">\&quot;\n      </span><span class="s1">provider: colonSeparated.length &gt; 0 ? colonSeparated[0] : provider,</span><span class="s3">\n      </span><span class="s1">prefix,</span><span class="s3">\n      </span><span class="s1">name: name2</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return validate &amp;&amp; !validateIconName(result) ? null : result;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const name = colonSeparated[0];</span><span class="s3">\n  </span><span class="s1">const dashSeparated = name.split(</span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (dashSeparated.length &gt; 1) {</span><span class="s3">\n    </span><span class="s1">const result = {</span><span class="s3">\n      </span><span class="s1">provider,</span><span class="s3">\n      </span><span class="s1">prefix: dashSeparated.shift(),</span><span class="s3">\n      </span><span class="s1">name: dashSeparated.join(</span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return validate &amp;&amp; !validateIconName(result) ? null : result;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (allowSimpleName &amp;&amp; provider === </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const result = {</span><span class="s3">\n      </span><span class="s1">provider,</span><span class="s3">\n      </span><span class="s1">prefix: </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">name</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return validate &amp;&amp; !validateIconName(result, allowSimpleName) ? null : result;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return null;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">const validateIconName = (icon, allowSimpleName) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (!icon) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return !!// Check prefix: cannot be empty, unless allowSimpleName is enabled</span><span class="s3">\n  </span><span class="s1">// Check name: cannot be empty</span><span class="s3">\n  </span><span class="s1">((allowSimpleName &amp;&amp; icon.prefix === </span><span class="s3">\&quot;\&quot; </span><span class="s1">|| !!icon.prefix) &amp;&amp; !!icon.name);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { matchIconName, stringToIcon, validateIconName };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;const defaultIconDimensions = Object.freeze(</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">left: 0,</span><span class="s3">\n    </span><span class="s1">top: 0,</span><span class="s3">\n    </span><span class="s1">width: 16,</span><span class="s3">\n    </span><span class="s1">height: 16</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">const defaultIconTransformations = Object.freeze({</span><span class="s3">\n  </span><span class="s1">rotate: 0,</span><span class="s3">\n  </span><span class="s1">vFlip: false,</span><span class="s3">\n  </span><span class="s1">hFlip: false</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">const defaultIconProps = Object.freeze({</span><span class="s3">\n  </span><span class="s1">...defaultIconDimensions,</span><span class="s3">\n  </span><span class="s1">...defaultIconTransformations</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">const defaultExtendedIconProps = Object.freeze({</span><span class="s3">\n  </span><span class="s1">...defaultIconProps,</span><span class="s3">\n  </span><span class="s1">body: </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">hidden: false</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">export { defaultExtendedIconProps, defaultIconDimensions, defaultIconProps, defaultIconTransformations };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function mergeIconTransformations(obj1, obj2) {</span><span class="s3">\n  </span><span class="s1">const result = {};</span><span class="s3">\n  </span><span class="s1">if (!obj1.hFlip !== !obj2.hFlip) {</span><span class="s3">\n    </span><span class="s1">result.hFlip = true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (!obj1.vFlip !== !obj2.vFlip) {</span><span class="s3">\n    </span><span class="s1">result.vFlip = true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const rotate = ((obj1.rotate || 0) + (obj2.rotate || 0)) % 4;</span><span class="s3">\n  </span><span class="s1">if (rotate) {</span><span class="s3">\n    </span><span class="s1">result.rotate = rotate;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { mergeIconTransformations };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { defaultExtendedIconProps, defaultIconTransformations } from './defaults.mjs';</span><span class="s3">\n</span><span class="s1">import { mergeIconTransformations } from './transformations.mjs';</span><span class="s3">\n\n</span><span class="s1">function mergeIconData(parent, child) {</span><span class="s3">\n  </span><span class="s1">const result = mergeIconTransformations(parent, child);</span><span class="s3">\n  </span><span class="s1">for (const key in defaultExtendedIconProps) {</span><span class="s3">\n    </span><span class="s1">if (key in defaultIconTransformations) {</span><span class="s3">\n      </span><span class="s1">if (key in parent &amp;&amp; !(key in result)) {</span><span class="s3">\n        </span><span class="s1">result[key] = defaultIconTransformations[key];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (key in child) {</span><span class="s3">\n      </span><span class="s1">result[key] = child[key];</span><span class="s3">\n    </span><span class="s1">} else if (key in parent) {</span><span class="s3">\n      </span><span class="s1">result[key] = parent[key];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { mergeIconData };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function getIconsTree(data, names) {</span><span class="s3">\n  </span><span class="s1">const icons = data.icons;</span><span class="s3">\n  </span><span class="s1">const aliases = data.aliases || /* @__PURE__ */ Object.create(null);</span><span class="s3">\n  </span><span class="s1">const resolved = /* @__PURE__ */ Object.create(null);</span><span class="s3">\n  </span><span class="s1">function resolve(name) {</span><span class="s3">\n    </span><span class="s1">if (icons[name]) {</span><span class="s3">\n      </span><span class="s1">return resolved[name] = [];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!(name in resolved)) {</span><span class="s3">\n      </span><span class="s1">resolved[name] = null;</span><span class="s3">\n      </span><span class="s1">const parent = aliases[name] &amp;&amp; aliases[name].parent;</span><span class="s3">\n      </span><span class="s1">const value = parent &amp;&amp; resolve(parent);</span><span class="s3">\n      </span><span class="s1">if (value) {</span><span class="s3">\n        </span><span class="s1">resolved[name] = [parent].concat(value);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return resolved[name];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">(names || Object.keys(icons).concat(Object.keys(aliases))).forEach(resolve);</span><span class="s3">\n  </span><span class="s1">return resolved;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { getIconsTree };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { mergeIconData } from '../icon/merge.mjs';</span><span class="s3">\n</span><span class="s1">import { getIconsTree } from './tree.mjs';</span><span class="s3">\n</span><span class="s1">import '../icon/defaults.mjs';</span><span class="s3">\n</span><span class="s1">import '../icon/transformations.mjs';</span><span class="s3">\n\n</span><span class="s1">function internalGetIconData(data, name, tree) {</span><span class="s3">\n  </span><span class="s1">const icons = data.icons;</span><span class="s3">\n  </span><span class="s1">const aliases = data.aliases || /* @__PURE__ */ Object.create(null);</span><span class="s3">\n  </span><span class="s1">let currentProps = {};</span><span class="s3">\n  </span><span class="s1">function parse(name2) {</span><span class="s3">\n    </span><span class="s1">currentProps = mergeIconData(</span><span class="s3">\n      </span><span class="s1">icons[name2] || aliases[name2],</span><span class="s3">\n      </span><span class="s1">currentProps</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">parse(name);</span><span class="s3">\n  </span><span class="s1">tree.forEach(parse);</span><span class="s3">\n  </span><span class="s1">return mergeIconData(data, currentProps);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function getIconData(data, name) {</span><span class="s3">\n  </span><span class="s1">if (data.icons[name]) {</span><span class="s3">\n    </span><span class="s1">return internalGetIconData(data, name, []);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const tree = getIconsTree(data, [name])[name];</span><span class="s3">\n  </span><span class="s1">return tree ? internalGetIconData(data, name, tree) : null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { getIconData, internalGetIconData };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { defaultIconTransformations } from '../icon/defaults.mjs';</span><span class="s3">\n\n</span><span class="s1">const defaultIconSizeCustomisations = Object.freeze({</span><span class="s3">\n  </span><span class="s1">width: null,</span><span class="s3">\n  </span><span class="s1">height: null</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">const defaultIconCustomisations = Object.freeze({</span><span class="s3">\n  </span><span class="s1">// Dimensions</span><span class="s3">\n  </span><span class="s1">...defaultIconSizeCustomisations,</span><span class="s3">\n  </span><span class="s1">// Transformations</span><span class="s3">\n  </span><span class="s1">...defaultIconTransformations</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">export { defaultIconCustomisations, defaultIconSizeCustomisations };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;const unitsSplit = /(-?[0-9.]*[0-9]+[0-9.]*)/g;</span><span class="s3">\n</span><span class="s1">const unitsTest = /^-?[0-9.]*[0-9]+[0-9.]*$/g;</span><span class="s3">\n</span><span class="s1">function calculateSize(size, ratio, precision) {</span><span class="s3">\n  </span><span class="s1">if (ratio === 1) {</span><span class="s3">\n    </span><span class="s1">return size;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">precision = precision || 100;</span><span class="s3">\n  </span><span class="s1">if (typeof size === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return Math.ceil(size * ratio * precision) / precision;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (typeof size !== </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return size;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const oldParts = size.split(unitsSplit);</span><span class="s3">\n  </span><span class="s1">if (oldParts === null || !oldParts.length) {</span><span class="s3">\n    </span><span class="s1">return size;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const newParts = [];</span><span class="s3">\n  </span><span class="s1">let code = oldParts.shift();</span><span class="s3">\n  </span><span class="s1">let isNumber = unitsTest.test(code);</span><span class="s3">\n  </span><span class="s1">while (true) {</span><span class="s3">\n    </span><span class="s1">if (isNumber) {</span><span class="s3">\n      </span><span class="s1">const num = parseFloat(code);</span><span class="s3">\n      </span><span class="s1">if (isNaN(num)) {</span><span class="s3">\n        </span><span class="s1">newParts.push(code);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">newParts.push(Math.ceil(num * ratio * precision) / precision);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">newParts.push(code);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">code = oldParts.shift();</span><span class="s3">\n    </span><span class="s1">if (code === void 0) {</span><span class="s3">\n      </span><span class="s1">return newParts.join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">isNumber = !isNumber;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { calculateSize };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function splitSVGDefs(content, tag = </span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">let defs = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">const index = content.indexOf(</span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot; </span><span class="s1">+ tag);</span><span class="s3">\n  </span><span class="s1">while (index &gt;= 0) {</span><span class="s3">\n    </span><span class="s1">const start = content.indexOf(</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">, index);</span><span class="s3">\n    </span><span class="s1">const end = content.indexOf(</span><span class="s3">\&quot;</span><span class="s1">&lt;/</span><span class="s3">\&quot; </span><span class="s1">+ tag);</span><span class="s3">\n    </span><span class="s1">if (start === -1 || end === -1) {</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const endEnd = content.indexOf(</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">, end);</span><span class="s3">\n    </span><span class="s1">if (endEnd === -1) {</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">defs += content.slice(start + 1, end).trim();</span><span class="s3">\n    </span><span class="s1">content = content.slice(0, index).trim() + content.slice(endEnd + 1);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">defs,</span><span class="s3">\n    </span><span class="s1">content</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function mergeDefsAndContent(defs, content) {</span><span class="s3">\n  </span><span class="s1">return defs ? </span><span class="s3">\&quot;</span><span class="s1">&lt;defs&gt;</span><span class="s3">\&quot; </span><span class="s1">+ defs + </span><span class="s3">\&quot;</span><span class="s1">&lt;/defs&gt;</span><span class="s3">\&quot; </span><span class="s1">+ content : content;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function wrapSVGContent(body, start, end) {</span><span class="s3">\n  </span><span class="s1">const split = splitSVGDefs(body);</span><span class="s3">\n  </span><span class="s1">return mergeDefsAndContent(split.defs, start + split.content + end);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { mergeDefsAndContent, splitSVGDefs, wrapSVGContent };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { defaultIconProps } from '../icon/defaults.mjs';</span><span class="s3">\n</span><span class="s1">import { defaultIconCustomisations } from '../customisations/defaults.mjs';</span><span class="s3">\n</span><span class="s1">import { calculateSize } from './size.mjs';</span><span class="s3">\n</span><span class="s1">import { wrapSVGContent } from './defs.mjs';</span><span class="s3">\n\n</span><span class="s1">const isUnsetKeyword = (value) =&gt; value === </span><span class="s3">\&quot;</span><span class="s1">unset</span><span class="s3">\&quot; </span><span class="s1">|| value === </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot; </span><span class="s1">|| value === </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function iconToSVG(icon, customisations) {</span><span class="s3">\n  </span><span class="s1">const fullIcon = {</span><span class="s3">\n    </span><span class="s1">...defaultIconProps,</span><span class="s3">\n    </span><span class="s1">...icon</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">const fullCustomisations = {</span><span class="s3">\n    </span><span class="s1">...defaultIconCustomisations,</span><span class="s3">\n    </span><span class="s1">...customisations</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">const box = {</span><span class="s3">\n    </span><span class="s1">left: fullIcon.left,</span><span class="s3">\n    </span><span class="s1">top: fullIcon.top,</span><span class="s3">\n    </span><span class="s1">width: fullIcon.width,</span><span class="s3">\n    </span><span class="s1">height: fullIcon.height</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">let body = fullIcon.body;</span><span class="s3">\n  </span><span class="s1">[fullIcon, fullCustomisations].forEach((props) =&gt; {</span><span class="s3">\n    </span><span class="s1">const transformations = [];</span><span class="s3">\n    </span><span class="s1">const hFlip = props.hFlip;</span><span class="s3">\n    </span><span class="s1">const vFlip = props.vFlip;</span><span class="s3">\n    </span><span class="s1">let rotation = props.rotate;</span><span class="s3">\n    </span><span class="s1">if (hFlip) {</span><span class="s3">\n      </span><span class="s1">if (vFlip) {</span><span class="s3">\n        </span><span class="s1">rotation += 2;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">transformations.push(</span><span class="s3">\n          \&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ (box.width + box.left).toString() + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ (0 - box.top).toString() + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;\n        </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">transformations.push(</span><span class="s3">\&quot;</span><span class="s1">scale(-1 1)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">box.top = box.left = 0;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (vFlip) {</span><span class="s3">\n      </span><span class="s1">transformations.push(</span><span class="s3">\n        \&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ (0 - box.left).toString() + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ (box.height + box.top).toString() + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;\n      </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">transformations.push(</span><span class="s3">\&quot;</span><span class="s1">scale(1 -1)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">box.top = box.left = 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">let tempValue;</span><span class="s3">\n    </span><span class="s1">if (rotation &lt; 0) {</span><span class="s3">\n      </span><span class="s1">rotation -= Math.floor(rotation / 4) * 4;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">rotation = rotation % 4;</span><span class="s3">\n    </span><span class="s1">switch (rotation) {</span><span class="s3">\n      </span><span class="s1">case 1:</span><span class="s3">\n        </span><span class="s1">tempValue = box.height / 2 + box.top;</span><span class="s3">\n        </span><span class="s1">transformations.unshift(</span><span class="s3">\n          \&quot;</span><span class="s1">rotate(90 </span><span class="s3">\&quot; </span><span class="s1">+ tempValue.toString() + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ tempValue.toString() + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;\n        </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">case 2:</span><span class="s3">\n        </span><span class="s1">transformations.unshift(</span><span class="s3">\n          \&quot;</span><span class="s1">rotate(180 </span><span class="s3">\&quot; </span><span class="s1">+ (box.width / 2 + box.left).toString() + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ (box.height / 2 + box.top).toString() + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;\n        </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">case 3:</span><span class="s3">\n        </span><span class="s1">tempValue = box.width / 2 + box.left;</span><span class="s3">\n        </span><span class="s1">transformations.unshift(</span><span class="s3">\n          \&quot;</span><span class="s1">rotate(-90 </span><span class="s3">\&quot; </span><span class="s1">+ tempValue.toString() + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ tempValue.toString() + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;\n        </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (rotation % 2 === 1) {</span><span class="s3">\n      </span><span class="s1">if (box.left !== box.top) {</span><span class="s3">\n        </span><span class="s1">tempValue = box.left;</span><span class="s3">\n        </span><span class="s1">box.left = box.top;</span><span class="s3">\n        </span><span class="s1">box.top = tempValue;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (box.width !== box.height) {</span><span class="s3">\n        </span><span class="s1">tempValue = box.width;</span><span class="s3">\n        </span><span class="s1">box.width = box.height;</span><span class="s3">\n        </span><span class="s1">box.height = tempValue;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (transformations.length) {</span><span class="s3">\n      </span><span class="s1">body = wrapSVGContent(</span><span class="s3">\n        </span><span class="s1">body,</span><span class="s3">\n        </span><span class="s1">'&lt;g transform=</span><span class="s3">\&quot;</span><span class="s1">' + transformations.join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">) + '</span><span class="s3">\&quot;</span><span class="s1">&gt;',</span><span class="s3">\n        \&quot;</span><span class="s1">&lt;/g&gt;</span><span class="s3">\&quot;\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">const customisationsWidth = fullCustomisations.width;</span><span class="s3">\n  </span><span class="s1">const customisationsHeight = fullCustomisations.height;</span><span class="s3">\n  </span><span class="s1">const boxWidth = box.width;</span><span class="s3">\n  </span><span class="s1">const boxHeight = box.height;</span><span class="s3">\n  </span><span class="s1">let width;</span><span class="s3">\n  </span><span class="s1">let height;</span><span class="s3">\n  </span><span class="s1">if (customisationsWidth === null) {</span><span class="s3">\n    </span><span class="s1">height = customisationsHeight === null ? </span><span class="s3">\&quot;</span><span class="s1">1em</span><span class="s3">\&quot; </span><span class="s1">: customisationsHeight === </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot; </span><span class="s1">? boxHeight : customisationsHeight;</span><span class="s3">\n    </span><span class="s1">width = calculateSize(height, boxWidth / boxHeight);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">width = customisationsWidth === </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot; </span><span class="s1">? boxWidth : customisationsWidth;</span><span class="s3">\n    </span><span class="s1">height = customisationsHeight === null ? calculateSize(width, boxHeight / boxWidth) : customisationsHeight === </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot; </span><span class="s1">? boxHeight : customisationsHeight;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const attributes = {};</span><span class="s3">\n  </span><span class="s1">const setAttr = (prop, value) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (!isUnsetKeyword(value)) {</span><span class="s3">\n      </span><span class="s1">attributes[prop] = value.toString();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">setAttr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, width);</span><span class="s3">\n  </span><span class="s1">setAttr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, height);</span><span class="s3">\n  </span><span class="s1">const viewBox = [box.left, box.top, boxWidth, boxHeight];</span><span class="s3">\n  </span><span class="s1">attributes.viewBox = viewBox.join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">attributes,</span><span class="s3">\n    </span><span class="s1">viewBox,</span><span class="s3">\n    </span><span class="s1">body</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { iconToSVG, isUnsetKeyword };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function iconToHTML(body, attributes) {</span><span class="s3">\n  </span><span class="s1">let renderAttribsHTML = body.indexOf(</span><span class="s3">\&quot;</span><span class="s1">xlink:</span><span class="s3">\&quot;</span><span class="s1">) === -1 ? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: ' xmlns:xlink=</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/1999/xlink</span><span class="s3">\&quot;</span><span class="s1">';</span><span class="s3">\n  </span><span class="s1">for (const attr in attributes) {</span><span class="s3">\n    </span><span class="s1">renderAttribsHTML += </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ attr + '=</span><span class="s3">\&quot;</span><span class="s1">' + attributes[attr] + '</span><span class="s3">\&quot;</span><span class="s1">';</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return '&lt;svg xmlns=</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;</span><span class="s1">' + renderAttribsHTML + </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot; </span><span class="s1">+ body + </span><span class="s3">\&quot;</span><span class="s1">&lt;/svg&gt;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { iconToHTML };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;const regex = /</span><span class="s3">\\</span><span class="s1">sid=</span><span class="s3">\&quot;</span><span class="s1">(</span><span class="s3">\\</span><span class="s1">S+)</span><span class="s3">\&quot;</span><span class="s1">/g;</span><span class="s3">\n</span><span class="s1">const randomPrefix = </span><span class="s3">\&quot;</span><span class="s1">IconifyId</span><span class="s3">\&quot; </span><span class="s1">+ Date.now().toString(16) + (Math.random() * 16777216 | 0).toString(16);</span><span class="s3">\n</span><span class="s1">let counter = 0;</span><span class="s3">\n</span><span class="s1">function replaceIDs(body, prefix = randomPrefix) {</span><span class="s3">\n  </span><span class="s1">const ids = [];</span><span class="s3">\n  </span><span class="s1">let match;</span><span class="s3">\n  </span><span class="s1">while (match = regex.exec(body)) {</span><span class="s3">\n    </span><span class="s1">ids.push(match[1]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (!ids.length) {</span><span class="s3">\n    </span><span class="s1">return body;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const suffix = </span><span class="s3">\&quot;</span><span class="s1">suffix</span><span class="s3">\&quot; </span><span class="s1">+ (Math.random() * 16777216 | Date.now()).toString(16);</span><span class="s3">\n  </span><span class="s1">ids.forEach((id) =&gt; {</span><span class="s3">\n    </span><span class="s1">const newID = typeof prefix === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? prefix(id) : prefix + (counter++).toString();</span><span class="s3">\n    </span><span class="s1">const escapedID = id.replace(/[.*+?^${}()|[</span><span class="s3">\\</span><span class="s1">]</span><span class="s3">\\\\</span><span class="s1">]/g, </span><span class="s3">\&quot;\\\\</span><span class="s1">$&amp;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">body = body.replace(</span><span class="s3">\n      </span><span class="s1">// Allowed characters before id: [#;</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n      </span><span class="s1">// Allowed characters after id: [)</span><span class="s3">\&quot;</span><span class="s1">], .[a-z]</span><span class="s3">\n      </span><span class="s1">new RegExp('([#;</span><span class="s3">\&quot;</span><span class="s1">])(' + escapedID + ')([</span><span class="s3">\&quot;</span><span class="s1">)]|</span><span class="s3">\\\\</span><span class="s1">.[a-z])', </span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      \&quot;</span><span class="s1">$1</span><span class="s3">\&quot; </span><span class="s1">+ newID + suffix + </span><span class="s3">\&quot;</span><span class="s1">$3</span><span class="s3">\&quot;\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">body = body.replace(new RegExp(suffix, </span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">), </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return body;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { replaceIDs };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {</span><span class="s3">\n  </span><span class="s1">__name,</span><span class="s3">\n  </span><span class="s1">log</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-YTJNT7DU.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/icons.ts</span><span class="s3">\n</span><span class="s1">import { getIconData, iconToHTML, iconToSVG, replaceIDs, stringToIcon } from </span><span class="s3">\&quot;</span><span class="s1">@iconify/utils</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var unknownIcon = {</span><span class="s3">\n  </span><span class="s1">body: '&lt;g&gt;&lt;rect width=</span><span class="s3">\&quot;</span><span class="s1">80</span><span class="s3">\&quot; </span><span class="s1">height=</span><span class="s3">\&quot;</span><span class="s1">80</span><span class="s3">\&quot; </span><span class="s1">style=</span><span class="s3">\&quot;</span><span class="s1">fill: #087ebf; stroke-width: 0px;</span><span class="s3">\&quot;</span><span class="s1">/&gt;&lt;text transform=</span><span class="s3">\&quot;</span><span class="s1">translate(21.16 64.67)</span><span class="s3">\&quot; </span><span class="s1">style=</span><span class="s3">\&quot;</span><span class="s1">fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;tspan x=</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot; </span><span class="s1">y=</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">&gt;?&lt;/tspan&gt;&lt;/text&gt;&lt;/g&gt;',</span><span class="s3">\n  </span><span class="s1">height: 80,</span><span class="s3">\n  </span><span class="s1">width: 80</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var iconsStore = /* @__PURE__ */ new Map();</span><span class="s3">\n</span><span class="s1">var loaderStore = /* @__PURE__ */ new Map();</span><span class="s3">\n</span><span class="s1">var registerIconPacks = /* @__PURE__ */ __name((iconLoaders) =&gt; {</span><span class="s3">\n  </span><span class="s1">for (const iconLoader of iconLoaders) {</span><span class="s3">\n    </span><span class="s1">if (!iconLoader.name) {</span><span class="s3">\n      </span><span class="s1">throw new Error(</span><span class="s3">\n        </span><span class="s1">'Invalid icon loader. Must have a </span><span class="s3">\&quot;</span><span class="s1">name</span><span class="s3">\&quot; </span><span class="s1">property with non-empty string value.'</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">log.debug(</span><span class="s3">\&quot;</span><span class="s1">Registering icon pack:</span><span class="s3">\&quot;</span><span class="s1">, iconLoader.name);</span><span class="s3">\n    </span><span class="s1">if (</span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot; </span><span class="s1">in iconLoader) {</span><span class="s3">\n      </span><span class="s1">loaderStore.set(iconLoader.name, iconLoader.loader);</span><span class="s3">\n    </span><span class="s1">} else if (</span><span class="s3">\&quot;</span><span class="s1">icons</span><span class="s3">\&quot; </span><span class="s1">in iconLoader) {</span><span class="s3">\n      </span><span class="s1">iconsStore.set(iconLoader.name, iconLoader.icons);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">log.error(</span><span class="s3">\&quot;</span><span class="s1">Invalid icon loader:</span><span class="s3">\&quot;</span><span class="s1">, iconLoader);</span><span class="s3">\n      </span><span class="s1">throw new Error('Invalid icon loader. Must have either </span><span class="s3">\&quot;</span><span class="s1">icons</span><span class="s3">\&quot; </span><span class="s1">or </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot; </span><span class="s1">property.');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">registerIconPacks</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getRegisteredIconData = /* @__PURE__ */ __name(async (iconName, fallbackPrefix) =&gt; {</span><span class="s3">\n  </span><span class="s1">const data = stringToIcon(iconName, true, fallbackPrefix !== void 0);</span><span class="s3">\n  </span><span class="s1">if (!data) {</span><span class="s3">\n    </span><span class="s1">throw new Error(`Invalid icon name: ${iconName}`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const prefix = data.prefix || fallbackPrefix;</span><span class="s3">\n  </span><span class="s1">if (!prefix) {</span><span class="s3">\n    </span><span class="s1">throw new Error(`Icon name must contain a prefix: ${iconName}`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let icons = iconsStore.get(prefix);</span><span class="s3">\n  </span><span class="s1">if (!icons) {</span><span class="s3">\n    </span><span class="s1">const loader = loaderStore.get(prefix);</span><span class="s3">\n    </span><span class="s1">if (!loader) {</span><span class="s3">\n      </span><span class="s1">throw new Error(`Icon set not found: ${data.prefix}`);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">const loaded = await loader();</span><span class="s3">\n      </span><span class="s1">icons = { ...loaded, prefix };</span><span class="s3">\n      </span><span class="s1">iconsStore.set(prefix, icons);</span><span class="s3">\n    </span><span class="s1">} catch (e) {</span><span class="s3">\n      </span><span class="s1">log.error(e);</span><span class="s3">\n      </span><span class="s1">throw new Error(`Failed to load icon set: ${data.prefix}`);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const iconData = getIconData(icons, data.name);</span><span class="s3">\n  </span><span class="s1">if (!iconData) {</span><span class="s3">\n    </span><span class="s1">throw new Error(`Icon not found: ${iconName}`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return iconData;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getRegisteredIconData</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getIconSVG = /* @__PURE__ */ __name(async (iconName, customisations) =&gt; {</span><span class="s3">\n  </span><span class="s1">let iconData;</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">iconData = await getRegisteredIconData(iconName, customisations?.fallbackPrefix);</span><span class="s3">\n  </span><span class="s1">} catch (e) {</span><span class="s3">\n    </span><span class="s1">log.error(e);</span><span class="s3">\n    </span><span class="s1">iconData = unknownIcon;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const renderData = iconToSVG(iconData, customisations);</span><span class="s3">\n  </span><span class="s1">const svg = iconToHTML(replaceIDs(renderData.body), renderData.attributes);</span><span class="s3">\n  </span><span class="s1">return svg;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getIconSVG</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">unknownIcon,</span><span class="s3">\n  </span><span class="s1">registerIconPacks,</span><span class="s3">\n  </span><span class="s1">getIconSVG</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {</span><span class="s3">\n  </span><span class="s1">getSubGraphTitleMargins</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-K557N5IZ.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">getIconSVG</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-H2D2JQ3I.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">createText</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-C3MQ5ANM.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">calculateTextWidth,</span><span class="s3">\n  </span><span class="s1">decodeEntities,</span><span class="s3">\n  </span><span class="s1">handleUndefinedAttr,</span><span class="s3">\n  </span><span class="s1">parseFontSize</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-O4NI6UNU.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">__name,</span><span class="s3">\n  </span><span class="s1">common_default,</span><span class="s3">\n  </span><span class="s1">defaultConfig_default,</span><span class="s3">\n  </span><span class="s1">evaluate,</span><span class="s3">\n  </span><span class="s1">getConfig,</span><span class="s3">\n  </span><span class="s1">getConfig2,</span><span class="s3">\n  </span><span class="s1">hasKatex,</span><span class="s3">\n  </span><span class="s1">log,</span><span class="s3">\n  </span><span class="s1">parseGenericTypes,</span><span class="s3">\n  </span><span class="s1">renderKatex,</span><span class="s3">\n  </span><span class="s1">sanitizeText,</span><span class="s3">\n  </span><span class="s1">sanitizeText2</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-YTJNT7DU.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/util.ts</span><span class="s3">\n</span><span class="s1">import { select } from </span><span class="s3">\&quot;</span><span class="s1">d3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var labelHelper = /* @__PURE__ */ __name(async (parent, node, _classes) =&gt; {</span><span class="s3">\n  </span><span class="s1">let cssClasses;</span><span class="s3">\n  </span><span class="s1">const useHtmlLabels = node.useHtmlLabels || evaluate(getConfig2()?.htmlLabels);</span><span class="s3">\n  </span><span class="s1">if (!_classes) {</span><span class="s3">\n    </span><span class="s1">cssClasses = </span><span class="s3">\&quot;</span><span class="s1">node default</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">cssClasses = _classes;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const shapeSvg = parent.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, cssClasses).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, node.domId || node.id);</span><span class="s3">\n  </span><span class="s1">const labelEl = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, handleUndefinedAttr(node.labelStyle));</span><span class="s3">\n  </span><span class="s1">let label;</span><span class="s3">\n  </span><span class="s1">if (node.label === void 0) {</span><span class="s3">\n    </span><span class="s1">label = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">label = typeof node.label === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">? node.label : node.label[0];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const text2 = await createText(labelEl, sanitizeText(decodeEntities(label), getConfig2()), {</span><span class="s3">\n    </span><span class="s1">useHtmlLabels,</span><span class="s3">\n    </span><span class="s1">width: node.width || getConfig2().flowchart?.wrappingWidth,</span><span class="s3">\n    </span><span class="s1">// @ts-expect-error -- This is currently not used. Should this be `classes` instead?</span><span class="s3">\n    </span><span class="s1">cssClasses: </span><span class="s3">\&quot;</span><span class="s1">markdown-node-label</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">style: node.labelStyle,</span><span class="s3">\n    </span><span class="s1">addSvgBackground: !!node.icon || !!node.img</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">let bbox = text2.getBBox();</span><span class="s3">\n  </span><span class="s1">const halfPadding = (node?.padding ?? 0) / 2;</span><span class="s3">\n  </span><span class="s1">if (useHtmlLabels) {</span><span class="s3">\n    </span><span class="s1">const div = text2.children[0];</span><span class="s3">\n    </span><span class="s1">const dv = select(text2);</span><span class="s3">\n    </span><span class="s1">const images = div.getElementsByTagName(</span><span class="s3">\&quot;</span><span class="s1">img</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (images) {</span><span class="s3">\n      </span><span class="s1">const noImgText = label.replace(/&lt;img[^&gt;]*&gt;/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">).trim() === </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">await Promise.all(</span><span class="s3">\n        </span><span class="s1">[...images].map(</span><span class="s3">\n          </span><span class="s1">(img) =&gt; new Promise((res) =&gt; {</span><span class="s3">\n            </span><span class="s1">function setupImage() {</span><span class="s3">\n              </span><span class="s1">img.style.display = </span><span class="s3">\&quot;</span><span class="s1">flex</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n              </span><span class="s1">img.style.flexDirection = </span><span class="s3">\&quot;</span><span class="s1">column</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n              </span><span class="s1">if (noImgText) {</span><span class="s3">\n                </span><span class="s1">const bodyFontSize = getConfig2().fontSize ? getConfig2().fontSize : window.getComputedStyle(document.body).fontSize;</span><span class="s3">\n                </span><span class="s1">const enlargingFactor = 5;</span><span class="s3">\n                </span><span class="s1">const [parsedBodyFontSize = defaultConfig_default.fontSize] = parseFontSize(bodyFontSize);</span><span class="s3">\n                </span><span class="s1">const width = parsedBodyFontSize * enlargingFactor + </span><span class="s3">\&quot;</span><span class="s1">px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">img.style.minWidth = width;</span><span class="s3">\n                </span><span class="s1">img.style.maxWidth = width;</span><span class="s3">\n              </span><span class="s1">} else {</span><span class="s3">\n                </span><span class="s1">img.style.width = </span><span class="s3">\&quot;</span><span class="s1">100%</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n              </span><span class="s1">res(img);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">__name(setupImage, </span><span class="s3">\&quot;</span><span class="s1">setupImage</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">setTimeout(() =&gt; {</span><span class="s3">\n              </span><span class="s1">if (img.complete) {</span><span class="s3">\n                </span><span class="s1">setupImage();</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">img.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;</span><span class="s1">, setupImage);</span><span class="s3">\n            </span><span class="s1">img.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">load</span><span class="s3">\&quot;</span><span class="s1">, setupImage);</span><span class="s3">\n          </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">bbox = div.getBoundingClientRect();</span><span class="s3">\n    </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, bbox.width);</span><span class="s3">\n    </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, bbox.height);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (useHtmlLabels) {</span><span class="s3">\n    </span><span class="s1">labelEl.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ -bbox.width / 2 + </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+ -bbox.height / 2 + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">labelEl.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">translate(0, </span><span class="s3">\&quot; </span><span class="s1">+ -bbox.height / 2 + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (node.centerLabel) {</span><span class="s3">\n    </span><span class="s1">labelEl.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ -bbox.width / 2 + </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+ -bbox.height / 2 + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">labelEl.insert(</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { shapeSvg, bbox, halfPadding, label: labelEl };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">labelHelper</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var insertLabel = /* @__PURE__ */ __name(async (parent, label, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">const useHtmlLabels = options.useHtmlLabels || evaluate(getConfig2()?.flowchart?.htmlLabels);</span><span class="s3">\n  </span><span class="s1">const labelEl = parent.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, options.labelStyle || </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const text2 = await createText(labelEl, sanitizeText(decodeEntities(label), getConfig2()), {</span><span class="s3">\n    </span><span class="s1">useHtmlLabels,</span><span class="s3">\n    </span><span class="s1">width: options.width || getConfig2()?.flowchart?.wrappingWidth,</span><span class="s3">\n    </span><span class="s1">style: options.labelStyle,</span><span class="s3">\n    </span><span class="s1">addSvgBackground: !!options.icon || !!options.img</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">let bbox = text2.getBBox();</span><span class="s3">\n  </span><span class="s1">const halfPadding = options.padding / 2;</span><span class="s3">\n  </span><span class="s1">if (evaluate(getConfig2()?.flowchart?.htmlLabels)) {</span><span class="s3">\n    </span><span class="s1">const div = text2.children[0];</span><span class="s3">\n    </span><span class="s1">const dv = select(text2);</span><span class="s3">\n    </span><span class="s1">bbox = div.getBoundingClientRect();</span><span class="s3">\n    </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, bbox.width);</span><span class="s3">\n    </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, bbox.height);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (useHtmlLabels) {</span><span class="s3">\n    </span><span class="s1">labelEl.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ -bbox.width / 2 + </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+ -bbox.height / 2 + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">labelEl.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">translate(0, </span><span class="s3">\&quot; </span><span class="s1">+ -bbox.height / 2 + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (options.centerLabel) {</span><span class="s3">\n    </span><span class="s1">labelEl.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ -bbox.width / 2 + </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+ -bbox.height / 2 + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">labelEl.insert(</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { shapeSvg: parent, bbox, halfPadding, label: labelEl };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">insertLabel</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var updateNodeBounds = /* @__PURE__ */ __name((node, element) =&gt; {</span><span class="s3">\n  </span><span class="s1">const bbox = element.node().getBBox();</span><span class="s3">\n  </span><span class="s1">node.width = bbox.width;</span><span class="s3">\n  </span><span class="s1">node.height = bbox.height;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">updateNodeBounds</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getNodeClasses = /* @__PURE__ */ __name((node, extra) =&gt; (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">rough-node</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">node</span><span class="s3">\&quot;</span><span class="s1">) + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ node.cssClasses + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ (extra || </span><span class="s3">\&quot;\&quot;</span><span class="s1">), </span><span class="s3">\&quot;</span><span class="s1">getNodeClasses</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function createPathFromPoints(points) {</span><span class="s3">\n  </span><span class="s1">const pointStrings = points.map((p, i) =&gt; `${i === 0 ? </span><span class="s3">\&quot;</span><span class="s1">M</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">L</span><span class="s3">\&quot;</span><span class="s1">}${p.x},${p.y}`);</span><span class="s3">\n  </span><span class="s1">pointStrings.push(</span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return pointStrings.join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(createPathFromPoints, </span><span class="s3">\&quot;</span><span class="s1">createPathFromPoints</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function generateFullSineWavePoints(x1, y1, x2, y2, amplitude, numCycles) {</span><span class="s3">\n  </span><span class="s1">const points = [];</span><span class="s3">\n  </span><span class="s1">const steps = 50;</span><span class="s3">\n  </span><span class="s1">const deltaX = x2 - x1;</span><span class="s3">\n  </span><span class="s1">const deltaY = y2 - y1;</span><span class="s3">\n  </span><span class="s1">const cycleLength = deltaX / numCycles;</span><span class="s3">\n  </span><span class="s1">const frequency = 2 * Math.PI / cycleLength;</span><span class="s3">\n  </span><span class="s1">const midY = y1 + deltaY / 2;</span><span class="s3">\n  </span><span class="s1">for (let i = 0; i &lt;= steps; i++) {</span><span class="s3">\n    </span><span class="s1">const t = i / steps;</span><span class="s3">\n    </span><span class="s1">const x = x1 + t * deltaX;</span><span class="s3">\n    </span><span class="s1">const y = midY + amplitude * Math.sin(frequency * (x - x1));</span><span class="s3">\n    </span><span class="s1">points.push({ x, y });</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return points;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(generateFullSineWavePoints, </span><span class="s3">\&quot;</span><span class="s1">generateFullSineWavePoints</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function generateCirclePoints(centerX, centerY, radius, numPoints, startAngle, endAngle) {</span><span class="s3">\n  </span><span class="s1">const points = [];</span><span class="s3">\n  </span><span class="s1">const startAngleRad = startAngle * Math.PI / 180;</span><span class="s3">\n  </span><span class="s1">const endAngleRad = endAngle * Math.PI / 180;</span><span class="s3">\n  </span><span class="s1">const angleRange = endAngleRad - startAngleRad;</span><span class="s3">\n  </span><span class="s1">const angleStep = angleRange / (numPoints - 1);</span><span class="s3">\n  </span><span class="s1">for (let i = 0; i &lt; numPoints; i++) {</span><span class="s3">\n    </span><span class="s1">const angle = startAngleRad + i * angleStep;</span><span class="s3">\n    </span><span class="s1">const x = centerX + radius * Math.cos(angle);</span><span class="s3">\n    </span><span class="s1">const y = centerY + radius * Math.sin(angle);</span><span class="s3">\n    </span><span class="s1">points.push({ x: -x, y: -y });</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return points;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(generateCirclePoints, </span><span class="s3">\&quot;</span><span class="s1">generateCirclePoints</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/clusters.js</span><span class="s3">\n</span><span class="s1">import { select as select3 } from </span><span class="s3">\&quot;</span><span class="s1">d3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import rough from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/intersect/intersect-rect.js</span><span class="s3">\n</span><span class="s1">var intersectRect = /* @__PURE__ */ __name((node, point) =&gt; {</span><span class="s3">\n  </span><span class="s1">var x = node.x;</span><span class="s3">\n  </span><span class="s1">var y = node.y;</span><span class="s3">\n  </span><span class="s1">var dx = point.x - x;</span><span class="s3">\n  </span><span class="s1">var dy = point.y - y;</span><span class="s3">\n  </span><span class="s1">var w = node.width / 2;</span><span class="s3">\n  </span><span class="s1">var h = node.height / 2;</span><span class="s3">\n  </span><span class="s1">var sx, sy;</span><span class="s3">\n  </span><span class="s1">if (Math.abs(dy) * w &gt; Math.abs(dx) * h) {</span><span class="s3">\n    </span><span class="s1">if (dy &lt; 0) {</span><span class="s3">\n      </span><span class="s1">h = -h;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">sx = dy === 0 ? 0 : h * dx / dy;</span><span class="s3">\n    </span><span class="s1">sy = h;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">if (dx &lt; 0) {</span><span class="s3">\n      </span><span class="s1">w = -w;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">sx = w;</span><span class="s3">\n    </span><span class="s1">sy = dx === 0 ? 0 : w * dy / dx;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return { x: x + sx, y: y + sy };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">intersectRect</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var intersect_rect_default = intersectRect;</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/createLabel.js</span><span class="s3">\n</span><span class="s1">import { select as select2 } from </span><span class="s3">\&quot;</span><span class="s1">d3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function applyStyle(dom, styleFn) {</span><span class="s3">\n  </span><span class="s1">if (styleFn) {</span><span class="s3">\n    </span><span class="s1">dom.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, styleFn);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(applyStyle, </span><span class="s3">\&quot;</span><span class="s1">applyStyle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">async function addHtmlLabel(node) {</span><span class="s3">\n  </span><span class="s1">const fo = select2(document.createElementNS(</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">foreignObject</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">const div = fo.append(</span><span class="s3">\&quot;</span><span class="s1">xhtml:div</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">let label = node.label;</span><span class="s3">\n  </span><span class="s1">if (node.label &amp;&amp; hasKatex(node.label)) {</span><span class="s3">\n    </span><span class="s1">label = await renderKatex(node.label.replace(common_default.lineBreakRegex, </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">), getConfig2());</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const labelClass = node.isNode ? </span><span class="s3">\&quot;</span><span class="s1">nodeLabel</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">edgeLabel</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">div.html(</span><span class="s3">\n    </span><span class="s1">'&lt;span class=</span><span class="s3">\&quot;</span><span class="s1">' + labelClass + '</span><span class="s3">\&quot; </span><span class="s1">' + (node.labelStyle ? 'style=</span><span class="s3">\&quot;</span><span class="s1">' + node.labelStyle + '</span><span class="s3">\&quot;</span><span class="s1">' : </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + // codeql [js/html-constructed-from-input] : false positive</span><span class="s3">\n    \&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot; </span><span class="s1">+ label + </span><span class="s3">\&quot;</span><span class="s1">&lt;/span&gt;</span><span class="s3">\&quot;\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">applyStyle(div, node.labelStyle);</span><span class="s3">\n  </span><span class="s1">div.style(</span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">inline-block</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">div.style(</span><span class="s3">\&quot;</span><span class="s1">padding-right</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">1px</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">div.style(</span><span class="s3">\&quot;</span><span class="s1">white-space</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">nowrap</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">div.attr(</span><span class="s3">\&quot;</span><span class="s1">xmlns</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/1999/xhtml</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return fo.node();</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(addHtmlLabel, </span><span class="s3">\&quot;</span><span class="s1">addHtmlLabel</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var createLabel = /* @__PURE__ */ __name(async (_vertexText, style, isTitle, isNode) =&gt; {</span><span class="s3">\n  </span><span class="s1">let vertexText = _vertexText || </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">if (typeof vertexText === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">vertexText = vertexText[0];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (evaluate(getConfig2().flowchart.htmlLabels)) {</span><span class="s3">\n    </span><span class="s1">vertexText = vertexText.replace(/</span><span class="s3">\\\\</span><span class="s1">n|</span><span class="s3">\\</span><span class="s1">n/g, </span><span class="s3">\&quot;</span><span class="s1">&lt;br /&gt;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">vertexText</span><span class="s3">\&quot; </span><span class="s1">+ vertexText);</span><span class="s3">\n    </span><span class="s1">const node = {</span><span class="s3">\n      </span><span class="s1">isNode,</span><span class="s3">\n      </span><span class="s1">label: decodeEntities(vertexText).replace(</span><span class="s3">\n        </span><span class="s1">/fa[blrs]?:fa-[</span><span class="s3">\\</span><span class="s1">w-]+/g,</span><span class="s3">\n        </span><span class="s1">(s) =&gt; `&lt;i class='${s.replace(</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; \&quot;</span><span class="s1">)}'&gt;&lt;/i&gt;`</span><span class="s3">\n      </span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">labelStyle: style ? style.replace(</span><span class="s3">\&quot;</span><span class="s1">fill:</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">color:</span><span class="s3">\&quot;</span><span class="s1">) : style</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">let vertexNode = await addHtmlLabel(node);</span><span class="s3">\n    </span><span class="s1">return vertexNode;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">const svgLabel = document.createElementNS(</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">svgLabel.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, style.replace(</span><span class="s3">\&quot;</span><span class="s1">color:</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">fill:</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n    </span><span class="s1">let rows = [];</span><span class="s3">\n    </span><span class="s1">if (typeof vertexText === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">rows = vertexText.split(/</span><span class="s3">\\\\</span><span class="s1">n|</span><span class="s3">\\</span><span class="s1">n|&lt;br</span><span class="s3">\\</span><span class="s1">s*</span><span class="s3">\\</span><span class="s1">/?&gt;/gi);</span><span class="s3">\n    </span><span class="s1">} else if (Array.isArray(vertexText)) {</span><span class="s3">\n      </span><span class="s1">rows = vertexText;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">rows = [];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">for (const row of rows) {</span><span class="s3">\n      </span><span class="s1">const tspan = document.createElementNS(</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">tspan</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">tspan.setAttributeNS(</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/XML/1998/namespace</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">xml:space</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">preserve</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">tspan.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">dy</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">1em</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">tspan.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">if (isTitle) {</span><span class="s3">\n        </span><span class="s1">tspan.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">title-row</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">tspan.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">row</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">tspan.textContent = row.trim();</span><span class="s3">\n      </span><span class="s1">svgLabel.appendChild(tspan);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return svgLabel;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">createLabel</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var createLabel_default = createLabel;</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/roundedRectPath.ts</span><span class="s3">\n</span><span class="s1">var createRoundedRectPathD = /* @__PURE__ */ __name((x, y, totalWidth, totalHeight, radius) =&gt; [</span><span class="s3">\n  \&quot;</span><span class="s1">M</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">x + radius,</span><span class="s3">\n  </span><span class="s1">y,</span><span class="s3">\n  </span><span class="s1">// Move to the first point</span><span class="s3">\n  \&quot;</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">x + totalWidth - radius,</span><span class="s3">\n  </span><span class="s1">// Draw horizontal line to the beginning of the right corner</span><span class="s3">\n  \&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">radius,</span><span class="s3">\n  </span><span class="s1">radius,</span><span class="s3">\n  </span><span class="s1">0,</span><span class="s3">\n  </span><span class="s1">0,</span><span class="s3">\n  </span><span class="s1">1,</span><span class="s3">\n  </span><span class="s1">x + totalWidth,</span><span class="s3">\n  </span><span class="s1">y + radius,</span><span class="s3">\n  </span><span class="s1">// Draw arc to the right top corner</span><span class="s3">\n  \&quot;</span><span class="s1">V</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">y + totalHeight - radius,</span><span class="s3">\n  </span><span class="s1">// Draw vertical line down to the beginning of the right bottom corner</span><span class="s3">\n  \&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">radius,</span><span class="s3">\n  </span><span class="s1">radius,</span><span class="s3">\n  </span><span class="s1">0,</span><span class="s3">\n  </span><span class="s1">0,</span><span class="s3">\n  </span><span class="s1">1,</span><span class="s3">\n  </span><span class="s1">x + totalWidth - radius,</span><span class="s3">\n  </span><span class="s1">y + totalHeight,</span><span class="s3">\n  </span><span class="s1">// Draw arc to the right bottom corner</span><span class="s3">\n  \&quot;</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">x + radius,</span><span class="s3">\n  </span><span class="s1">// Draw horizontal line to the beginning of the left bottom corner</span><span class="s3">\n  \&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">radius,</span><span class="s3">\n  </span><span class="s1">radius,</span><span class="s3">\n  </span><span class="s1">0,</span><span class="s3">\n  </span><span class="s1">0,</span><span class="s3">\n  </span><span class="s1">1,</span><span class="s3">\n  </span><span class="s1">x,</span><span class="s3">\n  </span><span class="s1">y + totalHeight - radius,</span><span class="s3">\n  </span><span class="s1">// Draw arc to the left bottom corner</span><span class="s3">\n  \&quot;</span><span class="s1">V</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">y + radius,</span><span class="s3">\n  </span><span class="s1">// Draw vertical line up to the beginning of the left top corner</span><span class="s3">\n  \&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">radius,</span><span class="s3">\n  </span><span class="s1">radius,</span><span class="s3">\n  </span><span class="s1">0,</span><span class="s3">\n  </span><span class="s1">0,</span><span class="s3">\n  </span><span class="s1">1,</span><span class="s3">\n  </span><span class="s1">x + radius,</span><span class="s3">\n  </span><span class="s1">y,</span><span class="s3">\n  </span><span class="s1">// Draw arc to the left top corner</span><span class="s3">\n  \&quot;</span><span class="s1">Z</span><span class="s3">\&quot;\n  </span><span class="s1">// Close the path</span><span class="s3">\n</span><span class="s1">].join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">), </span><span class="s3">\&quot;</span><span class="s1">createRoundedRectPathD</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/handDrawnShapeStyles.ts</span><span class="s3">\n</span><span class="s1">var solidStateFill = /* @__PURE__ */ __name((color) =&gt; {</span><span class="s3">\n  </span><span class="s1">const { handDrawnSeed } = getConfig2();</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">fill: color,</span><span class="s3">\n    </span><span class="s1">hachureAngle: 120,</span><span class="s3">\n    </span><span class="s1">// angle of hachure,</span><span class="s3">\n    </span><span class="s1">hachureGap: 4,</span><span class="s3">\n    </span><span class="s1">fillWeight: 2,</span><span class="s3">\n    </span><span class="s1">roughness: 0.7,</span><span class="s3">\n    </span><span class="s1">stroke: color,</span><span class="s3">\n    </span><span class="s1">seed: handDrawnSeed</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">solidStateFill</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var compileStyles = /* @__PURE__ */ __name((node) =&gt; {</span><span class="s3">\n  </span><span class="s1">const stylesMap = styles2Map([...node.cssCompiledStyles || [], ...node.cssStyles || []]);</span><span class="s3">\n  </span><span class="s1">return { stylesMap, stylesArray: [...stylesMap] };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">compileStyles</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var styles2Map = /* @__PURE__ */ __name((styles) =&gt; {</span><span class="s3">\n  </span><span class="s1">const styleMap = /* @__PURE__ */ new Map();</span><span class="s3">\n  </span><span class="s1">styles.forEach((style) =&gt; {</span><span class="s3">\n    </span><span class="s1">const [key, value] = style.split(</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">styleMap.set(key.trim(), value?.trim());</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">return styleMap;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">styles2Map</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var isLabelStyle = /* @__PURE__ */ __name((key) =&gt; {</span><span class="s3">\n  </span><span class="s1">return key === </span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot; </span><span class="s1">|| key === </span><span class="s3">\&quot;</span><span class="s1">font-size</span><span class="s3">\&quot; </span><span class="s1">|| key === </span><span class="s3">\&quot;</span><span class="s1">font-family</span><span class="s3">\&quot; </span><span class="s1">|| key === </span><span class="s3">\&quot;</span><span class="s1">font-weight</span><span class="s3">\&quot; </span><span class="s1">|| key === </span><span class="s3">\&quot;</span><span class="s1">font-style</span><span class="s3">\&quot; </span><span class="s1">|| key === </span><span class="s3">\&quot;</span><span class="s1">text-decoration</span><span class="s3">\&quot; </span><span class="s1">|| key === </span><span class="s3">\&quot;</span><span class="s1">text-align</span><span class="s3">\&quot; </span><span class="s1">|| key === </span><span class="s3">\&quot;</span><span class="s1">text-transform</span><span class="s3">\&quot; </span><span class="s1">|| key === </span><span class="s3">\&quot;</span><span class="s1">line-height</span><span class="s3">\&quot; </span><span class="s1">|| key === </span><span class="s3">\&quot;</span><span class="s1">letter-spacing</span><span class="s3">\&quot; </span><span class="s1">|| key === </span><span class="s3">\&quot;</span><span class="s1">word-spacing</span><span class="s3">\&quot; </span><span class="s1">|| key === </span><span class="s3">\&quot;</span><span class="s1">text-shadow</span><span class="s3">\&quot; </span><span class="s1">|| key === </span><span class="s3">\&quot;</span><span class="s1">text-overflow</span><span class="s3">\&quot; </span><span class="s1">|| key === </span><span class="s3">\&quot;</span><span class="s1">white-space</span><span class="s3">\&quot; </span><span class="s1">|| key === </span><span class="s3">\&quot;</span><span class="s1">word-wrap</span><span class="s3">\&quot; </span><span class="s1">|| key === </span><span class="s3">\&quot;</span><span class="s1">word-break</span><span class="s3">\&quot; </span><span class="s1">|| key === </span><span class="s3">\&quot;</span><span class="s1">overflow-wrap</span><span class="s3">\&quot; </span><span class="s1">|| key === </span><span class="s3">\&quot;</span><span class="s1">hyphens</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">isLabelStyle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var styles2String = /* @__PURE__ */ __name((node) =&gt; {</span><span class="s3">\n  </span><span class="s1">const { stylesArray } = compileStyles(node);</span><span class="s3">\n  </span><span class="s1">const labelStyles = [];</span><span class="s3">\n  </span><span class="s1">const nodeStyles = [];</span><span class="s3">\n  </span><span class="s1">const borderStyles = [];</span><span class="s3">\n  </span><span class="s1">const backgroundStyles = [];</span><span class="s3">\n  </span><span class="s1">stylesArray.forEach((style) =&gt; {</span><span class="s3">\n    </span><span class="s1">const key = style[0];</span><span class="s3">\n    </span><span class="s1">if (isLabelStyle(key)) {</span><span class="s3">\n      </span><span class="s1">labelStyles.push(style.join(</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">) + </span><span class="s3">\&quot; </span><span class="s1">!important</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">nodeStyles.push(style.join(</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">) + </span><span class="s3">\&quot; </span><span class="s1">!important</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">if (key.includes(</span><span class="s3">\&quot;</span><span class="s1">stroke</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n        </span><span class="s1">borderStyles.push(style.join(</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">) + </span><span class="s3">\&quot; </span><span class="s1">!important</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (key === </span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">backgroundStyles.push(style.join(</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">) + </span><span class="s3">\&quot; </span><span class="s1">!important</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">labelStyles: labelStyles.join(</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">nodeStyles: nodeStyles.join(</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">stylesArray,</span><span class="s3">\n    </span><span class="s1">borderStyles,</span><span class="s3">\n    </span><span class="s1">backgroundStyles</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">styles2String</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var userNodeOverrides = /* @__PURE__ */ __name((node, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">const { themeVariables, handDrawnSeed } = getConfig2();</span><span class="s3">\n  </span><span class="s1">const { nodeBorder, mainBkg } = themeVariables;</span><span class="s3">\n  </span><span class="s1">const { stylesMap } = compileStyles(node);</span><span class="s3">\n  </span><span class="s1">const result = Object.assign(</span><span class="s3">\n    </span><span class="s1">{</span><span class="s3">\n      </span><span class="s1">roughness: 0.7,</span><span class="s3">\n      </span><span class="s1">fill: stylesMap.get(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">) || mainBkg,</span><span class="s3">\n      </span><span class="s1">fillStyle: </span><span class="s3">\&quot;</span><span class="s1">hachure</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">// solid fill</span><span class="s3">\n      </span><span class="s1">fillWeight: 4,</span><span class="s3">\n      </span><span class="s1">hachureGap: 5.2,</span><span class="s3">\n      </span><span class="s1">stroke: stylesMap.get(</span><span class="s3">\&quot;</span><span class="s1">stroke</span><span class="s3">\&quot;</span><span class="s1">) || nodeBorder,</span><span class="s3">\n      </span><span class="s1">seed: handDrawnSeed,</span><span class="s3">\n      </span><span class="s1">strokeWidth: stylesMap.get(</span><span class="s3">\&quot;</span><span class="s1">stroke-width</span><span class="s3">\&quot;</span><span class="s1">)?.replace(</span><span class="s3">\&quot;</span><span class="s1">px</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">) || 1.3,</span><span class="s3">\n      </span><span class="s1">fillLineDash: [0, 0]</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">options</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">userNodeOverrides</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/clusters.js</span><span class="s3">\n</span><span class="s1">var rect = /* @__PURE__ */ __name(async (parent, node) =&gt; {</span><span class="s3">\n  </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Creating subgraph rect for </span><span class="s3">\&quot;</span><span class="s1">, node.id, node);</span><span class="s3">\n  </span><span class="s1">const siteConfig = getConfig2();</span><span class="s3">\n  </span><span class="s1">const { themeVariables, handDrawnSeed } = siteConfig;</span><span class="s3">\n  </span><span class="s1">const { clusterBkg, clusterBorder } = themeVariables;</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles, borderStyles, backgroundStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">const shapeSvg = parent.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">cluster </span><span class="s3">\&quot; </span><span class="s1">+ node.cssClasses).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, node.id).attr(</span><span class="s3">\&quot;</span><span class="s1">data-look</span><span class="s3">\&quot;</span><span class="s1">, node.look);</span><span class="s3">\n  </span><span class="s1">const useHtmlLabels = evaluate(siteConfig.flowchart.htmlLabels);</span><span class="s3">\n  </span><span class="s1">const labelEl = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">cluster-label </span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const text2 = await createText(labelEl, node.label, {</span><span class="s3">\n    </span><span class="s1">style: node.labelStyle,</span><span class="s3">\n    </span><span class="s1">useHtmlLabels,</span><span class="s3">\n    </span><span class="s1">isNode: true</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">let bbox = text2.getBBox();</span><span class="s3">\n  </span><span class="s1">if (evaluate(siteConfig.flowchart.htmlLabels)) {</span><span class="s3">\n    </span><span class="s1">const div = text2.children[0];</span><span class="s3">\n    </span><span class="s1">const dv = select3(text2);</span><span class="s3">\n    </span><span class="s1">bbox = div.getBoundingClientRect();</span><span class="s3">\n    </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, bbox.width);</span><span class="s3">\n    </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, bbox.height);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const width = node.width &lt;= bbox.width + node.padding ? bbox.width + node.padding : node.width;</span><span class="s3">\n  </span><span class="s1">if (node.width &lt;= bbox.width + node.padding) {</span><span class="s3">\n    </span><span class="s1">node.diff = (width - node.width) / 2 - node.padding;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">node.diff = -node.padding;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const height = node.height;</span><span class="s3">\n  </span><span class="s1">const x = node.x - width / 2;</span><span class="s3">\n  </span><span class="s1">const y = node.y - height / 2;</span><span class="s3">\n  </span><span class="s1">log.trace(</span><span class="s3">\&quot;</span><span class="s1">Data </span><span class="s3">\&quot;</span><span class="s1">, node, JSON.stringify(node));</span><span class="s3">\n  </span><span class="s1">let rect2;</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const options = userNodeOverrides(node, {</span><span class="s3">\n      </span><span class="s1">roughness: 0.7,</span><span class="s3">\n      </span><span class="s1">fill: clusterBkg,</span><span class="s3">\n      </span><span class="s1">// fill: 'red',</span><span class="s3">\n      </span><span class="s1">stroke: clusterBorder,</span><span class="s3">\n      </span><span class="s1">fillWeight: 3,</span><span class="s3">\n      </span><span class="s1">seed: handDrawnSeed</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">const roughNode = rc.path(createRoundedRectPathD(x, y, width, height, 0), options);</span><span class="s3">\n    </span><span class="s1">rect2 = shapeSvg.insert(() =&gt; {</span><span class="s3">\n      </span><span class="s1">log.debug(</span><span class="s3">\&quot;</span><span class="s1">Rough node insert CXC</span><span class="s3">\&quot;</span><span class="s1">, roughNode);</span><span class="s3">\n      </span><span class="s1">return roughNode;</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">rect2.select(</span><span class="s3">\&quot;</span><span class="s1">path:nth-child(2)</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, borderStyles.join(</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n    </span><span class="s1">rect2.select(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, backgroundStyles.join(</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">).replace(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">stroke</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">rect2 = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">rect2.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles).attr(</span><span class="s3">\&quot;</span><span class="s1">rx</span><span class="s3">\&quot;</span><span class="s1">, node.rx).attr(</span><span class="s3">\&quot;</span><span class="s1">ry</span><span class="s3">\&quot;</span><span class="s1">, node.ry).attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, x).attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, y).attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, width).attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, height);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const { subGraphTitleTopMargin } = getSubGraphTitleMargins(siteConfig);</span><span class="s3">\n  </span><span class="s1">labelEl.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">// This puts the label on top of the box instead of inside it</span><span class="s3">\n    </span><span class="s1">`translate(${node.x - bbox.width / 2}, ${node.y - node.height / 2 + subGraphTitleTopMargin})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (labelStyles) {</span><span class="s3">\n    </span><span class="s1">const span = labelEl.select(</span><span class="s3">\&quot;</span><span class="s1">span</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (span) {</span><span class="s3">\n      </span><span class="s1">span.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, labelStyles);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const rectBox = rect2.node().getBBox();</span><span class="s3">\n  </span><span class="s1">node.offsetX = 0;</span><span class="s3">\n  </span><span class="s1">node.width = rectBox.width;</span><span class="s3">\n  </span><span class="s1">node.height = rectBox.height;</span><span class="s3">\n  </span><span class="s1">node.offsetY = bbox.height - node.padding / 2;</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_rect_default(node, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return { cluster: shapeSvg, labelBBox: bbox };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var noteGroup = /* @__PURE__ */ __name((parent, node) =&gt; {</span><span class="s3">\n  </span><span class="s1">const shapeSvg = parent.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">note-cluster</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, node.id);</span><span class="s3">\n  </span><span class="s1">const rect2 = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const padding = 0 * node.padding;</span><span class="s3">\n  </span><span class="s1">const halfPadding = padding / 2;</span><span class="s3">\n  </span><span class="s1">rect2.attr(</span><span class="s3">\&quot;</span><span class="s1">rx</span><span class="s3">\&quot;</span><span class="s1">, node.rx).attr(</span><span class="s3">\&quot;</span><span class="s1">ry</span><span class="s3">\&quot;</span><span class="s1">, node.ry).attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, node.x - node.width / 2 - halfPadding).attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, node.y - node.height / 2 - halfPadding).attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, node.width + padding).attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, node.height + padding).attr(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const rectBox = rect2.node().getBBox();</span><span class="s3">\n  </span><span class="s1">node.width = rectBox.width;</span><span class="s3">\n  </span><span class="s1">node.height = rectBox.height;</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_rect_default(node, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return { cluster: shapeSvg, labelBBox: { width: 0, height: 0 } };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">noteGroup</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var roundedWithTitle = /* @__PURE__ */ __name(async (parent, node) =&gt; {</span><span class="s3">\n  </span><span class="s1">const siteConfig = getConfig2();</span><span class="s3">\n  </span><span class="s1">const { themeVariables, handDrawnSeed } = siteConfig;</span><span class="s3">\n  </span><span class="s1">const { altBackground, compositeBackground, compositeTitleBackground, nodeBorder } = themeVariables;</span><span class="s3">\n  </span><span class="s1">const shapeSvg = parent.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, node.cssClasses).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, node.id).attr(</span><span class="s3">\&quot;</span><span class="s1">data-id</span><span class="s3">\&quot;</span><span class="s1">, node.id).attr(</span><span class="s3">\&quot;</span><span class="s1">data-look</span><span class="s3">\&quot;</span><span class="s1">, node.look);</span><span class="s3">\n  </span><span class="s1">const outerRectG = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const label = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">cluster-label</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">let innerRect = shapeSvg.append(</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const text2 = label.node().appendChild(await createLabel_default(node.label, node.labelStyle, void 0, true));</span><span class="s3">\n  </span><span class="s1">let bbox = text2.getBBox();</span><span class="s3">\n  </span><span class="s1">if (evaluate(siteConfig.flowchart.htmlLabels)) {</span><span class="s3">\n    </span><span class="s1">const div = text2.children[0];</span><span class="s3">\n    </span><span class="s1">const dv = select3(text2);</span><span class="s3">\n    </span><span class="s1">bbox = div.getBoundingClientRect();</span><span class="s3">\n    </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, bbox.width);</span><span class="s3">\n    </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, bbox.height);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const padding = 0 * node.padding;</span><span class="s3">\n  </span><span class="s1">const halfPadding = padding / 2;</span><span class="s3">\n  </span><span class="s1">const width = (node.width &lt;= bbox.width + node.padding ? bbox.width + node.padding : node.width) + padding;</span><span class="s3">\n  </span><span class="s1">if (node.width &lt;= bbox.width + node.padding) {</span><span class="s3">\n    </span><span class="s1">node.diff = (width - node.width) / 2 - node.padding;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">node.diff = -node.padding;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const height = node.height + padding;</span><span class="s3">\n  </span><span class="s1">const innerHeight = node.height + padding - bbox.height - 6;</span><span class="s3">\n  </span><span class="s1">const x = node.x - width / 2;</span><span class="s3">\n  </span><span class="s1">const y = node.y - height / 2;</span><span class="s3">\n  </span><span class="s1">node.width = width;</span><span class="s3">\n  </span><span class="s1">const innerY = node.y - node.height / 2 - halfPadding + bbox.height + 2;</span><span class="s3">\n  </span><span class="s1">let rect2;</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const isAlt = node.cssClasses.includes(</span><span class="s3">\&quot;</span><span class="s1">statediagram-cluster-alt</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const rc = rough.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const roughOuterNode = node.rx || node.ry ? rc.path(createRoundedRectPathD(x, y, width, height, 10), {</span><span class="s3">\n      </span><span class="s1">roughness: 0.7,</span><span class="s3">\n      </span><span class="s1">fill: compositeTitleBackground,</span><span class="s3">\n      </span><span class="s1">fillStyle: </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">stroke: nodeBorder,</span><span class="s3">\n      </span><span class="s1">seed: handDrawnSeed</span><span class="s3">\n    </span><span class="s1">}) : rc.rectangle(x, y, width, height, { seed: handDrawnSeed });</span><span class="s3">\n    </span><span class="s1">rect2 = shapeSvg.insert(() =&gt; roughOuterNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const roughInnerNode = rc.rectangle(x, innerY, width, innerHeight, {</span><span class="s3">\n      </span><span class="s1">fill: isAlt ? altBackground : compositeBackground,</span><span class="s3">\n      </span><span class="s1">fillStyle: isAlt ? </span><span class="s3">\&quot;</span><span class="s1">hachure</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">stroke: nodeBorder,</span><span class="s3">\n      </span><span class="s1">seed: handDrawnSeed</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">rect2 = shapeSvg.insert(() =&gt; roughOuterNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">innerRect = shapeSvg.insert(() =&gt; roughInnerNode);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">rect2 = outerRectG.insert(</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const outerRectClass = </span><span class="s3">\&quot;</span><span class="s1">outer</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">rect2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, outerRectClass).attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, x).attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, y).attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, width).attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, height).attr(</span><span class="s3">\&quot;</span><span class="s1">data-look</span><span class="s3">\&quot;</span><span class="s1">, node.look);</span><span class="s3">\n    </span><span class="s1">innerRect.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">inner</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, x).attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, innerY).attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, width).attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, innerHeight);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${node.x - bbox.width / 2}, ${y + 1 - (evaluate(siteConfig.flowchart.htmlLabels) ? 0 : 3)})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const rectBox = rect2.node().getBBox();</span><span class="s3">\n  </span><span class="s1">node.height = rectBox.height;</span><span class="s3">\n  </span><span class="s1">node.offsetX = 0;</span><span class="s3">\n  </span><span class="s1">node.offsetY = bbox.height - node.padding / 2;</span><span class="s3">\n  </span><span class="s1">node.labelBBox = bbox;</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_rect_default(node, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return { cluster: shapeSvg, labelBBox: bbox };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">roundedWithTitle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var kanbanSection = /* @__PURE__ */ __name(async (parent, node) =&gt; {</span><span class="s3">\n  </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Creating subgraph rect for </span><span class="s3">\&quot;</span><span class="s1">, node.id, node);</span><span class="s3">\n  </span><span class="s1">const siteConfig = getConfig2();</span><span class="s3">\n  </span><span class="s1">const { themeVariables, handDrawnSeed } = siteConfig;</span><span class="s3">\n  </span><span class="s1">const { clusterBkg, clusterBorder } = themeVariables;</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles, borderStyles, backgroundStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">const shapeSvg = parent.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">cluster </span><span class="s3">\&quot; </span><span class="s1">+ node.cssClasses).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, node.id).attr(</span><span class="s3">\&quot;</span><span class="s1">data-look</span><span class="s3">\&quot;</span><span class="s1">, node.look);</span><span class="s3">\n  </span><span class="s1">const useHtmlLabels = evaluate(siteConfig.flowchart.htmlLabels);</span><span class="s3">\n  </span><span class="s1">const labelEl = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">cluster-label </span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const text2 = await createText(labelEl, node.label, {</span><span class="s3">\n    </span><span class="s1">style: node.labelStyle,</span><span class="s3">\n    </span><span class="s1">useHtmlLabels,</span><span class="s3">\n    </span><span class="s1">isNode: true,</span><span class="s3">\n    </span><span class="s1">width: node.width</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">let bbox = text2.getBBox();</span><span class="s3">\n  </span><span class="s1">if (evaluate(siteConfig.flowchart.htmlLabels)) {</span><span class="s3">\n    </span><span class="s1">const div = text2.children[0];</span><span class="s3">\n    </span><span class="s1">const dv = select3(text2);</span><span class="s3">\n    </span><span class="s1">bbox = div.getBoundingClientRect();</span><span class="s3">\n    </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, bbox.width);</span><span class="s3">\n    </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, bbox.height);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const width = node.width &lt;= bbox.width + node.padding ? bbox.width + node.padding : node.width;</span><span class="s3">\n  </span><span class="s1">if (node.width &lt;= bbox.width + node.padding) {</span><span class="s3">\n    </span><span class="s1">node.diff = (width - node.width) / 2 - node.padding;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">node.diff = -node.padding;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const height = node.height;</span><span class="s3">\n  </span><span class="s1">const x = node.x - width / 2;</span><span class="s3">\n  </span><span class="s1">const y = node.y - height / 2;</span><span class="s3">\n  </span><span class="s1">log.trace(</span><span class="s3">\&quot;</span><span class="s1">Data </span><span class="s3">\&quot;</span><span class="s1">, node, JSON.stringify(node));</span><span class="s3">\n  </span><span class="s1">let rect2;</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const options = userNodeOverrides(node, {</span><span class="s3">\n      </span><span class="s1">roughness: 0.7,</span><span class="s3">\n      </span><span class="s1">fill: clusterBkg,</span><span class="s3">\n      </span><span class="s1">// fill: 'red',</span><span class="s3">\n      </span><span class="s1">stroke: clusterBorder,</span><span class="s3">\n      </span><span class="s1">fillWeight: 4,</span><span class="s3">\n      </span><span class="s1">seed: handDrawnSeed</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">const roughNode = rc.path(createRoundedRectPathD(x, y, width, height, node.rx), options);</span><span class="s3">\n    </span><span class="s1">rect2 = shapeSvg.insert(() =&gt; {</span><span class="s3">\n      </span><span class="s1">log.debug(</span><span class="s3">\&quot;</span><span class="s1">Rough node insert CXC</span><span class="s3">\&quot;</span><span class="s1">, roughNode);</span><span class="s3">\n      </span><span class="s1">return roughNode;</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">rect2.select(</span><span class="s3">\&quot;</span><span class="s1">path:nth-child(2)</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, borderStyles.join(</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n    </span><span class="s1">rect2.select(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, backgroundStyles.join(</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">).replace(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">stroke</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">rect2 = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">rect2.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles).attr(</span><span class="s3">\&quot;</span><span class="s1">rx</span><span class="s3">\&quot;</span><span class="s1">, node.rx).attr(</span><span class="s3">\&quot;</span><span class="s1">ry</span><span class="s3">\&quot;</span><span class="s1">, node.ry).attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, x).attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, y).attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, width).attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, height);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const { subGraphTitleTopMargin } = getSubGraphTitleMargins(siteConfig);</span><span class="s3">\n  </span><span class="s1">labelEl.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">// This puts the label on top of the box instead of inside it</span><span class="s3">\n    </span><span class="s1">`translate(${node.x - bbox.width / 2}, ${node.y - node.height / 2 + subGraphTitleTopMargin})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (labelStyles) {</span><span class="s3">\n    </span><span class="s1">const span = labelEl.select(</span><span class="s3">\&quot;</span><span class="s1">span</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (span) {</span><span class="s3">\n      </span><span class="s1">span.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, labelStyles);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const rectBox = rect2.node().getBBox();</span><span class="s3">\n  </span><span class="s1">node.offsetX = 0;</span><span class="s3">\n  </span><span class="s1">node.width = rectBox.width;</span><span class="s3">\n  </span><span class="s1">node.height = rectBox.height;</span><span class="s3">\n  </span><span class="s1">node.offsetY = bbox.height - node.padding / 2;</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_rect_default(node, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return { cluster: shapeSvg, labelBBox: bbox };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">kanbanSection</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var divider = /* @__PURE__ */ __name((parent, node) =&gt; {</span><span class="s3">\n  </span><span class="s1">const siteConfig = getConfig2();</span><span class="s3">\n  </span><span class="s1">const { themeVariables, handDrawnSeed } = siteConfig;</span><span class="s3">\n  </span><span class="s1">const { nodeBorder } = themeVariables;</span><span class="s3">\n  </span><span class="s1">const shapeSvg = parent.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, node.cssClasses).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, node.id).attr(</span><span class="s3">\&quot;</span><span class="s1">data-look</span><span class="s3">\&quot;</span><span class="s1">, node.look);</span><span class="s3">\n  </span><span class="s1">const outerRectG = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const padding = 0 * node.padding;</span><span class="s3">\n  </span><span class="s1">const width = node.width + padding;</span><span class="s3">\n  </span><span class="s1">node.diff = -node.padding;</span><span class="s3">\n  </span><span class="s1">const height = node.height + padding;</span><span class="s3">\n  </span><span class="s1">const x = node.x - width / 2;</span><span class="s3">\n  </span><span class="s1">const y = node.y - height / 2;</span><span class="s3">\n  </span><span class="s1">node.width = width;</span><span class="s3">\n  </span><span class="s1">let rect2;</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const roughOuterNode = rc.rectangle(x, y, width, height, {</span><span class="s3">\n      </span><span class="s1">fill: </span><span class="s3">\&quot;</span><span class="s1">lightgrey</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">roughness: 0.5,</span><span class="s3">\n      </span><span class="s1">strokeLineDash: [5],</span><span class="s3">\n      </span><span class="s1">stroke: nodeBorder,</span><span class="s3">\n      </span><span class="s1">seed: handDrawnSeed</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">rect2 = shapeSvg.insert(() =&gt; roughOuterNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">rect2 = outerRectG.insert(</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const outerRectClass = </span><span class="s3">\&quot;</span><span class="s1">divider</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">rect2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, outerRectClass).attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, x).attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, y).attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, width).attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, height).attr(</span><span class="s3">\&quot;</span><span class="s1">data-look</span><span class="s3">\&quot;</span><span class="s1">, node.look);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const rectBox = rect2.node().getBBox();</span><span class="s3">\n  </span><span class="s1">node.height = rectBox.height;</span><span class="s3">\n  </span><span class="s1">node.offsetX = 0;</span><span class="s3">\n  </span><span class="s1">node.offsetY = 0;</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_rect_default(node, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return { cluster: shapeSvg, labelBBox: {} };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">divider</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var squareRect = rect;</span><span class="s3">\n</span><span class="s1">var shapes = {</span><span class="s3">\n  </span><span class="s1">rect,</span><span class="s3">\n  </span><span class="s1">squareRect,</span><span class="s3">\n  </span><span class="s1">roundedWithTitle,</span><span class="s3">\n  </span><span class="s1">noteGroup,</span><span class="s3">\n  </span><span class="s1">divider,</span><span class="s3">\n  </span><span class="s1">kanbanSection</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var clusterElems = /* @__PURE__ */ new Map();</span><span class="s3">\n</span><span class="s1">var insertCluster = /* @__PURE__ */ __name(async (elem, node) =&gt; {</span><span class="s3">\n  </span><span class="s1">const shape = node.shape || </span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">const cluster = await shapes[shape](elem, node);</span><span class="s3">\n  </span><span class="s1">clusterElems.set(node.id, cluster);</span><span class="s3">\n  </span><span class="s1">return cluster;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">insertCluster</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var clear = /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n  </span><span class="s1">clusterElems = /* @__PURE__ */ new Map();</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">clear</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/intersect/intersect-node.js</span><span class="s3">\n</span><span class="s1">function intersectNode(node, point) {</span><span class="s3">\n  </span><span class="s1">return node.intersect(point);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(intersectNode, </span><span class="s3">\&quot;</span><span class="s1">intersectNode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var intersect_node_default = intersectNode;</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/intersect/intersect-ellipse.js</span><span class="s3">\n</span><span class="s1">function intersectEllipse(node, rx, ry, point) {</span><span class="s3">\n  </span><span class="s1">var cx = node.x;</span><span class="s3">\n  </span><span class="s1">var cy = node.y;</span><span class="s3">\n  </span><span class="s1">var px = cx - point.x;</span><span class="s3">\n  </span><span class="s1">var py = cy - point.y;</span><span class="s3">\n  </span><span class="s1">var det = Math.sqrt(rx * rx * py * py + ry * ry * px * px);</span><span class="s3">\n  </span><span class="s1">var dx = Math.abs(rx * ry * px / det);</span><span class="s3">\n  </span><span class="s1">if (point.x &lt; cx) {</span><span class="s3">\n    </span><span class="s1">dx = -dx;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">var dy = Math.abs(rx * ry * py / det);</span><span class="s3">\n  </span><span class="s1">if (point.y &lt; cy) {</span><span class="s3">\n    </span><span class="s1">dy = -dy;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return { x: cx + dx, y: cy + dy };</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(intersectEllipse, </span><span class="s3">\&quot;</span><span class="s1">intersectEllipse</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var intersect_ellipse_default = intersectEllipse;</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/intersect/intersect-circle.js</span><span class="s3">\n</span><span class="s1">function intersectCircle(node, rx, point) {</span><span class="s3">\n  </span><span class="s1">return intersect_ellipse_default(node, rx, rx, point);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(intersectCircle, </span><span class="s3">\&quot;</span><span class="s1">intersectCircle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var intersect_circle_default = intersectCircle;</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/intersect/intersect-line.js</span><span class="s3">\n</span><span class="s1">function intersectLine(p1, p2, q1, q2) {</span><span class="s3">\n  </span><span class="s1">var a1, a2, b1, b2, c1, c2;</span><span class="s3">\n  </span><span class="s1">var r1, r2, r3, r4;</span><span class="s3">\n  </span><span class="s1">var denom, offset, num;</span><span class="s3">\n  </span><span class="s1">var x, y;</span><span class="s3">\n  </span><span class="s1">a1 = p2.y - p1.y;</span><span class="s3">\n  </span><span class="s1">b1 = p1.x - p2.x;</span><span class="s3">\n  </span><span class="s1">c1 = p2.x * p1.y - p1.x * p2.y;</span><span class="s3">\n  </span><span class="s1">r3 = a1 * q1.x + b1 * q1.y + c1;</span><span class="s3">\n  </span><span class="s1">r4 = a1 * q2.x + b1 * q2.y + c1;</span><span class="s3">\n  </span><span class="s1">if (r3 !== 0 &amp;&amp; r4 !== 0 &amp;&amp; sameSign(r3, r4)) {</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">a2 = q2.y - q1.y;</span><span class="s3">\n  </span><span class="s1">b2 = q1.x - q2.x;</span><span class="s3">\n  </span><span class="s1">c2 = q2.x * q1.y - q1.x * q2.y;</span><span class="s3">\n  </span><span class="s1">r1 = a2 * p1.x + b2 * p1.y + c2;</span><span class="s3">\n  </span><span class="s1">r2 = a2 * p2.x + b2 * p2.y + c2;</span><span class="s3">\n  </span><span class="s1">if (r1 !== 0 &amp;&amp; r2 !== 0 &amp;&amp; sameSign(r1, r2)) {</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">denom = a1 * b2 - a2 * b1;</span><span class="s3">\n  </span><span class="s1">if (denom === 0) {</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">offset = Math.abs(denom / 2);</span><span class="s3">\n  </span><span class="s1">num = b1 * c2 - b2 * c1;</span><span class="s3">\n  </span><span class="s1">x = num &lt; 0 ? (num - offset) / denom : (num + offset) / denom;</span><span class="s3">\n  </span><span class="s1">num = a2 * c1 - a1 * c2;</span><span class="s3">\n  </span><span class="s1">y = num &lt; 0 ? (num - offset) / denom : (num + offset) / denom;</span><span class="s3">\n  </span><span class="s1">return { x, y };</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(intersectLine, </span><span class="s3">\&quot;</span><span class="s1">intersectLine</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function sameSign(r1, r2) {</span><span class="s3">\n  </span><span class="s1">return r1 * r2 &gt; 0;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(sameSign, </span><span class="s3">\&quot;</span><span class="s1">sameSign</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var intersect_line_default = intersectLine;</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/intersect/intersect-polygon.js</span><span class="s3">\n</span><span class="s1">function intersectPolygon(node, polyPoints, point) {</span><span class="s3">\n  </span><span class="s1">let x1 = node.x;</span><span class="s3">\n  </span><span class="s1">let y1 = node.y;</span><span class="s3">\n  </span><span class="s1">let intersections = [];</span><span class="s3">\n  </span><span class="s1">let minX = Number.POSITIVE_INFINITY;</span><span class="s3">\n  </span><span class="s1">let minY = Number.POSITIVE_INFINITY;</span><span class="s3">\n  </span><span class="s1">if (typeof polyPoints.forEach === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">polyPoints.forEach(function(entry) {</span><span class="s3">\n      </span><span class="s1">minX = Math.min(minX, entry.x);</span><span class="s3">\n      </span><span class="s1">minY = Math.min(minY, entry.y);</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">minX = Math.min(minX, polyPoints.x);</span><span class="s3">\n    </span><span class="s1">minY = Math.min(minY, polyPoints.y);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let left = x1 - node.width / 2 - minX;</span><span class="s3">\n  </span><span class="s1">let top = y1 - node.height / 2 - minY;</span><span class="s3">\n  </span><span class="s1">for (let i = 0; i &lt; polyPoints.length; i++) {</span><span class="s3">\n    </span><span class="s1">let p1 = polyPoints[i];</span><span class="s3">\n    </span><span class="s1">let p2 = polyPoints[i &lt; polyPoints.length - 1 ? i + 1 : 0];</span><span class="s3">\n    </span><span class="s1">let intersect = intersect_line_default(</span><span class="s3">\n      </span><span class="s1">node,</span><span class="s3">\n      </span><span class="s1">point,</span><span class="s3">\n      </span><span class="s1">{ x: left + p1.x, y: top + p1.y },</span><span class="s3">\n      </span><span class="s1">{ x: left + p2.x, y: top + p2.y }</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (intersect) {</span><span class="s3">\n      </span><span class="s1">intersections.push(intersect);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (!intersections.length) {</span><span class="s3">\n    </span><span class="s1">return node;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (intersections.length &gt; 1) {</span><span class="s3">\n    </span><span class="s1">intersections.sort(function(p, q) {</span><span class="s3">\n      </span><span class="s1">let pdx = p.x - point.x;</span><span class="s3">\n      </span><span class="s1">let pdy = p.y - point.y;</span><span class="s3">\n      </span><span class="s1">let distp = Math.sqrt(pdx * pdx + pdy * pdy);</span><span class="s3">\n      </span><span class="s1">let qdx = q.x - point.x;</span><span class="s3">\n      </span><span class="s1">let qdy = q.y - point.y;</span><span class="s3">\n      </span><span class="s1">let distq = Math.sqrt(qdx * qdx + qdy * qdy);</span><span class="s3">\n      </span><span class="s1">return distp &lt; distq ? -1 : distp === distq ? 0 : 1;</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return intersections[0];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(intersectPolygon, </span><span class="s3">\&quot;</span><span class="s1">intersectPolygon</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var intersect_polygon_default = intersectPolygon;</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/intersect/index.js</span><span class="s3">\n</span><span class="s1">var intersect_default = {</span><span class="s3">\n  </span><span class="s1">node: intersect_node_default,</span><span class="s3">\n  </span><span class="s1">circle: intersect_circle_default,</span><span class="s3">\n  </span><span class="s1">ellipse: intersect_ellipse_default,</span><span class="s3">\n  </span><span class="s1">polygon: intersect_polygon_default,</span><span class="s3">\n  </span><span class="s1">rect: intersect_rect_default</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/anchor.ts</span><span class="s3">\n</span><span class="s1">import rough2 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function anchor(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const classes = getNodeClasses(node);</span><span class="s3">\n  </span><span class="s1">let cssClasses = classes;</span><span class="s3">\n  </span><span class="s1">if (!classes) {</span><span class="s3">\n    </span><span class="s1">cssClasses = </span><span class="s3">\&quot;</span><span class="s1">anchor</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const shapeSvg = parent.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, cssClasses).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, node.domId || node.id);</span><span class="s3">\n  </span><span class="s1">const radius = 1;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough2.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, { fill: </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">, stroke: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">, fillStyle: </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const roughNode = rc.circle(0, 0, radius * 2, options);</span><span class="s3">\n  </span><span class="s1">const circleElem = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">circleElem.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">anchor</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, handleUndefinedAttr(cssStyles));</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, circleElem);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Circle intersect</span><span class="s3">\&quot;</span><span class="s1">, node, radius, point);</span><span class="s3">\n    </span><span class="s1">return intersect_default.circle(node, radius, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(anchor, </span><span class="s3">\&quot;</span><span class="s1">anchor</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/bowTieRect.ts</span><span class="s3">\n</span><span class="s1">import rough3 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function generateArcPoints(x1, y1, x2, y2, rx, ry, clockwise) {</span><span class="s3">\n  </span><span class="s1">const numPoints = 20;</span><span class="s3">\n  </span><span class="s1">const midX = (x1 + x2) / 2;</span><span class="s3">\n  </span><span class="s1">const midY = (y1 + y2) / 2;</span><span class="s3">\n  </span><span class="s1">const angle = Math.atan2(y2 - y1, x2 - x1);</span><span class="s3">\n  </span><span class="s1">const dx = (x2 - x1) / 2;</span><span class="s3">\n  </span><span class="s1">const dy = (y2 - y1) / 2;</span><span class="s3">\n  </span><span class="s1">const transformedX = dx / rx;</span><span class="s3">\n  </span><span class="s1">const transformedY = dy / ry;</span><span class="s3">\n  </span><span class="s1">const distance = Math.sqrt(transformedX ** 2 + transformedY ** 2);</span><span class="s3">\n  </span><span class="s1">if (distance &gt; 1) {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">The given radii are too small to create an arc between the points.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const scaledCenterDistance = Math.sqrt(1 - distance ** 2);</span><span class="s3">\n  </span><span class="s1">const centerX = midX + scaledCenterDistance * ry * Math.sin(angle) * (clockwise ? -1 : 1);</span><span class="s3">\n  </span><span class="s1">const centerY = midY - scaledCenterDistance * rx * Math.cos(angle) * (clockwise ? -1 : 1);</span><span class="s3">\n  </span><span class="s1">const startAngle = Math.atan2((y1 - centerY) / ry, (x1 - centerX) / rx);</span><span class="s3">\n  </span><span class="s1">const endAngle = Math.atan2((y2 - centerY) / ry, (x2 - centerX) / rx);</span><span class="s3">\n  </span><span class="s1">let angleRange = endAngle - startAngle;</span><span class="s3">\n  </span><span class="s1">if (clockwise &amp;&amp; angleRange &lt; 0) {</span><span class="s3">\n    </span><span class="s1">angleRange += 2 * Math.PI;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (!clockwise &amp;&amp; angleRange &gt; 0) {</span><span class="s3">\n    </span><span class="s1">angleRange -= 2 * Math.PI;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const points = [];</span><span class="s3">\n  </span><span class="s1">for (let i = 0; i &lt; numPoints; i++) {</span><span class="s3">\n    </span><span class="s1">const t = i / (numPoints - 1);</span><span class="s3">\n    </span><span class="s1">const angle2 = startAngle + t * angleRange;</span><span class="s3">\n    </span><span class="s1">const x = centerX + rx * Math.cos(angle2);</span><span class="s3">\n    </span><span class="s1">const y = centerY + ry * Math.sin(angle2);</span><span class="s3">\n    </span><span class="s1">points.push({ x, y });</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return points;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(generateArcPoints, </span><span class="s3">\&quot;</span><span class="s1">generateArcPoints</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">async function bowTieRect(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = bbox.width + node.padding + 20;</span><span class="s3">\n  </span><span class="s1">const h = bbox.height + node.padding;</span><span class="s3">\n  </span><span class="s1">const ry = h / 2;</span><span class="s3">\n  </span><span class="s1">const rx = ry / (2.5 + h / 50);</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: w / 2, y: -h / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2, y: -h / 2 },</span><span class="s3">\n    </span><span class="s1">...generateArcPoints(-w / 2, -h / 2, -w / 2, h / 2, rx, ry, false),</span><span class="s3">\n    </span><span class="s1">{ x: w / 2, y: h / 2 },</span><span class="s3">\n    </span><span class="s1">...generateArcPoints(w / 2, h / 2, w / 2, -h / 2, rx, ry, true)</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const rc = rough3.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const bowTieRectPath = createPathFromPoints(points);</span><span class="s3">\n  </span><span class="s1">const bowTieRectShapePath = rc.path(bowTieRectPath, options);</span><span class="s3">\n  </span><span class="s1">const bowTieRectShape = shapeSvg.insert(() =&gt; bowTieRectShapePath, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">bowTieRectShape.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">bowTieRectShape.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">bowTieRectShape.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">bowTieRectShape.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${rx / 2}, 0)`);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, bowTieRectShape);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, points, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(bowTieRect, </span><span class="s3">\&quot;</span><span class="s1">bowTieRect</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/card.ts</span><span class="s3">\n</span><span class="s1">import rough4 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/insertPolygonShape.ts</span><span class="s3">\n</span><span class="s1">function insertPolygonShape(parent, w, h, points) {</span><span class="s3">\n  </span><span class="s1">return parent.insert(</span><span class="s3">\&quot;</span><span class="s1">polygon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\n    \&quot;</span><span class="s1">points</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">points.map(function(d) {</span><span class="s3">\n      </span><span class="s1">return d.x + </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot; </span><span class="s1">+ d.y;</span><span class="s3">\n    </span><span class="s1">}).join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">label-container</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ -w / 2 + </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot; </span><span class="s1">+ h / 2 + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(insertPolygonShape, </span><span class="s3">\&quot;</span><span class="s1">insertPolygonShape</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/card.ts</span><span class="s3">\n</span><span class="s1">async function card(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const h = bbox.height + node.padding;</span><span class="s3">\n  </span><span class="s1">const padding = 12;</span><span class="s3">\n  </span><span class="s1">const w = bbox.width + node.padding + padding;</span><span class="s3">\n  </span><span class="s1">const left = 0;</span><span class="s3">\n  </span><span class="s1">const right = w;</span><span class="s3">\n  </span><span class="s1">const top = -h;</span><span class="s3">\n  </span><span class="s1">const bottom = 0;</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: left + padding, y: top },</span><span class="s3">\n    </span><span class="s1">{ x: right, y: top },</span><span class="s3">\n    </span><span class="s1">{ x: right, y: bottom },</span><span class="s3">\n    </span><span class="s1">{ x: left, y: bottom },</span><span class="s3">\n    </span><span class="s1">{ x: left, y: top + padding },</span><span class="s3">\n    </span><span class="s1">{ x: left + padding, y: top }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">let polygon;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough4.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n    </span><span class="s1">const pathData = createPathFromPoints(points);</span><span class="s3">\n    </span><span class="s1">const roughNode = rc.path(pathData, options);</span><span class="s3">\n    </span><span class="s1">polygon = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-w / 2}, ${h / 2})`);</span><span class="s3">\n    </span><span class="s1">if (cssStyles) {</span><span class="s3">\n      </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">polygon = insertPolygonShape(shapeSvg, w, h, points);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles) {</span><span class="s3">\n    </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, polygon);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.polygon(node, points, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(card, </span><span class="s3">\&quot;</span><span class="s1">card</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/choice.ts</span><span class="s3">\n</span><span class="s1">import rough5 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function choice(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.label = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">const shapeSvg = parent.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, getNodeClasses(node)).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, node.domId ?? node.id);</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const s = Math.max(28, node.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: 0, y: s / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: s / 2, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: 0, y: -s / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: -s / 2, y: 0 }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const rc = rough5.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const choicePath = createPathFromPoints(points);</span><span class="s3">\n  </span><span class="s1">const roughNode = rc.path(choicePath, options);</span><span class="s3">\n  </span><span class="s1">const choiceShape = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">choiceShape.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">choiceShape.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">node.width = 28;</span><span class="s3">\n  </span><span class="s1">node.height = 28;</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.polygon(node, points, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(choice, </span><span class="s3">\&quot;</span><span class="s1">choice</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/circle.ts</span><span class="s3">\n</span><span class="s1">import rough6 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function circle(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, halfPadding } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const radius = bbox.width / 2 + halfPadding;</span><span class="s3">\n  </span><span class="s1">let circleElem;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough6.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n    </span><span class="s1">const roughNode = rc.circle(0, 0, radius * 2, options);</span><span class="s3">\n    </span><span class="s1">circleElem = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">circleElem.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, handleUndefinedAttr(cssStyles));</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">circleElem = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles).attr(</span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">, radius).attr(</span><span class="s3">\&quot;</span><span class="s1">cx</span><span class="s3">\&quot;</span><span class="s1">, 0).attr(</span><span class="s3">\&quot;</span><span class="s1">cy</span><span class="s3">\&quot;</span><span class="s1">, 0);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, circleElem);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Circle intersect</span><span class="s3">\&quot;</span><span class="s1">, node, radius, point);</span><span class="s3">\n    </span><span class="s1">return intersect_default.circle(node, radius, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(circle, </span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/crossedCircle.ts</span><span class="s3">\n</span><span class="s1">import rough7 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function createLine(r) {</span><span class="s3">\n  </span><span class="s1">const xAxis45 = Math.cos(Math.PI / 4);</span><span class="s3">\n  </span><span class="s1">const yAxis45 = Math.sin(Math.PI / 4);</span><span class="s3">\n  </span><span class="s1">const lineLength = r * 2;</span><span class="s3">\n  </span><span class="s1">const pointQ1 = { x: lineLength / 2 * xAxis45, y: lineLength / 2 * yAxis45 };</span><span class="s3">\n  </span><span class="s1">const pointQ2 = { x: -(lineLength / 2) * xAxis45, y: lineLength / 2 * yAxis45 };</span><span class="s3">\n  </span><span class="s1">const pointQ3 = { x: -(lineLength / 2) * xAxis45, y: -(lineLength / 2) * yAxis45 };</span><span class="s3">\n  </span><span class="s1">const pointQ4 = { x: lineLength / 2 * xAxis45, y: -(lineLength / 2) * yAxis45 };</span><span class="s3">\n  </span><span class="s1">return `M ${pointQ2.x},${pointQ2.y} L ${pointQ4.x},${pointQ4.y}</span><span class="s3">\n                   </span><span class="s1">M ${pointQ1.x},${pointQ1.y} L ${pointQ3.x},${pointQ3.y}`;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(createLine, </span><span class="s3">\&quot;</span><span class="s1">createLine</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function crossedCircle(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">node.label = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">const shapeSvg = parent.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, getNodeClasses(node)).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, node.domId ?? node.id);</span><span class="s3">\n  </span><span class="s1">const radius = Math.max(30, node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough7.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const circleNode = rc.circle(0, 0, radius * 2, options);</span><span class="s3">\n  </span><span class="s1">const linePath = createLine(radius);</span><span class="s3">\n  </span><span class="s1">const lineNode = rc.path(linePath, options);</span><span class="s3">\n  </span><span class="s1">const crossedCircle2 = shapeSvg.insert(() =&gt; circleNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">crossedCircle2.insert(() =&gt; lineNode);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">crossedCircle2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">crossedCircle2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, crossedCircle2);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">crossedCircle intersect</span><span class="s3">\&quot;</span><span class="s1">, node, { radius, point });</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.circle(node, radius, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(crossedCircle, </span><span class="s3">\&quot;</span><span class="s1">crossedCircle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/curlyBraceLeft.ts</span><span class="s3">\n</span><span class="s1">import rough8 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function generateCirclePoints2(centerX, centerY, radius, numPoints = 100, startAngle = 0, endAngle = 180) {</span><span class="s3">\n  </span><span class="s1">const points = [];</span><span class="s3">\n  </span><span class="s1">const startAngleRad = startAngle * Math.PI / 180;</span><span class="s3">\n  </span><span class="s1">const endAngleRad = endAngle * Math.PI / 180;</span><span class="s3">\n  </span><span class="s1">const angleRange = endAngleRad - startAngleRad;</span><span class="s3">\n  </span><span class="s1">const angleStep = angleRange / (numPoints - 1);</span><span class="s3">\n  </span><span class="s1">for (let i = 0; i &lt; numPoints; i++) {</span><span class="s3">\n    </span><span class="s1">const angle = startAngleRad + i * angleStep;</span><span class="s3">\n    </span><span class="s1">const x = centerX + radius * Math.cos(angle);</span><span class="s3">\n    </span><span class="s1">const y = centerY + radius * Math.sin(angle);</span><span class="s3">\n    </span><span class="s1">points.push({ x: -x, y: -y });</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return points;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(generateCirclePoints2, </span><span class="s3">\&quot;</span><span class="s1">generateCirclePoints</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">async function curlyBraceLeft(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = bbox.width + (node.padding ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = bbox.height + (node.padding ?? 0);</span><span class="s3">\n  </span><span class="s1">const radius = Math.max(5, h * 0.1);</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints2(w / 2, -h / 2, radius, 30, -90, 0),</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2 - radius, y: radius },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints2(w / 2 + radius * 2, -radius, radius, 20, -180, -270),</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints2(w / 2 + radius * 2, radius, radius, 20, -90, -180),</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2 - radius, y: -h / 2 },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints2(w / 2, h / 2, radius, 20, 0, 90)</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const rectPoints = [</span><span class="s3">\n    </span><span class="s1">{ x: w / 2, y: -h / 2 - radius },</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2, y: -h / 2 - radius },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints2(w / 2, -h / 2, radius, 20, -90, 0),</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2 - radius, y: -radius },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints2(w / 2 + w * 0.1, -radius, radius, 20, -180, -270),</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints2(w / 2 + w * 0.1, radius, radius, 20, -90, -180),</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2 - radius, y: h / 2 },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints2(w / 2, h / 2, radius, 20, 0, 90),</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2, y: h / 2 + radius },</span><span class="s3">\n    </span><span class="s1">{ x: w / 2, y: h / 2 + radius }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const rc = rough8.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, { fill: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const curlyBraceLeftPath = createPathFromPoints(points);</span><span class="s3">\n  </span><span class="s1">const newCurlyBracePath = curlyBraceLeftPath.replace(</span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const curlyBraceLeftNode = rc.path(newCurlyBracePath, options);</span><span class="s3">\n  </span><span class="s1">const rectPath = createPathFromPoints(rectPoints);</span><span class="s3">\n  </span><span class="s1">const rectShape = rc.path(rectPath, { ...options });</span><span class="s3">\n  </span><span class="s1">const curlyBraceLeftShape = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">curlyBraceLeftShape.insert(() =&gt; rectShape, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">stroke-opacity</span><span class="s3">\&quot;</span><span class="s1">, 0);</span><span class="s3">\n  </span><span class="s1">curlyBraceLeftShape.insert(() =&gt; curlyBraceLeftNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">curlyBraceLeftShape.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">curlyBraceLeftShape.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">curlyBraceLeftShape.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">curlyBraceLeftShape.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${radius}, 0)`);</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-w / 2 + radius - (bbox.x - (bbox.left ?? 0))},${-h / 2 + (node.padding ?? 0) / 2 - (bbox.y - (bbox.top ?? 0))})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, curlyBraceLeftShape);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, rectPoints, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(curlyBraceLeft, </span><span class="s3">\&quot;</span><span class="s1">curlyBraceLeft</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/curlyBraceRight.ts</span><span class="s3">\n</span><span class="s1">import rough9 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function generateCirclePoints3(centerX, centerY, radius, numPoints = 100, startAngle = 0, endAngle = 180) {</span><span class="s3">\n  </span><span class="s1">const points = [];</span><span class="s3">\n  </span><span class="s1">const startAngleRad = startAngle * Math.PI / 180;</span><span class="s3">\n  </span><span class="s1">const endAngleRad = endAngle * Math.PI / 180;</span><span class="s3">\n  </span><span class="s1">const angleRange = endAngleRad - startAngleRad;</span><span class="s3">\n  </span><span class="s1">const angleStep = angleRange / (numPoints - 1);</span><span class="s3">\n  </span><span class="s1">for (let i = 0; i &lt; numPoints; i++) {</span><span class="s3">\n    </span><span class="s1">const angle = startAngleRad + i * angleStep;</span><span class="s3">\n    </span><span class="s1">const x = centerX + radius * Math.cos(angle);</span><span class="s3">\n    </span><span class="s1">const y = centerY + radius * Math.sin(angle);</span><span class="s3">\n    </span><span class="s1">points.push({ x, y });</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return points;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(generateCirclePoints3, </span><span class="s3">\&quot;</span><span class="s1">generateCirclePoints</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">async function curlyBraceRight(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = bbox.width + (node.padding ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = bbox.height + (node.padding ?? 0);</span><span class="s3">\n  </span><span class="s1">const radius = Math.max(5, h * 0.1);</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints3(w / 2, -h / 2, radius, 20, -90, 0),</span><span class="s3">\n    </span><span class="s1">{ x: w / 2 + radius, y: -radius },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints3(w / 2 + radius * 2, -radius, radius, 20, -180, -270),</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints3(w / 2 + radius * 2, radius, radius, 20, -90, -180),</span><span class="s3">\n    </span><span class="s1">{ x: w / 2 + radius, y: h / 2 },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints3(w / 2, h / 2, radius, 20, 0, 90)</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const rectPoints = [</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2, y: -h / 2 - radius },</span><span class="s3">\n    </span><span class="s1">{ x: w / 2, y: -h / 2 - radius },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints3(w / 2, -h / 2, radius, 20, -90, 0),</span><span class="s3">\n    </span><span class="s1">{ x: w / 2 + radius, y: -radius },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints3(w / 2 + radius * 2, -radius, radius, 20, -180, -270),</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints3(w / 2 + radius * 2, radius, radius, 20, -90, -180),</span><span class="s3">\n    </span><span class="s1">{ x: w / 2 + radius, y: h / 2 },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints3(w / 2, h / 2, radius, 20, 0, 90),</span><span class="s3">\n    </span><span class="s1">{ x: w / 2, y: h / 2 + radius },</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2, y: h / 2 + radius }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const rc = rough9.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, { fill: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const curlyBraceRightPath = createPathFromPoints(points);</span><span class="s3">\n  </span><span class="s1">const newCurlyBracePath = curlyBraceRightPath.replace(</span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const curlyBraceRightNode = rc.path(newCurlyBracePath, options);</span><span class="s3">\n  </span><span class="s1">const rectPath = createPathFromPoints(rectPoints);</span><span class="s3">\n  </span><span class="s1">const rectShape = rc.path(rectPath, { ...options });</span><span class="s3">\n  </span><span class="s1">const curlyBraceRightShape = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">curlyBraceRightShape.insert(() =&gt; rectShape, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">stroke-opacity</span><span class="s3">\&quot;</span><span class="s1">, 0);</span><span class="s3">\n  </span><span class="s1">curlyBraceRightShape.insert(() =&gt; curlyBraceRightNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">curlyBraceRightShape.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">curlyBraceRightShape.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">curlyBraceRightShape.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">curlyBraceRightShape.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-radius}, 0)`);</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-w / 2 + (node.padding ?? 0) / 2 - (bbox.x - (bbox.left ?? 0))},${-h / 2 + (node.padding ?? 0) / 2 - (bbox.y - (bbox.top ?? 0))})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, curlyBraceRightShape);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, rectPoints, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(curlyBraceRight, </span><span class="s3">\&quot;</span><span class="s1">curlyBraceRight</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/curlyBraces.ts</span><span class="s3">\n</span><span class="s1">import rough10 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function generateCirclePoints4(centerX, centerY, radius, numPoints = 100, startAngle = 0, endAngle = 180) {</span><span class="s3">\n  </span><span class="s1">const points = [];</span><span class="s3">\n  </span><span class="s1">const startAngleRad = startAngle * Math.PI / 180;</span><span class="s3">\n  </span><span class="s1">const endAngleRad = endAngle * Math.PI / 180;</span><span class="s3">\n  </span><span class="s1">const angleRange = endAngleRad - startAngleRad;</span><span class="s3">\n  </span><span class="s1">const angleStep = angleRange / (numPoints - 1);</span><span class="s3">\n  </span><span class="s1">for (let i = 0; i &lt; numPoints; i++) {</span><span class="s3">\n    </span><span class="s1">const angle = startAngleRad + i * angleStep;</span><span class="s3">\n    </span><span class="s1">const x = centerX + radius * Math.cos(angle);</span><span class="s3">\n    </span><span class="s1">const y = centerY + radius * Math.sin(angle);</span><span class="s3">\n    </span><span class="s1">points.push({ x: -x, y: -y });</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return points;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(generateCirclePoints4, </span><span class="s3">\&quot;</span><span class="s1">generateCirclePoints</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">async function curlyBraces(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = bbox.width + (node.padding ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = bbox.height + (node.padding ?? 0);</span><span class="s3">\n  </span><span class="s1">const radius = Math.max(5, h * 0.1);</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const leftCurlyBracePoints = [</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints4(w / 2, -h / 2, radius, 30, -90, 0),</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2 - radius, y: radius },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints4(w / 2 + radius * 2, -radius, radius, 20, -180, -270),</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints4(w / 2 + radius * 2, radius, radius, 20, -90, -180),</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2 - radius, y: -h / 2 },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints4(w / 2, h / 2, radius, 20, 0, 90)</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const rightCurlyBracePoints = [</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints4(-w / 2 + radius + radius / 2, -h / 2, radius, 20, -90, -180),</span><span class="s3">\n    </span><span class="s1">{ x: w / 2 - radius / 2, y: radius },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints4(-w / 2 - radius / 2, -radius, radius, 20, 0, 90),</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints4(-w / 2 - radius / 2, radius, radius, 20, -90, 0),</span><span class="s3">\n    </span><span class="s1">{ x: w / 2 - radius / 2, y: -radius },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints4(-w / 2 + radius + radius / 2, h / 2, radius, 30, -180, -270)</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const rectPoints = [</span><span class="s3">\n    </span><span class="s1">{ x: w / 2, y: -h / 2 - radius },</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2, y: -h / 2 - radius },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints4(w / 2, -h / 2, radius, 20, -90, 0),</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2 - radius, y: -radius },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints4(w / 2 + radius * 2, -radius, radius, 20, -180, -270),</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints4(w / 2 + radius * 2, radius, radius, 20, -90, -180),</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2 - radius, y: h / 2 },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints4(w / 2, h / 2, radius, 20, 0, 90),</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2, y: h / 2 + radius },</span><span class="s3">\n    </span><span class="s1">{ x: w / 2 - radius - radius / 2, y: h / 2 + radius },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints4(-w / 2 + radius + radius / 2, -h / 2, radius, 20, -90, -180),</span><span class="s3">\n    </span><span class="s1">{ x: w / 2 - radius / 2, y: radius },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints4(-w / 2 - radius / 2, -radius, radius, 20, 0, 90),</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints4(-w / 2 - radius / 2, radius, radius, 20, -90, 0),</span><span class="s3">\n    </span><span class="s1">{ x: w / 2 - radius / 2, y: -radius },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints4(-w / 2 + radius + radius / 2, h / 2, radius, 30, -180, -270)</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const rc = rough10.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, { fill: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const leftCurlyBracePath = createPathFromPoints(leftCurlyBracePoints);</span><span class="s3">\n  </span><span class="s1">const newLeftCurlyBracePath = leftCurlyBracePath.replace(</span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const leftCurlyBraceNode = rc.path(newLeftCurlyBracePath, options);</span><span class="s3">\n  </span><span class="s1">const rightCurlyBracePath = createPathFromPoints(rightCurlyBracePoints);</span><span class="s3">\n  </span><span class="s1">const newRightCurlyBracePath = rightCurlyBracePath.replace(</span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const rightCurlyBraceNode = rc.path(newRightCurlyBracePath, options);</span><span class="s3">\n  </span><span class="s1">const rectPath = createPathFromPoints(rectPoints);</span><span class="s3">\n  </span><span class="s1">const rectShape = rc.path(rectPath, { ...options });</span><span class="s3">\n  </span><span class="s1">const curlyBracesShape = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">curlyBracesShape.insert(() =&gt; rectShape, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">stroke-opacity</span><span class="s3">\&quot;</span><span class="s1">, 0);</span><span class="s3">\n  </span><span class="s1">curlyBracesShape.insert(() =&gt; leftCurlyBraceNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">curlyBracesShape.insert(() =&gt; rightCurlyBraceNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">curlyBracesShape.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">curlyBracesShape.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">curlyBracesShape.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">curlyBracesShape.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${radius - radius / 4}, 0)`);</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-w / 2 + (node.padding ?? 0) / 2 - (bbox.x - (bbox.left ?? 0))},${-h / 2 + (node.padding ?? 0) / 2 - (bbox.y - (bbox.top ?? 0))})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, curlyBracesShape);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, rectPoints, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(curlyBraces, </span><span class="s3">\&quot;</span><span class="s1">curlyBraces</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/curvedTrapezoid.ts</span><span class="s3">\n</span><span class="s1">import rough11 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function curvedTrapezoid(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const minWidth = 80, minHeight = 20;</span><span class="s3">\n  </span><span class="s1">const w = Math.max(minWidth, (bbox.width + (node.padding ?? 0) * 2) * 1.25, node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(minHeight, bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const radius = h / 2;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough11.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const totalWidth = w, totalHeight = h;</span><span class="s3">\n  </span><span class="s1">const rw = totalWidth - radius;</span><span class="s3">\n  </span><span class="s1">const tw = totalHeight / 4;</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: rw, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: tw, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: 0, y: totalHeight / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: tw, y: totalHeight },</span><span class="s3">\n    </span><span class="s1">{ x: rw, y: totalHeight },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints(-rw, -totalHeight / 2, radius, 50, 270, 90)</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const pathData = createPathFromPoints(points);</span><span class="s3">\n  </span><span class="s1">const shapeNode = rc.path(pathData, options);</span><span class="s3">\n  </span><span class="s1">const polygon = shapeSvg.insert(() =&gt; shapeNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">polygon.selectChildren(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">polygon.selectChildren(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-w / 2}, ${-h / 2})`);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, polygon);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, points, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(curvedTrapezoid, </span><span class="s3">\&quot;</span><span class="s1">curvedTrapezoid</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/cylinder.ts</span><span class="s3">\n</span><span class="s1">import rough12 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var createCylinderPathD = /* @__PURE__ */ __name((x, y, width, height, rx, ry) =&gt; {</span><span class="s3">\n  </span><span class="s1">return [</span><span class="s3">\n    </span><span class="s1">`M${x},${y + ry}`,</span><span class="s3">\n    </span><span class="s1">`a${rx},${ry} 0,0,0 ${width},0`,</span><span class="s3">\n    </span><span class="s1">`a${rx},${ry} 0,0,0 ${-width},0`,</span><span class="s3">\n    </span><span class="s1">`l0,${height}`,</span><span class="s3">\n    </span><span class="s1">`a${rx},${ry} 0,0,0 ${width},0`,</span><span class="s3">\n    </span><span class="s1">`l0,${-height}`</span><span class="s3">\n  </span><span class="s1">].join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">createCylinderPathD</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var createOuterCylinderPathD = /* @__PURE__ */ __name((x, y, width, height, rx, ry) =&gt; {</span><span class="s3">\n  </span><span class="s1">return [</span><span class="s3">\n    </span><span class="s1">`M${x},${y + ry}`,</span><span class="s3">\n    </span><span class="s1">`M${x + width},${y + ry}`,</span><span class="s3">\n    </span><span class="s1">`a${rx},${ry} 0,0,0 ${-width},0`,</span><span class="s3">\n    </span><span class="s1">`l0,${height}`,</span><span class="s3">\n    </span><span class="s1">`a${rx},${ry} 0,0,0 ${width},0`,</span><span class="s3">\n    </span><span class="s1">`l0,${-height}`</span><span class="s3">\n  </span><span class="s1">].join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">createOuterCylinderPathD</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var createInnerCylinderPathD = /* @__PURE__ */ __name((x, y, width, height, rx, ry) =&gt; {</span><span class="s3">\n  </span><span class="s1">return [`M${x - width / 2},${-height / 2}`, `a${rx},${ry} 0,0,0 ${width},0`].join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">createInnerCylinderPathD</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">async function cylinder(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = Math.max(bbox.width + node.padding, node.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const rx = w / 2;</span><span class="s3">\n  </span><span class="s1">const ry = rx / (2.5 + w / 50);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(bbox.height + ry + node.padding, node.height ?? 0);</span><span class="s3">\n  </span><span class="s1">let cylinder2;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough12.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const outerPathData = createOuterCylinderPathD(0, 0, w, h, rx, ry);</span><span class="s3">\n    </span><span class="s1">const innerPathData = createInnerCylinderPathD(0, ry, w, h, rx, ry);</span><span class="s3">\n    </span><span class="s1">const outerNode = rc.path(outerPathData, userNodeOverrides(node, {}));</span><span class="s3">\n    </span><span class="s1">const innerLine = rc.path(innerPathData, userNodeOverrides(node, { fill: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot; </span><span class="s1">}));</span><span class="s3">\n    </span><span class="s1">cylinder2 = shapeSvg.insert(() =&gt; innerLine, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">cylinder2 = shapeSvg.insert(() =&gt; outerNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">cylinder2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (cssStyles) {</span><span class="s3">\n      </span><span class="s1">cylinder2.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">const pathData = createCylinderPathD(0, 0, w, h, rx, ry);</span><span class="s3">\n    </span><span class="s1">cylinder2 = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, pathData).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, handleUndefinedAttr(cssStyles)).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">cylinder2.attr(</span><span class="s3">\&quot;</span><span class="s1">label-offset-y</span><span class="s3">\&quot;</span><span class="s1">, ry);</span><span class="s3">\n  </span><span class="s1">cylinder2.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-w / 2}, ${-(h / 2 + ry)})`);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, cylinder2);</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-(bbox.width / 2) - (bbox.x - (bbox.left ?? 0))}, ${-(bbox.height / 2) + (node.padding ?? 0) / 1.5 - (bbox.y - (bbox.top ?? 0))})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.rect(node, point);</span><span class="s3">\n    </span><span class="s1">const x = pos.x - (node.x ?? 0);</span><span class="s3">\n    </span><span class="s1">if (rx != 0 &amp;&amp; (Math.abs(x) &lt; (node.width ?? 0) / 2 || Math.abs(x) == (node.width ?? 0) / 2 &amp;&amp; Math.abs(pos.y - (node.y ?? 0)) &gt; (node.height ?? 0) / 2 - ry)) {</span><span class="s3">\n      </span><span class="s1">let y = ry * ry * (1 - x * x / (rx * rx));</span><span class="s3">\n      </span><span class="s1">if (y &gt; 0) {</span><span class="s3">\n        </span><span class="s1">y = Math.sqrt(y);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">y = ry - y;</span><span class="s3">\n      </span><span class="s1">if (point.y - (node.y ?? 0) &gt; 0) {</span><span class="s3">\n        </span><span class="s1">y = -y;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">pos.y += y;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(cylinder, </span><span class="s3">\&quot;</span><span class="s1">cylinder</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/dividedRect.ts</span><span class="s3">\n</span><span class="s1">import rough13 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function dividedRectangle(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = bbox.width + node.padding;</span><span class="s3">\n  </span><span class="s1">const h = bbox.height + node.padding;</span><span class="s3">\n  </span><span class="s1">const rectOffset = h * 0.2;</span><span class="s3">\n  </span><span class="s1">const x = -w / 2;</span><span class="s3">\n  </span><span class="s1">const y = -h / 2 - rectOffset / 2;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough13.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const pts = [</span><span class="s3">\n    </span><span class="s1">{ x, y: y + rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: -x, y: y + rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: -x, y: -y },</span><span class="s3">\n    </span><span class="s1">{ x, y: -y },</span><span class="s3">\n    </span><span class="s1">{ x, y },</span><span class="s3">\n    </span><span class="s1">{ x: -x, y },</span><span class="s3">\n    </span><span class="s1">{ x: -x, y: y + rectOffset }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const poly = rc.polygon(</span><span class="s3">\n    </span><span class="s1">pts.map((p) =&gt; [p.x, p.y]),</span><span class="s3">\n    </span><span class="s1">options</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const polygon = shapeSvg.insert(() =&gt; poly, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">polygon.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">polygon.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${x + (node.padding ?? 0) / 2 - (bbox.x - (bbox.left ?? 0))}, ${y + rectOffset + (node.padding ?? 0) / 2 - (bbox.y - (bbox.top ?? 0))})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, polygon);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.rect(node, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(dividedRectangle, </span><span class="s3">\&quot;</span><span class="s1">dividedRectangle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/doubleCircle.ts</span><span class="s3">\n</span><span class="s1">import rough14 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function doublecircle(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, halfPadding } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const gap = 5;</span><span class="s3">\n  </span><span class="s1">const outerRadius = bbox.width / 2 + halfPadding + gap;</span><span class="s3">\n  </span><span class="s1">const innerRadius = bbox.width / 2 + halfPadding;</span><span class="s3">\n  </span><span class="s1">let circleGroup;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough14.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const outerOptions = userNodeOverrides(node, { roughness: 0.2, strokeWidth: 2.5 });</span><span class="s3">\n    </span><span class="s1">const innerOptions = userNodeOverrides(node, { roughness: 0.2, strokeWidth: 1.5 });</span><span class="s3">\n    </span><span class="s1">const outerRoughNode = rc.circle(0, 0, outerRadius * 2, outerOptions);</span><span class="s3">\n    </span><span class="s1">const innerRoughNode = rc.circle(0, 0, innerRadius * 2, innerOptions);</span><span class="s3">\n    </span><span class="s1">circleGroup = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">circleGroup.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, handleUndefinedAttr(node.cssClasses)).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, handleUndefinedAttr(cssStyles));</span><span class="s3">\n    </span><span class="s1">circleGroup.node()?.appendChild(outerRoughNode);</span><span class="s3">\n    </span><span class="s1">circleGroup.node()?.appendChild(innerRoughNode);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">circleGroup = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const outerCircle = circleGroup.insert(</span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const innerCircle = circleGroup.insert(</span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">circleGroup.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n    </span><span class="s1">outerCircle.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">outer-circle</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles).attr(</span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">, outerRadius).attr(</span><span class="s3">\&quot;</span><span class="s1">cx</span><span class="s3">\&quot;</span><span class="s1">, 0).attr(</span><span class="s3">\&quot;</span><span class="s1">cy</span><span class="s3">\&quot;</span><span class="s1">, 0);</span><span class="s3">\n    </span><span class="s1">innerCircle.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">inner-circle</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles).attr(</span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">, innerRadius).attr(</span><span class="s3">\&quot;</span><span class="s1">cx</span><span class="s3">\&quot;</span><span class="s1">, 0).attr(</span><span class="s3">\&quot;</span><span class="s1">cy</span><span class="s3">\&quot;</span><span class="s1">, 0);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, circleGroup);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">DoubleCircle intersect</span><span class="s3">\&quot;</span><span class="s1">, node, outerRadius, point);</span><span class="s3">\n    </span><span class="s1">return intersect_default.circle(node, outerRadius, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(doublecircle, </span><span class="s3">\&quot;</span><span class="s1">doublecircle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/filledCircle.ts</span><span class="s3">\n</span><span class="s1">import rough15 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function filledCircle(parent, node, { config: { themeVariables } }) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.label = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const shapeSvg = parent.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, getNodeClasses(node)).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, node.domId ?? node.id);</span><span class="s3">\n  </span><span class="s1">const radius = 7;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough15.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const { nodeBorder } = themeVariables;</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, { fillStyle: </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const circleNode = rc.circle(0, 0, radius * 2, options);</span><span class="s3">\n  </span><span class="s1">const filledCircle2 = shapeSvg.insert(() =&gt; circleNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">filledCircle2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, `fill: ${nodeBorder} !important;`);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; cssStyles.length &gt; 0 &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">filledCircle2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">filledCircle2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, filledCircle2);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">filledCircle intersect</span><span class="s3">\&quot;</span><span class="s1">, node, { radius, point });</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.circle(node, radius, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(filledCircle, </span><span class="s3">\&quot;</span><span class="s1">filledCircle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/flippedTriangle.ts</span><span class="s3">\n</span><span class="s1">import rough16 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function flippedTriangle(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = bbox.width + (node.padding ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = w + bbox.height;</span><span class="s3">\n  </span><span class="s1">const tw = w + bbox.height;</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: 0, y: -h },</span><span class="s3">\n    </span><span class="s1">{ x: tw, y: -h },</span><span class="s3">\n    </span><span class="s1">{ x: tw / 2, y: 0 }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough16.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const pathData = createPathFromPoints(points);</span><span class="s3">\n  </span><span class="s1">const roughNode = rc.path(pathData, options);</span><span class="s3">\n  </span><span class="s1">const flippedTriangle2 = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-h / 2}, ${h / 2})`);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">flippedTriangle2.selectChildren(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">flippedTriangle2.selectChildren(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">node.width = w;</span><span class="s3">\n  </span><span class="s1">node.height = h;</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, flippedTriangle2);</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-bbox.width / 2 - (bbox.x - (bbox.left ?? 0))}, ${-h / 2 + (node.padding ?? 0) / 2 + (bbox.y - (bbox.top ?? 0))})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Triangle intersect</span><span class="s3">\&quot;</span><span class="s1">, node, points, point);</span><span class="s3">\n    </span><span class="s1">return intersect_default.polygon(node, points, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(flippedTriangle, </span><span class="s3">\&quot;</span><span class="s1">flippedTriangle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/forkJoin.ts</span><span class="s3">\n</span><span class="s1">import rough17 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function forkJoin(parent, node, { dir, config: { state: state2, themeVariables } }) {</span><span class="s3">\n  </span><span class="s1">const { nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.label = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">const shapeSvg = parent.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, getNodeClasses(node)).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, node.domId ?? node.id);</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">let width = Math.max(70, node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">let height = Math.max(10, node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">if (dir === </span><span class="s3">\&quot;</span><span class="s1">LR</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">width = Math.max(10, node?.width ?? 0);</span><span class="s3">\n    </span><span class="s1">height = Math.max(70, node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const x = -1 * width / 2;</span><span class="s3">\n  </span><span class="s1">const y = -1 * height / 2;</span><span class="s3">\n  </span><span class="s1">const rc = rough17.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {</span><span class="s3">\n    </span><span class="s1">stroke: themeVariables.lineColor,</span><span class="s3">\n    </span><span class="s1">fill: themeVariables.lineColor</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const roughNode = rc.rectangle(x, y, width, height, options);</span><span class="s3">\n  </span><span class="s1">const shape = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">shape.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">shape.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, shape);</span><span class="s3">\n  </span><span class="s1">const padding = state2?.padding ?? 0;</span><span class="s3">\n  </span><span class="s1">if (node.width &amp;&amp; node.height) {</span><span class="s3">\n    </span><span class="s1">node.width += padding / 2 || 0;</span><span class="s3">\n    </span><span class="s1">node.height += padding / 2 || 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.rect(node, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(forkJoin, </span><span class="s3">\&quot;</span><span class="s1">forkJoin</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/halfRoundedRectangle.ts</span><span class="s3">\n</span><span class="s1">import rough18 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function halfRoundedRectangle(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const minWidth = 80, minHeight = 50;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = Math.max(minWidth, bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(minHeight, bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const radius = h / 2;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough18.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2, y: -h / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: w / 2 - radius, y: -h / 2 },</span><span class="s3">\n    </span><span class="s1">...generateCirclePoints(-w / 2 + radius, 0, radius, 50, 90, 270),</span><span class="s3">\n    </span><span class="s1">{ x: w / 2 - radius, y: h / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2, y: h / 2 }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const pathData = createPathFromPoints(points);</span><span class="s3">\n  </span><span class="s1">const shapeNode = rc.path(pathData, options);</span><span class="s3">\n  </span><span class="s1">const polygon = shapeSvg.insert(() =&gt; shapeNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">polygon.selectChildren(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">polygon.selectChildren(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, polygon);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Pill intersect</span><span class="s3">\&quot;</span><span class="s1">, node, { radius, point });</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, points, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(halfRoundedRectangle, </span><span class="s3">\&quot;</span><span class="s1">halfRoundedRectangle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/hexagon.ts</span><span class="s3">\n</span><span class="s1">import rough19 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var createHexagonPathD = /* @__PURE__ */ __name((x, y, width, height, m) =&gt; {</span><span class="s3">\n  </span><span class="s1">return [</span><span class="s3">\n    </span><span class="s1">`M${x + m},${y}`,</span><span class="s3">\n    </span><span class="s1">`L${x + width - m},${y}`,</span><span class="s3">\n    </span><span class="s1">`L${x + width},${y - height / 2}`,</span><span class="s3">\n    </span><span class="s1">`L${x + width - m},${y - height}`,</span><span class="s3">\n    </span><span class="s1">`L${x + m},${y - height}`,</span><span class="s3">\n    </span><span class="s1">`L${x},${y - height / 2}`,</span><span class="s3">\n    \&quot;</span><span class="s1">Z</span><span class="s3">\&quot;\n  </span><span class="s1">].join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">createHexagonPathD</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">async function hexagon(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const f = 4;</span><span class="s3">\n  </span><span class="s1">const h = bbox.height + node.padding;</span><span class="s3">\n  </span><span class="s1">const m = h / f;</span><span class="s3">\n  </span><span class="s1">const w = bbox.width + 2 * m + node.padding;</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: m, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: w - m, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: w, y: -h / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: w - m, y: -h },</span><span class="s3">\n    </span><span class="s1">{ x: m, y: -h },</span><span class="s3">\n    </span><span class="s1">{ x: 0, y: -h / 2 }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">let polygon;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough19.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n    </span><span class="s1">const pathData = createHexagonPathD(0, 0, w, h, m);</span><span class="s3">\n    </span><span class="s1">const roughNode = rc.path(pathData, options);</span><span class="s3">\n    </span><span class="s1">polygon = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-w / 2}, ${h / 2})`);</span><span class="s3">\n    </span><span class="s1">if (cssStyles) {</span><span class="s3">\n      </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">polygon = insertPolygonShape(shapeSvg, w, h, points);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles) {</span><span class="s3">\n    </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">node.width = w;</span><span class="s3">\n  </span><span class="s1">node.height = h;</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, polygon);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.polygon(node, points, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(hexagon, </span><span class="s3">\&quot;</span><span class="s1">hexagon</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/hourglass.ts</span><span class="s3">\n</span><span class="s1">import rough20 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function hourglass(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.label = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = Math.max(30, node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(30, node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough20.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: 0, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: w, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: 0, y: h },</span><span class="s3">\n    </span><span class="s1">{ x: w, y: h }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const pathData = createPathFromPoints(points);</span><span class="s3">\n  </span><span class="s1">const shapeNode = rc.path(pathData, options);</span><span class="s3">\n  </span><span class="s1">const polygon = shapeSvg.insert(() =&gt; shapeNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">polygon.selectChildren(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">polygon.selectChildren(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-w / 2}, ${-h / 2})`);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, polygon);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Pill intersect</span><span class="s3">\&quot;</span><span class="s1">, node, { points });</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, points, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(hourglass, </span><span class="s3">\&quot;</span><span class="s1">hourglass</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/icon.ts</span><span class="s3">\n</span><span class="s1">import rough21 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function icon(parent, node, { config: { themeVariables, flowchart } }) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const assetHeight = node.assetHeight ?? 48;</span><span class="s3">\n  </span><span class="s1">const assetWidth = node.assetWidth ?? 48;</span><span class="s3">\n  </span><span class="s1">const iconSize = Math.max(assetHeight, assetWidth);</span><span class="s3">\n  </span><span class="s1">const defaultWidth = flowchart?.wrappingWidth;</span><span class="s3">\n  </span><span class="s1">node.width = Math.max(iconSize, defaultWidth ?? 0);</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, </span><span class="s3">\&quot;</span><span class="s1">icon-shape default</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const topLabel = node.pos === </span><span class="s3">\&quot;</span><span class="s1">t</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">const height = iconSize;</span><span class="s3">\n  </span><span class="s1">const width = iconSize;</span><span class="s3">\n  </span><span class="s1">const { nodeBorder } = themeVariables;</span><span class="s3">\n  </span><span class="s1">const { stylesMap } = compileStyles(node);</span><span class="s3">\n  </span><span class="s1">const x = -width / 2;</span><span class="s3">\n  </span><span class="s1">const y = -height / 2;</span><span class="s3">\n  </span><span class="s1">const labelPadding = node.label ? 8 : 0;</span><span class="s3">\n  </span><span class="s1">const rc = rough21.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, { stroke: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">, fill: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const iconNode = rc.rectangle(x, y, width, height, options);</span><span class="s3">\n  </span><span class="s1">const outerWidth = Math.max(width, bbox.width);</span><span class="s3">\n  </span><span class="s1">const outerHeight = height + bbox.height + labelPadding;</span><span class="s3">\n  </span><span class="s1">const outerNode = rc.rectangle(-outerWidth / 2, -outerHeight / 2, outerWidth, outerHeight, {</span><span class="s3">\n    </span><span class="s1">...options,</span><span class="s3">\n    </span><span class="s1">fill: </span><span class="s3">\&quot;</span><span class="s1">transparent</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">stroke: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">const iconShape = shapeSvg.insert(() =&gt; iconNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const outerShape = shapeSvg.insert(() =&gt; outerNode);</span><span class="s3">\n  </span><span class="s1">if (node.icon) {</span><span class="s3">\n    </span><span class="s1">const iconElem = shapeSvg.append(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">iconElem.html(</span><span class="s3">\n      </span><span class="s1">`&lt;g&gt;${await getIconSVG(node.icon, {</span><span class="s3">\n        </span><span class="s1">height: iconSize,</span><span class="s3">\n        </span><span class="s1">width: iconSize,</span><span class="s3">\n        </span><span class="s1">fallbackPrefix: </span><span class="s3">\&quot;\&quot;\n      </span><span class="s1">})}&lt;/g&gt;`</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const iconBBox = iconElem.node().getBBox();</span><span class="s3">\n    </span><span class="s1">const iconWidth = iconBBox.width;</span><span class="s3">\n    </span><span class="s1">const iconHeight = iconBBox.height;</span><span class="s3">\n    </span><span class="s1">const iconX = iconBBox.x;</span><span class="s3">\n    </span><span class="s1">const iconY = iconBBox.y;</span><span class="s3">\n    </span><span class="s1">iconElem.attr(</span><span class="s3">\n      \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">`translate(${-iconWidth / 2 - iconX},${topLabel ? bbox.height / 2 + labelPadding / 2 - iconHeight / 2 - iconY : -bbox.height / 2 - labelPadding / 2 - iconHeight / 2 - iconY})`</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">iconElem.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, `color: ${stylesMap.get(</span><span class="s3">\&quot;</span><span class="s1">stroke</span><span class="s3">\&quot;</span><span class="s1">) ?? nodeBorder};`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-bbox.width / 2 - (bbox.x - (bbox.left ?? 0))},${topLabel ? -outerHeight / 2 : outerHeight / 2 - bbox.height})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">iconShape.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${0},${topLabel ? bbox.height / 2 + labelPadding / 2 : -bbox.height / 2 - labelPadding / 2})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, outerShape);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">iconSquare intersect</span><span class="s3">\&quot;</span><span class="s1">, node, point);</span><span class="s3">\n    </span><span class="s1">if (!node.label) {</span><span class="s3">\n      </span><span class="s1">return intersect_default.rect(node, point);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const dx = node.x ?? 0;</span><span class="s3">\n    </span><span class="s1">const dy = node.y ?? 0;</span><span class="s3">\n    </span><span class="s1">const nodeHeight = node.height ?? 0;</span><span class="s3">\n    </span><span class="s1">let points = [];</span><span class="s3">\n    </span><span class="s1">if (topLabel) {</span><span class="s3">\n      </span><span class="s1">points = [</span><span class="s3">\n        </span><span class="s1">{ x: dx - bbox.width / 2, y: dy - nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx + bbox.width / 2, y: dy - nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx + bbox.width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },</span><span class="s3">\n        </span><span class="s1">{ x: dx + width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },</span><span class="s3">\n        </span><span class="s1">{ x: dx + width / 2, y: dy + nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx - width / 2, y: dy + nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx - width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },</span><span class="s3">\n        </span><span class="s1">{ x: dx - bbox.width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding }</span><span class="s3">\n      </span><span class="s1">];</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">points = [</span><span class="s3">\n        </span><span class="s1">{ x: dx - width / 2, y: dy - nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx + width / 2, y: dy - nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx + width / 2, y: dy - nodeHeight / 2 + height },</span><span class="s3">\n        </span><span class="s1">{ x: dx + bbox.width / 2, y: dy - nodeHeight / 2 + height },</span><span class="s3">\n        </span><span class="s1">{ x: dx + bbox.width / 2 / 2, y: dy + nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx - bbox.width / 2, y: dy + nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx - bbox.width / 2, y: dy - nodeHeight / 2 + height },</span><span class="s3">\n        </span><span class="s1">{ x: dx - width / 2, y: dy - nodeHeight / 2 + height }</span><span class="s3">\n      </span><span class="s1">];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, points, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(icon, </span><span class="s3">\&quot;</span><span class="s1">icon</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/iconCircle.ts</span><span class="s3">\n</span><span class="s1">import rough22 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function iconCircle(parent, node, { config: { themeVariables, flowchart } }) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const assetHeight = node.assetHeight ?? 48;</span><span class="s3">\n  </span><span class="s1">const assetWidth = node.assetWidth ?? 48;</span><span class="s3">\n  </span><span class="s1">const iconSize = Math.max(assetHeight, assetWidth);</span><span class="s3">\n  </span><span class="s1">const defaultWidth = flowchart?.wrappingWidth;</span><span class="s3">\n  </span><span class="s1">node.width = Math.max(iconSize, defaultWidth ?? 0);</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, </span><span class="s3">\&quot;</span><span class="s1">icon-shape default</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const padding = 20;</span><span class="s3">\n  </span><span class="s1">const labelPadding = node.label ? 8 : 0;</span><span class="s3">\n  </span><span class="s1">const topLabel = node.pos === </span><span class="s3">\&quot;</span><span class="s1">t</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">const { nodeBorder, mainBkg } = themeVariables;</span><span class="s3">\n  </span><span class="s1">const { stylesMap } = compileStyles(node);</span><span class="s3">\n  </span><span class="s1">const rc = rough22.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const fill = stylesMap.get(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">options.stroke = fill ?? mainBkg;</span><span class="s3">\n  </span><span class="s1">const iconElem = shapeSvg.append(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (node.icon) {</span><span class="s3">\n    </span><span class="s1">iconElem.html(</span><span class="s3">\n      </span><span class="s1">`&lt;g&gt;${await getIconSVG(node.icon, {</span><span class="s3">\n        </span><span class="s1">height: iconSize,</span><span class="s3">\n        </span><span class="s1">width: iconSize,</span><span class="s3">\n        </span><span class="s1">fallbackPrefix: </span><span class="s3">\&quot;\&quot;\n      </span><span class="s1">})}&lt;/g&gt;`</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const iconBBox = iconElem.node().getBBox();</span><span class="s3">\n  </span><span class="s1">const iconWidth = iconBBox.width;</span><span class="s3">\n  </span><span class="s1">const iconHeight = iconBBox.height;</span><span class="s3">\n  </span><span class="s1">const iconX = iconBBox.x;</span><span class="s3">\n  </span><span class="s1">const iconY = iconBBox.y;</span><span class="s3">\n  </span><span class="s1">const diameter = Math.max(iconWidth, iconHeight) * Math.SQRT2 + padding * 2;</span><span class="s3">\n  </span><span class="s1">const iconNode = rc.circle(0, 0, diameter, options);</span><span class="s3">\n  </span><span class="s1">const outerWidth = Math.max(diameter, bbox.width);</span><span class="s3">\n  </span><span class="s1">const outerHeight = diameter + bbox.height + labelPadding;</span><span class="s3">\n  </span><span class="s1">const outerNode = rc.rectangle(-outerWidth / 2, -outerHeight / 2, outerWidth, outerHeight, {</span><span class="s3">\n    </span><span class="s1">...options,</span><span class="s3">\n    </span><span class="s1">fill: </span><span class="s3">\&quot;</span><span class="s1">transparent</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">stroke: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">const iconShape = shapeSvg.insert(() =&gt; iconNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const outerShape = shapeSvg.insert(() =&gt; outerNode);</span><span class="s3">\n  </span><span class="s1">iconElem.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-iconWidth / 2 - iconX},${topLabel ? bbox.height / 2 + labelPadding / 2 - iconHeight / 2 - iconY : -bbox.height / 2 - labelPadding / 2 - iconHeight / 2 - iconY})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">iconElem.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, `color: ${stylesMap.get(</span><span class="s3">\&quot;</span><span class="s1">stroke</span><span class="s3">\&quot;</span><span class="s1">) ?? nodeBorder};`);</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-bbox.width / 2 - (bbox.x - (bbox.left ?? 0))},${topLabel ? -outerHeight / 2 : outerHeight / 2 - bbox.height})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">iconShape.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${0},${topLabel ? bbox.height / 2 + labelPadding / 2 : -bbox.height / 2 - labelPadding / 2})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, outerShape);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">iconSquare intersect</span><span class="s3">\&quot;</span><span class="s1">, node, point);</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.rect(node, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(iconCircle, </span><span class="s3">\&quot;</span><span class="s1">iconCircle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/iconRounded.ts</span><span class="s3">\n</span><span class="s1">import rough23 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function iconRounded(parent, node, { config: { themeVariables, flowchart } }) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const assetHeight = node.assetHeight ?? 48;</span><span class="s3">\n  </span><span class="s1">const assetWidth = node.assetWidth ?? 48;</span><span class="s3">\n  </span><span class="s1">const iconSize = Math.max(assetHeight, assetWidth);</span><span class="s3">\n  </span><span class="s1">const defaultWidth = flowchart?.wrappingWidth;</span><span class="s3">\n  </span><span class="s1">node.width = Math.max(iconSize, defaultWidth ?? 0);</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, halfPadding, label } = await labelHelper(</span><span class="s3">\n    </span><span class="s1">parent,</span><span class="s3">\n    </span><span class="s1">node,</span><span class="s3">\n    \&quot;</span><span class="s1">icon-shape default</span><span class="s3">\&quot;\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const topLabel = node.pos === </span><span class="s3">\&quot;</span><span class="s1">t</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">const height = iconSize + halfPadding * 2;</span><span class="s3">\n  </span><span class="s1">const width = iconSize + halfPadding * 2;</span><span class="s3">\n  </span><span class="s1">const { nodeBorder, mainBkg } = themeVariables;</span><span class="s3">\n  </span><span class="s1">const { stylesMap } = compileStyles(node);</span><span class="s3">\n  </span><span class="s1">const x = -width / 2;</span><span class="s3">\n  </span><span class="s1">const y = -height / 2;</span><span class="s3">\n  </span><span class="s1">const labelPadding = node.label ? 8 : 0;</span><span class="s3">\n  </span><span class="s1">const rc = rough23.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const fill = stylesMap.get(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">options.stroke = fill ?? mainBkg;</span><span class="s3">\n  </span><span class="s1">const iconNode = rc.path(createRoundedRectPathD(x, y, width, height, 5), options);</span><span class="s3">\n  </span><span class="s1">const outerWidth = Math.max(width, bbox.width);</span><span class="s3">\n  </span><span class="s1">const outerHeight = height + bbox.height + labelPadding;</span><span class="s3">\n  </span><span class="s1">const outerNode = rc.rectangle(-outerWidth / 2, -outerHeight / 2, outerWidth, outerHeight, {</span><span class="s3">\n    </span><span class="s1">...options,</span><span class="s3">\n    </span><span class="s1">fill: </span><span class="s3">\&quot;</span><span class="s1">transparent</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">stroke: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">const iconShape = shapeSvg.insert(() =&gt; iconNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">icon-shape2</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const outerShape = shapeSvg.insert(() =&gt; outerNode);</span><span class="s3">\n  </span><span class="s1">if (node.icon) {</span><span class="s3">\n    </span><span class="s1">const iconElem = shapeSvg.append(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">iconElem.html(</span><span class="s3">\n      </span><span class="s1">`&lt;g&gt;${await getIconSVG(node.icon, {</span><span class="s3">\n        </span><span class="s1">height: iconSize,</span><span class="s3">\n        </span><span class="s1">width: iconSize,</span><span class="s3">\n        </span><span class="s1">fallbackPrefix: </span><span class="s3">\&quot;\&quot;\n      </span><span class="s1">})}&lt;/g&gt;`</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const iconBBox = iconElem.node().getBBox();</span><span class="s3">\n    </span><span class="s1">const iconWidth = iconBBox.width;</span><span class="s3">\n    </span><span class="s1">const iconHeight = iconBBox.height;</span><span class="s3">\n    </span><span class="s1">const iconX = iconBBox.x;</span><span class="s3">\n    </span><span class="s1">const iconY = iconBBox.y;</span><span class="s3">\n    </span><span class="s1">iconElem.attr(</span><span class="s3">\n      \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">`translate(${-iconWidth / 2 - iconX},${topLabel ? bbox.height / 2 + labelPadding / 2 - iconHeight / 2 - iconY : -bbox.height / 2 - labelPadding / 2 - iconHeight / 2 - iconY})`</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">iconElem.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, `color: ${stylesMap.get(</span><span class="s3">\&quot;</span><span class="s1">stroke</span><span class="s3">\&quot;</span><span class="s1">) ?? nodeBorder};`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-bbox.width / 2 - (bbox.x - (bbox.left ?? 0))},${topLabel ? -outerHeight / 2 : outerHeight / 2 - bbox.height})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">iconShape.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${0},${topLabel ? bbox.height / 2 + labelPadding / 2 : -bbox.height / 2 - labelPadding / 2})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, outerShape);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">iconSquare intersect</span><span class="s3">\&quot;</span><span class="s1">, node, point);</span><span class="s3">\n    </span><span class="s1">if (!node.label) {</span><span class="s3">\n      </span><span class="s1">return intersect_default.rect(node, point);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const dx = node.x ?? 0;</span><span class="s3">\n    </span><span class="s1">const dy = node.y ?? 0;</span><span class="s3">\n    </span><span class="s1">const nodeHeight = node.height ?? 0;</span><span class="s3">\n    </span><span class="s1">let points = [];</span><span class="s3">\n    </span><span class="s1">if (topLabel) {</span><span class="s3">\n      </span><span class="s1">points = [</span><span class="s3">\n        </span><span class="s1">{ x: dx - bbox.width / 2, y: dy - nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx + bbox.width / 2, y: dy - nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx + bbox.width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },</span><span class="s3">\n        </span><span class="s1">{ x: dx + width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },</span><span class="s3">\n        </span><span class="s1">{ x: dx + width / 2, y: dy + nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx - width / 2, y: dy + nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx - width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },</span><span class="s3">\n        </span><span class="s1">{ x: dx - bbox.width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding }</span><span class="s3">\n      </span><span class="s1">];</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">points = [</span><span class="s3">\n        </span><span class="s1">{ x: dx - width / 2, y: dy - nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx + width / 2, y: dy - nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx + width / 2, y: dy - nodeHeight / 2 + height },</span><span class="s3">\n        </span><span class="s1">{ x: dx + bbox.width / 2, y: dy - nodeHeight / 2 + height },</span><span class="s3">\n        </span><span class="s1">{ x: dx + bbox.width / 2 / 2, y: dy + nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx - bbox.width / 2, y: dy + nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx - bbox.width / 2, y: dy - nodeHeight / 2 + height },</span><span class="s3">\n        </span><span class="s1">{ x: dx - width / 2, y: dy - nodeHeight / 2 + height }</span><span class="s3">\n      </span><span class="s1">];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, points, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(iconRounded, </span><span class="s3">\&quot;</span><span class="s1">iconRounded</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/iconSquare.ts</span><span class="s3">\n</span><span class="s1">import rough24 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function iconSquare(parent, node, { config: { themeVariables, flowchart } }) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const assetHeight = node.assetHeight ?? 48;</span><span class="s3">\n  </span><span class="s1">const assetWidth = node.assetWidth ?? 48;</span><span class="s3">\n  </span><span class="s1">const iconSize = Math.max(assetHeight, assetWidth);</span><span class="s3">\n  </span><span class="s1">const defaultWidth = flowchart?.wrappingWidth;</span><span class="s3">\n  </span><span class="s1">node.width = Math.max(iconSize, defaultWidth ?? 0);</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, halfPadding, label } = await labelHelper(</span><span class="s3">\n    </span><span class="s1">parent,</span><span class="s3">\n    </span><span class="s1">node,</span><span class="s3">\n    \&quot;</span><span class="s1">icon-shape default</span><span class="s3">\&quot;\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const topLabel = node.pos === </span><span class="s3">\&quot;</span><span class="s1">t</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">const height = iconSize + halfPadding * 2;</span><span class="s3">\n  </span><span class="s1">const width = iconSize + halfPadding * 2;</span><span class="s3">\n  </span><span class="s1">const { nodeBorder, mainBkg } = themeVariables;</span><span class="s3">\n  </span><span class="s1">const { stylesMap } = compileStyles(node);</span><span class="s3">\n  </span><span class="s1">const x = -width / 2;</span><span class="s3">\n  </span><span class="s1">const y = -height / 2;</span><span class="s3">\n  </span><span class="s1">const labelPadding = node.label ? 8 : 0;</span><span class="s3">\n  </span><span class="s1">const rc = rough24.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const fill = stylesMap.get(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">options.stroke = fill ?? mainBkg;</span><span class="s3">\n  </span><span class="s1">const iconNode = rc.path(createRoundedRectPathD(x, y, width, height, 0.1), options);</span><span class="s3">\n  </span><span class="s1">const outerWidth = Math.max(width, bbox.width);</span><span class="s3">\n  </span><span class="s1">const outerHeight = height + bbox.height + labelPadding;</span><span class="s3">\n  </span><span class="s1">const outerNode = rc.rectangle(-outerWidth / 2, -outerHeight / 2, outerWidth, outerHeight, {</span><span class="s3">\n    </span><span class="s1">...options,</span><span class="s3">\n    </span><span class="s1">fill: </span><span class="s3">\&quot;</span><span class="s1">transparent</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">stroke: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">const iconShape = shapeSvg.insert(() =&gt; iconNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const outerShape = shapeSvg.insert(() =&gt; outerNode);</span><span class="s3">\n  </span><span class="s1">if (node.icon) {</span><span class="s3">\n    </span><span class="s1">const iconElem = shapeSvg.append(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">iconElem.html(</span><span class="s3">\n      </span><span class="s1">`&lt;g&gt;${await getIconSVG(node.icon, {</span><span class="s3">\n        </span><span class="s1">height: iconSize,</span><span class="s3">\n        </span><span class="s1">width: iconSize,</span><span class="s3">\n        </span><span class="s1">fallbackPrefix: </span><span class="s3">\&quot;\&quot;\n      </span><span class="s1">})}&lt;/g&gt;`</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const iconBBox = iconElem.node().getBBox();</span><span class="s3">\n    </span><span class="s1">const iconWidth = iconBBox.width;</span><span class="s3">\n    </span><span class="s1">const iconHeight = iconBBox.height;</span><span class="s3">\n    </span><span class="s1">const iconX = iconBBox.x;</span><span class="s3">\n    </span><span class="s1">const iconY = iconBBox.y;</span><span class="s3">\n    </span><span class="s1">iconElem.attr(</span><span class="s3">\n      \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">`translate(${-iconWidth / 2 - iconX},${topLabel ? bbox.height / 2 + labelPadding / 2 - iconHeight / 2 - iconY : -bbox.height / 2 - labelPadding / 2 - iconHeight / 2 - iconY})`</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">iconElem.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, `color: ${stylesMap.get(</span><span class="s3">\&quot;</span><span class="s1">stroke</span><span class="s3">\&quot;</span><span class="s1">) ?? nodeBorder};`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-bbox.width / 2 - (bbox.x - (bbox.left ?? 0))},${topLabel ? -outerHeight / 2 : outerHeight / 2 - bbox.height})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">iconShape.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${0},${topLabel ? bbox.height / 2 + labelPadding / 2 : -bbox.height / 2 - labelPadding / 2})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, outerShape);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">iconSquare intersect</span><span class="s3">\&quot;</span><span class="s1">, node, point);</span><span class="s3">\n    </span><span class="s1">if (!node.label) {</span><span class="s3">\n      </span><span class="s1">return intersect_default.rect(node, point);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const dx = node.x ?? 0;</span><span class="s3">\n    </span><span class="s1">const dy = node.y ?? 0;</span><span class="s3">\n    </span><span class="s1">const nodeHeight = node.height ?? 0;</span><span class="s3">\n    </span><span class="s1">let points = [];</span><span class="s3">\n    </span><span class="s1">if (topLabel) {</span><span class="s3">\n      </span><span class="s1">points = [</span><span class="s3">\n        </span><span class="s1">{ x: dx - bbox.width / 2, y: dy - nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx + bbox.width / 2, y: dy - nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx + bbox.width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },</span><span class="s3">\n        </span><span class="s1">{ x: dx + width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },</span><span class="s3">\n        </span><span class="s1">{ x: dx + width / 2, y: dy + nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx - width / 2, y: dy + nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx - width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },</span><span class="s3">\n        </span><span class="s1">{ x: dx - bbox.width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding }</span><span class="s3">\n      </span><span class="s1">];</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">points = [</span><span class="s3">\n        </span><span class="s1">{ x: dx - width / 2, y: dy - nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx + width / 2, y: dy - nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx + width / 2, y: dy - nodeHeight / 2 + height },</span><span class="s3">\n        </span><span class="s1">{ x: dx + bbox.width / 2, y: dy - nodeHeight / 2 + height },</span><span class="s3">\n        </span><span class="s1">{ x: dx + bbox.width / 2 / 2, y: dy + nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx - bbox.width / 2, y: dy + nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx - bbox.width / 2, y: dy - nodeHeight / 2 + height },</span><span class="s3">\n        </span><span class="s1">{ x: dx - width / 2, y: dy - nodeHeight / 2 + height }</span><span class="s3">\n      </span><span class="s1">];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, points, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(iconSquare, </span><span class="s3">\&quot;</span><span class="s1">iconSquare</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/imageSquare.ts</span><span class="s3">\n</span><span class="s1">import rough25 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function imageSquare(parent, node, { config: { flowchart } }) {</span><span class="s3">\n  </span><span class="s1">const img = new Image();</span><span class="s3">\n  </span><span class="s1">img.src = node?.img ?? </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">await img.decode();</span><span class="s3">\n  </span><span class="s1">const imageNaturalWidth = Number(img.naturalWidth.toString().replace(</span><span class="s3">\&quot;</span><span class="s1">px</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">const imageNaturalHeight = Number(img.naturalHeight.toString().replace(</span><span class="s3">\&quot;</span><span class="s1">px</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">node.imageAspectRatio = imageNaturalWidth / imageNaturalHeight;</span><span class="s3">\n  </span><span class="s1">const { labelStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const defaultWidth = flowchart?.wrappingWidth;</span><span class="s3">\n  </span><span class="s1">node.defaultWidth = flowchart?.wrappingWidth;</span><span class="s3">\n  </span><span class="s1">const imageRawWidth = Math.max(</span><span class="s3">\n    </span><span class="s1">node.label ? defaultWidth ?? 0 : 0,</span><span class="s3">\n    </span><span class="s1">node?.assetWidth ?? imageNaturalWidth</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const imageWidth = node.constraint === </span><span class="s3">\&quot;</span><span class="s1">on</span><span class="s3">\&quot; </span><span class="s1">? node?.assetHeight ? node.assetHeight * node.imageAspectRatio : imageRawWidth : imageRawWidth;</span><span class="s3">\n  </span><span class="s1">const imageHeight = node.constraint === </span><span class="s3">\&quot;</span><span class="s1">on</span><span class="s3">\&quot; </span><span class="s1">? imageWidth / node.imageAspectRatio : node?.assetHeight ?? imageNaturalHeight;</span><span class="s3">\n  </span><span class="s1">node.width = Math.max(imageWidth, defaultWidth ?? 0);</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, </span><span class="s3">\&quot;</span><span class="s1">image-shape default</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const topLabel = node.pos === </span><span class="s3">\&quot;</span><span class="s1">t</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">const x = -imageWidth / 2;</span><span class="s3">\n  </span><span class="s1">const y = -imageHeight / 2;</span><span class="s3">\n  </span><span class="s1">const labelPadding = node.label ? 8 : 0;</span><span class="s3">\n  </span><span class="s1">const rc = rough25.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const imageNode = rc.rectangle(x, y, imageWidth, imageHeight, options);</span><span class="s3">\n  </span><span class="s1">const outerWidth = Math.max(imageWidth, bbox.width);</span><span class="s3">\n  </span><span class="s1">const outerHeight = imageHeight + bbox.height + labelPadding;</span><span class="s3">\n  </span><span class="s1">const outerNode = rc.rectangle(-outerWidth / 2, -outerHeight / 2, outerWidth, outerHeight, {</span><span class="s3">\n    </span><span class="s1">...options,</span><span class="s3">\n    </span><span class="s1">fill: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">stroke: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">const iconShape = shapeSvg.insert(() =&gt; imageNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const outerShape = shapeSvg.insert(() =&gt; outerNode);</span><span class="s3">\n  </span><span class="s1">if (node.img) {</span><span class="s3">\n    </span><span class="s1">const image = shapeSvg.append(</span><span class="s3">\&quot;</span><span class="s1">image</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">image.attr(</span><span class="s3">\&quot;</span><span class="s1">href</span><span class="s3">\&quot;</span><span class="s1">, node.img);</span><span class="s3">\n    </span><span class="s1">image.attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, imageWidth);</span><span class="s3">\n    </span><span class="s1">image.attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, imageHeight);</span><span class="s3">\n    </span><span class="s1">image.attr(</span><span class="s3">\&quot;</span><span class="s1">preserveAspectRatio</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">image.attr(</span><span class="s3">\n      \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">`translate(${-imageWidth / 2},${topLabel ? outerHeight / 2 - imageHeight : -outerHeight / 2})`</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-bbox.width / 2 - (bbox.x - (bbox.left ?? 0))},${topLabel ? -imageHeight / 2 - bbox.height / 2 - labelPadding / 2 : imageHeight / 2 - bbox.height / 2 + labelPadding / 2})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">iconShape.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${0},${topLabel ? bbox.height / 2 + labelPadding / 2 : -bbox.height / 2 - labelPadding / 2})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, outerShape);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">iconSquare intersect</span><span class="s3">\&quot;</span><span class="s1">, node, point);</span><span class="s3">\n    </span><span class="s1">if (!node.label) {</span><span class="s3">\n      </span><span class="s1">return intersect_default.rect(node, point);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const dx = node.x ?? 0;</span><span class="s3">\n    </span><span class="s1">const dy = node.y ?? 0;</span><span class="s3">\n    </span><span class="s1">const nodeHeight = node.height ?? 0;</span><span class="s3">\n    </span><span class="s1">let points = [];</span><span class="s3">\n    </span><span class="s1">if (topLabel) {</span><span class="s3">\n      </span><span class="s1">points = [</span><span class="s3">\n        </span><span class="s1">{ x: dx - bbox.width / 2, y: dy - nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx + bbox.width / 2, y: dy - nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx + bbox.width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },</span><span class="s3">\n        </span><span class="s1">{ x: dx + imageWidth / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },</span><span class="s3">\n        </span><span class="s1">{ x: dx + imageWidth / 2, y: dy + nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx - imageWidth / 2, y: dy + nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx - imageWidth / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding },</span><span class="s3">\n        </span><span class="s1">{ x: dx - bbox.width / 2, y: dy - nodeHeight / 2 + bbox.height + labelPadding }</span><span class="s3">\n      </span><span class="s1">];</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">points = [</span><span class="s3">\n        </span><span class="s1">{ x: dx - imageWidth / 2, y: dy - nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx + imageWidth / 2, y: dy - nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx + imageWidth / 2, y: dy - nodeHeight / 2 + imageHeight },</span><span class="s3">\n        </span><span class="s1">{ x: dx + bbox.width / 2, y: dy - nodeHeight / 2 + imageHeight },</span><span class="s3">\n        </span><span class="s1">{ x: dx + bbox.width / 2 / 2, y: dy + nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx - bbox.width / 2, y: dy + nodeHeight / 2 },</span><span class="s3">\n        </span><span class="s1">{ x: dx - bbox.width / 2, y: dy - nodeHeight / 2 + imageHeight },</span><span class="s3">\n        </span><span class="s1">{ x: dx - imageWidth / 2, y: dy - nodeHeight / 2 + imageHeight }</span><span class="s3">\n      </span><span class="s1">];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, points, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(imageSquare, </span><span class="s3">\&quot;</span><span class="s1">imageSquare</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/invertedTrapezoid.ts</span><span class="s3">\n</span><span class="s1">import rough26 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function inv_trapezoid(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: 0, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: w, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: w + 3 * h / 6, y: -h },</span><span class="s3">\n    </span><span class="s1">{ x: -3 * h / 6, y: -h }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">let polygon;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough26.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n    </span><span class="s1">const pathData = createPathFromPoints(points);</span><span class="s3">\n    </span><span class="s1">const roughNode = rc.path(pathData, options);</span><span class="s3">\n    </span><span class="s1">polygon = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-w / 2}, ${h / 2})`);</span><span class="s3">\n    </span><span class="s1">if (cssStyles) {</span><span class="s3">\n      </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">polygon = insertPolygonShape(shapeSvg, w, h, points);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles) {</span><span class="s3">\n    </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">node.width = w;</span><span class="s3">\n  </span><span class="s1">node.height = h;</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, polygon);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.polygon(node, points, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(inv_trapezoid, </span><span class="s3">\&quot;</span><span class="s1">inv_trapezoid</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/drawRect.ts</span><span class="s3">\n</span><span class="s1">import rough27 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function drawRect(parent, node, options) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const totalWidth = Math.max(bbox.width + options.labelPaddingX * 2, node?.width || 0);</span><span class="s3">\n  </span><span class="s1">const totalHeight = Math.max(bbox.height + options.labelPaddingY * 2, node?.height || 0);</span><span class="s3">\n  </span><span class="s1">const x = -totalWidth / 2;</span><span class="s3">\n  </span><span class="s1">const y = -totalHeight / 2;</span><span class="s3">\n  </span><span class="s1">let rect2;</span><span class="s3">\n  </span><span class="s1">let { rx, ry } = node;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">if (options?.rx &amp;&amp; options.ry) {</span><span class="s3">\n    </span><span class="s1">rx = options.rx;</span><span class="s3">\n    </span><span class="s1">ry = options.ry;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough27.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const options2 = userNodeOverrides(node, {});</span><span class="s3">\n    </span><span class="s1">const roughNode = rx || ry ? rc.path(createRoundedRectPathD(x, y, totalWidth, totalHeight, rx || 0), options2) : rc.rectangle(x, y, totalWidth, totalHeight, options2);</span><span class="s3">\n    </span><span class="s1">rect2 = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">rect2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, handleUndefinedAttr(cssStyles));</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">rect2 = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">rect2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles).attr(</span><span class="s3">\&quot;</span><span class="s1">rx</span><span class="s3">\&quot;</span><span class="s1">, handleUndefinedAttr(rx)).attr(</span><span class="s3">\&quot;</span><span class="s1">ry</span><span class="s3">\&quot;</span><span class="s1">, handleUndefinedAttr(ry)).attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, x).attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, y).attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, totalWidth).attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, totalHeight);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, rect2);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.rect(node, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(drawRect, </span><span class="s3">\&quot;</span><span class="s1">drawRect</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/labelRect.ts</span><span class="s3">\n</span><span class="s1">async function labelRect(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, </span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const rect2 = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const totalWidth = 0.1;</span><span class="s3">\n  </span><span class="s1">const totalHeight = 0.1;</span><span class="s3">\n  </span><span class="s1">rect2.attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, totalWidth).attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, totalHeight);</span><span class="s3">\n  </span><span class="s1">shapeSvg.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">label edgeLabel</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-(bbox.width / 2) - (bbox.x - (bbox.left ?? 0))}, ${-(bbox.height / 2) - (bbox.y - (bbox.top ?? 0))})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, rect2);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.rect(node, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(labelRect, </span><span class="s3">\&quot;</span><span class="s1">labelRect</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/leanLeft.ts</span><span class="s3">\n</span><span class="s1">import rough28 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function lean_left(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = Math.max(bbox.width + (node.padding ?? 0), node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(bbox.height + (node.padding ?? 0), node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: 0, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: w + 3 * h / 6, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: w, y: -h },</span><span class="s3">\n    </span><span class="s1">{ x: -(3 * h) / 6, y: -h }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">let polygon;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough28.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n    </span><span class="s1">const pathData = createPathFromPoints(points);</span><span class="s3">\n    </span><span class="s1">const roughNode = rc.path(pathData, options);</span><span class="s3">\n    </span><span class="s1">polygon = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-w / 2}, ${h / 2})`);</span><span class="s3">\n    </span><span class="s1">if (cssStyles) {</span><span class="s3">\n      </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">polygon = insertPolygonShape(shapeSvg, w, h, points);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles) {</span><span class="s3">\n    </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">node.width = w;</span><span class="s3">\n  </span><span class="s1">node.height = h;</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, polygon);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.polygon(node, points, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(lean_left, </span><span class="s3">\&quot;</span><span class="s1">lean_left</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/leanRight.ts</span><span class="s3">\n</span><span class="s1">import rough29 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function lean_right(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = Math.max(bbox.width + (node.padding ?? 0), node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(bbox.height + (node.padding ?? 0), node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: -3 * h / 6, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: w, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: w + 3 * h / 6, y: -h },</span><span class="s3">\n    </span><span class="s1">{ x: 0, y: -h }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">let polygon;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough29.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n    </span><span class="s1">const pathData = createPathFromPoints(points);</span><span class="s3">\n    </span><span class="s1">const roughNode = rc.path(pathData, options);</span><span class="s3">\n    </span><span class="s1">polygon = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-w / 2}, ${h / 2})`);</span><span class="s3">\n    </span><span class="s1">if (cssStyles) {</span><span class="s3">\n      </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">polygon = insertPolygonShape(shapeSvg, w, h, points);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles) {</span><span class="s3">\n    </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">node.width = w;</span><span class="s3">\n  </span><span class="s1">node.height = h;</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, polygon);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.polygon(node, points, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(lean_right, </span><span class="s3">\&quot;</span><span class="s1">lean_right</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/lightningBolt.ts</span><span class="s3">\n</span><span class="s1">import rough30 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function lightningBolt(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.label = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const shapeSvg = parent.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, getNodeClasses(node)).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, node.domId ?? node.id);</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const width = Math.max(35, node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const height = Math.max(35, node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const gap = 7;</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: width, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: 0, y: height + gap / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: width - 2 * gap, y: height + gap / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: 0, y: 2 * height },</span><span class="s3">\n    </span><span class="s1">{ x: width, y: height - gap / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: 2 * gap, y: height - gap / 2 }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const rc = rough30.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const linePath = createPathFromPoints(points);</span><span class="s3">\n  </span><span class="s1">const lineNode = rc.path(linePath, options);</span><span class="s3">\n  </span><span class="s1">const lightningBolt2 = shapeSvg.insert(() =&gt; lineNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">lightningBolt2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">lightningBolt2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">lightningBolt2.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(-${width / 2},${-height})`);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, lightningBolt2);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">lightningBolt intersect</span><span class="s3">\&quot;</span><span class="s1">, node, point);</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, points, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(lightningBolt, </span><span class="s3">\&quot;</span><span class="s1">lightningBolt</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/linedCylinder.ts</span><span class="s3">\n</span><span class="s1">import rough31 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var createCylinderPathD2 = /* @__PURE__ */ __name((x, y, width, height, rx, ry, outerOffset) =&gt; {</span><span class="s3">\n  </span><span class="s1">return [</span><span class="s3">\n    </span><span class="s1">`M${x},${y + ry}`,</span><span class="s3">\n    </span><span class="s1">`a${rx},${ry} 0,0,0 ${width},0`,</span><span class="s3">\n    </span><span class="s1">`a${rx},${ry} 0,0,0 ${-width},0`,</span><span class="s3">\n    </span><span class="s1">`l0,${height}`,</span><span class="s3">\n    </span><span class="s1">`a${rx},${ry} 0,0,0 ${width},0`,</span><span class="s3">\n    </span><span class="s1">`l0,${-height}`,</span><span class="s3">\n    </span><span class="s1">`M${x},${y + ry + outerOffset}`,</span><span class="s3">\n    </span><span class="s1">`a${rx},${ry} 0,0,0 ${width},0`</span><span class="s3">\n  </span><span class="s1">].join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">createCylinderPathD</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var createOuterCylinderPathD2 = /* @__PURE__ */ __name((x, y, width, height, rx, ry, outerOffset) =&gt; {</span><span class="s3">\n  </span><span class="s1">return [</span><span class="s3">\n    </span><span class="s1">`M${x},${y + ry}`,</span><span class="s3">\n    </span><span class="s1">`M${x + width},${y + ry}`,</span><span class="s3">\n    </span><span class="s1">`a${rx},${ry} 0,0,0 ${-width},0`,</span><span class="s3">\n    </span><span class="s1">`l0,${height}`,</span><span class="s3">\n    </span><span class="s1">`a${rx},${ry} 0,0,0 ${width},0`,</span><span class="s3">\n    </span><span class="s1">`l0,${-height}`,</span><span class="s3">\n    </span><span class="s1">`M${x},${y + ry + outerOffset}`,</span><span class="s3">\n    </span><span class="s1">`a${rx},${ry} 0,0,0 ${width},0`</span><span class="s3">\n  </span><span class="s1">].join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">createOuterCylinderPathD</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var createInnerCylinderPathD2 = /* @__PURE__ */ __name((x, y, width, height, rx, ry) =&gt; {</span><span class="s3">\n  </span><span class="s1">return [`M${x - width / 2},${-height / 2}`, `a${rx},${ry} 0,0,0 ${width},0`].join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">createInnerCylinderPathD</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">async function linedCylinder(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = Math.max(bbox.width + (node.padding ?? 0), node.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const rx = w / 2;</span><span class="s3">\n  </span><span class="s1">const ry = rx / (2.5 + w / 50);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(bbox.height + ry + (node.padding ?? 0), node.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const outerOffset = h * 0.1;</span><span class="s3">\n  </span><span class="s1">let cylinder2;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough31.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const outerPathData = createOuterCylinderPathD2(0, 0, w, h, rx, ry, outerOffset);</span><span class="s3">\n    </span><span class="s1">const innerPathData = createInnerCylinderPathD2(0, ry, w, h, rx, ry);</span><span class="s3">\n    </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n    </span><span class="s1">const outerNode = rc.path(outerPathData, options);</span><span class="s3">\n    </span><span class="s1">const innerLine = rc.path(innerPathData, options);</span><span class="s3">\n    </span><span class="s1">const innerLineEl = shapeSvg.insert(() =&gt; innerLine, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">innerLineEl.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">line</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">cylinder2 = shapeSvg.insert(() =&gt; outerNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">cylinder2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (cssStyles) {</span><span class="s3">\n      </span><span class="s1">cylinder2.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">const pathData = createCylinderPathD2(0, 0, w, h, rx, ry, outerOffset);</span><span class="s3">\n    </span><span class="s1">cylinder2 = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, pathData).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, handleUndefinedAttr(cssStyles)).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">cylinder2.attr(</span><span class="s3">\&quot;</span><span class="s1">label-offset-y</span><span class="s3">\&quot;</span><span class="s1">, ry);</span><span class="s3">\n  </span><span class="s1">cylinder2.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-w / 2}, ${-(h / 2 + ry)})`);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, cylinder2);</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-(bbox.width / 2) - (bbox.x - (bbox.left ?? 0))}, ${-(bbox.height / 2) + ry - (bbox.y - (bbox.top ?? 0))})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.rect(node, point);</span><span class="s3">\n    </span><span class="s1">const x = pos.x - (node.x ?? 0);</span><span class="s3">\n    </span><span class="s1">if (rx != 0 &amp;&amp; (Math.abs(x) &lt; (node.width ?? 0) / 2 || Math.abs(x) == (node.width ?? 0) / 2 &amp;&amp; Math.abs(pos.y - (node.y ?? 0)) &gt; (node.height ?? 0) / 2 - ry)) {</span><span class="s3">\n      </span><span class="s1">let y = ry * ry * (1 - x * x / (rx * rx));</span><span class="s3">\n      </span><span class="s1">if (y &gt; 0) {</span><span class="s3">\n        </span><span class="s1">y = Math.sqrt(y);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">y = ry - y;</span><span class="s3">\n      </span><span class="s1">if (point.y - (node.y ?? 0) &gt; 0) {</span><span class="s3">\n        </span><span class="s1">y = -y;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">pos.y += y;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(linedCylinder, </span><span class="s3">\&quot;</span><span class="s1">linedCylinder</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/linedWaveEdgedRect.ts</span><span class="s3">\n</span><span class="s1">import rough32 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function linedWaveEdgedRect(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const waveAmplitude = h / 4;</span><span class="s3">\n  </span><span class="s1">const finalH = h + waveAmplitude;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough32.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2 - w / 2 * 0.1, y: -finalH / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2 - w / 2 * 0.1, y: finalH / 2 },</span><span class="s3">\n    </span><span class="s1">...generateFullSineWavePoints(</span><span class="s3">\n      </span><span class="s1">-w / 2 - w / 2 * 0.1,</span><span class="s3">\n      </span><span class="s1">finalH / 2,</span><span class="s3">\n      </span><span class="s1">w / 2 + w / 2 * 0.1,</span><span class="s3">\n      </span><span class="s1">finalH / 2,</span><span class="s3">\n      </span><span class="s1">waveAmplitude,</span><span class="s3">\n      </span><span class="s1">0.8</span><span class="s3">\n    </span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">{ x: w / 2 + w / 2 * 0.1, y: -finalH / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2 - w / 2 * 0.1, y: -finalH / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2, y: -finalH / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2, y: finalH / 2 * 1.1 },</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2, y: -finalH / 2 }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const poly = rc.polygon(</span><span class="s3">\n    </span><span class="s1">points.map((p) =&gt; [p.x, p.y]),</span><span class="s3">\n    </span><span class="s1">options</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const waveEdgeRect = shapeSvg.insert(() =&gt; poly, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">waveEdgeRect.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">waveEdgeRect.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">waveEdgeRect.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">waveEdgeRect.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(0,${-waveAmplitude / 2})`);</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-w / 2 + (node.padding ?? 0) + w / 2 * 0.1 / 2 - (bbox.x - (bbox.left ?? 0))},${-h / 2 + (node.padding ?? 0) - waveAmplitude / 2 - (bbox.y - (bbox.top ?? 0))})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, waveEdgeRect);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, points, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(linedWaveEdgedRect, </span><span class="s3">\&quot;</span><span class="s1">linedWaveEdgedRect</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/multiRect.ts</span><span class="s3">\n</span><span class="s1">import rough33 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function multiRect(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const rectOffset = 5;</span><span class="s3">\n  </span><span class="s1">const x = -w / 2;</span><span class="s3">\n  </span><span class="s1">const y = -h / 2;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough33.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">const outerPathPoints = [</span><span class="s3">\n    </span><span class="s1">{ x: x - rectOffset, y: y + rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x - rectOffset, y: y + h + rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x + w - rectOffset, y: y + h + rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x + w - rectOffset, y: y + h },</span><span class="s3">\n    </span><span class="s1">{ x: x + w, y: y + h },</span><span class="s3">\n    </span><span class="s1">{ x: x + w, y: y + h - rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x + w + rectOffset, y: y + h - rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x + w + rectOffset, y: y - rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x + rectOffset, y: y - rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x + rectOffset, y },</span><span class="s3">\n    </span><span class="s1">{ x, y },</span><span class="s3">\n    </span><span class="s1">{ x, y: y + rectOffset }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const innerPathPoints = [</span><span class="s3">\n    </span><span class="s1">{ x, y: y + rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x + w - rectOffset, y: y + rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x + w - rectOffset, y: y + h },</span><span class="s3">\n    </span><span class="s1">{ x: x + w, y: y + h },</span><span class="s3">\n    </span><span class="s1">{ x: x + w, y },</span><span class="s3">\n    </span><span class="s1">{ x, y }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const outerPath = createPathFromPoints(outerPathPoints);</span><span class="s3">\n  </span><span class="s1">const outerNode = rc.path(outerPath, options);</span><span class="s3">\n  </span><span class="s1">const innerPath = createPathFromPoints(innerPathPoints);</span><span class="s3">\n  </span><span class="s1">const innerNode = rc.path(innerPath, { ...options, fill: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">const multiRect2 = shapeSvg.insert(() =&gt; innerNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">multiRect2.insert(() =&gt; outerNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">multiRect2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">multiRect2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">multiRect2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-(bbox.width / 2) - rectOffset - (bbox.x - (bbox.left ?? 0))}, ${-(bbox.height / 2) + rectOffset - (bbox.y - (bbox.top ?? 0))})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, multiRect2);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, outerPathPoints, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(multiRect, </span><span class="s3">\&quot;</span><span class="s1">multiRect</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/multiWaveEdgedRectangle.ts</span><span class="s3">\n</span><span class="s1">import rough34 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function multiWaveEdgedRectangle(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const waveAmplitude = h / 4;</span><span class="s3">\n  </span><span class="s1">const finalH = h + waveAmplitude;</span><span class="s3">\n  </span><span class="s1">const x = -w / 2;</span><span class="s3">\n  </span><span class="s1">const y = -finalH / 2;</span><span class="s3">\n  </span><span class="s1">const rectOffset = 5;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const wavePoints = generateFullSineWavePoints(</span><span class="s3">\n    </span><span class="s1">x - rectOffset,</span><span class="s3">\n    </span><span class="s1">y + finalH + rectOffset,</span><span class="s3">\n    </span><span class="s1">x + w - rectOffset,</span><span class="s3">\n    </span><span class="s1">y + finalH + rectOffset,</span><span class="s3">\n    </span><span class="s1">waveAmplitude,</span><span class="s3">\n    </span><span class="s1">0.8</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const lastWavePoint = wavePoints?.[wavePoints.length - 1];</span><span class="s3">\n  </span><span class="s1">const outerPathPoints = [</span><span class="s3">\n    </span><span class="s1">{ x: x - rectOffset, y: y + rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x - rectOffset, y: y + finalH + rectOffset },</span><span class="s3">\n    </span><span class="s1">...wavePoints,</span><span class="s3">\n    </span><span class="s1">{ x: x + w - rectOffset, y: lastWavePoint.y - rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x + w, y: lastWavePoint.y - rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x + w, y: lastWavePoint.y - 2 * rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x + w + rectOffset, y: lastWavePoint.y - 2 * rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x + w + rectOffset, y: y - rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x + rectOffset, y: y - rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x + rectOffset, y },</span><span class="s3">\n    </span><span class="s1">{ x, y },</span><span class="s3">\n    </span><span class="s1">{ x, y: y + rectOffset }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const innerPathPoints = [</span><span class="s3">\n    </span><span class="s1">{ x, y: y + rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x + w - rectOffset, y: y + rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x + w - rectOffset, y: lastWavePoint.y - rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x + w, y: lastWavePoint.y - rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x + w, y },</span><span class="s3">\n    </span><span class="s1">{ x, y }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const rc = rough34.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const outerPath = createPathFromPoints(outerPathPoints);</span><span class="s3">\n  </span><span class="s1">const outerNode = rc.path(outerPath, options);</span><span class="s3">\n  </span><span class="s1">const innerPath = createPathFromPoints(innerPathPoints);</span><span class="s3">\n  </span><span class="s1">const innerNode = rc.path(innerPath, options);</span><span class="s3">\n  </span><span class="s1">const shape = shapeSvg.insert(() =&gt; outerNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">shape.insert(() =&gt; innerNode);</span><span class="s3">\n  </span><span class="s1">shape.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">shape.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">shape.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">shape.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(0,${-waveAmplitude / 2})`);</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-(bbox.width / 2) - rectOffset - (bbox.x - (bbox.left ?? 0))}, ${-(bbox.height / 2) + rectOffset - waveAmplitude / 2 - (bbox.y - (bbox.top ?? 0))})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, shape);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, outerPathPoints, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(multiWaveEdgedRectangle, </span><span class="s3">\&quot;</span><span class="s1">multiWaveEdgedRectangle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/note.ts</span><span class="s3">\n</span><span class="s1">import rough35 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function note(parent, node, { config: { themeVariables } }) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const useHtmlLabels = node.useHtmlLabels || getConfig().flowchart?.htmlLabels !== false;</span><span class="s3">\n  </span><span class="s1">if (!useHtmlLabels) {</span><span class="s3">\n    </span><span class="s1">node.centerLabel = true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const totalWidth = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const totalHeight = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const x = -totalWidth / 2;</span><span class="s3">\n  </span><span class="s1">const y = -totalHeight / 2;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough35.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {</span><span class="s3">\n    </span><span class="s1">fill: themeVariables.noteBkgColor,</span><span class="s3">\n    </span><span class="s1">stroke: themeVariables.noteBorderColor</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const noteShapeNode = rc.rectangle(x, y, totalWidth, totalHeight, options);</span><span class="s3">\n  </span><span class="s1">const rect2 = shapeSvg.insert(() =&gt; noteShapeNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">rect2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">rect2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">rect2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, rect2);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.rect(node, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(note, </span><span class="s3">\&quot;</span><span class="s1">note</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/question.ts</span><span class="s3">\n</span><span class="s1">import rough36 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var createDecisionBoxPathD = /* @__PURE__ */ __name((x, y, size) =&gt; {</span><span class="s3">\n  </span><span class="s1">return [</span><span class="s3">\n    </span><span class="s1">`M${x + size / 2},${y}`,</span><span class="s3">\n    </span><span class="s1">`L${x + size},${y - size / 2}`,</span><span class="s3">\n    </span><span class="s1">`L${x + size / 2},${y - size}`,</span><span class="s3">\n    </span><span class="s1">`L${x},${y - size / 2}`,</span><span class="s3">\n    \&quot;</span><span class="s1">Z</span><span class="s3">\&quot;\n  </span><span class="s1">].join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">createDecisionBoxPathD</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">async function question(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = bbox.width + node.padding;</span><span class="s3">\n  </span><span class="s1">const h = bbox.height + node.padding;</span><span class="s3">\n  </span><span class="s1">const s = w + h;</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: s / 2, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: s, y: -s / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: s / 2, y: -s },</span><span class="s3">\n    </span><span class="s1">{ x: 0, y: -s / 2 }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">let polygon;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough36.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n    </span><span class="s1">const pathData = createDecisionBoxPathD(0, 0, s);</span><span class="s3">\n    </span><span class="s1">const roughNode = rc.path(pathData, options);</span><span class="s3">\n    </span><span class="s1">polygon = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-s / 2}, ${s / 2})`);</span><span class="s3">\n    </span><span class="s1">if (cssStyles) {</span><span class="s3">\n      </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">polygon = insertPolygonShape(shapeSvg, s, s, points);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles) {</span><span class="s3">\n    </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, polygon);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">log.debug(</span><span class="s3">\n      \&quot;</span><span class="s1">APA12 Intersect called SPLIT</span><span class="s3">\\</span><span class="s1">npoint:</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">point,</span><span class="s3">\n      \&quot;\\</span><span class="s1">nnode:</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">node,</span><span class="s3">\n      \&quot;\\</span><span class="s1">nres:</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">intersect_default.polygon(node, points, point)</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return intersect_default.polygon(node, points, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(question, </span><span class="s3">\&quot;</span><span class="s1">question</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/rectLeftInvArrow.ts</span><span class="s3">\n</span><span class="s1">import rough37 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function rect_left_inv_arrow(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = Math.max(bbox.width + (node.padding ?? 0), node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(bbox.height + (node.padding ?? 0), node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const x = -w / 2;</span><span class="s3">\n  </span><span class="s1">const y = -h / 2;</span><span class="s3">\n  </span><span class="s1">const notch = y / 2;</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: x + notch, y },</span><span class="s3">\n    </span><span class="s1">{ x, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: x + notch, y: -y },</span><span class="s3">\n    </span><span class="s1">{ x: -x, y: -y },</span><span class="s3">\n    </span><span class="s1">{ x: -x, y }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough37.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const pathData = createPathFromPoints(points);</span><span class="s3">\n  </span><span class="s1">const roughNode = rc.path(pathData, options);</span><span class="s3">\n  </span><span class="s1">const polygon = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">polygon.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">polygon.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-notch / 2},0)`);</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-notch / 2 - bbox.width / 2 - (bbox.x - (bbox.left ?? 0))}, ${-(bbox.height / 2) - (bbox.y - (bbox.top ?? 0))})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, polygon);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.polygon(node, points, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(rect_left_inv_arrow, </span><span class="s3">\&quot;</span><span class="s1">rect_left_inv_arrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/rectWithTitle.ts</span><span class="s3">\n</span><span class="s1">import { select as select4 } from </span><span class="s3">\&quot;</span><span class="s1">d3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import rough38 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function rectWithTitle(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">let classes;</span><span class="s3">\n  </span><span class="s1">if (!node.cssClasses) {</span><span class="s3">\n    </span><span class="s1">classes = </span><span class="s3">\&quot;</span><span class="s1">node default</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">classes = </span><span class="s3">\&quot;</span><span class="s1">node </span><span class="s3">\&quot; </span><span class="s1">+ node.cssClasses;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const shapeSvg = parent.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, classes).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, node.domId || node.id);</span><span class="s3">\n  </span><span class="s1">const g = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const label = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">const description = node.description;</span><span class="s3">\n  </span><span class="s1">const title = node.label;</span><span class="s3">\n  </span><span class="s1">const text2 = label.node().appendChild(await createLabel_default(title, node.labelStyle, true, true));</span><span class="s3">\n  </span><span class="s1">let bbox = { width: 0, height: 0 };</span><span class="s3">\n  </span><span class="s1">if (evaluate(getConfig2()?.flowchart?.htmlLabels)) {</span><span class="s3">\n    </span><span class="s1">const div2 = text2.children[0];</span><span class="s3">\n    </span><span class="s1">const dv2 = select4(text2);</span><span class="s3">\n    </span><span class="s1">bbox = div2.getBoundingClientRect();</span><span class="s3">\n    </span><span class="s1">dv2.attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, bbox.width);</span><span class="s3">\n    </span><span class="s1">dv2.attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, bbox.height);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Text 2</span><span class="s3">\&quot;</span><span class="s1">, description);</span><span class="s3">\n  </span><span class="s1">const textRows = description || [];</span><span class="s3">\n  </span><span class="s1">const titleBox = text2.getBBox();</span><span class="s3">\n  </span><span class="s1">const descr = label.node().appendChild(</span><span class="s3">\n    </span><span class="s1">await createLabel_default(</span><span class="s3">\n      </span><span class="s1">textRows.join ? textRows.join(</span><span class="s3">\&quot;</span><span class="s1">&lt;br/&gt;</span><span class="s3">\&quot;</span><span class="s1">) : textRows,</span><span class="s3">\n      </span><span class="s1">node.labelStyle,</span><span class="s3">\n      </span><span class="s1">true,</span><span class="s3">\n      </span><span class="s1">true</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const div = descr.children[0];</span><span class="s3">\n  </span><span class="s1">const dv = select4(descr);</span><span class="s3">\n  </span><span class="s1">bbox = div.getBoundingClientRect();</span><span class="s3">\n  </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, bbox.width);</span><span class="s3">\n  </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, bbox.height);</span><span class="s3">\n  </span><span class="s1">const halfPadding = (node.padding || 0) / 2;</span><span class="s3">\n  </span><span class="s1">select4(descr).attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">translate( </span><span class="s3">\&quot; </span><span class="s1">+ (bbox.width &gt; titleBox.width ? 0 : (titleBox.width - bbox.width) / 2) + </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+ (titleBox.height + halfPadding + 5) + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">select4(text2).attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">translate( </span><span class="s3">\&quot; </span><span class="s1">+ (bbox.width &lt; titleBox.width ? 0 : -(titleBox.width - bbox.width) / 2) + </span><span class="s3">\&quot;</span><span class="s1">, 0)</span><span class="s3">\&quot;\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">bbox = label.node().getBBox();</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ -bbox.width / 2 + </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+ (-bbox.height / 2 - halfPadding + 3) + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const totalWidth = bbox.width + (node.padding || 0);</span><span class="s3">\n  </span><span class="s1">const totalHeight = bbox.height + (node.padding || 0);</span><span class="s3">\n  </span><span class="s1">const x = -bbox.width / 2 - halfPadding;</span><span class="s3">\n  </span><span class="s1">const y = -bbox.height / 2 - halfPadding;</span><span class="s3">\n  </span><span class="s1">let rect2;</span><span class="s3">\n  </span><span class="s1">let innerLine;</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough38.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n    </span><span class="s1">const roughNode = rc.path(</span><span class="s3">\n      </span><span class="s1">createRoundedRectPathD(x, y, totalWidth, totalHeight, node.rx || 0),</span><span class="s3">\n      </span><span class="s1">options</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const roughLine = rc.line(</span><span class="s3">\n      </span><span class="s1">-bbox.width / 2 - halfPadding,</span><span class="s3">\n      </span><span class="s1">-bbox.height / 2 - halfPadding + titleBox.height + halfPadding,</span><span class="s3">\n      </span><span class="s1">bbox.width / 2 + halfPadding,</span><span class="s3">\n      </span><span class="s1">-bbox.height / 2 - halfPadding + titleBox.height + halfPadding,</span><span class="s3">\n      </span><span class="s1">options</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">innerLine = shapeSvg.insert(() =&gt; {</span><span class="s3">\n      </span><span class="s1">log.debug(</span><span class="s3">\&quot;</span><span class="s1">Rough node insert CXC</span><span class="s3">\&quot;</span><span class="s1">, roughNode);</span><span class="s3">\n      </span><span class="s1">return roughLine;</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">rect2 = shapeSvg.insert(() =&gt; {</span><span class="s3">\n      </span><span class="s1">log.debug(</span><span class="s3">\&quot;</span><span class="s1">Rough node insert CXC</span><span class="s3">\&quot;</span><span class="s1">, roughNode);</span><span class="s3">\n      </span><span class="s1">return roughNode;</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">rect2 = g.insert(</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">innerLine = g.insert(</span><span class="s3">\&quot;</span><span class="s1">line</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">rect2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">outer title-state</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles).attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, -bbox.width / 2 - halfPadding).attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, -bbox.height / 2 - halfPadding).attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, bbox.width + (node.padding || 0)).attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, bbox.height + (node.padding || 0));</span><span class="s3">\n    </span><span class="s1">innerLine.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">divider</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">x1</span><span class="s3">\&quot;</span><span class="s1">, -bbox.width / 2 - halfPadding).attr(</span><span class="s3">\&quot;</span><span class="s1">x2</span><span class="s3">\&quot;</span><span class="s1">, bbox.width / 2 + halfPadding).attr(</span><span class="s3">\&quot;</span><span class="s1">y1</span><span class="s3">\&quot;</span><span class="s1">, -bbox.height / 2 - halfPadding + titleBox.height + halfPadding).attr(</span><span class="s3">\&quot;</span><span class="s1">y2</span><span class="s3">\&quot;</span><span class="s1">, -bbox.height / 2 - halfPadding + titleBox.height + halfPadding);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, rect2);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.rect(node, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(rectWithTitle, </span><span class="s3">\&quot;</span><span class="s1">rectWithTitle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/roundedRect.ts</span><span class="s3">\n</span><span class="s1">async function roundedRect(parent, node) {</span><span class="s3">\n  </span><span class="s1">const options = {</span><span class="s3">\n    </span><span class="s1">rx: 5,</span><span class="s3">\n    </span><span class="s1">ry: 5,</span><span class="s3">\n    </span><span class="s1">classes: </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">labelPaddingX: (node?.padding || 0) * 1,</span><span class="s3">\n    </span><span class="s1">labelPaddingY: (node?.padding || 0) * 1</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return drawRect(parent, node, options);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(roundedRect, </span><span class="s3">\&quot;</span><span class="s1">roundedRect</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/shadedProcess.ts</span><span class="s3">\n</span><span class="s1">import rough39 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function shadedProcess(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const halfPadding = node?.padding ?? 0;</span><span class="s3">\n  </span><span class="s1">const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const x = -bbox.width / 2 - halfPadding;</span><span class="s3">\n  </span><span class="s1">const y = -bbox.height / 2 - halfPadding;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough39.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x, y },</span><span class="s3">\n    </span><span class="s1">{ x: x + w + 8, y },</span><span class="s3">\n    </span><span class="s1">{ x: x + w + 8, y: y + h },</span><span class="s3">\n    </span><span class="s1">{ x: x - 8, y: y + h },</span><span class="s3">\n    </span><span class="s1">{ x: x - 8, y },</span><span class="s3">\n    </span><span class="s1">{ x, y },</span><span class="s3">\n    </span><span class="s1">{ x, y: y + h }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const roughNode = rc.polygon(</span><span class="s3">\n    </span><span class="s1">points.map((p) =&gt; [p.x, p.y]),</span><span class="s3">\n    </span><span class="s1">options</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const rect2 = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">rect2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, handleUndefinedAttr(cssStyles));</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">rect2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">rect2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-w / 2 + 4 + (node.padding ?? 0) - (bbox.x - (bbox.left ?? 0))},${-h / 2 + (node.padding ?? 0) - (bbox.y - (bbox.top ?? 0))})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, rect2);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.rect(node, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(shadedProcess, </span><span class="s3">\&quot;</span><span class="s1">shadedProcess</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/slopedRect.ts</span><span class="s3">\n</span><span class="s1">import rough40 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function slopedRect(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const x = -w / 2;</span><span class="s3">\n  </span><span class="s1">const y = -h / 2;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough40.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x, y },</span><span class="s3">\n    </span><span class="s1">{ x, y: y + h },</span><span class="s3">\n    </span><span class="s1">{ x: x + w, y: y + h },</span><span class="s3">\n    </span><span class="s1">{ x: x + w, y: y - h / 2 }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const pathData = createPathFromPoints(points);</span><span class="s3">\n  </span><span class="s1">const shapeNode = rc.path(pathData, options);</span><span class="s3">\n  </span><span class="s1">const polygon = shapeSvg.insert(() =&gt; shapeNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">polygon.selectChildren(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">polygon.selectChildren(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(0, ${h / 4})`);</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-w / 2 + (node.padding ?? 0) - (bbox.x - (bbox.left ?? 0))}, ${-h / 4 + (node.padding ?? 0) - (bbox.y - (bbox.top ?? 0))})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, polygon);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, points, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(slopedRect, </span><span class="s3">\&quot;</span><span class="s1">slopedRect</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/squareRect.ts</span><span class="s3">\n</span><span class="s1">async function squareRect2(parent, node) {</span><span class="s3">\n  </span><span class="s1">const options = {</span><span class="s3">\n    </span><span class="s1">rx: 0,</span><span class="s3">\n    </span><span class="s1">ry: 0,</span><span class="s3">\n    </span><span class="s1">classes: </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">labelPaddingX: (node?.padding || 0) * 2,</span><span class="s3">\n    </span><span class="s1">labelPaddingY: (node?.padding || 0) * 1</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return drawRect(parent, node, options);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(squareRect2, </span><span class="s3">\&quot;</span><span class="s1">squareRect</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/stadium.ts</span><span class="s3">\n</span><span class="s1">import rough41 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function stadium(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const h = bbox.height + node.padding;</span><span class="s3">\n  </span><span class="s1">const w = bbox.width + h / 4 + node.padding;</span><span class="s3">\n  </span><span class="s1">let rect2;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough41.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n    </span><span class="s1">const pathData = createRoundedRectPathD(-w / 2, -h / 2, w, h, h / 2);</span><span class="s3">\n    </span><span class="s1">const roughNode = rc.path(pathData, options);</span><span class="s3">\n    </span><span class="s1">rect2 = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">rect2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, handleUndefinedAttr(cssStyles));</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">rect2 = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">rect2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles).attr(</span><span class="s3">\&quot;</span><span class="s1">rx</span><span class="s3">\&quot;</span><span class="s1">, h / 2).attr(</span><span class="s3">\&quot;</span><span class="s1">ry</span><span class="s3">\&quot;</span><span class="s1">, h / 2).attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, -w / 2).attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, -h / 2).attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, w).attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, h);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, rect2);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.rect(node, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(stadium, </span><span class="s3">\&quot;</span><span class="s1">stadium</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/state.ts</span><span class="s3">\n</span><span class="s1">async function state(parent, node) {</span><span class="s3">\n  </span><span class="s1">const options = {</span><span class="s3">\n    </span><span class="s1">rx: 5,</span><span class="s3">\n    </span><span class="s1">ry: 5,</span><span class="s3">\n    </span><span class="s1">classes: </span><span class="s3">\&quot;</span><span class="s1">flowchart-node</span><span class="s3">\&quot;\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return drawRect(parent, node, options);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(state, </span><span class="s3">\&quot;</span><span class="s1">state</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/stateEnd.ts</span><span class="s3">\n</span><span class="s1">import rough42 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function stateEnd(parent, node, { config: { themeVariables } }) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const { lineColor, stateBorder, nodeBorder } = themeVariables;</span><span class="s3">\n  </span><span class="s1">const shapeSvg = parent.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">node default</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, node.domId || node.id);</span><span class="s3">\n  </span><span class="s1">const rc = rough42.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const roughNode = rc.circle(0, 0, 14, {</span><span class="s3">\n    </span><span class="s1">...options,</span><span class="s3">\n    </span><span class="s1">stroke: lineColor,</span><span class="s3">\n    </span><span class="s1">strokeWidth: 2</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">const innerFill = stateBorder ?? nodeBorder;</span><span class="s3">\n  </span><span class="s1">const roughInnerNode = rc.circle(0, 0, 5, {</span><span class="s3">\n    </span><span class="s1">...options,</span><span class="s3">\n    </span><span class="s1">fill: innerFill,</span><span class="s3">\n    </span><span class="s1">stroke: innerFill,</span><span class="s3">\n    </span><span class="s1">strokeWidth: 2,</span><span class="s3">\n    </span><span class="s1">fillStyle: </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">const circle2 = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">circle2.insert(() =&gt; roughInnerNode);</span><span class="s3">\n  </span><span class="s1">if (cssStyles) {</span><span class="s3">\n    </span><span class="s1">circle2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles) {</span><span class="s3">\n    </span><span class="s1">circle2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, circle2);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.circle(node, 7, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(stateEnd, </span><span class="s3">\&quot;</span><span class="s1">stateEnd</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/stateStart.ts</span><span class="s3">\n</span><span class="s1">import rough43 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function stateStart(parent, node, { config: { themeVariables } }) {</span><span class="s3">\n  </span><span class="s1">const { lineColor } = themeVariables;</span><span class="s3">\n  </span><span class="s1">const shapeSvg = parent.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">node default</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, node.domId || node.id);</span><span class="s3">\n  </span><span class="s1">let circle2;</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough43.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const roughNode = rc.circle(0, 0, 14, solidStateFill(lineColor));</span><span class="s3">\n    </span><span class="s1">circle2 = shapeSvg.insert(() =&gt; roughNode);</span><span class="s3">\n    </span><span class="s1">circle2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">state-start</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">, 7).attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, 14).attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, 14);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">circle2 = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">circle2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">state-start</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">, 7).attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, 14).attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, 14);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, circle2);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.circle(node, 7, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(stateStart, </span><span class="s3">\&quot;</span><span class="s1">stateStart</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/subroutine.ts</span><span class="s3">\n</span><span class="s1">import rough44 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function subroutine(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const halfPadding = (node?.padding || 0) / 2;</span><span class="s3">\n  </span><span class="s1">const w = bbox.width + node.padding;</span><span class="s3">\n  </span><span class="s1">const h = bbox.height + node.padding;</span><span class="s3">\n  </span><span class="s1">const x = -bbox.width / 2 - halfPadding;</span><span class="s3">\n  </span><span class="s1">const y = -bbox.height / 2 - halfPadding;</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: 0, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: w, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: w, y: -h },</span><span class="s3">\n    </span><span class="s1">{ x: 0, y: -h },</span><span class="s3">\n    </span><span class="s1">{ x: 0, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: -8, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: w + 8, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: w + 8, y: -h },</span><span class="s3">\n    </span><span class="s1">{ x: -8, y: -h },</span><span class="s3">\n    </span><span class="s1">{ x: -8, y: 0 }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough44.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n    </span><span class="s1">const roughNode = rc.rectangle(x - 8, y, w + 16, h, options);</span><span class="s3">\n    </span><span class="s1">const l1 = rc.line(x, y, x, y + h, options);</span><span class="s3">\n    </span><span class="s1">const l2 = rc.line(x + w, y, x + w, y + h, options);</span><span class="s3">\n    </span><span class="s1">shapeSvg.insert(() =&gt; l1, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">shapeSvg.insert(() =&gt; l2, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const rect2 = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n    </span><span class="s1">rect2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, handleUndefinedAttr(cssStyles));</span><span class="s3">\n    </span><span class="s1">updateNodeBounds(node, rect2);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">const el = insertPolygonShape(shapeSvg, w, h, points);</span><span class="s3">\n    </span><span class="s1">if (nodeStyles) {</span><span class="s3">\n      </span><span class="s1">el.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">updateNodeBounds(node, el);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.polygon(node, points, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(subroutine, </span><span class="s3">\&quot;</span><span class="s1">subroutine</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/taggedRect.ts</span><span class="s3">\n</span><span class="s1">import rough45 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function taggedRect(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const x = -w / 2;</span><span class="s3">\n  </span><span class="s1">const y = -h / 2;</span><span class="s3">\n  </span><span class="s1">const tagWidth = 0.2 * h;</span><span class="s3">\n  </span><span class="s1">const tagHeight = 0.2 * h;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough45.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">const rectPoints = [</span><span class="s3">\n    </span><span class="s1">{ x: x - tagWidth / 2, y },</span><span class="s3">\n    </span><span class="s1">{ x: x + w + tagWidth / 2, y },</span><span class="s3">\n    </span><span class="s1">{ x: x + w + tagWidth / 2, y: y + h },</span><span class="s3">\n    </span><span class="s1">{ x: x - tagWidth / 2, y: y + h }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const tagPoints = [</span><span class="s3">\n    </span><span class="s1">{ x: x + w - tagWidth / 2, y: y + h },</span><span class="s3">\n    </span><span class="s1">{ x: x + w + tagWidth / 2, y: y + h },</span><span class="s3">\n    </span><span class="s1">{ x: x + w + tagWidth / 2, y: y + h - tagHeight }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const rectPath = createPathFromPoints(rectPoints);</span><span class="s3">\n  </span><span class="s1">const rectNode = rc.path(rectPath, options);</span><span class="s3">\n  </span><span class="s1">const tagPath = createPathFromPoints(tagPoints);</span><span class="s3">\n  </span><span class="s1">const tagNode = rc.path(tagPath, { ...options, fillStyle: </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">const taggedRect2 = shapeSvg.insert(() =&gt; tagNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">taggedRect2.insert(() =&gt; rectNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">taggedRect2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">taggedRect2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">taggedRect2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, taggedRect2);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, rectPoints, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(taggedRect, </span><span class="s3">\&quot;</span><span class="s1">taggedRect</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/taggedWaveEdgedRectangle.ts</span><span class="s3">\n</span><span class="s1">import rough46 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function taggedWaveEdgedRectangle(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const waveAmplitude = h / 4;</span><span class="s3">\n  </span><span class="s1">const tagWidth = 0.2 * w;</span><span class="s3">\n  </span><span class="s1">const tagHeight = 0.2 * h;</span><span class="s3">\n  </span><span class="s1">const finalH = h + waveAmplitude;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough46.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2 - w / 2 * 0.1, y: finalH / 2 },</span><span class="s3">\n    </span><span class="s1">...generateFullSineWavePoints(</span><span class="s3">\n      </span><span class="s1">-w / 2 - w / 2 * 0.1,</span><span class="s3">\n      </span><span class="s1">finalH / 2,</span><span class="s3">\n      </span><span class="s1">w / 2 + w / 2 * 0.1,</span><span class="s3">\n      </span><span class="s1">finalH / 2,</span><span class="s3">\n      </span><span class="s1">waveAmplitude,</span><span class="s3">\n      </span><span class="s1">0.8</span><span class="s3">\n    </span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">{ x: w / 2 + w / 2 * 0.1, y: -finalH / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2 - w / 2 * 0.1, y: -finalH / 2 }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const x = -w / 2 + w / 2 * 0.1;</span><span class="s3">\n  </span><span class="s1">const y = -finalH / 2 - tagHeight * 0.4;</span><span class="s3">\n  </span><span class="s1">const tagPoints = [</span><span class="s3">\n    </span><span class="s1">{ x: x + w - tagWidth, y: (y + h) * 1.4 },</span><span class="s3">\n    </span><span class="s1">{ x: x + w, y: y + h - tagHeight },</span><span class="s3">\n    </span><span class="s1">{ x: x + w, y: (y + h) * 0.9 },</span><span class="s3">\n    </span><span class="s1">...generateFullSineWavePoints(</span><span class="s3">\n      </span><span class="s1">x + w,</span><span class="s3">\n      </span><span class="s1">(y + h) * 1.3,</span><span class="s3">\n      </span><span class="s1">x + w - tagWidth,</span><span class="s3">\n      </span><span class="s1">(y + h) * 1.5,</span><span class="s3">\n      </span><span class="s1">-h * 0.03,</span><span class="s3">\n      </span><span class="s1">0.5</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const waveEdgeRectPath = createPathFromPoints(points);</span><span class="s3">\n  </span><span class="s1">const waveEdgeRectNode = rc.path(waveEdgeRectPath, options);</span><span class="s3">\n  </span><span class="s1">const taggedWaveEdgeRectPath = createPathFromPoints(tagPoints);</span><span class="s3">\n  </span><span class="s1">const taggedWaveEdgeRectNode = rc.path(taggedWaveEdgeRectPath, {</span><span class="s3">\n    </span><span class="s1">...options,</span><span class="s3">\n    </span><span class="s1">fillStyle: </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">const waveEdgeRect = shapeSvg.insert(() =&gt; taggedWaveEdgeRectNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">waveEdgeRect.insert(() =&gt; waveEdgeRectNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">waveEdgeRect.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">waveEdgeRect.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">waveEdgeRect.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">waveEdgeRect.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(0,${-waveAmplitude / 2})`);</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-w / 2 + (node.padding ?? 0) - (bbox.x - (bbox.left ?? 0))},${-h / 2 + (node.padding ?? 0) - waveAmplitude / 2 - (bbox.y - (bbox.top ?? 0))})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, waveEdgeRect);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, points, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(taggedWaveEdgedRectangle, </span><span class="s3">\&quot;</span><span class="s1">taggedWaveEdgedRectangle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/text.ts</span><span class="s3">\n</span><span class="s1">async function text(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const totalWidth = Math.max(bbox.width + node.padding, node?.width || 0);</span><span class="s3">\n  </span><span class="s1">const totalHeight = Math.max(bbox.height + node.padding, node?.height || 0);</span><span class="s3">\n  </span><span class="s1">const x = -totalWidth / 2;</span><span class="s3">\n  </span><span class="s1">const y = -totalHeight / 2;</span><span class="s3">\n  </span><span class="s1">const rect2 = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">rect2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles).attr(</span><span class="s3">\&quot;</span><span class="s1">rx</span><span class="s3">\&quot;</span><span class="s1">, 0).attr(</span><span class="s3">\&quot;</span><span class="s1">ry</span><span class="s3">\&quot;</span><span class="s1">, 0).attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, x).attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, y).attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, totalWidth).attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, totalHeight);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, rect2);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.rect(node, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(text, </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/tiltedCylinder.ts</span><span class="s3">\n</span><span class="s1">import rough47 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var createCylinderPathD3 = /* @__PURE__ */ __name((x, y, width, height, rx, ry) =&gt; {</span><span class="s3">\n  </span><span class="s1">return `M${x},${y}</span><span class="s3">\n    </span><span class="s1">a${rx},${ry} 0,0,1 ${0},${-height}</span><span class="s3">\n    </span><span class="s1">l${width},${0}</span><span class="s3">\n    </span><span class="s1">a${rx},${ry} 0,0,1 ${0},${height}</span><span class="s3">\n    </span><span class="s1">M${width},${-height}</span><span class="s3">\n    </span><span class="s1">a${rx},${ry} 0,0,0 ${0},${height}</span><span class="s3">\n    </span><span class="s1">l${-width},${0}`;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">createCylinderPathD</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var createOuterCylinderPathD3 = /* @__PURE__ */ __name((x, y, width, height, rx, ry) =&gt; {</span><span class="s3">\n  </span><span class="s1">return [</span><span class="s3">\n    </span><span class="s1">`M${x},${y}`,</span><span class="s3">\n    </span><span class="s1">`M${x + width},${y}`,</span><span class="s3">\n    </span><span class="s1">`a${rx},${ry} 0,0,0 ${0},${-height}`,</span><span class="s3">\n    </span><span class="s1">`l${-width},0`,</span><span class="s3">\n    </span><span class="s1">`a${rx},${ry} 0,0,0 ${0},${height}`,</span><span class="s3">\n    </span><span class="s1">`l${width},0`</span><span class="s3">\n  </span><span class="s1">].join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">createOuterCylinderPathD</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var createInnerCylinderPathD3 = /* @__PURE__ */ __name((x, y, width, height, rx, ry) =&gt; {</span><span class="s3">\n  </span><span class="s1">return [`M${x + width / 2},${-height / 2}`, `a${rx},${ry} 0,0,0 0,${height}`].join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">createInnerCylinderPathD</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">async function tiltedCylinder(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label, halfPadding } = await labelHelper(</span><span class="s3">\n    </span><span class="s1">parent,</span><span class="s3">\n    </span><span class="s1">node,</span><span class="s3">\n    </span><span class="s1">getNodeClasses(node)</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const labelPadding = node.look === </span><span class="s3">\&quot;</span><span class="s1">neo</span><span class="s3">\&quot; </span><span class="s1">? halfPadding * 2 : halfPadding;</span><span class="s3">\n  </span><span class="s1">const h = bbox.height + labelPadding;</span><span class="s3">\n  </span><span class="s1">const ry = h / 2;</span><span class="s3">\n  </span><span class="s1">const rx = ry / (2.5 + h / 50);</span><span class="s3">\n  </span><span class="s1">const w = bbox.width + rx + labelPadding;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">let cylinder2;</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough47.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const outerPathData = createOuterCylinderPathD3(0, 0, w, h, rx, ry);</span><span class="s3">\n    </span><span class="s1">const innerPathData = createInnerCylinderPathD3(0, 0, w, h, rx, ry);</span><span class="s3">\n    </span><span class="s1">const outerNode = rc.path(outerPathData, userNodeOverrides(node, {}));</span><span class="s3">\n    </span><span class="s1">const innerLine = rc.path(innerPathData, userNodeOverrides(node, { fill: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot; </span><span class="s1">}));</span><span class="s3">\n    </span><span class="s1">cylinder2 = shapeSvg.insert(() =&gt; innerLine, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">cylinder2 = shapeSvg.insert(() =&gt; outerNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">cylinder2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (cssStyles) {</span><span class="s3">\n      </span><span class="s1">cylinder2.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">const pathData = createCylinderPathD3(0, 0, w, h, rx, ry);</span><span class="s3">\n    </span><span class="s1">cylinder2 = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, pathData).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, handleUndefinedAttr(cssStyles)).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n    </span><span class="s1">cylinder2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (cssStyles) {</span><span class="s3">\n      </span><span class="s1">cylinder2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (nodeStyles) {</span><span class="s3">\n      </span><span class="s1">cylinder2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">cylinder2.attr(</span><span class="s3">\&quot;</span><span class="s1">label-offset-x</span><span class="s3">\&quot;</span><span class="s1">, rx);</span><span class="s3">\n  </span><span class="s1">cylinder2.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-w / 2}, ${h / 2} )`);</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-(bbox.width / 2) - rx - (bbox.x - (bbox.left ?? 0))}, ${-(bbox.height / 2) - (bbox.y - (bbox.top ?? 0))})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, cylinder2);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.rect(node, point);</span><span class="s3">\n    </span><span class="s1">const y = pos.y - (node.y ?? 0);</span><span class="s3">\n    </span><span class="s1">if (ry != 0 &amp;&amp; (Math.abs(y) &lt; (node.height ?? 0) / 2 || Math.abs(y) == (node.height ?? 0) / 2 &amp;&amp; Math.abs(pos.x - (node.x ?? 0)) &gt; (node.width ?? 0) / 2 - rx)) {</span><span class="s3">\n      </span><span class="s1">let x = rx * rx * (1 - y * y / (ry * ry));</span><span class="s3">\n      </span><span class="s1">if (x != 0) {</span><span class="s3">\n        </span><span class="s1">x = Math.sqrt(Math.abs(x));</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">x = rx - x;</span><span class="s3">\n      </span><span class="s1">if (point.x - (node.x ?? 0) &gt; 0) {</span><span class="s3">\n        </span><span class="s1">x = -x;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">pos.x += x;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(tiltedCylinder, </span><span class="s3">\&quot;</span><span class="s1">tiltedCylinder</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/trapezoid.ts</span><span class="s3">\n</span><span class="s1">import rough48 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function trapezoid(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = bbox.width + node.padding;</span><span class="s3">\n  </span><span class="s1">const h = bbox.height + node.padding;</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: -3 * h / 6, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: w + 3 * h / 6, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: w, y: -h },</span><span class="s3">\n    </span><span class="s1">{ x: 0, y: -h }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">let polygon;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough48.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n    </span><span class="s1">const pathData = createPathFromPoints(points);</span><span class="s3">\n    </span><span class="s1">const roughNode = rc.path(pathData, options);</span><span class="s3">\n    </span><span class="s1">polygon = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-w / 2}, ${h / 2})`);</span><span class="s3">\n    </span><span class="s1">if (cssStyles) {</span><span class="s3">\n      </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">polygon = insertPolygonShape(shapeSvg, w, h, points);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles) {</span><span class="s3">\n    </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">node.width = w;</span><span class="s3">\n  </span><span class="s1">node.height = h;</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, polygon);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.polygon(node, points, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(trapezoid, </span><span class="s3">\&quot;</span><span class="s1">trapezoid</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/trapezoidalPentagon.ts</span><span class="s3">\n</span><span class="s1">import rough49 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function trapezoidalPentagon(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const minWidth = 60, minHeight = 20;</span><span class="s3">\n  </span><span class="s1">const w = Math.max(minWidth, bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(minHeight, bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough49.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2 * 0.8, y: -h / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: w / 2 * 0.8, y: -h / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: w / 2, y: -h / 2 * 0.6 },</span><span class="s3">\n    </span><span class="s1">{ x: w / 2, y: h / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2, y: h / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2, y: -h / 2 * 0.6 }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const pathData = createPathFromPoints(points);</span><span class="s3">\n  </span><span class="s1">const shapeNode = rc.path(pathData, options);</span><span class="s3">\n  </span><span class="s1">const polygon = shapeSvg.insert(() =&gt; shapeNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">polygon.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">polygon.selectChildren(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">polygon.selectChildren(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, polygon);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, points, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(trapezoidalPentagon, </span><span class="s3">\&quot;</span><span class="s1">trapezoidalPentagon</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/triangle.ts</span><span class="s3">\n</span><span class="s1">import rough50 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function triangle(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const useHtmlLabels = evaluate(getConfig2().flowchart?.htmlLabels);</span><span class="s3">\n  </span><span class="s1">const w = bbox.width + (node.padding ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = w + bbox.height;</span><span class="s3">\n  </span><span class="s1">const tw = w + bbox.height;</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: 0, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: tw, y: 0 },</span><span class="s3">\n    </span><span class="s1">{ x: tw / 2, y: -h }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough50.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const pathData = createPathFromPoints(points);</span><span class="s3">\n  </span><span class="s1">const roughNode = rc.path(pathData, options);</span><span class="s3">\n  </span><span class="s1">const polygon = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-h / 2}, ${h / 2})`);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">polygon.selectChildren(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">polygon.selectChildren(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">node.width = w;</span><span class="s3">\n  </span><span class="s1">node.height = h;</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, polygon);</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-bbox.width / 2 - (bbox.x - (bbox.left ?? 0))}, ${h / 2 - (bbox.height + (node.padding ?? 0) / (useHtmlLabels ? 2 : 1) - (bbox.y - (bbox.top ?? 0)))})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Triangle intersect</span><span class="s3">\&quot;</span><span class="s1">, node, points, point);</span><span class="s3">\n    </span><span class="s1">return intersect_default.polygon(node, points, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(triangle, </span><span class="s3">\&quot;</span><span class="s1">triangle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/waveEdgedRectangle.ts</span><span class="s3">\n</span><span class="s1">import rough51 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function waveEdgedRectangle(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const waveAmplitude = h / 8;</span><span class="s3">\n  </span><span class="s1">const finalH = h + waveAmplitude;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const minWidth = 70;</span><span class="s3">\n  </span><span class="s1">const widthDif = minWidth - w;</span><span class="s3">\n  </span><span class="s1">const extraW = widthDif &gt; 0 ? widthDif / 2 : 0;</span><span class="s3">\n  </span><span class="s1">const rc = rough51.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2 - extraW, y: finalH / 2 },</span><span class="s3">\n    </span><span class="s1">...generateFullSineWavePoints(</span><span class="s3">\n      </span><span class="s1">-w / 2 - extraW,</span><span class="s3">\n      </span><span class="s1">finalH / 2,</span><span class="s3">\n      </span><span class="s1">w / 2 + extraW,</span><span class="s3">\n      </span><span class="s1">finalH / 2,</span><span class="s3">\n      </span><span class="s1">waveAmplitude,</span><span class="s3">\n      </span><span class="s1">0.8</span><span class="s3">\n    </span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">{ x: w / 2 + extraW, y: -finalH / 2 },</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2 - extraW, y: -finalH / 2 }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const waveEdgeRectPath = createPathFromPoints(points);</span><span class="s3">\n  </span><span class="s1">const waveEdgeRectNode = rc.path(waveEdgeRectPath, options);</span><span class="s3">\n  </span><span class="s1">const waveEdgeRect = shapeSvg.insert(() =&gt; waveEdgeRectNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">waveEdgeRect.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">waveEdgeRect.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">waveEdgeRect.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">waveEdgeRect.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(0,${-waveAmplitude / 2})`);</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-w / 2 + (node.padding ?? 0) - (bbox.x - (bbox.left ?? 0))},${-h / 2 + (node.padding ?? 0) - waveAmplitude - (bbox.y - (bbox.top ?? 0))})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, waveEdgeRect);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, points, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(waveEdgedRectangle, </span><span class="s3">\&quot;</span><span class="s1">waveEdgedRectangle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/waveRectangle.ts</span><span class="s3">\n</span><span class="s1">import rough52 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function waveRectangle(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const minWidth = 100;</span><span class="s3">\n  </span><span class="s1">const minHeight = 50;</span><span class="s3">\n  </span><span class="s1">const baseWidth = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const baseHeight = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const aspectRatio = baseWidth / baseHeight;</span><span class="s3">\n  </span><span class="s1">let w = baseWidth;</span><span class="s3">\n  </span><span class="s1">let h = baseHeight;</span><span class="s3">\n  </span><span class="s1">if (w &gt; h * aspectRatio) {</span><span class="s3">\n    </span><span class="s1">h = w / aspectRatio;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">w = h * aspectRatio;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">w = Math.max(w, minWidth);</span><span class="s3">\n  </span><span class="s1">h = Math.max(h, minHeight);</span><span class="s3">\n  </span><span class="s1">const waveAmplitude = Math.min(h * 0.2, h / 4);</span><span class="s3">\n  </span><span class="s1">const finalH = h + waveAmplitude * 2;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough52.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const points = [</span><span class="s3">\n    </span><span class="s1">{ x: -w / 2, y: finalH / 2 },</span><span class="s3">\n    </span><span class="s1">...generateFullSineWavePoints(-w / 2, finalH / 2, w / 2, finalH / 2, waveAmplitude, 1),</span><span class="s3">\n    </span><span class="s1">{ x: w / 2, y: -finalH / 2 },</span><span class="s3">\n    </span><span class="s1">...generateFullSineWavePoints(w / 2, -finalH / 2, -w / 2, -finalH / 2, waveAmplitude, -1)</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const waveRectPath = createPathFromPoints(points);</span><span class="s3">\n  </span><span class="s1">const waveRectNode = rc.path(waveRectPath, options);</span><span class="s3">\n  </span><span class="s1">const waveRect = shapeSvg.insert(() =&gt; waveRectNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">waveRect.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">waveRect.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">waveRect.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, waveRect);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, points, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(waveRectangle, </span><span class="s3">\&quot;</span><span class="s1">waveRectangle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/windowPane.ts</span><span class="s3">\n</span><span class="s1">import rough53 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function windowPane(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox, label } = await labelHelper(parent, node, getNodeClasses(node));</span><span class="s3">\n  </span><span class="s1">const w = Math.max(bbox.width + (node.padding ?? 0) * 2, node?.width ?? 0);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(bbox.height + (node.padding ?? 0) * 2, node?.height ?? 0);</span><span class="s3">\n  </span><span class="s1">const rectOffset = 5;</span><span class="s3">\n  </span><span class="s1">const x = -w / 2;</span><span class="s3">\n  </span><span class="s1">const y = -h / 2;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const rc = rough53.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">const outerPathPoints = [</span><span class="s3">\n    </span><span class="s1">{ x: x - rectOffset, y: y - rectOffset },</span><span class="s3">\n    </span><span class="s1">{ x: x - rectOffset, y: y + h },</span><span class="s3">\n    </span><span class="s1">{ x: x + w, y: y + h },</span><span class="s3">\n    </span><span class="s1">{ x: x + w, y: y - rectOffset }</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">const path = `M${x - rectOffset},${y - rectOffset} L${x + w},${y - rectOffset} L${x + w},${y + h} L${x - rectOffset},${y + h} L${x - rectOffset},${y - rectOffset}</span><span class="s3">\n                </span><span class="s1">M${x - rectOffset},${y} L${x + w},${y}</span><span class="s3">\n                </span><span class="s1">M${x},${y - rectOffset} L${x},${y + h}`;</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const no = rc.path(path, options);</span><span class="s3">\n  </span><span class="s1">const windowPane2 = shapeSvg.insert(() =&gt; no, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">windowPane2.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${rectOffset / 2}, ${rectOffset / 2})`);</span><span class="s3">\n  </span><span class="s1">windowPane2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (cssStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">windowPane2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeStyles &amp;&amp; node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">windowPane2.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${-(bbox.width / 2) + rectOffset / 2 - (bbox.x - (bbox.left ?? 0))}, ${-(bbox.height / 2) + rectOffset / 2 - (bbox.y - (bbox.top ?? 0))})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, windowPane2);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">const pos = intersect_default.polygon(node, outerPathPoints, point);</span><span class="s3">\n    </span><span class="s1">return pos;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(windowPane, </span><span class="s3">\&quot;</span><span class="s1">windowPane</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/erBox.ts</span><span class="s3">\n</span><span class="s1">import rough54 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { select as select5 } from </span><span class="s3">\&quot;</span><span class="s1">d3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function erBox(parent, node) {</span><span class="s3">\n  </span><span class="s1">const entityNode = node;</span><span class="s3">\n  </span><span class="s1">if (entityNode.alias) {</span><span class="s3">\n    </span><span class="s1">node.label = entityNode.alias;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (node.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const { themeVariables: themeVariables2 } = getConfig();</span><span class="s3">\n    </span><span class="s1">const { background } = themeVariables2;</span><span class="s3">\n    </span><span class="s1">const backgroundNode = {</span><span class="s3">\n      </span><span class="s1">...node,</span><span class="s3">\n      </span><span class="s1">id: node.id + </span><span class="s3">\&quot;</span><span class="s1">-background</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">look: </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">cssStyles: [</span><span class="s3">\&quot;</span><span class="s1">stroke: none</span><span class="s3">\&quot;</span><span class="s1">, `fill: ${background}`]</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">await erBox(parent, backgroundNode);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const config = getConfig();</span><span class="s3">\n  </span><span class="s1">node.useHtmlLabels = config.htmlLabels;</span><span class="s3">\n  </span><span class="s1">let PADDING = config.er?.diagramPadding ?? 10;</span><span class="s3">\n  </span><span class="s1">let TEXT_PADDING = config.er?.entityPadding ?? 6;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = node;</span><span class="s3">\n  </span><span class="s1">const { labelStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">if (entityNode.attributes.length === 0 &amp;&amp; node.label) {</span><span class="s3">\n    </span><span class="s1">const options2 = {</span><span class="s3">\n      </span><span class="s1">rx: 0,</span><span class="s3">\n      </span><span class="s1">ry: 0,</span><span class="s3">\n      </span><span class="s1">labelPaddingX: PADDING,</span><span class="s3">\n      </span><span class="s1">labelPaddingY: PADDING * 1.5,</span><span class="s3">\n      </span><span class="s1">classes: </span><span class="s3">\&quot;\&quot;\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">if (calculateTextWidth(node.label, config) + options2.labelPaddingX * 2 &lt; config.er.minEntityWidth) {</span><span class="s3">\n      </span><span class="s1">node.width = config.er.minEntityWidth;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const shapeSvg2 = await drawRect(parent, node, options2);</span><span class="s3">\n    </span><span class="s1">if (!evaluate(config.htmlLabels)) {</span><span class="s3">\n      </span><span class="s1">const textElement = shapeSvg2.select(</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">const bbox = textElement.node()?.getBBox();</span><span class="s3">\n      </span><span class="s1">textElement.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-bbox.width / 2}, 0)`);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return shapeSvg2;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (!config.htmlLabels) {</span><span class="s3">\n    </span><span class="s1">PADDING *= 1.25;</span><span class="s3">\n    </span><span class="s1">TEXT_PADDING *= 1.25;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let cssClasses = getNodeClasses(node);</span><span class="s3">\n  </span><span class="s1">if (!cssClasses) {</span><span class="s3">\n    </span><span class="s1">cssClasses = </span><span class="s3">\&quot;</span><span class="s1">node default</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const shapeSvg = parent.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, cssClasses).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, node.domId || node.id);</span><span class="s3">\n  </span><span class="s1">const nameBBox = await addText(shapeSvg, node.label ?? </span><span class="s3">\&quot;\&quot;</span><span class="s1">, config, 0, 0, [</span><span class="s3">\&quot;</span><span class="s1">name</span><span class="s3">\&quot;</span><span class="s1">], labelStyles);</span><span class="s3">\n  </span><span class="s1">nameBBox.height += TEXT_PADDING;</span><span class="s3">\n  </span><span class="s1">let yOffset = 0;</span><span class="s3">\n  </span><span class="s1">const yOffsets = [];</span><span class="s3">\n  </span><span class="s1">let maxTypeWidth = 0;</span><span class="s3">\n  </span><span class="s1">let maxNameWidth = 0;</span><span class="s3">\n  </span><span class="s1">let maxKeysWidth = 0;</span><span class="s3">\n  </span><span class="s1">let maxCommentWidth = 0;</span><span class="s3">\n  </span><span class="s1">let keysPresent = true;</span><span class="s3">\n  </span><span class="s1">let commentPresent = true;</span><span class="s3">\n  </span><span class="s1">for (const attribute of entityNode.attributes) {</span><span class="s3">\n    </span><span class="s1">const typeBBox = await addText(</span><span class="s3">\n      </span><span class="s1">shapeSvg,</span><span class="s3">\n      </span><span class="s1">attribute.type,</span><span class="s3">\n      </span><span class="s1">config,</span><span class="s3">\n      </span><span class="s1">0,</span><span class="s3">\n      </span><span class="s1">yOffset,</span><span class="s3">\n      </span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">attribute-type</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n      </span><span class="s1">labelStyles</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">maxTypeWidth = Math.max(maxTypeWidth, typeBBox.width + PADDING);</span><span class="s3">\n    </span><span class="s1">const nameBBox2 = await addText(</span><span class="s3">\n      </span><span class="s1">shapeSvg,</span><span class="s3">\n      </span><span class="s1">attribute.name,</span><span class="s3">\n      </span><span class="s1">config,</span><span class="s3">\n      </span><span class="s1">0,</span><span class="s3">\n      </span><span class="s1">yOffset,</span><span class="s3">\n      </span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">attribute-name</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n      </span><span class="s1">labelStyles</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">maxNameWidth = Math.max(maxNameWidth, nameBBox2.width + PADDING);</span><span class="s3">\n    </span><span class="s1">const keysBBox = await addText(</span><span class="s3">\n      </span><span class="s1">shapeSvg,</span><span class="s3">\n      </span><span class="s1">attribute.keys.join(),</span><span class="s3">\n      </span><span class="s1">config,</span><span class="s3">\n      </span><span class="s1">0,</span><span class="s3">\n      </span><span class="s1">yOffset,</span><span class="s3">\n      </span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">attribute-keys</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n      </span><span class="s1">labelStyles</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">maxKeysWidth = Math.max(maxKeysWidth, keysBBox.width + PADDING);</span><span class="s3">\n    </span><span class="s1">const commentBBox = await addText(</span><span class="s3">\n      </span><span class="s1">shapeSvg,</span><span class="s3">\n      </span><span class="s1">attribute.comment,</span><span class="s3">\n      </span><span class="s1">config,</span><span class="s3">\n      </span><span class="s1">0,</span><span class="s3">\n      </span><span class="s1">yOffset,</span><span class="s3">\n      </span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">attribute-comment</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n      </span><span class="s1">labelStyles</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">maxCommentWidth = Math.max(maxCommentWidth, commentBBox.width + PADDING);</span><span class="s3">\n    </span><span class="s1">yOffset += Math.max(typeBBox.height, nameBBox2.height, keysBBox.height, commentBBox.height) + TEXT_PADDING;</span><span class="s3">\n    </span><span class="s1">yOffsets.push(yOffset);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">yOffsets.pop();</span><span class="s3">\n  </span><span class="s1">let totalWidthSections = 4;</span><span class="s3">\n  </span><span class="s1">if (maxKeysWidth &lt;= PADDING) {</span><span class="s3">\n    </span><span class="s1">keysPresent = false;</span><span class="s3">\n    </span><span class="s1">maxKeysWidth = 0;</span><span class="s3">\n    </span><span class="s1">totalWidthSections--;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (maxCommentWidth &lt;= PADDING) {</span><span class="s3">\n    </span><span class="s1">commentPresent = false;</span><span class="s3">\n    </span><span class="s1">maxCommentWidth = 0;</span><span class="s3">\n    </span><span class="s1">totalWidthSections--;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const shapeBBox = shapeSvg.node().getBBox();</span><span class="s3">\n  </span><span class="s1">if (nameBBox.width + PADDING * 2 - (maxTypeWidth + maxNameWidth + maxKeysWidth + maxCommentWidth) &gt; 0) {</span><span class="s3">\n    </span><span class="s1">const difference = nameBBox.width + PADDING * 2 - (maxTypeWidth + maxNameWidth + maxKeysWidth + maxCommentWidth);</span><span class="s3">\n    </span><span class="s1">maxTypeWidth += difference / totalWidthSections;</span><span class="s3">\n    </span><span class="s1">maxNameWidth += difference / totalWidthSections;</span><span class="s3">\n    </span><span class="s1">if (maxKeysWidth &gt; 0) {</span><span class="s3">\n      </span><span class="s1">maxKeysWidth += difference / totalWidthSections;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (maxCommentWidth &gt; 0) {</span><span class="s3">\n      </span><span class="s1">maxCommentWidth += difference / totalWidthSections;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const maxWidth = maxTypeWidth + maxNameWidth + maxKeysWidth + maxCommentWidth;</span><span class="s3">\n  </span><span class="s1">const rc = rough54.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const w = Math.max(shapeBBox.width + PADDING * 2, node?.width || 0, maxWidth);</span><span class="s3">\n  </span><span class="s1">const h = Math.max(shapeBBox.height + (yOffsets[0] || yOffset) + TEXT_PADDING, node?.height || 0);</span><span class="s3">\n  </span><span class="s1">const x = -w / 2;</span><span class="s3">\n  </span><span class="s1">const y = -h / 2;</span><span class="s3">\n  </span><span class="s1">shapeSvg.selectAll(</span><span class="s3">\&quot;</span><span class="s1">g:not(:first-child)</span><span class="s3">\&quot;</span><span class="s1">).each((_, i, nodes) =&gt; {</span><span class="s3">\n    </span><span class="s1">const text2 = select5(nodes[i]);</span><span class="s3">\n    </span><span class="s1">const transform = text2.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">let translateX = 0;</span><span class="s3">\n    </span><span class="s1">let translateY = 0;</span><span class="s3">\n    </span><span class="s1">if (transform) {</span><span class="s3">\n      </span><span class="s1">const regex = RegExp(/translate</span><span class="s3">\\</span><span class="s1">(([^,]+),([^)]+)</span><span class="s3">\\</span><span class="s1">)/);</span><span class="s3">\n      </span><span class="s1">const translate = regex.exec(transform);</span><span class="s3">\n      </span><span class="s1">if (translate) {</span><span class="s3">\n        </span><span class="s1">translateX = parseFloat(translate[1]);</span><span class="s3">\n        </span><span class="s1">translateY = parseFloat(translate[2]);</span><span class="s3">\n        </span><span class="s1">if (text2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">).includes(</span><span class="s3">\&quot;</span><span class="s1">attribute-name</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n          </span><span class="s1">translateX += maxTypeWidth;</span><span class="s3">\n        </span><span class="s1">} else if (text2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">).includes(</span><span class="s3">\&quot;</span><span class="s1">attribute-keys</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n          </span><span class="s1">translateX += maxTypeWidth + maxNameWidth;</span><span class="s3">\n        </span><span class="s1">} else if (text2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">).includes(</span><span class="s3">\&quot;</span><span class="s1">attribute-comment</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n          </span><span class="s1">translateX += maxTypeWidth + maxNameWidth + maxKeysWidth;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">text2.attr(</span><span class="s3">\n      \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">`translate(${x + PADDING / 2 + translateX}, ${translateY + y + nameBBox.height + TEXT_PADDING / 2})`</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">shapeSvg.select(</span><span class="s3">\&quot;</span><span class="s1">.name</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ -nameBBox.width / 2 + </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+ (y + TEXT_PADDING / 2) + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const roughRect = rc.rectangle(x, y, w, h, options);</span><span class="s3">\n  </span><span class="s1">const rect2 = shapeSvg.insert(() =&gt; roughRect, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles.join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">const { themeVariables } = getConfig();</span><span class="s3">\n  </span><span class="s1">const { rowEven, rowOdd, nodeBorder } = themeVariables;</span><span class="s3">\n  </span><span class="s1">yOffsets.push(0);</span><span class="s3">\n  </span><span class="s1">for (const [i, yOffset2] of yOffsets.entries()) {</span><span class="s3">\n    </span><span class="s1">if (i === 0 &amp;&amp; yOffsets.length &gt; 1) {</span><span class="s3">\n      </span><span class="s1">continue;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const isEven = i % 2 === 0 &amp;&amp; yOffset2 !== 0;</span><span class="s3">\n    </span><span class="s1">const roughRect2 = rc.rectangle(x, nameBBox.height + y + yOffset2, w, nameBBox.height, {</span><span class="s3">\n      </span><span class="s1">...options,</span><span class="s3">\n      </span><span class="s1">fill: isEven ? rowEven : rowOdd,</span><span class="s3">\n      </span><span class="s1">stroke: nodeBorder</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">shapeSvg.insert(() =&gt; roughRect2, </span><span class="s3">\&quot;</span><span class="s1">g.label</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles.join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">)).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, `row-rect-${i % 2 === 0 ? </span><span class="s3">\&quot;</span><span class="s1">even</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">odd</span><span class="s3">\&quot;</span><span class="s1">}`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let roughLine = rc.line(x, nameBBox.height + y, w + x, nameBBox.height + y, options);</span><span class="s3">\n  </span><span class="s1">shapeSvg.insert(() =&gt; roughLine).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">divider</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">roughLine = rc.line(maxTypeWidth + x, nameBBox.height + y, maxTypeWidth + x, h + y, options);</span><span class="s3">\n  </span><span class="s1">shapeSvg.insert(() =&gt; roughLine).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">divider</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (keysPresent) {</span><span class="s3">\n    </span><span class="s1">roughLine = rc.line(</span><span class="s3">\n      </span><span class="s1">maxTypeWidth + maxNameWidth + x,</span><span class="s3">\n      </span><span class="s1">nameBBox.height + y,</span><span class="s3">\n      </span><span class="s1">maxTypeWidth + maxNameWidth + x,</span><span class="s3">\n      </span><span class="s1">h + y,</span><span class="s3">\n      </span><span class="s1">options</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">shapeSvg.insert(() =&gt; roughLine).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">divider</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (commentPresent) {</span><span class="s3">\n    </span><span class="s1">roughLine = rc.line(</span><span class="s3">\n      </span><span class="s1">maxTypeWidth + maxNameWidth + maxKeysWidth + x,</span><span class="s3">\n      </span><span class="s1">nameBBox.height + y,</span><span class="s3">\n      </span><span class="s1">maxTypeWidth + maxNameWidth + maxKeysWidth + x,</span><span class="s3">\n      </span><span class="s1">h + y,</span><span class="s3">\n      </span><span class="s1">options</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">shapeSvg.insert(() =&gt; roughLine).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">divider</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">for (const yOffset2 of yOffsets) {</span><span class="s3">\n    </span><span class="s1">roughLine = rc.line(</span><span class="s3">\n      </span><span class="s1">x,</span><span class="s3">\n      </span><span class="s1">nameBBox.height + y + yOffset2,</span><span class="s3">\n      </span><span class="s1">w + x,</span><span class="s3">\n      </span><span class="s1">nameBBox.height + y + yOffset2,</span><span class="s3">\n      </span><span class="s1">options</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">shapeSvg.insert(() =&gt; roughLine).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">divider</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, rect2);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.rect(node, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(erBox, </span><span class="s3">\&quot;</span><span class="s1">erBox</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">async function addText(shapeSvg, labelText, config, translateX = 0, translateY = 0, classes = [], style = </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">const label = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, `label ${classes.join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">)}`).attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${translateX}, ${translateY})`).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, style);</span><span class="s3">\n  </span><span class="s1">if (labelText !== parseGenericTypes(labelText)) {</span><span class="s3">\n    </span><span class="s1">labelText = parseGenericTypes(labelText);</span><span class="s3">\n    </span><span class="s1">labelText = labelText.replaceAll(</span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">&amp;lt;</span><span class="s3">\&quot;</span><span class="s1">).replaceAll(</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">&amp;gt;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const text2 = label.node().appendChild(</span><span class="s3">\n    </span><span class="s1">await createText(</span><span class="s3">\n      </span><span class="s1">label,</span><span class="s3">\n      </span><span class="s1">labelText,</span><span class="s3">\n      </span><span class="s1">{</span><span class="s3">\n        </span><span class="s1">width: calculateTextWidth(labelText, config) + 100,</span><span class="s3">\n        </span><span class="s1">style,</span><span class="s3">\n        </span><span class="s1">useHtmlLabels: config.htmlLabels</span><span class="s3">\n      </span><span class="s1">},</span><span class="s3">\n      </span><span class="s1">config</span><span class="s3">\n    </span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (labelText.includes(</span><span class="s3">\&quot;</span><span class="s1">&amp;lt;</span><span class="s3">\&quot;</span><span class="s1">) || labelText.includes(</span><span class="s3">\&quot;</span><span class="s1">&amp;gt;</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n    </span><span class="s1">let child = text2.children[0];</span><span class="s3">\n    </span><span class="s1">child.textContent = child.textContent.replaceAll(</span><span class="s3">\&quot;</span><span class="s1">&amp;lt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot;</span><span class="s1">).replaceAll(</span><span class="s3">\&quot;</span><span class="s1">&amp;gt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">while (child.childNodes[0]) {</span><span class="s3">\n      </span><span class="s1">child = child.childNodes[0];</span><span class="s3">\n      </span><span class="s1">child.textContent = child.textContent.replaceAll(</span><span class="s3">\&quot;</span><span class="s1">&amp;lt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot;</span><span class="s1">).replaceAll(</span><span class="s3">\&quot;</span><span class="s1">&amp;gt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let bbox = text2.getBBox();</span><span class="s3">\n  </span><span class="s1">if (evaluate(config.htmlLabels)) {</span><span class="s3">\n    </span><span class="s1">const div = text2.children[0];</span><span class="s3">\n    </span><span class="s1">div.style.textAlign = </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">const dv = select5(text2);</span><span class="s3">\n    </span><span class="s1">bbox = div.getBoundingClientRect();</span><span class="s3">\n    </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, bbox.width);</span><span class="s3">\n    </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, bbox.height);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return bbox;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(addText, </span><span class="s3">\&quot;</span><span class="s1">addText</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/classBox.ts</span><span class="s3">\n</span><span class="s1">import { select as select7 } from </span><span class="s3">\&quot;</span><span class="s1">d3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import rough55 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/class/shapeUtil.ts</span><span class="s3">\n</span><span class="s1">import { select as select6 } from </span><span class="s3">\&quot;</span><span class="s1">d3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function textHelper(parent, node, config, useHtmlLabels, GAP = config.class.padding ?? 12) {</span><span class="s3">\n  </span><span class="s1">const TEXT_PADDING = !useHtmlLabels ? 3 : 0;</span><span class="s3">\n  </span><span class="s1">const shapeSvg = parent.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, getNodeClasses(node)).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, node.domId || node.id);</span><span class="s3">\n  </span><span class="s1">let annotationGroup = null;</span><span class="s3">\n  </span><span class="s1">let labelGroup = null;</span><span class="s3">\n  </span><span class="s1">let membersGroup = null;</span><span class="s3">\n  </span><span class="s1">let methodsGroup = null;</span><span class="s3">\n  </span><span class="s1">let annotationGroupHeight = 0;</span><span class="s3">\n  </span><span class="s1">let labelGroupHeight = 0;</span><span class="s3">\n  </span><span class="s1">let membersGroupHeight = 0;</span><span class="s3">\n  </span><span class="s1">annotationGroup = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">annotation-group text</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (node.annotations.length &gt; 0) {</span><span class="s3">\n    </span><span class="s1">const annotation = node.annotations[0];</span><span class="s3">\n    </span><span class="s1">await addText2(annotationGroup, { text: `</span><span class="s3">\\</span><span class="s1">xAB${annotation}</span><span class="s3">\\</span><span class="s1">xBB` }, 0);</span><span class="s3">\n    </span><span class="s1">const annotationGroupBBox = annotationGroup.node().getBBox();</span><span class="s3">\n    </span><span class="s1">annotationGroupHeight = annotationGroupBBox.height;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">labelGroup = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">label-group text</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">await addText2(labelGroup, node, 0, [</span><span class="s3">\&quot;</span><span class="s1">font-weight: bolder</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n  </span><span class="s1">const labelGroupBBox = labelGroup.node().getBBox();</span><span class="s3">\n  </span><span class="s1">labelGroupHeight = labelGroupBBox.height;</span><span class="s3">\n  </span><span class="s1">membersGroup = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">members-group text</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">let yOffset = 0;</span><span class="s3">\n  </span><span class="s1">for (const member of node.members) {</span><span class="s3">\n    </span><span class="s1">const height = await addText2(membersGroup, member, yOffset, [member.parseClassifier()]);</span><span class="s3">\n    </span><span class="s1">yOffset += height + TEXT_PADDING;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">membersGroupHeight = membersGroup.node().getBBox().height;</span><span class="s3">\n  </span><span class="s1">if (membersGroupHeight &lt;= 0) {</span><span class="s3">\n    </span><span class="s1">membersGroupHeight = GAP / 2;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">methodsGroup = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">methods-group text</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">let methodsYOffset = 0;</span><span class="s3">\n  </span><span class="s1">for (const method of node.methods) {</span><span class="s3">\n    </span><span class="s1">const height = await addText2(methodsGroup, method, methodsYOffset, [method.parseClassifier()]);</span><span class="s3">\n    </span><span class="s1">methodsYOffset += height + TEXT_PADDING;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let bbox = shapeSvg.node().getBBox();</span><span class="s3">\n  </span><span class="s1">if (annotationGroup !== null) {</span><span class="s3">\n    </span><span class="s1">const annotationGroupBBox = annotationGroup.node().getBBox();</span><span class="s3">\n    </span><span class="s1">annotationGroup.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-annotationGroupBBox.width / 2})`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">labelGroup.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-labelGroupBBox.width / 2}, ${annotationGroupHeight})`);</span><span class="s3">\n  </span><span class="s1">bbox = shapeSvg.node().getBBox();</span><span class="s3">\n  </span><span class="s1">membersGroup.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${0}, ${annotationGroupHeight + labelGroupHeight + GAP * 2})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">bbox = shapeSvg.node().getBBox();</span><span class="s3">\n  </span><span class="s1">methodsGroup.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`translate(${0}, ${annotationGroupHeight + labelGroupHeight + (membersGroupHeight ? membersGroupHeight + GAP * 4 : GAP * 2)})`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">bbox = shapeSvg.node().getBBox();</span><span class="s3">\n  </span><span class="s1">return { shapeSvg, bbox };</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(textHelper, </span><span class="s3">\&quot;</span><span class="s1">textHelper</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">async function addText2(parentGroup, node, yOffset, styles = []) {</span><span class="s3">\n  </span><span class="s1">const textEl = parentGroup.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, styles.join(</span><span class="s3">\&quot;</span><span class="s1">; </span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">const config = getConfig();</span><span class="s3">\n  </span><span class="s1">let useHtmlLabels = </span><span class="s3">\&quot;</span><span class="s1">useHtmlLabels</span><span class="s3">\&quot; </span><span class="s1">in node ? node.useHtmlLabels : evaluate(config.htmlLabels) ?? true;</span><span class="s3">\n  </span><span class="s1">let textContent = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">if (</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot; </span><span class="s1">in node) {</span><span class="s3">\n    </span><span class="s1">textContent = node.text;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">textContent = node.label;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (!useHtmlLabels &amp;&amp; textContent.startsWith(</span><span class="s3">\&quot;\\\\\&quot;</span><span class="s1">)) {</span><span class="s3">\n    </span><span class="s1">textContent = textContent.substring(1);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (hasKatex(textContent)) {</span><span class="s3">\n    </span><span class="s1">useHtmlLabels = true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const text2 = await createText(</span><span class="s3">\n    </span><span class="s1">textEl,</span><span class="s3">\n    </span><span class="s1">sanitizeText2(decodeEntities(textContent)),</span><span class="s3">\n    </span><span class="s1">{</span><span class="s3">\n      </span><span class="s1">width: calculateTextWidth(textContent, config) + 50,</span><span class="s3">\n      </span><span class="s1">// Add room for error when splitting text into multiple lines</span><span class="s3">\n      </span><span class="s1">classes: </span><span class="s3">\&quot;</span><span class="s1">markdown-node-label</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">useHtmlLabels</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">config</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">let bbox;</span><span class="s3">\n  </span><span class="s1">let numberOfLines = 1;</span><span class="s3">\n  </span><span class="s1">if (!useHtmlLabels) {</span><span class="s3">\n    </span><span class="s1">if (styles.includes(</span><span class="s3">\&quot;</span><span class="s1">font-weight: bolder</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n      </span><span class="s1">select6(text2).selectAll(</span><span class="s3">\&quot;</span><span class="s1">tspan</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">font-weight</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">numberOfLines = text2.children.length;</span><span class="s3">\n    </span><span class="s1">const textChild = text2.children[0];</span><span class="s3">\n    </span><span class="s1">if (text2.textContent === </span><span class="s3">\&quot;\&quot; </span><span class="s1">|| text2.textContent.includes(</span><span class="s3">\&quot;</span><span class="s1">&amp;gt</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n      </span><span class="s1">textChild.textContent = textContent[0] + textContent.substring(1).replaceAll(</span><span class="s3">\&quot;</span><span class="s1">&amp;gt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">).replaceAll(</span><span class="s3">\&quot;</span><span class="s1">&amp;lt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot;</span><span class="s1">).trim();</span><span class="s3">\n      </span><span class="s1">const preserveSpace = textContent[1] === </span><span class="s3">\&quot; \&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">if (preserveSpace) {</span><span class="s3">\n        </span><span class="s1">textChild.textContent = textChild.textContent[0] + </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ textChild.textContent.substring(1);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (textChild.textContent === </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">textChild.textContent = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">bbox = text2.getBBox();</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">const div = text2.children[0];</span><span class="s3">\n    </span><span class="s1">const dv = select6(text2);</span><span class="s3">\n    </span><span class="s1">numberOfLines = div.innerHTML.split(</span><span class="s3">\&quot;</span><span class="s1">&lt;br&gt;</span><span class="s3">\&quot;</span><span class="s1">).length;</span><span class="s3">\n    </span><span class="s1">if (div.innerHTML.includes(</span><span class="s3">\&quot;</span><span class="s1">&lt;/math&gt;</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n      </span><span class="s1">numberOfLines += div.innerHTML.split(</span><span class="s3">\&quot;</span><span class="s1">&lt;mrow&gt;</span><span class="s3">\&quot;</span><span class="s1">).length - 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const images = div.getElementsByTagName(</span><span class="s3">\&quot;</span><span class="s1">img</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (images) {</span><span class="s3">\n      </span><span class="s1">const noImgText = textContent.replace(/&lt;img[^&gt;]*&gt;/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">).trim() === </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">await Promise.all(</span><span class="s3">\n        </span><span class="s1">[...images].map(</span><span class="s3">\n          </span><span class="s1">(img) =&gt; new Promise((res) =&gt; {</span><span class="s3">\n            </span><span class="s1">function setupImage() {</span><span class="s3">\n              </span><span class="s1">img.style.display = </span><span class="s3">\&quot;</span><span class="s1">flex</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n              </span><span class="s1">img.style.flexDirection = </span><span class="s3">\&quot;</span><span class="s1">column</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n              </span><span class="s1">if (noImgText) {</span><span class="s3">\n                </span><span class="s1">const bodyFontSize = config.fontSize?.toString() ?? window.getComputedStyle(document.body).fontSize;</span><span class="s3">\n                </span><span class="s1">const enlargingFactor = 5;</span><span class="s3">\n                </span><span class="s1">const width = parseInt(bodyFontSize, 10) * enlargingFactor + </span><span class="s3">\&quot;</span><span class="s1">px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">img.style.minWidth = width;</span><span class="s3">\n                </span><span class="s1">img.style.maxWidth = width;</span><span class="s3">\n              </span><span class="s1">} else {</span><span class="s3">\n                </span><span class="s1">img.style.width = </span><span class="s3">\&quot;</span><span class="s1">100%</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n              </span><span class="s1">res(img);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">__name(setupImage, </span><span class="s3">\&quot;</span><span class="s1">setupImage</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">setTimeout(() =&gt; {</span><span class="s3">\n              </span><span class="s1">if (img.complete) {</span><span class="s3">\n                </span><span class="s1">setupImage();</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">img.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;</span><span class="s1">, setupImage);</span><span class="s3">\n            </span><span class="s1">img.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">load</span><span class="s3">\&quot;</span><span class="s1">, setupImage);</span><span class="s3">\n          </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">bbox = div.getBoundingClientRect();</span><span class="s3">\n    </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, bbox.width);</span><span class="s3">\n    </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, bbox.height);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">textEl.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">translate(0,</span><span class="s3">\&quot; </span><span class="s1">+ (-bbox.height / (2 * numberOfLines) + yOffset) + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return bbox.height;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(addText2, </span><span class="s3">\&quot;</span><span class="s1">addText</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/classBox.ts</span><span class="s3">\n</span><span class="s1">async function classBox(parent, node) {</span><span class="s3">\n  </span><span class="s1">const config = getConfig2();</span><span class="s3">\n  </span><span class="s1">const PADDING = config.class.padding ?? 12;</span><span class="s3">\n  </span><span class="s1">const GAP = PADDING;</span><span class="s3">\n  </span><span class="s1">const useHtmlLabels = node.useHtmlLabels ?? evaluate(config.htmlLabels) ?? true;</span><span class="s3">\n  </span><span class="s1">const classNode = node;</span><span class="s3">\n  </span><span class="s1">classNode.annotations = classNode.annotations ?? [];</span><span class="s3">\n  </span><span class="s1">classNode.members = classNode.members ?? [];</span><span class="s3">\n  </span><span class="s1">classNode.methods = classNode.methods ?? [];</span><span class="s3">\n  </span><span class="s1">const { shapeSvg, bbox } = await textHelper(parent, node, config, useHtmlLabels, GAP);</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">node.cssStyles = classNode.styles || </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">const styles = classNode.styles?.join(</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">) || nodeStyles || </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">if (!node.cssStyles) {</span><span class="s3">\n    </span><span class="s1">node.cssStyles = styles.replaceAll(</span><span class="s3">\&quot;</span><span class="s1">!important</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">).split(</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const renderExtraBox = classNode.members.length === 0 &amp;&amp; classNode.methods.length === 0 &amp;&amp; !config.class?.hideEmptyMembersBox;</span><span class="s3">\n  </span><span class="s1">const rc = rough55.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const w = bbox.width;</span><span class="s3">\n  </span><span class="s1">let h = bbox.height;</span><span class="s3">\n  </span><span class="s1">if (classNode.members.length === 0 &amp;&amp; classNode.methods.length === 0) {</span><span class="s3">\n    </span><span class="s1">h += GAP;</span><span class="s3">\n  </span><span class="s1">} else if (classNode.members.length &gt; 0 &amp;&amp; classNode.methods.length === 0) {</span><span class="s3">\n    </span><span class="s1">h += GAP * 2;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const x = -w / 2;</span><span class="s3">\n  </span><span class="s1">const y = -h / 2;</span><span class="s3">\n  </span><span class="s1">const roughRect = rc.rectangle(</span><span class="s3">\n    </span><span class="s1">x - PADDING,</span><span class="s3">\n    </span><span class="s1">y - PADDING - (renderExtraBox ? PADDING : classNode.members.length === 0 &amp;&amp; classNode.methods.length === 0 ? -PADDING / 2 : 0),</span><span class="s3">\n    </span><span class="s1">w + 2 * PADDING,</span><span class="s3">\n    </span><span class="s1">h + 2 * PADDING + (renderExtraBox ? PADDING * 2 : classNode.members.length === 0 &amp;&amp; classNode.methods.length === 0 ? -PADDING : 0),</span><span class="s3">\n    </span><span class="s1">options</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const rect2 = shapeSvg.insert(() =&gt; roughRect, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">rect2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const rectBBox = rect2.node().getBBox();</span><span class="s3">\n  </span><span class="s1">shapeSvg.selectAll(</span><span class="s3">\&quot;</span><span class="s1">.text</span><span class="s3">\&quot;</span><span class="s1">).each((_, i, nodes) =&gt; {</span><span class="s3">\n    </span><span class="s1">const text2 = select7(nodes[i]);</span><span class="s3">\n    </span><span class="s1">const transform = text2.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">let translateY = 0;</span><span class="s3">\n    </span><span class="s1">if (transform) {</span><span class="s3">\n      </span><span class="s1">const regex = RegExp(/translate</span><span class="s3">\\</span><span class="s1">(([^,]+),([^)]+)</span><span class="s3">\\</span><span class="s1">)/);</span><span class="s3">\n      </span><span class="s1">const translate = regex.exec(transform);</span><span class="s3">\n      </span><span class="s1">if (translate) {</span><span class="s3">\n        </span><span class="s1">translateY = parseFloat(translate[2]);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">let newTranslateY = translateY + y + PADDING - (renderExtraBox ? PADDING : classNode.members.length === 0 &amp;&amp; classNode.methods.length === 0 ? -PADDING / 2 : 0);</span><span class="s3">\n    </span><span class="s1">if (!useHtmlLabels) {</span><span class="s3">\n      </span><span class="s1">newTranslateY -= 4;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">let newTranslateX = x;</span><span class="s3">\n    </span><span class="s1">if (text2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">).includes(</span><span class="s3">\&quot;</span><span class="s1">label-group</span><span class="s3">\&quot;</span><span class="s1">) || text2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">).includes(</span><span class="s3">\&quot;</span><span class="s1">annotation-group</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n      </span><span class="s1">newTranslateX = -text2.node()?.getBBox().width / 2 || 0;</span><span class="s3">\n      </span><span class="s1">shapeSvg.selectAll(</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">).each(function(_2, i2, nodes2) {</span><span class="s3">\n        </span><span class="s1">if (window.getComputedStyle(nodes2[i2]).textAnchor === </span><span class="s3">\&quot;</span><span class="s1">middle</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">newTranslateX = 0;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">text2.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${newTranslateX}, ${newTranslateY})`);</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">const annotationGroupHeight = shapeSvg.select(</span><span class="s3">\&quot;</span><span class="s1">.annotation-group</span><span class="s3">\&quot;</span><span class="s1">).node().getBBox().height - (renderExtraBox ? PADDING / 2 : 0) || 0;</span><span class="s3">\n  </span><span class="s1">const labelGroupHeight = shapeSvg.select(</span><span class="s3">\&quot;</span><span class="s1">.label-group</span><span class="s3">\&quot;</span><span class="s1">).node().getBBox().height - (renderExtraBox ? PADDING / 2 : 0) || 0;</span><span class="s3">\n  </span><span class="s1">const membersGroupHeight = shapeSvg.select(</span><span class="s3">\&quot;</span><span class="s1">.members-group</span><span class="s3">\&quot;</span><span class="s1">).node().getBBox().height - (renderExtraBox ? PADDING / 2 : 0) || 0;</span><span class="s3">\n  </span><span class="s1">if (classNode.members.length &gt; 0 || classNode.methods.length &gt; 0 || renderExtraBox) {</span><span class="s3">\n    </span><span class="s1">const roughLine = rc.line(</span><span class="s3">\n      </span><span class="s1">rectBBox.x,</span><span class="s3">\n      </span><span class="s1">annotationGroupHeight + labelGroupHeight + y + PADDING,</span><span class="s3">\n      </span><span class="s1">rectBBox.x + rectBBox.width,</span><span class="s3">\n      </span><span class="s1">annotationGroupHeight + labelGroupHeight + y + PADDING,</span><span class="s3">\n      </span><span class="s1">options</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const line = shapeSvg.insert(() =&gt; roughLine);</span><span class="s3">\n    </span><span class="s1">line.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">divider</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, styles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (renderExtraBox || classNode.members.length &gt; 0 || classNode.methods.length &gt; 0) {</span><span class="s3">\n    </span><span class="s1">const roughLine = rc.line(</span><span class="s3">\n      </span><span class="s1">rectBBox.x,</span><span class="s3">\n      </span><span class="s1">annotationGroupHeight + labelGroupHeight + membersGroupHeight + y + GAP * 2 + PADDING,</span><span class="s3">\n      </span><span class="s1">rectBBox.x + rectBBox.width,</span><span class="s3">\n      </span><span class="s1">annotationGroupHeight + labelGroupHeight + membersGroupHeight + y + PADDING + GAP * 2,</span><span class="s3">\n      </span><span class="s1">options</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const line = shapeSvg.insert(() =&gt; roughLine);</span><span class="s3">\n    </span><span class="s1">line.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">divider</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, styles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (classNode.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">shapeSvg.selectAll(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, styles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">rect2.select(</span><span class="s3">\&quot;</span><span class="s1">:nth-child(2)</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, styles);</span><span class="s3">\n  </span><span class="s1">shapeSvg.selectAll(</span><span class="s3">\&quot;</span><span class="s1">.divider</span><span class="s3">\&quot;</span><span class="s1">).select(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, styles);</span><span class="s3">\n  </span><span class="s1">if (node.labelStyle) {</span><span class="s3">\n    </span><span class="s1">shapeSvg.selectAll(</span><span class="s3">\&quot;</span><span class="s1">span</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, node.labelStyle);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">shapeSvg.selectAll(</span><span class="s3">\&quot;</span><span class="s1">span</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, styles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (!useHtmlLabels) {</span><span class="s3">\n    </span><span class="s1">const colorRegex = RegExp(/color</span><span class="s3">\\</span><span class="s1">s*:</span><span class="s3">\\</span><span class="s1">s*([^;]*)/);</span><span class="s3">\n    </span><span class="s1">const match = colorRegex.exec(styles);</span><span class="s3">\n    </span><span class="s1">if (match) {</span><span class="s3">\n      </span><span class="s1">const colorStyle = match[0].replace(</span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">shapeSvg.selectAll(</span><span class="s3">\&quot;</span><span class="s1">tspan</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, colorStyle);</span><span class="s3">\n    </span><span class="s1">} else if (labelStyles) {</span><span class="s3">\n      </span><span class="s1">const match2 = colorRegex.exec(labelStyles);</span><span class="s3">\n      </span><span class="s1">if (match2) {</span><span class="s3">\n        </span><span class="s1">const colorStyle = match2[0].replace(</span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">shapeSvg.selectAll(</span><span class="s3">\&quot;</span><span class="s1">tspan</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, colorStyle);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, rect2);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.rect(node, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(classBox, </span><span class="s3">\&quot;</span><span class="s1">classBox</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/requirementBox.ts</span><span class="s3">\n</span><span class="s1">import rough56 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { select as select8 } from </span><span class="s3">\&quot;</span><span class="s1">d3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">async function requirementBox(parent, node) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(node);</span><span class="s3">\n  </span><span class="s1">node.labelStyle = labelStyles;</span><span class="s3">\n  </span><span class="s1">const requirementNode = node;</span><span class="s3">\n  </span><span class="s1">const elementNode = node;</span><span class="s3">\n  </span><span class="s1">const padding = 20;</span><span class="s3">\n  </span><span class="s1">const gap = 20;</span><span class="s3">\n  </span><span class="s1">const isRequirementNode = </span><span class="s3">\&quot;</span><span class="s1">verifyMethod</span><span class="s3">\&quot; </span><span class="s1">in node;</span><span class="s3">\n  </span><span class="s1">const classes = getNodeClasses(node);</span><span class="s3">\n  </span><span class="s1">const shapeSvg = parent.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, classes).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, node.domId ?? node.id);</span><span class="s3">\n  </span><span class="s1">let typeHeight;</span><span class="s3">\n  </span><span class="s1">if (isRequirementNode) {</span><span class="s3">\n    </span><span class="s1">typeHeight = await addText3(</span><span class="s3">\n      </span><span class="s1">shapeSvg,</span><span class="s3">\n      </span><span class="s1">`&amp;lt;&amp;lt;${requirementNode.type}&amp;gt;&amp;gt;`,</span><span class="s3">\n      </span><span class="s1">0,</span><span class="s3">\n      </span><span class="s1">node.labelStyle</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">typeHeight = await addText3(shapeSvg, </span><span class="s3">\&quot;</span><span class="s1">&amp;lt;&amp;lt;Element&amp;gt;&amp;gt;</span><span class="s3">\&quot;</span><span class="s1">, 0, node.labelStyle);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let accumulativeHeight = typeHeight;</span><span class="s3">\n  </span><span class="s1">const nameHeight = await addText3(</span><span class="s3">\n    </span><span class="s1">shapeSvg,</span><span class="s3">\n    </span><span class="s1">requirementNode.name,</span><span class="s3">\n    </span><span class="s1">accumulativeHeight,</span><span class="s3">\n    </span><span class="s1">node.labelStyle + </span><span class="s3">\&quot;</span><span class="s1">; font-weight: bold;</span><span class="s3">\&quot;\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">accumulativeHeight += nameHeight + gap;</span><span class="s3">\n  </span><span class="s1">if (isRequirementNode) {</span><span class="s3">\n    </span><span class="s1">const idHeight = await addText3(</span><span class="s3">\n      </span><span class="s1">shapeSvg,</span><span class="s3">\n      </span><span class="s1">`${requirementNode.requirementId ? `Id: ${requirementNode.requirementId}` : </span><span class="s3">\&quot;\&quot;</span><span class="s1">}`,</span><span class="s3">\n      </span><span class="s1">accumulativeHeight,</span><span class="s3">\n      </span><span class="s1">node.labelStyle</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">accumulativeHeight += idHeight;</span><span class="s3">\n    </span><span class="s1">const textHeight = await addText3(</span><span class="s3">\n      </span><span class="s1">shapeSvg,</span><span class="s3">\n      </span><span class="s1">`${requirementNode.text ? `Text: ${requirementNode.text}` : </span><span class="s3">\&quot;\&quot;</span><span class="s1">}`,</span><span class="s3">\n      </span><span class="s1">accumulativeHeight,</span><span class="s3">\n      </span><span class="s1">node.labelStyle</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">accumulativeHeight += textHeight;</span><span class="s3">\n    </span><span class="s1">const riskHeight = await addText3(</span><span class="s3">\n      </span><span class="s1">shapeSvg,</span><span class="s3">\n      </span><span class="s1">`${requirementNode.risk ? `Risk: ${requirementNode.risk}` : </span><span class="s3">\&quot;\&quot;</span><span class="s1">}`,</span><span class="s3">\n      </span><span class="s1">accumulativeHeight,</span><span class="s3">\n      </span><span class="s1">node.labelStyle</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">accumulativeHeight += riskHeight;</span><span class="s3">\n    </span><span class="s1">await addText3(</span><span class="s3">\n      </span><span class="s1">shapeSvg,</span><span class="s3">\n      </span><span class="s1">`${requirementNode.verifyMethod ? `Verification: ${requirementNode.verifyMethod}` : </span><span class="s3">\&quot;\&quot;</span><span class="s1">}`,</span><span class="s3">\n      </span><span class="s1">accumulativeHeight,</span><span class="s3">\n      </span><span class="s1">node.labelStyle</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">const typeHeight2 = await addText3(</span><span class="s3">\n      </span><span class="s1">shapeSvg,</span><span class="s3">\n      </span><span class="s1">`${elementNode.type ? `Type: ${elementNode.type}` : </span><span class="s3">\&quot;\&quot;</span><span class="s1">}`,</span><span class="s3">\n      </span><span class="s1">accumulativeHeight,</span><span class="s3">\n      </span><span class="s1">node.labelStyle</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">accumulativeHeight += typeHeight2;</span><span class="s3">\n    </span><span class="s1">await addText3(</span><span class="s3">\n      </span><span class="s1">shapeSvg,</span><span class="s3">\n      </span><span class="s1">`${elementNode.docRef ? `Doc Ref: ${elementNode.docRef}` : </span><span class="s3">\&quot;\&quot;</span><span class="s1">}`,</span><span class="s3">\n      </span><span class="s1">accumulativeHeight,</span><span class="s3">\n      </span><span class="s1">node.labelStyle</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const totalWidth = (shapeSvg.node()?.getBBox().width ?? 200) + padding;</span><span class="s3">\n  </span><span class="s1">const totalHeight = (shapeSvg.node()?.getBBox().height ?? 200) + padding;</span><span class="s3">\n  </span><span class="s1">const x = -totalWidth / 2;</span><span class="s3">\n  </span><span class="s1">const y = -totalHeight / 2;</span><span class="s3">\n  </span><span class="s1">const rc = rough56.svg(shapeSvg);</span><span class="s3">\n  </span><span class="s1">const options = userNodeOverrides(node, {});</span><span class="s3">\n  </span><span class="s1">if (node.look !== </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">options.roughness = 0;</span><span class="s3">\n    </span><span class="s1">options.fillStyle = </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const roughRect = rc.rectangle(x, y, totalWidth, totalHeight, options);</span><span class="s3">\n  </span><span class="s1">const rect2 = shapeSvg.insert(() =&gt; roughRect, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">rect2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">shapeSvg.selectAll(</span><span class="s3">\&quot;</span><span class="s1">.label</span><span class="s3">\&quot;</span><span class="s1">).each((_, i, nodes) =&gt; {</span><span class="s3">\n    </span><span class="s1">const text2 = select8(nodes[i]);</span><span class="s3">\n    </span><span class="s1">const transform = text2.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">let translateX = 0;</span><span class="s3">\n    </span><span class="s1">let translateY = 0;</span><span class="s3">\n    </span><span class="s1">if (transform) {</span><span class="s3">\n      </span><span class="s1">const regex = RegExp(/translate</span><span class="s3">\\</span><span class="s1">(([^,]+),([^)]+)</span><span class="s3">\\</span><span class="s1">)/);</span><span class="s3">\n      </span><span class="s1">const translate = regex.exec(transform);</span><span class="s3">\n      </span><span class="s1">if (translate) {</span><span class="s3">\n        </span><span class="s1">translateX = parseFloat(translate[1]);</span><span class="s3">\n        </span><span class="s1">translateY = parseFloat(translate[2]);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const newTranslateY = translateY - totalHeight / 2;</span><span class="s3">\n    </span><span class="s1">let newTranslateX = x + padding / 2;</span><span class="s3">\n    </span><span class="s1">if (i === 0 || i === 1) {</span><span class="s3">\n      </span><span class="s1">newTranslateX = translateX;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">text2.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${newTranslateX}, ${newTranslateY + padding})`);</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">if (accumulativeHeight &gt; typeHeight + nameHeight + gap) {</span><span class="s3">\n    </span><span class="s1">const roughLine = rc.line(</span><span class="s3">\n      </span><span class="s1">x,</span><span class="s3">\n      </span><span class="s1">y + typeHeight + nameHeight + gap,</span><span class="s3">\n      </span><span class="s1">x + totalWidth,</span><span class="s3">\n      </span><span class="s1">y + typeHeight + nameHeight + gap,</span><span class="s3">\n      </span><span class="s1">options</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const dividerLine = shapeSvg.insert(() =&gt; roughLine);</span><span class="s3">\n    </span><span class="s1">dividerLine.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(node, rect2);</span><span class="s3">\n  </span><span class="s1">node.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.rect(node, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(requirementBox, </span><span class="s3">\&quot;</span><span class="s1">requirementBox</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">async function addText3(parentGroup, inputText, yOffset, style = </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">if (inputText === </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const textEl = parentGroup.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, style);</span><span class="s3">\n  </span><span class="s1">const config = getConfig2();</span><span class="s3">\n  </span><span class="s1">const useHtmlLabels = config.htmlLabels ?? true;</span><span class="s3">\n  </span><span class="s1">const text2 = await createText(</span><span class="s3">\n    </span><span class="s1">textEl,</span><span class="s3">\n    </span><span class="s1">sanitizeText2(decodeEntities(inputText)),</span><span class="s3">\n    </span><span class="s1">{</span><span class="s3">\n      </span><span class="s1">width: calculateTextWidth(inputText, config) + 50,</span><span class="s3">\n      </span><span class="s1">// Add room for error when splitting text into multiple lines</span><span class="s3">\n      </span><span class="s1">classes: </span><span class="s3">\&quot;</span><span class="s1">markdown-node-label</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">useHtmlLabels,</span><span class="s3">\n      </span><span class="s1">style</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">config</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">let bbox;</span><span class="s3">\n  </span><span class="s1">if (!useHtmlLabels) {</span><span class="s3">\n    </span><span class="s1">const textChild = text2.children[0];</span><span class="s3">\n    </span><span class="s1">for (const child of textChild.children) {</span><span class="s3">\n      </span><span class="s1">child.textContent = child.textContent.replaceAll(</span><span class="s3">\&quot;</span><span class="s1">&amp;gt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">).replaceAll(</span><span class="s3">\&quot;</span><span class="s1">&amp;lt;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">if (style) {</span><span class="s3">\n        </span><span class="s1">child.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, style);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">bbox = text2.getBBox();</span><span class="s3">\n    </span><span class="s1">bbox.height += 6;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">const div = text2.children[0];</span><span class="s3">\n    </span><span class="s1">const dv = select8(text2);</span><span class="s3">\n    </span><span class="s1">bbox = div.getBoundingClientRect();</span><span class="s3">\n    </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, bbox.width);</span><span class="s3">\n    </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, bbox.height);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">textEl.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${-bbox.width / 2},${-bbox.height / 2 + yOffset})`);</span><span class="s3">\n  </span><span class="s1">return bbox.height;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(addText3, </span><span class="s3">\&quot;</span><span class="s1">addText</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes/kanbanItem.ts</span><span class="s3">\n</span><span class="s1">import rough57 from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var colorFromPriority = /* @__PURE__ */ __name((priority) =&gt; {</span><span class="s3">\n  </span><span class="s1">switch (priority) {</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">Very High</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">red</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">High</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">orange</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">Medium</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">// no stroke</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">Low</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">blue</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">Very Low</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">lightblue</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">colorFromPriority</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">async function kanbanItem(parent, kanbanNode, { config }) {</span><span class="s3">\n  </span><span class="s1">const { labelStyles, nodeStyles } = styles2String(kanbanNode);</span><span class="s3">\n  </span><span class="s1">kanbanNode.labelStyle = labelStyles || </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">const labelPaddingX = 10;</span><span class="s3">\n  </span><span class="s1">const orgWidth = kanbanNode.width;</span><span class="s3">\n  </span><span class="s1">kanbanNode.width = (kanbanNode.width ?? 200) - 10;</span><span class="s3">\n  </span><span class="s1">const {</span><span class="s3">\n    </span><span class="s1">shapeSvg,</span><span class="s3">\n    </span><span class="s1">bbox,</span><span class="s3">\n    </span><span class="s1">label: labelElTitle</span><span class="s3">\n  </span><span class="s1">} = await labelHelper(parent, kanbanNode, getNodeClasses(kanbanNode));</span><span class="s3">\n  </span><span class="s1">const padding = kanbanNode.padding || 10;</span><span class="s3">\n  </span><span class="s1">let ticketUrl = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">let link;</span><span class="s3">\n  </span><span class="s1">if (</span><span class="s3">\&quot;</span><span class="s1">ticket</span><span class="s3">\&quot; </span><span class="s1">in kanbanNode &amp;&amp; kanbanNode.ticket &amp;&amp; config?.kanban?.ticketBaseUrl) {</span><span class="s3">\n    </span><span class="s1">ticketUrl = config?.kanban?.ticketBaseUrl.replace(</span><span class="s3">\&quot;</span><span class="s1">#TICKET#</span><span class="s3">\&quot;</span><span class="s1">, kanbanNode.ticket);</span><span class="s3">\n    </span><span class="s1">link = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">svg:a</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">kanban-ticket-link</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">xlink:href</span><span class="s3">\&quot;</span><span class="s1">, ticketUrl).attr(</span><span class="s3">\&quot;</span><span class="s1">target</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">_blank</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const options = {</span><span class="s3">\n    </span><span class="s1">useHtmlLabels: kanbanNode.useHtmlLabels,</span><span class="s3">\n    </span><span class="s1">labelStyle: kanbanNode.labelStyle || </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">width: kanbanNode.width,</span><span class="s3">\n    </span><span class="s1">img: kanbanNode.img,</span><span class="s3">\n    </span><span class="s1">padding: kanbanNode.padding || 8,</span><span class="s3">\n    </span><span class="s1">centerLabel: false</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">let labelEl, bbox2;</span><span class="s3">\n  </span><span class="s1">if (link) {</span><span class="s3">\n    </span><span class="s1">({ label: labelEl, bbox: bbox2 } = await insertLabel(</span><span class="s3">\n      </span><span class="s1">link,</span><span class="s3">\n      \&quot;</span><span class="s1">ticket</span><span class="s3">\&quot; </span><span class="s1">in kanbanNode &amp;&amp; kanbanNode.ticket || </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">options</span><span class="s3">\n    </span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">({ label: labelEl, bbox: bbox2 } = await insertLabel(</span><span class="s3">\n      </span><span class="s1">shapeSvg,</span><span class="s3">\n      \&quot;</span><span class="s1">ticket</span><span class="s3">\&quot; </span><span class="s1">in kanbanNode &amp;&amp; kanbanNode.ticket || </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">options</span><span class="s3">\n    </span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const { label: labelElAssigned, bbox: bboxAssigned } = await insertLabel(</span><span class="s3">\n    </span><span class="s1">shapeSvg,</span><span class="s3">\n    \&quot;</span><span class="s1">assigned</span><span class="s3">\&quot; </span><span class="s1">in kanbanNode &amp;&amp; kanbanNode.assigned || </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">options</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">kanbanNode.width = orgWidth;</span><span class="s3">\n  </span><span class="s1">const labelPaddingY = 10;</span><span class="s3">\n  </span><span class="s1">const totalWidth = kanbanNode?.width || 0;</span><span class="s3">\n  </span><span class="s1">const heightAdj = Math.max(bbox2.height, bboxAssigned.height) / 2;</span><span class="s3">\n  </span><span class="s1">const totalHeight = Math.max(bbox.height + labelPaddingY * 2, kanbanNode?.height || 0) + heightAdj;</span><span class="s3">\n  </span><span class="s1">const x = -totalWidth / 2;</span><span class="s3">\n  </span><span class="s1">const y = -totalHeight / 2;</span><span class="s3">\n  </span><span class="s1">labelElTitle.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ (padding - totalWidth / 2) + </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+ (-heightAdj - bbox.height / 2) + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">labelEl.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ (padding - totalWidth / 2) + </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+ (-heightAdj + bbox.height / 2) + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">labelElAssigned.attr(</span><span class="s3">\n    \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ (padding + totalWidth / 2 - bboxAssigned.width - 2 * labelPaddingX) + </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+ (-heightAdj + bbox.height / 2) + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">let rect2;</span><span class="s3">\n  </span><span class="s1">const { rx, ry } = kanbanNode;</span><span class="s3">\n  </span><span class="s1">const { cssStyles } = kanbanNode;</span><span class="s3">\n  </span><span class="s1">if (kanbanNode.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough57.svg(shapeSvg);</span><span class="s3">\n    </span><span class="s1">const options2 = userNodeOverrides(kanbanNode, {});</span><span class="s3">\n    </span><span class="s1">const roughNode = rx || ry ? rc.path(createRoundedRectPathD(x, y, totalWidth, totalHeight, rx || 0), options2) : rc.rectangle(x, y, totalWidth, totalHeight, options2);</span><span class="s3">\n    </span><span class="s1">rect2 = shapeSvg.insert(() =&gt; roughNode, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">rect2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, cssStyles ? cssStyles : null);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">rect2 = shapeSvg.insert(</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">rect2.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">basic label-container __APA__</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, nodeStyles).attr(</span><span class="s3">\&quot;</span><span class="s1">rx</span><span class="s3">\&quot;</span><span class="s1">, rx ?? 5).attr(</span><span class="s3">\&quot;</span><span class="s1">ry</span><span class="s3">\&quot;</span><span class="s1">, ry ?? 5).attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, x).attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, y).attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, totalWidth).attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, totalHeight);</span><span class="s3">\n    </span><span class="s1">const priority = </span><span class="s3">\&quot;</span><span class="s1">priority</span><span class="s3">\&quot; </span><span class="s1">in kanbanNode &amp;&amp; kanbanNode.priority;</span><span class="s3">\n    </span><span class="s1">if (priority) {</span><span class="s3">\n      </span><span class="s1">const line = shapeSvg.append(</span><span class="s3">\&quot;</span><span class="s1">line</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">const lineX = x + 2;</span><span class="s3">\n      </span><span class="s1">const y1 = y + Math.floor((rx ?? 0) / 2);</span><span class="s3">\n      </span><span class="s1">const y2 = y + totalHeight - Math.floor((rx ?? 0) / 2);</span><span class="s3">\n      </span><span class="s1">line.attr(</span><span class="s3">\&quot;</span><span class="s1">x1</span><span class="s3">\&quot;</span><span class="s1">, lineX).attr(</span><span class="s3">\&quot;</span><span class="s1">y1</span><span class="s3">\&quot;</span><span class="s1">, y1).attr(</span><span class="s3">\&quot;</span><span class="s1">x2</span><span class="s3">\&quot;</span><span class="s1">, lineX).attr(</span><span class="s3">\&quot;</span><span class="s1">y2</span><span class="s3">\&quot;</span><span class="s1">, y2).attr(</span><span class="s3">\&quot;</span><span class="s1">stroke-width</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">4</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">stroke</span><span class="s3">\&quot;</span><span class="s1">, colorFromPriority(priority));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateNodeBounds(kanbanNode, rect2);</span><span class="s3">\n  </span><span class="s1">kanbanNode.height = totalHeight;</span><span class="s3">\n  </span><span class="s1">kanbanNode.intersect = function(point) {</span><span class="s3">\n    </span><span class="s1">return intersect_default.rect(kanbanNode, point);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">return shapeSvg;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(kanbanItem, </span><span class="s3">\&quot;</span><span class="s1">kanbanItem</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/shapes.ts</span><span class="s3">\n</span><span class="s1">var shapesDefs = [</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Process</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Rectangle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Standard process shape</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">proc</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">process</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rectangle</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">internalAliases: [</span><span class="s3">\&quot;</span><span class="s1">squareRect</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: squareRect2</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Event</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Rounded Rectangle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">rounded</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Represents an event</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">event</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">internalAliases: [</span><span class="s3">\&quot;</span><span class="s1">roundedRect</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: roundedRect</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Terminal Point</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Stadium</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">stadium</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Terminal point</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">terminal</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">pill</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: stadium</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Subprocess</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Framed Rectangle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">fr-rect</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Subprocess</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">subprocess</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">subproc</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">framed-rectangle</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">subroutine</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: subroutine</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Database</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Cylinder</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">cyl</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Database storage</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">db</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">database</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">cylinder</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: cylinder</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Start</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Circle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Starting point</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">circ</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: circle</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Decision</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Diamond</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">diam</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Decision-making step</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">decision</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">diamond</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">question</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: question</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Prepare Conditional</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Hexagon</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">hex</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Preparation or condition step</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">hexagon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">prepare</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: hexagon</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Data Input/Output</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Lean Right</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">lean-r</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Represents input or output</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">lean-right</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">in-out</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">internalAliases: [</span><span class="s3">\&quot;</span><span class="s1">lean_right</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: lean_right</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Data Input/Output</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Lean Left</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">lean-l</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Represents output or input</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">lean-left</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">out-in</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">internalAliases: [</span><span class="s3">\&quot;</span><span class="s1">lean_left</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: lean_left</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Priority Action</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Trapezoid Base Bottom</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">trap-b</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Priority action</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">priority</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">trapezoid-bottom</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">trapezoid</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: trapezoid</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Manual Operation</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Trapezoid Base Top</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">trap-t</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Represents a manual task</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">manual</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">trapezoid-top</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">inv-trapezoid</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">internalAliases: [</span><span class="s3">\&quot;</span><span class="s1">inv_trapezoid</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: inv_trapezoid</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Stop</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Double Circle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">dbl-circ</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Represents a stop point</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">double-circle</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">internalAliases: [</span><span class="s3">\&quot;</span><span class="s1">doublecircle</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: doublecircle</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Text Block</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Text Block</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Text block</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">handler: text</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Card</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Notched Rectangle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">notch-rect</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Represents a card</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">card</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">notched-rectangle</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: card</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Lined/Shaded Process</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Lined Rectangle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">lin-rect</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Lined process shape</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">lined-rectangle</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">lined-process</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">lin-proc</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">shaded-process</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: shadedProcess</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Start</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Small Circle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">sm-circ</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Small starting point</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">small-circle</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">internalAliases: [</span><span class="s3">\&quot;</span><span class="s1">stateStart</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: stateStart</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Stop</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Framed Circle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">fr-circ</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Stop point</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">stop</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">framed-circle</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">internalAliases: [</span><span class="s3">\&quot;</span><span class="s1">stateEnd</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: stateEnd</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Fork/Join</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Filled Rectangle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">fork</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Fork or join in process flow</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">join</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">internalAliases: [</span><span class="s3">\&quot;</span><span class="s1">forkJoin</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: forkJoin</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Collate</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Hourglass</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">hourglass</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Represents a collate operation</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">hourglass</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">collate</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: hourglass</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Comment</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Curly Brace</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">brace</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Adds a comment</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">comment</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">brace-l</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: curlyBraceLeft</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Comment Right</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Curly Brace</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">brace-r</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Adds a comment</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">handler: curlyBraceRight</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Comment with braces on both sides</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Curly Braces</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">braces</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Adds a comment</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">handler: curlyBraces</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Com Link</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Lightning Bolt</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">bolt</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Communication link</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">com-link</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">lightning-bolt</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: lightningBolt</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Document</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Document</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">doc</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Represents a document</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">doc</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">document</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: waveEdgedRectangle</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Delay</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Half-Rounded Rectangle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">delay</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Represents a delay</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">half-rounded-rectangle</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: halfRoundedRectangle</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Direct Access Storage</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Horizontal Cylinder</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">h-cyl</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Direct access storage</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">das</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">horizontal-cylinder</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: tiltedCylinder</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Disk Storage</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Lined Cylinder</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">lin-cyl</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Disk storage</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">disk</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">lined-cylinder</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: linedCylinder</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Display</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Curved Trapezoid</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">curv-trap</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Represents a display</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">curved-trapezoid</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: curvedTrapezoid</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Divided Process</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Divided Rectangle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">div-rect</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Divided process shape</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">div-proc</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">divided-rectangle</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">divided-process</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: dividedRectangle</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Extract</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Triangle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">tri</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Extraction process</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">extract</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">triangle</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: triangle</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Internal Storage</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Window Pane</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">win-pane</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Internal storage</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">internal-storage</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">window-pane</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: windowPane</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Junction</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Filled Circle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">f-circ</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Junction point</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">junction</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">filled-circle</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: filledCircle</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Loop Limit</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Trapezoidal Pentagon</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">notch-pent</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Loop limit step</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">loop-limit</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">notched-pentagon</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: trapezoidalPentagon</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Manual File</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Flipped Triangle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">flip-tri</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Manual file operation</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">manual-file</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">flipped-triangle</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: flippedTriangle</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Manual Input</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Sloped Rectangle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">sl-rect</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Manual input step</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">manual-input</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">sloped-rectangle</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: slopedRect</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Multi-Document</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Stacked Document</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">docs</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Multiple documents</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">documents</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">st-doc</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">stacked-document</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: multiWaveEdgedRectangle</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Multi-Process</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Stacked Rectangle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">st-rect</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Multiple processes</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">procs</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">processes</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">stacked-rectangle</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: multiRect</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Stored Data</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Bow Tie Rectangle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">bow-rect</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Stored data</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">stored-data</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">bow-tie-rectangle</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: bowTieRect</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Summary</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Crossed Circle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">cross-circ</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Summary</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">summary</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">crossed-circle</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: crossedCircle</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Tagged Document</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Tagged Document</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">tag-doc</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Tagged document</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">tag-doc</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">tagged-document</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: taggedWaveEdgedRectangle</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Tagged Process</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Tagged Rectangle</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">tag-rect</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Tagged process</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">tagged-rectangle</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">tag-proc</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">tagged-process</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: taggedRect</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Paper Tape</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Flag</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">flag</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Paper tape</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">paper-tape</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: waveRectangle</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Odd</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Odd</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">odd</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Odd shape</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">internalAliases: [</span><span class="s3">\&quot;</span><span class="s1">rect_left_inv_arrow</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: rect_left_inv_arrow</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">semanticName: </span><span class="s3">\&quot;</span><span class="s1">Lined Document</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">Lined Document</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">shortName: </span><span class="s3">\&quot;</span><span class="s1">lin-doc</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Lined document</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">aliases: [</span><span class="s3">\&quot;</span><span class="s1">lined-document</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">handler: linedWaveEdgedRect</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">var generateShapeMap = /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n  </span><span class="s1">const undocumentedShapes = {</span><span class="s3">\n    </span><span class="s1">// States</span><span class="s3">\n    </span><span class="s1">state,</span><span class="s3">\n    </span><span class="s1">choice,</span><span class="s3">\n    </span><span class="s1">note,</span><span class="s3">\n    </span><span class="s1">// Rectangles</span><span class="s3">\n    </span><span class="s1">rectWithTitle,</span><span class="s3">\n    </span><span class="s1">labelRect,</span><span class="s3">\n    </span><span class="s1">// Icons</span><span class="s3">\n    </span><span class="s1">iconSquare,</span><span class="s3">\n    </span><span class="s1">iconCircle,</span><span class="s3">\n    </span><span class="s1">icon,</span><span class="s3">\n    </span><span class="s1">iconRounded,</span><span class="s3">\n    </span><span class="s1">imageSquare,</span><span class="s3">\n    </span><span class="s1">anchor,</span><span class="s3">\n    </span><span class="s1">// Kanban diagram</span><span class="s3">\n    </span><span class="s1">kanbanItem,</span><span class="s3">\n    </span><span class="s1">// class diagram</span><span class="s3">\n    </span><span class="s1">classBox,</span><span class="s3">\n    </span><span class="s1">// er diagram</span><span class="s3">\n    </span><span class="s1">erBox,</span><span class="s3">\n    </span><span class="s1">// Requirement diagram</span><span class="s3">\n    </span><span class="s1">requirementBox</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">const entries = [</span><span class="s3">\n    </span><span class="s1">...Object.entries(undocumentedShapes),</span><span class="s3">\n    </span><span class="s1">...shapesDefs.flatMap((shape) =&gt; {</span><span class="s3">\n      </span><span class="s1">const aliases = [</span><span class="s3">\n        </span><span class="s1">shape.shortName,</span><span class="s3">\n        </span><span class="s1">...</span><span class="s3">\&quot;</span><span class="s1">aliases</span><span class="s3">\&quot; </span><span class="s1">in shape ? shape.aliases : [],</span><span class="s3">\n        </span><span class="s1">...</span><span class="s3">\&quot;</span><span class="s1">internalAliases</span><span class="s3">\&quot; </span><span class="s1">in shape ? shape.internalAliases : []</span><span class="s3">\n      </span><span class="s1">];</span><span class="s3">\n      </span><span class="s1">return aliases.map((alias) =&gt; [alias, shape.handler]);</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">return Object.fromEntries(entries);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">generateShapeMap</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var shapes2 = generateShapeMap();</span><span class="s3">\n</span><span class="s1">function isValidShape(shape) {</span><span class="s3">\n  </span><span class="s1">return shape in shapes2;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(isValidShape, </span><span class="s3">\&quot;</span><span class="s1">isValidShape</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/nodes.ts</span><span class="s3">\n</span><span class="s1">var nodeElems = /* @__PURE__ */ new Map();</span><span class="s3">\n</span><span class="s1">async function insertNode(elem, node, renderOptions) {</span><span class="s3">\n  </span><span class="s1">let newEl;</span><span class="s3">\n  </span><span class="s1">let el;</span><span class="s3">\n  </span><span class="s1">if (node.shape === </span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">if (node.rx &amp;&amp; node.ry) {</span><span class="s3">\n      </span><span class="s1">node.shape = </span><span class="s3">\&quot;</span><span class="s1">roundedRect</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">node.shape = </span><span class="s3">\&quot;</span><span class="s1">squareRect</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const shapeHandler = node.shape ? shapes2[node.shape] : void 0;</span><span class="s3">\n  </span><span class="s1">if (!shapeHandler) {</span><span class="s3">\n    </span><span class="s1">throw new Error(`No such shape: ${node.shape}. Please check your syntax.`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (node.link) {</span><span class="s3">\n    </span><span class="s1">let target;</span><span class="s3">\n    </span><span class="s1">if (renderOptions.config.securityLevel === </span><span class="s3">\&quot;</span><span class="s1">sandbox</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">target = </span><span class="s3">\&quot;</span><span class="s1">_top</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">} else if (node.linkTarget) {</span><span class="s3">\n      </span><span class="s1">target = node.linkTarget || </span><span class="s3">\&quot;</span><span class="s1">_blank</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">newEl = elem.insert(</span><span class="s3">\&quot;</span><span class="s1">svg:a</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">xlink:href</span><span class="s3">\&quot;</span><span class="s1">, node.link).attr(</span><span class="s3">\&quot;</span><span class="s1">target</span><span class="s3">\&quot;</span><span class="s1">, target ?? null);</span><span class="s3">\n    </span><span class="s1">el = await shapeHandler(newEl, node, renderOptions);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">el = await shapeHandler(elem, node, renderOptions);</span><span class="s3">\n    </span><span class="s1">newEl = el;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (node.tooltip) {</span><span class="s3">\n    </span><span class="s1">el.attr(</span><span class="s3">\&quot;</span><span class="s1">title</span><span class="s3">\&quot;</span><span class="s1">, node.tooltip);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">nodeElems.set(node.id, newEl);</span><span class="s3">\n  </span><span class="s1">if (node.haveCallback) {</span><span class="s3">\n    </span><span class="s1">newEl.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, newEl.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">) + </span><span class="s3">\&quot; </span><span class="s1">clickable</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return newEl;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(insertNode, </span><span class="s3">\&quot;</span><span class="s1">insertNode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var setNodeElem = /* @__PURE__ */ __name((elem, node) =&gt; {</span><span class="s3">\n  </span><span class="s1">nodeElems.set(node.id, elem);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">setNodeElem</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var clear2 = /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n  </span><span class="s1">nodeElems.clear();</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">clear</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var positionNode = /* @__PURE__ */ __name((node) =&gt; {</span><span class="s3">\n  </span><span class="s1">const el = nodeElems.get(node.id);</span><span class="s3">\n  </span><span class="s1">log.trace(</span><span class="s3">\n    \&quot;</span><span class="s1">Transforming node</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">node.diff,</span><span class="s3">\n    </span><span class="s1">node,</span><span class="s3">\n    \&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ (node.x - node.width / 2 - 5) + </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+ node.width / 2 + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const padding = 8;</span><span class="s3">\n  </span><span class="s1">const diff = node.diff || 0;</span><span class="s3">\n  </span><span class="s1">if (node.clusterNode) {</span><span class="s3">\n    </span><span class="s1">el.attr(</span><span class="s3">\n      \&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ (node.x + diff - node.width / 2) + </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+ (node.y - node.height / 2 - padding) + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">el.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ node.x + </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+ node.y + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return diff;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">positionNode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">labelHelper,</span><span class="s3">\n  </span><span class="s1">updateNodeBounds,</span><span class="s3">\n  </span><span class="s1">isLabelStyle,</span><span class="s3">\n  </span><span class="s1">createLabel_default,</span><span class="s3">\n  </span><span class="s1">isValidShape,</span><span class="s3">\n  </span><span class="s1">insertCluster,</span><span class="s3">\n  </span><span class="s1">clear,</span><span class="s3">\n  </span><span class="s1">insertNode,</span><span class="s3">\n  </span><span class="s1">setNodeElem,</span><span class="s3">\n  </span><span class="s1">clear2,</span><span class="s3">\n  </span><span class="s1">positionNode</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {</span><span class="s3">\n  </span><span class="s1">getLineFunctionsWithOffset</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-VV3M67IP.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">createLabel_default,</span><span class="s3">\n  </span><span class="s1">isLabelStyle</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-HRU6DDCH.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">getSubGraphTitleMargins</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-K557N5IZ.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">createText</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-C3MQ5ANM.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">utils_default</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-O4NI6UNU.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">__name,</span><span class="s3">\n  </span><span class="s1">evaluate,</span><span class="s3">\n  </span><span class="s1">getConfig2 as getConfig,</span><span class="s3">\n  </span><span class="s1">log</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-YTJNT7DU.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/edges.js</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">curveBasis,</span><span class="s3">\n  </span><span class="s1">curveLinear,</span><span class="s3">\n  </span><span class="s1">curveCardinal,</span><span class="s3">\n  </span><span class="s1">curveBumpX,</span><span class="s3">\n  </span><span class="s1">curveBumpY,</span><span class="s3">\n  </span><span class="s1">curveCatmullRom,</span><span class="s3">\n  </span><span class="s1">curveMonotoneX,</span><span class="s3">\n  </span><span class="s1">curveMonotoneY,</span><span class="s3">\n  </span><span class="s1">curveNatural,</span><span class="s3">\n  </span><span class="s1">curveStep,</span><span class="s3">\n  </span><span class="s1">curveStepAfter,</span><span class="s3">\n  </span><span class="s1">curveStepBefore,</span><span class="s3">\n  </span><span class="s1">line,</span><span class="s3">\n  </span><span class="s1">select</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">d3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import rough from </span><span class="s3">\&quot;</span><span class="s1">roughjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/edgeMarker.ts</span><span class="s3">\n</span><span class="s1">var addEdgeMarkers = /* @__PURE__ */ __name((svgPath, edge, url, id, diagramType, strokeColor) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (edge.arrowTypeStart) {</span><span class="s3">\n    </span><span class="s1">addEdgeMarker(svgPath, </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">, edge.arrowTypeStart, url, id, diagramType, strokeColor);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (edge.arrowTypeEnd) {</span><span class="s3">\n    </span><span class="s1">addEdgeMarker(svgPath, </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">, edge.arrowTypeEnd, url, id, diagramType, strokeColor);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">addEdgeMarkers</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var arrowTypesMap = {</span><span class="s3">\n  </span><span class="s1">arrow_cross: { type: </span><span class="s3">\&quot;</span><span class="s1">cross</span><span class="s3">\&quot;</span><span class="s1">, fill: false },</span><span class="s3">\n  </span><span class="s1">arrow_point: { type: </span><span class="s3">\&quot;</span><span class="s1">point</span><span class="s3">\&quot;</span><span class="s1">, fill: true },</span><span class="s3">\n  </span><span class="s1">arrow_barb: { type: </span><span class="s3">\&quot;</span><span class="s1">barb</span><span class="s3">\&quot;</span><span class="s1">, fill: true },</span><span class="s3">\n  </span><span class="s1">arrow_circle: { type: </span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">, fill: false },</span><span class="s3">\n  </span><span class="s1">aggregation: { type: </span><span class="s3">\&quot;</span><span class="s1">aggregation</span><span class="s3">\&quot;</span><span class="s1">, fill: false },</span><span class="s3">\n  </span><span class="s1">extension: { type: </span><span class="s3">\&quot;</span><span class="s1">extension</span><span class="s3">\&quot;</span><span class="s1">, fill: false },</span><span class="s3">\n  </span><span class="s1">composition: { type: </span><span class="s3">\&quot;</span><span class="s1">composition</span><span class="s3">\&quot;</span><span class="s1">, fill: true },</span><span class="s3">\n  </span><span class="s1">dependency: { type: </span><span class="s3">\&quot;</span><span class="s1">dependency</span><span class="s3">\&quot;</span><span class="s1">, fill: true },</span><span class="s3">\n  </span><span class="s1">lollipop: { type: </span><span class="s3">\&quot;</span><span class="s1">lollipop</span><span class="s3">\&quot;</span><span class="s1">, fill: false },</span><span class="s3">\n  </span><span class="s1">only_one: { type: </span><span class="s3">\&quot;</span><span class="s1">onlyOne</span><span class="s3">\&quot;</span><span class="s1">, fill: false },</span><span class="s3">\n  </span><span class="s1">zero_or_one: { type: </span><span class="s3">\&quot;</span><span class="s1">zeroOrOne</span><span class="s3">\&quot;</span><span class="s1">, fill: false },</span><span class="s3">\n  </span><span class="s1">one_or_more: { type: </span><span class="s3">\&quot;</span><span class="s1">oneOrMore</span><span class="s3">\&quot;</span><span class="s1">, fill: false },</span><span class="s3">\n  </span><span class="s1">zero_or_more: { type: </span><span class="s3">\&quot;</span><span class="s1">zeroOrMore</span><span class="s3">\&quot;</span><span class="s1">, fill: false },</span><span class="s3">\n  </span><span class="s1">requirement_arrow: { type: </span><span class="s3">\&quot;</span><span class="s1">requirement_arrow</span><span class="s3">\&quot;</span><span class="s1">, fill: false },</span><span class="s3">\n  </span><span class="s1">requirement_contains: { type: </span><span class="s3">\&quot;</span><span class="s1">requirement_contains</span><span class="s3">\&quot;</span><span class="s1">, fill: false }</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var addEdgeMarker = /* @__PURE__ */ __name((svgPath, position, arrowType, url, id, diagramType, strokeColor) =&gt; {</span><span class="s3">\n  </span><span class="s1">const arrowTypeInfo = arrowTypesMap[arrowType];</span><span class="s3">\n  </span><span class="s1">if (!arrowTypeInfo) {</span><span class="s3">\n    </span><span class="s1">log.warn(`Unknown arrow type: ${arrowType}`);</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const endMarkerType = arrowTypeInfo.type;</span><span class="s3">\n  </span><span class="s1">const suffix = position === </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">Start</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">End</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">const originalMarkerId = `${id}_${diagramType}-${endMarkerType}${suffix}`;</span><span class="s3">\n  </span><span class="s1">if (strokeColor &amp;&amp; strokeColor.trim() !== </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const colorId = strokeColor.replace(/[^</span><span class="s3">\\</span><span class="s1">dA-Za-z]/g, </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const coloredMarkerId = `${originalMarkerId}_${colorId}`;</span><span class="s3">\n    </span><span class="s1">if (!document.getElementById(coloredMarkerId)) {</span><span class="s3">\n      </span><span class="s1">const originalMarker = document.getElementById(originalMarkerId);</span><span class="s3">\n      </span><span class="s1">if (originalMarker) {</span><span class="s3">\n        </span><span class="s1">const coloredMarker = originalMarker.cloneNode(true);</span><span class="s3">\n        </span><span class="s1">coloredMarker.id = coloredMarkerId;</span><span class="s3">\n        </span><span class="s1">const paths = coloredMarker.querySelectorAll(</span><span class="s3">\&quot;</span><span class="s1">path, circle, line</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">paths.forEach((path) =&gt; {</span><span class="s3">\n          </span><span class="s1">path.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">stroke</span><span class="s3">\&quot;</span><span class="s1">, strokeColor);</span><span class="s3">\n          </span><span class="s1">if (arrowTypeInfo.fill) {</span><span class="s3">\n            </span><span class="s1">path.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, strokeColor);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">originalMarker.parentNode?.appendChild(coloredMarker);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">svgPath.attr(`marker-${position}`, `url(${url}#${coloredMarkerId})`);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">svgPath.attr(`marker-${position}`, `url(${url}#${originalMarkerId})`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">addEdgeMarker</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/edges.js</span><span class="s3">\n</span><span class="s1">var edgeLabels = /* @__PURE__ */ new Map();</span><span class="s3">\n</span><span class="s1">var terminalLabels = /* @__PURE__ */ new Map();</span><span class="s3">\n</span><span class="s1">var clear = /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n  </span><span class="s1">edgeLabels.clear();</span><span class="s3">\n  </span><span class="s1">terminalLabels.clear();</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">clear</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getLabelStyles = /* @__PURE__ */ __name((styleArray) =&gt; {</span><span class="s3">\n  </span><span class="s1">let styles = styleArray ? styleArray.reduce((acc, style) =&gt; acc + </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot; </span><span class="s1">+ style, </span><span class="s3">\&quot;\&quot;</span><span class="s1">) : </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">return styles;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getLabelStyles</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var insertEdgeLabel = /* @__PURE__ */ __name(async (elem, edge) =&gt; {</span><span class="s3">\n  </span><span class="s1">let useHtmlLabels = evaluate(getConfig().flowchart.htmlLabels);</span><span class="s3">\n  </span><span class="s1">const labelElement = await createText(elem, edge.label, {</span><span class="s3">\n    </span><span class="s1">style: getLabelStyles(edge.labelStyle),</span><span class="s3">\n    </span><span class="s1">useHtmlLabels,</span><span class="s3">\n    </span><span class="s1">addSvgBackground: true,</span><span class="s3">\n    </span><span class="s1">isNode: false</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">abc82</span><span class="s3">\&quot;</span><span class="s1">, edge, edge.labelType);</span><span class="s3">\n  </span><span class="s1">const edgeLabel = elem.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">edgeLabel</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const label = edgeLabel.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">label.node().appendChild(labelElement);</span><span class="s3">\n  </span><span class="s1">let bbox = labelElement.getBBox();</span><span class="s3">\n  </span><span class="s1">if (useHtmlLabels) {</span><span class="s3">\n    </span><span class="s1">const div = labelElement.children[0];</span><span class="s3">\n    </span><span class="s1">const dv = select(labelElement);</span><span class="s3">\n    </span><span class="s1">bbox = div.getBoundingClientRect();</span><span class="s3">\n    </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, bbox.width);</span><span class="s3">\n    </span><span class="s1">dv.attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, bbox.height);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">label.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ -bbox.width / 2 + </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+ -bbox.height / 2 + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">edgeLabels.set(edge.id, edgeLabel);</span><span class="s3">\n  </span><span class="s1">edge.width = bbox.width;</span><span class="s3">\n  </span><span class="s1">edge.height = bbox.height;</span><span class="s3">\n  </span><span class="s1">let fo;</span><span class="s3">\n  </span><span class="s1">if (edge.startLabelLeft) {</span><span class="s3">\n    </span><span class="s1">const startLabelElement = await createLabel_default(</span><span class="s3">\n      </span><span class="s1">edge.startLabelLeft,</span><span class="s3">\n      </span><span class="s1">getLabelStyles(edge.labelStyle)</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const startEdgeLabelLeft = elem.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">edgeTerminals</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const inner = startEdgeLabelLeft.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">inner</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">fo = inner.node().appendChild(startLabelElement);</span><span class="s3">\n    </span><span class="s1">const slBox = startLabelElement.getBBox();</span><span class="s3">\n    </span><span class="s1">inner.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ -slBox.width / 2 + </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+ -slBox.height / 2 + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (!terminalLabels.get(edge.id)) {</span><span class="s3">\n      </span><span class="s1">terminalLabels.set(edge.id, {});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">terminalLabels.get(edge.id).startLeft = startEdgeLabelLeft;</span><span class="s3">\n    </span><span class="s1">setTerminalWidth(fo, edge.startLabelLeft);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (edge.startLabelRight) {</span><span class="s3">\n    </span><span class="s1">const startLabelElement = await createLabel_default(</span><span class="s3">\n      </span><span class="s1">edge.startLabelRight,</span><span class="s3">\n      </span><span class="s1">getLabelStyles(edge.labelStyle)</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const startEdgeLabelRight = elem.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">edgeTerminals</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const inner = startEdgeLabelRight.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">inner</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">fo = startEdgeLabelRight.node().appendChild(startLabelElement);</span><span class="s3">\n    </span><span class="s1">inner.node().appendChild(startLabelElement);</span><span class="s3">\n    </span><span class="s1">const slBox = startLabelElement.getBBox();</span><span class="s3">\n    </span><span class="s1">inner.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ -slBox.width / 2 + </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+ -slBox.height / 2 + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (!terminalLabels.get(edge.id)) {</span><span class="s3">\n      </span><span class="s1">terminalLabels.set(edge.id, {});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">terminalLabels.get(edge.id).startRight = startEdgeLabelRight;</span><span class="s3">\n    </span><span class="s1">setTerminalWidth(fo, edge.startLabelRight);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (edge.endLabelLeft) {</span><span class="s3">\n    </span><span class="s1">const endLabelElement = await createLabel_default(edge.endLabelLeft, getLabelStyles(edge.labelStyle));</span><span class="s3">\n    </span><span class="s1">const endEdgeLabelLeft = elem.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">edgeTerminals</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const inner = endEdgeLabelLeft.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">inner</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">fo = inner.node().appendChild(endLabelElement);</span><span class="s3">\n    </span><span class="s1">const slBox = endLabelElement.getBBox();</span><span class="s3">\n    </span><span class="s1">inner.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ -slBox.width / 2 + </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+ -slBox.height / 2 + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">endEdgeLabelLeft.node().appendChild(endLabelElement);</span><span class="s3">\n    </span><span class="s1">if (!terminalLabels.get(edge.id)) {</span><span class="s3">\n      </span><span class="s1">terminalLabels.set(edge.id, {});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">terminalLabels.get(edge.id).endLeft = endEdgeLabelLeft;</span><span class="s3">\n    </span><span class="s1">setTerminalWidth(fo, edge.endLabelLeft);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (edge.endLabelRight) {</span><span class="s3">\n    </span><span class="s1">const endLabelElement = await createLabel_default(edge.endLabelRight, getLabelStyles(edge.labelStyle));</span><span class="s3">\n    </span><span class="s1">const endEdgeLabelRight = elem.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">edgeTerminals</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const inner = endEdgeLabelRight.insert(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">inner</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">fo = inner.node().appendChild(endLabelElement);</span><span class="s3">\n    </span><span class="s1">const slBox = endLabelElement.getBBox();</span><span class="s3">\n    </span><span class="s1">inner.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ -slBox.width / 2 + </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; </span><span class="s1">+ -slBox.height / 2 + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">endEdgeLabelRight.node().appendChild(endLabelElement);</span><span class="s3">\n    </span><span class="s1">if (!terminalLabels.get(edge.id)) {</span><span class="s3">\n      </span><span class="s1">terminalLabels.set(edge.id, {});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">terminalLabels.get(edge.id).endRight = endEdgeLabelRight;</span><span class="s3">\n    </span><span class="s1">setTerminalWidth(fo, edge.endLabelRight);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return labelElement;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">insertEdgeLabel</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function setTerminalWidth(fo, value) {</span><span class="s3">\n  </span><span class="s1">if (getConfig().flowchart.htmlLabels &amp;&amp; fo) {</span><span class="s3">\n    </span><span class="s1">fo.style.width = value.length * 9 + </span><span class="s3">\&quot;</span><span class="s1">px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">fo.style.height = </span><span class="s3">\&quot;</span><span class="s1">12px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(setTerminalWidth, </span><span class="s3">\&quot;</span><span class="s1">setTerminalWidth</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var positionEdgeLabel = /* @__PURE__ */ __name((edge, paths) =&gt; {</span><span class="s3">\n  </span><span class="s1">log.debug(</span><span class="s3">\&quot;</span><span class="s1">Moving label abc88 </span><span class="s3">\&quot;</span><span class="s1">, edge.id, edge.label, edgeLabels.get(edge.id), paths);</span><span class="s3">\n  </span><span class="s1">let path = paths.updatedPath ? paths.updatedPath : paths.originalPath;</span><span class="s3">\n  </span><span class="s1">const siteConfig = getConfig();</span><span class="s3">\n  </span><span class="s1">const { subGraphTitleTotalMargin } = getSubGraphTitleMargins(siteConfig);</span><span class="s3">\n  </span><span class="s1">if (edge.label) {</span><span class="s3">\n    </span><span class="s1">const el = edgeLabels.get(edge.id);</span><span class="s3">\n    </span><span class="s1">let x = edge.x;</span><span class="s3">\n    </span><span class="s1">let y = edge.y;</span><span class="s3">\n    </span><span class="s1">if (path) {</span><span class="s3">\n      </span><span class="s1">const pos = utils_default.calcLabelPosition(path);</span><span class="s3">\n      </span><span class="s1">log.debug(</span><span class="s3">\n        \&quot;</span><span class="s1">Moving label </span><span class="s3">\&quot; </span><span class="s1">+ edge.label + </span><span class="s3">\&quot; </span><span class="s1">from (</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">x,</span><span class="s3">\n        \&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">y,</span><span class="s3">\n        \&quot;</span><span class="s1">) to (</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">pos.x,</span><span class="s3">\n        \&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">pos.y,</span><span class="s3">\n        \&quot;</span><span class="s1">) abc88</span><span class="s3">\&quot;\n      </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">if (paths.updatedPath) {</span><span class="s3">\n        </span><span class="s1">x = pos.x;</span><span class="s3">\n        </span><span class="s1">y = pos.y;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">el.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${x}, ${y + subGraphTitleTotalMargin / 2})`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (edge.startLabelLeft) {</span><span class="s3">\n    </span><span class="s1">const el = terminalLabels.get(edge.id).startLeft;</span><span class="s3">\n    </span><span class="s1">let x = edge.x;</span><span class="s3">\n    </span><span class="s1">let y = edge.y;</span><span class="s3">\n    </span><span class="s1">if (path) {</span><span class="s3">\n      </span><span class="s1">const pos = utils_default.calcTerminalLabelPosition(edge.arrowTypeStart ? 10 : 0, </span><span class="s3">\&quot;</span><span class="s1">start_left</span><span class="s3">\&quot;</span><span class="s1">, path);</span><span class="s3">\n      </span><span class="s1">x = pos.x;</span><span class="s3">\n      </span><span class="s1">y = pos.y;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">el.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${x}, ${y})`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (edge.startLabelRight) {</span><span class="s3">\n    </span><span class="s1">const el = terminalLabels.get(edge.id).startRight;</span><span class="s3">\n    </span><span class="s1">let x = edge.x;</span><span class="s3">\n    </span><span class="s1">let y = edge.y;</span><span class="s3">\n    </span><span class="s1">if (path) {</span><span class="s3">\n      </span><span class="s1">const pos = utils_default.calcTerminalLabelPosition(</span><span class="s3">\n        </span><span class="s1">edge.arrowTypeStart ? 10 : 0,</span><span class="s3">\n        \&quot;</span><span class="s1">start_right</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">path</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">x = pos.x;</span><span class="s3">\n      </span><span class="s1">y = pos.y;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">el.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${x}, ${y})`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (edge.endLabelLeft) {</span><span class="s3">\n    </span><span class="s1">const el = terminalLabels.get(edge.id).endLeft;</span><span class="s3">\n    </span><span class="s1">let x = edge.x;</span><span class="s3">\n    </span><span class="s1">let y = edge.y;</span><span class="s3">\n    </span><span class="s1">if (path) {</span><span class="s3">\n      </span><span class="s1">const pos = utils_default.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, </span><span class="s3">\&quot;</span><span class="s1">end_left</span><span class="s3">\&quot;</span><span class="s1">, path);</span><span class="s3">\n      </span><span class="s1">x = pos.x;</span><span class="s3">\n      </span><span class="s1">y = pos.y;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">el.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${x}, ${y})`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (edge.endLabelRight) {</span><span class="s3">\n    </span><span class="s1">const el = terminalLabels.get(edge.id).endRight;</span><span class="s3">\n    </span><span class="s1">let x = edge.x;</span><span class="s3">\n    </span><span class="s1">let y = edge.y;</span><span class="s3">\n    </span><span class="s1">if (path) {</span><span class="s3">\n      </span><span class="s1">const pos = utils_default.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, </span><span class="s3">\&quot;</span><span class="s1">end_right</span><span class="s3">\&quot;</span><span class="s1">, path);</span><span class="s3">\n      </span><span class="s1">x = pos.x;</span><span class="s3">\n      </span><span class="s1">y = pos.y;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">el.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, `translate(${x}, ${y})`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">positionEdgeLabel</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var outsideNode = /* @__PURE__ */ __name((node, point2) =&gt; {</span><span class="s3">\n  </span><span class="s1">const x = node.x;</span><span class="s3">\n  </span><span class="s1">const y = node.y;</span><span class="s3">\n  </span><span class="s1">const dx = Math.abs(point2.x - x);</span><span class="s3">\n  </span><span class="s1">const dy = Math.abs(point2.y - y);</span><span class="s3">\n  </span><span class="s1">const w = node.width / 2;</span><span class="s3">\n  </span><span class="s1">const h = node.height / 2;</span><span class="s3">\n  </span><span class="s1">return dx &gt;= w || dy &gt;= h;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">outsideNode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var intersection = /* @__PURE__ */ __name((node, outsidePoint, insidePoint) =&gt; {</span><span class="s3">\n  </span><span class="s1">log.debug(`intersection calc abc89:</span><span class="s3">\n  </span><span class="s1">outsidePoint: ${JSON.stringify(outsidePoint)}</span><span class="s3">\n  </span><span class="s1">insidePoint : ${JSON.stringify(insidePoint)}</span><span class="s3">\n  </span><span class="s1">node        : x:${node.x} y:${node.y} w:${node.width} h:${node.height}`);</span><span class="s3">\n  </span><span class="s1">const x = node.x;</span><span class="s3">\n  </span><span class="s1">const y = node.y;</span><span class="s3">\n  </span><span class="s1">const dx = Math.abs(x - insidePoint.x);</span><span class="s3">\n  </span><span class="s1">const w = node.width / 2;</span><span class="s3">\n  </span><span class="s1">let r = insidePoint.x &lt; outsidePoint.x ? w - dx : w + dx;</span><span class="s3">\n  </span><span class="s1">const h = node.height / 2;</span><span class="s3">\n  </span><span class="s1">const Q = Math.abs(outsidePoint.y - insidePoint.y);</span><span class="s3">\n  </span><span class="s1">const R = Math.abs(outsidePoint.x - insidePoint.x);</span><span class="s3">\n  </span><span class="s1">if (Math.abs(y - outsidePoint.y) * w &gt; Math.abs(x - outsidePoint.x) * h) {</span><span class="s3">\n    </span><span class="s1">let q = insidePoint.y &lt; outsidePoint.y ? outsidePoint.y - h - y : y - h - outsidePoint.y;</span><span class="s3">\n    </span><span class="s1">r = R * q / Q;</span><span class="s3">\n    </span><span class="s1">const res = {</span><span class="s3">\n      </span><span class="s1">x: insidePoint.x &lt; outsidePoint.x ? insidePoint.x + r : insidePoint.x - R + r,</span><span class="s3">\n      </span><span class="s1">y: insidePoint.y &lt; outsidePoint.y ? insidePoint.y + Q - q : insidePoint.y - Q + q</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">if (r === 0) {</span><span class="s3">\n      </span><span class="s1">res.x = outsidePoint.x;</span><span class="s3">\n      </span><span class="s1">res.y = outsidePoint.y;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (R === 0) {</span><span class="s3">\n      </span><span class="s1">res.x = outsidePoint.x;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (Q === 0) {</span><span class="s3">\n      </span><span class="s1">res.y = outsidePoint.y;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">log.debug(`abc89 top/bottom calc, Q ${Q}, q ${q}, R ${R}, r ${r}`, res);</span><span class="s3">\n    </span><span class="s1">return res;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">if (insidePoint.x &lt; outsidePoint.x) {</span><span class="s3">\n      </span><span class="s1">r = outsidePoint.x - w - x;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">r = x - w - outsidePoint.x;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">let q = Q * r / R;</span><span class="s3">\n    </span><span class="s1">let _x = insidePoint.x &lt; outsidePoint.x ? insidePoint.x + R - r : insidePoint.x - R + r;</span><span class="s3">\n    </span><span class="s1">let _y = insidePoint.y &lt; outsidePoint.y ? insidePoint.y + q : insidePoint.y - q;</span><span class="s3">\n    </span><span class="s1">log.debug(`sides calc abc89, Q ${Q}, q ${q}, R ${R}, r ${r}`, { _x, _y });</span><span class="s3">\n    </span><span class="s1">if (r === 0) {</span><span class="s3">\n      </span><span class="s1">_x = outsidePoint.x;</span><span class="s3">\n      </span><span class="s1">_y = outsidePoint.y;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (R === 0) {</span><span class="s3">\n      </span><span class="s1">_x = outsidePoint.x;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (Q === 0) {</span><span class="s3">\n      </span><span class="s1">_y = outsidePoint.y;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return { x: _x, y: _y };</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">intersection</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var cutPathAtIntersect = /* @__PURE__ */ __name((_points, boundaryNode) =&gt; {</span><span class="s3">\n  </span><span class="s1">log.warn(</span><span class="s3">\&quot;</span><span class="s1">abc88 cutPathAtIntersect</span><span class="s3">\&quot;</span><span class="s1">, _points, boundaryNode);</span><span class="s3">\n  </span><span class="s1">let points = [];</span><span class="s3">\n  </span><span class="s1">let lastPointOutside = _points[0];</span><span class="s3">\n  </span><span class="s1">let isInside = false;</span><span class="s3">\n  </span><span class="s1">_points.forEach((point2) =&gt; {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">abc88 checking point</span><span class="s3">\&quot;</span><span class="s1">, point2, boundaryNode);</span><span class="s3">\n    </span><span class="s1">if (!outsideNode(boundaryNode, point2) &amp;&amp; !isInside) {</span><span class="s3">\n      </span><span class="s1">const inter = intersection(boundaryNode, lastPointOutside, point2);</span><span class="s3">\n      </span><span class="s1">log.debug(</span><span class="s3">\&quot;</span><span class="s1">abc88 inside</span><span class="s3">\&quot;</span><span class="s1">, point2, lastPointOutside, inter);</span><span class="s3">\n      </span><span class="s1">log.debug(</span><span class="s3">\&quot;</span><span class="s1">abc88 intersection</span><span class="s3">\&quot;</span><span class="s1">, inter, boundaryNode);</span><span class="s3">\n      </span><span class="s1">let pointPresent = false;</span><span class="s3">\n      </span><span class="s1">points.forEach((p) =&gt; {</span><span class="s3">\n        </span><span class="s1">pointPresent = pointPresent || p.x === inter.x &amp;&amp; p.y === inter.y;</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n      </span><span class="s1">if (!points.some((e) =&gt; e.x === inter.x &amp;&amp; e.y === inter.y)) {</span><span class="s3">\n        </span><span class="s1">points.push(inter);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">log.warn(</span><span class="s3">\&quot;</span><span class="s1">abc88 no intersect</span><span class="s3">\&quot;</span><span class="s1">, inter, points);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">isInside = true;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">log.warn(</span><span class="s3">\&quot;</span><span class="s1">abc88 outside</span><span class="s3">\&quot;</span><span class="s1">, point2, lastPointOutside);</span><span class="s3">\n      </span><span class="s1">lastPointOutside = point2;</span><span class="s3">\n      </span><span class="s1">if (!isInside) {</span><span class="s3">\n        </span><span class="s1">points.push(point2);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">log.debug(</span><span class="s3">\&quot;</span><span class="s1">returning points</span><span class="s3">\&quot;</span><span class="s1">, points);</span><span class="s3">\n  </span><span class="s1">return points;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">cutPathAtIntersect</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function extractCornerPoints(points) {</span><span class="s3">\n  </span><span class="s1">const cornerPoints = [];</span><span class="s3">\n  </span><span class="s1">const cornerPointPositions = [];</span><span class="s3">\n  </span><span class="s1">for (let i = 1; i &lt; points.length - 1; i++) {</span><span class="s3">\n    </span><span class="s1">const prev = points[i - 1];</span><span class="s3">\n    </span><span class="s1">const curr = points[i];</span><span class="s3">\n    </span><span class="s1">const next = points[i + 1];</span><span class="s3">\n    </span><span class="s1">if (prev.x === curr.x &amp;&amp; curr.y === next.y &amp;&amp; Math.abs(curr.x - next.x) &gt; 5 &amp;&amp; Math.abs(curr.y - prev.y) &gt; 5) {</span><span class="s3">\n      </span><span class="s1">cornerPoints.push(curr);</span><span class="s3">\n      </span><span class="s1">cornerPointPositions.push(i);</span><span class="s3">\n    </span><span class="s1">} else if (prev.y === curr.y &amp;&amp; curr.x === next.x &amp;&amp; Math.abs(curr.x - prev.x) &gt; 5 &amp;&amp; Math.abs(curr.y - next.y) &gt; 5) {</span><span class="s3">\n      </span><span class="s1">cornerPoints.push(curr);</span><span class="s3">\n      </span><span class="s1">cornerPointPositions.push(i);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return { cornerPoints, cornerPointPositions };</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(extractCornerPoints, </span><span class="s3">\&quot;</span><span class="s1">extractCornerPoints</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var findAdjacentPoint = /* @__PURE__ */ __name(function(pointA, pointB, distance) {</span><span class="s3">\n  </span><span class="s1">const xDiff = pointB.x - pointA.x;</span><span class="s3">\n  </span><span class="s1">const yDiff = pointB.y - pointA.y;</span><span class="s3">\n  </span><span class="s1">const length = Math.sqrt(xDiff * xDiff + yDiff * yDiff);</span><span class="s3">\n  </span><span class="s1">const ratio = distance / length;</span><span class="s3">\n  </span><span class="s1">return { x: pointB.x - ratio * xDiff, y: pointB.y - ratio * yDiff };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">findAdjacentPoint</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var fixCorners = /* @__PURE__ */ __name(function(lineData) {</span><span class="s3">\n  </span><span class="s1">const { cornerPointPositions } = extractCornerPoints(lineData);</span><span class="s3">\n  </span><span class="s1">const newLineData = [];</span><span class="s3">\n  </span><span class="s1">for (let i = 0; i &lt; lineData.length; i++) {</span><span class="s3">\n    </span><span class="s1">if (cornerPointPositions.includes(i)) {</span><span class="s3">\n      </span><span class="s1">const prevPoint = lineData[i - 1];</span><span class="s3">\n      </span><span class="s1">const nextPoint = lineData[i + 1];</span><span class="s3">\n      </span><span class="s1">const cornerPoint = lineData[i];</span><span class="s3">\n      </span><span class="s1">const newPrevPoint = findAdjacentPoint(prevPoint, cornerPoint, 5);</span><span class="s3">\n      </span><span class="s1">const newNextPoint = findAdjacentPoint(nextPoint, cornerPoint, 5);</span><span class="s3">\n      </span><span class="s1">const xDiff = newNextPoint.x - newPrevPoint.x;</span><span class="s3">\n      </span><span class="s1">const yDiff = newNextPoint.y - newPrevPoint.y;</span><span class="s3">\n      </span><span class="s1">newLineData.push(newPrevPoint);</span><span class="s3">\n      </span><span class="s1">const a = Math.sqrt(2) * 2;</span><span class="s3">\n      </span><span class="s1">let newCornerPoint = { x: cornerPoint.x, y: cornerPoint.y };</span><span class="s3">\n      </span><span class="s1">if (Math.abs(nextPoint.x - prevPoint.x) &gt; 10 &amp;&amp; Math.abs(nextPoint.y - prevPoint.y) &gt;= 10) {</span><span class="s3">\n        </span><span class="s1">log.debug(</span><span class="s3">\n          \&quot;</span><span class="s1">Corner point fixing</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">Math.abs(nextPoint.x - prevPoint.x),</span><span class="s3">\n          </span><span class="s1">Math.abs(nextPoint.y - prevPoint.y)</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">const r = 5;</span><span class="s3">\n        </span><span class="s1">if (cornerPoint.x === newPrevPoint.x) {</span><span class="s3">\n          </span><span class="s1">newCornerPoint = {</span><span class="s3">\n            </span><span class="s1">x: xDiff &lt; 0 ? newPrevPoint.x - r + a : newPrevPoint.x + r - a,</span><span class="s3">\n            </span><span class="s1">y: yDiff &lt; 0 ? newPrevPoint.y - a : newPrevPoint.y + a</span><span class="s3">\n          </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">newCornerPoint = {</span><span class="s3">\n            </span><span class="s1">x: xDiff &lt; 0 ? newPrevPoint.x - a : newPrevPoint.x + a,</span><span class="s3">\n            </span><span class="s1">y: yDiff &lt; 0 ? newPrevPoint.y - r + a : newPrevPoint.y + r - a</span><span class="s3">\n          </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">log.debug(</span><span class="s3">\n          \&quot;</span><span class="s1">Corner point skipping fixing</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">Math.abs(nextPoint.x - prevPoint.x),</span><span class="s3">\n          </span><span class="s1">Math.abs(nextPoint.y - prevPoint.y)</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">newLineData.push(newCornerPoint, newNextPoint);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">newLineData.push(lineData[i]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return newLineData;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">fixCorners</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var insertEdge = /* @__PURE__ */ __name(function(elem, edge, clusterDb, diagramType, startNode, endNode, id) {</span><span class="s3">\n  </span><span class="s1">const { handDrawnSeed } = getConfig();</span><span class="s3">\n  </span><span class="s1">let points = edge.points;</span><span class="s3">\n  </span><span class="s1">let pointsHasChanged = false;</span><span class="s3">\n  </span><span class="s1">const tail = startNode;</span><span class="s3">\n  </span><span class="s1">var head = endNode;</span><span class="s3">\n  </span><span class="s1">const edgeClassStyles = [];</span><span class="s3">\n  </span><span class="s1">for (const key in edge.cssCompiledStyles) {</span><span class="s3">\n    </span><span class="s1">if (isLabelStyle(key)) {</span><span class="s3">\n      </span><span class="s1">continue;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">edgeClassStyles.push(edge.cssCompiledStyles[key]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (head.intersect &amp;&amp; tail.intersect) {</span><span class="s3">\n    </span><span class="s1">points = points.slice(1, edge.points.length - 1);</span><span class="s3">\n    </span><span class="s1">points.unshift(tail.intersect(points[0]));</span><span class="s3">\n    </span><span class="s1">log.debug(</span><span class="s3">\n      \&quot;</span><span class="s1">Last point APA12</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">edge.start,</span><span class="s3">\n      \&quot;</span><span class="s1">--&gt;</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">edge.end,</span><span class="s3">\n      </span><span class="s1">points[points.length - 1],</span><span class="s3">\n      </span><span class="s1">head,</span><span class="s3">\n      </span><span class="s1">head.intersect(points[points.length - 1])</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">points.push(head.intersect(points[points.length - 1]));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (edge.toCluster) {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">to cluster abc88</span><span class="s3">\&quot;</span><span class="s1">, clusterDb.get(edge.toCluster));</span><span class="s3">\n    </span><span class="s1">points = cutPathAtIntersect(edge.points, clusterDb.get(edge.toCluster).node);</span><span class="s3">\n    </span><span class="s1">pointsHasChanged = true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (edge.fromCluster) {</span><span class="s3">\n    </span><span class="s1">log.debug(</span><span class="s3">\n      \&quot;</span><span class="s1">from cluster abc88</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">clusterDb.get(edge.fromCluster),</span><span class="s3">\n      </span><span class="s1">JSON.stringify(points, null, 2)</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">points = cutPathAtIntersect(points.reverse(), clusterDb.get(edge.fromCluster).node).reverse();</span><span class="s3">\n    </span><span class="s1">pointsHasChanged = true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let lineData = points.filter((p) =&gt; !Number.isNaN(p.y));</span><span class="s3">\n  </span><span class="s1">lineData = fixCorners(lineData);</span><span class="s3">\n  </span><span class="s1">let curve = curveBasis;</span><span class="s3">\n  </span><span class="s1">curve = curveLinear;</span><span class="s3">\n  </span><span class="s1">switch (edge.curve) {</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">linear</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">curve = curveLinear;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">basis</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">curve = curveBasis;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">cardinal</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">curve = curveCardinal;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">bumpX</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">curve = curveBumpX;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">bumpY</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">curve = curveBumpY;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">catmullRom</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">curve = curveCatmullRom;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">monotoneX</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">curve = curveMonotoneX;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">monotoneY</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">curve = curveMonotoneY;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">natural</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">curve = curveNatural;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">step</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">curve = curveStep;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">stepAfter</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">curve = curveStepAfter;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">stepBefore</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">curve = curveStepBefore;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">default:</span><span class="s3">\n      </span><span class="s1">curve = curveBasis;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const { x, y } = getLineFunctionsWithOffset(edge);</span><span class="s3">\n  </span><span class="s1">const lineFunction = line().x(x).y(y).curve(curve);</span><span class="s3">\n  </span><span class="s1">let strokeClasses;</span><span class="s3">\n  </span><span class="s1">switch (edge.thickness) {</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">strokeClasses = </span><span class="s3">\&quot;</span><span class="s1">edge-thickness-normal</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">thick</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">strokeClasses = </span><span class="s3">\&quot;</span><span class="s1">edge-thickness-thick</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">invisible</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">strokeClasses = </span><span class="s3">\&quot;</span><span class="s1">edge-thickness-invisible</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">default:</span><span class="s3">\n      </span><span class="s1">strokeClasses = </span><span class="s3">\&quot;</span><span class="s1">edge-thickness-normal</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">switch (edge.pattern) {</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">strokeClasses += </span><span class="s3">\&quot; </span><span class="s1">edge-pattern-solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">dotted</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">strokeClasses += </span><span class="s3">\&quot; </span><span class="s1">edge-pattern-dotted</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">dashed</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n      </span><span class="s1">strokeClasses += </span><span class="s3">\&quot; </span><span class="s1">edge-pattern-dashed</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">default:</span><span class="s3">\n      </span><span class="s1">strokeClasses += </span><span class="s3">\&quot; </span><span class="s1">edge-pattern-solid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let svgPath;</span><span class="s3">\n  </span><span class="s1">let linePath = lineFunction(lineData);</span><span class="s3">\n  </span><span class="s1">const edgeStyles = Array.isArray(edge.style) ? edge.style : [edge.style];</span><span class="s3">\n  </span><span class="s1">let strokeColor = edgeStyles.find((style) =&gt; style?.startsWith(</span><span class="s3">\&quot;</span><span class="s1">stroke:</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">if (edge.look === </span><span class="s3">\&quot;</span><span class="s1">handDrawn</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const rc = rough.svg(elem);</span><span class="s3">\n    </span><span class="s1">Object.assign([], lineData);</span><span class="s3">\n    </span><span class="s1">const svgPathNode = rc.path(linePath, {</span><span class="s3">\n      </span><span class="s1">roughness: 0.3,</span><span class="s3">\n      </span><span class="s1">seed: handDrawnSeed</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">strokeClasses += </span><span class="s3">\&quot; </span><span class="s1">transition</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">svgPath = select(svgPathNode).select(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, edge.id).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ strokeClasses + (edge.classes ? </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ edge.classes : </span><span class="s3">\&quot;\&quot;</span><span class="s1">)).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, edgeStyles ? edgeStyles.reduce((acc, style) =&gt; acc + </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot; </span><span class="s1">+ style, </span><span class="s3">\&quot;\&quot;</span><span class="s1">) : </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">let d = svgPath.attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">svgPath.attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, d);</span><span class="s3">\n    </span><span class="s1">elem.node().appendChild(svgPath.node());</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">const stylesFromClasses = edgeClassStyles.join(</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const styles = edgeStyles ? edgeStyles.reduce((acc, style) =&gt; acc + style + </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">) : </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">let animationClass = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">if (edge.animate) {</span><span class="s3">\n      </span><span class="s1">animationClass = </span><span class="s3">\&quot; </span><span class="s1">edge-animation-fast</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (edge.animation) {</span><span class="s3">\n      </span><span class="s1">animationClass = </span><span class="s3">\&quot; </span><span class="s1">edge-animation-</span><span class="s3">\&quot; </span><span class="s1">+ edge.animation;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const pathStyle = stylesFromClasses ? stylesFromClasses + </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot; </span><span class="s1">+ styles + </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot; </span><span class="s1">: styles;</span><span class="s3">\n    </span><span class="s1">svgPath = elem.append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, linePath).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, edge.id).attr(</span><span class="s3">\n      \&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot; \&quot; </span><span class="s1">+ strokeClasses + (edge.classes ? </span><span class="s3">\&quot; \&quot; </span><span class="s1">+ edge.classes : </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + (animationClass ?? </span><span class="s3">\&quot;\&quot;</span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, pathStyle);</span><span class="s3">\n    </span><span class="s1">strokeColor = pathStyle.match(/stroke:([^;]+)/)?.[1];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let url = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">if (getConfig().flowchart.arrowMarkerAbsolute || getConfig().state.arrowMarkerAbsolute) {</span><span class="s3">\n    </span><span class="s1">url = window.location.protocol + </span><span class="s3">\&quot;</span><span class="s1">//</span><span class="s3">\&quot; </span><span class="s1">+ window.location.host + window.location.pathname + window.location.search;</span><span class="s3">\n    </span><span class="s1">url = url.replace(/</span><span class="s3">\\</span><span class="s1">(/g, </span><span class="s3">\&quot;\\\\</span><span class="s1">(</span><span class="s3">\&quot;</span><span class="s1">).replace(/</span><span class="s3">\\</span><span class="s1">)/g, </span><span class="s3">\&quot;\\\\</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">arrowTypeStart</span><span class="s3">\&quot;</span><span class="s1">, edge.arrowTypeStart);</span><span class="s3">\n  </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">arrowTypeEnd</span><span class="s3">\&quot;</span><span class="s1">, edge.arrowTypeEnd);</span><span class="s3">\n  </span><span class="s1">addEdgeMarkers(svgPath, edge, url, id, diagramType, strokeColor);</span><span class="s3">\n  </span><span class="s1">let paths = {};</span><span class="s3">\n  </span><span class="s1">if (pointsHasChanged) {</span><span class="s3">\n    </span><span class="s1">paths.updatedPath = points;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">paths.originalPath = edge.points;</span><span class="s3">\n  </span><span class="s1">return paths;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">insertEdge</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/rendering-elements/markers.js</span><span class="s3">\n</span><span class="s1">var insertMarkers = /* @__PURE__ */ __name((elem, markerArray, type, id) =&gt; {</span><span class="s3">\n  </span><span class="s1">markerArray.forEach((markerName) =&gt; {</span><span class="s3">\n    </span><span class="s1">markers[markerName](elem, type, id);</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">insertMarkers</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var extension = /* @__PURE__ */ __name((elem, type, id) =&gt; {</span><span class="s3">\n  </span><span class="s1">log.trace(</span><span class="s3">\&quot;</span><span class="s1">Making markers for </span><span class="s3">\&quot;</span><span class="s1">, id);</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-extensionStart</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker extension </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 18).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 7).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 190).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 240).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M 1,7 L18,13 V 1 Z</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-extensionEnd</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker extension </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 1).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 7).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 20).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 28).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M 1,1 V 13 L18,7 Z</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">extension</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var composition = /* @__PURE__ */ __name((elem, type, id) =&gt; {</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-compositionStart</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker composition </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 18).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 7).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 190).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 240).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M 18,7 L9,13 L1,7 L9,1 Z</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-compositionEnd</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker composition </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 1).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 7).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 20).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 28).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M 18,7 L9,13 L1,7 L9,1 Z</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">composition</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var aggregation = /* @__PURE__ */ __name((elem, type, id) =&gt; {</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-aggregationStart</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker aggregation </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 18).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 7).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 190).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 240).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M 18,7 L9,13 L1,7 L9,1 Z</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-aggregationEnd</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker aggregation </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 1).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 7).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 20).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 28).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M 18,7 L9,13 L1,7 L9,1 Z</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">aggregation</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var dependency = /* @__PURE__ */ __name((elem, type, id) =&gt; {</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-dependencyStart</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker dependency </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 6).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 7).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 190).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 240).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M 5,7 L9,13 L1,7 L9,1 Z</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-dependencyEnd</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker dependency </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 13).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 7).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 20).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 28).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M 18,7 L9,13 L14,7 L9,1 Z</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">dependency</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var lollipop = /* @__PURE__ */ __name((elem, type, id) =&gt; {</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-lollipopStart</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker lollipop </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 13).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 7).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 190).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 240).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">stroke</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">transparent</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">cx</span><span class="s3">\&quot;</span><span class="s1">, 7).attr(</span><span class="s3">\&quot;</span><span class="s1">cy</span><span class="s3">\&quot;</span><span class="s1">, 7).attr(</span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">, 6);</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-lollipopEnd</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker lollipop </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 1).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 7).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 190).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 240).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">stroke</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">transparent</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">cx</span><span class="s3">\&quot;</span><span class="s1">, 7).attr(</span><span class="s3">\&quot;</span><span class="s1">cy</span><span class="s3">\&quot;</span><span class="s1">, 7).attr(</span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">, 6);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">lollipop</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var point = /* @__PURE__ */ __name((elem, type, id) =&gt; {</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-pointEnd</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">viewBox</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0 0 10 10</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 5).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 5).attr(</span><span class="s3">\&quot;</span><span class="s1">markerUnits</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">userSpaceOnUse</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 8).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 8).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M 0 0 L 10 5 L 0 10 z</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">arrowMarkerPath</span><span class="s3">\&quot;</span><span class="s1">).style(</span><span class="s3">\&quot;</span><span class="s1">stroke-width</span><span class="s3">\&quot;</span><span class="s1">, 1).style(</span><span class="s3">\&quot;</span><span class="s1">stroke-dasharray</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">1,0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-pointStart</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">viewBox</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0 0 10 10</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 4.5).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 5).attr(</span><span class="s3">\&quot;</span><span class="s1">markerUnits</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">userSpaceOnUse</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 8).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 8).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M 0 5 L 10 10 L 10 0 z</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">arrowMarkerPath</span><span class="s3">\&quot;</span><span class="s1">).style(</span><span class="s3">\&quot;</span><span class="s1">stroke-width</span><span class="s3">\&quot;</span><span class="s1">, 1).style(</span><span class="s3">\&quot;</span><span class="s1">stroke-dasharray</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">1,0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">point</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var circle = /* @__PURE__ */ __name((elem, type, id) =&gt; {</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-circleEnd</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">viewBox</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0 0 10 10</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 11).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 5).attr(</span><span class="s3">\&quot;</span><span class="s1">markerUnits</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">userSpaceOnUse</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 11).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 11).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">cx</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">5</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">cy</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">5</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">5</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">arrowMarkerPath</span><span class="s3">\&quot;</span><span class="s1">).style(</span><span class="s3">\&quot;</span><span class="s1">stroke-width</span><span class="s3">\&quot;</span><span class="s1">, 1).style(</span><span class="s3">\&quot;</span><span class="s1">stroke-dasharray</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">1,0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-circleStart</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">viewBox</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0 0 10 10</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, -1).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 5).attr(</span><span class="s3">\&quot;</span><span class="s1">markerUnits</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">userSpaceOnUse</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 11).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 11).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">cx</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">5</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">cy</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">5</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">5</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">arrowMarkerPath</span><span class="s3">\&quot;</span><span class="s1">).style(</span><span class="s3">\&quot;</span><span class="s1">stroke-width</span><span class="s3">\&quot;</span><span class="s1">, 1).style(</span><span class="s3">\&quot;</span><span class="s1">stroke-dasharray</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">1,0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var cross = /* @__PURE__ */ __name((elem, type, id) =&gt; {</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-crossEnd</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker cross </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">viewBox</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0 0 11 11</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 12).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 5.2).attr(</span><span class="s3">\&quot;</span><span class="s1">markerUnits</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">userSpaceOnUse</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 11).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 11).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M 1,1 l 9,9 M 10,1 l -9,9</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">arrowMarkerPath</span><span class="s3">\&quot;</span><span class="s1">).style(</span><span class="s3">\&quot;</span><span class="s1">stroke-width</span><span class="s3">\&quot;</span><span class="s1">, 2).style(</span><span class="s3">\&quot;</span><span class="s1">stroke-dasharray</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">1,0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-crossStart</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker cross </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">viewBox</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0 0 11 11</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, -1).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 5.2).attr(</span><span class="s3">\&quot;</span><span class="s1">markerUnits</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">userSpaceOnUse</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 11).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 11).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M 1,1 l 9,9 M 10,1 l -9,9</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">arrowMarkerPath</span><span class="s3">\&quot;</span><span class="s1">).style(</span><span class="s3">\&quot;</span><span class="s1">stroke-width</span><span class="s3">\&quot;</span><span class="s1">, 2).style(</span><span class="s3">\&quot;</span><span class="s1">stroke-dasharray</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">1,0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">cross</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var barb = /* @__PURE__ */ __name((elem, type, id) =&gt; {</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-barbEnd</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 19).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 7).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 20).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 14).attr(</span><span class="s3">\&quot;</span><span class="s1">markerUnits</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">userSpaceOnUse</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M 19,7 L9,13 L14,7 L9,1 Z</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">barb</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var only_one = /* @__PURE__ */ __name((elem, type, id) =&gt; {</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-onlyOneStart</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker onlyOne </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 0).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 9).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 18).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 18).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M9,0 L9,18 M15,0 L15,18</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-onlyOneEnd</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker onlyOne </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 18).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 9).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 18).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 18).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M3,0 L3,18 M9,0 L9,18</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">only_one</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var zero_or_one = /* @__PURE__ */ __name((elem, type, id) =&gt; {</span><span class="s3">\n  </span><span class="s1">const startMarker = elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-zeroOrOneStart</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker zeroOrOne </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 0).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 9).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 30).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 18).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">startMarker.append(</span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">white</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">cx</span><span class="s3">\&quot;</span><span class="s1">, 21).attr(</span><span class="s3">\&quot;</span><span class="s1">cy</span><span class="s3">\&quot;</span><span class="s1">, 9).attr(</span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">, 6);</span><span class="s3">\n  </span><span class="s1">startMarker.append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M9,0 L9,18</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const endMarker = elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-zeroOrOneEnd</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker zeroOrOne </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 30).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 9).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 30).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 18).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">endMarker.append(</span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">white</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">cx</span><span class="s3">\&quot;</span><span class="s1">, 9).attr(</span><span class="s3">\&quot;</span><span class="s1">cy</span><span class="s3">\&quot;</span><span class="s1">, 9).attr(</span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">, 6);</span><span class="s3">\n  </span><span class="s1">endMarker.append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M21,0 L21,18</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">zero_or_one</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var one_or_more = /* @__PURE__ */ __name((elem, type, id) =&gt; {</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-oneOrMoreStart</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker oneOrMore </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 18).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 18).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 45).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 36).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-oneOrMoreEnd</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker oneOrMore </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 27).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 18).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 45).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 36).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">one_or_more</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var zero_or_more = /* @__PURE__ */ __name((elem, type, id) =&gt; {</span><span class="s3">\n  </span><span class="s1">const startMarker = elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-zeroOrMoreStart</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker zeroOrMore </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 18).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 18).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 57).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 36).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">startMarker.append(</span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">white</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">cx</span><span class="s3">\&quot;</span><span class="s1">, 48).attr(</span><span class="s3">\&quot;</span><span class="s1">cy</span><span class="s3">\&quot;</span><span class="s1">, 18).attr(</span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">, 6);</span><span class="s3">\n  </span><span class="s1">startMarker.append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M0,18 Q18,0 36,18 Q18,36 0,18</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const endMarker = elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-zeroOrMoreEnd</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">marker zeroOrMore </span><span class="s3">\&quot; </span><span class="s1">+ type).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 39).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 18).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 57).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 36).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">endMarker.append(</span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">white</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">cx</span><span class="s3">\&quot;</span><span class="s1">, 9).attr(</span><span class="s3">\&quot;</span><span class="s1">cy</span><span class="s3">\&quot;</span><span class="s1">, 18).attr(</span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">, 6);</span><span class="s3">\n  </span><span class="s1">endMarker.append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">M21,18 Q39,0 57,18 Q39,36 21,18</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">zero_or_more</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var requirement_arrow = /* @__PURE__ */ __name((elem, type, id) =&gt; {</span><span class="s3">\n  </span><span class="s1">elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-requirement_arrowEnd</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 20).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 10).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 20).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 20).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\n    \&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">`M0,0</span><span class="s3">\n      </span><span class="s1">L20,10</span><span class="s3">\n      </span><span class="s1">M20,10</span><span class="s3">\n      </span><span class="s1">L0,20`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">requirement_arrow</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var requirement_contains = /* @__PURE__ */ __name((elem, type, id) =&gt; {</span><span class="s3">\n  </span><span class="s1">const containsNode = elem.append(</span><span class="s3">\&quot;</span><span class="s1">defs</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">marker</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id + </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot; </span><span class="s1">+ type + </span><span class="s3">\&quot;</span><span class="s1">-requirement_containsStart</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">refX</span><span class="s3">\&quot;</span><span class="s1">, 0).attr(</span><span class="s3">\&quot;</span><span class="s1">refY</span><span class="s3">\&quot;</span><span class="s1">, 10).attr(</span><span class="s3">\&quot;</span><span class="s1">markerWidth</span><span class="s3">\&quot;</span><span class="s1">, 20).attr(</span><span class="s3">\&quot;</span><span class="s1">markerHeight</span><span class="s3">\&quot;</span><span class="s1">, 20).attr(</span><span class="s3">\&quot;</span><span class="s1">orient</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">).append(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">containsNode.append(</span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">cx</span><span class="s3">\&quot;</span><span class="s1">, 10).attr(</span><span class="s3">\&quot;</span><span class="s1">cy</span><span class="s3">\&quot;</span><span class="s1">, 10).attr(</span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">, 9).attr(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">containsNode.append(</span><span class="s3">\&quot;</span><span class="s1">line</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">x1</span><span class="s3">\&quot;</span><span class="s1">, 1).attr(</span><span class="s3">\&quot;</span><span class="s1">x2</span><span class="s3">\&quot;</span><span class="s1">, 19).attr(</span><span class="s3">\&quot;</span><span class="s1">y1</span><span class="s3">\&quot;</span><span class="s1">, 10).attr(</span><span class="s3">\&quot;</span><span class="s1">y2</span><span class="s3">\&quot;</span><span class="s1">, 10);</span><span class="s3">\n  </span><span class="s1">containsNode.append(</span><span class="s3">\&quot;</span><span class="s1">line</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">y1</span><span class="s3">\&quot;</span><span class="s1">, 1).attr(</span><span class="s3">\&quot;</span><span class="s1">y2</span><span class="s3">\&quot;</span><span class="s1">, 19).attr(</span><span class="s3">\&quot;</span><span class="s1">x1</span><span class="s3">\&quot;</span><span class="s1">, 10).attr(</span><span class="s3">\&quot;</span><span class="s1">x2</span><span class="s3">\&quot;</span><span class="s1">, 10);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">requirement_contains</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var markers = {</span><span class="s3">\n  </span><span class="s1">extension,</span><span class="s3">\n  </span><span class="s1">composition,</span><span class="s3">\n  </span><span class="s1">aggregation,</span><span class="s3">\n  </span><span class="s1">dependency,</span><span class="s3">\n  </span><span class="s1">lollipop,</span><span class="s3">\n  </span><span class="s1">point,</span><span class="s3">\n  </span><span class="s1">circle,</span><span class="s3">\n  </span><span class="s1">cross,</span><span class="s3">\n  </span><span class="s1">barb,</span><span class="s3">\n  </span><span class="s1">only_one,</span><span class="s3">\n  </span><span class="s1">zero_or_one,</span><span class="s3">\n  </span><span class="s1">one_or_more,</span><span class="s3">\n  </span><span class="s1">zero_or_more,</span><span class="s3">\n  </span><span class="s1">requirement_arrow,</span><span class="s3">\n  </span><span class="s1">requirement_contains</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var markers_default = insertMarkers;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">clear,</span><span class="s3">\n  </span><span class="s1">insertEdgeLabel,</span><span class="s3">\n  </span><span class="s1">positionEdgeLabel,</span><span class="s3">\n  </span><span class="s1">insertEdge,</span><span class="s3">\n  </span><span class="s1">markers_default</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {</span><span class="s3">\n  </span><span class="s1">__name</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-YTJNT7DU.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/utils/subGraphTitleMargins.ts</span><span class="s3">\n</span><span class="s1">var getSubGraphTitleMargins = /* @__PURE__ */ __name(({</span><span class="s3">\n  </span><span class="s1">flowchart</span><span class="s3">\n</span><span class="s1">}) =&gt; {</span><span class="s3">\n  </span><span class="s1">const subGraphTitleTopMargin = flowchart?.subGraphTitleMargin?.top ?? 0;</span><span class="s3">\n  </span><span class="s1">const subGraphTitleBottomMargin = flowchart?.subGraphTitleMargin?.bottom ?? 0;</span><span class="s3">\n  </span><span class="s1">const subGraphTitleTotalMargin = subGraphTitleTopMargin + subGraphTitleBottomMargin;</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">subGraphTitleTopMargin,</span><span class="s3">\n    </span><span class="s1">subGraphTitleBottomMargin,</span><span class="s3">\n    </span><span class="s1">subGraphTitleTotalMargin</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getSubGraphTitleMargins</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">getSubGraphTitleMargins</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {</span><span class="s3">\n  </span><span class="s1">__name,</span><span class="s3">\n  </span><span class="s1">assignWithDepth_default,</span><span class="s3">\n  </span><span class="s1">common_default,</span><span class="s3">\n  </span><span class="s1">detectType,</span><span class="s3">\n  </span><span class="s1">directiveRegex,</span><span class="s3">\n  </span><span class="s1">log,</span><span class="s3">\n  </span><span class="s1">sanitizeDirective</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-YTJNT7DU.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/utils.ts</span><span class="s3">\n</span><span class="s1">import { sanitizeUrl } from </span><span class="s3">\&quot;</span><span class="s1">@braintree/sanitize-url</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">curveBasis,</span><span class="s3">\n  </span><span class="s1">curveBasisClosed,</span><span class="s3">\n  </span><span class="s1">curveBasisOpen,</span><span class="s3">\n  </span><span class="s1">curveBumpX,</span><span class="s3">\n  </span><span class="s1">curveBumpY,</span><span class="s3">\n  </span><span class="s1">curveBundle,</span><span class="s3">\n  </span><span class="s1">curveCardinalClosed,</span><span class="s3">\n  </span><span class="s1">curveCardinalOpen,</span><span class="s3">\n  </span><span class="s1">curveCardinal,</span><span class="s3">\n  </span><span class="s1">curveCatmullRomClosed,</span><span class="s3">\n  </span><span class="s1">curveCatmullRomOpen,</span><span class="s3">\n  </span><span class="s1">curveCatmullRom,</span><span class="s3">\n  </span><span class="s1">curveLinear,</span><span class="s3">\n  </span><span class="s1">curveLinearClosed,</span><span class="s3">\n  </span><span class="s1">curveMonotoneX,</span><span class="s3">\n  </span><span class="s1">curveMonotoneY,</span><span class="s3">\n  </span><span class="s1">curveNatural,</span><span class="s3">\n  </span><span class="s1">curveStep,</span><span class="s3">\n  </span><span class="s1">curveStepAfter,</span><span class="s3">\n  </span><span class="s1">curveStepBefore,</span><span class="s3">\n  </span><span class="s1">select</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">d3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import memoize from </span><span class="s3">\&quot;</span><span class="s1">lodash-es/memoize.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import merge from </span><span class="s3">\&quot;</span><span class="s1">lodash-es/merge.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var ZERO_WIDTH_SPACE = </span><span class="s3">\&quot;\\</span><span class="s1">u200B</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var d3CurveTypes = {</span><span class="s3">\n  </span><span class="s1">curveBasis,</span><span class="s3">\n  </span><span class="s1">curveBasisClosed,</span><span class="s3">\n  </span><span class="s1">curveBasisOpen,</span><span class="s3">\n  </span><span class="s1">curveBumpX,</span><span class="s3">\n  </span><span class="s1">curveBumpY,</span><span class="s3">\n  </span><span class="s1">curveBundle,</span><span class="s3">\n  </span><span class="s1">curveCardinalClosed,</span><span class="s3">\n  </span><span class="s1">curveCardinalOpen,</span><span class="s3">\n  </span><span class="s1">curveCardinal,</span><span class="s3">\n  </span><span class="s1">curveCatmullRomClosed,</span><span class="s3">\n  </span><span class="s1">curveCatmullRomOpen,</span><span class="s3">\n  </span><span class="s1">curveCatmullRom,</span><span class="s3">\n  </span><span class="s1">curveLinear,</span><span class="s3">\n  </span><span class="s1">curveLinearClosed,</span><span class="s3">\n  </span><span class="s1">curveMonotoneX,</span><span class="s3">\n  </span><span class="s1">curveMonotoneY,</span><span class="s3">\n  </span><span class="s1">curveNatural,</span><span class="s3">\n  </span><span class="s1">curveStep,</span><span class="s3">\n  </span><span class="s1">curveStepAfter,</span><span class="s3">\n  </span><span class="s1">curveStepBefore</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var directiveWithoutOpen = /</span><span class="s3">\\</span><span class="s1">s*(?:(</span><span class="s3">\\</span><span class="s1">w+)(?=:):|(</span><span class="s3">\\</span><span class="s1">w+))</span><span class="s3">\\</span><span class="s1">s*(?:(</span><span class="s3">\\</span><span class="s1">w+)|((?:(?!}%{2}).|</span><span class="s3">\\</span><span class="s1">r?</span><span class="s3">\\</span><span class="s1">n)*))?</span><span class="s3">\\</span><span class="s1">s*(?:}%{2})?/gi;</span><span class="s3">\n</span><span class="s1">var detectInit = /* @__PURE__ */ __name(function(text, config) {</span><span class="s3">\n  </span><span class="s1">const inits = detectDirective(text, /(?:init</span><span class="s3">\\</span><span class="s1">b)|(?:initialize</span><span class="s3">\\</span><span class="s1">b)/);</span><span class="s3">\n  </span><span class="s1">let results = {};</span><span class="s3">\n  </span><span class="s1">if (Array.isArray(inits)) {</span><span class="s3">\n    </span><span class="s1">const args = inits.map((init) =&gt; init.args);</span><span class="s3">\n    </span><span class="s1">sanitizeDirective(args);</span><span class="s3">\n    </span><span class="s1">results = assignWithDepth_default(results, [...args]);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">results = inits.args;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (!results) {</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let type = detectType(text, config);</span><span class="s3">\n  </span><span class="s1">const prop = </span><span class="s3">\&quot;</span><span class="s1">config</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">if (results[prop] !== void 0) {</span><span class="s3">\n    </span><span class="s1">if (type === </span><span class="s3">\&quot;</span><span class="s1">flowchart-v2</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">type = </span><span class="s3">\&quot;</span><span class="s1">flowchart</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">results[type] = results[prop];</span><span class="s3">\n    </span><span class="s1">delete results[prop];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return results;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detectInit</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var detectDirective = /* @__PURE__ */ __name(function(text, type = null) {</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">const commentWithoutDirectives = new RegExp(</span><span class="s3">\n      </span><span class="s1">`[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*</span><span class="s3">\n</span><span class="s1">`,</span><span class="s3">\n      \&quot;</span><span class="s1">ig</span><span class="s3">\&quot;\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">text = text.trim().replace(commentWithoutDirectives, </span><span class="s3">\&quot;\&quot;</span><span class="s1">).replace(/'/gm, '</span><span class="s3">\&quot;</span><span class="s1">');</span><span class="s3">\n    </span><span class="s1">log.debug(</span><span class="s3">\n      </span><span class="s1">`Detecting diagram directive${type !== null ? </span><span class="s3">\&quot; </span><span class="s1">type:</span><span class="s3">\&quot; </span><span class="s1">+ type : </span><span class="s3">\&quot;\&quot;</span><span class="s1">} based on the text:${text}`</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">let match;</span><span class="s3">\n    </span><span class="s1">const result = [];</span><span class="s3">\n    </span><span class="s1">while ((match = directiveRegex.exec(text)) !== null) {</span><span class="s3">\n      </span><span class="s1">if (match.index === directiveRegex.lastIndex) {</span><span class="s3">\n        </span><span class="s1">directiveRegex.lastIndex++;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (match &amp;&amp; !type || type &amp;&amp; match[1]?.match(type) || type &amp;&amp; match[2]?.match(type)) {</span><span class="s3">\n        </span><span class="s1">const type2 = match[1] ? match[1] : match[2];</span><span class="s3">\n        </span><span class="s1">const args = match[3] ? match[3].trim() : match[4] ? JSON.parse(match[4].trim()) : null;</span><span class="s3">\n        </span><span class="s1">result.push({ type: type2, args });</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (result.length === 0) {</span><span class="s3">\n      </span><span class="s1">return { type: text, args: null };</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return result.length === 1 ? result[0] : result;</span><span class="s3">\n  </span><span class="s1">} catch (error) {</span><span class="s3">\n    </span><span class="s1">log.error(</span><span class="s3">\n      </span><span class="s1">`ERROR: ${error.message} - Unable to parse directive type: '${type}' based on the text: '${text}'`</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return { type: void 0, args: null };</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detectDirective</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var removeDirectives = /* @__PURE__ */ __name(function(text) {</span><span class="s3">\n  </span><span class="s1">return text.replace(directiveRegex, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">removeDirectives</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var isSubstringInArray = /* @__PURE__ */ __name(function(str, arr) {</span><span class="s3">\n  </span><span class="s1">for (const [i, element] of arr.entries()) {</span><span class="s3">\n    </span><span class="s1">if (element.match(str)) {</span><span class="s3">\n      </span><span class="s1">return i;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return -1;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">isSubstringInArray</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function interpolateToCurve(interpolate, defaultCurve) {</span><span class="s3">\n  </span><span class="s1">if (!interpolate) {</span><span class="s3">\n    </span><span class="s1">return defaultCurve;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const curveName = `curve${interpolate.charAt(0).toUpperCase() + interpolate.slice(1)}`;</span><span class="s3">\n  </span><span class="s1">return d3CurveTypes[curveName] ?? defaultCurve;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(interpolateToCurve, </span><span class="s3">\&quot;</span><span class="s1">interpolateToCurve</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function formatUrl(linkStr, config) {</span><span class="s3">\n  </span><span class="s1">const url = linkStr.trim();</span><span class="s3">\n  </span><span class="s1">if (!url) {</span><span class="s3">\n    </span><span class="s1">return void 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (config.securityLevel !== </span><span class="s3">\&quot;</span><span class="s1">loose</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return sanitizeUrl(url);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return url;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(formatUrl, </span><span class="s3">\&quot;</span><span class="s1">formatUrl</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var runFunc = /* @__PURE__ */ __name((functionName, ...params) =&gt; {</span><span class="s3">\n  </span><span class="s1">const arrPaths = functionName.split(</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const len = arrPaths.length - 1;</span><span class="s3">\n  </span><span class="s1">const fnName = arrPaths[len];</span><span class="s3">\n  </span><span class="s1">let obj = window;</span><span class="s3">\n  </span><span class="s1">for (let i = 0; i &lt; len; i++) {</span><span class="s3">\n    </span><span class="s1">obj = obj[arrPaths[i]];</span><span class="s3">\n    </span><span class="s1">if (!obj) {</span><span class="s3">\n      </span><span class="s1">log.error(`Function name: ${functionName} not found in window`);</span><span class="s3">\n      </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">obj[fnName](...params);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">runFunc</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function distance(p1, p2) {</span><span class="s3">\n  </span><span class="s1">if (!p1 || !p2) {</span><span class="s3">\n    </span><span class="s1">return 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(distance, </span><span class="s3">\&quot;</span><span class="s1">distance</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function traverseEdge(points) {</span><span class="s3">\n  </span><span class="s1">let prevPoint;</span><span class="s3">\n  </span><span class="s1">let totalDistance = 0;</span><span class="s3">\n  </span><span class="s1">points.forEach((point) =&gt; {</span><span class="s3">\n    </span><span class="s1">totalDistance += distance(point, prevPoint);</span><span class="s3">\n    </span><span class="s1">prevPoint = point;</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">const remainingDistance = totalDistance / 2;</span><span class="s3">\n  </span><span class="s1">return calculatePoint(points, remainingDistance);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(traverseEdge, </span><span class="s3">\&quot;</span><span class="s1">traverseEdge</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function calcLabelPosition(points) {</span><span class="s3">\n  </span><span class="s1">if (points.length === 1) {</span><span class="s3">\n    </span><span class="s1">return points[0];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return traverseEdge(points);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(calcLabelPosition, </span><span class="s3">\&quot;</span><span class="s1">calcLabelPosition</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var roundNumber = /* @__PURE__ */ __name((num, precision = 2) =&gt; {</span><span class="s3">\n  </span><span class="s1">const factor = Math.pow(10, precision);</span><span class="s3">\n  </span><span class="s1">return Math.round(num * factor) / factor;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">roundNumber</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var calculatePoint = /* @__PURE__ */ __name((points, distanceToTraverse) =&gt; {</span><span class="s3">\n  </span><span class="s1">let prevPoint = void 0;</span><span class="s3">\n  </span><span class="s1">let remainingDistance = distanceToTraverse;</span><span class="s3">\n  </span><span class="s1">for (const point of points) {</span><span class="s3">\n    </span><span class="s1">if (prevPoint) {</span><span class="s3">\n      </span><span class="s1">const vectorDistance = distance(point, prevPoint);</span><span class="s3">\n      </span><span class="s1">if (vectorDistance === 0) {</span><span class="s3">\n        </span><span class="s1">return prevPoint;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (vectorDistance &lt; remainingDistance) {</span><span class="s3">\n        </span><span class="s1">remainingDistance -= vectorDistance;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">const distanceRatio = remainingDistance / vectorDistance;</span><span class="s3">\n        </span><span class="s1">if (distanceRatio &lt;= 0) {</span><span class="s3">\n          </span><span class="s1">return prevPoint;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (distanceRatio &gt;= 1) {</span><span class="s3">\n          </span><span class="s1">return { x: point.x, y: point.y };</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (distanceRatio &gt; 0 &amp;&amp; distanceRatio &lt; 1) {</span><span class="s3">\n          </span><span class="s1">return {</span><span class="s3">\n            </span><span class="s1">x: roundNumber((1 - distanceRatio) * prevPoint.x + distanceRatio * point.x, 5),</span><span class="s3">\n            </span><span class="s1">y: roundNumber((1 - distanceRatio) * prevPoint.y + distanceRatio * point.y, 5)</span><span class="s3">\n          </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">prevPoint = point;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Could not find a suitable point for the given distance</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">calculatePoint</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var calcCardinalityPosition = /* @__PURE__ */ __name((isRelationTypePresent, points, initialPosition) =&gt; {</span><span class="s3">\n  </span><span class="s1">log.info(`our points ${JSON.stringify(points)}`);</span><span class="s3">\n  </span><span class="s1">if (points[0] !== initialPosition) {</span><span class="s3">\n    </span><span class="s1">points = points.reverse();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const distanceToCardinalityPoint = 25;</span><span class="s3">\n  </span><span class="s1">const center = calculatePoint(points, distanceToCardinalityPoint);</span><span class="s3">\n  </span><span class="s1">const d = isRelationTypePresent ? 10 : 5;</span><span class="s3">\n  </span><span class="s1">const angle = Math.atan2(points[0].y - center.y, points[0].x - center.x);</span><span class="s3">\n  </span><span class="s1">const cardinalityPosition = { x: 0, y: 0 };</span><span class="s3">\n  </span><span class="s1">cardinalityPosition.x = Math.sin(angle) * d + (points[0].x + center.x) / 2;</span><span class="s3">\n  </span><span class="s1">cardinalityPosition.y = -Math.cos(angle) * d + (points[0].y + center.y) / 2;</span><span class="s3">\n  </span><span class="s1">return cardinalityPosition;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">calcCardinalityPosition</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function calcTerminalLabelPosition(terminalMarkerSize, position, _points) {</span><span class="s3">\n  </span><span class="s1">const points = structuredClone(_points);</span><span class="s3">\n  </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">our points</span><span class="s3">\&quot;</span><span class="s1">, points);</span><span class="s3">\n  </span><span class="s1">if (position !== </span><span class="s3">\&quot;</span><span class="s1">start_left</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; position !== </span><span class="s3">\&quot;</span><span class="s1">start_right</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">points.reverse();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const distanceToCardinalityPoint = 25 + terminalMarkerSize;</span><span class="s3">\n  </span><span class="s1">const center = calculatePoint(points, distanceToCardinalityPoint);</span><span class="s3">\n  </span><span class="s1">const d = 10 + terminalMarkerSize * 0.5;</span><span class="s3">\n  </span><span class="s1">const angle = Math.atan2(points[0].y - center.y, points[0].x - center.x);</span><span class="s3">\n  </span><span class="s1">const cardinalityPosition = { x: 0, y: 0 };</span><span class="s3">\n  </span><span class="s1">if (position === </span><span class="s3">\&quot;</span><span class="s1">start_left</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">cardinalityPosition.x = Math.sin(angle + Math.PI) * d + (points[0].x + center.x) / 2;</span><span class="s3">\n    </span><span class="s1">cardinalityPosition.y = -Math.cos(angle + Math.PI) * d + (points[0].y + center.y) / 2;</span><span class="s3">\n  </span><span class="s1">} else if (position === </span><span class="s3">\&quot;</span><span class="s1">end_right</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">cardinalityPosition.x = Math.sin(angle - Math.PI) * d + (points[0].x + center.x) / 2 - 5;</span><span class="s3">\n    </span><span class="s1">cardinalityPosition.y = -Math.cos(angle - Math.PI) * d + (points[0].y + center.y) / 2 - 5;</span><span class="s3">\n  </span><span class="s1">} else if (position === </span><span class="s3">\&quot;</span><span class="s1">end_left</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">cardinalityPosition.x = Math.sin(angle) * d + (points[0].x + center.x) / 2 - 5;</span><span class="s3">\n    </span><span class="s1">cardinalityPosition.y = -Math.cos(angle) * d + (points[0].y + center.y) / 2 - 5;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">cardinalityPosition.x = Math.sin(angle) * d + (points[0].x + center.x) / 2;</span><span class="s3">\n    </span><span class="s1">cardinalityPosition.y = -Math.cos(angle) * d + (points[0].y + center.y) / 2;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return cardinalityPosition;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(calcTerminalLabelPosition, </span><span class="s3">\&quot;</span><span class="s1">calcTerminalLabelPosition</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function getStylesFromArray(arr) {</span><span class="s3">\n  </span><span class="s1">let style = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">let labelStyle = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">for (const element of arr) {</span><span class="s3">\n    </span><span class="s1">if (element !== void 0) {</span><span class="s3">\n      </span><span class="s1">if (element.startsWith(</span><span class="s3">\&quot;</span><span class="s1">color:</span><span class="s3">\&quot;</span><span class="s1">) || element.startsWith(</span><span class="s3">\&quot;</span><span class="s1">text-align:</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n        </span><span class="s1">labelStyle = labelStyle + element + </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">style = style + element + </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return { style, labelStyle };</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(getStylesFromArray, </span><span class="s3">\&quot;</span><span class="s1">getStylesFromArray</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var cnt = 0;</span><span class="s3">\n</span><span class="s1">var generateId = /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n  </span><span class="s1">cnt++;</span><span class="s3">\n  </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">id-</span><span class="s3">\&quot; </span><span class="s1">+ Math.random().toString(36).substr(2, 12) + </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">+ cnt;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">generateId</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function makeRandomHex(length) {</span><span class="s3">\n  </span><span class="s1">let result = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">const characters = </span><span class="s3">\&quot;</span><span class="s1">0123456789abcdef</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">const charactersLength = characters.length;</span><span class="s3">\n  </span><span class="s1">for (let i = 0; i &lt; length; i++) {</span><span class="s3">\n    </span><span class="s1">result += characters.charAt(Math.floor(Math.random() * charactersLength));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(makeRandomHex, </span><span class="s3">\&quot;</span><span class="s1">makeRandomHex</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var random = /* @__PURE__ */ __name((options) =&gt; {</span><span class="s3">\n  </span><span class="s1">return makeRandomHex(options.length);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">random</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getTextObj = /* @__PURE__ */ __name(function() {</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">x: 0,</span><span class="s3">\n    </span><span class="s1">y: 0,</span><span class="s3">\n    </span><span class="s1">fill: void 0,</span><span class="s3">\n    </span><span class="s1">anchor: </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">style: </span><span class="s3">\&quot;</span><span class="s1">#666</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">width: 100,</span><span class="s3">\n    </span><span class="s1">height: 100,</span><span class="s3">\n    </span><span class="s1">textMargin: 0,</span><span class="s3">\n    </span><span class="s1">rx: 0,</span><span class="s3">\n    </span><span class="s1">ry: 0,</span><span class="s3">\n    </span><span class="s1">valign: void 0,</span><span class="s3">\n    </span><span class="s1">text: </span><span class="s3">\&quot;\&quot;\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getTextObj</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var drawSimpleText = /* @__PURE__ */ __name(function(elem, textData) {</span><span class="s3">\n  </span><span class="s1">const nText = textData.text.replace(common_default.lineBreakRegex, </span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const [, _fontSizePx] = parseFontSize(textData.fontSize);</span><span class="s3">\n  </span><span class="s1">const textElem = elem.append(</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">textElem.attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, textData.x);</span><span class="s3">\n  </span><span class="s1">textElem.attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, textData.y);</span><span class="s3">\n  </span><span class="s1">textElem.style(</span><span class="s3">\&quot;</span><span class="s1">text-anchor</span><span class="s3">\&quot;</span><span class="s1">, textData.anchor);</span><span class="s3">\n  </span><span class="s1">textElem.style(</span><span class="s3">\&quot;</span><span class="s1">font-family</span><span class="s3">\&quot;</span><span class="s1">, textData.fontFamily);</span><span class="s3">\n  </span><span class="s1">textElem.style(</span><span class="s3">\&quot;</span><span class="s1">font-size</span><span class="s3">\&quot;</span><span class="s1">, _fontSizePx);</span><span class="s3">\n  </span><span class="s1">textElem.style(</span><span class="s3">\&quot;</span><span class="s1">font-weight</span><span class="s3">\&quot;</span><span class="s1">, textData.fontWeight);</span><span class="s3">\n  </span><span class="s1">textElem.attr(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, textData.fill);</span><span class="s3">\n  </span><span class="s1">if (textData.class !== void 0) {</span><span class="s3">\n    </span><span class="s1">textElem.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, textData.class);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const span = textElem.append(</span><span class="s3">\&quot;</span><span class="s1">tspan</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">span.attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, textData.x + textData.textMargin * 2);</span><span class="s3">\n  </span><span class="s1">span.attr(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, textData.fill);</span><span class="s3">\n  </span><span class="s1">span.text(nText);</span><span class="s3">\n  </span><span class="s1">return textElem;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">drawSimpleText</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var wrapLabel = memoize(</span><span class="s3">\n  </span><span class="s1">(label, maxWidth, config) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (!label) {</span><span class="s3">\n      </span><span class="s1">return label;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">config = Object.assign(</span><span class="s3">\n      </span><span class="s1">{ fontSize: 12, fontWeight: 400, fontFamily: </span><span class="s3">\&quot;</span><span class="s1">Arial</span><span class="s3">\&quot;</span><span class="s1">, joinWith: </span><span class="s3">\&quot;</span><span class="s1">&lt;br/&gt;</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n      </span><span class="s1">config</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (common_default.lineBreakRegex.test(label)) {</span><span class="s3">\n      </span><span class="s1">return label;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const words = label.split(</span><span class="s3">\&quot; \&quot;</span><span class="s1">).filter(Boolean);</span><span class="s3">\n    </span><span class="s1">const completedLines = [];</span><span class="s3">\n    </span><span class="s1">let nextLine = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">words.forEach((word, index) =&gt; {</span><span class="s3">\n      </span><span class="s1">const wordLength = calculateTextWidth(`${word} `, config);</span><span class="s3">\n      </span><span class="s1">const nextLineLength = calculateTextWidth(nextLine, config);</span><span class="s3">\n      </span><span class="s1">if (wordLength &gt; maxWidth) {</span><span class="s3">\n        </span><span class="s1">const { hyphenatedStrings, remainingWord } = breakString(word, maxWidth, </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">, config);</span><span class="s3">\n        </span><span class="s1">completedLines.push(nextLine, ...hyphenatedStrings);</span><span class="s3">\n        </span><span class="s1">nextLine = remainingWord;</span><span class="s3">\n      </span><span class="s1">} else if (nextLineLength + wordLength &gt;= maxWidth) {</span><span class="s3">\n        </span><span class="s1">completedLines.push(nextLine);</span><span class="s3">\n        </span><span class="s1">nextLine = word;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">nextLine = [nextLine, word].filter(Boolean).join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">const currentWord = index + 1;</span><span class="s3">\n      </span><span class="s1">const isLastWord = currentWord === words.length;</span><span class="s3">\n      </span><span class="s1">if (isLastWord) {</span><span class="s3">\n        </span><span class="s1">completedLines.push(nextLine);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">return completedLines.filter((line) =&gt; line !== </span><span class="s3">\&quot;\&quot;</span><span class="s1">).join(config.joinWith);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">(label, maxWidth, config) =&gt; `${label}${maxWidth}${config.fontSize}${config.fontWeight}${config.fontFamily}${config.joinWith}`</span><span class="s3">\n</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var breakString = memoize(</span><span class="s3">\n  </span><span class="s1">(word, maxWidth, hyphenCharacter = </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">, config) =&gt; {</span><span class="s3">\n    </span><span class="s1">config = Object.assign(</span><span class="s3">\n      </span><span class="s1">{ fontSize: 12, fontWeight: 400, fontFamily: </span><span class="s3">\&quot;</span><span class="s1">Arial</span><span class="s3">\&quot;</span><span class="s1">, margin: 0 },</span><span class="s3">\n      </span><span class="s1">config</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const characters = [...word];</span><span class="s3">\n    </span><span class="s1">const lines = [];</span><span class="s3">\n    </span><span class="s1">let currentLine = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">characters.forEach((character, index) =&gt; {</span><span class="s3">\n      </span><span class="s1">const nextLine = `${currentLine}${character}`;</span><span class="s3">\n      </span><span class="s1">const lineWidth = calculateTextWidth(nextLine, config);</span><span class="s3">\n      </span><span class="s1">if (lineWidth &gt;= maxWidth) {</span><span class="s3">\n        </span><span class="s1">const currentCharacter = index + 1;</span><span class="s3">\n        </span><span class="s1">const isLastLine = characters.length === currentCharacter;</span><span class="s3">\n        </span><span class="s1">const hyphenatedNextLine = `${nextLine}${hyphenCharacter}`;</span><span class="s3">\n        </span><span class="s1">lines.push(isLastLine ? nextLine : hyphenatedNextLine);</span><span class="s3">\n        </span><span class="s1">currentLine = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">currentLine = nextLine;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">return { hyphenatedStrings: lines, remainingWord: currentLine };</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">(word, maxWidth, hyphenCharacter = </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">, config) =&gt; `${word}${maxWidth}${hyphenCharacter}${config.fontSize}${config.fontWeight}${config.fontFamily}`</span><span class="s3">\n</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function calculateTextHeight(text, config) {</span><span class="s3">\n  </span><span class="s1">return calculateTextDimensions(text, config).height;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(calculateTextHeight, </span><span class="s3">\&quot;</span><span class="s1">calculateTextHeight</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function calculateTextWidth(text, config) {</span><span class="s3">\n  </span><span class="s1">return calculateTextDimensions(text, config).width;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(calculateTextWidth, </span><span class="s3">\&quot;</span><span class="s1">calculateTextWidth</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var calculateTextDimensions = memoize(</span><span class="s3">\n  </span><span class="s1">(text, config) =&gt; {</span><span class="s3">\n    </span><span class="s1">const { fontSize = 12, fontFamily = </span><span class="s3">\&quot;</span><span class="s1">Arial</span><span class="s3">\&quot;</span><span class="s1">, fontWeight = 400 } = config;</span><span class="s3">\n    </span><span class="s1">if (!text) {</span><span class="s3">\n      </span><span class="s1">return { width: 0, height: 0 };</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const [, _fontSizePx] = parseFontSize(fontSize);</span><span class="s3">\n    </span><span class="s1">const fontFamilies = [</span><span class="s3">\&quot;</span><span class="s1">sans-serif</span><span class="s3">\&quot;</span><span class="s1">, fontFamily];</span><span class="s3">\n    </span><span class="s1">const lines = text.split(common_default.lineBreakRegex);</span><span class="s3">\n    </span><span class="s1">const dims = [];</span><span class="s3">\n    </span><span class="s1">const body = select(</span><span class="s3">\&quot;</span><span class="s1">body</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (!body.remove) {</span><span class="s3">\n      </span><span class="s1">return { width: 0, height: 0, lineHeight: 0 };</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const g = body.append(</span><span class="s3">\&quot;</span><span class="s1">svg</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">for (const fontFamily2 of fontFamilies) {</span><span class="s3">\n      </span><span class="s1">let cHeight = 0;</span><span class="s3">\n      </span><span class="s1">const dim = { width: 0, height: 0, lineHeight: 0 };</span><span class="s3">\n      </span><span class="s1">for (const line of lines) {</span><span class="s3">\n        </span><span class="s1">const textObj = getTextObj();</span><span class="s3">\n        </span><span class="s1">textObj.text = line || ZERO_WIDTH_SPACE;</span><span class="s3">\n        </span><span class="s1">const textElem = drawSimpleText(g, textObj).style(</span><span class="s3">\&quot;</span><span class="s1">font-size</span><span class="s3">\&quot;</span><span class="s1">, _fontSizePx).style(</span><span class="s3">\&quot;</span><span class="s1">font-weight</span><span class="s3">\&quot;</span><span class="s1">, fontWeight).style(</span><span class="s3">\&quot;</span><span class="s1">font-family</span><span class="s3">\&quot;</span><span class="s1">, fontFamily2);</span><span class="s3">\n        </span><span class="s1">const bBox = (textElem._groups || textElem)[0][0].getBBox();</span><span class="s3">\n        </span><span class="s1">if (bBox.width === 0 &amp;&amp; bBox.height === 0) {</span><span class="s3">\n          </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">svg element not in render tree</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">dim.width = Math.round(Math.max(dim.width, bBox.width));</span><span class="s3">\n        </span><span class="s1">cHeight = Math.round(bBox.height);</span><span class="s3">\n        </span><span class="s1">dim.height += cHeight;</span><span class="s3">\n        </span><span class="s1">dim.lineHeight = Math.round(Math.max(dim.lineHeight, cHeight));</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">dims.push(dim);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">g.remove();</span><span class="s3">\n    </span><span class="s1">const index = isNaN(dims[1].height) || isNaN(dims[1].width) || isNaN(dims[1].lineHeight) || dims[0].height &gt; dims[1].height &amp;&amp; dims[0].width &gt; dims[1].width &amp;&amp; dims[0].lineHeight &gt; dims[1].lineHeight ? 0 : 1;</span><span class="s3">\n    </span><span class="s1">return dims[index];</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">(text, config) =&gt; `${text}${config.fontSize}${config.fontWeight}${config.fontFamily}`</span><span class="s3">\n</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var InitIDGenerator = class {</span><span class="s3">\n  </span><span class="s1">constructor(deterministic = false, seed) {</span><span class="s3">\n    </span><span class="s1">this.count = 0;</span><span class="s3">\n    </span><span class="s1">this.count = seed ? seed.length : 0;</span><span class="s3">\n    </span><span class="s1">this.next = deterministic ? () =&gt; this.count++ : () =&gt; Date.now();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">static {</span><span class="s3">\n    </span><span class="s1">__name(this, </span><span class="s3">\&quot;</span><span class="s1">InitIDGenerator</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var decoder;</span><span class="s3">\n</span><span class="s1">var entityDecode = /* @__PURE__ */ __name(function(html) {</span><span class="s3">\n  </span><span class="s1">decoder = decoder || document.createElement(</span><span class="s3">\&quot;</span><span class="s1">div</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">html = escape(html).replace(/%26/g, </span><span class="s3">\&quot;</span><span class="s1">&amp;</span><span class="s3">\&quot;</span><span class="s1">).replace(/%23/g, </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot;</span><span class="s1">).replace(/%3B/g, </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">decoder.innerHTML = html;</span><span class="s3">\n  </span><span class="s1">return unescape(decoder.textContent);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">entityDecode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function isDetailedError(error) {</span><span class="s3">\n  </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">str</span><span class="s3">\&quot; </span><span class="s1">in error;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(isDetailedError, </span><span class="s3">\&quot;</span><span class="s1">isDetailedError</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var insertTitle = /* @__PURE__ */ __name((parent, cssClass, titleTopMargin, title) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (!title) {</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const bounds = parent.node()?.getBBox();</span><span class="s3">\n  </span><span class="s1">if (!bounds) {</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">parent.append(</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">).text(title).attr(</span><span class="s3">\&quot;</span><span class="s1">text-anchor</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">middle</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, bounds.x + bounds.width / 2).attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, -titleTopMargin).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, cssClass);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">insertTitle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var parseFontSize = /* @__PURE__ */ __name((fontSize) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (typeof fontSize === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return [fontSize, fontSize + </span><span class="s3">\&quot;</span><span class="s1">px</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const fontSizeNumber = parseInt(fontSize ?? </span><span class="s3">\&quot;\&quot;</span><span class="s1">, 10);</span><span class="s3">\n  </span><span class="s1">if (Number.isNaN(fontSizeNumber)) {</span><span class="s3">\n    </span><span class="s1">return [void 0, void 0];</span><span class="s3">\n  </span><span class="s1">} else if (fontSize === String(fontSizeNumber)) {</span><span class="s3">\n    </span><span class="s1">return [fontSizeNumber, fontSize + </span><span class="s3">\&quot;</span><span class="s1">px</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">return [fontSizeNumber, fontSize];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">parseFontSize</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function cleanAndMerge(defaultData, data) {</span><span class="s3">\n  </span><span class="s1">return merge({}, defaultData, data);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(cleanAndMerge, </span><span class="s3">\&quot;</span><span class="s1">cleanAndMerge</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var utils_default = {</span><span class="s3">\n  </span><span class="s1">assignWithDepth: assignWithDepth_default,</span><span class="s3">\n  </span><span class="s1">wrapLabel,</span><span class="s3">\n  </span><span class="s1">calculateTextHeight,</span><span class="s3">\n  </span><span class="s1">calculateTextWidth,</span><span class="s3">\n  </span><span class="s1">calculateTextDimensions,</span><span class="s3">\n  </span><span class="s1">cleanAndMerge,</span><span class="s3">\n  </span><span class="s1">detectInit,</span><span class="s3">\n  </span><span class="s1">detectDirective,</span><span class="s3">\n  </span><span class="s1">isSubstringInArray,</span><span class="s3">\n  </span><span class="s1">interpolateToCurve,</span><span class="s3">\n  </span><span class="s1">calcLabelPosition,</span><span class="s3">\n  </span><span class="s1">calcCardinalityPosition,</span><span class="s3">\n  </span><span class="s1">calcTerminalLabelPosition,</span><span class="s3">\n  </span><span class="s1">formatUrl,</span><span class="s3">\n  </span><span class="s1">getStylesFromArray,</span><span class="s3">\n  </span><span class="s1">generateId,</span><span class="s3">\n  </span><span class="s1">random,</span><span class="s3">\n  </span><span class="s1">runFunc,</span><span class="s3">\n  </span><span class="s1">entityDecode,</span><span class="s3">\n  </span><span class="s1">insertTitle,</span><span class="s3">\n  </span><span class="s1">parseFontSize,</span><span class="s3">\n  </span><span class="s1">InitIDGenerator</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var encodeEntities = /* @__PURE__ */ __name(function(text) {</span><span class="s3">\n  </span><span class="s1">let txt = text;</span><span class="s3">\n  </span><span class="s1">txt = txt.replace(/style.*:</span><span class="s3">\\</span><span class="s1">S*#.*;/g, function(s) {</span><span class="s3">\n    </span><span class="s1">return s.substring(0, s.length - 1);</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">txt = txt.replace(/classDef.*:</span><span class="s3">\\</span><span class="s1">S*#.*;/g, function(s) {</span><span class="s3">\n    </span><span class="s1">return s.substring(0, s.length - 1);</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">txt = txt.replace(/#</span><span class="s3">\\</span><span class="s1">w+;/g, function(s) {</span><span class="s3">\n    </span><span class="s1">const innerTxt = s.substring(1, s.length - 1);</span><span class="s3">\n    </span><span class="s1">const isInt = /^</span><span class="s3">\\</span><span class="s1">+?</span><span class="s3">\\</span><span class="s1">d+$/.test(innerTxt);</span><span class="s3">\n    </span><span class="s1">if (isInt) {</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;\\</span><span class="s1">uFB02</span><span class="s3">\\</span><span class="s1">xB0</span><span class="s3">\\</span><span class="s1">xB0</span><span class="s3">\&quot; </span><span class="s1">+ innerTxt + </span><span class="s3">\&quot;\\</span><span class="s1">xB6</span><span class="s3">\\</span><span class="s1">xDF</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;\\</span><span class="s1">uFB02</span><span class="s3">\\</span><span class="s1">xB0</span><span class="s3">\&quot; </span><span class="s1">+ innerTxt + </span><span class="s3">\&quot;\\</span><span class="s1">xB6</span><span class="s3">\\</span><span class="s1">xDF</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">return txt;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">encodeEntities</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var decodeEntities = /* @__PURE__ */ __name(function(text) {</span><span class="s3">\n  </span><span class="s1">return text.replace(//g, </span><span class="s3">\&quot;</span><span class="s1">&amp;#</span><span class="s3">\&quot;</span><span class="s1">).replace(//g, </span><span class="s3">\&quot;</span><span class="s1">&amp;</span><span class="s3">\&quot;</span><span class="s1">).replace(//g, </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">decodeEntities</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getEdgeId = /* @__PURE__ */ __name((from, to, {</span><span class="s3">\n  </span><span class="s1">counter = 0,</span><span class="s3">\n  </span><span class="s1">prefix,</span><span class="s3">\n  </span><span class="s1">suffix</span><span class="s3">\n</span><span class="s1">}, id) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (id) {</span><span class="s3">\n    </span><span class="s1">return id;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return `${prefix ? `${prefix}_` : </span><span class="s3">\&quot;\&quot;</span><span class="s1">}${from}_${to}_${counter}${suffix ? `_${suffix}` : </span><span class="s3">\&quot;\&quot;</span><span class="s1">}`;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getEdgeId</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function handleUndefinedAttr(attrValue) {</span><span class="s3">\n  </span><span class="s1">return attrValue ?? null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(handleUndefinedAttr, </span><span class="s3">\&quot;</span><span class="s1">handleUndefinedAttr</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">ZERO_WIDTH_SPACE,</span><span class="s3">\n  </span><span class="s1">removeDirectives,</span><span class="s3">\n  </span><span class="s1">interpolateToCurve,</span><span class="s3">\n  </span><span class="s1">getStylesFromArray,</span><span class="s3">\n  </span><span class="s1">generateId,</span><span class="s3">\n  </span><span class="s1">random,</span><span class="s3">\n  </span><span class="s1">wrapLabel,</span><span class="s3">\n  </span><span class="s1">calculateTextHeight,</span><span class="s3">\n  </span><span class="s1">calculateTextWidth,</span><span class="s3">\n  </span><span class="s1">isDetailedError,</span><span class="s3">\n  </span><span class="s1">parseFontSize,</span><span class="s3">\n  </span><span class="s1">cleanAndMerge,</span><span class="s3">\n  </span><span class="s1">utils_default,</span><span class="s3">\n  </span><span class="s1">encodeEntities,</span><span class="s3">\n  </span><span class="s1">decodeEntities,</span><span class="s3">\n  </span><span class="s1">getEdgeId,</span><span class="s3">\n  </span><span class="s1">handleUndefinedAttr</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {</span><span class="s3">\n  </span><span class="s1">insertEdge,</span><span class="s3">\n  </span><span class="s1">insertEdgeLabel,</span><span class="s3">\n  </span><span class="s1">markers_default,</span><span class="s3">\n  </span><span class="s1">positionEdgeLabel</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-IIMUDSI4.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">insertCluster,</span><span class="s3">\n  </span><span class="s1">insertNode,</span><span class="s3">\n  </span><span class="s1">labelHelper</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-HRU6DDCH.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">interpolateToCurve</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-O4NI6UNU.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">__name,</span><span class="s3">\n  </span><span class="s1">common_default,</span><span class="s3">\n  </span><span class="s1">getConfig,</span><span class="s3">\n  </span><span class="s1">log</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-YTJNT7DU.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/internals.ts</span><span class="s3">\n</span><span class="s1">var internalHelpers = {</span><span class="s3">\n  </span><span class="s1">common: common_default,</span><span class="s3">\n  </span><span class="s1">getConfig,</span><span class="s3">\n  </span><span class="s1">insertCluster,</span><span class="s3">\n  </span><span class="s1">insertEdge,</span><span class="s3">\n  </span><span class="s1">insertEdgeLabel,</span><span class="s3">\n  </span><span class="s1">insertMarkers: markers_default,</span><span class="s3">\n  </span><span class="s1">insertNode,</span><span class="s3">\n  </span><span class="s1">interpolateToCurve,</span><span class="s3">\n  </span><span class="s1">labelHelper,</span><span class="s3">\n  </span><span class="s1">log,</span><span class="s3">\n  </span><span class="s1">positionEdgeLabel</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/render.ts</span><span class="s3">\n</span><span class="s1">var layoutAlgorithms = {};</span><span class="s3">\n</span><span class="s1">var registerLayoutLoaders = /* @__PURE__ */ __name((loaders) =&gt; {</span><span class="s3">\n  </span><span class="s1">for (const loader of loaders) {</span><span class="s3">\n    </span><span class="s1">layoutAlgorithms[loader.name] = loader;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">registerLayoutLoaders</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var registerDefaultLayoutLoaders = /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n  </span><span class="s1">registerLayoutLoaders([</span><span class="s3">\n    </span><span class="s1">{</span><span class="s3">\n      </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">dagre</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">loader: /* @__PURE__ */ __name(async () =&gt; await import(</span><span class="s3">\&quot;</span><span class="s1">./dagre-OKDRZEBW.mjs</span><span class="s3">\&quot;</span><span class="s1">), </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">]);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">registerDefaultLayoutLoaders</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">registerDefaultLayoutLoaders();</span><span class="s3">\n</span><span class="s1">var render = /* @__PURE__ */ __name(async (data4Layout, svg) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (!(data4Layout.layoutAlgorithm in layoutAlgorithms)) {</span><span class="s3">\n    </span><span class="s1">throw new Error(`Unknown layout algorithm: ${data4Layout.layoutAlgorithm}`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const layoutDefinition = layoutAlgorithms[data4Layout.layoutAlgorithm];</span><span class="s3">\n  </span><span class="s1">const layoutRenderer = await layoutDefinition.loader();</span><span class="s3">\n  </span><span class="s1">return layoutRenderer.render(data4Layout, svg, internalHelpers, {</span><span class="s3">\n    </span><span class="s1">algorithm: layoutDefinition.algorithm</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">render</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getRegisteredLayoutAlgorithm = /* @__PURE__ */ __name((algorithm = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, { fallback = </span><span class="s3">\&quot;</span><span class="s1">dagre</span><span class="s3">\&quot; </span><span class="s1">} = {}) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (algorithm in layoutAlgorithms) {</span><span class="s3">\n    </span><span class="s1">return algorithm;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (fallback in layoutAlgorithms) {</span><span class="s3">\n    </span><span class="s1">log.warn(`Layout algorithm ${algorithm} is not registered. Using ${fallback} as fallback.`);</span><span class="s3">\n    </span><span class="s1">return fallback;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">throw new Error(`Both layout algorithms ${algorithm} and ${fallback} are not registered.`);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getRegisteredLayoutAlgorithm</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">registerLayoutLoaders,</span><span class="s3">\n  </span><span class="s1">render,</span><span class="s3">\n  </span><span class="s1">getRegisteredLayoutAlgorithm</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {</span><span class="s3">\n  </span><span class="s1">__name</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-YTJNT7DU.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/utils/lineWithOffset.ts</span><span class="s3">\n</span><span class="s1">var markerOffsets = {</span><span class="s3">\n  </span><span class="s1">aggregation: 18,</span><span class="s3">\n  </span><span class="s1">extension: 18,</span><span class="s3">\n  </span><span class="s1">composition: 18,</span><span class="s3">\n  </span><span class="s1">dependency: 6,</span><span class="s3">\n  </span><span class="s1">lollipop: 13.5,</span><span class="s3">\n  </span><span class="s1">arrow_point: 4</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">function calculateDeltaAndAngle(point1, point2) {</span><span class="s3">\n  </span><span class="s1">if (point1 === void 0 || point2 === void 0) {</span><span class="s3">\n    </span><span class="s1">return { angle: 0, deltaX: 0, deltaY: 0 };</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">point1 = pointTransformer(point1);</span><span class="s3">\n  </span><span class="s1">point2 = pointTransformer(point2);</span><span class="s3">\n  </span><span class="s1">const [x1, y1] = [point1.x, point1.y];</span><span class="s3">\n  </span><span class="s1">const [x2, y2] = [point2.x, point2.y];</span><span class="s3">\n  </span><span class="s1">const deltaX = x2 - x1;</span><span class="s3">\n  </span><span class="s1">const deltaY = y2 - y1;</span><span class="s3">\n  </span><span class="s1">return { angle: Math.atan(deltaY / deltaX), deltaX, deltaY };</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(calculateDeltaAndAngle, </span><span class="s3">\&quot;</span><span class="s1">calculateDeltaAndAngle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var pointTransformer = /* @__PURE__ */ __name((data) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (Array.isArray(data)) {</span><span class="s3">\n    </span><span class="s1">return { x: data[0], y: data[1] };</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return data;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">pointTransformer</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getLineFunctionsWithOffset = /* @__PURE__ */ __name((edge) =&gt; {</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">x: /* @__PURE__ */ __name(function(d, i, data) {</span><span class="s3">\n      </span><span class="s1">let offset = 0;</span><span class="s3">\n      </span><span class="s1">const DIRECTION = pointTransformer(data[0]).x &lt; pointTransformer(data[data.length - 1]).x ? </span><span class="s3">\&quot;</span><span class="s1">left</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">right</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">if (i === 0 &amp;&amp; Object.hasOwn(markerOffsets, edge.arrowTypeStart)) {</span><span class="s3">\n        </span><span class="s1">const { angle, deltaX } = calculateDeltaAndAngle(data[0], data[1]);</span><span class="s3">\n        </span><span class="s1">offset = markerOffsets[edge.arrowTypeStart] * Math.cos(angle) * (deltaX &gt;= 0 ? 1 : -1);</span><span class="s3">\n      </span><span class="s1">} else if (i === data.length - 1 &amp;&amp; Object.hasOwn(markerOffsets, edge.arrowTypeEnd)) {</span><span class="s3">\n        </span><span class="s1">const { angle, deltaX } = calculateDeltaAndAngle(</span><span class="s3">\n          </span><span class="s1">data[data.length - 1],</span><span class="s3">\n          </span><span class="s1">data[data.length - 2]</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">offset = markerOffsets[edge.arrowTypeEnd] * Math.cos(angle) * (deltaX &gt;= 0 ? 1 : -1);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">const differenceToEnd = Math.abs(</span><span class="s3">\n        </span><span class="s1">pointTransformer(d).x - pointTransformer(data[data.length - 1]).x</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">const differenceInYEnd = Math.abs(</span><span class="s3">\n        </span><span class="s1">pointTransformer(d).y - pointTransformer(data[data.length - 1]).y</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">const differenceToStart = Math.abs(pointTransformer(d).x - pointTransformer(data[0]).x);</span><span class="s3">\n      </span><span class="s1">const differenceInYStart = Math.abs(pointTransformer(d).y - pointTransformer(data[0]).y);</span><span class="s3">\n      </span><span class="s1">const startMarkerHeight = markerOffsets[edge.arrowTypeStart];</span><span class="s3">\n      </span><span class="s1">const endMarkerHeight = markerOffsets[edge.arrowTypeEnd];</span><span class="s3">\n      </span><span class="s1">const extraRoom = 1;</span><span class="s3">\n      </span><span class="s1">if (differenceToEnd &lt; endMarkerHeight &amp;&amp; differenceToEnd &gt; 0 &amp;&amp; differenceInYEnd &lt; endMarkerHeight) {</span><span class="s3">\n        </span><span class="s1">let adjustment = endMarkerHeight + extraRoom - differenceToEnd;</span><span class="s3">\n        </span><span class="s1">adjustment *= DIRECTION === </span><span class="s3">\&quot;</span><span class="s1">right</span><span class="s3">\&quot; </span><span class="s1">? -1 : 1;</span><span class="s3">\n        </span><span class="s1">offset -= adjustment;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (differenceToStart &lt; startMarkerHeight &amp;&amp; differenceToStart &gt; 0 &amp;&amp; differenceInYStart &lt; startMarkerHeight) {</span><span class="s3">\n        </span><span class="s1">let adjustment = startMarkerHeight + extraRoom - differenceToStart;</span><span class="s3">\n        </span><span class="s1">adjustment *= DIRECTION === </span><span class="s3">\&quot;</span><span class="s1">right</span><span class="s3">\&quot; </span><span class="s1">? -1 : 1;</span><span class="s3">\n        </span><span class="s1">offset += adjustment;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return pointTransformer(d).x + offset;</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">y: /* @__PURE__ */ __name(function(d, i, data) {</span><span class="s3">\n      </span><span class="s1">let offset = 0;</span><span class="s3">\n      </span><span class="s1">const DIRECTION = pointTransformer(data[0]).y &lt; pointTransformer(data[data.length - 1]).y ? </span><span class="s3">\&quot;</span><span class="s1">down</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">up</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">if (i === 0 &amp;&amp; Object.hasOwn(markerOffsets, edge.arrowTypeStart)) {</span><span class="s3">\n        </span><span class="s1">const { angle, deltaY } = calculateDeltaAndAngle(data[0], data[1]);</span><span class="s3">\n        </span><span class="s1">offset = markerOffsets[edge.arrowTypeStart] * Math.abs(Math.sin(angle)) * (deltaY &gt;= 0 ? 1 : -1);</span><span class="s3">\n      </span><span class="s1">} else if (i === data.length - 1 &amp;&amp; Object.hasOwn(markerOffsets, edge.arrowTypeEnd)) {</span><span class="s3">\n        </span><span class="s1">const { angle, deltaY } = calculateDeltaAndAngle(</span><span class="s3">\n          </span><span class="s1">data[data.length - 1],</span><span class="s3">\n          </span><span class="s1">data[data.length - 2]</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">offset = markerOffsets[edge.arrowTypeEnd] * Math.abs(Math.sin(angle)) * (deltaY &gt;= 0 ? 1 : -1);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">const differenceToEnd = Math.abs(</span><span class="s3">\n        </span><span class="s1">pointTransformer(d).y - pointTransformer(data[data.length - 1]).y</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">const differenceInXEnd = Math.abs(</span><span class="s3">\n        </span><span class="s1">pointTransformer(d).x - pointTransformer(data[data.length - 1]).x</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">const differenceToStart = Math.abs(pointTransformer(d).y - pointTransformer(data[0]).y);</span><span class="s3">\n      </span><span class="s1">const differenceInXStart = Math.abs(pointTransformer(d).x - pointTransformer(data[0]).x);</span><span class="s3">\n      </span><span class="s1">const startMarkerHeight = markerOffsets[edge.arrowTypeStart];</span><span class="s3">\n      </span><span class="s1">const endMarkerHeight = markerOffsets[edge.arrowTypeEnd];</span><span class="s3">\n      </span><span class="s1">const extraRoom = 1;</span><span class="s3">\n      </span><span class="s1">if (differenceToEnd &lt; endMarkerHeight &amp;&amp; differenceToEnd &gt; 0 &amp;&amp; differenceInXEnd &lt; endMarkerHeight) {</span><span class="s3">\n        </span><span class="s1">let adjustment = endMarkerHeight + extraRoom - differenceToEnd;</span><span class="s3">\n        </span><span class="s1">adjustment *= DIRECTION === </span><span class="s3">\&quot;</span><span class="s1">up</span><span class="s3">\&quot; </span><span class="s1">? -1 : 1;</span><span class="s3">\n        </span><span class="s1">offset -= adjustment;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (differenceToStart &lt; startMarkerHeight &amp;&amp; differenceToStart &gt; 0 &amp;&amp; differenceInXStart &lt; startMarkerHeight) {</span><span class="s3">\n        </span><span class="s1">let adjustment = startMarkerHeight + extraRoom - differenceToStart;</span><span class="s3">\n        </span><span class="s1">adjustment *= DIRECTION === </span><span class="s3">\&quot;</span><span class="s1">up</span><span class="s3">\&quot; </span><span class="s1">? -1 : 1;</span><span class="s3">\n        </span><span class="s1">offset += adjustment;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return pointTransformer(d).y + offset;</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getLineFunctionsWithOffset</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">if (void 0) {</span><span class="s3">\n  </span><span class="s1">const { it, expect, describe } = void 0;</span><span class="s3">\n  </span><span class="s1">describe(</span><span class="s3">\&quot;</span><span class="s1">calculateDeltaAndAngle</span><span class="s3">\&quot;</span><span class="s1">, () =&gt; {</span><span class="s3">\n    </span><span class="s1">it(</span><span class="s3">\&quot;</span><span class="s1">should calculate the angle and deltas between two points</span><span class="s3">\&quot;</span><span class="s1">, () =&gt; {</span><span class="s3">\n      </span><span class="s1">expect(calculateDeltaAndAngle([0, 0], [0, 1])).toStrictEqual({</span><span class="s3">\n        </span><span class="s1">angle: 1.5707963267948966,</span><span class="s3">\n        </span><span class="s1">deltaX: 0,</span><span class="s3">\n        </span><span class="s1">deltaY: 1</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n      </span><span class="s1">expect(calculateDeltaAndAngle([1, 0], [0, -1])).toStrictEqual({</span><span class="s3">\n        </span><span class="s1">angle: 0.7853981633974483,</span><span class="s3">\n        </span><span class="s1">deltaX: -1,</span><span class="s3">\n        </span><span class="s1">deltaY: -1</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n      </span><span class="s1">expect(calculateDeltaAndAngle({ x: 1, y: 0 }, [0, -1])).toStrictEqual({</span><span class="s3">\n        </span><span class="s1">angle: 0.7853981633974483,</span><span class="s3">\n        </span><span class="s1">deltaX: -1,</span><span class="s3">\n        </span><span class="s1">deltaY: -1</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n      </span><span class="s1">expect(calculateDeltaAndAngle({ x: 1, y: 0 }, { x: 1, y: 0 })).toStrictEqual({</span><span class="s3">\n        </span><span class="s1">angle: NaN,</span><span class="s3">\n        </span><span class="s1">deltaX: 0,</span><span class="s3">\n        </span><span class="s1">deltaY: 0</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">it(</span><span class="s3">\&quot;</span><span class="s1">should calculate the angle and deltas if one point in undefined</span><span class="s3">\&quot;</span><span class="s1">, () =&gt; {</span><span class="s3">\n      </span><span class="s1">expect(calculateDeltaAndAngle(void 0, [0, 1])).toStrictEqual({</span><span class="s3">\n        </span><span class="s1">angle: 0,</span><span class="s3">\n        </span><span class="s1">deltaX: 0,</span><span class="s3">\n        </span><span class="s1">deltaY: 0</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n      </span><span class="s1">expect(calculateDeltaAndAngle([0, 1], void 0)).toStrictEqual({</span><span class="s3">\n        </span><span class="s1">angle: 0,</span><span class="s3">\n        </span><span class="s1">deltaX: 0,</span><span class="s3">\n        </span><span class="s1">deltaY: 0</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">getLineFunctionsWithOffset</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import Color from '../color/index.js';</span><span class="s3">\n</span><span class="s1">import change from './change.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">const adjust = (color, channels) =&gt; {</span><span class="s3">\n    </span><span class="s1">const ch = Color.parse(color);</span><span class="s3">\n    </span><span class="s1">const changes = {};</span><span class="s3">\n    </span><span class="s1">for (const c in channels) {</span><span class="s3">\n        </span><span class="s1">if (!channels[c])</span><span class="s3">\n            </span><span class="s1">continue;</span><span class="s3">\n        </span><span class="s1">changes[c] = ch[c] + channels[c];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return change(color, changes);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default adjust;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import Color from '../color/index.js';</span><span class="s3">\n</span><span class="s1">import rgba from './rgba.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">//SOURCE: https://github.com/sass/dart-sass/blob/7457d2e9e7e623d9844ffd037a070cf32d39c348/lib/src/functions/color.dart#L718-L756</span><span class="s3">\n</span><span class="s1">const mix = (color1, color2, weight = 50) =&gt; {</span><span class="s3">\n    </span><span class="s1">const { r: r1, g: g1, b: b1, a: a1 } = Color.parse(color1);</span><span class="s3">\n    </span><span class="s1">const { r: r2, g: g2, b: b2, a: a2 } = Color.parse(color2);</span><span class="s3">\n    </span><span class="s1">const weightScale = weight / 100;</span><span class="s3">\n    </span><span class="s1">const weightNormalized = (weightScale * 2) - 1;</span><span class="s3">\n    </span><span class="s1">const alphaDelta = a1 - a2;</span><span class="s3">\n    </span><span class="s1">const weight1combined = ((weightNormalized * alphaDelta) === -1) ? weightNormalized : (weightNormalized + alphaDelta) / (1 + weightNormalized * alphaDelta);</span><span class="s3">\n    </span><span class="s1">const weight1 = (weight1combined + 1) / 2;</span><span class="s3">\n    </span><span class="s1">const weight2 = 1 - weight1;</span><span class="s3">\n    </span><span class="s1">const r = (r1 * weight1) + (r2 * weight2);</span><span class="s3">\n    </span><span class="s1">const g = (g1 * weight1) + (g2 * weight2);</span><span class="s3">\n    </span><span class="s1">const b = (b1 * weight1) + (b2 * weight2);</span><span class="s3">\n    </span><span class="s1">const a = (a1 * weightScale) + (a2 * (1 - weightScale));</span><span class="s3">\n    </span><span class="s1">return rgba(r, g, b, a);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default mix;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/* IMPORT */</span><span class="s3">\n</span><span class="s1">import Color from '../color/index.js';</span><span class="s3">\n</span><span class="s1">import mix from './mix.js';</span><span class="s3">\n</span><span class="s1">/* MAIN */</span><span class="s3">\n</span><span class="s1">const invert = (color, weight = 100) =&gt; {</span><span class="s3">\n    </span><span class="s1">const inverse = Color.parse(color);</span><span class="s3">\n    </span><span class="s1">inverse.r = 255 - inverse.r;</span><span class="s3">\n    </span><span class="s1">inverse.g = 255 - inverse.g;</span><span class="s3">\n    </span><span class="s1">inverse.b = 255 - inverse.b;</span><span class="s3">\n    </span><span class="s1">return mix(inverse, color, weight);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/* EXPORT */</span><span class="s3">\n</span><span class="s1">export default invert;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;var __defProp = Object.defineProperty;</span><span class="s3">\n</span><span class="s1">var __name = (target, value) =&gt; __defProp(target, </span><span class="s3">\&quot;</span><span class="s1">name</span><span class="s3">\&quot;</span><span class="s1">, { value, configurable: true });</span><span class="s3">\n</span><span class="s1">var __export = (target, all) =&gt; {</span><span class="s3">\n  </span><span class="s1">for (var name in all)</span><span class="s3">\n    </span><span class="s1">__defProp(target, name, { get: all[name], enumerable: true });</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// src/logger.ts</span><span class="s3">\n</span><span class="s1">import dayjs from </span><span class="s3">\&quot;</span><span class="s1">dayjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var LEVELS = {</span><span class="s3">\n  </span><span class="s1">trace: 0,</span><span class="s3">\n  </span><span class="s1">debug: 1,</span><span class="s3">\n  </span><span class="s1">info: 2,</span><span class="s3">\n  </span><span class="s1">warn: 3,</span><span class="s3">\n  </span><span class="s1">error: 4,</span><span class="s3">\n  </span><span class="s1">fatal: 5</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var log = {</span><span class="s3">\n  </span><span class="s1">trace: /* @__PURE__ */ __name((..._args) =&gt; {</span><span class="s3">\n  </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">trace</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n  </span><span class="s1">debug: /* @__PURE__ */ __name((..._args) =&gt; {</span><span class="s3">\n  </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">debug</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n  </span><span class="s1">info: /* @__PURE__ */ __name((..._args) =&gt; {</span><span class="s3">\n  </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">info</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n  </span><span class="s1">warn: /* @__PURE__ */ __name((..._args) =&gt; {</span><span class="s3">\n  </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">warn</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n  </span><span class="s1">error: /* @__PURE__ */ __name((..._args) =&gt; {</span><span class="s3">\n  </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n  </span><span class="s1">fatal: /* @__PURE__ */ __name((..._args) =&gt; {</span><span class="s3">\n  </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">fatal</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var setLogLevel = /* @__PURE__ */ __name(function(level = </span><span class="s3">\&quot;</span><span class="s1">fatal</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">let numericLevel = LEVELS.fatal;</span><span class="s3">\n  </span><span class="s1">if (typeof level === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">if (level.toLowerCase() in LEVELS) {</span><span class="s3">\n      </span><span class="s1">numericLevel = LEVELS[level];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else if (typeof level === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">numericLevel = level;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">log.trace = () =&gt; {</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">log.debug = () =&gt; {</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">log.info = () =&gt; {</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">log.warn = () =&gt; {</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">log.error = () =&gt; {</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">log.fatal = () =&gt; {</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">if (numericLevel &lt;= LEVELS.fatal) {</span><span class="s3">\n    </span><span class="s1">log.fatal = console.error ? console.error.bind(console, format(</span><span class="s3">\&quot;</span><span class="s1">FATAL</span><span class="s3">\&quot;</span><span class="s1">), </span><span class="s3">\&quot;</span><span class="s1">color: orange</span><span class="s3">\&quot;</span><span class="s1">) : console.log.bind(console, </span><span class="s3">\&quot;\\</span><span class="s1">x1B[35m</span><span class="s3">\&quot;</span><span class="s1">, format(</span><span class="s3">\&quot;</span><span class="s1">FATAL</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (numericLevel &lt;= LEVELS.error) {</span><span class="s3">\n    </span><span class="s1">log.error = console.error ? console.error.bind(console, format(</span><span class="s3">\&quot;</span><span class="s1">ERROR</span><span class="s3">\&quot;</span><span class="s1">), </span><span class="s3">\&quot;</span><span class="s1">color: orange</span><span class="s3">\&quot;</span><span class="s1">) : console.log.bind(console, </span><span class="s3">\&quot;\\</span><span class="s1">x1B[31m</span><span class="s3">\&quot;</span><span class="s1">, format(</span><span class="s3">\&quot;</span><span class="s1">ERROR</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (numericLevel &lt;= LEVELS.warn) {</span><span class="s3">\n    </span><span class="s1">log.warn = console.warn ? console.warn.bind(console, format(</span><span class="s3">\&quot;</span><span class="s1">WARN</span><span class="s3">\&quot;</span><span class="s1">), </span><span class="s3">\&quot;</span><span class="s1">color: orange</span><span class="s3">\&quot;</span><span class="s1">) : console.log.bind(console, `</span><span class="s3">\\</span><span class="s1">x1B[33m`, format(</span><span class="s3">\&quot;</span><span class="s1">WARN</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (numericLevel &lt;= LEVELS.info) {</span><span class="s3">\n    </span><span class="s1">log.info = console.info ? console.info.bind(console, format(</span><span class="s3">\&quot;</span><span class="s1">INFO</span><span class="s3">\&quot;</span><span class="s1">), </span><span class="s3">\&quot;</span><span class="s1">color: lightblue</span><span class="s3">\&quot;</span><span class="s1">) : console.log.bind(console, </span><span class="s3">\&quot;\\</span><span class="s1">x1B[34m</span><span class="s3">\&quot;</span><span class="s1">, format(</span><span class="s3">\&quot;</span><span class="s1">INFO</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (numericLevel &lt;= LEVELS.debug) {</span><span class="s3">\n    </span><span class="s1">log.debug = console.debug ? console.debug.bind(console, format(</span><span class="s3">\&quot;</span><span class="s1">DEBUG</span><span class="s3">\&quot;</span><span class="s1">), </span><span class="s3">\&quot;</span><span class="s1">color: lightgreen</span><span class="s3">\&quot;</span><span class="s1">) : console.log.bind(console, </span><span class="s3">\&quot;\\</span><span class="s1">x1B[32m</span><span class="s3">\&quot;</span><span class="s1">, format(</span><span class="s3">\&quot;</span><span class="s1">DEBUG</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (numericLevel &lt;= LEVELS.trace) {</span><span class="s3">\n    </span><span class="s1">log.trace = console.debug ? console.debug.bind(console, format(</span><span class="s3">\&quot;</span><span class="s1">TRACE</span><span class="s3">\&quot;</span><span class="s1">), </span><span class="s3">\&quot;</span><span class="s1">color: lightgreen</span><span class="s3">\&quot;</span><span class="s1">) : console.log.bind(console, </span><span class="s3">\&quot;\\</span><span class="s1">x1B[32m</span><span class="s3">\&quot;</span><span class="s1">, format(</span><span class="s3">\&quot;</span><span class="s1">TRACE</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">setLogLevel</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var format = /* @__PURE__ */ __name((level) =&gt; {</span><span class="s3">\n  </span><span class="s1">const time = dayjs().format(</span><span class="s3">\&quot;</span><span class="s1">ss.SSS</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return `%c${time} : ${level} : `;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">format</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/diagram-api/regexes.ts</span><span class="s3">\n</span><span class="s1">var frontMatterRegex = /^-{3}</span><span class="s3">\\</span><span class="s1">s*[</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\\</span><span class="s1">r](.*?)[</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\\</span><span class="s1">r]-{3}</span><span class="s3">\\</span><span class="s1">s*[</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\\</span><span class="s1">r]+/s;</span><span class="s3">\n</span><span class="s1">var directiveRegex = /%{2}{</span><span class="s3">\\</span><span class="s1">s*(?:(</span><span class="s3">\\</span><span class="s1">w+)</span><span class="s3">\\</span><span class="s1">s*:|(</span><span class="s3">\\</span><span class="s1">w+))</span><span class="s3">\\</span><span class="s1">s*(?:(</span><span class="s3">\\</span><span class="s1">w+)|((?:(?!}%{2}).|</span><span class="s3">\\</span><span class="s1">r?</span><span class="s3">\\</span><span class="s1">n)*))?</span><span class="s3">\\</span><span class="s1">s*(?:}%{2})?/gi;</span><span class="s3">\n</span><span class="s1">var anyCommentRegex = /</span><span class="s3">\\</span><span class="s1">s*%%.*</span><span class="s3">\\</span><span class="s1">n/gm;</span><span class="s3">\n\n</span><span class="s1">// src/errors.ts</span><span class="s3">\n</span><span class="s1">var UnknownDiagramError = class extends Error {</span><span class="s3">\n  </span><span class="s1">static {</span><span class="s3">\n    </span><span class="s1">__name(this, </span><span class="s3">\&quot;</span><span class="s1">UnknownDiagramError</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">constructor(message) {</span><span class="s3">\n    </span><span class="s1">super(message);</span><span class="s3">\n    </span><span class="s1">this.name = </span><span class="s3">\&quot;</span><span class="s1">UnknownDiagramError</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// src/diagram-api/detectType.ts</span><span class="s3">\n</span><span class="s1">var detectors = {};</span><span class="s3">\n</span><span class="s1">var detectType = /* @__PURE__ */ __name(function(text, config2) {</span><span class="s3">\n  </span><span class="s1">text = text.replace(frontMatterRegex, </span><span class="s3">\&quot;\&quot;</span><span class="s1">).replace(directiveRegex, </span><span class="s3">\&quot;\&quot;</span><span class="s1">).replace(anyCommentRegex, </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">for (const [key, { detector }] of Object.entries(detectors)) {</span><span class="s3">\n    </span><span class="s1">const diagram = detector(text, config2);</span><span class="s3">\n    </span><span class="s1">if (diagram) {</span><span class="s3">\n      </span><span class="s1">return key;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">throw new UnknownDiagramError(</span><span class="s3">\n    </span><span class="s1">`No diagram type detected matching given configuration for text: ${text}`</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detectType</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var registerLazyLoadedDiagrams = /* @__PURE__ */ __name((...diagrams2) =&gt; {</span><span class="s3">\n  </span><span class="s1">for (const { id, detector, loader } of diagrams2) {</span><span class="s3">\n    </span><span class="s1">addDetector(id, detector, loader);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">registerLazyLoadedDiagrams</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var addDetector = /* @__PURE__ */ __name((key, detector, loader) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (detectors[key]) {</span><span class="s3">\n    </span><span class="s1">log.warn(`Detector with key ${key} already exists. Overwriting.`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">detectors[key] = { detector, loader };</span><span class="s3">\n  </span><span class="s1">log.debug(`Detector with key ${key} added${loader ? </span><span class="s3">\&quot; </span><span class="s1">with loader</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">}`);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">addDetector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getDiagramLoader = /* @__PURE__ */ __name((key) =&gt; {</span><span class="s3">\n  </span><span class="s1">return detectors[key].loader;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getDiagramLoader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/assignWithDepth.ts</span><span class="s3">\n</span><span class="s1">var assignWithDepth = /* @__PURE__ */ __name((dst, src, { depth = 2, clobber = false } = {}) =&gt; {</span><span class="s3">\n  </span><span class="s1">const config2 = { depth, clobber };</span><span class="s3">\n  </span><span class="s1">if (Array.isArray(src) &amp;&amp; !Array.isArray(dst)) {</span><span class="s3">\n    </span><span class="s1">src.forEach((s) =&gt; assignWithDepth(dst, s, config2));</span><span class="s3">\n    </span><span class="s1">return dst;</span><span class="s3">\n  </span><span class="s1">} else if (Array.isArray(src) &amp;&amp; Array.isArray(dst)) {</span><span class="s3">\n    </span><span class="s1">src.forEach((s) =&gt; {</span><span class="s3">\n      </span><span class="s1">if (!dst.includes(s)) {</span><span class="s3">\n        </span><span class="s1">dst.push(s);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">return dst;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (dst === void 0 || depth &lt;= 0) {</span><span class="s3">\n    </span><span class="s1">if (dst !== void 0 &amp;&amp; dst !== null &amp;&amp; typeof dst === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; typeof src === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return Object.assign(dst, src);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return src;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (src !== void 0 &amp;&amp; typeof dst === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; typeof src === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">Object.keys(src).forEach((key) =&gt; {</span><span class="s3">\n      </span><span class="s1">if (typeof src[key] === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; (dst[key] === void 0 || typeof dst[key] === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n        </span><span class="s1">if (dst[key] === void 0) {</span><span class="s3">\n          </span><span class="s1">dst[key] = Array.isArray(src[key]) ? [] : {};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">dst[key] = assignWithDepth(dst[key], src[key], { depth: depth - 1, clobber });</span><span class="s3">\n      </span><span class="s1">} else if (clobber || typeof dst[key] !== </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; typeof src[key] !== </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">dst[key] = src[key];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return dst;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">assignWithDepth</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var assignWithDepth_default = assignWithDepth;</span><span class="s3">\n\n</span><span class="s1">// src/themes/theme-base.js</span><span class="s3">\n</span><span class="s1">import { adjust as adjust2, darken, invert, isDark, lighten } from </span><span class="s3">\&quot;</span><span class="s1">khroma</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/themes/erDiagram-oldHardcodedValues.ts</span><span class="s3">\n</span><span class="s1">var oldAttributeBackgroundColorOdd = </span><span class="s3">\&quot;</span><span class="s1">#ffffff</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var oldAttributeBackgroundColorEven = </span><span class="s3">\&quot;</span><span class="s1">#f2f2f2</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/themes/theme-helpers.js</span><span class="s3">\n</span><span class="s1">import { adjust } from </span><span class="s3">\&quot;</span><span class="s1">khroma</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var mkBorder = /* @__PURE__ */ __name((col, darkMode) =&gt; darkMode ? adjust(col, { s: -40, l: 10 }) : adjust(col, { s: -40, l: -10 }), </span><span class="s3">\&quot;</span><span class="s1">mkBorder</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/themes/theme-base.js</span><span class="s3">\n</span><span class="s1">var Theme = class {</span><span class="s3">\n  </span><span class="s1">static {</span><span class="s3">\n    </span><span class="s1">__name(this, </span><span class="s3">\&quot;</span><span class="s1">Theme</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">constructor() {</span><span class="s3">\n    </span><span class="s1">this.background = </span><span class="s3">\&quot;</span><span class="s1">#f4f4f4</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.primaryColor = </span><span class="s3">\&quot;</span><span class="s1">#fff4dd</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.noteBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#fff5ad</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.noteTextColor = </span><span class="s3">\&quot;</span><span class="s1">#333</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.THEME_COLOR_LIMIT = 12;</span><span class="s3">\n    </span><span class="s1">this.fontFamily = '</span><span class="s3">\&quot;</span><span class="s1">trebuchet ms</span><span class="s3">\&quot;</span><span class="s1">, verdana, arial, sans-serif';</span><span class="s3">\n    </span><span class="s1">this.fontSize = </span><span class="s3">\&quot;</span><span class="s1">16px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateColors() {</span><span class="s3">\n    </span><span class="s1">this.primaryTextColor = this.primaryTextColor || (this.darkMode ? </span><span class="s3">\&quot;</span><span class="s1">#eee</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#333</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">this.secondaryColor = this.secondaryColor || adjust2(this.primaryColor, { h: -120 });</span><span class="s3">\n    </span><span class="s1">this.tertiaryColor = this.tertiaryColor || adjust2(this.primaryColor, { h: 180, l: 5 });</span><span class="s3">\n    </span><span class="s1">this.primaryBorderColor = this.primaryBorderColor || mkBorder(this.primaryColor, this.darkMode);</span><span class="s3">\n    </span><span class="s1">this.secondaryBorderColor = this.secondaryBorderColor || mkBorder(this.secondaryColor, this.darkMode);</span><span class="s3">\n    </span><span class="s1">this.tertiaryBorderColor = this.tertiaryBorderColor || mkBorder(this.tertiaryColor, this.darkMode);</span><span class="s3">\n    </span><span class="s1">this.noteBorderColor = this.noteBorderColor || mkBorder(this.noteBkgColor, this.darkMode);</span><span class="s3">\n    </span><span class="s1">this.noteBkgColor = this.noteBkgColor || </span><span class="s3">\&quot;</span><span class="s1">#fff5ad</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.noteTextColor = this.noteTextColor || </span><span class="s3">\&quot;</span><span class="s1">#333</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.secondaryTextColor = this.secondaryTextColor || invert(this.secondaryColor);</span><span class="s3">\n    </span><span class="s1">this.tertiaryTextColor = this.tertiaryTextColor || invert(this.tertiaryColor);</span><span class="s3">\n    </span><span class="s1">this.lineColor = this.lineColor || invert(this.background);</span><span class="s3">\n    </span><span class="s1">this.arrowheadColor = this.arrowheadColor || invert(this.background);</span><span class="s3">\n    </span><span class="s1">this.textColor = this.textColor || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.border2 = this.border2 || this.tertiaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.nodeBkg = this.nodeBkg || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.mainBkg = this.mainBkg || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.nodeBorder = this.nodeBorder || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.clusterBkg = this.clusterBkg || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.clusterBorder = this.clusterBorder || this.tertiaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.defaultLinkColor = this.defaultLinkColor || this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.titleColor = this.titleColor || this.tertiaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.edgeLabelBackground = this.edgeLabelBackground || (this.darkMode ? darken(this.secondaryColor, 30) : this.secondaryColor);</span><span class="s3">\n    </span><span class="s1">this.nodeTextColor = this.nodeTextColor || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.actorBorder = this.actorBorder || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.actorBkg = this.actorBkg || this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.actorTextColor = this.actorTextColor || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.actorLineColor = this.actorLineColor || this.actorBorder;</span><span class="s3">\n    </span><span class="s1">this.labelBoxBkgColor = this.labelBoxBkgColor || this.actorBkg;</span><span class="s3">\n    </span><span class="s1">this.signalColor = this.signalColor || this.textColor;</span><span class="s3">\n    </span><span class="s1">this.signalTextColor = this.signalTextColor || this.textColor;</span><span class="s3">\n    </span><span class="s1">this.labelBoxBorderColor = this.labelBoxBorderColor || this.actorBorder;</span><span class="s3">\n    </span><span class="s1">this.labelTextColor = this.labelTextColor || this.actorTextColor;</span><span class="s3">\n    </span><span class="s1">this.loopTextColor = this.loopTextColor || this.actorTextColor;</span><span class="s3">\n    </span><span class="s1">this.activationBorderColor = this.activationBorderColor || darken(this.secondaryColor, 10);</span><span class="s3">\n    </span><span class="s1">this.activationBkgColor = this.activationBkgColor || this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.sequenceNumberColor = this.sequenceNumberColor || invert(this.lineColor);</span><span class="s3">\n    </span><span class="s1">this.sectionBkgColor = this.sectionBkgColor || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.altSectionBkgColor = this.altSectionBkgColor || </span><span class="s3">\&quot;</span><span class="s1">white</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.sectionBkgColor = this.sectionBkgColor || this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.sectionBkgColor2 = this.sectionBkgColor2 || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.excludeBkgColor = this.excludeBkgColor || </span><span class="s3">\&quot;</span><span class="s1">#eeeeee</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskBorderColor = this.taskBorderColor || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.taskBkgColor = this.taskBkgColor || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.activeTaskBorderColor = this.activeTaskBorderColor || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.activeTaskBkgColor = this.activeTaskBkgColor || lighten(this.primaryColor, 23);</span><span class="s3">\n    </span><span class="s1">this.gridColor = this.gridColor || </span><span class="s3">\&quot;</span><span class="s1">lightgrey</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.doneTaskBkgColor = this.doneTaskBkgColor || </span><span class="s3">\&quot;</span><span class="s1">lightgrey</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.doneTaskBorderColor = this.doneTaskBorderColor || </span><span class="s3">\&quot;</span><span class="s1">grey</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.critBorderColor = this.critBorderColor || </span><span class="s3">\&quot;</span><span class="s1">#ff8888</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.critBkgColor = this.critBkgColor || </span><span class="s3">\&quot;</span><span class="s1">red</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.todayLineColor = this.todayLineColor || </span><span class="s3">\&quot;</span><span class="s1">red</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextColor = this.taskTextColor || this.textColor;</span><span class="s3">\n    </span><span class="s1">this.taskTextOutsideColor = this.taskTextOutsideColor || this.textColor;</span><span class="s3">\n    </span><span class="s1">this.taskTextLightColor = this.taskTextLightColor || this.textColor;</span><span class="s3">\n    </span><span class="s1">this.taskTextColor = this.taskTextColor || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.taskTextDarkColor = this.taskTextDarkColor || this.textColor;</span><span class="s3">\n    </span><span class="s1">this.taskTextClickableColor = this.taskTextClickableColor || </span><span class="s3">\&quot;</span><span class="s1">#003163</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.personBorder = this.personBorder || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.personBkg = this.personBkg || this.mainBkg;</span><span class="s3">\n    </span><span class="s1">if (this.darkMode) {</span><span class="s3">\n      </span><span class="s1">this.rowOdd = this.rowOdd || darken(this.mainBkg, 5) || </span><span class="s3">\&quot;</span><span class="s1">#ffffff</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">this.rowEven = this.rowEven || darken(this.mainBkg, 10);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">this.rowOdd = this.rowOdd || lighten(this.mainBkg, 75) || </span><span class="s3">\&quot;</span><span class="s1">#ffffff</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">this.rowEven = this.rowEven || lighten(this.mainBkg, 5);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this.transitionColor = this.transitionColor || this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.transitionLabelColor = this.transitionLabelColor || this.textColor;</span><span class="s3">\n    </span><span class="s1">this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.stateBkg = this.stateBkg || this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;</span><span class="s3">\n    </span><span class="s1">this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.altBackground = this.altBackground || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.compositeBorder = this.compositeBorder || this.nodeBorder;</span><span class="s3">\n    </span><span class="s1">this.innerEndBackground = this.nodeBorder;</span><span class="s3">\n    </span><span class="s1">this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.transitionColor = this.transitionColor || this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.specialStateColor = this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.cScale0 = this.cScale0 || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.cScale1 = this.cScale1 || this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.cScale2 = this.cScale2 || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.cScale3 = this.cScale3 || adjust2(this.primaryColor, { h: 30 });</span><span class="s3">\n    </span><span class="s1">this.cScale4 = this.cScale4 || adjust2(this.primaryColor, { h: 60 });</span><span class="s3">\n    </span><span class="s1">this.cScale5 = this.cScale5 || adjust2(this.primaryColor, { h: 90 });</span><span class="s3">\n    </span><span class="s1">this.cScale6 = this.cScale6 || adjust2(this.primaryColor, { h: 120 });</span><span class="s3">\n    </span><span class="s1">this.cScale7 = this.cScale7 || adjust2(this.primaryColor, { h: 150 });</span><span class="s3">\n    </span><span class="s1">this.cScale8 = this.cScale8 || adjust2(this.primaryColor, { h: 210, l: 150 });</span><span class="s3">\n    </span><span class="s1">this.cScale9 = this.cScale9 || adjust2(this.primaryColor, { h: 270 });</span><span class="s3">\n    </span><span class="s1">this.cScale10 = this.cScale10 || adjust2(this.primaryColor, { h: 300 });</span><span class="s3">\n    </span><span class="s1">this.cScale11 = this.cScale11 || adjust2(this.primaryColor, { h: 330 });</span><span class="s3">\n    </span><span class="s1">if (this.darkMode) {</span><span class="s3">\n      </span><span class="s1">for (let i = 0; i &lt; this.THEME_COLOR_LIMIT; i++) {</span><span class="s3">\n        </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i] = darken(this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i], 75);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">for (let i = 0; i &lt; this.THEME_COLOR_LIMIT; i++) {</span><span class="s3">\n        </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i] = darken(this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i], 25);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; this.THEME_COLOR_LIMIT; i++) {</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScaleInv</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">cScaleInv</span><span class="s3">\&quot; </span><span class="s1">+ i] || invert(this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; this.THEME_COLOR_LIMIT; i++) {</span><span class="s3">\n      </span><span class="s1">if (this.darkMode) {</span><span class="s3">\n        </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] || lighten(this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i], 10);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] || darken(this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i], 10);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this.scaleLabelColor = this.scaleLabelColor || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; this.THEME_COLOR_LIMIT; i++) {</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScaleLabel</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">cScaleLabel</span><span class="s3">\&quot; </span><span class="s1">+ i] || this.scaleLabelColor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const multiplier = this.darkMode ? -4 : -1;</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; 5; i++) {</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">surface</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">surface</span><span class="s3">\&quot; </span><span class="s1">+ i] || adjust2(this.mainBkg, { h: 180, s: -15, l: multiplier * (5 + i * 3) });</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">surfacePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">surfacePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] || adjust2(this.mainBkg, { h: 180, s: -15, l: multiplier * (8 + i * 3) });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this.classText = this.classText || this.textColor;</span><span class="s3">\n    </span><span class="s1">this.fillType0 = this.fillType0 || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.fillType1 = this.fillType1 || this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.fillType2 = this.fillType2 || adjust2(this.primaryColor, { h: 64 });</span><span class="s3">\n    </span><span class="s1">this.fillType3 = this.fillType3 || adjust2(this.secondaryColor, { h: 64 });</span><span class="s3">\n    </span><span class="s1">this.fillType4 = this.fillType4 || adjust2(this.primaryColor, { h: -64 });</span><span class="s3">\n    </span><span class="s1">this.fillType5 = this.fillType5 || adjust2(this.secondaryColor, { h: -64 });</span><span class="s3">\n    </span><span class="s1">this.fillType6 = this.fillType6 || adjust2(this.primaryColor, { h: 128 });</span><span class="s3">\n    </span><span class="s1">this.fillType7 = this.fillType7 || adjust2(this.secondaryColor, { h: 128 });</span><span class="s3">\n    </span><span class="s1">this.pie1 = this.pie1 || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.pie2 = this.pie2 || this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.pie3 = this.pie3 || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.pie4 = this.pie4 || adjust2(this.primaryColor, { l: -10 });</span><span class="s3">\n    </span><span class="s1">this.pie5 = this.pie5 || adjust2(this.secondaryColor, { l: -10 });</span><span class="s3">\n    </span><span class="s1">this.pie6 = this.pie6 || adjust2(this.tertiaryColor, { l: -10 });</span><span class="s3">\n    </span><span class="s1">this.pie7 = this.pie7 || adjust2(this.primaryColor, { h: 60, l: -10 });</span><span class="s3">\n    </span><span class="s1">this.pie8 = this.pie8 || adjust2(this.primaryColor, { h: -60, l: -10 });</span><span class="s3">\n    </span><span class="s1">this.pie9 = this.pie9 || adjust2(this.primaryColor, { h: 120, l: 0 });</span><span class="s3">\n    </span><span class="s1">this.pie10 = this.pie10 || adjust2(this.primaryColor, { h: 60, l: -20 });</span><span class="s3">\n    </span><span class="s1">this.pie11 = this.pie11 || adjust2(this.primaryColor, { h: -60, l: -20 });</span><span class="s3">\n    </span><span class="s1">this.pie12 = this.pie12 || adjust2(this.primaryColor, { h: 120, l: -10 });</span><span class="s3">\n    </span><span class="s1">this.pieTitleTextSize = this.pieTitleTextSize || </span><span class="s3">\&quot;</span><span class="s1">25px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;</span><span class="s3">\n    </span><span class="s1">this.pieSectionTextSize = this.pieSectionTextSize || </span><span class="s3">\&quot;</span><span class="s1">17px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;</span><span class="s3">\n    </span><span class="s1">this.pieLegendTextSize = this.pieLegendTextSize || </span><span class="s3">\&quot;</span><span class="s1">17px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;</span><span class="s3">\n    </span><span class="s1">this.pieStrokeColor = this.pieStrokeColor || </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieStrokeWidth = this.pieStrokeWidth || </span><span class="s3">\&quot;</span><span class="s1">2px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || </span><span class="s3">\&quot;</span><span class="s1">2px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieOuterStrokeColor = this.pieOuterStrokeColor || </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieOpacity = this.pieOpacity || </span><span class="s3">\&quot;</span><span class="s1">0.7</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.radar = {</span><span class="s3">\n      </span><span class="s1">axisColor: this.radar?.axisColor || this.lineColor,</span><span class="s3">\n      </span><span class="s1">axisStrokeWidth: this.radar?.axisStrokeWidth || 2,</span><span class="s3">\n      </span><span class="s1">axisLabelFontSize: this.radar?.axisLabelFontSize || 12,</span><span class="s3">\n      </span><span class="s1">curveOpacity: this.radar?.curveOpacity || 0.5,</span><span class="s3">\n      </span><span class="s1">curveStrokeWidth: this.radar?.curveStrokeWidth || 2,</span><span class="s3">\n      </span><span class="s1">graticuleColor: this.radar?.graticuleColor || </span><span class="s3">\&quot;</span><span class="s1">#DEDEDE</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">graticuleStrokeWidth: this.radar?.graticuleStrokeWidth || 1,</span><span class="s3">\n      </span><span class="s1">graticuleOpacity: this.radar?.graticuleOpacity || 0.3,</span><span class="s3">\n      </span><span class="s1">legendBoxSize: this.radar?.legendBoxSize || 12,</span><span class="s3">\n      </span><span class="s1">legendFontSize: this.radar?.legendFontSize || 12</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">this.archEdgeColor = this.archEdgeColor || </span><span class="s3">\&quot;</span><span class="s1">#777</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.archEdgeArrowColor = this.archEdgeArrowColor || </span><span class="s3">\&quot;</span><span class="s1">#777</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.archEdgeWidth = this.archEdgeWidth || </span><span class="s3">\&quot;</span><span class="s1">3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.archGroupBorderColor = this.archGroupBorderColor || </span><span class="s3">\&quot;</span><span class="s1">#000</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.archGroupBorderWidth = this.archGroupBorderWidth || </span><span class="s3">\&quot;</span><span class="s1">2px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.quadrant1Fill = this.quadrant1Fill || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.quadrant2Fill = this.quadrant2Fill || adjust2(this.primaryColor, { r: 5, g: 5, b: 5 });</span><span class="s3">\n    </span><span class="s1">this.quadrant3Fill = this.quadrant3Fill || adjust2(this.primaryColor, { r: 10, g: 10, b: 10 });</span><span class="s3">\n    </span><span class="s1">this.quadrant4Fill = this.quadrant4Fill || adjust2(this.primaryColor, { r: 15, g: 15, b: 15 });</span><span class="s3">\n    </span><span class="s1">this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrant2TextFill = this.quadrant2TextFill || adjust2(this.primaryTextColor, { r: -5, g: -5, b: -5 });</span><span class="s3">\n    </span><span class="s1">this.quadrant3TextFill = this.quadrant3TextFill || adjust2(this.primaryTextColor, { r: -10, g: -10, b: -10 });</span><span class="s3">\n    </span><span class="s1">this.quadrant4TextFill = this.quadrant4TextFill || adjust2(this.primaryTextColor, { r: -15, g: -15, b: -15 });</span><span class="s3">\n    </span><span class="s1">this.quadrantPointFill = this.quadrantPointFill || isDark(this.quadrant1Fill) ? lighten(this.quadrant1Fill) : darken(this.quadrant1Fill);</span><span class="s3">\n    </span><span class="s1">this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.xyChart = {</span><span class="s3">\n      </span><span class="s1">backgroundColor: this.xyChart?.backgroundColor || this.background,</span><span class="s3">\n      </span><span class="s1">titleColor: this.xyChart?.titleColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisTitleColor: this.xyChart?.xAxisTitleColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisLabelColor: this.xyChart?.xAxisLabelColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisTickColor: this.xyChart?.xAxisTickColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisLineColor: this.xyChart?.xAxisLineColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisTitleColor: this.xyChart?.yAxisTitleColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisLabelColor: this.xyChart?.yAxisLabelColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisTickColor: this.xyChart?.yAxisTickColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisLineColor: this.xyChart?.yAxisLineColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">plotColorPalette: this.xyChart?.plotColorPalette || </span><span class="s3">\&quot;</span><span class="s1">#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0</span><span class="s3">\&quot;\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">this.requirementBackground = this.requirementBackground || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.requirementBorderSize = this.requirementBorderSize || </span><span class="s3">\&quot;</span><span class="s1">1</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.relationColor = this.relationColor || this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.relationLabelBackground = this.relationLabelBackground || (this.darkMode ? darken(this.secondaryColor, 30) : this.secondaryColor);</span><span class="s3">\n    </span><span class="s1">this.relationLabelColor = this.relationLabelColor || this.actorTextColor;</span><span class="s3">\n    </span><span class="s1">this.git0 = this.git0 || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.git1 = this.git1 || this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.git2 = this.git2 || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.git3 = this.git3 || adjust2(this.primaryColor, { h: -30 });</span><span class="s3">\n    </span><span class="s1">this.git4 = this.git4 || adjust2(this.primaryColor, { h: -60 });</span><span class="s3">\n    </span><span class="s1">this.git5 = this.git5 || adjust2(this.primaryColor, { h: -90 });</span><span class="s3">\n    </span><span class="s1">this.git6 = this.git6 || adjust2(this.primaryColor, { h: 60 });</span><span class="s3">\n    </span><span class="s1">this.git7 = this.git7 || adjust2(this.primaryColor, { h: 120 });</span><span class="s3">\n    </span><span class="s1">if (this.darkMode) {</span><span class="s3">\n      </span><span class="s1">this.git0 = lighten(this.git0, 25);</span><span class="s3">\n      </span><span class="s1">this.git1 = lighten(this.git1, 25);</span><span class="s3">\n      </span><span class="s1">this.git2 = lighten(this.git2, 25);</span><span class="s3">\n      </span><span class="s1">this.git3 = lighten(this.git3, 25);</span><span class="s3">\n      </span><span class="s1">this.git4 = lighten(this.git4, 25);</span><span class="s3">\n      </span><span class="s1">this.git5 = lighten(this.git5, 25);</span><span class="s3">\n      </span><span class="s1">this.git6 = lighten(this.git6, 25);</span><span class="s3">\n      </span><span class="s1">this.git7 = lighten(this.git7, 25);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">this.git0 = darken(this.git0, 25);</span><span class="s3">\n      </span><span class="s1">this.git1 = darken(this.git1, 25);</span><span class="s3">\n      </span><span class="s1">this.git2 = darken(this.git2, 25);</span><span class="s3">\n      </span><span class="s1">this.git3 = darken(this.git3, 25);</span><span class="s3">\n      </span><span class="s1">this.git4 = darken(this.git4, 25);</span><span class="s3">\n      </span><span class="s1">this.git5 = darken(this.git5, 25);</span><span class="s3">\n      </span><span class="s1">this.git6 = darken(this.git6, 25);</span><span class="s3">\n      </span><span class="s1">this.git7 = darken(this.git7, 25);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this.gitInv0 = this.gitInv0 || invert(this.git0);</span><span class="s3">\n    </span><span class="s1">this.gitInv1 = this.gitInv1 || invert(this.git1);</span><span class="s3">\n    </span><span class="s1">this.gitInv2 = this.gitInv2 || invert(this.git2);</span><span class="s3">\n    </span><span class="s1">this.gitInv3 = this.gitInv3 || invert(this.git3);</span><span class="s3">\n    </span><span class="s1">this.gitInv4 = this.gitInv4 || invert(this.git4);</span><span class="s3">\n    </span><span class="s1">this.gitInv5 = this.gitInv5 || invert(this.git5);</span><span class="s3">\n    </span><span class="s1">this.gitInv6 = this.gitInv6 || invert(this.git6);</span><span class="s3">\n    </span><span class="s1">this.gitInv7 = this.gitInv7 || invert(this.git7);</span><span class="s3">\n    </span><span class="s1">this.branchLabelColor = this.branchLabelColor || (this.darkMode ? </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot; </span><span class="s1">: this.labelTextColor);</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel0 = this.gitBranchLabel0 || this.branchLabelColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel1 = this.gitBranchLabel1 || this.branchLabelColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel2 = this.gitBranchLabel2 || this.branchLabelColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel3 = this.gitBranchLabel3 || this.branchLabelColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel4 = this.gitBranchLabel4 || this.branchLabelColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel5 = this.gitBranchLabel5 || this.branchLabelColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel6 = this.gitBranchLabel6 || this.branchLabelColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel7 = this.gitBranchLabel7 || this.branchLabelColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelFontSize = this.tagLabelFontSize || </span><span class="s3">\&quot;</span><span class="s1">10px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.commitLabelFontSize = this.commitLabelFontSize || </span><span class="s3">\&quot;</span><span class="s1">10px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || oldAttributeBackgroundColorOdd;</span><span class="s3">\n    </span><span class="s1">this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || oldAttributeBackgroundColorEven;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">calculate(overrides) {</span><span class="s3">\n    </span><span class="s1">if (typeof overrides !== </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">this.updateColors();</span><span class="s3">\n      </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const keys = Object.keys(overrides);</span><span class="s3">\n    </span><span class="s1">keys.forEach((k) =&gt; {</span><span class="s3">\n      </span><span class="s1">this[k] = overrides[k];</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">this.updateColors();</span><span class="s3">\n    </span><span class="s1">keys.forEach((k) =&gt; {</span><span class="s3">\n      </span><span class="s1">this[k] = overrides[k];</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var getThemeVariables = /* @__PURE__ */ __name((userOverrides) =&gt; {</span><span class="s3">\n  </span><span class="s1">const theme = new Theme();</span><span class="s3">\n  </span><span class="s1">theme.calculate(userOverrides);</span><span class="s3">\n  </span><span class="s1">return theme;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getThemeVariables</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/themes/theme-dark.js</span><span class="s3">\n</span><span class="s1">import { adjust as adjust3, darken as darken2, invert as invert2, isDark as isDark2, lighten as lighten2, rgba } from </span><span class="s3">\&quot;</span><span class="s1">khroma</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var Theme2 = class {</span><span class="s3">\n  </span><span class="s1">static {</span><span class="s3">\n    </span><span class="s1">__name(this, </span><span class="s3">\&quot;</span><span class="s1">Theme</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">constructor() {</span><span class="s3">\n    </span><span class="s1">this.background = </span><span class="s3">\&quot;</span><span class="s1">#333</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.primaryColor = </span><span class="s3">\&quot;</span><span class="s1">#1f2020</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.secondaryColor = lighten2(this.primaryColor, 16);</span><span class="s3">\n    </span><span class="s1">this.tertiaryColor = adjust3(this.primaryColor, { h: -160 });</span><span class="s3">\n    </span><span class="s1">this.primaryBorderColor = invert2(this.background);</span><span class="s3">\n    </span><span class="s1">this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);</span><span class="s3">\n    </span><span class="s1">this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);</span><span class="s3">\n    </span><span class="s1">this.primaryTextColor = invert2(this.primaryColor);</span><span class="s3">\n    </span><span class="s1">this.secondaryTextColor = invert2(this.secondaryColor);</span><span class="s3">\n    </span><span class="s1">this.tertiaryTextColor = invert2(this.tertiaryColor);</span><span class="s3">\n    </span><span class="s1">this.lineColor = invert2(this.background);</span><span class="s3">\n    </span><span class="s1">this.textColor = invert2(this.background);</span><span class="s3">\n    </span><span class="s1">this.mainBkg = </span><span class="s3">\&quot;</span><span class="s1">#1f2020</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.secondBkg = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.mainContrastColor = </span><span class="s3">\&quot;</span><span class="s1">lightgrey</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.darkTextColor = lighten2(invert2(</span><span class="s3">\&quot;</span><span class="s1">#323D47</span><span class="s3">\&quot;</span><span class="s1">), 10);</span><span class="s3">\n    </span><span class="s1">this.lineColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.border1 = </span><span class="s3">\&quot;</span><span class="s1">#ccc</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.border2 = rgba(255, 255, 255, 0.25);</span><span class="s3">\n    </span><span class="s1">this.arrowheadColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.fontFamily = '</span><span class="s3">\&quot;</span><span class="s1">trebuchet ms</span><span class="s3">\&quot;</span><span class="s1">, verdana, arial, sans-serif';</span><span class="s3">\n    </span><span class="s1">this.fontSize = </span><span class="s3">\&quot;</span><span class="s1">16px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.labelBackground = </span><span class="s3">\&quot;</span><span class="s1">#181818</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.textColor = </span><span class="s3">\&quot;</span><span class="s1">#ccc</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.THEME_COLOR_LIMIT = 12;</span><span class="s3">\n    </span><span class="s1">this.nodeBkg = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.nodeBorder = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.clusterBkg = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.clusterBorder = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.defaultLinkColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.titleColor = </span><span class="s3">\&quot;</span><span class="s1">#F9FFFE</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.edgeLabelBackground = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.actorBorder = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.actorBkg = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.actorTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.actorLineColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.signalColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.signalTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.labelBoxBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.labelBoxBorderColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.labelTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.loopTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.noteBorderColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.noteBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#fff5ad</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.noteTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.activationBorderColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.activationBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.sequenceNumberColor = </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.sectionBkgColor = darken2(</span><span class="s3">\&quot;</span><span class="s1">#EAE8D9</span><span class="s3">\&quot;</span><span class="s1">, 30);</span><span class="s3">\n    </span><span class="s1">this.altSectionBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.sectionBkgColor2 = </span><span class="s3">\&quot;</span><span class="s1">#EAE8D9</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.excludeBkgColor = darken2(this.sectionBkgColor, 10);</span><span class="s3">\n    </span><span class="s1">this.taskBorderColor = rgba(255, 255, 255, 70);</span><span class="s3">\n    </span><span class="s1">this.taskBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextLightColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextOutsideColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextClickableColor = </span><span class="s3">\&quot;</span><span class="s1">#003163</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.activeTaskBorderColor = rgba(255, 255, 255, 50);</span><span class="s3">\n    </span><span class="s1">this.activeTaskBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#81B1DB</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.gridColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.doneTaskBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.doneTaskBorderColor = </span><span class="s3">\&quot;</span><span class="s1">grey</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.critBorderColor = </span><span class="s3">\&quot;</span><span class="s1">#E83737</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.critBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#E83737</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextDarkColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.todayLineColor = </span><span class="s3">\&quot;</span><span class="s1">#DB5757</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.personBorder = this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.personBkg = this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.archEdgeColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.archEdgeArrowColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.archEdgeWidth = </span><span class="s3">\&quot;</span><span class="s1">3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.archGroupBorderColor = this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.archGroupBorderWidth = </span><span class="s3">\&quot;</span><span class="s1">2px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.rowOdd = this.rowOdd || lighten2(this.mainBkg, 5) || </span><span class="s3">\&quot;</span><span class="s1">#ffffff</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.rowEven = this.rowEven || darken2(this.mainBkg, 10);</span><span class="s3">\n    </span><span class="s1">this.labelColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.errorBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#a44141</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.errorTextColor = </span><span class="s3">\&quot;</span><span class="s1">#ddd</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateColors() {</span><span class="s3">\n    </span><span class="s1">this.secondBkg = lighten2(this.mainBkg, 16);</span><span class="s3">\n    </span><span class="s1">this.lineColor = this.mainContrastColor;</span><span class="s3">\n    </span><span class="s1">this.arrowheadColor = this.mainContrastColor;</span><span class="s3">\n    </span><span class="s1">this.nodeBkg = this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.nodeBorder = this.border1;</span><span class="s3">\n    </span><span class="s1">this.clusterBkg = this.secondBkg;</span><span class="s3">\n    </span><span class="s1">this.clusterBorder = this.border2;</span><span class="s3">\n    </span><span class="s1">this.defaultLinkColor = this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.edgeLabelBackground = lighten2(this.labelBackground, 25);</span><span class="s3">\n    </span><span class="s1">this.actorBorder = this.border1;</span><span class="s3">\n    </span><span class="s1">this.actorBkg = this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.actorTextColor = this.mainContrastColor;</span><span class="s3">\n    </span><span class="s1">this.actorLineColor = this.actorBorder;</span><span class="s3">\n    </span><span class="s1">this.signalColor = this.mainContrastColor;</span><span class="s3">\n    </span><span class="s1">this.signalTextColor = this.mainContrastColor;</span><span class="s3">\n    </span><span class="s1">this.labelBoxBkgColor = this.actorBkg;</span><span class="s3">\n    </span><span class="s1">this.labelBoxBorderColor = this.actorBorder;</span><span class="s3">\n    </span><span class="s1">this.labelTextColor = this.mainContrastColor;</span><span class="s3">\n    </span><span class="s1">this.loopTextColor = this.mainContrastColor;</span><span class="s3">\n    </span><span class="s1">this.noteBorderColor = this.secondaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.noteBkgColor = this.secondBkg;</span><span class="s3">\n    </span><span class="s1">this.noteTextColor = this.secondaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.activationBorderColor = this.border1;</span><span class="s3">\n    </span><span class="s1">this.activationBkgColor = this.secondBkg;</span><span class="s3">\n    </span><span class="s1">this.altSectionBkgColor = this.background;</span><span class="s3">\n    </span><span class="s1">this.taskBkgColor = lighten2(this.mainBkg, 23);</span><span class="s3">\n    </span><span class="s1">this.taskTextColor = this.darkTextColor;</span><span class="s3">\n    </span><span class="s1">this.taskTextLightColor = this.mainContrastColor;</span><span class="s3">\n    </span><span class="s1">this.taskTextOutsideColor = this.taskTextLightColor;</span><span class="s3">\n    </span><span class="s1">this.gridColor = this.mainContrastColor;</span><span class="s3">\n    </span><span class="s1">this.doneTaskBkgColor = this.mainContrastColor;</span><span class="s3">\n    </span><span class="s1">this.taskTextDarkColor = this.darkTextColor;</span><span class="s3">\n    </span><span class="s1">this.archEdgeColor = this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.archEdgeArrowColor = this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.transitionColor = this.transitionColor || this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.transitionLabelColor = this.transitionLabelColor || this.textColor;</span><span class="s3">\n    </span><span class="s1">this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.stateBkg = this.stateBkg || this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;</span><span class="s3">\n    </span><span class="s1">this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.altBackground = this.altBackground || </span><span class="s3">\&quot;</span><span class="s1">#555</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.compositeBorder = this.compositeBorder || this.nodeBorder;</span><span class="s3">\n    </span><span class="s1">this.innerEndBackground = this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.specialStateColor = </span><span class="s3">\&quot;</span><span class="s1">#f4f4f4</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.fillType0 = this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.fillType1 = this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.fillType2 = adjust3(this.primaryColor, { h: 64 });</span><span class="s3">\n    </span><span class="s1">this.fillType3 = adjust3(this.secondaryColor, { h: 64 });</span><span class="s3">\n    </span><span class="s1">this.fillType4 = adjust3(this.primaryColor, { h: -64 });</span><span class="s3">\n    </span><span class="s1">this.fillType5 = adjust3(this.secondaryColor, { h: -64 });</span><span class="s3">\n    </span><span class="s1">this.fillType6 = adjust3(this.primaryColor, { h: 128 });</span><span class="s3">\n    </span><span class="s1">this.fillType7 = adjust3(this.secondaryColor, { h: 128 });</span><span class="s3">\n    </span><span class="s1">this.cScale1 = this.cScale1 || </span><span class="s3">\&quot;</span><span class="s1">#0b0000</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale2 = this.cScale2 || </span><span class="s3">\&quot;</span><span class="s1">#4d1037</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale3 = this.cScale3 || </span><span class="s3">\&quot;</span><span class="s1">#3f5258</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale4 = this.cScale4 || </span><span class="s3">\&quot;</span><span class="s1">#4f2f1b</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale5 = this.cScale5 || </span><span class="s3">\&quot;</span><span class="s1">#6e0a0a</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale6 = this.cScale6 || </span><span class="s3">\&quot;</span><span class="s1">#3b0048</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale7 = this.cScale7 || </span><span class="s3">\&quot;</span><span class="s1">#995a01</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale8 = this.cScale8 || </span><span class="s3">\&quot;</span><span class="s1">#154706</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale9 = this.cScale9 || </span><span class="s3">\&quot;</span><span class="s1">#161722</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale10 = this.cScale10 || </span><span class="s3">\&quot;</span><span class="s1">#00296f</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale11 = this.cScale11 || </span><span class="s3">\&quot;</span><span class="s1">#01629c</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale12 = this.cScale12 || </span><span class="s3">\&quot;</span><span class="s1">#010029</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale0 = this.cScale0 || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.cScale1 = this.cScale1 || this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.cScale2 = this.cScale2 || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.cScale3 = this.cScale3 || adjust3(this.primaryColor, { h: 30 });</span><span class="s3">\n    </span><span class="s1">this.cScale4 = this.cScale4 || adjust3(this.primaryColor, { h: 60 });</span><span class="s3">\n    </span><span class="s1">this.cScale5 = this.cScale5 || adjust3(this.primaryColor, { h: 90 });</span><span class="s3">\n    </span><span class="s1">this.cScale6 = this.cScale6 || adjust3(this.primaryColor, { h: 120 });</span><span class="s3">\n    </span><span class="s1">this.cScale7 = this.cScale7 || adjust3(this.primaryColor, { h: 150 });</span><span class="s3">\n    </span><span class="s1">this.cScale8 = this.cScale8 || adjust3(this.primaryColor, { h: 210 });</span><span class="s3">\n    </span><span class="s1">this.cScale9 = this.cScale9 || adjust3(this.primaryColor, { h: 270 });</span><span class="s3">\n    </span><span class="s1">this.cScale10 = this.cScale10 || adjust3(this.primaryColor, { h: 300 });</span><span class="s3">\n    </span><span class="s1">this.cScale11 = this.cScale11 || adjust3(this.primaryColor, { h: 330 });</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; this.THEME_COLOR_LIMIT; i++) {</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScaleInv</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">cScaleInv</span><span class="s3">\&quot; </span><span class="s1">+ i] || invert2(this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; this.THEME_COLOR_LIMIT; i++) {</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] || lighten2(this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i], 10);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; 5; i++) {</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">surface</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">surface</span><span class="s3">\&quot; </span><span class="s1">+ i] || adjust3(this.mainBkg, { h: 30, s: -30, l: -(-10 + i * 4) });</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">surfacePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">surfacePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] || adjust3(this.mainBkg, { h: 30, s: -30, l: -(-7 + i * 4) });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this.scaleLabelColor = this.scaleLabelColor || (this.darkMode ? </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot; </span><span class="s1">: this.labelTextColor);</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; this.THEME_COLOR_LIMIT; i++) {</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScaleLabel</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">cScaleLabel</span><span class="s3">\&quot; </span><span class="s1">+ i] || this.scaleLabelColor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; this.THEME_COLOR_LIMIT; i++) {</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">pie</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this.pieTitleTextSize = this.pieTitleTextSize || </span><span class="s3">\&quot;</span><span class="s1">25px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;</span><span class="s3">\n    </span><span class="s1">this.pieSectionTextSize = this.pieSectionTextSize || </span><span class="s3">\&quot;</span><span class="s1">17px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;</span><span class="s3">\n    </span><span class="s1">this.pieLegendTextSize = this.pieLegendTextSize || </span><span class="s3">\&quot;</span><span class="s1">17px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;</span><span class="s3">\n    </span><span class="s1">this.pieStrokeColor = this.pieStrokeColor || </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieStrokeWidth = this.pieStrokeWidth || </span><span class="s3">\&quot;</span><span class="s1">2px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || </span><span class="s3">\&quot;</span><span class="s1">2px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieOuterStrokeColor = this.pieOuterStrokeColor || </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieOpacity = this.pieOpacity || </span><span class="s3">\&quot;</span><span class="s1">0.7</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.quadrant1Fill = this.quadrant1Fill || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.quadrant2Fill = this.quadrant2Fill || adjust3(this.primaryColor, { r: 5, g: 5, b: 5 });</span><span class="s3">\n    </span><span class="s1">this.quadrant3Fill = this.quadrant3Fill || adjust3(this.primaryColor, { r: 10, g: 10, b: 10 });</span><span class="s3">\n    </span><span class="s1">this.quadrant4Fill = this.quadrant4Fill || adjust3(this.primaryColor, { r: 15, g: 15, b: 15 });</span><span class="s3">\n    </span><span class="s1">this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrant2TextFill = this.quadrant2TextFill || adjust3(this.primaryTextColor, { r: -5, g: -5, b: -5 });</span><span class="s3">\n    </span><span class="s1">this.quadrant3TextFill = this.quadrant3TextFill || adjust3(this.primaryTextColor, { r: -10, g: -10, b: -10 });</span><span class="s3">\n    </span><span class="s1">this.quadrant4TextFill = this.quadrant4TextFill || adjust3(this.primaryTextColor, { r: -15, g: -15, b: -15 });</span><span class="s3">\n    </span><span class="s1">this.quadrantPointFill = this.quadrantPointFill || isDark2(this.quadrant1Fill) ? lighten2(this.quadrant1Fill) : darken2(this.quadrant1Fill);</span><span class="s3">\n    </span><span class="s1">this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.xyChart = {</span><span class="s3">\n      </span><span class="s1">backgroundColor: this.xyChart?.backgroundColor || this.background,</span><span class="s3">\n      </span><span class="s1">titleColor: this.xyChart?.titleColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisTitleColor: this.xyChart?.xAxisTitleColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisLabelColor: this.xyChart?.xAxisLabelColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisTickColor: this.xyChart?.xAxisTickColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisLineColor: this.xyChart?.xAxisLineColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisTitleColor: this.xyChart?.yAxisTitleColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisLabelColor: this.xyChart?.yAxisLabelColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisTickColor: this.xyChart?.yAxisTickColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisLineColor: this.xyChart?.yAxisLineColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">plotColorPalette: this.xyChart?.plotColorPalette || </span><span class="s3">\&quot;</span><span class="s1">#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22</span><span class="s3">\&quot;\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">this.packet = {</span><span class="s3">\n      </span><span class="s1">startByteColor: this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">endByteColor: this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">labelColor: this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">titleColor: this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">blockStrokeColor: this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">blockFillColor: this.background</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">this.radar = {</span><span class="s3">\n      </span><span class="s1">axisColor: this.radar?.axisColor || this.lineColor,</span><span class="s3">\n      </span><span class="s1">axisStrokeWidth: this.radar?.axisStrokeWidth || 2,</span><span class="s3">\n      </span><span class="s1">axisLabelFontSize: this.radar?.axisLabelFontSize || 12,</span><span class="s3">\n      </span><span class="s1">curveOpacity: this.radar?.curveOpacity || 0.5,</span><span class="s3">\n      </span><span class="s1">curveStrokeWidth: this.radar?.curveStrokeWidth || 2,</span><span class="s3">\n      </span><span class="s1">graticuleColor: this.radar?.graticuleColor || </span><span class="s3">\&quot;</span><span class="s1">#DEDEDE</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">graticuleStrokeWidth: this.radar?.graticuleStrokeWidth || 1,</span><span class="s3">\n      </span><span class="s1">graticuleOpacity: this.radar?.graticuleOpacity || 0.3,</span><span class="s3">\n      </span><span class="s1">legendBoxSize: this.radar?.legendBoxSize || 12,</span><span class="s3">\n      </span><span class="s1">legendFontSize: this.radar?.legendFontSize || 12</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">this.classText = this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.requirementBackground = this.requirementBackground || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.requirementBorderSize = this.requirementBorderSize || </span><span class="s3">\&quot;</span><span class="s1">1</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.relationColor = this.relationColor || this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.relationLabelBackground = this.relationLabelBackground || (this.darkMode ? darken2(this.secondaryColor, 30) : this.secondaryColor);</span><span class="s3">\n    </span><span class="s1">this.relationLabelColor = this.relationLabelColor || this.actorTextColor;</span><span class="s3">\n    </span><span class="s1">this.git0 = lighten2(this.secondaryColor, 20);</span><span class="s3">\n    </span><span class="s1">this.git1 = lighten2(this.pie2 || this.secondaryColor, 20);</span><span class="s3">\n    </span><span class="s1">this.git2 = lighten2(this.pie3 || this.tertiaryColor, 20);</span><span class="s3">\n    </span><span class="s1">this.git3 = lighten2(this.pie4 || adjust3(this.primaryColor, { h: -30 }), 20);</span><span class="s3">\n    </span><span class="s1">this.git4 = lighten2(this.pie5 || adjust3(this.primaryColor, { h: -60 }), 20);</span><span class="s3">\n    </span><span class="s1">this.git5 = lighten2(this.pie6 || adjust3(this.primaryColor, { h: -90 }), 10);</span><span class="s3">\n    </span><span class="s1">this.git6 = lighten2(this.pie7 || adjust3(this.primaryColor, { h: 60 }), 10);</span><span class="s3">\n    </span><span class="s1">this.git7 = lighten2(this.pie8 || adjust3(this.primaryColor, { h: 120 }), 20);</span><span class="s3">\n    </span><span class="s1">this.gitInv0 = this.gitInv0 || invert2(this.git0);</span><span class="s3">\n    </span><span class="s1">this.gitInv1 = this.gitInv1 || invert2(this.git1);</span><span class="s3">\n    </span><span class="s1">this.gitInv2 = this.gitInv2 || invert2(this.git2);</span><span class="s3">\n    </span><span class="s1">this.gitInv3 = this.gitInv3 || invert2(this.git3);</span><span class="s3">\n    </span><span class="s1">this.gitInv4 = this.gitInv4 || invert2(this.git4);</span><span class="s3">\n    </span><span class="s1">this.gitInv5 = this.gitInv5 || invert2(this.git5);</span><span class="s3">\n    </span><span class="s1">this.gitInv6 = this.gitInv6 || invert2(this.git6);</span><span class="s3">\n    </span><span class="s1">this.gitInv7 = this.gitInv7 || invert2(this.git7);</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel0 = this.gitBranchLabel0 || invert2(this.labelTextColor);</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel1 = this.gitBranchLabel1 || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel2 = this.gitBranchLabel2 || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel3 = this.gitBranchLabel3 || invert2(this.labelTextColor);</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel4 = this.gitBranchLabel4 || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel5 = this.gitBranchLabel5 || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel6 = this.gitBranchLabel6 || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel7 = this.gitBranchLabel7 || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelFontSize = this.tagLabelFontSize || </span><span class="s3">\&quot;</span><span class="s1">10px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.commitLabelFontSize = this.commitLabelFontSize || </span><span class="s3">\&quot;</span><span class="s1">10px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || lighten2(this.background, 12);</span><span class="s3">\n    </span><span class="s1">this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || lighten2(this.background, 2);</span><span class="s3">\n    </span><span class="s1">this.nodeBorder = this.nodeBorder || </span><span class="s3">\&quot;</span><span class="s1">#999</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">calculate(overrides) {</span><span class="s3">\n    </span><span class="s1">if (typeof overrides !== </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">this.updateColors();</span><span class="s3">\n      </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const keys = Object.keys(overrides);</span><span class="s3">\n    </span><span class="s1">keys.forEach((k) =&gt; {</span><span class="s3">\n      </span><span class="s1">this[k] = overrides[k];</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">this.updateColors();</span><span class="s3">\n    </span><span class="s1">keys.forEach((k) =&gt; {</span><span class="s3">\n      </span><span class="s1">this[k] = overrides[k];</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var getThemeVariables2 = /* @__PURE__ */ __name((userOverrides) =&gt; {</span><span class="s3">\n  </span><span class="s1">const theme = new Theme2();</span><span class="s3">\n  </span><span class="s1">theme.calculate(userOverrides);</span><span class="s3">\n  </span><span class="s1">return theme;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getThemeVariables</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/themes/theme-default.js</span><span class="s3">\n</span><span class="s1">import { invert as invert3, lighten as lighten3, rgba as rgba2, adjust as adjust4, darken as darken3, isDark as isDark3 } from </span><span class="s3">\&quot;</span><span class="s1">khroma</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var Theme3 = class {</span><span class="s3">\n  </span><span class="s1">static {</span><span class="s3">\n    </span><span class="s1">__name(this, </span><span class="s3">\&quot;</span><span class="s1">Theme</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">constructor() {</span><span class="s3">\n    </span><span class="s1">this.background = </span><span class="s3">\&quot;</span><span class="s1">#f4f4f4</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.primaryColor = </span><span class="s3">\&quot;</span><span class="s1">#ECECFF</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.secondaryColor = adjust4(this.primaryColor, { h: 120 });</span><span class="s3">\n    </span><span class="s1">this.secondaryColor = </span><span class="s3">\&quot;</span><span class="s1">#ffffde</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.tertiaryColor = adjust4(this.primaryColor, { h: -160 });</span><span class="s3">\n    </span><span class="s1">this.primaryBorderColor = mkBorder(this.primaryColor, this.darkMode);</span><span class="s3">\n    </span><span class="s1">this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);</span><span class="s3">\n    </span><span class="s1">this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);</span><span class="s3">\n    </span><span class="s1">this.primaryTextColor = invert3(this.primaryColor);</span><span class="s3">\n    </span><span class="s1">this.secondaryTextColor = invert3(this.secondaryColor);</span><span class="s3">\n    </span><span class="s1">this.tertiaryTextColor = invert3(this.tertiaryColor);</span><span class="s3">\n    </span><span class="s1">this.lineColor = invert3(this.background);</span><span class="s3">\n    </span><span class="s1">this.textColor = invert3(this.background);</span><span class="s3">\n    </span><span class="s1">this.background = </span><span class="s3">\&quot;</span><span class="s1">white</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.mainBkg = </span><span class="s3">\&quot;</span><span class="s1">#ECECFF</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.secondBkg = </span><span class="s3">\&quot;</span><span class="s1">#ffffde</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.lineColor = </span><span class="s3">\&quot;</span><span class="s1">#333333</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.border1 = </span><span class="s3">\&quot;</span><span class="s1">#9370DB</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.border2 = </span><span class="s3">\&quot;</span><span class="s1">#aaaa33</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.arrowheadColor = </span><span class="s3">\&quot;</span><span class="s1">#333333</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.fontFamily = '</span><span class="s3">\&quot;</span><span class="s1">trebuchet ms</span><span class="s3">\&quot;</span><span class="s1">, verdana, arial, sans-serif';</span><span class="s3">\n    </span><span class="s1">this.fontSize = </span><span class="s3">\&quot;</span><span class="s1">16px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.labelBackground = </span><span class="s3">\&quot;</span><span class="s1">rgba(232,232,232, 0.8)</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.textColor = </span><span class="s3">\&quot;</span><span class="s1">#333</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.THEME_COLOR_LIMIT = 12;</span><span class="s3">\n    </span><span class="s1">this.nodeBkg = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.nodeBorder = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.clusterBkg = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.clusterBorder = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.defaultLinkColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.titleColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.edgeLabelBackground = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.actorBorder = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.actorBkg = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.actorTextColor = </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.actorLineColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.signalColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.signalTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.labelBoxBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.labelBoxBorderColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.labelTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.loopTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.noteBorderColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.noteBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#fff5ad</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.noteTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.activationBorderColor = </span><span class="s3">\&quot;</span><span class="s1">#666</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.activationBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#f4f4f4</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.sequenceNumberColor = </span><span class="s3">\&quot;</span><span class="s1">white</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.sectionBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.altSectionBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.sectionBkgColor2 = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.excludeBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#eeeeee</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskBorderColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextLightColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextColor = this.taskTextLightColor;</span><span class="s3">\n    </span><span class="s1">this.taskTextDarkColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextOutsideColor = this.taskTextDarkColor;</span><span class="s3">\n    </span><span class="s1">this.taskTextClickableColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.activeTaskBorderColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.activeTaskBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.gridColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.doneTaskBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.doneTaskBorderColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.critBorderColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.critBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.todayLineColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.sectionBkgColor = rgba2(102, 102, 255, 0.49);</span><span class="s3">\n    </span><span class="s1">this.altSectionBkgColor = </span><span class="s3">\&quot;</span><span class="s1">white</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.sectionBkgColor2 = </span><span class="s3">\&quot;</span><span class="s1">#fff400</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskBorderColor = </span><span class="s3">\&quot;</span><span class="s1">#534fbc</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#8a90dd</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextLightColor = </span><span class="s3">\&quot;</span><span class="s1">white</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextDarkColor = </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextOutsideColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextClickableColor = </span><span class="s3">\&quot;</span><span class="s1">#003163</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.activeTaskBorderColor = </span><span class="s3">\&quot;</span><span class="s1">#534fbc</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.activeTaskBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#bfc7ff</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.gridColor = </span><span class="s3">\&quot;</span><span class="s1">lightgrey</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.doneTaskBkgColor = </span><span class="s3">\&quot;</span><span class="s1">lightgrey</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.doneTaskBorderColor = </span><span class="s3">\&quot;</span><span class="s1">grey</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.critBorderColor = </span><span class="s3">\&quot;</span><span class="s1">#ff8888</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.critBkgColor = </span><span class="s3">\&quot;</span><span class="s1">red</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.todayLineColor = </span><span class="s3">\&quot;</span><span class="s1">red</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.personBorder = this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.personBkg = this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.archEdgeColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.archEdgeArrowColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.archEdgeWidth = </span><span class="s3">\&quot;</span><span class="s1">3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.archGroupBorderColor = this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.archGroupBorderWidth = </span><span class="s3">\&quot;</span><span class="s1">2px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.rowOdd = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.rowEven = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.labelColor = </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.errorBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#552222</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.errorTextColor = </span><span class="s3">\&quot;</span><span class="s1">#552222</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.updateColors();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateColors() {</span><span class="s3">\n    </span><span class="s1">this.cScale0 = this.cScale0 || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.cScale1 = this.cScale1 || this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.cScale2 = this.cScale2 || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.cScale3 = this.cScale3 || adjust4(this.primaryColor, { h: 30 });</span><span class="s3">\n    </span><span class="s1">this.cScale4 = this.cScale4 || adjust4(this.primaryColor, { h: 60 });</span><span class="s3">\n    </span><span class="s1">this.cScale5 = this.cScale5 || adjust4(this.primaryColor, { h: 90 });</span><span class="s3">\n    </span><span class="s1">this.cScale6 = this.cScale6 || adjust4(this.primaryColor, { h: 120 });</span><span class="s3">\n    </span><span class="s1">this.cScale7 = this.cScale7 || adjust4(this.primaryColor, { h: 150 });</span><span class="s3">\n    </span><span class="s1">this.cScale8 = this.cScale8 || adjust4(this.primaryColor, { h: 210 });</span><span class="s3">\n    </span><span class="s1">this.cScale9 = this.cScale9 || adjust4(this.primaryColor, { h: 270 });</span><span class="s3">\n    </span><span class="s1">this.cScale10 = this.cScale10 || adjust4(this.primaryColor, { h: 300 });</span><span class="s3">\n    </span><span class="s1">this.cScale11 = this.cScale11 || adjust4(this.primaryColor, { h: 330 });</span><span class="s3">\n    </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer1</span><span class="s3">\&quot;</span><span class="s1">] = this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer1</span><span class="s3">\&quot;</span><span class="s1">] || darken3(this.secondaryColor, 45);</span><span class="s3">\n    </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer2</span><span class="s3">\&quot;</span><span class="s1">] = this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer2</span><span class="s3">\&quot;</span><span class="s1">] || darken3(this.tertiaryColor, 40);</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; this.THEME_COLOR_LIMIT; i++) {</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i] = darken3(this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i], 10);</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] || darken3(this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i], 25);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; this.THEME_COLOR_LIMIT; i++) {</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScaleInv</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">cScaleInv</span><span class="s3">\&quot; </span><span class="s1">+ i] || adjust4(this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i], { h: 180 });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; 5; i++) {</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">surface</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">surface</span><span class="s3">\&quot; </span><span class="s1">+ i] || adjust4(this.mainBkg, { h: 30, l: -(5 + i * 5) });</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">surfacePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">surfacePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] || adjust4(this.mainBkg, { h: 30, l: -(7 + i * 5) });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this.scaleLabelColor = this.scaleLabelColor !== </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; this.scaleLabelColor ? this.scaleLabelColor : this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">if (this.labelTextColor !== </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">this.cScaleLabel0 = this.cScaleLabel0 || invert3(this.labelTextColor);</span><span class="s3">\n      </span><span class="s1">this.cScaleLabel3 = this.cScaleLabel3 || invert3(this.labelTextColor);</span><span class="s3">\n      </span><span class="s1">for (let i = 0; i &lt; this.THEME_COLOR_LIMIT; i++) {</span><span class="s3">\n        </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScaleLabel</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">cScaleLabel</span><span class="s3">\&quot; </span><span class="s1">+ i] || this.labelTextColor;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this.nodeBkg = this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.nodeBorder = this.border1;</span><span class="s3">\n    </span><span class="s1">this.clusterBkg = this.secondBkg;</span><span class="s3">\n    </span><span class="s1">this.clusterBorder = this.border2;</span><span class="s3">\n    </span><span class="s1">this.defaultLinkColor = this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.titleColor = this.textColor;</span><span class="s3">\n    </span><span class="s1">this.edgeLabelBackground = this.labelBackground;</span><span class="s3">\n    </span><span class="s1">this.actorBorder = lighten3(this.border1, 23);</span><span class="s3">\n    </span><span class="s1">this.actorBkg = this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.labelBoxBkgColor = this.actorBkg;</span><span class="s3">\n    </span><span class="s1">this.signalColor = this.textColor;</span><span class="s3">\n    </span><span class="s1">this.signalTextColor = this.textColor;</span><span class="s3">\n    </span><span class="s1">this.labelBoxBorderColor = this.actorBorder;</span><span class="s3">\n    </span><span class="s1">this.labelTextColor = this.actorTextColor;</span><span class="s3">\n    </span><span class="s1">this.loopTextColor = this.actorTextColor;</span><span class="s3">\n    </span><span class="s1">this.noteBorderColor = this.border2;</span><span class="s3">\n    </span><span class="s1">this.noteTextColor = this.actorTextColor;</span><span class="s3">\n    </span><span class="s1">this.actorLineColor = this.actorBorder;</span><span class="s3">\n    </span><span class="s1">this.taskTextColor = this.taskTextLightColor;</span><span class="s3">\n    </span><span class="s1">this.taskTextOutsideColor = this.taskTextDarkColor;</span><span class="s3">\n    </span><span class="s1">this.archEdgeColor = this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.archEdgeArrowColor = this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.rowOdd = this.rowOdd || lighten3(this.primaryColor, 75) || </span><span class="s3">\&quot;</span><span class="s1">#ffffff</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.rowEven = this.rowEven || lighten3(this.primaryColor, 1);</span><span class="s3">\n    </span><span class="s1">this.transitionColor = this.transitionColor || this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.transitionLabelColor = this.transitionLabelColor || this.textColor;</span><span class="s3">\n    </span><span class="s1">this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.stateBkg = this.stateBkg || this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;</span><span class="s3">\n    </span><span class="s1">this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.altBackground = this.altBackground || </span><span class="s3">\&quot;</span><span class="s1">#f0f0f0</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.compositeBorder = this.compositeBorder || this.nodeBorder;</span><span class="s3">\n    </span><span class="s1">this.innerEndBackground = this.nodeBorder;</span><span class="s3">\n    </span><span class="s1">this.specialStateColor = this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.transitionColor = this.transitionColor || this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.classText = this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.fillType0 = this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.fillType1 = this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.fillType2 = adjust4(this.primaryColor, { h: 64 });</span><span class="s3">\n    </span><span class="s1">this.fillType3 = adjust4(this.secondaryColor, { h: 64 });</span><span class="s3">\n    </span><span class="s1">this.fillType4 = adjust4(this.primaryColor, { h: -64 });</span><span class="s3">\n    </span><span class="s1">this.fillType5 = adjust4(this.secondaryColor, { h: -64 });</span><span class="s3">\n    </span><span class="s1">this.fillType6 = adjust4(this.primaryColor, { h: 128 });</span><span class="s3">\n    </span><span class="s1">this.fillType7 = adjust4(this.secondaryColor, { h: 128 });</span><span class="s3">\n    </span><span class="s1">this.pie1 = this.pie1 || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.pie2 = this.pie2 || this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.pie3 = this.pie3 || adjust4(this.tertiaryColor, { l: -40 });</span><span class="s3">\n    </span><span class="s1">this.pie4 = this.pie4 || adjust4(this.primaryColor, { l: -10 });</span><span class="s3">\n    </span><span class="s1">this.pie5 = this.pie5 || adjust4(this.secondaryColor, { l: -30 });</span><span class="s3">\n    </span><span class="s1">this.pie6 = this.pie6 || adjust4(this.tertiaryColor, { l: -20 });</span><span class="s3">\n    </span><span class="s1">this.pie7 = this.pie7 || adjust4(this.primaryColor, { h: 60, l: -20 });</span><span class="s3">\n    </span><span class="s1">this.pie8 = this.pie8 || adjust4(this.primaryColor, { h: -60, l: -40 });</span><span class="s3">\n    </span><span class="s1">this.pie9 = this.pie9 || adjust4(this.primaryColor, { h: 120, l: -40 });</span><span class="s3">\n    </span><span class="s1">this.pie10 = this.pie10 || adjust4(this.primaryColor, { h: 60, l: -40 });</span><span class="s3">\n    </span><span class="s1">this.pie11 = this.pie11 || adjust4(this.primaryColor, { h: -90, l: -40 });</span><span class="s3">\n    </span><span class="s1">this.pie12 = this.pie12 || adjust4(this.primaryColor, { h: 120, l: -30 });</span><span class="s3">\n    </span><span class="s1">this.pieTitleTextSize = this.pieTitleTextSize || </span><span class="s3">\&quot;</span><span class="s1">25px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;</span><span class="s3">\n    </span><span class="s1">this.pieSectionTextSize = this.pieSectionTextSize || </span><span class="s3">\&quot;</span><span class="s1">17px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;</span><span class="s3">\n    </span><span class="s1">this.pieLegendTextSize = this.pieLegendTextSize || </span><span class="s3">\&quot;</span><span class="s1">17px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;</span><span class="s3">\n    </span><span class="s1">this.pieStrokeColor = this.pieStrokeColor || </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieStrokeWidth = this.pieStrokeWidth || </span><span class="s3">\&quot;</span><span class="s1">2px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || </span><span class="s3">\&quot;</span><span class="s1">2px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieOuterStrokeColor = this.pieOuterStrokeColor || </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieOpacity = this.pieOpacity || </span><span class="s3">\&quot;</span><span class="s1">0.7</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.quadrant1Fill = this.quadrant1Fill || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.quadrant2Fill = this.quadrant2Fill || adjust4(this.primaryColor, { r: 5, g: 5, b: 5 });</span><span class="s3">\n    </span><span class="s1">this.quadrant3Fill = this.quadrant3Fill || adjust4(this.primaryColor, { r: 10, g: 10, b: 10 });</span><span class="s3">\n    </span><span class="s1">this.quadrant4Fill = this.quadrant4Fill || adjust4(this.primaryColor, { r: 15, g: 15, b: 15 });</span><span class="s3">\n    </span><span class="s1">this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrant2TextFill = this.quadrant2TextFill || adjust4(this.primaryTextColor, { r: -5, g: -5, b: -5 });</span><span class="s3">\n    </span><span class="s1">this.quadrant3TextFill = this.quadrant3TextFill || adjust4(this.primaryTextColor, { r: -10, g: -10, b: -10 });</span><span class="s3">\n    </span><span class="s1">this.quadrant4TextFill = this.quadrant4TextFill || adjust4(this.primaryTextColor, { r: -15, g: -15, b: -15 });</span><span class="s3">\n    </span><span class="s1">this.quadrantPointFill = this.quadrantPointFill || isDark3(this.quadrant1Fill) ? lighten3(this.quadrant1Fill) : darken3(this.quadrant1Fill);</span><span class="s3">\n    </span><span class="s1">this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.radar = {</span><span class="s3">\n      </span><span class="s1">axisColor: this.radar?.axisColor || this.lineColor,</span><span class="s3">\n      </span><span class="s1">axisStrokeWidth: this.radar?.axisStrokeWidth || 2,</span><span class="s3">\n      </span><span class="s1">axisLabelFontSize: this.radar?.axisLabelFontSize || 12,</span><span class="s3">\n      </span><span class="s1">curveOpacity: this.radar?.curveOpacity || 0.5,</span><span class="s3">\n      </span><span class="s1">curveStrokeWidth: this.radar?.curveStrokeWidth || 2,</span><span class="s3">\n      </span><span class="s1">graticuleColor: this.radar?.graticuleColor || </span><span class="s3">\&quot;</span><span class="s1">#DEDEDE</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">graticuleStrokeWidth: this.radar?.graticuleStrokeWidth || 1,</span><span class="s3">\n      </span><span class="s1">graticuleOpacity: this.radar?.graticuleOpacity || 0.3,</span><span class="s3">\n      </span><span class="s1">legendBoxSize: this.radar?.legendBoxSize || 12,</span><span class="s3">\n      </span><span class="s1">legendFontSize: this.radar?.legendFontSize || 12</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">this.xyChart = {</span><span class="s3">\n      </span><span class="s1">backgroundColor: this.xyChart?.backgroundColor || this.background,</span><span class="s3">\n      </span><span class="s1">titleColor: this.xyChart?.titleColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisTitleColor: this.xyChart?.xAxisTitleColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisLabelColor: this.xyChart?.xAxisLabelColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisTickColor: this.xyChart?.xAxisTickColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisLineColor: this.xyChart?.xAxisLineColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisTitleColor: this.xyChart?.yAxisTitleColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisLabelColor: this.xyChart?.yAxisLabelColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisTickColor: this.xyChart?.yAxisTickColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisLineColor: this.xyChart?.yAxisLineColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">plotColorPalette: this.xyChart?.plotColorPalette || </span><span class="s3">\&quot;</span><span class="s1">#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3</span><span class="s3">\&quot;\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">this.requirementBackground = this.requirementBackground || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.requirementBorderSize = this.requirementBorderSize || </span><span class="s3">\&quot;</span><span class="s1">1</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.relationColor = this.relationColor || this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.relationLabelBackground = this.relationLabelBackground || this.labelBackground;</span><span class="s3">\n    </span><span class="s1">this.relationLabelColor = this.relationLabelColor || this.actorTextColor;</span><span class="s3">\n    </span><span class="s1">this.git0 = this.git0 || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.git1 = this.git1 || this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.git2 = this.git2 || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.git3 = this.git3 || adjust4(this.primaryColor, { h: -30 });</span><span class="s3">\n    </span><span class="s1">this.git4 = this.git4 || adjust4(this.primaryColor, { h: -60 });</span><span class="s3">\n    </span><span class="s1">this.git5 = this.git5 || adjust4(this.primaryColor, { h: -90 });</span><span class="s3">\n    </span><span class="s1">this.git6 = this.git6 || adjust4(this.primaryColor, { h: 60 });</span><span class="s3">\n    </span><span class="s1">this.git7 = this.git7 || adjust4(this.primaryColor, { h: 120 });</span><span class="s3">\n    </span><span class="s1">if (this.darkMode) {</span><span class="s3">\n      </span><span class="s1">this.git0 = lighten3(this.git0, 25);</span><span class="s3">\n      </span><span class="s1">this.git1 = lighten3(this.git1, 25);</span><span class="s3">\n      </span><span class="s1">this.git2 = lighten3(this.git2, 25);</span><span class="s3">\n      </span><span class="s1">this.git3 = lighten3(this.git3, 25);</span><span class="s3">\n      </span><span class="s1">this.git4 = lighten3(this.git4, 25);</span><span class="s3">\n      </span><span class="s1">this.git5 = lighten3(this.git5, 25);</span><span class="s3">\n      </span><span class="s1">this.git6 = lighten3(this.git6, 25);</span><span class="s3">\n      </span><span class="s1">this.git7 = lighten3(this.git7, 25);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">this.git0 = darken3(this.git0, 25);</span><span class="s3">\n      </span><span class="s1">this.git1 = darken3(this.git1, 25);</span><span class="s3">\n      </span><span class="s1">this.git2 = darken3(this.git2, 25);</span><span class="s3">\n      </span><span class="s1">this.git3 = darken3(this.git3, 25);</span><span class="s3">\n      </span><span class="s1">this.git4 = darken3(this.git4, 25);</span><span class="s3">\n      </span><span class="s1">this.git5 = darken3(this.git5, 25);</span><span class="s3">\n      </span><span class="s1">this.git6 = darken3(this.git6, 25);</span><span class="s3">\n      </span><span class="s1">this.git7 = darken3(this.git7, 25);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this.gitInv0 = this.gitInv0 || darken3(invert3(this.git0), 25);</span><span class="s3">\n    </span><span class="s1">this.gitInv1 = this.gitInv1 || invert3(this.git1);</span><span class="s3">\n    </span><span class="s1">this.gitInv2 = this.gitInv2 || invert3(this.git2);</span><span class="s3">\n    </span><span class="s1">this.gitInv3 = this.gitInv3 || invert3(this.git3);</span><span class="s3">\n    </span><span class="s1">this.gitInv4 = this.gitInv4 || invert3(this.git4);</span><span class="s3">\n    </span><span class="s1">this.gitInv5 = this.gitInv5 || invert3(this.git5);</span><span class="s3">\n    </span><span class="s1">this.gitInv6 = this.gitInv6 || invert3(this.git6);</span><span class="s3">\n    </span><span class="s1">this.gitInv7 = this.gitInv7 || invert3(this.git7);</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel0 = this.gitBranchLabel0 || invert3(this.labelTextColor);</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel1 = this.gitBranchLabel1 || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel2 = this.gitBranchLabel2 || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel3 = this.gitBranchLabel3 || invert3(this.labelTextColor);</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel4 = this.gitBranchLabel4 || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel5 = this.gitBranchLabel5 || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel6 = this.gitBranchLabel6 || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel7 = this.gitBranchLabel7 || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelFontSize = this.tagLabelFontSize || </span><span class="s3">\&quot;</span><span class="s1">10px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.commitLabelFontSize = this.commitLabelFontSize || </span><span class="s3">\&quot;</span><span class="s1">10px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || oldAttributeBackgroundColorOdd;</span><span class="s3">\n    </span><span class="s1">this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || oldAttributeBackgroundColorEven;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">calculate(overrides) {</span><span class="s3">\n    </span><span class="s1">Object.keys(this).forEach((k) =&gt; {</span><span class="s3">\n      </span><span class="s1">if (this[k] === </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">this[k] = void 0;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">if (typeof overrides !== </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">this.updateColors();</span><span class="s3">\n      </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const keys = Object.keys(overrides);</span><span class="s3">\n    </span><span class="s1">keys.forEach((k) =&gt; {</span><span class="s3">\n      </span><span class="s1">this[k] = overrides[k];</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">this.updateColors();</span><span class="s3">\n    </span><span class="s1">keys.forEach((k) =&gt; {</span><span class="s3">\n      </span><span class="s1">this[k] = overrides[k];</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var getThemeVariables3 = /* @__PURE__ */ __name((userOverrides) =&gt; {</span><span class="s3">\n  </span><span class="s1">const theme = new Theme3();</span><span class="s3">\n  </span><span class="s1">theme.calculate(userOverrides);</span><span class="s3">\n  </span><span class="s1">return theme;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getThemeVariables</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/themes/theme-forest.js</span><span class="s3">\n</span><span class="s1">import { adjust as adjust5, darken as darken4, invert as invert4, isDark as isDark4, lighten as lighten4 } from </span><span class="s3">\&quot;</span><span class="s1">khroma</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var Theme4 = class {</span><span class="s3">\n  </span><span class="s1">static {</span><span class="s3">\n    </span><span class="s1">__name(this, </span><span class="s3">\&quot;</span><span class="s1">Theme</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">constructor() {</span><span class="s3">\n    </span><span class="s1">this.background = </span><span class="s3">\&quot;</span><span class="s1">#f4f4f4</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.primaryColor = </span><span class="s3">\&quot;</span><span class="s1">#cde498</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.secondaryColor = </span><span class="s3">\&quot;</span><span class="s1">#cdffb2</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.background = </span><span class="s3">\&quot;</span><span class="s1">white</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.mainBkg = </span><span class="s3">\&quot;</span><span class="s1">#cde498</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.secondBkg = </span><span class="s3">\&quot;</span><span class="s1">#cdffb2</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.lineColor = </span><span class="s3">\&quot;</span><span class="s1">green</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.border1 = </span><span class="s3">\&quot;</span><span class="s1">#13540c</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.border2 = </span><span class="s3">\&quot;</span><span class="s1">#6eaa49</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.arrowheadColor = </span><span class="s3">\&quot;</span><span class="s1">green</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.fontFamily = '</span><span class="s3">\&quot;</span><span class="s1">trebuchet ms</span><span class="s3">\&quot;</span><span class="s1">, verdana, arial, sans-serif';</span><span class="s3">\n    </span><span class="s1">this.fontSize = </span><span class="s3">\&quot;</span><span class="s1">16px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.tertiaryColor = lighten4(</span><span class="s3">\&quot;</span><span class="s1">#cde498</span><span class="s3">\&quot;</span><span class="s1">, 10);</span><span class="s3">\n    </span><span class="s1">this.primaryBorderColor = mkBorder(this.primaryColor, this.darkMode);</span><span class="s3">\n    </span><span class="s1">this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);</span><span class="s3">\n    </span><span class="s1">this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);</span><span class="s3">\n    </span><span class="s1">this.primaryTextColor = invert4(this.primaryColor);</span><span class="s3">\n    </span><span class="s1">this.secondaryTextColor = invert4(this.secondaryColor);</span><span class="s3">\n    </span><span class="s1">this.tertiaryTextColor = invert4(this.primaryColor);</span><span class="s3">\n    </span><span class="s1">this.lineColor = invert4(this.background);</span><span class="s3">\n    </span><span class="s1">this.textColor = invert4(this.background);</span><span class="s3">\n    </span><span class="s1">this.THEME_COLOR_LIMIT = 12;</span><span class="s3">\n    </span><span class="s1">this.nodeBkg = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.nodeBorder = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.clusterBkg = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.clusterBorder = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.defaultLinkColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.titleColor = </span><span class="s3">\&quot;</span><span class="s1">#333</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.edgeLabelBackground = </span><span class="s3">\&quot;</span><span class="s1">#e8e8e8</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.actorBorder = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.actorBkg = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.actorTextColor = </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.actorLineColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.signalColor = </span><span class="s3">\&quot;</span><span class="s1">#333</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.signalTextColor = </span><span class="s3">\&quot;</span><span class="s1">#333</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.labelBoxBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.labelBoxBorderColor = </span><span class="s3">\&quot;</span><span class="s1">#326932</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.labelTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.loopTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.noteBorderColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.noteBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#fff5ad</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.noteTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.activationBorderColor = </span><span class="s3">\&quot;</span><span class="s1">#666</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.activationBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#f4f4f4</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.sequenceNumberColor = </span><span class="s3">\&quot;</span><span class="s1">white</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.sectionBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#6eaa49</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.altSectionBkgColor = </span><span class="s3">\&quot;</span><span class="s1">white</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.sectionBkgColor2 = </span><span class="s3">\&quot;</span><span class="s1">#6eaa49</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.excludeBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#eeeeee</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskBorderColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#487e3a</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextLightColor = </span><span class="s3">\&quot;</span><span class="s1">white</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextDarkColor = </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextOutsideColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextClickableColor = </span><span class="s3">\&quot;</span><span class="s1">#003163</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.activeTaskBorderColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.activeTaskBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.gridColor = </span><span class="s3">\&quot;</span><span class="s1">lightgrey</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.doneTaskBkgColor = </span><span class="s3">\&quot;</span><span class="s1">lightgrey</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.doneTaskBorderColor = </span><span class="s3">\&quot;</span><span class="s1">grey</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.critBorderColor = </span><span class="s3">\&quot;</span><span class="s1">#ff8888</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.critBkgColor = </span><span class="s3">\&quot;</span><span class="s1">red</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.todayLineColor = </span><span class="s3">\&quot;</span><span class="s1">red</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.personBorder = this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.personBkg = this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.archEdgeColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.archEdgeArrowColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.archEdgeWidth = </span><span class="s3">\&quot;</span><span class="s1">3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.archGroupBorderColor = this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.archGroupBorderWidth = </span><span class="s3">\&quot;</span><span class="s1">2px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.labelColor = </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.errorBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#552222</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.errorTextColor = </span><span class="s3">\&quot;</span><span class="s1">#552222</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateColors() {</span><span class="s3">\n    </span><span class="s1">this.actorBorder = darken4(this.mainBkg, 20);</span><span class="s3">\n    </span><span class="s1">this.actorBkg = this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.labelBoxBkgColor = this.actorBkg;</span><span class="s3">\n    </span><span class="s1">this.labelTextColor = this.actorTextColor;</span><span class="s3">\n    </span><span class="s1">this.loopTextColor = this.actorTextColor;</span><span class="s3">\n    </span><span class="s1">this.noteBorderColor = this.border2;</span><span class="s3">\n    </span><span class="s1">this.noteTextColor = this.actorTextColor;</span><span class="s3">\n    </span><span class="s1">this.actorLineColor = this.actorBorder;</span><span class="s3">\n    </span><span class="s1">this.cScale0 = this.cScale0 || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.cScale1 = this.cScale1 || this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.cScale2 = this.cScale2 || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.cScale3 = this.cScale3 || adjust5(this.primaryColor, { h: 30 });</span><span class="s3">\n    </span><span class="s1">this.cScale4 = this.cScale4 || adjust5(this.primaryColor, { h: 60 });</span><span class="s3">\n    </span><span class="s1">this.cScale5 = this.cScale5 || adjust5(this.primaryColor, { h: 90 });</span><span class="s3">\n    </span><span class="s1">this.cScale6 = this.cScale6 || adjust5(this.primaryColor, { h: 120 });</span><span class="s3">\n    </span><span class="s1">this.cScale7 = this.cScale7 || adjust5(this.primaryColor, { h: 150 });</span><span class="s3">\n    </span><span class="s1">this.cScale8 = this.cScale8 || adjust5(this.primaryColor, { h: 210 });</span><span class="s3">\n    </span><span class="s1">this.cScale9 = this.cScale9 || adjust5(this.primaryColor, { h: 270 });</span><span class="s3">\n    </span><span class="s1">this.cScale10 = this.cScale10 || adjust5(this.primaryColor, { h: 300 });</span><span class="s3">\n    </span><span class="s1">this.cScale11 = this.cScale11 || adjust5(this.primaryColor, { h: 330 });</span><span class="s3">\n    </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer1</span><span class="s3">\&quot;</span><span class="s1">] = this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer1</span><span class="s3">\&quot;</span><span class="s1">] || darken4(this.secondaryColor, 45);</span><span class="s3">\n    </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer2</span><span class="s3">\&quot;</span><span class="s1">] = this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer2</span><span class="s3">\&quot;</span><span class="s1">] || darken4(this.tertiaryColor, 40);</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; this.THEME_COLOR_LIMIT; i++) {</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i] = darken4(this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i], 10);</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] || darken4(this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i], 25);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; this.THEME_COLOR_LIMIT; i++) {</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScaleInv</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">cScaleInv</span><span class="s3">\&quot; </span><span class="s1">+ i] || adjust5(this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i], { h: 180 });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this.scaleLabelColor = this.scaleLabelColor !== </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; this.scaleLabelColor ? this.scaleLabelColor : this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; this.THEME_COLOR_LIMIT; i++) {</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScaleLabel</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">cScaleLabel</span><span class="s3">\&quot; </span><span class="s1">+ i] || this.scaleLabelColor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; 5; i++) {</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">surface</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">surface</span><span class="s3">\&quot; </span><span class="s1">+ i] || adjust5(this.mainBkg, { h: 30, s: -30, l: -(5 + i * 5) });</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">surfacePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">surfacePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] || adjust5(this.mainBkg, { h: 30, s: -30, l: -(8 + i * 5) });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this.nodeBkg = this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.nodeBorder = this.border1;</span><span class="s3">\n    </span><span class="s1">this.clusterBkg = this.secondBkg;</span><span class="s3">\n    </span><span class="s1">this.clusterBorder = this.border2;</span><span class="s3">\n    </span><span class="s1">this.defaultLinkColor = this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.taskBorderColor = this.border1;</span><span class="s3">\n    </span><span class="s1">this.taskTextColor = this.taskTextLightColor;</span><span class="s3">\n    </span><span class="s1">this.taskTextOutsideColor = this.taskTextDarkColor;</span><span class="s3">\n    </span><span class="s1">this.activeTaskBorderColor = this.taskBorderColor;</span><span class="s3">\n    </span><span class="s1">this.activeTaskBkgColor = this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.archEdgeColor = this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.archEdgeArrowColor = this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.rowOdd = this.rowOdd || lighten4(this.mainBkg, 75) || </span><span class="s3">\&quot;</span><span class="s1">#ffffff</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.rowEven = this.rowEven || lighten4(this.mainBkg, 20);</span><span class="s3">\n    </span><span class="s1">this.transitionColor = this.transitionColor || this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.transitionLabelColor = this.transitionLabelColor || this.textColor;</span><span class="s3">\n    </span><span class="s1">this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.stateBkg = this.stateBkg || this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;</span><span class="s3">\n    </span><span class="s1">this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.altBackground = this.altBackground || </span><span class="s3">\&quot;</span><span class="s1">#f0f0f0</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.compositeBorder = this.compositeBorder || this.nodeBorder;</span><span class="s3">\n    </span><span class="s1">this.innerEndBackground = this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.specialStateColor = this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.transitionColor = this.transitionColor || this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.classText = this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.fillType0 = this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.fillType1 = this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.fillType2 = adjust5(this.primaryColor, { h: 64 });</span><span class="s3">\n    </span><span class="s1">this.fillType3 = adjust5(this.secondaryColor, { h: 64 });</span><span class="s3">\n    </span><span class="s1">this.fillType4 = adjust5(this.primaryColor, { h: -64 });</span><span class="s3">\n    </span><span class="s1">this.fillType5 = adjust5(this.secondaryColor, { h: -64 });</span><span class="s3">\n    </span><span class="s1">this.fillType6 = adjust5(this.primaryColor, { h: 128 });</span><span class="s3">\n    </span><span class="s1">this.fillType7 = adjust5(this.secondaryColor, { h: 128 });</span><span class="s3">\n    </span><span class="s1">this.pie1 = this.pie1 || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.pie2 = this.pie2 || this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.pie3 = this.pie3 || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.pie4 = this.pie4 || adjust5(this.primaryColor, { l: -30 });</span><span class="s3">\n    </span><span class="s1">this.pie5 = this.pie5 || adjust5(this.secondaryColor, { l: -30 });</span><span class="s3">\n    </span><span class="s1">this.pie6 = this.pie6 || adjust5(this.tertiaryColor, { h: 40, l: -40 });</span><span class="s3">\n    </span><span class="s1">this.pie7 = this.pie7 || adjust5(this.primaryColor, { h: 60, l: -10 });</span><span class="s3">\n    </span><span class="s1">this.pie8 = this.pie8 || adjust5(this.primaryColor, { h: -60, l: -10 });</span><span class="s3">\n    </span><span class="s1">this.pie9 = this.pie9 || adjust5(this.primaryColor, { h: 120, l: 0 });</span><span class="s3">\n    </span><span class="s1">this.pie10 = this.pie10 || adjust5(this.primaryColor, { h: 60, l: -50 });</span><span class="s3">\n    </span><span class="s1">this.pie11 = this.pie11 || adjust5(this.primaryColor, { h: -60, l: -50 });</span><span class="s3">\n    </span><span class="s1">this.pie12 = this.pie12 || adjust5(this.primaryColor, { h: 120, l: -50 });</span><span class="s3">\n    </span><span class="s1">this.pieTitleTextSize = this.pieTitleTextSize || </span><span class="s3">\&quot;</span><span class="s1">25px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;</span><span class="s3">\n    </span><span class="s1">this.pieSectionTextSize = this.pieSectionTextSize || </span><span class="s3">\&quot;</span><span class="s1">17px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;</span><span class="s3">\n    </span><span class="s1">this.pieLegendTextSize = this.pieLegendTextSize || </span><span class="s3">\&quot;</span><span class="s1">17px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;</span><span class="s3">\n    </span><span class="s1">this.pieStrokeColor = this.pieStrokeColor || </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieStrokeWidth = this.pieStrokeWidth || </span><span class="s3">\&quot;</span><span class="s1">2px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || </span><span class="s3">\&quot;</span><span class="s1">2px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieOuterStrokeColor = this.pieOuterStrokeColor || </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieOpacity = this.pieOpacity || </span><span class="s3">\&quot;</span><span class="s1">0.7</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.quadrant1Fill = this.quadrant1Fill || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.quadrant2Fill = this.quadrant2Fill || adjust5(this.primaryColor, { r: 5, g: 5, b: 5 });</span><span class="s3">\n    </span><span class="s1">this.quadrant3Fill = this.quadrant3Fill || adjust5(this.primaryColor, { r: 10, g: 10, b: 10 });</span><span class="s3">\n    </span><span class="s1">this.quadrant4Fill = this.quadrant4Fill || adjust5(this.primaryColor, { r: 15, g: 15, b: 15 });</span><span class="s3">\n    </span><span class="s1">this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrant2TextFill = this.quadrant2TextFill || adjust5(this.primaryTextColor, { r: -5, g: -5, b: -5 });</span><span class="s3">\n    </span><span class="s1">this.quadrant3TextFill = this.quadrant3TextFill || adjust5(this.primaryTextColor, { r: -10, g: -10, b: -10 });</span><span class="s3">\n    </span><span class="s1">this.quadrant4TextFill = this.quadrant4TextFill || adjust5(this.primaryTextColor, { r: -15, g: -15, b: -15 });</span><span class="s3">\n    </span><span class="s1">this.quadrantPointFill = this.quadrantPointFill || isDark4(this.quadrant1Fill) ? lighten4(this.quadrant1Fill) : darken4(this.quadrant1Fill);</span><span class="s3">\n    </span><span class="s1">this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.packet = {</span><span class="s3">\n      </span><span class="s1">startByteColor: this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">endByteColor: this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">labelColor: this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">titleColor: this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">blockStrokeColor: this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">blockFillColor: this.mainBkg</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">this.radar = {</span><span class="s3">\n      </span><span class="s1">axisColor: this.radar?.axisColor || this.lineColor,</span><span class="s3">\n      </span><span class="s1">axisStrokeWidth: this.radar?.axisStrokeWidth || 2,</span><span class="s3">\n      </span><span class="s1">axisLabelFontSize: this.radar?.axisLabelFontSize || 12,</span><span class="s3">\n      </span><span class="s1">curveOpacity: this.radar?.curveOpacity || 0.5,</span><span class="s3">\n      </span><span class="s1">curveStrokeWidth: this.radar?.curveStrokeWidth || 2,</span><span class="s3">\n      </span><span class="s1">graticuleColor: this.radar?.graticuleColor || </span><span class="s3">\&quot;</span><span class="s1">#DEDEDE</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">graticuleStrokeWidth: this.radar?.graticuleStrokeWidth || 1,</span><span class="s3">\n      </span><span class="s1">graticuleOpacity: this.radar?.graticuleOpacity || 0.3,</span><span class="s3">\n      </span><span class="s1">legendBoxSize: this.radar?.legendBoxSize || 12,</span><span class="s3">\n      </span><span class="s1">legendFontSize: this.radar?.legendFontSize || 12</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">this.xyChart = {</span><span class="s3">\n      </span><span class="s1">backgroundColor: this.xyChart?.backgroundColor || this.background,</span><span class="s3">\n      </span><span class="s1">titleColor: this.xyChart?.titleColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisTitleColor: this.xyChart?.xAxisTitleColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisLabelColor: this.xyChart?.xAxisLabelColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisTickColor: this.xyChart?.xAxisTickColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisLineColor: this.xyChart?.xAxisLineColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisTitleColor: this.xyChart?.yAxisTitleColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisLabelColor: this.xyChart?.yAxisLabelColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisTickColor: this.xyChart?.yAxisTickColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisLineColor: this.xyChart?.yAxisLineColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">plotColorPalette: this.xyChart?.plotColorPalette || </span><span class="s3">\&quot;</span><span class="s1">#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176</span><span class="s3">\&quot;\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">this.requirementBackground = this.requirementBackground || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.requirementBorderSize = this.requirementBorderSize || </span><span class="s3">\&quot;</span><span class="s1">1</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.relationColor = this.relationColor || this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.relationLabelBackground = this.relationLabelBackground || this.edgeLabelBackground;</span><span class="s3">\n    </span><span class="s1">this.relationLabelColor = this.relationLabelColor || this.actorTextColor;</span><span class="s3">\n    </span><span class="s1">this.git0 = this.git0 || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.git1 = this.git1 || this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.git2 = this.git2 || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.git3 = this.git3 || adjust5(this.primaryColor, { h: -30 });</span><span class="s3">\n    </span><span class="s1">this.git4 = this.git4 || adjust5(this.primaryColor, { h: -60 });</span><span class="s3">\n    </span><span class="s1">this.git5 = this.git5 || adjust5(this.primaryColor, { h: -90 });</span><span class="s3">\n    </span><span class="s1">this.git6 = this.git6 || adjust5(this.primaryColor, { h: 60 });</span><span class="s3">\n    </span><span class="s1">this.git7 = this.git7 || adjust5(this.primaryColor, { h: 120 });</span><span class="s3">\n    </span><span class="s1">if (this.darkMode) {</span><span class="s3">\n      </span><span class="s1">this.git0 = lighten4(this.git0, 25);</span><span class="s3">\n      </span><span class="s1">this.git1 = lighten4(this.git1, 25);</span><span class="s3">\n      </span><span class="s1">this.git2 = lighten4(this.git2, 25);</span><span class="s3">\n      </span><span class="s1">this.git3 = lighten4(this.git3, 25);</span><span class="s3">\n      </span><span class="s1">this.git4 = lighten4(this.git4, 25);</span><span class="s3">\n      </span><span class="s1">this.git5 = lighten4(this.git5, 25);</span><span class="s3">\n      </span><span class="s1">this.git6 = lighten4(this.git6, 25);</span><span class="s3">\n      </span><span class="s1">this.git7 = lighten4(this.git7, 25);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">this.git0 = darken4(this.git0, 25);</span><span class="s3">\n      </span><span class="s1">this.git1 = darken4(this.git1, 25);</span><span class="s3">\n      </span><span class="s1">this.git2 = darken4(this.git2, 25);</span><span class="s3">\n      </span><span class="s1">this.git3 = darken4(this.git3, 25);</span><span class="s3">\n      </span><span class="s1">this.git4 = darken4(this.git4, 25);</span><span class="s3">\n      </span><span class="s1">this.git5 = darken4(this.git5, 25);</span><span class="s3">\n      </span><span class="s1">this.git6 = darken4(this.git6, 25);</span><span class="s3">\n      </span><span class="s1">this.git7 = darken4(this.git7, 25);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this.gitInv0 = this.gitInv0 || invert4(this.git0);</span><span class="s3">\n    </span><span class="s1">this.gitInv1 = this.gitInv1 || invert4(this.git1);</span><span class="s3">\n    </span><span class="s1">this.gitInv2 = this.gitInv2 || invert4(this.git2);</span><span class="s3">\n    </span><span class="s1">this.gitInv3 = this.gitInv3 || invert4(this.git3);</span><span class="s3">\n    </span><span class="s1">this.gitInv4 = this.gitInv4 || invert4(this.git4);</span><span class="s3">\n    </span><span class="s1">this.gitInv5 = this.gitInv5 || invert4(this.git5);</span><span class="s3">\n    </span><span class="s1">this.gitInv6 = this.gitInv6 || invert4(this.git6);</span><span class="s3">\n    </span><span class="s1">this.gitInv7 = this.gitInv7 || invert4(this.git7);</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel0 = this.gitBranchLabel0 || invert4(this.labelTextColor);</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel1 = this.gitBranchLabel1 || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel2 = this.gitBranchLabel2 || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel3 = this.gitBranchLabel3 || invert4(this.labelTextColor);</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel4 = this.gitBranchLabel4 || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel5 = this.gitBranchLabel5 || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel6 = this.gitBranchLabel6 || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel7 = this.gitBranchLabel7 || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelFontSize = this.tagLabelFontSize || </span><span class="s3">\&quot;</span><span class="s1">10px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.commitLabelFontSize = this.commitLabelFontSize || </span><span class="s3">\&quot;</span><span class="s1">10px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || oldAttributeBackgroundColorOdd;</span><span class="s3">\n    </span><span class="s1">this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || oldAttributeBackgroundColorEven;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">calculate(overrides) {</span><span class="s3">\n    </span><span class="s1">if (typeof overrides !== </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">this.updateColors();</span><span class="s3">\n      </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const keys = Object.keys(overrides);</span><span class="s3">\n    </span><span class="s1">keys.forEach((k) =&gt; {</span><span class="s3">\n      </span><span class="s1">this[k] = overrides[k];</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">this.updateColors();</span><span class="s3">\n    </span><span class="s1">keys.forEach((k) =&gt; {</span><span class="s3">\n      </span><span class="s1">this[k] = overrides[k];</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var getThemeVariables4 = /* @__PURE__ */ __name((userOverrides) =&gt; {</span><span class="s3">\n  </span><span class="s1">const theme = new Theme4();</span><span class="s3">\n  </span><span class="s1">theme.calculate(userOverrides);</span><span class="s3">\n  </span><span class="s1">return theme;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getThemeVariables</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/themes/theme-neutral.js</span><span class="s3">\n</span><span class="s1">import { invert as invert5, darken as darken5, lighten as lighten5, adjust as adjust6, isDark as isDark5 } from </span><span class="s3">\&quot;</span><span class="s1">khroma</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var Theme5 = class {</span><span class="s3">\n  </span><span class="s1">static {</span><span class="s3">\n    </span><span class="s1">__name(this, </span><span class="s3">\&quot;</span><span class="s1">Theme</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">constructor() {</span><span class="s3">\n    </span><span class="s1">this.primaryColor = </span><span class="s3">\&quot;</span><span class="s1">#eee</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.contrast = </span><span class="s3">\&quot;</span><span class="s1">#707070</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.secondaryColor = lighten5(this.contrast, 55);</span><span class="s3">\n    </span><span class="s1">this.background = </span><span class="s3">\&quot;</span><span class="s1">#ffffff</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.tertiaryColor = adjust6(this.primaryColor, { h: -160 });</span><span class="s3">\n    </span><span class="s1">this.primaryBorderColor = mkBorder(this.primaryColor, this.darkMode);</span><span class="s3">\n    </span><span class="s1">this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);</span><span class="s3">\n    </span><span class="s1">this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);</span><span class="s3">\n    </span><span class="s1">this.primaryTextColor = invert5(this.primaryColor);</span><span class="s3">\n    </span><span class="s1">this.secondaryTextColor = invert5(this.secondaryColor);</span><span class="s3">\n    </span><span class="s1">this.tertiaryTextColor = invert5(this.tertiaryColor);</span><span class="s3">\n    </span><span class="s1">this.lineColor = invert5(this.background);</span><span class="s3">\n    </span><span class="s1">this.textColor = invert5(this.background);</span><span class="s3">\n    </span><span class="s1">this.mainBkg = </span><span class="s3">\&quot;</span><span class="s1">#eee</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.secondBkg = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.lineColor = </span><span class="s3">\&quot;</span><span class="s1">#666</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.border1 = </span><span class="s3">\&quot;</span><span class="s1">#999</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.border2 = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.note = </span><span class="s3">\&quot;</span><span class="s1">#ffa</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.text = </span><span class="s3">\&quot;</span><span class="s1">#333</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.critical = </span><span class="s3">\&quot;</span><span class="s1">#d42</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.done = </span><span class="s3">\&quot;</span><span class="s1">#bbb</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.arrowheadColor = </span><span class="s3">\&quot;</span><span class="s1">#333333</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.fontFamily = '</span><span class="s3">\&quot;</span><span class="s1">trebuchet ms</span><span class="s3">\&quot;</span><span class="s1">, verdana, arial, sans-serif';</span><span class="s3">\n    </span><span class="s1">this.fontSize = </span><span class="s3">\&quot;</span><span class="s1">16px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.THEME_COLOR_LIMIT = 12;</span><span class="s3">\n    </span><span class="s1">this.nodeBkg = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.nodeBorder = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.clusterBkg = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.clusterBorder = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.defaultLinkColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.titleColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.edgeLabelBackground = </span><span class="s3">\&quot;</span><span class="s1">white</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.actorBorder = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.actorBkg = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.actorTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.actorLineColor = this.actorBorder;</span><span class="s3">\n    </span><span class="s1">this.signalColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.signalTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.labelBoxBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.labelBoxBorderColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.labelTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.loopTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.noteBorderColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.noteBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.noteTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.activationBorderColor = </span><span class="s3">\&quot;</span><span class="s1">#666</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.activationBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#f4f4f4</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.sequenceNumberColor = </span><span class="s3">\&quot;</span><span class="s1">white</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.sectionBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.altSectionBkgColor = </span><span class="s3">\&quot;</span><span class="s1">white</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.sectionBkgColor2 = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.excludeBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#eeeeee</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskBorderColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextLightColor = </span><span class="s3">\&quot;</span><span class="s1">white</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextDarkColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextOutsideColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.taskTextClickableColor = </span><span class="s3">\&quot;</span><span class="s1">#003163</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.activeTaskBorderColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.activeTaskBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.gridColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.doneTaskBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.doneTaskBorderColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.critBkgColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.critBorderColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.todayLineColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.personBorder = this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.personBkg = this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.archEdgeColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.archEdgeArrowColor = </span><span class="s3">\&quot;</span><span class="s1">calculated</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.archEdgeWidth = </span><span class="s3">\&quot;</span><span class="s1">3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.archGroupBorderColor = this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.archGroupBorderWidth = </span><span class="s3">\&quot;</span><span class="s1">2px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.rowOdd = this.rowOdd || lighten5(this.mainBkg, 75) || </span><span class="s3">\&quot;</span><span class="s1">#ffffff</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.rowEven = this.rowEven || </span><span class="s3">\&quot;</span><span class="s1">#f4f4f4</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.labelColor = </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.errorBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#552222</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.errorTextColor = </span><span class="s3">\&quot;</span><span class="s1">#552222</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateColors() {</span><span class="s3">\n    </span><span class="s1">this.secondBkg = lighten5(this.contrast, 55);</span><span class="s3">\n    </span><span class="s1">this.border2 = this.contrast;</span><span class="s3">\n    </span><span class="s1">this.actorBorder = lighten5(this.border1, 23);</span><span class="s3">\n    </span><span class="s1">this.actorBkg = this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.actorTextColor = this.text;</span><span class="s3">\n    </span><span class="s1">this.actorLineColor = this.actorBorder;</span><span class="s3">\n    </span><span class="s1">this.signalColor = this.text;</span><span class="s3">\n    </span><span class="s1">this.signalTextColor = this.text;</span><span class="s3">\n    </span><span class="s1">this.labelBoxBkgColor = this.actorBkg;</span><span class="s3">\n    </span><span class="s1">this.labelBoxBorderColor = this.actorBorder;</span><span class="s3">\n    </span><span class="s1">this.labelTextColor = this.text;</span><span class="s3">\n    </span><span class="s1">this.loopTextColor = this.text;</span><span class="s3">\n    </span><span class="s1">this.noteBorderColor = </span><span class="s3">\&quot;</span><span class="s1">#999</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.noteBkgColor = </span><span class="s3">\&quot;</span><span class="s1">#666</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.noteTextColor = </span><span class="s3">\&quot;</span><span class="s1">#fff</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale0 = this.cScale0 || </span><span class="s3">\&quot;</span><span class="s1">#555</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale1 = this.cScale1 || </span><span class="s3">\&quot;</span><span class="s1">#F4F4F4</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale2 = this.cScale2 || </span><span class="s3">\&quot;</span><span class="s1">#555</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale3 = this.cScale3 || </span><span class="s3">\&quot;</span><span class="s1">#BBB</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale4 = this.cScale4 || </span><span class="s3">\&quot;</span><span class="s1">#777</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale5 = this.cScale5 || </span><span class="s3">\&quot;</span><span class="s1">#999</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale6 = this.cScale6 || </span><span class="s3">\&quot;</span><span class="s1">#DDD</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale7 = this.cScale7 || </span><span class="s3">\&quot;</span><span class="s1">#FFF</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale8 = this.cScale8 || </span><span class="s3">\&quot;</span><span class="s1">#DDD</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale9 = this.cScale9 || </span><span class="s3">\&quot;</span><span class="s1">#BBB</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale10 = this.cScale10 || </span><span class="s3">\&quot;</span><span class="s1">#999</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.cScale11 = this.cScale11 || </span><span class="s3">\&quot;</span><span class="s1">#777</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; this.THEME_COLOR_LIMIT; i++) {</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScaleInv</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">cScaleInv</span><span class="s3">\&quot; </span><span class="s1">+ i] || invert5(this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; this.THEME_COLOR_LIMIT; i++) {</span><span class="s3">\n      </span><span class="s1">if (this.darkMode) {</span><span class="s3">\n        </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] || lighten5(this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i], 10);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">cScalePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] || darken5(this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i], 10);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this.scaleLabelColor = this.scaleLabelColor || (this.darkMode ? </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot; </span><span class="s1">: this.labelTextColor);</span><span class="s3">\n    </span><span class="s1">this.cScaleLabel0 = this.cScaleLabel0 || this.cScale1;</span><span class="s3">\n    </span><span class="s1">this.cScaleLabel2 = this.cScaleLabel2 || this.cScale1;</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; this.THEME_COLOR_LIMIT; i++) {</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">cScaleLabel</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">cScaleLabel</span><span class="s3">\&quot; </span><span class="s1">+ i] || this.scaleLabelColor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; 5; i++) {</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">surface</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">surface</span><span class="s3">\&quot; </span><span class="s1">+ i] || adjust6(this.mainBkg, { l: -(5 + i * 5) });</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">surfacePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">surfacePeer</span><span class="s3">\&quot; </span><span class="s1">+ i] || adjust6(this.mainBkg, { l: -(8 + i * 5) });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this.nodeBkg = this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.nodeBorder = this.border1;</span><span class="s3">\n    </span><span class="s1">this.clusterBkg = this.secondBkg;</span><span class="s3">\n    </span><span class="s1">this.clusterBorder = this.border2;</span><span class="s3">\n    </span><span class="s1">this.defaultLinkColor = this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.titleColor = this.text;</span><span class="s3">\n    </span><span class="s1">this.sectionBkgColor = lighten5(this.contrast, 30);</span><span class="s3">\n    </span><span class="s1">this.sectionBkgColor2 = lighten5(this.contrast, 30);</span><span class="s3">\n    </span><span class="s1">this.taskBorderColor = darken5(this.contrast, 10);</span><span class="s3">\n    </span><span class="s1">this.taskBkgColor = this.contrast;</span><span class="s3">\n    </span><span class="s1">this.taskTextColor = this.taskTextLightColor;</span><span class="s3">\n    </span><span class="s1">this.taskTextDarkColor = this.text;</span><span class="s3">\n    </span><span class="s1">this.taskTextOutsideColor = this.taskTextDarkColor;</span><span class="s3">\n    </span><span class="s1">this.activeTaskBorderColor = this.taskBorderColor;</span><span class="s3">\n    </span><span class="s1">this.activeTaskBkgColor = this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.gridColor = lighten5(this.border1, 30);</span><span class="s3">\n    </span><span class="s1">this.doneTaskBkgColor = this.done;</span><span class="s3">\n    </span><span class="s1">this.doneTaskBorderColor = this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.critBkgColor = this.critical;</span><span class="s3">\n    </span><span class="s1">this.critBorderColor = darken5(this.critBkgColor, 10);</span><span class="s3">\n    </span><span class="s1">this.todayLineColor = this.critBkgColor;</span><span class="s3">\n    </span><span class="s1">this.archEdgeColor = this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.archEdgeArrowColor = this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.transitionColor = this.transitionColor || </span><span class="s3">\&quot;</span><span class="s1">#000</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.transitionLabelColor = this.transitionLabelColor || this.textColor;</span><span class="s3">\n    </span><span class="s1">this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.stateBkg = this.stateBkg || this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;</span><span class="s3">\n    </span><span class="s1">this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.altBackground = this.altBackground || </span><span class="s3">\&quot;</span><span class="s1">#f4f4f4</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;</span><span class="s3">\n    </span><span class="s1">this.stateBorder = this.stateBorder || </span><span class="s3">\&quot;</span><span class="s1">#000</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.innerEndBackground = this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.specialStateColor = </span><span class="s3">\&quot;</span><span class="s1">#222</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.classText = this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.fillType0 = this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.fillType1 = this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.fillType2 = adjust6(this.primaryColor, { h: 64 });</span><span class="s3">\n    </span><span class="s1">this.fillType3 = adjust6(this.secondaryColor, { h: 64 });</span><span class="s3">\n    </span><span class="s1">this.fillType4 = adjust6(this.primaryColor, { h: -64 });</span><span class="s3">\n    </span><span class="s1">this.fillType5 = adjust6(this.secondaryColor, { h: -64 });</span><span class="s3">\n    </span><span class="s1">this.fillType6 = adjust6(this.primaryColor, { h: 128 });</span><span class="s3">\n    </span><span class="s1">this.fillType7 = adjust6(this.secondaryColor, { h: 128 });</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; this.THEME_COLOR_LIMIT; i++) {</span><span class="s3">\n      </span><span class="s1">this[</span><span class="s3">\&quot;</span><span class="s1">pie</span><span class="s3">\&quot; </span><span class="s1">+ i] = this[</span><span class="s3">\&quot;</span><span class="s1">cScale</span><span class="s3">\&quot; </span><span class="s1">+ i];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this.pie12 = this.pie0;</span><span class="s3">\n    </span><span class="s1">this.pieTitleTextSize = this.pieTitleTextSize || </span><span class="s3">\&quot;</span><span class="s1">25px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;</span><span class="s3">\n    </span><span class="s1">this.pieSectionTextSize = this.pieSectionTextSize || </span><span class="s3">\&quot;</span><span class="s1">17px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;</span><span class="s3">\n    </span><span class="s1">this.pieLegendTextSize = this.pieLegendTextSize || </span><span class="s3">\&quot;</span><span class="s1">17px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;</span><span class="s3">\n    </span><span class="s1">this.pieStrokeColor = this.pieStrokeColor || </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieStrokeWidth = this.pieStrokeWidth || </span><span class="s3">\&quot;</span><span class="s1">2px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieOuterStrokeWidth = this.pieOuterStrokeWidth || </span><span class="s3">\&quot;</span><span class="s1">2px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieOuterStrokeColor = this.pieOuterStrokeColor || </span><span class="s3">\&quot;</span><span class="s1">black</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.pieOpacity = this.pieOpacity || </span><span class="s3">\&quot;</span><span class="s1">0.7</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.quadrant1Fill = this.quadrant1Fill || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.quadrant2Fill = this.quadrant2Fill || adjust6(this.primaryColor, { r: 5, g: 5, b: 5 });</span><span class="s3">\n    </span><span class="s1">this.quadrant3Fill = this.quadrant3Fill || adjust6(this.primaryColor, { r: 10, g: 10, b: 10 });</span><span class="s3">\n    </span><span class="s1">this.quadrant4Fill = this.quadrant4Fill || adjust6(this.primaryColor, { r: 15, g: 15, b: 15 });</span><span class="s3">\n    </span><span class="s1">this.quadrant1TextFill = this.quadrant1TextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrant2TextFill = this.quadrant2TextFill || adjust6(this.primaryTextColor, { r: -5, g: -5, b: -5 });</span><span class="s3">\n    </span><span class="s1">this.quadrant3TextFill = this.quadrant3TextFill || adjust6(this.primaryTextColor, { r: -10, g: -10, b: -10 });</span><span class="s3">\n    </span><span class="s1">this.quadrant4TextFill = this.quadrant4TextFill || adjust6(this.primaryTextColor, { r: -15, g: -15, b: -15 });</span><span class="s3">\n    </span><span class="s1">this.quadrantPointFill = this.quadrantPointFill || isDark5(this.quadrant1Fill) ? lighten5(this.quadrant1Fill) : darken5(this.quadrant1Fill);</span><span class="s3">\n    </span><span class="s1">this.quadrantPointTextFill = this.quadrantPointTextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantXAxisTextFill = this.quadrantXAxisTextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantYAxisTextFill = this.quadrantYAxisTextFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantInternalBorderStrokeFill = this.quadrantInternalBorderStrokeFill || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantExternalBorderStrokeFill = this.quadrantExternalBorderStrokeFill || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.quadrantTitleFill = this.quadrantTitleFill || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.xyChart = {</span><span class="s3">\n      </span><span class="s1">backgroundColor: this.xyChart?.backgroundColor || this.background,</span><span class="s3">\n      </span><span class="s1">titleColor: this.xyChart?.titleColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisTitleColor: this.xyChart?.xAxisTitleColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisLabelColor: this.xyChart?.xAxisLabelColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisTickColor: this.xyChart?.xAxisTickColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">xAxisLineColor: this.xyChart?.xAxisLineColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisTitleColor: this.xyChart?.yAxisTitleColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisLabelColor: this.xyChart?.yAxisLabelColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisTickColor: this.xyChart?.yAxisTickColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">yAxisLineColor: this.xyChart?.yAxisLineColor || this.primaryTextColor,</span><span class="s3">\n      </span><span class="s1">plotColorPalette: this.xyChart?.plotColorPalette || </span><span class="s3">\&quot;</span><span class="s1">#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0</span><span class="s3">\&quot;\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">this.radar = {</span><span class="s3">\n      </span><span class="s1">axisColor: this.radar?.axisColor || this.lineColor,</span><span class="s3">\n      </span><span class="s1">axisStrokeWidth: this.radar?.axisStrokeWidth || 2,</span><span class="s3">\n      </span><span class="s1">axisLabelFontSize: this.radar?.axisLabelFontSize || 12,</span><span class="s3">\n      </span><span class="s1">curveOpacity: this.radar?.curveOpacity || 0.5,</span><span class="s3">\n      </span><span class="s1">curveStrokeWidth: this.radar?.curveStrokeWidth || 2,</span><span class="s3">\n      </span><span class="s1">graticuleColor: this.radar?.graticuleColor || </span><span class="s3">\&quot;</span><span class="s1">#DEDEDE</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">graticuleStrokeWidth: this.radar?.graticuleStrokeWidth || 1,</span><span class="s3">\n      </span><span class="s1">graticuleOpacity: this.radar?.graticuleOpacity || 0.3,</span><span class="s3">\n      </span><span class="s1">legendBoxSize: this.radar?.legendBoxSize || 12,</span><span class="s3">\n      </span><span class="s1">legendFontSize: this.radar?.legendFontSize || 12</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">this.requirementBackground = this.requirementBackground || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.requirementBorderSize = this.requirementBorderSize || </span><span class="s3">\&quot;</span><span class="s1">1</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.relationColor = this.relationColor || this.lineColor;</span><span class="s3">\n    </span><span class="s1">this.relationLabelBackground = this.relationLabelBackground || this.edgeLabelBackground;</span><span class="s3">\n    </span><span class="s1">this.relationLabelColor = this.relationLabelColor || this.actorTextColor;</span><span class="s3">\n    </span><span class="s1">this.git0 = darken5(this.pie1, 25) || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.git1 = this.pie2 || this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.git2 = this.pie3 || this.tertiaryColor;</span><span class="s3">\n    </span><span class="s1">this.git3 = this.pie4 || adjust6(this.primaryColor, { h: -30 });</span><span class="s3">\n    </span><span class="s1">this.git4 = this.pie5 || adjust6(this.primaryColor, { h: -60 });</span><span class="s3">\n    </span><span class="s1">this.git5 = this.pie6 || adjust6(this.primaryColor, { h: -90 });</span><span class="s3">\n    </span><span class="s1">this.git6 = this.pie7 || adjust6(this.primaryColor, { h: 60 });</span><span class="s3">\n    </span><span class="s1">this.git7 = this.pie8 || adjust6(this.primaryColor, { h: 120 });</span><span class="s3">\n    </span><span class="s1">this.gitInv0 = this.gitInv0 || invert5(this.git0);</span><span class="s3">\n    </span><span class="s1">this.gitInv1 = this.gitInv1 || invert5(this.git1);</span><span class="s3">\n    </span><span class="s1">this.gitInv2 = this.gitInv2 || invert5(this.git2);</span><span class="s3">\n    </span><span class="s1">this.gitInv3 = this.gitInv3 || invert5(this.git3);</span><span class="s3">\n    </span><span class="s1">this.gitInv4 = this.gitInv4 || invert5(this.git4);</span><span class="s3">\n    </span><span class="s1">this.gitInv5 = this.gitInv5 || invert5(this.git5);</span><span class="s3">\n    </span><span class="s1">this.gitInv6 = this.gitInv6 || invert5(this.git6);</span><span class="s3">\n    </span><span class="s1">this.gitInv7 = this.gitInv7 || invert5(this.git7);</span><span class="s3">\n    </span><span class="s1">this.branchLabelColor = this.branchLabelColor || this.labelTextColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel0 = this.branchLabelColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel1 = </span><span class="s3">\&quot;</span><span class="s1">white</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel2 = this.branchLabelColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel3 = </span><span class="s3">\&quot;</span><span class="s1">white</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel4 = this.branchLabelColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel5 = this.branchLabelColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel6 = this.branchLabelColor;</span><span class="s3">\n    </span><span class="s1">this.gitBranchLabel7 = this.branchLabelColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;</span><span class="s3">\n    </span><span class="s1">this.tagLabelFontSize = this.tagLabelFontSize || </span><span class="s3">\&quot;</span><span class="s1">10px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;</span><span class="s3">\n    </span><span class="s1">this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;</span><span class="s3">\n    </span><span class="s1">this.commitLabelFontSize = this.commitLabelFontSize || </span><span class="s3">\&quot;</span><span class="s1">10px</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this.attributeBackgroundColorOdd = this.attributeBackgroundColorOdd || oldAttributeBackgroundColorOdd;</span><span class="s3">\n    </span><span class="s1">this.attributeBackgroundColorEven = this.attributeBackgroundColorEven || oldAttributeBackgroundColorEven;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">calculate(overrides) {</span><span class="s3">\n    </span><span class="s1">if (typeof overrides !== </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">this.updateColors();</span><span class="s3">\n      </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const keys = Object.keys(overrides);</span><span class="s3">\n    </span><span class="s1">keys.forEach((k) =&gt; {</span><span class="s3">\n      </span><span class="s1">this[k] = overrides[k];</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">this.updateColors();</span><span class="s3">\n    </span><span class="s1">keys.forEach((k) =&gt; {</span><span class="s3">\n      </span><span class="s1">this[k] = overrides[k];</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var getThemeVariables5 = /* @__PURE__ */ __name((userOverrides) =&gt; {</span><span class="s3">\n  </span><span class="s1">const theme = new Theme5();</span><span class="s3">\n  </span><span class="s1">theme.calculate(userOverrides);</span><span class="s3">\n  </span><span class="s1">return theme;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getThemeVariables</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/themes/index.js</span><span class="s3">\n</span><span class="s1">var themes_default = {</span><span class="s3">\n  </span><span class="s1">base: {</span><span class="s3">\n    </span><span class="s1">getThemeVariables</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">dark: {</span><span class="s3">\n    </span><span class="s1">getThemeVariables: getThemeVariables2</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">default: {</span><span class="s3">\n    </span><span class="s1">getThemeVariables: getThemeVariables3</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">forest: {</span><span class="s3">\n    </span><span class="s1">getThemeVariables: getThemeVariables4</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">neutral: {</span><span class="s3">\n    </span><span class="s1">getThemeVariables: getThemeVariables5</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// src/schemas/config.schema.yaml?only-defaults=true</span><span class="s3">\n</span><span class="s1">var config_schema_default = {</span><span class="s3">\n  \&quot;</span><span class="s1">flowchart</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">titleTopMargin</span><span class="s3">\&quot;</span><span class="s1">: 25,</span><span class="s3">\n    \&quot;</span><span class="s1">subGraphTitleMargin</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n      \&quot;</span><span class="s1">top</span><span class="s3">\&quot;</span><span class="s1">: 0,</span><span class="s3">\n      \&quot;</span><span class="s1">bottom</span><span class="s3">\&quot;</span><span class="s1">: 0</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    \&quot;</span><span class="s1">diagramPadding</span><span class="s3">\&quot;</span><span class="s1">: 8,</span><span class="s3">\n    \&quot;</span><span class="s1">htmlLabels</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">nodeSpacing</span><span class="s3">\&quot;</span><span class="s1">: 50,</span><span class="s3">\n    \&quot;</span><span class="s1">rankSpacing</span><span class="s3">\&quot;</span><span class="s1">: 50,</span><span class="s3">\n    \&quot;</span><span class="s1">curve</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">basis</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">padding</span><span class="s3">\&quot;</span><span class="s1">: 15,</span><span class="s3">\n    \&quot;</span><span class="s1">defaultRenderer</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">dagre-wrapper</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">wrappingWidth</span><span class="s3">\&quot;</span><span class="s1">: 200</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">sequence</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">hideUnusedParticipants</span><span class="s3">\&quot;</span><span class="s1">: false,</span><span class="s3">\n    \&quot;</span><span class="s1">activationWidth</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">diagramMarginX</span><span class="s3">\&quot;</span><span class="s1">: 50,</span><span class="s3">\n    \&quot;</span><span class="s1">diagramMarginY</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">actorMargin</span><span class="s3">\&quot;</span><span class="s1">: 50,</span><span class="s3">\n    \&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">: 150,</span><span class="s3">\n    \&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">: 65,</span><span class="s3">\n    \&quot;</span><span class="s1">boxMargin</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">boxTextMargin</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n    \&quot;</span><span class="s1">noteMargin</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">messageMargin</span><span class="s3">\&quot;</span><span class="s1">: 35,</span><span class="s3">\n    \&quot;</span><span class="s1">messageAlign</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">mirrorActors</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">forceMenus</span><span class="s3">\&quot;</span><span class="s1">: false,</span><span class="s3">\n    \&quot;</span><span class="s1">bottomMarginAdj</span><span class="s3">\&quot;</span><span class="s1">: 1,</span><span class="s3">\n    \&quot;</span><span class="s1">rightAngles</span><span class="s3">\&quot;</span><span class="s1">: false,</span><span class="s3">\n    \&quot;</span><span class="s1">showSequenceNumbers</span><span class="s3">\&quot;</span><span class="s1">: false,</span><span class="s3">\n    \&quot;</span><span class="s1">actorFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">actorFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">actorFontWeight</span><span class="s3">\&quot;</span><span class="s1">: 400,</span><span class="s3">\n    \&quot;</span><span class="s1">noteFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">noteFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">trebuchet ms</span><span class="s3">\&quot;</span><span class="s1">, verdana, arial, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">noteFontWeight</span><span class="s3">\&quot;</span><span class="s1">: 400,</span><span class="s3">\n    \&quot;</span><span class="s1">noteAlign</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">messageFontSize</span><span class="s3">\&quot;</span><span class="s1">: 16,</span><span class="s3">\n    \&quot;</span><span class="s1">messageFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">trebuchet ms</span><span class="s3">\&quot;</span><span class="s1">, verdana, arial, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">messageFontWeight</span><span class="s3">\&quot;</span><span class="s1">: 400,</span><span class="s3">\n    \&quot;</span><span class="s1">wrap</span><span class="s3">\&quot;</span><span class="s1">: false,</span><span class="s3">\n    \&quot;</span><span class="s1">wrapPadding</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">labelBoxWidth</span><span class="s3">\&quot;</span><span class="s1">: 50,</span><span class="s3">\n    \&quot;</span><span class="s1">labelBoxHeight</span><span class="s3">\&quot;</span><span class="s1">: 20</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">gantt</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">titleTopMargin</span><span class="s3">\&quot;</span><span class="s1">: 25,</span><span class="s3">\n    \&quot;</span><span class="s1">barHeight</span><span class="s3">\&quot;</span><span class="s1">: 20,</span><span class="s3">\n    \&quot;</span><span class="s1">barGap</span><span class="s3">\&quot;</span><span class="s1">: 4,</span><span class="s3">\n    \&quot;</span><span class="s1">topPadding</span><span class="s3">\&quot;</span><span class="s1">: 50,</span><span class="s3">\n    \&quot;</span><span class="s1">rightPadding</span><span class="s3">\&quot;</span><span class="s1">: 75,</span><span class="s3">\n    \&quot;</span><span class="s1">leftPadding</span><span class="s3">\&quot;</span><span class="s1">: 75,</span><span class="s3">\n    \&quot;</span><span class="s1">gridLineStartPadding</span><span class="s3">\&quot;</span><span class="s1">: 35,</span><span class="s3">\n    \&quot;</span><span class="s1">fontSize</span><span class="s3">\&quot;</span><span class="s1">: 11,</span><span class="s3">\n    \&quot;</span><span class="s1">sectionFontSize</span><span class="s3">\&quot;</span><span class="s1">: 11,</span><span class="s3">\n    \&quot;</span><span class="s1">numberSectionStyles</span><span class="s3">\&quot;</span><span class="s1">: 4,</span><span class="s3">\n    \&quot;</span><span class="s1">axisFormat</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">%Y-%m-%d</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">topAxis</span><span class="s3">\&quot;</span><span class="s1">: false,</span><span class="s3">\n    \&quot;</span><span class="s1">displayMode</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">weekday</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">sunday</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">journey</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">diagramMarginX</span><span class="s3">\&quot;</span><span class="s1">: 50,</span><span class="s3">\n    \&quot;</span><span class="s1">diagramMarginY</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">leftMargin</span><span class="s3">\&quot;</span><span class="s1">: 150,</span><span class="s3">\n    \&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">: 150,</span><span class="s3">\n    \&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">: 50,</span><span class="s3">\n    \&quot;</span><span class="s1">boxMargin</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">boxTextMargin</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n    \&quot;</span><span class="s1">noteMargin</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">messageMargin</span><span class="s3">\&quot;</span><span class="s1">: 35,</span><span class="s3">\n    \&quot;</span><span class="s1">messageAlign</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">bottomMarginAdj</span><span class="s3">\&quot;</span><span class="s1">: 1,</span><span class="s3">\n    \&quot;</span><span class="s1">rightAngles</span><span class="s3">\&quot;</span><span class="s1">: false,</span><span class="s3">\n    \&quot;</span><span class="s1">taskFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">taskFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">taskMargin</span><span class="s3">\&quot;</span><span class="s1">: 50,</span><span class="s3">\n    \&quot;</span><span class="s1">activationWidth</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">textPlacement</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">fo</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">actorColours</span><span class="s3">\&quot;</span><span class="s1">: [</span><span class="s3">\n      \&quot;</span><span class="s1">#8FBC8F</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#7CFC00</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#00FFFF</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#20B2AA</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#B0E0E6</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#FFFFE0</span><span class="s3">\&quot;\n    </span><span class="s1">],</span><span class="s3">\n    \&quot;</span><span class="s1">sectionFills</span><span class="s3">\&quot;</span><span class="s1">: [</span><span class="s3">\n      \&quot;</span><span class="s1">#191970</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#8B008B</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#4B0082</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#2F4F4F</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#800000</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#8B4513</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#00008B</span><span class="s3">\&quot;\n    </span><span class="s1">],</span><span class="s3">\n    \&quot;</span><span class="s1">sectionColours</span><span class="s3">\&quot;</span><span class="s1">: [</span><span class="s3">\n      \&quot;</span><span class="s1">#fff</span><span class="s3">\&quot;\n    </span><span class="s1">]</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">titleTopMargin</span><span class="s3">\&quot;</span><span class="s1">: 25,</span><span class="s3">\n    \&quot;</span><span class="s1">arrowMarkerAbsolute</span><span class="s3">\&quot;</span><span class="s1">: false,</span><span class="s3">\n    \&quot;</span><span class="s1">dividerMargin</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">padding</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n    \&quot;</span><span class="s1">textHeight</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">defaultRenderer</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">dagre-wrapper</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">htmlLabels</span><span class="s3">\&quot;</span><span class="s1">: false,</span><span class="s3">\n    \&quot;</span><span class="s1">hideEmptyMembersBox</span><span class="s3">\&quot;</span><span class="s1">: false</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">state</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">titleTopMargin</span><span class="s3">\&quot;</span><span class="s1">: 25,</span><span class="s3">\n    \&quot;</span><span class="s1">dividerMargin</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">sizeUnit</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n    \&quot;</span><span class="s1">padding</span><span class="s3">\&quot;</span><span class="s1">: 8,</span><span class="s3">\n    \&quot;</span><span class="s1">textHeight</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">titleShift</span><span class="s3">\&quot;</span><span class="s1">: -15,</span><span class="s3">\n    \&quot;</span><span class="s1">noteMargin</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">forkWidth</span><span class="s3">\&quot;</span><span class="s1">: 70,</span><span class="s3">\n    \&quot;</span><span class="s1">forkHeight</span><span class="s3">\&quot;</span><span class="s1">: 7,</span><span class="s3">\n    \&quot;</span><span class="s1">miniPadding</span><span class="s3">\&quot;</span><span class="s1">: 2,</span><span class="s3">\n    \&quot;</span><span class="s1">fontSizeFactor</span><span class="s3">\&quot;</span><span class="s1">: 5.02,</span><span class="s3">\n    \&quot;</span><span class="s1">fontSize</span><span class="s3">\&quot;</span><span class="s1">: 24,</span><span class="s3">\n    \&quot;</span><span class="s1">labelHeight</span><span class="s3">\&quot;</span><span class="s1">: 16,</span><span class="s3">\n    \&quot;</span><span class="s1">edgeLengthFactor</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">20</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">compositTitleSize</span><span class="s3">\&quot;</span><span class="s1">: 35,</span><span class="s3">\n    \&quot;</span><span class="s1">radius</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n    \&quot;</span><span class="s1">defaultRenderer</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">dagre-wrapper</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">er</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">titleTopMargin</span><span class="s3">\&quot;</span><span class="s1">: 25,</span><span class="s3">\n    \&quot;</span><span class="s1">diagramPadding</span><span class="s3">\&quot;</span><span class="s1">: 20,</span><span class="s3">\n    \&quot;</span><span class="s1">layoutDirection</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">TB</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">minEntityWidth</span><span class="s3">\&quot;</span><span class="s1">: 100,</span><span class="s3">\n    \&quot;</span><span class="s1">minEntityHeight</span><span class="s3">\&quot;</span><span class="s1">: 75,</span><span class="s3">\n    \&quot;</span><span class="s1">entityPadding</span><span class="s3">\&quot;</span><span class="s1">: 15,</span><span class="s3">\n    \&quot;</span><span class="s1">nodeSpacing</span><span class="s3">\&quot;</span><span class="s1">: 140,</span><span class="s3">\n    \&quot;</span><span class="s1">rankSpacing</span><span class="s3">\&quot;</span><span class="s1">: 80,</span><span class="s3">\n    \&quot;</span><span class="s1">stroke</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">gray</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">honeydew</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">fontSize</span><span class="s3">\&quot;</span><span class="s1">: 12</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">pie</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">textPosition</span><span class="s3">\&quot;</span><span class="s1">: 0.75</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">quadrantChart</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">chartWidth</span><span class="s3">\&quot;</span><span class="s1">: 500,</span><span class="s3">\n    \&quot;</span><span class="s1">chartHeight</span><span class="s3">\&quot;</span><span class="s1">: 500,</span><span class="s3">\n    \&quot;</span><span class="s1">titleFontSize</span><span class="s3">\&quot;</span><span class="s1">: 20,</span><span class="s3">\n    \&quot;</span><span class="s1">titlePadding</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">quadrantPadding</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n    \&quot;</span><span class="s1">xAxisLabelPadding</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n    \&quot;</span><span class="s1">yAxisLabelPadding</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n    \&quot;</span><span class="s1">xAxisLabelFontSize</span><span class="s3">\&quot;</span><span class="s1">: 16,</span><span class="s3">\n    \&quot;</span><span class="s1">yAxisLabelFontSize</span><span class="s3">\&quot;</span><span class="s1">: 16,</span><span class="s3">\n    \&quot;</span><span class="s1">quadrantLabelFontSize</span><span class="s3">\&quot;</span><span class="s1">: 16,</span><span class="s3">\n    \&quot;</span><span class="s1">quadrantTextTopPadding</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n    \&quot;</span><span class="s1">pointTextPadding</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n    \&quot;</span><span class="s1">pointLabelFontSize</span><span class="s3">\&quot;</span><span class="s1">: 12,</span><span class="s3">\n    \&quot;</span><span class="s1">pointRadius</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n    \&quot;</span><span class="s1">xAxisPosition</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">top</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">yAxisPosition</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">left</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">quadrantInternalBorderStrokeWidth</span><span class="s3">\&quot;</span><span class="s1">: 1,</span><span class="s3">\n    \&quot;</span><span class="s1">quadrantExternalBorderStrokeWidth</span><span class="s3">\&quot;</span><span class="s1">: 2</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">xyChart</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">: 700,</span><span class="s3">\n    \&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">: 500,</span><span class="s3">\n    \&quot;</span><span class="s1">titleFontSize</span><span class="s3">\&quot;</span><span class="s1">: 20,</span><span class="s3">\n    \&quot;</span><span class="s1">titlePadding</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">showTitle</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">xAxis</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n      \&quot;</span><span class="s1">$ref</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#/$defs/XYChartAxisConfig</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">showLabel</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n      \&quot;</span><span class="s1">labelFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n      \&quot;</span><span class="s1">labelPadding</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n      \&quot;</span><span class="s1">showTitle</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n      \&quot;</span><span class="s1">titleFontSize</span><span class="s3">\&quot;</span><span class="s1">: 16,</span><span class="s3">\n      \&quot;</span><span class="s1">titlePadding</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n      \&quot;</span><span class="s1">showTick</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n      \&quot;</span><span class="s1">tickLength</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n      \&quot;</span><span class="s1">tickWidth</span><span class="s3">\&quot;</span><span class="s1">: 2,</span><span class="s3">\n      \&quot;</span><span class="s1">showAxisLine</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n      \&quot;</span><span class="s1">axisLineWidth</span><span class="s3">\&quot;</span><span class="s1">: 2</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    \&quot;</span><span class="s1">yAxis</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n      \&quot;</span><span class="s1">$ref</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#/$defs/XYChartAxisConfig</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">showLabel</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n      \&quot;</span><span class="s1">labelFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n      \&quot;</span><span class="s1">labelPadding</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n      \&quot;</span><span class="s1">showTitle</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n      \&quot;</span><span class="s1">titleFontSize</span><span class="s3">\&quot;</span><span class="s1">: 16,</span><span class="s3">\n      \&quot;</span><span class="s1">titlePadding</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n      \&quot;</span><span class="s1">showTick</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n      \&quot;</span><span class="s1">tickLength</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n      \&quot;</span><span class="s1">tickWidth</span><span class="s3">\&quot;</span><span class="s1">: 2,</span><span class="s3">\n      \&quot;</span><span class="s1">showAxisLine</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n      \&quot;</span><span class="s1">axisLineWidth</span><span class="s3">\&quot;</span><span class="s1">: 2</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    \&quot;</span><span class="s1">chartOrientation</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">vertical</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">plotReservedSpacePercent</span><span class="s3">\&quot;</span><span class="s1">: 50</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">requirement</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">rect_fill</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#f9f9f9</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">text_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#333</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">rect_border_size</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0.5px</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">rect_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#bbb</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">rect_min_width</span><span class="s3">\&quot;</span><span class="s1">: 200,</span><span class="s3">\n    \&quot;</span><span class="s1">rect_min_height</span><span class="s3">\&quot;</span><span class="s1">: 200,</span><span class="s3">\n    \&quot;</span><span class="s1">fontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">rect_padding</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">line_height</span><span class="s3">\&quot;</span><span class="s1">: 20</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">mindmap</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">padding</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">maxNodeWidth</span><span class="s3">\&quot;</span><span class="s1">: 200</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">kanban</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">padding</span><span class="s3">\&quot;</span><span class="s1">: 8,</span><span class="s3">\n    \&quot;</span><span class="s1">sectionWidth</span><span class="s3">\&quot;</span><span class="s1">: 200,</span><span class="s3">\n    \&quot;</span><span class="s1">ticketBaseUrl</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">timeline</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">diagramMarginX</span><span class="s3">\&quot;</span><span class="s1">: 50,</span><span class="s3">\n    \&quot;</span><span class="s1">diagramMarginY</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">leftMargin</span><span class="s3">\&quot;</span><span class="s1">: 150,</span><span class="s3">\n    \&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">: 150,</span><span class="s3">\n    \&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">: 50,</span><span class="s3">\n    \&quot;</span><span class="s1">boxMargin</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">boxTextMargin</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n    \&quot;</span><span class="s1">noteMargin</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">messageMargin</span><span class="s3">\&quot;</span><span class="s1">: 35,</span><span class="s3">\n    \&quot;</span><span class="s1">messageAlign</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">bottomMarginAdj</span><span class="s3">\&quot;</span><span class="s1">: 1,</span><span class="s3">\n    \&quot;</span><span class="s1">rightAngles</span><span class="s3">\&quot;</span><span class="s1">: false,</span><span class="s3">\n    \&quot;</span><span class="s1">taskFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">taskFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">taskMargin</span><span class="s3">\&quot;</span><span class="s1">: 50,</span><span class="s3">\n    \&quot;</span><span class="s1">activationWidth</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">textPlacement</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">fo</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">actorColours</span><span class="s3">\&quot;</span><span class="s1">: [</span><span class="s3">\n      \&quot;</span><span class="s1">#8FBC8F</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#7CFC00</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#00FFFF</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#20B2AA</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#B0E0E6</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#FFFFE0</span><span class="s3">\&quot;\n    </span><span class="s1">],</span><span class="s3">\n    \&quot;</span><span class="s1">sectionFills</span><span class="s3">\&quot;</span><span class="s1">: [</span><span class="s3">\n      \&quot;</span><span class="s1">#191970</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#8B008B</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#4B0082</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#2F4F4F</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#800000</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#8B4513</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      \&quot;</span><span class="s1">#00008B</span><span class="s3">\&quot;\n    </span><span class="s1">],</span><span class="s3">\n    \&quot;</span><span class="s1">sectionColours</span><span class="s3">\&quot;</span><span class="s1">: [</span><span class="s3">\n      \&quot;</span><span class="s1">#fff</span><span class="s3">\&quot;\n    </span><span class="s1">],</span><span class="s3">\n    \&quot;</span><span class="s1">disableMulticolor</span><span class="s3">\&quot;</span><span class="s1">: false</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">gitGraph</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">titleTopMargin</span><span class="s3">\&quot;</span><span class="s1">: 25,</span><span class="s3">\n    \&quot;</span><span class="s1">diagramPadding</span><span class="s3">\&quot;</span><span class="s1">: 8,</span><span class="s3">\n    \&quot;</span><span class="s1">nodeLabel</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n      \&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">: 75,</span><span class="s3">\n      \&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">: 100,</span><span class="s3">\n      \&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">: -25,</span><span class="s3">\n      \&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">: 0</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    \&quot;</span><span class="s1">mainBranchName</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">main</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">mainBranchOrder</span><span class="s3">\&quot;</span><span class="s1">: 0,</span><span class="s3">\n    \&quot;</span><span class="s1">showCommitLabel</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">showBranches</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">rotateCommitLabel</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">parallelCommits</span><span class="s3">\&quot;</span><span class="s1">: false,</span><span class="s3">\n    \&quot;</span><span class="s1">arrowMarkerAbsolute</span><span class="s3">\&quot;</span><span class="s1">: false</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">c4</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">diagramMarginX</span><span class="s3">\&quot;</span><span class="s1">: 50,</span><span class="s3">\n    \&quot;</span><span class="s1">diagramMarginY</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">c4ShapeMargin</span><span class="s3">\&quot;</span><span class="s1">: 50,</span><span class="s3">\n    \&quot;</span><span class="s1">c4ShapePadding</span><span class="s3">\&quot;</span><span class="s1">: 20,</span><span class="s3">\n    \&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">: 216,</span><span class="s3">\n    \&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">: 60,</span><span class="s3">\n    \&quot;</span><span class="s1">boxMargin</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">c4ShapeInRow</span><span class="s3">\&quot;</span><span class="s1">: 4,</span><span class="s3">\n    \&quot;</span><span class="s1">nextLinePaddingX</span><span class="s3">\&quot;</span><span class="s1">: 0,</span><span class="s3">\n    \&quot;</span><span class="s1">c4BoundaryInRow</span><span class="s3">\&quot;</span><span class="s1">: 2,</span><span class="s3">\n    \&quot;</span><span class="s1">personFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">personFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">personFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_personFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">external_personFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">external_personFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">systemFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">systemFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">systemFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_systemFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">external_systemFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">external_systemFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">system_dbFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">system_dbFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">system_dbFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_system_dbFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">external_system_dbFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">external_system_dbFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">system_queueFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">system_queueFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">system_queueFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_system_queueFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">external_system_queueFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">external_system_queueFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">boundaryFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">boundaryFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">boundaryFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">messageFontSize</span><span class="s3">\&quot;</span><span class="s1">: 12,</span><span class="s3">\n    \&quot;</span><span class="s1">messageFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">messageFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">containerFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">containerFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">containerFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_containerFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">external_containerFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">external_containerFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">container_dbFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">container_dbFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">container_dbFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_container_dbFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">external_container_dbFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">external_container_dbFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">container_queueFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">container_queueFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">container_queueFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_container_queueFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">external_container_queueFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">external_container_queueFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">componentFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">componentFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">componentFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_componentFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">external_componentFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">external_componentFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">component_dbFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">component_dbFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">component_dbFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_component_dbFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">external_component_dbFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">external_component_dbFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">component_queueFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">component_queueFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">component_queueFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_component_queueFontSize</span><span class="s3">\&quot;</span><span class="s1">: 14,</span><span class="s3">\n    \&quot;</span><span class="s1">external_component_queueFontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">Open Sans</span><span class="s3">\&quot;</span><span class="s1">, sans-serif',</span><span class="s3">\n    \&quot;</span><span class="s1">external_component_queueFontWeight</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">wrap</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">wrapPadding</span><span class="s3">\&quot;</span><span class="s1">: 10,</span><span class="s3">\n    \&quot;</span><span class="s1">person_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#08427B</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">person_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#073B6F</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_person_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#686868</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_person_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#8A8A8A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">system_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#1168BD</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">system_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#3C7FC0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">system_db_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#1168BD</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">system_db_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#3C7FC0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">system_queue_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#1168BD</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">system_queue_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#3C7FC0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_system_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#999999</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_system_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#8A8A8A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_system_db_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#999999</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_system_db_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#8A8A8A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_system_queue_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#999999</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_system_queue_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#8A8A8A</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">container_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#438DD5</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">container_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#3C7FC0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">container_db_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#438DD5</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">container_db_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#3C7FC0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">container_queue_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#438DD5</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">container_queue_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#3C7FC0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_container_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#B3B3B3</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_container_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#A6A6A6</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_container_db_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#B3B3B3</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_container_db_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#A6A6A6</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_container_queue_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#B3B3B3</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_container_queue_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#A6A6A6</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">component_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#85BBF0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">component_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#78A8D8</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">component_db_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#85BBF0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">component_db_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#78A8D8</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">component_queue_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#85BBF0</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">component_queue_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#78A8D8</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_component_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#CCCCCC</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_component_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#BFBFBF</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_component_db_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#CCCCCC</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_component_db_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#BFBFBF</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_component_queue_bg_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#CCCCCC</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">external_component_queue_border_color</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">#BFBFBF</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">sankey</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">: 600,</span><span class="s3">\n    \&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">: 400,</span><span class="s3">\n    \&quot;</span><span class="s1">linkColor</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">gradient</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">nodeAlignment</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">justify</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">showValues</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">prefix</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">suffix</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">block</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">padding</span><span class="s3">\&quot;</span><span class="s1">: 8</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">packet</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">rowHeight</span><span class="s3">\&quot;</span><span class="s1">: 32,</span><span class="s3">\n    \&quot;</span><span class="s1">bitWidth</span><span class="s3">\&quot;</span><span class="s1">: 32,</span><span class="s3">\n    \&quot;</span><span class="s1">bitsPerRow</span><span class="s3">\&quot;</span><span class="s1">: 32,</span><span class="s3">\n    \&quot;</span><span class="s1">showBits</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">paddingX</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n    \&quot;</span><span class="s1">paddingY</span><span class="s3">\&quot;</span><span class="s1">: 5</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">architecture</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">padding</span><span class="s3">\&quot;</span><span class="s1">: 40,</span><span class="s3">\n    \&quot;</span><span class="s1">iconSize</span><span class="s3">\&quot;</span><span class="s1">: 80,</span><span class="s3">\n    \&quot;</span><span class="s1">fontSize</span><span class="s3">\&quot;</span><span class="s1">: 16</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">radar</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n    \&quot;</span><span class="s1">useMaxWidth</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n    \&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">: 600,</span><span class="s3">\n    \&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">: 600,</span><span class="s3">\n    \&quot;</span><span class="s1">marginTop</span><span class="s3">\&quot;</span><span class="s1">: 50,</span><span class="s3">\n    \&quot;</span><span class="s1">marginRight</span><span class="s3">\&quot;</span><span class="s1">: 50,</span><span class="s3">\n    \&quot;</span><span class="s1">marginBottom</span><span class="s3">\&quot;</span><span class="s1">: 50,</span><span class="s3">\n    \&quot;</span><span class="s1">marginLeft</span><span class="s3">\&quot;</span><span class="s1">: 50,</span><span class="s3">\n    \&quot;</span><span class="s1">axisScaleFactor</span><span class="s3">\&quot;</span><span class="s1">: 1,</span><span class="s3">\n    \&quot;</span><span class="s1">axisLabelFactor</span><span class="s3">\&quot;</span><span class="s1">: 1.05,</span><span class="s3">\n    \&quot;</span><span class="s1">curveTension</span><span class="s3">\&quot;</span><span class="s1">: 0.17</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  \&quot;</span><span class="s1">theme</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">look</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">classic</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">handDrawnSeed</span><span class="s3">\&quot;</span><span class="s1">: 0,</span><span class="s3">\n  \&quot;</span><span class="s1">layout</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">dagre</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">maxTextSize</span><span class="s3">\&quot;</span><span class="s1">: 5e4,</span><span class="s3">\n  \&quot;</span><span class="s1">maxEdges</span><span class="s3">\&quot;</span><span class="s1">: 500,</span><span class="s3">\n  \&quot;</span><span class="s1">darkMode</span><span class="s3">\&quot;</span><span class="s1">: false,</span><span class="s3">\n  \&quot;</span><span class="s1">fontFamily</span><span class="s3">\&quot;</span><span class="s1">: '</span><span class="s3">\&quot;</span><span class="s1">trebuchet ms</span><span class="s3">\&quot;</span><span class="s1">, verdana, arial, sans-serif;',</span><span class="s3">\n  \&quot;</span><span class="s1">logLevel</span><span class="s3">\&quot;</span><span class="s1">: 5,</span><span class="s3">\n  \&quot;</span><span class="s1">securityLevel</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">strict</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">startOnLoad</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n  \&quot;</span><span class="s1">arrowMarkerAbsolute</span><span class="s3">\&quot;</span><span class="s1">: false,</span><span class="s3">\n  \&quot;</span><span class="s1">secure</span><span class="s3">\&quot;</span><span class="s1">: [</span><span class="s3">\n    \&quot;</span><span class="s1">secure</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">securityLevel</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">startOnLoad</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">maxTextSize</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">suppressErrorRendering</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">maxEdges</span><span class="s3">\&quot;\n  </span><span class="s1">],</span><span class="s3">\n  \&quot;</span><span class="s1">legacyMathML</span><span class="s3">\&quot;</span><span class="s1">: false,</span><span class="s3">\n  \&quot;</span><span class="s1">forceLegacyMathML</span><span class="s3">\&quot;</span><span class="s1">: false,</span><span class="s3">\n  \&quot;</span><span class="s1">deterministicIds</span><span class="s3">\&quot;</span><span class="s1">: false,</span><span class="s3">\n  \&quot;</span><span class="s1">fontSize</span><span class="s3">\&quot;</span><span class="s1">: 16,</span><span class="s3">\n  \&quot;</span><span class="s1">markdownAutoWrap</span><span class="s3">\&quot;</span><span class="s1">: true,</span><span class="s3">\n  \&quot;</span><span class="s1">suppressErrorRendering</span><span class="s3">\&quot;</span><span class="s1">: false</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// src/defaultConfig.ts</span><span class="s3">\n</span><span class="s1">var config = {</span><span class="s3">\n  </span><span class="s1">...config_schema_default,</span><span class="s3">\n  </span><span class="s1">// Set, even though they're `undefined` so that `configKeys` finds these keys</span><span class="s3">\n  </span><span class="s1">// TODO: Should we replace these with `null` so that they can go in the JSON Schema?</span><span class="s3">\n  </span><span class="s1">deterministicIDSeed: void 0,</span><span class="s3">\n  </span><span class="s1">elk: {</span><span class="s3">\n    </span><span class="s1">// mergeEdges is needed here to be considered</span><span class="s3">\n    </span><span class="s1">mergeEdges: false,</span><span class="s3">\n    </span><span class="s1">nodePlacementStrategy: </span><span class="s3">\&quot;</span><span class="s1">BRANDES_KOEPF</span><span class="s3">\&quot;\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">themeCSS: void 0,</span><span class="s3">\n  </span><span class="s1">// add non-JSON default config values</span><span class="s3">\n  </span><span class="s1">themeVariables: themes_default.default.getThemeVariables(),</span><span class="s3">\n  </span><span class="s1">sequence: {</span><span class="s3">\n    </span><span class="s1">...config_schema_default.sequence,</span><span class="s3">\n    </span><span class="s1">messageFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.messageFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.messageFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.messageFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">messageFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">noteFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.noteFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.noteFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.noteFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">noteFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">actorFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.actorFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.actorFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.actorFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">actorFont</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">class: {</span><span class="s3">\n    </span><span class="s1">hideEmptyMembersBox: false</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">gantt: {</span><span class="s3">\n    </span><span class="s1">...config_schema_default.gantt,</span><span class="s3">\n    </span><span class="s1">tickInterval: void 0,</span><span class="s3">\n    </span><span class="s1">useWidth: void 0</span><span class="s3">\n    </span><span class="s1">// can probably be removed since `configKeys` already includes this</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">c4: {</span><span class="s3">\n    </span><span class="s1">...config_schema_default.c4,</span><span class="s3">\n    </span><span class="s1">useWidth: void 0,</span><span class="s3">\n    </span><span class="s1">personFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.personFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.personFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.personFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">personFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">external_personFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.external_personFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.external_personFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.external_personFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">external_personFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">systemFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.systemFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.systemFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.systemFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">systemFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">external_systemFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.external_systemFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.external_systemFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.external_systemFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">external_systemFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">system_dbFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.system_dbFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.system_dbFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.system_dbFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">system_dbFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">external_system_dbFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.external_system_dbFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.external_system_dbFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.external_system_dbFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">external_system_dbFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">system_queueFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.system_queueFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.system_queueFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.system_queueFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">system_queueFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">external_system_queueFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.external_system_queueFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.external_system_queueFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.external_system_queueFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">external_system_queueFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">containerFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.containerFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.containerFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.containerFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">containerFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">external_containerFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.external_containerFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.external_containerFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.external_containerFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">external_containerFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">container_dbFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.container_dbFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.container_dbFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.container_dbFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">container_dbFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">external_container_dbFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.external_container_dbFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.external_container_dbFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.external_container_dbFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">external_container_dbFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">container_queueFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.container_queueFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.container_queueFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.container_queueFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">container_queueFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">external_container_queueFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.external_container_queueFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.external_container_queueFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.external_container_queueFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">external_container_queueFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">componentFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.componentFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.componentFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.componentFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">componentFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">external_componentFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.external_componentFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.external_componentFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.external_componentFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">external_componentFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">component_dbFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.component_dbFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.component_dbFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.component_dbFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">component_dbFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">external_component_dbFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.external_component_dbFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.external_component_dbFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.external_component_dbFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">external_component_dbFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">component_queueFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.component_queueFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.component_queueFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.component_queueFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">component_queueFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">external_component_queueFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.external_component_queueFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.external_component_queueFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.external_component_queueFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">external_component_queueFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">boundaryFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.boundaryFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.boundaryFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.boundaryFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">boundaryFont</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">messageFont: /* @__PURE__ */ __name(function() {</span><span class="s3">\n      </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fontFamily: this.messageFontFamily,</span><span class="s3">\n        </span><span class="s1">fontSize: this.messageFontSize,</span><span class="s3">\n        </span><span class="s1">fontWeight: this.messageFontWeight</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">messageFont</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">pie: {</span><span class="s3">\n    </span><span class="s1">...config_schema_default.pie,</span><span class="s3">\n    </span><span class="s1">useWidth: 984</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">xyChart: {</span><span class="s3">\n    </span><span class="s1">...config_schema_default.xyChart,</span><span class="s3">\n    </span><span class="s1">useWidth: void 0</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">requirement: {</span><span class="s3">\n    </span><span class="s1">...config_schema_default.requirement,</span><span class="s3">\n    </span><span class="s1">useWidth: void 0</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">packet: {</span><span class="s3">\n    </span><span class="s1">...config_schema_default.packet</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">radar: {</span><span class="s3">\n    </span><span class="s1">...config_schema_default.radar</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var keyify = /* @__PURE__ */ __name((obj, prefix = </span><span class="s3">\&quot;\&quot;</span><span class="s1">) =&gt; Object.keys(obj).reduce((res, el) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (Array.isArray(obj[el])) {</span><span class="s3">\n    </span><span class="s1">return res;</span><span class="s3">\n  </span><span class="s1">} else if (typeof obj[el] === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; obj[el] !== null) {</span><span class="s3">\n    </span><span class="s1">return [...res, prefix + el, ...keyify(obj[el], </span><span class="s3">\&quot;\&quot;</span><span class="s1">)];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return [...res, prefix + el];</span><span class="s3">\n</span><span class="s1">}, []), </span><span class="s3">\&quot;</span><span class="s1">keyify</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var configKeys = new Set(keyify(config, </span><span class="s3">\&quot;\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var defaultConfig_default = config;</span><span class="s3">\n\n</span><span class="s1">// src/utils/sanitizeDirective.ts</span><span class="s3">\n</span><span class="s1">var sanitizeDirective = /* @__PURE__ */ __name((args) =&gt; {</span><span class="s3">\n  </span><span class="s1">log.debug(</span><span class="s3">\&quot;</span><span class="s1">sanitizeDirective called with</span><span class="s3">\&quot;</span><span class="s1">, args);</span><span class="s3">\n  </span><span class="s1">if (typeof args !== </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">|| args == null) {</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (Array.isArray(args)) {</span><span class="s3">\n    </span><span class="s1">args.forEach((arg) =&gt; sanitizeDirective(arg));</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">for (const key of Object.keys(args)) {</span><span class="s3">\n    </span><span class="s1">log.debug(</span><span class="s3">\&quot;</span><span class="s1">Checking key</span><span class="s3">\&quot;</span><span class="s1">, key);</span><span class="s3">\n    </span><span class="s1">if (key.startsWith(</span><span class="s3">\&quot;</span><span class="s1">__</span><span class="s3">\&quot;</span><span class="s1">) || key.includes(</span><span class="s3">\&quot;</span><span class="s1">proto</span><span class="s3">\&quot;</span><span class="s1">) || key.includes(</span><span class="s3">\&quot;</span><span class="s1">constr</span><span class="s3">\&quot;</span><span class="s1">) || !configKeys.has(key) || args[key] == null) {</span><span class="s3">\n      </span><span class="s1">log.debug(</span><span class="s3">\&quot;</span><span class="s1">sanitize deleting key: </span><span class="s3">\&quot;</span><span class="s1">, key);</span><span class="s3">\n      </span><span class="s1">delete args[key];</span><span class="s3">\n      </span><span class="s1">continue;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (typeof args[key] === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">log.debug(</span><span class="s3">\&quot;</span><span class="s1">sanitizing object</span><span class="s3">\&quot;</span><span class="s1">, key);</span><span class="s3">\n      </span><span class="s1">sanitizeDirective(args[key]);</span><span class="s3">\n      </span><span class="s1">continue;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const cssMatchers = [</span><span class="s3">\&quot;</span><span class="s1">themeCSS</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">fontFamily</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">altFontFamily</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n    </span><span class="s1">for (const cssKey of cssMatchers) {</span><span class="s3">\n      </span><span class="s1">if (key.includes(cssKey)) {</span><span class="s3">\n        </span><span class="s1">log.debug(</span><span class="s3">\&quot;</span><span class="s1">sanitizing css option</span><span class="s3">\&quot;</span><span class="s1">, key);</span><span class="s3">\n        </span><span class="s1">args[key] = sanitizeCss(args[key]);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (args.themeVariables) {</span><span class="s3">\n    </span><span class="s1">for (const k of Object.keys(args.themeVariables)) {</span><span class="s3">\n      </span><span class="s1">const val = args.themeVariables[k];</span><span class="s3">\n      </span><span class="s1">if (val?.match &amp;&amp; !val.match(/^[</span><span class="s3">\\</span><span class="s1">d </span><span class="s3">\&quot;</span><span class="s1">#%(),.;A-Za-z]+$/)) {</span><span class="s3">\n        </span><span class="s1">args.themeVariables[k] = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">log.debug(</span><span class="s3">\&quot;</span><span class="s1">After sanitization</span><span class="s3">\&quot;</span><span class="s1">, args);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">sanitizeDirective</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var sanitizeCss = /* @__PURE__ */ __name((str) =&gt; {</span><span class="s3">\n  </span><span class="s1">let startCnt = 0;</span><span class="s3">\n  </span><span class="s1">let endCnt = 0;</span><span class="s3">\n  </span><span class="s1">for (const element of str) {</span><span class="s3">\n    </span><span class="s1">if (startCnt &lt; endCnt) {</span><span class="s3">\n      </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">{ /* ERROR: Unbalanced CSS */ }</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (element === </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">startCnt++;</span><span class="s3">\n    </span><span class="s1">} else if (element === </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">endCnt++;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (startCnt !== endCnt) {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">{ /* ERROR: Unbalanced CSS */ }</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return str;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">sanitizeCss</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/config.ts</span><span class="s3">\n</span><span class="s1">var defaultConfig = Object.freeze(defaultConfig_default);</span><span class="s3">\n</span><span class="s1">var siteConfig = assignWithDepth_default({}, defaultConfig);</span><span class="s3">\n</span><span class="s1">var configFromInitialize;</span><span class="s3">\n</span><span class="s1">var directives = [];</span><span class="s3">\n</span><span class="s1">var currentConfig = assignWithDepth_default({}, defaultConfig);</span><span class="s3">\n</span><span class="s1">var updateCurrentConfig = /* @__PURE__ */ __name((siteCfg, _directives) =&gt; {</span><span class="s3">\n  </span><span class="s1">let cfg = assignWithDepth_default({}, siteCfg);</span><span class="s3">\n  </span><span class="s1">let sumOfDirectives = {};</span><span class="s3">\n  </span><span class="s1">for (const d of _directives) {</span><span class="s3">\n    </span><span class="s1">sanitize(d);</span><span class="s3">\n    </span><span class="s1">sumOfDirectives = assignWithDepth_default(sumOfDirectives, d);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">cfg = assignWithDepth_default(cfg, sumOfDirectives);</span><span class="s3">\n  </span><span class="s1">if (sumOfDirectives.theme &amp;&amp; sumOfDirectives.theme in themes_default) {</span><span class="s3">\n    </span><span class="s1">const tmpConfigFromInitialize = assignWithDepth_default({}, configFromInitialize);</span><span class="s3">\n    </span><span class="s1">const themeVariables = assignWithDepth_default(</span><span class="s3">\n      </span><span class="s1">tmpConfigFromInitialize.themeVariables || {},</span><span class="s3">\n      </span><span class="s1">sumOfDirectives.themeVariables</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (cfg.theme &amp;&amp; cfg.theme in themes_default) {</span><span class="s3">\n      </span><span class="s1">cfg.themeVariables = themes_default[cfg.theme].getThemeVariables(themeVariables);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">currentConfig = cfg;</span><span class="s3">\n  </span><span class="s1">checkConfig(currentConfig);</span><span class="s3">\n  </span><span class="s1">return currentConfig;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">updateCurrentConfig</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var setSiteConfig = /* @__PURE__ */ __name((conf) =&gt; {</span><span class="s3">\n  </span><span class="s1">siteConfig = assignWithDepth_default({}, defaultConfig);</span><span class="s3">\n  </span><span class="s1">siteConfig = assignWithDepth_default(siteConfig, conf);</span><span class="s3">\n  </span><span class="s1">if (conf.theme &amp;&amp; themes_default[conf.theme]) {</span><span class="s3">\n    </span><span class="s1">siteConfig.themeVariables = themes_default[conf.theme].getThemeVariables(conf.themeVariables);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">updateCurrentConfig(siteConfig, directives);</span><span class="s3">\n  </span><span class="s1">return siteConfig;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">setSiteConfig</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var saveConfigFromInitialize = /* @__PURE__ */ __name((conf) =&gt; {</span><span class="s3">\n  </span><span class="s1">configFromInitialize = assignWithDepth_default({}, conf);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">saveConfigFromInitialize</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var updateSiteConfig = /* @__PURE__ */ __name((conf) =&gt; {</span><span class="s3">\n  </span><span class="s1">siteConfig = assignWithDepth_default(siteConfig, conf);</span><span class="s3">\n  </span><span class="s1">updateCurrentConfig(siteConfig, directives);</span><span class="s3">\n  </span><span class="s1">return siteConfig;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">updateSiteConfig</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getSiteConfig = /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n  </span><span class="s1">return assignWithDepth_default({}, siteConfig);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getSiteConfig</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var setConfig = /* @__PURE__ */ __name((conf) =&gt; {</span><span class="s3">\n  </span><span class="s1">checkConfig(conf);</span><span class="s3">\n  </span><span class="s1">assignWithDepth_default(currentConfig, conf);</span><span class="s3">\n  </span><span class="s1">return getConfig();</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">setConfig</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getConfig = /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n  </span><span class="s1">return assignWithDepth_default({}, currentConfig);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getConfig</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var sanitize = /* @__PURE__ */ __name((options) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (!options) {</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">secure</span><span class="s3">\&quot;</span><span class="s1">, ...siteConfig.secure ?? []].forEach((key) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (Object.hasOwn(options, key)) {</span><span class="s3">\n      </span><span class="s1">log.debug(`Denied attempt to modify a secure key ${key}`, options[key]);</span><span class="s3">\n      </span><span class="s1">delete options[key];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">Object.keys(options).forEach((key) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (key.startsWith(</span><span class="s3">\&quot;</span><span class="s1">__</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n      </span><span class="s1">delete options[key];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">Object.keys(options).forEach((key) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (typeof options[key] === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; (options[key].includes(</span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot;</span><span class="s1">) || options[key].includes(</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">) || options[key].includes(</span><span class="s3">\&quot;</span><span class="s1">url(data:</span><span class="s3">\&quot;</span><span class="s1">))) {</span><span class="s3">\n      </span><span class="s1">delete options[key];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (typeof options[key] === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">sanitize(options[key]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">sanitize</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var addDirective = /* @__PURE__ */ __name((directive) =&gt; {</span><span class="s3">\n  </span><span class="s1">sanitizeDirective(directive);</span><span class="s3">\n  </span><span class="s1">if (directive.fontFamily &amp;&amp; !directive.themeVariables?.fontFamily) {</span><span class="s3">\n    </span><span class="s1">directive.themeVariables = {</span><span class="s3">\n      </span><span class="s1">...directive.themeVariables,</span><span class="s3">\n      </span><span class="s1">fontFamily: directive.fontFamily</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">directives.push(directive);</span><span class="s3">\n  </span><span class="s1">updateCurrentConfig(siteConfig, directives);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">addDirective</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var reset = /* @__PURE__ */ __name((config2 = siteConfig) =&gt; {</span><span class="s3">\n  </span><span class="s1">directives = [];</span><span class="s3">\n  </span><span class="s1">updateCurrentConfig(config2, directives);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">reset</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ConfigWarning = {</span><span class="s3">\n  </span><span class="s1">LAZY_LOAD_DEPRECATED: </span><span class="s3">\&quot;</span><span class="s1">The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var issuedWarnings = {};</span><span class="s3">\n</span><span class="s1">var issueWarning = /* @__PURE__ */ __name((warning) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (issuedWarnings[warning]) {</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">log.warn(ConfigWarning[warning]);</span><span class="s3">\n  </span><span class="s1">issuedWarnings[warning] = true;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">issueWarning</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var checkConfig = /* @__PURE__ */ __name((config2) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (!config2) {</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (config2.lazyLoadedDiagrams || config2.loadExternalDiagramsAtStartup) {</span><span class="s3">\n    </span><span class="s1">issueWarning(</span><span class="s3">\&quot;</span><span class="s1">LAZY_LOAD_DEPRECATED</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">checkConfig</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/common/common.ts</span><span class="s3">\n</span><span class="s1">import DOMPurify from </span><span class="s3">\&quot;</span><span class="s1">dompurify</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var lineBreakRegex = /&lt;br</span><span class="s3">\\</span><span class="s1">s*</span><span class="s3">\\</span><span class="s1">/?&gt;/gi;</span><span class="s3">\n</span><span class="s1">var getRows = /* @__PURE__ */ __name((s) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (!s) {</span><span class="s3">\n    </span><span class="s1">return [</span><span class="s3">\&quot;\&quot;</span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const str = breakToPlaceholder(s).replace(/</span><span class="s3">\\\\</span><span class="s1">n/g, </span><span class="s3">\&quot;</span><span class="s1">#br#</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return str.split(</span><span class="s3">\&quot;</span><span class="s1">#br#</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getRows</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var setupDompurifyHooksIfNotSetup = /* @__PURE__ */ (() =&gt; {</span><span class="s3">\n  </span><span class="s1">let setup = false;</span><span class="s3">\n  </span><span class="s1">return () =&gt; {</span><span class="s3">\n    </span><span class="s1">if (!setup) {</span><span class="s3">\n      </span><span class="s1">setupDompurifyHooks();</span><span class="s3">\n      </span><span class="s1">setup = true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">function setupDompurifyHooks() {</span><span class="s3">\n  </span><span class="s1">const TEMPORARY_ATTRIBUTE = </span><span class="s3">\&quot;</span><span class="s1">data-temp-href-target</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">DOMPurify.addHook(</span><span class="s3">\&quot;</span><span class="s1">beforeSanitizeAttributes</span><span class="s3">\&quot;</span><span class="s1">, (node) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (node instanceof Element &amp;&amp; node.tagName === </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; node.hasAttribute(</span><span class="s3">\&quot;</span><span class="s1">target</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n      </span><span class="s1">node.setAttribute(TEMPORARY_ATTRIBUTE, node.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">target</span><span class="s3">\&quot;</span><span class="s1">) ?? </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">DOMPurify.addHook(</span><span class="s3">\&quot;</span><span class="s1">afterSanitizeAttributes</span><span class="s3">\&quot;</span><span class="s1">, (node) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (node instanceof Element &amp;&amp; node.tagName === </span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; node.hasAttribute(TEMPORARY_ATTRIBUTE)) {</span><span class="s3">\n      </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">target</span><span class="s3">\&quot;</span><span class="s1">, node.getAttribute(TEMPORARY_ATTRIBUTE) ?? </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">node.removeAttribute(TEMPORARY_ATTRIBUTE);</span><span class="s3">\n      </span><span class="s1">if (node.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">target</span><span class="s3">\&quot;</span><span class="s1">) === </span><span class="s3">\&quot;</span><span class="s1">_blank</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">rel</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">noopener</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(setupDompurifyHooks, </span><span class="s3">\&quot;</span><span class="s1">setupDompurifyHooks</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var removeScript = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">setupDompurifyHooksIfNotSetup();</span><span class="s3">\n  </span><span class="s1">const sanitizedText = DOMPurify.sanitize(txt);</span><span class="s3">\n  </span><span class="s1">return sanitizedText;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">removeScript</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var sanitizeMore = /* @__PURE__ */ __name((text, config2) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (config2.flowchart?.htmlLabels !== false) {</span><span class="s3">\n    </span><span class="s1">const level = config2.securityLevel;</span><span class="s3">\n    </span><span class="s1">if (level === </span><span class="s3">\&quot;</span><span class="s1">antiscript</span><span class="s3">\&quot; </span><span class="s1">|| level === </span><span class="s3">\&quot;</span><span class="s1">strict</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">text = removeScript(text);</span><span class="s3">\n    </span><span class="s1">} else if (level !== </span><span class="s3">\&quot;</span><span class="s1">loose</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">text = breakToPlaceholder(text);</span><span class="s3">\n      </span><span class="s1">text = text.replace(/&lt;/g, </span><span class="s3">\&quot;</span><span class="s1">&amp;lt;</span><span class="s3">\&quot;</span><span class="s1">).replace(/&gt;/g, </span><span class="s3">\&quot;</span><span class="s1">&amp;gt;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">text = text.replace(/=/g, </span><span class="s3">\&quot;</span><span class="s1">&amp;equals;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">text = placeholderToBreak(text);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return text;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">sanitizeMore</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var sanitizeText = /* @__PURE__ */ __name((text, config2) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (!text) {</span><span class="s3">\n    </span><span class="s1">return text;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (config2.dompurifyConfig) {</span><span class="s3">\n    </span><span class="s1">text = DOMPurify.sanitize(sanitizeMore(text, config2), config2.dompurifyConfig).toString();</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">text = DOMPurify.sanitize(sanitizeMore(text, config2), {</span><span class="s3">\n      </span><span class="s1">FORBID_TAGS: [</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n    </span><span class="s1">}).toString();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return text;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">sanitizeText</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var sanitizeTextOrArray = /* @__PURE__ */ __name((a, config2) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (typeof a === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return sanitizeText(a, config2);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return a.flat().map((x) =&gt; sanitizeText(x, config2));</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">sanitizeTextOrArray</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var hasBreaks = /* @__PURE__ */ __name((text) =&gt; {</span><span class="s3">\n  </span><span class="s1">return lineBreakRegex.test(text);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">hasBreaks</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var splitBreaks = /* @__PURE__ */ __name((text) =&gt; {</span><span class="s3">\n  </span><span class="s1">return text.split(lineBreakRegex);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">splitBreaks</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var placeholderToBreak = /* @__PURE__ */ __name((s) =&gt; {</span><span class="s3">\n  </span><span class="s1">return s.replace(/#br#/g, </span><span class="s3">\&quot;</span><span class="s1">&lt;br/&gt;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">placeholderToBreak</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var breakToPlaceholder = /* @__PURE__ */ __name((s) =&gt; {</span><span class="s3">\n  </span><span class="s1">return s.replace(lineBreakRegex, </span><span class="s3">\&quot;</span><span class="s1">#br#</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">breakToPlaceholder</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getUrl = /* @__PURE__ */ __name((useAbsolute) =&gt; {</span><span class="s3">\n  </span><span class="s1">let url = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">if (useAbsolute) {</span><span class="s3">\n    </span><span class="s1">url = window.location.protocol + </span><span class="s3">\&quot;</span><span class="s1">//</span><span class="s3">\&quot; </span><span class="s1">+ window.location.host + window.location.pathname + window.location.search;</span><span class="s3">\n    </span><span class="s1">url = url.replaceAll(/</span><span class="s3">\\</span><span class="s1">(/g, </span><span class="s3">\&quot;\\\\</span><span class="s1">(</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">url = url.replaceAll(/</span><span class="s3">\\</span><span class="s1">)/g, </span><span class="s3">\&quot;\\\\</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return url;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getUrl</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var evaluate = /* @__PURE__ */ __name((val) =&gt; val === false || [</span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">null</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">].includes(String(val).trim().toLowerCase()) ? false : true, </span><span class="s3">\&quot;</span><span class="s1">evaluate</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getMax = /* @__PURE__ */ __name(function(...values) {</span><span class="s3">\n  </span><span class="s1">const newValues = values.filter((value) =&gt; {</span><span class="s3">\n    </span><span class="s1">return !isNaN(value);</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">return Math.max(...newValues);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getMax</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getMin = /* @__PURE__ */ __name(function(...values) {</span><span class="s3">\n  </span><span class="s1">const newValues = values.filter((value) =&gt; {</span><span class="s3">\n    </span><span class="s1">return !isNaN(value);</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">return Math.min(...newValues);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getMin</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var parseGenericTypes = /* @__PURE__ */ __name(function(input) {</span><span class="s3">\n  </span><span class="s1">const inputSets = input.split(/(,)/);</span><span class="s3">\n  </span><span class="s1">const output = [];</span><span class="s3">\n  </span><span class="s1">for (let i = 0; i &lt; inputSets.length; i++) {</span><span class="s3">\n    </span><span class="s1">let thisSet = inputSets[i];</span><span class="s3">\n    </span><span class="s1">if (thisSet === </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; i &gt; 0 &amp;&amp; i + 1 &lt; inputSets.length) {</span><span class="s3">\n      </span><span class="s1">const previousSet = inputSets[i - 1];</span><span class="s3">\n      </span><span class="s1">const nextSet = inputSets[i + 1];</span><span class="s3">\n      </span><span class="s1">if (shouldCombineSets(previousSet, nextSet)) {</span><span class="s3">\n        </span><span class="s1">thisSet = previousSet + </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot; </span><span class="s1">+ nextSet;</span><span class="s3">\n        </span><span class="s1">i++;</span><span class="s3">\n        </span><span class="s1">output.pop();</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">output.push(processSet(thisSet));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return output.join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">parseGenericTypes</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var countOccurrence = /* @__PURE__ */ __name((string, substring) =&gt; {</span><span class="s3">\n  </span><span class="s1">return Math.max(0, string.split(substring).length - 1);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">countOccurrence</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var shouldCombineSets = /* @__PURE__ */ __name((previousSet, nextSet) =&gt; {</span><span class="s3">\n  </span><span class="s1">const prevCount = countOccurrence(previousSet, </span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const nextCount = countOccurrence(nextSet, </span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return prevCount === 1 &amp;&amp; nextCount === 1;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">shouldCombineSets</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var processSet = /* @__PURE__ */ __name((input) =&gt; {</span><span class="s3">\n  </span><span class="s1">const tildeCount = countOccurrence(input, </span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">let hasStartingTilde = false;</span><span class="s3">\n  </span><span class="s1">if (tildeCount &lt;= 1) {</span><span class="s3">\n    </span><span class="s1">return input;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (tildeCount % 2 !== 0 &amp;&amp; input.startsWith(</span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n    </span><span class="s1">input = input.substring(1);</span><span class="s3">\n    </span><span class="s1">hasStartingTilde = true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const chars = [...input];</span><span class="s3">\n  </span><span class="s1">let first = chars.indexOf(</span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">let last = chars.lastIndexOf(</span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">while (first !== -1 &amp;&amp; last !== -1 &amp;&amp; first !== last) {</span><span class="s3">\n    </span><span class="s1">chars[first] = </span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">chars[last] = </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">first = chars.indexOf(</span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">last = chars.lastIndexOf(</span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (hasStartingTilde) {</span><span class="s3">\n    </span><span class="s1">chars.unshift(</span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return chars.join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">processSet</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var isMathMLSupported = /* @__PURE__ */ __name(() =&gt; window.MathMLElement !== void 0, </span><span class="s3">\&quot;</span><span class="s1">isMathMLSupported</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var katexRegex = /</span><span class="s3">\\</span><span class="s1">$</span><span class="s3">\\</span><span class="s1">$(.*)</span><span class="s3">\\</span><span class="s1">$</span><span class="s3">\\</span><span class="s1">$/g;</span><span class="s3">\n</span><span class="s1">var hasKatex = /* @__PURE__ */ __name((text) =&gt; (text.match(katexRegex)?.length ?? 0) &gt; 0, </span><span class="s3">\&quot;</span><span class="s1">hasKatex</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var calculateMathMLDimensions = /* @__PURE__ */ __name(async (text, config2) =&gt; {</span><span class="s3">\n  </span><span class="s1">text = await renderKatex(text, config2);</span><span class="s3">\n  </span><span class="s1">const divElem = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">div</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">divElem.innerHTML = text;</span><span class="s3">\n  </span><span class="s1">divElem.id = </span><span class="s3">\&quot;</span><span class="s1">katex-temp</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">divElem.style.visibility = </span><span class="s3">\&quot;</span><span class="s1">hidden</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">divElem.style.position = </span><span class="s3">\&quot;</span><span class="s1">absolute</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">divElem.style.top = </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">const body = document.querySelector(</span><span class="s3">\&quot;</span><span class="s1">body</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">body?.insertAdjacentElement(</span><span class="s3">\&quot;</span><span class="s1">beforeend</span><span class="s3">\&quot;</span><span class="s1">, divElem);</span><span class="s3">\n  </span><span class="s1">const dim = { width: divElem.clientWidth, height: divElem.clientHeight };</span><span class="s3">\n  </span><span class="s1">divElem.remove();</span><span class="s3">\n  </span><span class="s1">return dim;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">calculateMathMLDimensions</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var renderKatex = /* @__PURE__ */ __name(async (text, config2) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (!hasKatex(text)) {</span><span class="s3">\n    </span><span class="s1">return text;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (!(isMathMLSupported() || config2.legacyMathML || config2.forceLegacyMathML)) {</span><span class="s3">\n    </span><span class="s1">return text.replace(katexRegex, </span><span class="s3">\&quot;</span><span class="s1">MathML is unsupported in this environment.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const { default: katex } = await import(</span><span class="s3">\&quot;</span><span class="s1">katex</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const outputMode = config2.forceLegacyMathML || !isMathMLSupported() &amp;&amp; config2.legacyMathML ? </span><span class="s3">\&quot;</span><span class="s1">htmlAndMathml</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">mathml</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">return text.split(lineBreakRegex).map(</span><span class="s3">\n    </span><span class="s1">(line) =&gt; hasKatex(line) ? `&lt;div style=</span><span class="s3">\&quot;</span><span class="s1">display: flex; align-items: center; justify-content: center; white-space: nowrap;</span><span class="s3">\&quot;</span><span class="s1">&gt;${line}&lt;/div&gt;` : `&lt;div&gt;${line}&lt;/div&gt;`</span><span class="s3">\n  </span><span class="s1">).join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">).replace(</span><span class="s3">\n    </span><span class="s1">katexRegex,</span><span class="s3">\n    </span><span class="s1">(_, c) =&gt; katex.renderToString(c, {</span><span class="s3">\n      </span><span class="s1">throwOnError: true,</span><span class="s3">\n      </span><span class="s1">displayMode: true,</span><span class="s3">\n      </span><span class="s1">output: outputMode</span><span class="s3">\n    </span><span class="s1">}).replace(/</span><span class="s3">\\</span><span class="s1">n/g, </span><span class="s3">\&quot; \&quot;</span><span class="s1">).replace(/&lt;annotation.*&lt;</span><span class="s3">\\</span><span class="s1">/annotation&gt;/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">renderKatex</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var common_default = {</span><span class="s3">\n  </span><span class="s1">getRows,</span><span class="s3">\n  </span><span class="s1">sanitizeText,</span><span class="s3">\n  </span><span class="s1">sanitizeTextOrArray,</span><span class="s3">\n  </span><span class="s1">hasBreaks,</span><span class="s3">\n  </span><span class="s1">splitBreaks,</span><span class="s3">\n  </span><span class="s1">lineBreakRegex,</span><span class="s3">\n  </span><span class="s1">removeScript,</span><span class="s3">\n  </span><span class="s1">getUrl,</span><span class="s3">\n  </span><span class="s1">evaluate,</span><span class="s3">\n  </span><span class="s1">getMax,</span><span class="s3">\n  </span><span class="s1">getMin</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// src/setupGraphViewbox.js</span><span class="s3">\n</span><span class="s1">var d3Attrs = /* @__PURE__ */ __name(function(d3Elem, attrs) {</span><span class="s3">\n  </span><span class="s1">for (let attr of attrs) {</span><span class="s3">\n    </span><span class="s1">d3Elem.attr(attr[0], attr[1]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">d3Attrs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var calculateSvgSizeAttrs = /* @__PURE__ */ __name(function(height, width, useMaxWidth) {</span><span class="s3">\n  </span><span class="s1">let attrs = /* @__PURE__ */ new Map();</span><span class="s3">\n  </span><span class="s1">if (useMaxWidth) {</span><span class="s3">\n    </span><span class="s1">attrs.set(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">100%</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">attrs.set(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, `max-width: ${width}px;`);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">attrs.set(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, height);</span><span class="s3">\n    </span><span class="s1">attrs.set(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, width);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return attrs;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">calculateSvgSizeAttrs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var configureSvgSize = /* @__PURE__ */ __name(function(svgElem, height, width, useMaxWidth) {</span><span class="s3">\n  </span><span class="s1">const attrs = calculateSvgSizeAttrs(height, width, useMaxWidth);</span><span class="s3">\n  </span><span class="s1">d3Attrs(svgElem, attrs);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">configureSvgSize</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var setupGraphViewbox = /* @__PURE__ */ __name(function(graph, svgElem, padding, useMaxWidth) {</span><span class="s3">\n  </span><span class="s1">const svgBounds = svgElem.node().getBBox();</span><span class="s3">\n  </span><span class="s1">const sWidth = svgBounds.width;</span><span class="s3">\n  </span><span class="s1">const sHeight = svgBounds.height;</span><span class="s3">\n  </span><span class="s1">log.info(`SVG bounds: ${sWidth}x${sHeight}`, svgBounds);</span><span class="s3">\n  </span><span class="s1">let width = 0;</span><span class="s3">\n  </span><span class="s1">let height = 0;</span><span class="s3">\n  </span><span class="s1">log.info(`Graph bounds: ${width}x${height}`, graph);</span><span class="s3">\n  </span><span class="s1">width = sWidth + padding * 2;</span><span class="s3">\n  </span><span class="s1">height = sHeight + padding * 2;</span><span class="s3">\n  </span><span class="s1">log.info(`Calculated bounds: ${width}x${height}`);</span><span class="s3">\n  </span><span class="s1">configureSvgSize(svgElem, height, width, useMaxWidth);</span><span class="s3">\n  </span><span class="s1">const vBox = `${svgBounds.x - padding} ${svgBounds.y - padding} ${svgBounds.width + 2 * padding} ${svgBounds.height + 2 * padding}`;</span><span class="s3">\n  </span><span class="s1">svgElem.attr(</span><span class="s3">\&quot;</span><span class="s1">viewBox</span><span class="s3">\&quot;</span><span class="s1">, vBox);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">setupGraphViewbox</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/styles.ts</span><span class="s3">\n</span><span class="s1">var themes = {};</span><span class="s3">\n</span><span class="s1">var getStyles = /* @__PURE__ */ __name((type, userStyles, options) =&gt; {</span><span class="s3">\n  </span><span class="s1">let diagramStyles = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">if (type in themes &amp;&amp; themes[type]) {</span><span class="s3">\n    </span><span class="s1">diagramStyles = themes[type](options);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">log.warn(`No theme found for ${type}`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return ` &amp; {</span><span class="s3">\n    </span><span class="s1">font-family: ${options.fontFamily};</span><span class="s3">\n    </span><span class="s1">font-size: ${options.fontSize};</span><span class="s3">\n    </span><span class="s1">fill: ${options.textColor}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">@keyframes edge-animation-frame {</span><span class="s3">\n    </span><span class="s1">from {</span><span class="s3">\n      </span><span class="s1">stroke-dashoffset: 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">@keyframes dash {</span><span class="s3">\n    </span><span class="s1">to {</span><span class="s3">\n      </span><span class="s1">stroke-dashoffset: 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">&amp; .edge-animation-slow {</span><span class="s3">\n    </span><span class="s1">stroke-dasharray: 9,5 !important;</span><span class="s3">\n    </span><span class="s1">stroke-dashoffset: 900;</span><span class="s3">\n    </span><span class="s1">animation: dash 50s linear infinite;</span><span class="s3">\n    </span><span class="s1">stroke-linecap: round;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">&amp; .edge-animation-fast {</span><span class="s3">\n    </span><span class="s1">stroke-dasharray: 9,5 !important;</span><span class="s3">\n    </span><span class="s1">stroke-dashoffset: 900;</span><span class="s3">\n    </span><span class="s1">animation: dash 20s linear infinite;</span><span class="s3">\n    </span><span class="s1">stroke-linecap: round;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/* Classes common for multiple diagrams */</span><span class="s3">\n\n  </span><span class="s1">&amp; .error-icon {</span><span class="s3">\n    </span><span class="s1">fill: ${options.errorBkgColor};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">&amp; .error-text {</span><span class="s3">\n    </span><span class="s1">fill: ${options.errorTextColor};</span><span class="s3">\n    </span><span class="s1">stroke: ${options.errorTextColor};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">&amp; .edge-thickness-normal {</span><span class="s3">\n    </span><span class="s1">stroke-width: 1px;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">&amp; .edge-thickness-thick {</span><span class="s3">\n    </span><span class="s1">stroke-width: 3.5px</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">&amp; .edge-pattern-solid {</span><span class="s3">\n    </span><span class="s1">stroke-dasharray: 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">&amp; .edge-thickness-invisible {</span><span class="s3">\n    </span><span class="s1">stroke-width: 0;</span><span class="s3">\n    </span><span class="s1">fill: none;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">&amp; .edge-pattern-dashed{</span><span class="s3">\n    </span><span class="s1">stroke-dasharray: 3;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">.edge-pattern-dotted {</span><span class="s3">\n    </span><span class="s1">stroke-dasharray: 2;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">&amp; .marker {</span><span class="s3">\n    </span><span class="s1">fill: ${options.lineColor};</span><span class="s3">\n    </span><span class="s1">stroke: ${options.lineColor};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">&amp; .marker.cross {</span><span class="s3">\n    </span><span class="s1">stroke: ${options.lineColor};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">&amp; svg {</span><span class="s3">\n    </span><span class="s1">font-family: ${options.fontFamily};</span><span class="s3">\n    </span><span class="s1">font-size: ${options.fontSize};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n   </span><span class="s1">&amp; p {</span><span class="s3">\n    </span><span class="s1">margin: 0</span><span class="s3">\n   </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">${diagramStyles}</span><span class="s3">\n\n  </span><span class="s1">${userStyles}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getStyles</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var addStylesForDiagram = /* @__PURE__ */ __name((type, diagramTheme) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (diagramTheme !== void 0) {</span><span class="s3">\n    </span><span class="s1">themes[type] = diagramTheme;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">addStylesForDiagram</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var styles_default = getStyles;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/common/commonDb.ts</span><span class="s3">\n</span><span class="s1">var commonDb_exports = {};</span><span class="s3">\n</span><span class="s1">__export(commonDb_exports, {</span><span class="s3">\n  </span><span class="s1">clear: () =&gt; clear,</span><span class="s3">\n  </span><span class="s1">getAccDescription: () =&gt; getAccDescription,</span><span class="s3">\n  </span><span class="s1">getAccTitle: () =&gt; getAccTitle,</span><span class="s3">\n  </span><span class="s1">getDiagramTitle: () =&gt; getDiagramTitle,</span><span class="s3">\n  </span><span class="s1">setAccDescription: () =&gt; setAccDescription,</span><span class="s3">\n  </span><span class="s1">setAccTitle: () =&gt; setAccTitle,</span><span class="s3">\n  </span><span class="s1">setDiagramTitle: () =&gt; setDiagramTitle</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var accTitle = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var diagramTitle = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var accDescription = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var sanitizeText2 = /* @__PURE__ */ __name((txt) =&gt; sanitizeText(txt, getConfig()), </span><span class="s3">\&quot;</span><span class="s1">sanitizeText</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var clear = /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n  </span><span class="s1">accTitle = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">accDescription = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">diagramTitle = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">clear</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var setAccTitle = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">accTitle = sanitizeText2(txt).replace(/^</span><span class="s3">\\</span><span class="s1">s+/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">setAccTitle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getAccTitle = /* @__PURE__ */ __name(() =&gt; accTitle, </span><span class="s3">\&quot;</span><span class="s1">getAccTitle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var setAccDescription = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">accDescription = sanitizeText2(txt).replace(/</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\\</span><span class="s1">s+/g, </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">setAccDescription</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getAccDescription = /* @__PURE__ */ __name(() =&gt; accDescription, </span><span class="s3">\&quot;</span><span class="s1">getAccDescription</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var setDiagramTitle = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">diagramTitle = sanitizeText2(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">setDiagramTitle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getDiagramTitle = /* @__PURE__ */ __name(() =&gt; diagramTitle, </span><span class="s3">\&quot;</span><span class="s1">getDiagramTitle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/diagram-api/diagramAPI.ts</span><span class="s3">\n</span><span class="s1">var log2 = log;</span><span class="s3">\n</span><span class="s1">var setLogLevel2 = setLogLevel;</span><span class="s3">\n</span><span class="s1">var getConfig2 = getConfig;</span><span class="s3">\n</span><span class="s1">var setConfig2 = setConfig;</span><span class="s3">\n</span><span class="s1">var defaultConfig2 = defaultConfig;</span><span class="s3">\n</span><span class="s1">var sanitizeText3 = /* @__PURE__ */ __name((text) =&gt; sanitizeText(text, getConfig2()), </span><span class="s3">\&quot;</span><span class="s1">sanitizeText</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var setupGraphViewbox2 = setupGraphViewbox;</span><span class="s3">\n</span><span class="s1">var getCommonDb = /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n  </span><span class="s1">return commonDb_exports;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getCommonDb</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var diagrams = {};</span><span class="s3">\n</span><span class="s1">var registerDiagram = /* @__PURE__ */ __name((id, diagram, detector) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (diagrams[id]) {</span><span class="s3">\n    </span><span class="s1">log2.warn(`Diagram with id ${id} already registered. Overwriting.`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">diagrams[id] = diagram;</span><span class="s3">\n  </span><span class="s1">if (detector) {</span><span class="s3">\n    </span><span class="s1">addDetector(id, detector);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">addStylesForDiagram(id, diagram.styles);</span><span class="s3">\n  </span><span class="s1">diagram.injectUtils?.(</span><span class="s3">\n    </span><span class="s1">log2,</span><span class="s3">\n    </span><span class="s1">setLogLevel2,</span><span class="s3">\n    </span><span class="s1">getConfig2,</span><span class="s3">\n    </span><span class="s1">sanitizeText3,</span><span class="s3">\n    </span><span class="s1">setupGraphViewbox2,</span><span class="s3">\n    </span><span class="s1">getCommonDb(),</span><span class="s3">\n    </span><span class="s1">() =&gt; {</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">registerDiagram</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getDiagram = /* @__PURE__ */ __name((name) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (name in diagrams) {</span><span class="s3">\n    </span><span class="s1">return diagrams[name];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">throw new DiagramNotFoundError(name);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getDiagram</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var DiagramNotFoundError = class extends Error {</span><span class="s3">\n  </span><span class="s1">static {</span><span class="s3">\n    </span><span class="s1">__name(this, </span><span class="s3">\&quot;</span><span class="s1">DiagramNotFoundError</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">constructor(name) {</span><span class="s3">\n    </span><span class="s1">super(`Diagram ${name} not found.`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">__name,</span><span class="s3">\n  </span><span class="s1">__export,</span><span class="s3">\n  </span><span class="s1">log,</span><span class="s3">\n  </span><span class="s1">setLogLevel,</span><span class="s3">\n  </span><span class="s1">frontMatterRegex,</span><span class="s3">\n  </span><span class="s1">directiveRegex,</span><span class="s3">\n  </span><span class="s1">UnknownDiagramError,</span><span class="s3">\n  </span><span class="s1">detectors,</span><span class="s3">\n  </span><span class="s1">detectType,</span><span class="s3">\n  </span><span class="s1">registerLazyLoadedDiagrams,</span><span class="s3">\n  </span><span class="s1">getDiagramLoader,</span><span class="s3">\n  </span><span class="s1">assignWithDepth_default,</span><span class="s3">\n  </span><span class="s1">getThemeVariables3 as getThemeVariables,</span><span class="s3">\n  </span><span class="s1">themes_default,</span><span class="s3">\n  </span><span class="s1">defaultConfig_default,</span><span class="s3">\n  </span><span class="s1">sanitizeDirective,</span><span class="s3">\n  </span><span class="s1">defaultConfig,</span><span class="s3">\n  </span><span class="s1">setSiteConfig,</span><span class="s3">\n  </span><span class="s1">saveConfigFromInitialize,</span><span class="s3">\n  </span><span class="s1">updateSiteConfig,</span><span class="s3">\n  </span><span class="s1">getSiteConfig,</span><span class="s3">\n  </span><span class="s1">setConfig,</span><span class="s3">\n  </span><span class="s1">getConfig,</span><span class="s3">\n  </span><span class="s1">addDirective,</span><span class="s3">\n  </span><span class="s1">reset,</span><span class="s3">\n  </span><span class="s1">lineBreakRegex,</span><span class="s3">\n  </span><span class="s1">sanitizeText,</span><span class="s3">\n  </span><span class="s1">evaluate,</span><span class="s3">\n  </span><span class="s1">parseGenericTypes,</span><span class="s3">\n  </span><span class="s1">hasKatex,</span><span class="s3">\n  </span><span class="s1">calculateMathMLDimensions,</span><span class="s3">\n  </span><span class="s1">renderKatex,</span><span class="s3">\n  </span><span class="s1">common_default,</span><span class="s3">\n  </span><span class="s1">configureSvgSize,</span><span class="s3">\n  </span><span class="s1">setupGraphViewbox,</span><span class="s3">\n  </span><span class="s1">styles_default,</span><span class="s3">\n  </span><span class="s1">clear,</span><span class="s3">\n  </span><span class="s1">setAccTitle,</span><span class="s3">\n  </span><span class="s1">getAccTitle,</span><span class="s3">\n  </span><span class="s1">setAccDescription,</span><span class="s3">\n  </span><span class="s1">getAccDescription,</span><span class="s3">\n  </span><span class="s1">setDiagramTitle,</span><span class="s3">\n  </span><span class="s1">getDiagramTitle,</span><span class="s3">\n  </span><span class="s1">commonDb_exports,</span><span class="s3">\n  </span><span class="s1">getConfig2,</span><span class="s3">\n  </span><span class="s1">setConfig2,</span><span class="s3">\n  </span><span class="s1">defaultConfig2,</span><span class="s3">\n  </span><span class="s1">sanitizeText3 as sanitizeText2,</span><span class="s3">\n  </span><span class="s1">setupGraphViewbox2,</span><span class="s3">\n  </span><span class="s1">registerDiagram,</span><span class="s3">\n  </span><span class="s1">getDiagram</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export var MS = '-ms-'</span><span class="s3">\n</span><span class="s1">export var MOZ = '-moz-'</span><span class="s3">\n</span><span class="s1">export var WEBKIT = '-webkit-'</span><span class="s3">\n\n</span><span class="s1">export var COMMENT = 'comm'</span><span class="s3">\n</span><span class="s1">export var RULESET = 'rule'</span><span class="s3">\n</span><span class="s1">export var DECLARATION = 'decl'</span><span class="s3">\n\n</span><span class="s1">export var PAGE = '@page'</span><span class="s3">\n</span><span class="s1">export var MEDIA = '@media'</span><span class="s3">\n</span><span class="s1">export var IMPORT = '@import'</span><span class="s3">\n</span><span class="s1">export var CHARSET = '@charset'</span><span class="s3">\n</span><span class="s1">export var VIEWPORT = '@viewport'</span><span class="s3">\n</span><span class="s1">export var SUPPORTS = '@supports'</span><span class="s3">\n</span><span class="s1">export var DOCUMENT = '@document'</span><span class="s3">\n</span><span class="s1">export var NAMESPACE = '@namespace'</span><span class="s3">\n</span><span class="s1">export var KEYFRAMES = '@keyframes'</span><span class="s3">\n</span><span class="s1">export var FONT_FACE = '@font-face'</span><span class="s3">\n</span><span class="s1">export var COUNTER_STYLE = '@counter-style'</span><span class="s3">\n</span><span class="s1">export var FONT_FEATURE_VALUES = '@font-feature-values'</span><span class="s3">\n</span><span class="s1">export var LAYER = '@layer'</span><span class="s3">\n</span><span class="s1">export var SCOPE = '@scope'</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @param {number}</span><span class="s3">\n </span><span class="s1">* @return {number}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export var abs = Math.abs</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {number}</span><span class="s3">\n </span><span class="s1">* @return {string}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export var from = String.fromCharCode</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {object}</span><span class="s3">\n </span><span class="s1">* @return {object}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export var assign = Object.assign</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {string} value</span><span class="s3">\n </span><span class="s1">* @param {number} length</span><span class="s3">\n </span><span class="s1">* @return {number}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function hash (value, length) {</span><span class="s3">\n\t</span><span class="s1">return charat(value, 0) ^ 45 ? (((((((length &lt;&lt; 2) ^ charat(value, 0)) &lt;&lt; 2) ^ charat(value, 1)) &lt;&lt; 2) ^ charat(value, 2)) &lt;&lt; 2) ^ charat(value, 3) : 0</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {string} value</span><span class="s3">\n </span><span class="s1">* @return {string}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function trim (value) {</span><span class="s3">\n\t</span><span class="s1">return value.trim()</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {string} value</span><span class="s3">\n </span><span class="s1">* @param {RegExp} pattern</span><span class="s3">\n </span><span class="s1">* @return {string?}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function match (value, pattern) {</span><span class="s3">\n\t</span><span class="s1">return (value = pattern.exec(value)) ? value[0] : value</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {string} value</span><span class="s3">\n </span><span class="s1">* @param {(string|RegExp)} pattern</span><span class="s3">\n </span><span class="s1">* @param {string} replacement</span><span class="s3">\n </span><span class="s1">* @return {string}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function replace (value, pattern, replacement) {</span><span class="s3">\n\t</span><span class="s1">return value.replace(pattern, replacement)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {string} value</span><span class="s3">\n </span><span class="s1">* @param {string} search</span><span class="s3">\n </span><span class="s1">* @param {number} position</span><span class="s3">\n </span><span class="s1">* @return {number}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function indexof (value, search, position) {</span><span class="s3">\n\t</span><span class="s1">return value.indexOf(search, position)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {string} value</span><span class="s3">\n </span><span class="s1">* @param {number} index</span><span class="s3">\n </span><span class="s1">* @return {number}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function charat (value, index) {</span><span class="s3">\n\t</span><span class="s1">return value.charCodeAt(index) | 0</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {string} value</span><span class="s3">\n </span><span class="s1">* @param {number} begin</span><span class="s3">\n </span><span class="s1">* @param {number} end</span><span class="s3">\n </span><span class="s1">* @return {string}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function substr (value, begin, end) {</span><span class="s3">\n\t</span><span class="s1">return value.slice(begin, end)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {string} value</span><span class="s3">\n </span><span class="s1">* @return {number}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function strlen (value) {</span><span class="s3">\n\t</span><span class="s1">return value.length</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {any[]} value</span><span class="s3">\n </span><span class="s1">* @return {number}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function sizeof (value) {</span><span class="s3">\n\t</span><span class="s1">return value.length</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {any} value</span><span class="s3">\n </span><span class="s1">* @param {any[]} array</span><span class="s3">\n </span><span class="s1">* @return {any}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function append (value, array) {</span><span class="s3">\n\t</span><span class="s1">return array.push(value), value</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {string[]} array</span><span class="s3">\n </span><span class="s1">* @param {function} callback</span><span class="s3">\n </span><span class="s1">* @return {string}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function combine (array, callback) {</span><span class="s3">\n\t</span><span class="s1">return array.map(callback).join('')</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {string[]} array</span><span class="s3">\n </span><span class="s1">* @param {RegExp} pattern</span><span class="s3">\n </span><span class="s1">* @return {string[]}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function filter (array, pattern) {</span><span class="s3">\n\t</span><span class="s1">return array.filter(function (value) { return !match(value, pattern) })</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {IMPORT, LAYER, COMMENT, RULESET, DECLARATION, KEYFRAMES, NAMESPACE} from './Enum.js'</span><span class="s3">\n</span><span class="s1">import {strlen} from './Utility.js'</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {object[]} children</span><span class="s3">\n </span><span class="s1">* @param {function} callback</span><span class="s3">\n </span><span class="s1">* @return {string}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function serialize (children, callback) {</span><span class="s3">\n\t</span><span class="s1">var output = ''</span><span class="s3">\n\n\t</span><span class="s1">for (var i = 0; i &lt; children.length; i++)</span><span class="s3">\n\t\t</span><span class="s1">output += callback(children[i], i, children, callback) || ''</span><span class="s3">\n\n\t</span><span class="s1">return output</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {object} element</span><span class="s3">\n </span><span class="s1">* @param {number} index</span><span class="s3">\n </span><span class="s1">* @param {object[]} children</span><span class="s3">\n </span><span class="s1">* @param {function} callback</span><span class="s3">\n </span><span class="s1">* @return {string}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function stringify (element, index, children, callback) {</span><span class="s3">\n\t</span><span class="s1">switch (element.type) {</span><span class="s3">\n\t\t</span><span class="s1">case LAYER: if (element.children.length) break</span><span class="s3">\n\t\t</span><span class="s1">case IMPORT: case NAMESPACE: case DECLARATION: return element.return = element.return || element.value</span><span class="s3">\n\t\t</span><span class="s1">case COMMENT: return ''</span><span class="s3">\n\t\t</span><span class="s1">case KEYFRAMES: return element.return = element.value + '{' + serialize(element.children, callback) + '}'</span><span class="s3">\n\t\t</span><span class="s1">case RULESET: if (!strlen(element.value = element.props.join(','))) return ''</span><span class="s3">\n\t</span><span class="s1">}</span><span class="s3">\n\n\t</span><span class="s1">return strlen(children = serialize(element.children, callback)) ? element.return = element.value + '{' + children + '}' : ''</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {from, trim, charat, strlen, substr, append, assign} from './Utility.js'</span><span class="s3">\n\n</span><span class="s1">export var line = 1</span><span class="s3">\n</span><span class="s1">export var column = 1</span><span class="s3">\n</span><span class="s1">export var length = 0</span><span class="s3">\n</span><span class="s1">export var position = 0</span><span class="s3">\n</span><span class="s1">export var character = 0</span><span class="s3">\n</span><span class="s1">export var characters = ''</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {string} value</span><span class="s3">\n </span><span class="s1">* @param {object | null} root</span><span class="s3">\n </span><span class="s1">* @param {object | null} parent</span><span class="s3">\n </span><span class="s1">* @param {string} type</span><span class="s3">\n </span><span class="s1">* @param {string[] | string} props</span><span class="s3">\n </span><span class="s1">* @param {object[] | string} children</span><span class="s3">\n </span><span class="s1">* @param {object[]} siblings</span><span class="s3">\n </span><span class="s1">* @param {number} length</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function node (value, root, parent, type, props, children, length, siblings) {</span><span class="s3">\n\t</span><span class="s1">return {value: value, root: root, parent: parent, type: type, props: props, children: children, line: line, column: column, length: length, return: '', siblings: siblings}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {object} root</span><span class="s3">\n </span><span class="s1">* @param {object} props</span><span class="s3">\n </span><span class="s1">* @return {object}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function copy (root, props) {</span><span class="s3">\n\t</span><span class="s1">return assign(node('', null, null, '', null, null, 0, root.siblings), root, {length: -root.length}, props)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {object} root</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function lift (root) {</span><span class="s3">\n\t</span><span class="s1">while (root.root)</span><span class="s3">\n\t\t</span><span class="s1">root = copy(root.root, {children: [root]})</span><span class="s3">\n\n\t</span><span class="s1">append(root, root.siblings)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @return {number}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function char () {</span><span class="s3">\n\t</span><span class="s1">return character</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @return {number}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function prev () {</span><span class="s3">\n\t</span><span class="s1">character = position &gt; 0 ? charat(characters, --position) : 0</span><span class="s3">\n\n\t</span><span class="s1">if (column--, character === 10)</span><span class="s3">\n\t\t</span><span class="s1">column = 1, line--</span><span class="s3">\n\n\t</span><span class="s1">return character</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @return {number}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function next () {</span><span class="s3">\n\t</span><span class="s1">character = position &lt; length ? charat(characters, position++) : 0</span><span class="s3">\n\n\t</span><span class="s1">if (column++, character === 10)</span><span class="s3">\n\t\t</span><span class="s1">column = 1, line++</span><span class="s3">\n\n\t</span><span class="s1">return character</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @return {number}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function peek () {</span><span class="s3">\n\t</span><span class="s1">return charat(characters, position)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @return {number}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function caret () {</span><span class="s3">\n\t</span><span class="s1">return position</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {number} begin</span><span class="s3">\n </span><span class="s1">* @param {number} end</span><span class="s3">\n </span><span class="s1">* @return {string}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function slice (begin, end) {</span><span class="s3">\n\t</span><span class="s1">return substr(characters, begin, end)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {number} type</span><span class="s3">\n </span><span class="s1">* @return {number}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function token (type) {</span><span class="s3">\n\t</span><span class="s1">switch (type) {</span><span class="s3">\n\t\t</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">0 </span><span class="s3">\\</span><span class="s1">t </span><span class="s3">\\</span><span class="s1">n </span><span class="s3">\\</span><span class="s1">r </span><span class="s3">\\</span><span class="s1">s whitespace token</span><span class="s3">\n\t\t</span><span class="s1">case 0: case 9: case 10: case 13: case 32:</span><span class="s3">\n\t\t\t</span><span class="s1">return 5</span><span class="s3">\n\t\t</span><span class="s1">// ! + , / &gt; @ ~ isolate token</span><span class="s3">\n\t\t</span><span class="s1">case 33: case 43: case 44: case 47: case 62: case 64: case 126:</span><span class="s3">\n\t\t</span><span class="s1">// ; { } breakpoint token</span><span class="s3">\n\t\t</span><span class="s1">case 59: case 123: case 125:</span><span class="s3">\n\t\t\t</span><span class="s1">return 4</span><span class="s3">\n\t\t</span><span class="s1">// : accompanied token</span><span class="s3">\n\t\t</span><span class="s1">case 58:</span><span class="s3">\n\t\t\t</span><span class="s1">return 3</span><span class="s3">\n\t\t</span><span class="s1">// </span><span class="s3">\&quot; </span><span class="s1">' ( [ opening delimit token</span><span class="s3">\n\t\t</span><span class="s1">case 34: case 39: case 40: case 91:</span><span class="s3">\n\t\t\t</span><span class="s1">return 2</span><span class="s3">\n\t\t</span><span class="s1">// ) ] closing delimit token</span><span class="s3">\n\t\t</span><span class="s1">case 41: case 93:</span><span class="s3">\n\t\t\t</span><span class="s1">return 1</span><span class="s3">\n\t</span><span class="s1">}</span><span class="s3">\n\n\t</span><span class="s1">return 0</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {string} value</span><span class="s3">\n </span><span class="s1">* @return {any[]}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function alloc (value) {</span><span class="s3">\n\t</span><span class="s1">return line = column = 1, length = strlen(characters = value), position = 0, []</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {any} value</span><span class="s3">\n </span><span class="s1">* @return {any}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function dealloc (value) {</span><span class="s3">\n\t</span><span class="s1">return characters = '', value</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {number} type</span><span class="s3">\n </span><span class="s1">* @return {string}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function delimit (type) {</span><span class="s3">\n\t</span><span class="s1">return trim(slice(position - 1, delimiter(type === 91 ? type + 2 : type === 40 ? type + 1 : type)))</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {string} value</span><span class="s3">\n </span><span class="s1">* @return {string[]}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function tokenize (value) {</span><span class="s3">\n\t</span><span class="s1">return dealloc(tokenizer(alloc(value)))</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {number} type</span><span class="s3">\n </span><span class="s1">* @return {string}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function whitespace (type) {</span><span class="s3">\n\t</span><span class="s1">while (character = peek())</span><span class="s3">\n\t\t</span><span class="s1">if (character &lt; 33)</span><span class="s3">\n\t\t\t</span><span class="s1">next()</span><span class="s3">\n\t\t</span><span class="s1">else</span><span class="s3">\n\t\t\t</span><span class="s1">break</span><span class="s3">\n\n\t</span><span class="s1">return token(type) &gt; 2 || token(character) &gt; 3 ? '' : ' '</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {string[]} children</span><span class="s3">\n </span><span class="s1">* @return {string[]}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function tokenizer (children) {</span><span class="s3">\n\t</span><span class="s1">while (next())</span><span class="s3">\n\t\t</span><span class="s1">switch (token(character)) {</span><span class="s3">\n\t\t\t</span><span class="s1">case 0: append(identifier(position - 1), children)</span><span class="s3">\n\t\t\t\t</span><span class="s1">break</span><span class="s3">\n\t\t\t</span><span class="s1">case 2: append(delimit(character), children)</span><span class="s3">\n\t\t\t\t</span><span class="s1">break</span><span class="s3">\n\t\t\t</span><span class="s1">default: append(from(character), children)</span><span class="s3">\n\t\t</span><span class="s1">}</span><span class="s3">\n\n\t</span><span class="s1">return children</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {number} index</span><span class="s3">\n </span><span class="s1">* @param {number} count</span><span class="s3">\n </span><span class="s1">* @return {string}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function escaping (index, count) {</span><span class="s3">\n\t</span><span class="s1">while (--count &amp;&amp; next())</span><span class="s3">\n\t\t</span><span class="s1">// not 0-9 A-F a-f</span><span class="s3">\n\t\t</span><span class="s1">if (character &lt; 48 || character &gt; 102 || (character &gt; 57 &amp;&amp; character &lt; 65) || (character &gt; 70 &amp;&amp; character &lt; 97))</span><span class="s3">\n\t\t\t</span><span class="s1">break</span><span class="s3">\n\n\t</span><span class="s1">return slice(index, caret() + (count &lt; 6 &amp;&amp; peek() == 32 &amp;&amp; next() == 32))</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {number} type</span><span class="s3">\n </span><span class="s1">* @return {number}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function delimiter (type) {</span><span class="s3">\n\t</span><span class="s1">while (next())</span><span class="s3">\n\t\t</span><span class="s1">switch (character) {</span><span class="s3">\n\t\t\t</span><span class="s1">// ] ) </span><span class="s3">\&quot; </span><span class="s1">'</span><span class="s3">\n\t\t\t</span><span class="s1">case type:</span><span class="s3">\n\t\t\t\t</span><span class="s1">return position</span><span class="s3">\n\t\t\t</span><span class="s1">// </span><span class="s3">\&quot; </span><span class="s1">'</span><span class="s3">\n\t\t\t</span><span class="s1">case 34: case 39:</span><span class="s3">\n\t\t\t\t</span><span class="s1">if (type !== 34 &amp;&amp; type !== 39)</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">delimiter(character)</span><span class="s3">\n\t\t\t\t</span><span class="s1">break</span><span class="s3">\n\t\t\t</span><span class="s1">// (</span><span class="s3">\n\t\t\t</span><span class="s1">case 40:</span><span class="s3">\n\t\t\t\t</span><span class="s1">if (type === 41)</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">delimiter(type)</span><span class="s3">\n\t\t\t\t</span><span class="s1">break</span><span class="s3">\n\t\t\t</span><span class="s1">// </span><span class="s3">\\\n\t\t\t</span><span class="s1">case 92:</span><span class="s3">\n\t\t\t\t</span><span class="s1">next()</span><span class="s3">\n\t\t\t\t</span><span class="s1">break</span><span class="s3">\n\t\t</span><span class="s1">}</span><span class="s3">\n\n\t</span><span class="s1">return position</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {number} type</span><span class="s3">\n </span><span class="s1">* @param {number} index</span><span class="s3">\n </span><span class="s1">* @return {number}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function commenter (type, index) {</span><span class="s3">\n\t</span><span class="s1">while (next())</span><span class="s3">\n\t\t</span><span class="s1">// //</span><span class="s3">\n\t\t</span><span class="s1">if (type + character === 47 + 10)</span><span class="s3">\n\t\t\t</span><span class="s1">break</span><span class="s3">\n\t\t</span><span class="s1">// /*</span><span class="s3">\n\t\t</span><span class="s1">else if (type + character === 42 + 42 &amp;&amp; peek() === 47)</span><span class="s3">\n\t\t\t</span><span class="s1">break</span><span class="s3">\n\n\t</span><span class="s1">return '/*' + slice(index, position - 1) + '*' + from(type === 47 ? type : next())</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {number} index</span><span class="s3">\n </span><span class="s1">* @return {string}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function identifier (index) {</span><span class="s3">\n\t</span><span class="s1">while (!token(peek()))</span><span class="s3">\n\t\t</span><span class="s1">next()</span><span class="s3">\n\n\t</span><span class="s1">return slice(index, position)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {COMMENT, RULESET, DECLARATION} from './Enum.js'</span><span class="s3">\n</span><span class="s1">import {abs, charat, trim, from, sizeof, strlen, substr, append, replace, indexof} from './Utility.js'</span><span class="s3">\n</span><span class="s1">import {node, char, prev, next, peek, token, caret, alloc, dealloc, delimit, whitespace, escaping, identifier, commenter} from './Tokenizer.js'</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {string} value</span><span class="s3">\n </span><span class="s1">* @return {object[]}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function compile (value) {</span><span class="s3">\n\t</span><span class="s1">return dealloc(parse('', null, null, null, [''], value = alloc(value), 0, [0], value))</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {string} value</span><span class="s3">\n </span><span class="s1">* @param {object} root</span><span class="s3">\n </span><span class="s1">* @param {object?} parent</span><span class="s3">\n </span><span class="s1">* @param {string[]} rule</span><span class="s3">\n </span><span class="s1">* @param {string[]} rules</span><span class="s3">\n </span><span class="s1">* @param {string[]} rulesets</span><span class="s3">\n </span><span class="s1">* @param {number[]} pseudo</span><span class="s3">\n </span><span class="s1">* @param {number[]} points</span><span class="s3">\n </span><span class="s1">* @param {string[]} declarations</span><span class="s3">\n </span><span class="s1">* @return {object}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function parse (value, root, parent, rule, rules, rulesets, pseudo, points, declarations) {</span><span class="s3">\n\t</span><span class="s1">var index = 0</span><span class="s3">\n\t</span><span class="s1">var offset = 0</span><span class="s3">\n\t</span><span class="s1">var length = pseudo</span><span class="s3">\n\t</span><span class="s1">var atrule = 0</span><span class="s3">\n\t</span><span class="s1">var property = 0</span><span class="s3">\n\t</span><span class="s1">var previous = 0</span><span class="s3">\n\t</span><span class="s1">var variable = 1</span><span class="s3">\n\t</span><span class="s1">var scanning = 1</span><span class="s3">\n\t</span><span class="s1">var ampersand = 1</span><span class="s3">\n\t</span><span class="s1">var character = 0</span><span class="s3">\n\t</span><span class="s1">var type = ''</span><span class="s3">\n\t</span><span class="s1">var props = rules</span><span class="s3">\n\t</span><span class="s1">var children = rulesets</span><span class="s3">\n\t</span><span class="s1">var reference = rule</span><span class="s3">\n\t</span><span class="s1">var characters = type</span><span class="s3">\n\n\t</span><span class="s1">while (scanning)</span><span class="s3">\n\t\t</span><span class="s1">switch (previous = character, character = next()) {</span><span class="s3">\n\t\t\t</span><span class="s1">// (</span><span class="s3">\n\t\t\t</span><span class="s1">case 40:</span><span class="s3">\n\t\t\t\t</span><span class="s1">if (previous != 108 &amp;&amp; charat(characters, length - 1) == 58) {</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">if (indexof(characters += replace(delimit(character), '&amp;', '&amp;</span><span class="s3">\\</span><span class="s1">f'), '&amp;</span><span class="s3">\\</span><span class="s1">f', abs(index ? points[index - 1] : 0)) != -1)</span><span class="s3">\n\t\t\t\t\t\t</span><span class="s1">ampersand = -1</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">break</span><span class="s3">\n\t\t\t\t</span><span class="s1">}</span><span class="s3">\n\t\t\t</span><span class="s1">// </span><span class="s3">\&quot; </span><span class="s1">' [</span><span class="s3">\n\t\t\t</span><span class="s1">case 34: case 39: case 91:</span><span class="s3">\n\t\t\t\t</span><span class="s1">characters += delimit(character)</span><span class="s3">\n\t\t\t\t</span><span class="s1">break</span><span class="s3">\n\t\t\t</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">t </span><span class="s3">\\</span><span class="s1">n </span><span class="s3">\\</span><span class="s1">r </span><span class="s3">\\</span><span class="s1">s</span><span class="s3">\n\t\t\t</span><span class="s1">case 9: case 10: case 13: case 32:</span><span class="s3">\n\t\t\t\t</span><span class="s1">characters += whitespace(previous)</span><span class="s3">\n\t\t\t\t</span><span class="s1">break</span><span class="s3">\n\t\t\t</span><span class="s1">// </span><span class="s3">\\\n\t\t\t</span><span class="s1">case 92:</span><span class="s3">\n\t\t\t\t</span><span class="s1">characters += escaping(caret() - 1, 7)</span><span class="s3">\n\t\t\t\t</span><span class="s1">continue</span><span class="s3">\n\t\t\t</span><span class="s1">// /</span><span class="s3">\n\t\t\t</span><span class="s1">case 47:</span><span class="s3">\n\t\t\t\t</span><span class="s1">switch (peek()) {</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">case 42: case 47:</span><span class="s3">\n\t\t\t\t\t\t</span><span class="s1">append(comment(commenter(next(), caret()), root, parent, declarations), declarations)</span><span class="s3">\n\t\t\t\t\t\t</span><span class="s1">if ((token(previous || 1) == 5 || token(peek() || 1) == 5) &amp;&amp; strlen(characters) &amp;&amp; substr(characters, -1, void 0) !== ' ') characters += ' '</span><span class="s3">\n\t\t\t\t\t\t</span><span class="s1">break</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">default:</span><span class="s3">\n\t\t\t\t\t\t</span><span class="s1">characters += '/'</span><span class="s3">\n\t\t\t\t</span><span class="s1">}</span><span class="s3">\n\t\t\t\t</span><span class="s1">break</span><span class="s3">\n\t\t\t</span><span class="s1">// {</span><span class="s3">\n\t\t\t</span><span class="s1">case 123 * variable:</span><span class="s3">\n\t\t\t\t</span><span class="s1">points[index++] = strlen(characters) * ampersand</span><span class="s3">\n\t\t\t</span><span class="s1">// } ; </span><span class="s3">\\</span><span class="s1">0</span><span class="s3">\n\t\t\t</span><span class="s1">case 125 * variable: case 59: case 0:</span><span class="s3">\n\t\t\t\t</span><span class="s1">switch (character) {</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">// </span><span class="s3">\\</span><span class="s1">0 }</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">case 0: case 125: scanning = 0</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">// ;</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">case 59 + offset: if (ampersand == -1) characters = replace(characters, /</span><span class="s3">\\</span><span class="s1">f/g, '')</span><span class="s3">\n\t\t\t\t\t\t</span><span class="s1">if (property &gt; 0 &amp;&amp; (strlen(characters) - length || (variable === 0 &amp;&amp; previous === 47)))</span><span class="s3">\n\t\t\t\t\t\t\t</span><span class="s1">append(property &gt; 32 ? declaration(characters + ';', rule, parent, length - 1, declarations) : declaration(replace(characters, ' ', '') + ';', rule, parent, length - 2, declarations), declarations)</span><span class="s3">\n\t\t\t\t\t\t</span><span class="s1">break</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">// @ ;</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">case 59: characters += ';'</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">// { rule/at-rule</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">default:</span><span class="s3">\n\t\t\t\t\t\t</span><span class="s1">append(reference = ruleset(characters, root, parent, index, offset, rules, points, type, props = [], children = [], length, rulesets), rulesets)</span><span class="s3">\n\n\t\t\t\t\t\t</span><span class="s1">if (character === 123)</span><span class="s3">\n\t\t\t\t\t\t\t</span><span class="s1">if (offset === 0)</span><span class="s3">\n\t\t\t\t\t\t\t\t</span><span class="s1">parse(characters, root, reference, reference, props, rulesets, length, points, children)</span><span class="s3">\n\t\t\t\t\t\t\t</span><span class="s1">else {</span><span class="s3">\n\t\t\t\t\t\t\t\t</span><span class="s1">switch (atrule) {</span><span class="s3">\n\t\t\t\t\t\t\t\t\t</span><span class="s1">// c(ontainer)</span><span class="s3">\n\t\t\t\t\t\t\t\t\t</span><span class="s1">case 99:</span><span class="s3">\n\t\t\t\t\t\t\t\t\t\t</span><span class="s1">if (charat(characters, 3) === 110) break</span><span class="s3">\n\t\t\t\t\t\t\t\t\t</span><span class="s1">// l(ayer)</span><span class="s3">\n\t\t\t\t\t\t\t\t\t</span><span class="s1">case 108:</span><span class="s3">\n\t\t\t\t\t\t\t\t\t\t</span><span class="s1">if (charat(characters, 2) === 97) break</span><span class="s3">\n\t\t\t\t\t\t\t\t\t</span><span class="s1">default:</span><span class="s3">\n\t\t\t\t\t\t\t\t\t\t</span><span class="s1">offset = 0</span><span class="s3">\n\t\t\t\t\t\t\t\t\t</span><span class="s1">// d(ocument) m(edia) s(upports)</span><span class="s3">\n\t\t\t\t\t\t\t\t\t</span><span class="s1">case 100: case 109: case 115:</span><span class="s3">\n\t\t\t\t\t\t\t\t</span><span class="s1">}</span><span class="s3">\n\t\t\t\t\t\t\t\t</span><span class="s1">if (offset) parse(value, reference, reference, rule &amp;&amp; append(ruleset(value, reference, reference, 0, 0, rules, points, type, rules, props = [], length, children), children), rules, children, length, points, rule ? props : children)</span><span class="s3">\n\t\t\t\t\t\t\t\t</span><span class="s1">else parse(characters, reference, reference, reference, [''], children, 0, points, children)</span><span class="s3">\n\t\t\t\t\t\t\t</span><span class="s1">}</span><span class="s3">\n\t\t\t\t</span><span class="s1">}</span><span class="s3">\n\n\t\t\t\t</span><span class="s1">index = offset = property = 0, variable = ampersand = 1, type = characters = '', length = pseudo</span><span class="s3">\n\t\t\t\t</span><span class="s1">break</span><span class="s3">\n\t\t\t</span><span class="s1">// :</span><span class="s3">\n\t\t\t</span><span class="s1">case 58:</span><span class="s3">\n\t\t\t\t</span><span class="s1">length = 1 + strlen(characters), property = previous</span><span class="s3">\n\t\t\t</span><span class="s1">default:</span><span class="s3">\n\t\t\t\t</span><span class="s1">if (variable &lt; 1)</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">if (character == 123)</span><span class="s3">\n\t\t\t\t\t\t</span><span class="s1">--variable</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">else if (character == 125 &amp;&amp; variable++ == 0 &amp;&amp; prev() == 125)</span><span class="s3">\n\t\t\t\t\t\t</span><span class="s1">continue</span><span class="s3">\n\n\t\t\t\t</span><span class="s1">switch (characters += from(character), character * variable) {</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">// &amp;</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">case 38:</span><span class="s3">\n\t\t\t\t\t\t</span><span class="s1">ampersand = offset &gt; 0 ? 1 : (characters += '</span><span class="s3">\\</span><span class="s1">f', -1)</span><span class="s3">\n\t\t\t\t\t\t</span><span class="s1">break</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">// ,</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">case 44:</span><span class="s3">\n\t\t\t\t\t\t</span><span class="s1">points[index++] = (strlen(characters) - 1) * ampersand, ampersand = 1</span><span class="s3">\n\t\t\t\t\t\t</span><span class="s1">break</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">// @</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">case 64:</span><span class="s3">\n\t\t\t\t\t\t</span><span class="s1">// -</span><span class="s3">\n\t\t\t\t\t\t</span><span class="s1">if (peek() === 45)</span><span class="s3">\n\t\t\t\t\t\t\t</span><span class="s1">characters += delimit(next())</span><span class="s3">\n\n\t\t\t\t\t\t</span><span class="s1">atrule = peek(), offset = length = strlen(type = characters += identifier(caret())), character++</span><span class="s3">\n\t\t\t\t\t\t</span><span class="s1">break</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">// -</span><span class="s3">\n\t\t\t\t\t</span><span class="s1">case 45:</span><span class="s3">\n\t\t\t\t\t\t</span><span class="s1">if (previous === 45 &amp;&amp; strlen(characters) == 2)</span><span class="s3">\n\t\t\t\t\t\t\t</span><span class="s1">variable = 0</span><span class="s3">\n\t\t\t\t</span><span class="s1">}</span><span class="s3">\n\t\t</span><span class="s1">}</span><span class="s3">\n\n\t</span><span class="s1">return rulesets</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {string} value</span><span class="s3">\n </span><span class="s1">* @param {object} root</span><span class="s3">\n </span><span class="s1">* @param {object?} parent</span><span class="s3">\n </span><span class="s1">* @param {number} index</span><span class="s3">\n </span><span class="s1">* @param {number} offset</span><span class="s3">\n </span><span class="s1">* @param {string[]} rules</span><span class="s3">\n </span><span class="s1">* @param {number[]} points</span><span class="s3">\n </span><span class="s1">* @param {string} type</span><span class="s3">\n </span><span class="s1">* @param {string[]} props</span><span class="s3">\n </span><span class="s1">* @param {string[]} children</span><span class="s3">\n </span><span class="s1">* @param {number} length</span><span class="s3">\n </span><span class="s1">* @param {object[]} siblings</span><span class="s3">\n </span><span class="s1">* @return {object}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function ruleset (value, root, parent, index, offset, rules, points, type, props, children, length, siblings) {</span><span class="s3">\n\t</span><span class="s1">var post = offset - 1</span><span class="s3">\n\t</span><span class="s1">var rule = offset === 0 ? rules : ['']</span><span class="s3">\n\t</span><span class="s1">var size = sizeof(rule)</span><span class="s3">\n\n\t</span><span class="s1">for (var i = 0, j = 0, k = 0; i &lt; index; ++i)</span><span class="s3">\n\t\t</span><span class="s1">for (var x = 0, y = substr(value, post + 1, post = abs(j = points[i])), z = value; x &lt; size; ++x)</span><span class="s3">\n\t\t\t</span><span class="s1">if (z = trim(j &gt; 0 ? rule[x] + ' ' + y : replace(y, /&amp;</span><span class="s3">\\</span><span class="s1">f/g, rule[x])))</span><span class="s3">\n\t\t\t\t</span><span class="s1">props[k++] = z</span><span class="s3">\n\n\t</span><span class="s1">return node(value, root, parent, offset === 0 ? RULESET : type, props, children, length, siblings)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {number} value</span><span class="s3">\n </span><span class="s1">* @param {object} root</span><span class="s3">\n </span><span class="s1">* @param {object?} parent</span><span class="s3">\n </span><span class="s1">* @param {object[]} siblings</span><span class="s3">\n </span><span class="s1">* @return {object}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function comment (value, root, parent, siblings) {</span><span class="s3">\n\t</span><span class="s1">return node(value, root, parent, COMMENT, from(char()), substr(value, 2, -2), 0, siblings)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {string} value</span><span class="s3">\n </span><span class="s1">* @param {object} root</span><span class="s3">\n </span><span class="s1">* @param {object?} parent</span><span class="s3">\n </span><span class="s1">* @param {number} length</span><span class="s3">\n </span><span class="s1">* @param {object[]} siblings</span><span class="s3">\n </span><span class="s1">* @return {object}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function declaration (value, root, parent, length, siblings) {</span><span class="s3">\n\t</span><span class="s1">return node(value, root, parent, DECLARATION, substr(value, 0, length), substr(value, length + 1, -1), length, siblings)</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {</span><span class="s3">\n  </span><span class="s1">JSON_SCHEMA,</span><span class="s3">\n  </span><span class="s1">load</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/chunk-6JRP7KZX.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">registerLayoutLoaders</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/chunk-TYCBKAJE.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import </span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/chunk-IIMUDSI4.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import </span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/chunk-VV3M67IP.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import </span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/chunk-HRU6DDCH.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import </span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/chunk-K557N5IZ.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">registerIconPacks</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/chunk-H2D2JQ3I.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import </span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/chunk-C3MQ5ANM.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">cleanAndMerge,</span><span class="s3">\n  </span><span class="s1">decodeEntities,</span><span class="s3">\n  </span><span class="s1">encodeEntities,</span><span class="s3">\n  </span><span class="s1">isDetailedError,</span><span class="s3">\n  </span><span class="s1">removeDirectives,</span><span class="s3">\n  </span><span class="s1">utils_default</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/chunk-O4NI6UNU.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">package_default</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/chunk-5NNNAHNI.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">selectSvgElement</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/chunk-7B677QYD.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">UnknownDiagramError,</span><span class="s3">\n  </span><span class="s1">__name,</span><span class="s3">\n  </span><span class="s1">addDirective,</span><span class="s3">\n  </span><span class="s1">assignWithDepth_default,</span><span class="s3">\n  </span><span class="s1">configureSvgSize,</span><span class="s3">\n  </span><span class="s1">defaultConfig,</span><span class="s3">\n  </span><span class="s1">detectType,</span><span class="s3">\n  </span><span class="s1">detectors,</span><span class="s3">\n  </span><span class="s1">evaluate,</span><span class="s3">\n  </span><span class="s1">frontMatterRegex,</span><span class="s3">\n  </span><span class="s1">getConfig,</span><span class="s3">\n  </span><span class="s1">getDiagram,</span><span class="s3">\n  </span><span class="s1">getDiagramLoader,</span><span class="s3">\n  </span><span class="s1">getSiteConfig,</span><span class="s3">\n  </span><span class="s1">log,</span><span class="s3">\n  </span><span class="s1">registerDiagram,</span><span class="s3">\n  </span><span class="s1">registerLazyLoadedDiagrams,</span><span class="s3">\n  </span><span class="s1">reset,</span><span class="s3">\n  </span><span class="s1">saveConfigFromInitialize,</span><span class="s3">\n  </span><span class="s1">setConfig,</span><span class="s3">\n  </span><span class="s1">setLogLevel,</span><span class="s3">\n  </span><span class="s1">setSiteConfig,</span><span class="s3">\n  </span><span class="s1">styles_default,</span><span class="s3">\n  </span><span class="s1">themes_default,</span><span class="s3">\n  </span><span class="s1">updateSiteConfig</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/chunk-YTJNT7DU.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/mermaid.ts</span><span class="s3">\n</span><span class="s1">import { dedent } from </span><span class="s3">\&quot;</span><span class="s1">ts-dedent</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/c4/c4Detector.ts</span><span class="s3">\n</span><span class="s1">var id = </span><span class="s3">\&quot;</span><span class="s1">c4</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/c4Diagram-VJAJSXHY.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin = {</span><span class="s3">\n  </span><span class="s1">id,</span><span class="s3">\n  </span><span class="s1">detector,</span><span class="s3">\n  </span><span class="s1">loader</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var c4Detector_default = plugin;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/flowchart/flowDetector.ts</span><span class="s3">\n</span><span class="s1">var id2 = </span><span class="s3">\&quot;</span><span class="s1">flowchart</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector2 = /* @__PURE__ */ __name((txt, config) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (config?.flowchart?.defaultRenderer === </span><span class="s3">\&quot;</span><span class="s1">dagre-wrapper</span><span class="s3">\&quot; </span><span class="s1">|| config?.flowchart?.defaultRenderer === </span><span class="s3">\&quot;</span><span class="s1">elk</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*graph/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader2 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/flowDiagram-4HSFHLVR.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id2, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin2 = {</span><span class="s3">\n  </span><span class="s1">id: id2,</span><span class="s3">\n  </span><span class="s1">detector: detector2,</span><span class="s3">\n  </span><span class="s1">loader: loader2</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var flowDetector_default = plugin2;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/flowchart/flowDetector-v2.ts</span><span class="s3">\n</span><span class="s1">var id3 = </span><span class="s3">\&quot;</span><span class="s1">flowchart-v2</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector3 = /* @__PURE__ */ __name((txt, config) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (config?.flowchart?.defaultRenderer === </span><span class="s3">\&quot;</span><span class="s1">dagre-d3</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (config?.flowchart?.defaultRenderer === </span><span class="s3">\&quot;</span><span class="s1">elk</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">config.layout = </span><span class="s3">\&quot;</span><span class="s1">elk</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (/^</span><span class="s3">\\</span><span class="s1">s*graph/.test(txt) &amp;&amp; config?.flowchart?.defaultRenderer === </span><span class="s3">\&quot;</span><span class="s1">dagre-wrapper</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*flowchart/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader3 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/flowDiagram-4HSFHLVR.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id3, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin3 = {</span><span class="s3">\n  </span><span class="s1">id: id3,</span><span class="s3">\n  </span><span class="s1">detector: detector3,</span><span class="s3">\n  </span><span class="s1">loader: loader3</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var flowDetector_v2_default = plugin3;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/er/erDetector.ts</span><span class="s3">\n</span><span class="s1">var id4 = </span><span class="s3">\&quot;</span><span class="s1">er</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector4 = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*erDiagram/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader4 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/erDiagram-Q7BY3M3F.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id4, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin4 = {</span><span class="s3">\n  </span><span class="s1">id: id4,</span><span class="s3">\n  </span><span class="s1">detector: detector4,</span><span class="s3">\n  </span><span class="s1">loader: loader4</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var erDetector_default = plugin4;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/git/gitGraphDetector.ts</span><span class="s3">\n</span><span class="s1">var id5 = </span><span class="s3">\&quot;</span><span class="s1">gitGraph</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector5 = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*gitGraph/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader5 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/gitGraphDiagram-7IBYFJ6S.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id5, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin5 = {</span><span class="s3">\n  </span><span class="s1">id: id5,</span><span class="s3">\n  </span><span class="s1">detector: detector5,</span><span class="s3">\n  </span><span class="s1">loader: loader5</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var gitGraphDetector_default = plugin5;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/gantt/ganttDetector.ts</span><span class="s3">\n</span><span class="s1">var id6 = </span><span class="s3">\&quot;</span><span class="s1">gantt</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector6 = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*gantt/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader6 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/ganttDiagram-APWFNJXF.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id6, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin6 = {</span><span class="s3">\n  </span><span class="s1">id: id6,</span><span class="s3">\n  </span><span class="s1">detector: detector6,</span><span class="s3">\n  </span><span class="s1">loader: loader6</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var ganttDetector_default = plugin6;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/info/infoDetector.ts</span><span class="s3">\n</span><span class="s1">var id7 = </span><span class="s3">\&quot;</span><span class="s1">info</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector7 = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*info/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader7 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/infoDiagram-PH2N3AL5.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id7, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var info = {</span><span class="s3">\n  </span><span class="s1">id: id7,</span><span class="s3">\n  </span><span class="s1">detector: detector7,</span><span class="s3">\n  </span><span class="s1">loader: loader7</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/pie/pieDetector.ts</span><span class="s3">\n</span><span class="s1">var id8 = </span><span class="s3">\&quot;</span><span class="s1">pie</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector8 = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*pie/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader8 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/pieDiagram-IB7DONF6.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id8, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var pie = {</span><span class="s3">\n  </span><span class="s1">id: id8,</span><span class="s3">\n  </span><span class="s1">detector: detector8,</span><span class="s3">\n  </span><span class="s1">loader: loader8</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/quadrant-chart/quadrantDetector.ts</span><span class="s3">\n</span><span class="s1">var id9 = </span><span class="s3">\&quot;</span><span class="s1">quadrantChart</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector9 = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*quadrantChart/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader9 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/quadrantDiagram-7GDLP6J5.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id9, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin7 = {</span><span class="s3">\n  </span><span class="s1">id: id9,</span><span class="s3">\n  </span><span class="s1">detector: detector9,</span><span class="s3">\n  </span><span class="s1">loader: loader9</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var quadrantDetector_default = plugin7;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/xychart/xychartDetector.ts</span><span class="s3">\n</span><span class="s1">var id10 = </span><span class="s3">\&quot;</span><span class="s1">xychart</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector10 = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*xychart-beta/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader10 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/xychartDiagram-VJFVF3MP.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id10, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin8 = {</span><span class="s3">\n  </span><span class="s1">id: id10,</span><span class="s3">\n  </span><span class="s1">detector: detector10,</span><span class="s3">\n  </span><span class="s1">loader: loader10</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var xychartDetector_default = plugin8;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/requirement/requirementDetector.ts</span><span class="s3">\n</span><span class="s1">var id11 = </span><span class="s3">\&quot;</span><span class="s1">requirement</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector11 = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*requirement(Diagram)?/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader11 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/requirementDiagram-KVF5MWMF.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id11, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin9 = {</span><span class="s3">\n  </span><span class="s1">id: id11,</span><span class="s3">\n  </span><span class="s1">detector: detector11,</span><span class="s3">\n  </span><span class="s1">loader: loader11</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var requirementDetector_default = plugin9;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/sequence/sequenceDetector.ts</span><span class="s3">\n</span><span class="s1">var id12 = </span><span class="s3">\&quot;</span><span class="s1">sequence</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector12 = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*sequenceDiagram/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader12 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/sequenceDiagram-X6HHIX6F.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id12, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin10 = {</span><span class="s3">\n  </span><span class="s1">id: id12,</span><span class="s3">\n  </span><span class="s1">detector: detector12,</span><span class="s3">\n  </span><span class="s1">loader: loader12</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var sequenceDetector_default = plugin10;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/class/classDetector.ts</span><span class="s3">\n</span><span class="s1">var id13 = </span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector13 = /* @__PURE__ */ __name((txt, config) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (config?.class?.defaultRenderer === </span><span class="s3">\&quot;</span><span class="s1">dagre-wrapper</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*classDiagram/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader13 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/classDiagram-GIVACNV2.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id13, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin11 = {</span><span class="s3">\n  </span><span class="s1">id: id13,</span><span class="s3">\n  </span><span class="s1">detector: detector13,</span><span class="s3">\n  </span><span class="s1">loader: loader13</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var classDetector_default = plugin11;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/class/classDetector-V2.ts</span><span class="s3">\n</span><span class="s1">var id14 = </span><span class="s3">\&quot;</span><span class="s1">classDiagram</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector14 = /* @__PURE__ */ __name((txt, config) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (/^</span><span class="s3">\\</span><span class="s1">s*classDiagram/.test(txt) &amp;&amp; config?.class?.defaultRenderer === </span><span class="s3">\&quot;</span><span class="s1">dagre-wrapper</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*classDiagram-v2/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader14 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/classDiagram-v2-COTLJTTW.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id14, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin12 = {</span><span class="s3">\n  </span><span class="s1">id: id14,</span><span class="s3">\n  </span><span class="s1">detector: detector14,</span><span class="s3">\n  </span><span class="s1">loader: loader14</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var classDetector_V2_default = plugin12;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/state/stateDetector.ts</span><span class="s3">\n</span><span class="s1">var id15 = </span><span class="s3">\&quot;</span><span class="s1">state</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector15 = /* @__PURE__ */ __name((txt, config) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (config?.state?.defaultRenderer === </span><span class="s3">\&quot;</span><span class="s1">dagre-wrapper</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*stateDiagram/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader15 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/stateDiagram-DGXRK772.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id15, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin13 = {</span><span class="s3">\n  </span><span class="s1">id: id15,</span><span class="s3">\n  </span><span class="s1">detector: detector15,</span><span class="s3">\n  </span><span class="s1">loader: loader15</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var stateDetector_default = plugin13;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/state/stateDetector-V2.ts</span><span class="s3">\n</span><span class="s1">var id16 = </span><span class="s3">\&quot;</span><span class="s1">stateDiagram</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector16 = /* @__PURE__ */ __name((txt, config) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (/^</span><span class="s3">\\</span><span class="s1">s*stateDiagram-v2/.test(txt)) {</span><span class="s3">\n    </span><span class="s1">return true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (/^</span><span class="s3">\\</span><span class="s1">s*stateDiagram/.test(txt) &amp;&amp; config?.state?.defaultRenderer === </span><span class="s3">\&quot;</span><span class="s1">dagre-wrapper</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return false;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader16 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/stateDiagram-v2-YXO3MK2T.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id16, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin14 = {</span><span class="s3">\n  </span><span class="s1">id: id16,</span><span class="s3">\n  </span><span class="s1">detector: detector16,</span><span class="s3">\n  </span><span class="s1">loader: loader16</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var stateDetector_V2_default = plugin14;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/user-journey/journeyDetector.ts</span><span class="s3">\n</span><span class="s1">var id17 = </span><span class="s3">\&quot;</span><span class="s1">journey</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector17 = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*journey/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader17 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/journeyDiagram-U35MCT3I.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id17, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin15 = {</span><span class="s3">\n  </span><span class="s1">id: id17,</span><span class="s3">\n  </span><span class="s1">detector: detector17,</span><span class="s3">\n  </span><span class="s1">loader: loader17</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var journeyDetector_default = plugin15;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/error/errorRenderer.ts</span><span class="s3">\n</span><span class="s1">var draw = /* @__PURE__ */ __name((_text, id27, version) =&gt; {</span><span class="s3">\n  </span><span class="s1">log.debug(</span><span class="s3">\&quot;</span><span class="s1">rendering svg for syntax error</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const svg = selectSvgElement(id27);</span><span class="s3">\n  </span><span class="s1">const g = svg.append(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">svg.attr(</span><span class="s3">\&quot;</span><span class="s1">viewBox</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0 0 2412 512</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">configureSvgSize(svg, 100, 512, true);</span><span class="s3">\n  </span><span class="s1">g.append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">error-icon</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\n    \&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z</span><span class="s3">\&quot;\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">g.append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">error-icon</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\n    \&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z</span><span class="s3">\&quot;\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">g.append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">error-icon</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\n    \&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z</span><span class="s3">\&quot;\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">g.append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">error-icon</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\n    \&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z</span><span class="s3">\&quot;\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">g.append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">error-icon</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\n    \&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z</span><span class="s3">\&quot;\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">g.append(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">error-icon</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\n    \&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z</span><span class="s3">\&quot;\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">g.append(</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">error-text</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, 1440).attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, 250).attr(</span><span class="s3">\&quot;</span><span class="s1">font-size</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">150px</span><span class="s3">\&quot;</span><span class="s1">).style(</span><span class="s3">\&quot;</span><span class="s1">text-anchor</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">middle</span><span class="s3">\&quot;</span><span class="s1">).text(</span><span class="s3">\&quot;</span><span class="s1">Syntax error in text</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">g.append(</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">error-text</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, 1250).attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, 400).attr(</span><span class="s3">\&quot;</span><span class="s1">font-size</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">100px</span><span class="s3">\&quot;</span><span class="s1">).style(</span><span class="s3">\&quot;</span><span class="s1">text-anchor</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">middle</span><span class="s3">\&quot;</span><span class="s1">).text(`mermaid version ${version}`);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">draw</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var renderer = { draw };</span><span class="s3">\n</span><span class="s1">var errorRenderer_default = renderer;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/error/errorDiagram.ts</span><span class="s3">\n</span><span class="s1">var diagram = {</span><span class="s3">\n  </span><span class="s1">db: {},</span><span class="s3">\n  </span><span class="s1">renderer,</span><span class="s3">\n  </span><span class="s1">parser: {</span><span class="s3">\n    </span><span class="s1">parse: /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n      </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">parse</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var errorDiagram_default = diagram;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/flowchart/elk/detector.ts</span><span class="s3">\n</span><span class="s1">var id18 = </span><span class="s3">\&quot;</span><span class="s1">flowchart-elk</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector18 = /* @__PURE__ */ __name((txt, config = {}) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (</span><span class="s3">\n    </span><span class="s1">// If diagram explicitly states flowchart-elk</span><span class="s3">\n    </span><span class="s1">/^</span><span class="s3">\\</span><span class="s1">s*flowchart-elk/.test(txt) || // If a flowchart/graph diagram has their default renderer set to elk</span><span class="s3">\n    </span><span class="s1">/^</span><span class="s3">\\</span><span class="s1">s*flowchart|graph/.test(txt) &amp;&amp; config?.flowchart?.defaultRenderer === </span><span class="s3">\&quot;</span><span class="s1">elk</span><span class="s3">\&quot;\n  </span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">config.layout = </span><span class="s3">\&quot;</span><span class="s1">elk</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">return true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return false;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader18 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/flowDiagram-4HSFHLVR.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id18, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin16 = {</span><span class="s3">\n  </span><span class="s1">id: id18,</span><span class="s3">\n  </span><span class="s1">detector: detector18,</span><span class="s3">\n  </span><span class="s1">loader: loader18</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var detector_default = plugin16;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/timeline/detector.ts</span><span class="s3">\n</span><span class="s1">var id19 = </span><span class="s3">\&quot;</span><span class="s1">timeline</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector19 = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*timeline/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader19 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/timeline-definition-BDJGKUSR.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id19, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin17 = {</span><span class="s3">\n  </span><span class="s1">id: id19,</span><span class="s3">\n  </span><span class="s1">detector: detector19,</span><span class="s3">\n  </span><span class="s1">loader: loader19</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var detector_default2 = plugin17;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/mindmap/detector.ts</span><span class="s3">\n</span><span class="s1">var id20 = </span><span class="s3">\&quot;</span><span class="s1">mindmap</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector20 = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*mindmap/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader20 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/mindmap-definition-ALO5MXBD.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id20, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin18 = {</span><span class="s3">\n  </span><span class="s1">id: id20,</span><span class="s3">\n  </span><span class="s1">detector: detector20,</span><span class="s3">\n  </span><span class="s1">loader: loader20</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var detector_default3 = plugin18;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/kanban/detector.ts</span><span class="s3">\n</span><span class="s1">var id21 = </span><span class="s3">\&quot;</span><span class="s1">kanban</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector21 = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*kanban/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader21 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/kanban-definition-NDS4AKOZ.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id21, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin19 = {</span><span class="s3">\n  </span><span class="s1">id: id21,</span><span class="s3">\n  </span><span class="s1">detector: detector21,</span><span class="s3">\n  </span><span class="s1">loader: loader21</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var detector_default4 = plugin19;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/sankey/sankeyDetector.ts</span><span class="s3">\n</span><span class="s1">var id22 = </span><span class="s3">\&quot;</span><span class="s1">sankey</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector22 = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*sankey-beta/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader22 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/sankeyDiagram-QLVOVGJD.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id22, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin20 = {</span><span class="s3">\n  </span><span class="s1">id: id22,</span><span class="s3">\n  </span><span class="s1">detector: detector22,</span><span class="s3">\n  </span><span class="s1">loader: loader22</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var sankeyDetector_default = plugin20;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/packet/detector.ts</span><span class="s3">\n</span><span class="s1">var id23 = </span><span class="s3">\&quot;</span><span class="s1">packet</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector23 = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*packet-beta/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader23 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/diagram-VNBRO52H.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id23, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var packet = {</span><span class="s3">\n  </span><span class="s1">id: id23,</span><span class="s3">\n  </span><span class="s1">detector: detector23,</span><span class="s3">\n  </span><span class="s1">loader: loader23</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/radar/detector.ts</span><span class="s3">\n</span><span class="s1">var id24 = </span><span class="s3">\&quot;</span><span class="s1">radar</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector24 = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*radar-beta/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader24 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/diagram-SSKATNLV.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id24, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var radar = {</span><span class="s3">\n  </span><span class="s1">id: id24,</span><span class="s3">\n  </span><span class="s1">detector: detector24,</span><span class="s3">\n  </span><span class="s1">loader: loader24</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/block/blockDetector.ts</span><span class="s3">\n</span><span class="s1">var id25 = </span><span class="s3">\&quot;</span><span class="s1">block</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector25 = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*block-beta/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader25 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/blockDiagram-JOT3LUYC.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id25, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var plugin21 = {</span><span class="s3">\n  </span><span class="s1">id: id25,</span><span class="s3">\n  </span><span class="s1">detector: detector25,</span><span class="s3">\n  </span><span class="s1">loader: loader25</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var blockDetector_default = plugin21;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/architecture/architectureDetector.ts</span><span class="s3">\n</span><span class="s1">var id26 = </span><span class="s3">\&quot;</span><span class="s1">architecture</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var detector26 = /* @__PURE__ */ __name((txt) =&gt; {</span><span class="s3">\n  </span><span class="s1">return /^</span><span class="s3">\\</span><span class="s1">s*architecture/.test(txt);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">detector</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var loader26 = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">const { diagram: diagram2 } = await import(</span><span class="s3">\&quot;</span><span class="s1">./chunks/mermaid.core/architectureDiagram-IEHRJDOE.mjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return { id: id26, diagram: diagram2 };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loader</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var architecture = {</span><span class="s3">\n  </span><span class="s1">id: id26,</span><span class="s3">\n  </span><span class="s1">detector: detector26,</span><span class="s3">\n  </span><span class="s1">loader: loader26</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var architectureDetector_default = architecture;</span><span class="s3">\n\n</span><span class="s1">// src/diagram-api/diagram-orchestration.ts</span><span class="s3">\n</span><span class="s1">var hasLoadedDiagrams = false;</span><span class="s3">\n</span><span class="s1">var addDiagrams = /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n  </span><span class="s1">if (hasLoadedDiagrams) {</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">hasLoadedDiagrams = true;</span><span class="s3">\n  </span><span class="s1">registerDiagram(</span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;</span><span class="s1">, errorDiagram_default, (text) =&gt; {</span><span class="s3">\n    </span><span class="s1">return text.toLowerCase().trim() === </span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">registerDiagram(</span><span class="s3">\n    \&quot;</span><span class="s1">---</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">// --- diagram type may appear if YAML front-matter is not parsed correctly</span><span class="s3">\n    </span><span class="s1">{</span><span class="s3">\n      </span><span class="s1">db: {</span><span class="s3">\n        </span><span class="s1">clear: /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n        </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">clear</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">},</span><span class="s3">\n      </span><span class="s1">styles: {},</span><span class="s3">\n      </span><span class="s1">// should never be used</span><span class="s3">\n      </span><span class="s1">renderer: {</span><span class="s3">\n        </span><span class="s1">draw: /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n        </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">draw</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">},</span><span class="s3">\n      </span><span class="s1">parser: {</span><span class="s3">\n        </span><span class="s1">parse: /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n          </span><span class="s1">throw new Error(</span><span class="s3">\n            \&quot;</span><span class="s1">Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks</span><span class="s3">\&quot;\n          </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">parse</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">},</span><span class="s3">\n      </span><span class="s1">init: /* @__PURE__ */ __name(() =&gt; null, </span><span class="s3">\&quot;</span><span class="s1">init</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">// no op</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">(text) =&gt; {</span><span class="s3">\n      </span><span class="s1">return text.toLowerCase().trimStart().startsWith(</span><span class="s3">\&quot;</span><span class="s1">---</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">registerLazyLoadedDiagrams(</span><span class="s3">\n    </span><span class="s1">c4Detector_default,</span><span class="s3">\n    </span><span class="s1">detector_default4,</span><span class="s3">\n    </span><span class="s1">classDetector_V2_default,</span><span class="s3">\n    </span><span class="s1">classDetector_default,</span><span class="s3">\n    </span><span class="s1">erDetector_default,</span><span class="s3">\n    </span><span class="s1">ganttDetector_default,</span><span class="s3">\n    </span><span class="s1">info,</span><span class="s3">\n    </span><span class="s1">pie,</span><span class="s3">\n    </span><span class="s1">requirementDetector_default,</span><span class="s3">\n    </span><span class="s1">sequenceDetector_default,</span><span class="s3">\n    </span><span class="s1">detector_default,</span><span class="s3">\n    </span><span class="s1">flowDetector_v2_default,</span><span class="s3">\n    </span><span class="s1">flowDetector_default,</span><span class="s3">\n    </span><span class="s1">detector_default3,</span><span class="s3">\n    </span><span class="s1">detector_default2,</span><span class="s3">\n    </span><span class="s1">gitGraphDetector_default,</span><span class="s3">\n    </span><span class="s1">stateDetector_V2_default,</span><span class="s3">\n    </span><span class="s1">stateDetector_default,</span><span class="s3">\n    </span><span class="s1">journeyDetector_default,</span><span class="s3">\n    </span><span class="s1">quadrantDetector_default,</span><span class="s3">\n    </span><span class="s1">sankeyDetector_default,</span><span class="s3">\n    </span><span class="s1">packet,</span><span class="s3">\n    </span><span class="s1">xychartDetector_default,</span><span class="s3">\n    </span><span class="s1">blockDetector_default,</span><span class="s3">\n    </span><span class="s1">architectureDetector_default,</span><span class="s3">\n    </span><span class="s1">radar</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">addDiagrams</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/diagram-api/loadDiagram.ts</span><span class="s3">\n</span><span class="s1">var loadRegisteredDiagrams = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">log.debug(`Loading registered diagrams`);</span><span class="s3">\n  </span><span class="s1">const results = await Promise.allSettled(</span><span class="s3">\n    </span><span class="s1">Object.entries(detectors).map(async ([key, { detector: detector27, loader: loader27 }]) =&gt; {</span><span class="s3">\n      </span><span class="s1">if (loader27) {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n          </span><span class="s1">getDiagram(key);</span><span class="s3">\n        </span><span class="s1">} catch {</span><span class="s3">\n          </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">const { diagram: diagram2, id: id27 } = await loader27();</span><span class="s3">\n            </span><span class="s1">registerDiagram(id27, diagram2, detector27);</span><span class="s3">\n          </span><span class="s1">} catch (err) {</span><span class="s3">\n            </span><span class="s1">log.error(`Failed to load external diagram with key ${key}. Removing from detectors.`);</span><span class="s3">\n            </span><span class="s1">delete detectors[key];</span><span class="s3">\n            </span><span class="s1">throw err;</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const failed = results.filter((result) =&gt; result.status === </span><span class="s3">\&quot;</span><span class="s1">rejected</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (failed.length &gt; 0) {</span><span class="s3">\n    </span><span class="s1">log.error(`Failed to load ${failed.length} external diagrams`);</span><span class="s3">\n    </span><span class="s1">for (const res of failed) {</span><span class="s3">\n      </span><span class="s1">log.error(res);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">throw new Error(`Failed to load ${failed.length} external diagrams`);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">loadRegisteredDiagrams</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/mermaidAPI.ts</span><span class="s3">\n</span><span class="s1">import { select } from </span><span class="s3">\&quot;</span><span class="s1">d3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { compile, serialize, stringify } from </span><span class="s3">\&quot;</span><span class="s1">stylis</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import DOMPurify from </span><span class="s3">\&quot;</span><span class="s1">dompurify</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import isEmpty from </span><span class="s3">\&quot;</span><span class="s1">lodash-es/isEmpty.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/accessibility.ts</span><span class="s3">\n</span><span class="s1">var SVG_ROLE = </span><span class="s3">\&quot;</span><span class="s1">graphics-document document</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function setA11yDiagramInfo(svg, diagramType) {</span><span class="s3">\n  </span><span class="s1">svg.attr(</span><span class="s3">\&quot;</span><span class="s1">role</span><span class="s3">\&quot;</span><span class="s1">, SVG_ROLE);</span><span class="s3">\n  </span><span class="s1">if (diagramType !== </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">svg.attr(</span><span class="s3">\&quot;</span><span class="s1">aria-roledescription</span><span class="s3">\&quot;</span><span class="s1">, diagramType);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(setA11yDiagramInfo, </span><span class="s3">\&quot;</span><span class="s1">setA11yDiagramInfo</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function addSVGa11yTitleDescription(svg, a11yTitle, a11yDesc, baseId) {</span><span class="s3">\n  </span><span class="s1">if (svg.insert === void 0) {</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (a11yDesc) {</span><span class="s3">\n    </span><span class="s1">const descId = `chart-desc-${baseId}`;</span><span class="s3">\n    </span><span class="s1">svg.attr(</span><span class="s3">\&quot;</span><span class="s1">aria-describedby</span><span class="s3">\&quot;</span><span class="s1">, descId);</span><span class="s3">\n    </span><span class="s1">svg.insert(</span><span class="s3">\&quot;</span><span class="s1">desc</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, descId).text(a11yDesc);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (a11yTitle) {</span><span class="s3">\n    </span><span class="s1">const titleId = `chart-title-${baseId}`;</span><span class="s3">\n    </span><span class="s1">svg.attr(</span><span class="s3">\&quot;</span><span class="s1">aria-labelledby</span><span class="s3">\&quot;</span><span class="s1">, titleId);</span><span class="s3">\n    </span><span class="s1">svg.insert(</span><span class="s3">\&quot;</span><span class="s1">title</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">:first-child</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, titleId).text(a11yTitle);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(addSVGa11yTitleDescription, </span><span class="s3">\&quot;</span><span class="s1">addSVGa11yTitleDescription</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/Diagram.ts</span><span class="s3">\n</span><span class="s1">var Diagram = class _Diagram {</span><span class="s3">\n  </span><span class="s1">constructor(type, text, db, parser, renderer2) {</span><span class="s3">\n    </span><span class="s1">this.type = type;</span><span class="s3">\n    </span><span class="s1">this.text = text;</span><span class="s3">\n    </span><span class="s1">this.db = db;</span><span class="s3">\n    </span><span class="s1">this.parser = parser;</span><span class="s3">\n    </span><span class="s1">this.renderer = renderer2;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">static {</span><span class="s3">\n    </span><span class="s1">__name(this, </span><span class="s3">\&quot;</span><span class="s1">Diagram</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">static async fromText(text, metadata = {}) {</span><span class="s3">\n    </span><span class="s1">const config = getConfig();</span><span class="s3">\n    </span><span class="s1">const type = detectType(text, config);</span><span class="s3">\n    </span><span class="s1">text = encodeEntities(text) + </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">getDiagram(type);</span><span class="s3">\n    </span><span class="s1">} catch {</span><span class="s3">\n      </span><span class="s1">const loader27 = getDiagramLoader(type);</span><span class="s3">\n      </span><span class="s1">if (!loader27) {</span><span class="s3">\n        </span><span class="s1">throw new UnknownDiagramError(`Diagram ${type} not found.`);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">const { id: id27, diagram: diagram2 } = await loader27();</span><span class="s3">\n      </span><span class="s1">registerDiagram(id27, diagram2);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const { db, parser, renderer: renderer2, init: init2 } = getDiagram(type);</span><span class="s3">\n    </span><span class="s1">if (parser.parser) {</span><span class="s3">\n      </span><span class="s1">parser.parser.yy = db;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">db.clear?.();</span><span class="s3">\n    </span><span class="s1">init2?.(config);</span><span class="s3">\n    </span><span class="s1">if (metadata.title) {</span><span class="s3">\n      </span><span class="s1">db.setDiagramTitle?.(metadata.title);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">await parser.parse(text);</span><span class="s3">\n    </span><span class="s1">return new _Diagram(type, text, db, parser, renderer2);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">async render(id27, version) {</span><span class="s3">\n    </span><span class="s1">await this.renderer.draw(this.text, id27, version, this);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">getParser() {</span><span class="s3">\n    </span><span class="s1">return this.parser;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">getType() {</span><span class="s3">\n    </span><span class="s1">return this.type;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// src/interactionDb.ts</span><span class="s3">\n</span><span class="s1">var interactionFunctions = [];</span><span class="s3">\n</span><span class="s1">var attachFunctions = /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n  </span><span class="s1">interactionFunctions.forEach((f) =&gt; {</span><span class="s3">\n    </span><span class="s1">f();</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">interactionFunctions = [];</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">attachFunctions</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/diagram-api/comments.ts</span><span class="s3">\n</span><span class="s1">var cleanupComments = /* @__PURE__ */ __name((text) =&gt; {</span><span class="s3">\n  </span><span class="s1">return text.replace(/^</span><span class="s3">\\</span><span class="s1">s*%%(?!{)[^</span><span class="s3">\\</span><span class="s1">n]+</span><span class="s3">\\</span><span class="s1">n?/gm, </span><span class="s3">\&quot;\&quot;</span><span class="s1">).trimStart();</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">cleanupComments</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/diagram-api/frontmatter.ts</span><span class="s3">\n</span><span class="s1">function extractFrontMatter(text) {</span><span class="s3">\n  </span><span class="s1">const matches = text.match(frontMatterRegex);</span><span class="s3">\n  </span><span class="s1">if (!matches) {</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">text,</span><span class="s3">\n      </span><span class="s1">metadata: {}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let parsed = load(matches[1], {</span><span class="s3">\n    </span><span class="s1">// To support config, we need JSON schema.</span><span class="s3">\n    </span><span class="s1">// https://www.yaml.org/spec/1.2/spec.html#id2803231</span><span class="s3">\n    </span><span class="s1">schema: JSON_SCHEMA</span><span class="s3">\n  </span><span class="s1">}) ?? {};</span><span class="s3">\n  </span><span class="s1">parsed = typeof parsed === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; !Array.isArray(parsed) ? parsed : {};</span><span class="s3">\n  </span><span class="s1">const metadata = {};</span><span class="s3">\n  </span><span class="s1">if (parsed.displayMode) {</span><span class="s3">\n    </span><span class="s1">metadata.displayMode = parsed.displayMode.toString();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (parsed.title) {</span><span class="s3">\n    </span><span class="s1">metadata.title = parsed.title.toString();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (parsed.config) {</span><span class="s3">\n    </span><span class="s1">metadata.config = parsed.config;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">text: text.slice(matches[0].length),</span><span class="s3">\n    </span><span class="s1">metadata</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(extractFrontMatter, </span><span class="s3">\&quot;</span><span class="s1">extractFrontMatter</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/preprocess.ts</span><span class="s3">\n</span><span class="s1">var cleanupText = /* @__PURE__ */ __name((code) =&gt; {</span><span class="s3">\n  </span><span class="s1">return code.replace(/</span><span class="s3">\\</span><span class="s1">r</span><span class="s3">\\</span><span class="s1">n?/g, </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">).replace(</span><span class="s3">\n    </span><span class="s1">/&lt;(</span><span class="s3">\\</span><span class="s1">w+)([^&gt;]*)&gt;/g,</span><span class="s3">\n    </span><span class="s1">(match, tag, attributes) =&gt; </span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot; </span><span class="s1">+ tag + attributes.replace(/=</span><span class="s3">\&quot;</span><span class="s1">([^</span><span class="s3">\&quot;</span><span class="s1">]*)</span><span class="s3">\&quot;</span><span class="s1">/g, </span><span class="s3">\&quot;</span><span class="s1">='$1'</span><span class="s3">\&quot;</span><span class="s1">) + </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;\n  </span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">cleanupText</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var processFrontmatter = /* @__PURE__ */ __name((code) =&gt; {</span><span class="s3">\n  </span><span class="s1">const { text, metadata } = extractFrontMatter(code);</span><span class="s3">\n  </span><span class="s1">const { displayMode, title, config = {} } = metadata;</span><span class="s3">\n  </span><span class="s1">if (displayMode) {</span><span class="s3">\n    </span><span class="s1">if (!config.gantt) {</span><span class="s3">\n      </span><span class="s1">config.gantt = {};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">config.gantt.displayMode = displayMode;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return { title, config, text };</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">processFrontmatter</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var processDirectives = /* @__PURE__ */ __name((code) =&gt; {</span><span class="s3">\n  </span><span class="s1">const initDirective = utils_default.detectInit(code) ?? {};</span><span class="s3">\n  </span><span class="s1">const wrapDirectives = utils_default.detectDirective(code, </span><span class="s3">\&quot;</span><span class="s1">wrap</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (Array.isArray(wrapDirectives)) {</span><span class="s3">\n    </span><span class="s1">initDirective.wrap = wrapDirectives.some(({ type }) =&gt; type === </span><span class="s3">\&quot;</span><span class="s1">wrap</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} else if (wrapDirectives?.type === </span><span class="s3">\&quot;</span><span class="s1">wrap</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">initDirective.wrap = true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">text: removeDirectives(code),</span><span class="s3">\n    </span><span class="s1">directive: initDirective</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">processDirectives</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function preprocessDiagram(code) {</span><span class="s3">\n  </span><span class="s1">const cleanedCode = cleanupText(code);</span><span class="s3">\n  </span><span class="s1">const frontMatterResult = processFrontmatter(cleanedCode);</span><span class="s3">\n  </span><span class="s1">const directiveResult = processDirectives(frontMatterResult.text);</span><span class="s3">\n  </span><span class="s1">const config = cleanAndMerge(frontMatterResult.config, directiveResult.directive);</span><span class="s3">\n  </span><span class="s1">code = cleanupComments(directiveResult.text);</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">code,</span><span class="s3">\n    </span><span class="s1">title: frontMatterResult.title,</span><span class="s3">\n    </span><span class="s1">config</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(preprocessDiagram, </span><span class="s3">\&quot;</span><span class="s1">preprocessDiagram</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/utils/base64.ts</span><span class="s3">\n</span><span class="s1">function toBase64(str) {</span><span class="s3">\n  </span><span class="s1">const utf8Bytes = new TextEncoder().encode(str);</span><span class="s3">\n  </span><span class="s1">const utf8Str = Array.from(utf8Bytes, (byte) =&gt; String.fromCodePoint(byte)).join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return btoa(utf8Str);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(toBase64, </span><span class="s3">\&quot;</span><span class="s1">toBase64</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/mermaidAPI.ts</span><span class="s3">\n</span><span class="s1">var MAX_TEXTLENGTH = 5e4;</span><span class="s3">\n</span><span class="s1">var MAX_TEXTLENGTH_EXCEEDED_MSG = </span><span class="s3">\&quot;</span><span class="s1">graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var SECURITY_LVL_SANDBOX = </span><span class="s3">\&quot;</span><span class="s1">sandbox</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var SECURITY_LVL_LOOSE = </span><span class="s3">\&quot;</span><span class="s1">loose</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var XMLNS_SVG_STD = </span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var XMLNS_XLINK_STD = </span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/1999/xlink</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var XMLNS_XHTML_STD = </span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/1999/xhtml</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var IFRAME_WIDTH = </span><span class="s3">\&quot;</span><span class="s1">100%</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var IFRAME_HEIGHT = </span><span class="s3">\&quot;</span><span class="s1">100%</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var IFRAME_STYLES = </span><span class="s3">\&quot;</span><span class="s1">border:0;margin:0;</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var IFRAME_BODY_STYLE = </span><span class="s3">\&quot;</span><span class="s1">margin:0</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var IFRAME_SANDBOX_OPTS = </span><span class="s3">\&quot;</span><span class="s1">allow-top-navigation-by-user-activation allow-popups</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var IFRAME_NOT_SUPPORTED_MSG = 'The </span><span class="s3">\&quot;</span><span class="s1">iframe</span><span class="s3">\&quot; </span><span class="s1">tag is not supported by your browser.';</span><span class="s3">\n</span><span class="s1">var DOMPURIFY_TAGS = [</span><span class="s3">\&quot;</span><span class="s1">foreignobject</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">var DOMPURIFY_ATTR = [</span><span class="s3">\&quot;</span><span class="s1">dominant-baseline</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">function processAndSetConfigs(text) {</span><span class="s3">\n  </span><span class="s1">const processed = preprocessDiagram(text);</span><span class="s3">\n  </span><span class="s1">reset();</span><span class="s3">\n  </span><span class="s1">addDirective(processed.config ?? {});</span><span class="s3">\n  </span><span class="s1">return processed;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(processAndSetConfigs, </span><span class="s3">\&quot;</span><span class="s1">processAndSetConfigs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">async function parse(text, parseOptions) {</span><span class="s3">\n  </span><span class="s1">addDiagrams();</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">const { code, config } = processAndSetConfigs(text);</span><span class="s3">\n    </span><span class="s1">const diagram2 = await getDiagramFromText(code);</span><span class="s3">\n    </span><span class="s1">return { diagramType: diagram2.type, config };</span><span class="s3">\n  </span><span class="s1">} catch (error) {</span><span class="s3">\n    </span><span class="s1">if (parseOptions?.suppressErrors) {</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">throw error;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(parse, </span><span class="s3">\&quot;</span><span class="s1">parse</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var cssImportantStyles = /* @__PURE__ */ __name((cssClass, element, cssClasses = []) =&gt; {</span><span class="s3">\n  </span><span class="s1">return `</span><span class="s3">\n</span><span class="s1">.${cssClass} ${element} { ${cssClasses.join(</span><span class="s3">\&quot; </span><span class="s1">!important; </span><span class="s3">\&quot;</span><span class="s1">)} !important; }`;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">cssImportantStyles</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var createCssStyles = /* @__PURE__ */ __name((config, classDefs = /* @__PURE__ */ new Map()) =&gt; {</span><span class="s3">\n  </span><span class="s1">let cssStyles = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">if (config.themeCSS !== void 0) {</span><span class="s3">\n    </span><span class="s1">cssStyles += `</span><span class="s3">\n</span><span class="s1">${config.themeCSS}`;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (config.fontFamily !== void 0) {</span><span class="s3">\n    </span><span class="s1">cssStyles += `</span><span class="s3">\n</span><span class="s1">:root { --mermaid-font-family: ${config.fontFamily}}`;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (config.altFontFamily !== void 0) {</span><span class="s3">\n    </span><span class="s1">cssStyles += `</span><span class="s3">\n</span><span class="s1">:root { --mermaid-alt-font-family: ${config.altFontFamily}}`;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (classDefs instanceof Map) {</span><span class="s3">\n    </span><span class="s1">const htmlLabels = config.htmlLabels ?? config.flowchart?.htmlLabels;</span><span class="s3">\n    </span><span class="s1">const cssHtmlElements = [</span><span class="s3">\&quot;</span><span class="s1">&gt; *</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">span</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n    </span><span class="s1">const cssShapeElements = [</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">polygon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">ellipse</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n    </span><span class="s1">const cssElements = htmlLabels ? cssHtmlElements : cssShapeElements;</span><span class="s3">\n    </span><span class="s1">classDefs.forEach((styleClassDef) =&gt; {</span><span class="s3">\n      </span><span class="s1">if (!isEmpty(styleClassDef.styles)) {</span><span class="s3">\n        </span><span class="s1">cssElements.forEach((cssElement) =&gt; {</span><span class="s3">\n          </span><span class="s1">cssStyles += cssImportantStyles(styleClassDef.id, cssElement, styleClassDef.styles);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (!isEmpty(styleClassDef.textStyles)) {</span><span class="s3">\n        </span><span class="s1">cssStyles += cssImportantStyles(</span><span class="s3">\n          </span><span class="s1">styleClassDef.id,</span><span class="s3">\n          \&quot;</span><span class="s1">tspan</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n          </span><span class="s1">(styleClassDef?.textStyles || []).map((s) =&gt; s.replace(</span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">))</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return cssStyles;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">createCssStyles</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var createUserStyles = /* @__PURE__ */ __name((config, graphType, classDefs, svgId) =&gt; {</span><span class="s3">\n  </span><span class="s1">const userCSSstyles = createCssStyles(config, classDefs);</span><span class="s3">\n  </span><span class="s1">const allStyles = styles_default(graphType, userCSSstyles, config.themeVariables);</span><span class="s3">\n  </span><span class="s1">return serialize(compile(`${svgId}{${allStyles}}`), stringify);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">createUserStyles</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var cleanUpSvgCode = /* @__PURE__ */ __name((svgCode = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, inSandboxMode, useArrowMarkerUrls) =&gt; {</span><span class="s3">\n  </span><span class="s1">let cleanedUpSvg = svgCode;</span><span class="s3">\n  </span><span class="s1">if (!useArrowMarkerUrls &amp;&amp; !inSandboxMode) {</span><span class="s3">\n    </span><span class="s1">cleanedUpSvg = cleanedUpSvg.replace(</span><span class="s3">\n      </span><span class="s1">/marker-end=</span><span class="s3">\&quot;</span><span class="s1">url</span><span class="s3">\\</span><span class="s1">([</span><span class="s3">\\</span><span class="s1">d+./:=?A-Za-z-]*?#/g,</span><span class="s3">\n      </span><span class="s1">'marker-end=</span><span class="s3">\&quot;</span><span class="s1">url(#'</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">cleanedUpSvg = decodeEntities(cleanedUpSvg);</span><span class="s3">\n  </span><span class="s1">cleanedUpSvg = cleanedUpSvg.replace(/&lt;br&gt;/g, </span><span class="s3">\&quot;</span><span class="s1">&lt;br/&gt;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return cleanedUpSvg;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">cleanUpSvgCode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var putIntoIFrame = /* @__PURE__ */ __name((svgCode = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, svgElement) =&gt; {</span><span class="s3">\n  </span><span class="s1">const height = svgElement?.viewBox?.baseVal?.height ? svgElement.viewBox.baseVal.height + </span><span class="s3">\&quot;</span><span class="s1">px</span><span class="s3">\&quot; </span><span class="s1">: IFRAME_HEIGHT;</span><span class="s3">\n  </span><span class="s1">const base64encodedSrc = toBase64(`&lt;body style=</span><span class="s3">\&quot;</span><span class="s1">${IFRAME_BODY_STYLE}</span><span class="s3">\&quot;</span><span class="s1">&gt;${svgCode}&lt;/body&gt;`);</span><span class="s3">\n  </span><span class="s1">return `&lt;iframe style=</span><span class="s3">\&quot;</span><span class="s1">width:${IFRAME_WIDTH};height:${height};${IFRAME_STYLES}</span><span class="s3">\&quot; </span><span class="s1">src=</span><span class="s3">\&quot;</span><span class="s1">data:text/html;charset=UTF-8;base64,${base64encodedSrc}</span><span class="s3">\&quot; </span><span class="s1">sandbox=</span><span class="s3">\&quot;</span><span class="s1">${IFRAME_SANDBOX_OPTS}</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n  </span><span class="s1">${IFRAME_NOT_SUPPORTED_MSG}</span><span class="s3">\n</span><span class="s1">&lt;/iframe&gt;`;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">putIntoIFrame</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var appendDivSvgG = /* @__PURE__ */ __name((parentRoot, id27, enclosingDivId, divStyle, svgXlink) =&gt; {</span><span class="s3">\n  </span><span class="s1">const enclosingDiv = parentRoot.append(</span><span class="s3">\&quot;</span><span class="s1">div</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">enclosingDiv.attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, enclosingDivId);</span><span class="s3">\n  </span><span class="s1">if (divStyle) {</span><span class="s3">\n    </span><span class="s1">enclosingDiv.attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, divStyle);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const svgNode = enclosingDiv.append(</span><span class="s3">\&quot;</span><span class="s1">svg</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, id27).attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">100%</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">xmlns</span><span class="s3">\&quot;</span><span class="s1">, XMLNS_SVG_STD);</span><span class="s3">\n  </span><span class="s1">if (svgXlink) {</span><span class="s3">\n    </span><span class="s1">svgNode.attr(</span><span class="s3">\&quot;</span><span class="s1">xmlns:xlink</span><span class="s3">\&quot;</span><span class="s1">, svgXlink);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">svgNode.append(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return parentRoot;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">appendDivSvgG</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function sandboxedIframe(parentNode, iFrameId) {</span><span class="s3">\n  </span><span class="s1">return parentNode.append(</span><span class="s3">\&quot;</span><span class="s1">iframe</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, iFrameId).attr(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">width: 100%; height: 100%;</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">sandbox</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(sandboxedIframe, </span><span class="s3">\&quot;</span><span class="s1">sandboxedIframe</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var removeExistingElements = /* @__PURE__ */ __name((doc, id27, divId, iFrameId) =&gt; {</span><span class="s3">\n  </span><span class="s1">doc.getElementById(id27)?.remove();</span><span class="s3">\n  </span><span class="s1">doc.getElementById(divId)?.remove();</span><span class="s3">\n  </span><span class="s1">doc.getElementById(iFrameId)?.remove();</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">removeExistingElements</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var render = /* @__PURE__ */ __name(async function(id27, text, svgContainingElement) {</span><span class="s3">\n  </span><span class="s1">addDiagrams();</span><span class="s3">\n  </span><span class="s1">const processed = processAndSetConfigs(text);</span><span class="s3">\n  </span><span class="s1">text = processed.code;</span><span class="s3">\n  </span><span class="s1">const config = getConfig();</span><span class="s3">\n  </span><span class="s1">log.debug(config);</span><span class="s3">\n  </span><span class="s1">if (text.length &gt; (config?.maxTextSize ?? MAX_TEXTLENGTH)) {</span><span class="s3">\n    </span><span class="s1">text = MAX_TEXTLENGTH_EXCEEDED_MSG;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const idSelector = </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">+ id27;</span><span class="s3">\n  </span><span class="s1">const iFrameID = </span><span class="s3">\&quot;</span><span class="s1">i</span><span class="s3">\&quot; </span><span class="s1">+ id27;</span><span class="s3">\n  </span><span class="s1">const iFrameID_selector = </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">+ iFrameID;</span><span class="s3">\n  </span><span class="s1">const enclosingDivID = </span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot; </span><span class="s1">+ id27;</span><span class="s3">\n  </span><span class="s1">const enclosingDivID_selector = </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">+ enclosingDivID;</span><span class="s3">\n  </span><span class="s1">const removeTempElements = /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n    </span><span class="s1">const tmpElementSelector = isSandboxed ? iFrameID_selector : enclosingDivID_selector;</span><span class="s3">\n    </span><span class="s1">const node = select(tmpElementSelector).node();</span><span class="s3">\n    </span><span class="s1">if (node &amp;&amp; </span><span class="s3">\&quot;</span><span class="s1">remove</span><span class="s3">\&quot; </span><span class="s1">in node) {</span><span class="s3">\n      </span><span class="s1">node.remove();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">removeTempElements</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">let root = select(</span><span class="s3">\&quot;</span><span class="s1">body</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const isSandboxed = config.securityLevel === SECURITY_LVL_SANDBOX;</span><span class="s3">\n  </span><span class="s1">const isLooseSecurityLevel = config.securityLevel === SECURITY_LVL_LOOSE;</span><span class="s3">\n  </span><span class="s1">const fontFamily = config.fontFamily;</span><span class="s3">\n  </span><span class="s1">if (svgContainingElement !== void 0) {</span><span class="s3">\n    </span><span class="s1">if (svgContainingElement) {</span><span class="s3">\n      </span><span class="s1">svgContainingElement.innerHTML = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (isSandboxed) {</span><span class="s3">\n      </span><span class="s1">const iframe = sandboxedIframe(select(svgContainingElement), iFrameID);</span><span class="s3">\n      </span><span class="s1">root = select(iframe.nodes()[0].contentDocument.body);</span><span class="s3">\n      </span><span class="s1">root.node().style.margin = 0;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">root = select(svgContainingElement);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">appendDivSvgG(root, id27, enclosingDivID, `font-family: ${fontFamily}`, XMLNS_XLINK_STD);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">removeExistingElements(document, id27, enclosingDivID, iFrameID);</span><span class="s3">\n    </span><span class="s1">if (isSandboxed) {</span><span class="s3">\n      </span><span class="s1">const iframe = sandboxedIframe(select(</span><span class="s3">\&quot;</span><span class="s1">body</span><span class="s3">\&quot;</span><span class="s1">), iFrameID);</span><span class="s3">\n      </span><span class="s1">root = select(iframe.nodes()[0].contentDocument.body);</span><span class="s3">\n      </span><span class="s1">root.node().style.margin = 0;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">root = select(</span><span class="s3">\&quot;</span><span class="s1">body</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">appendDivSvgG(root, id27, enclosingDivID);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let diag;</span><span class="s3">\n  </span><span class="s1">let parseEncounteredException;</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">diag = await Diagram.fromText(text, { title: processed.title });</span><span class="s3">\n  </span><span class="s1">} catch (error) {</span><span class="s3">\n    </span><span class="s1">if (config.suppressErrorRendering) {</span><span class="s3">\n      </span><span class="s1">removeTempElements();</span><span class="s3">\n      </span><span class="s1">throw error;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">diag = await Diagram.fromText(</span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">parseEncounteredException = error;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const element = root.select(enclosingDivID_selector).node();</span><span class="s3">\n  </span><span class="s1">const diagramType = diag.type;</span><span class="s3">\n  </span><span class="s1">const svg = element.firstChild;</span><span class="s3">\n  </span><span class="s1">const firstChild = svg.firstChild;</span><span class="s3">\n  </span><span class="s1">const diagramClassDefs = diag.renderer.getClasses?.(text, diag);</span><span class="s3">\n  </span><span class="s1">const rules = createUserStyles(config, diagramType, diagramClassDefs, idSelector);</span><span class="s3">\n  </span><span class="s1">const style1 = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">style1.innerHTML = rules;</span><span class="s3">\n  </span><span class="s1">svg.insertBefore(style1, firstChild);</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">await diag.renderer.draw(text, id27, package_default.version, diag);</span><span class="s3">\n  </span><span class="s1">} catch (e) {</span><span class="s3">\n    </span><span class="s1">if (config.suppressErrorRendering) {</span><span class="s3">\n      </span><span class="s1">removeTempElements();</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">errorRenderer_default.draw(text, id27, package_default.version);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">throw e;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const svgNode = root.select(`${enclosingDivID_selector} svg`);</span><span class="s3">\n  </span><span class="s1">const a11yTitle = diag.db.getAccTitle?.();</span><span class="s3">\n  </span><span class="s1">const a11yDescr = diag.db.getAccDescription?.();</span><span class="s3">\n  </span><span class="s1">addA11yInfo(diagramType, svgNode, a11yTitle, a11yDescr);</span><span class="s3">\n  </span><span class="s1">root.select(`[id=</span><span class="s3">\&quot;</span><span class="s1">${id27}</span><span class="s3">\&quot;</span><span class="s1">]`).selectAll(</span><span class="s3">\&quot;</span><span class="s1">foreignobject &gt; *</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">xmlns</span><span class="s3">\&quot;</span><span class="s1">, XMLNS_XHTML_STD);</span><span class="s3">\n  </span><span class="s1">let svgCode = root.select(enclosingDivID_selector).node().innerHTML;</span><span class="s3">\n  </span><span class="s1">log.debug(</span><span class="s3">\&quot;</span><span class="s1">config.arrowMarkerAbsolute</span><span class="s3">\&quot;</span><span class="s1">, config.arrowMarkerAbsolute);</span><span class="s3">\n  </span><span class="s1">svgCode = cleanUpSvgCode(svgCode, isSandboxed, evaluate(config.arrowMarkerAbsolute));</span><span class="s3">\n  </span><span class="s1">if (isSandboxed) {</span><span class="s3">\n    </span><span class="s1">const svgEl = root.select(enclosingDivID_selector + </span><span class="s3">\&quot; </span><span class="s1">svg</span><span class="s3">\&quot;</span><span class="s1">).node();</span><span class="s3">\n    </span><span class="s1">svgCode = putIntoIFrame(svgCode, svgEl);</span><span class="s3">\n  </span><span class="s1">} else if (!isLooseSecurityLevel) {</span><span class="s3">\n    </span><span class="s1">svgCode = DOMPurify.sanitize(svgCode, {</span><span class="s3">\n      </span><span class="s1">ADD_TAGS: DOMPURIFY_TAGS,</span><span class="s3">\n      </span><span class="s1">ADD_ATTR: DOMPURIFY_ATTR,</span><span class="s3">\n      </span><span class="s1">HTML_INTEGRATION_POINTS: { foreignobject: true }</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">attachFunctions();</span><span class="s3">\n  </span><span class="s1">if (parseEncounteredException) {</span><span class="s3">\n    </span><span class="s1">throw parseEncounteredException;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">removeTempElements();</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">diagramType,</span><span class="s3">\n    </span><span class="s1">svg: svgCode,</span><span class="s3">\n    </span><span class="s1">bindFunctions: diag.db.bindFunctions</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">render</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function initialize(userOptions = {}) {</span><span class="s3">\n  </span><span class="s1">const options = assignWithDepth_default({}, userOptions);</span><span class="s3">\n  </span><span class="s1">if (options?.fontFamily &amp;&amp; !options.themeVariables?.fontFamily) {</span><span class="s3">\n    </span><span class="s1">if (!options.themeVariables) {</span><span class="s3">\n      </span><span class="s1">options.themeVariables = {};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">options.themeVariables.fontFamily = options.fontFamily;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">saveConfigFromInitialize(options);</span><span class="s3">\n  </span><span class="s1">if (options?.theme &amp;&amp; options.theme in themes_default) {</span><span class="s3">\n    </span><span class="s1">options.themeVariables = themes_default[options.theme].getThemeVariables(</span><span class="s3">\n      </span><span class="s1">options.themeVariables</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} else if (options) {</span><span class="s3">\n    </span><span class="s1">options.themeVariables = themes_default.default.getThemeVariables(options.themeVariables);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const config = typeof options === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">? setSiteConfig(options) : getSiteConfig();</span><span class="s3">\n  </span><span class="s1">setLogLevel(config.logLevel);</span><span class="s3">\n  </span><span class="s1">addDiagrams();</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(initialize, </span><span class="s3">\&quot;</span><span class="s1">initialize</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getDiagramFromText = /* @__PURE__ */ __name((text, metadata = {}) =&gt; {</span><span class="s3">\n  </span><span class="s1">const { code } = preprocessDiagram(text);</span><span class="s3">\n  </span><span class="s1">return Diagram.fromText(code, metadata);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getDiagramFromText</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function addA11yInfo(diagramType, svgNode, a11yTitle, a11yDescr) {</span><span class="s3">\n  </span><span class="s1">setA11yDiagramInfo(svgNode, diagramType);</span><span class="s3">\n  </span><span class="s1">addSVGa11yTitleDescription(svgNode, a11yTitle, a11yDescr, svgNode.attr(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(addA11yInfo, </span><span class="s3">\&quot;</span><span class="s1">addA11yInfo</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var mermaidAPI = Object.freeze({</span><span class="s3">\n  </span><span class="s1">render,</span><span class="s3">\n  </span><span class="s1">parse,</span><span class="s3">\n  </span><span class="s1">getDiagramFromText,</span><span class="s3">\n  </span><span class="s1">initialize,</span><span class="s3">\n  </span><span class="s1">getConfig,</span><span class="s3">\n  </span><span class="s1">setConfig,</span><span class="s3">\n  </span><span class="s1">getSiteConfig,</span><span class="s3">\n  </span><span class="s1">updateSiteConfig,</span><span class="s3">\n  </span><span class="s1">reset: /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n    </span><span class="s1">reset();</span><span class="s3">\n  </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">reset</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n  </span><span class="s1">globalReset: /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n    </span><span class="s1">reset(defaultConfig);</span><span class="s3">\n  </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">globalReset</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n  </span><span class="s1">defaultConfig</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">setLogLevel(getConfig().logLevel);</span><span class="s3">\n</span><span class="s1">reset(getConfig());</span><span class="s3">\n\n</span><span class="s1">// src/mermaid.ts</span><span class="s3">\n</span><span class="s1">var handleError = /* @__PURE__ */ __name((error, errors, parseError) =&gt; {</span><span class="s3">\n  </span><span class="s1">log.warn(error);</span><span class="s3">\n  </span><span class="s1">if (isDetailedError(error)) {</span><span class="s3">\n    </span><span class="s1">if (parseError) {</span><span class="s3">\n      </span><span class="s1">parseError(error.str, error.hash);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">errors.push({ ...error, message: error.str, error });</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">if (parseError) {</span><span class="s3">\n      </span><span class="s1">parseError(error);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (error instanceof Error) {</span><span class="s3">\n      </span><span class="s1">errors.push({</span><span class="s3">\n        </span><span class="s1">str: error.message,</span><span class="s3">\n        </span><span class="s1">message: error.message,</span><span class="s3">\n        </span><span class="s1">hash: error.name,</span><span class="s3">\n        </span><span class="s1">error</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">handleError</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var run = /* @__PURE__ */ __name(async function(options = {</span><span class="s3">\n  </span><span class="s1">querySelector: </span><span class="s3">\&quot;</span><span class="s1">.mermaid</span><span class="s3">\&quot;\n</span><span class="s1">}) {</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">await runThrowsErrors(options);</span><span class="s3">\n  </span><span class="s1">} catch (e) {</span><span class="s3">\n    </span><span class="s1">if (isDetailedError(e)) {</span><span class="s3">\n      </span><span class="s1">log.error(e.str);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (mermaid.parseError) {</span><span class="s3">\n      </span><span class="s1">mermaid.parseError(e);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!options.suppressErrors) {</span><span class="s3">\n      </span><span class="s1">log.error(</span><span class="s3">\&quot;</span><span class="s1">Use the suppressErrors option to suppress these errors</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">throw e;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">run</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var runThrowsErrors = /* @__PURE__ */ __name(async function({ postRenderCallback, querySelector, nodes } = {</span><span class="s3">\n  </span><span class="s1">querySelector: </span><span class="s3">\&quot;</span><span class="s1">.mermaid</span><span class="s3">\&quot;\n</span><span class="s1">}) {</span><span class="s3">\n  </span><span class="s1">const conf = mermaidAPI.getConfig();</span><span class="s3">\n  </span><span class="s1">log.debug(`${!postRenderCallback ? </span><span class="s3">\&quot;</span><span class="s1">No </span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">}Callback function found`);</span><span class="s3">\n  </span><span class="s1">let nodesToProcess;</span><span class="s3">\n  </span><span class="s1">if (nodes) {</span><span class="s3">\n    </span><span class="s1">nodesToProcess = nodes;</span><span class="s3">\n  </span><span class="s1">} else if (querySelector) {</span><span class="s3">\n    </span><span class="s1">nodesToProcess = document.querySelectorAll(querySelector);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Nodes and querySelector are both undefined</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">log.debug(`Found ${nodesToProcess.length} diagrams`);</span><span class="s3">\n  </span><span class="s1">if (conf?.startOnLoad !== void 0) {</span><span class="s3">\n    </span><span class="s1">log.debug(</span><span class="s3">\&quot;</span><span class="s1">Start On Load: </span><span class="s3">\&quot; </span><span class="s1">+ conf?.startOnLoad);</span><span class="s3">\n    </span><span class="s1">mermaidAPI.updateSiteConfig({ startOnLoad: conf?.startOnLoad });</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const idGenerator = new utils_default.InitIDGenerator(conf.deterministicIds, conf.deterministicIDSeed);</span><span class="s3">\n  </span><span class="s1">let txt;</span><span class="s3">\n  </span><span class="s1">const errors = [];</span><span class="s3">\n  </span><span class="s1">for (const element of Array.from(nodesToProcess)) {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Rendering diagram: </span><span class="s3">\&quot; </span><span class="s1">+ element.id);</span><span class="s3">\n    </span><span class="s1">if (element.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">data-processed</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n      </span><span class="s1">continue;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">element.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">data-processed</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const id27 = `mermaid-${idGenerator.next()}`;</span><span class="s3">\n    </span><span class="s1">txt = element.innerHTML;</span><span class="s3">\n    </span><span class="s1">txt = dedent(utils_default.entityDecode(txt)).trim().replace(/&lt;br</span><span class="s3">\\</span><span class="s1">s*</span><span class="s3">\\</span><span class="s1">/?&gt;/gi, </span><span class="s3">\&quot;</span><span class="s1">&lt;br/&gt;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">const init2 = utils_default.detectInit(txt);</span><span class="s3">\n    </span><span class="s1">if (init2) {</span><span class="s3">\n      </span><span class="s1">log.debug(</span><span class="s3">\&quot;</span><span class="s1">Detected early reinit: </span><span class="s3">\&quot;</span><span class="s1">, init2);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">const { svg, bindFunctions } = await render2(id27, txt, element);</span><span class="s3">\n      </span><span class="s1">element.innerHTML = svg;</span><span class="s3">\n      </span><span class="s1">if (postRenderCallback) {</span><span class="s3">\n        </span><span class="s1">await postRenderCallback(id27);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (bindFunctions) {</span><span class="s3">\n        </span><span class="s1">bindFunctions(element);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} catch (error) {</span><span class="s3">\n      </span><span class="s1">handleError(error, errors, mermaid.parseError);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (errors.length &gt; 0) {</span><span class="s3">\n    </span><span class="s1">throw errors[0];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">runThrowsErrors</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var initialize2 = /* @__PURE__ */ __name(function(config) {</span><span class="s3">\n  </span><span class="s1">mermaidAPI.initialize(config);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">initialize</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var init = /* @__PURE__ */ __name(async function(config, nodes, callback) {</span><span class="s3">\n  </span><span class="s1">log.warn(</span><span class="s3">\&quot;</span><span class="s1">mermaid.init is deprecated. Please use run instead.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (config) {</span><span class="s3">\n    </span><span class="s1">initialize2(config);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const runOptions = { postRenderCallback: callback, querySelector: </span><span class="s3">\&quot;</span><span class="s1">.mermaid</span><span class="s3">\&quot; </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">if (typeof nodes === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">runOptions.querySelector = nodes;</span><span class="s3">\n  </span><span class="s1">} else if (nodes) {</span><span class="s3">\n    </span><span class="s1">if (nodes instanceof HTMLElement) {</span><span class="s3">\n      </span><span class="s1">runOptions.nodes = [nodes];</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">runOptions.nodes = nodes;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">await run(runOptions);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">init</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var registerExternalDiagrams = /* @__PURE__ */ __name(async (diagrams, {</span><span class="s3">\n  </span><span class="s1">lazyLoad = true</span><span class="s3">\n</span><span class="s1">} = {}) =&gt; {</span><span class="s3">\n  </span><span class="s1">addDiagrams();</span><span class="s3">\n  </span><span class="s1">registerLazyLoadedDiagrams(...diagrams);</span><span class="s3">\n  </span><span class="s1">if (lazyLoad === false) {</span><span class="s3">\n    </span><span class="s1">await loadRegisteredDiagrams();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">registerExternalDiagrams</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var contentLoaded = /* @__PURE__ */ __name(function() {</span><span class="s3">\n  </span><span class="s1">if (mermaid.startOnLoad) {</span><span class="s3">\n    </span><span class="s1">const { startOnLoad } = mermaidAPI.getConfig();</span><span class="s3">\n    </span><span class="s1">if (startOnLoad) {</span><span class="s3">\n      </span><span class="s1">mermaid.run().catch((err) =&gt; log.error(</span><span class="s3">\&quot;</span><span class="s1">Mermaid failed to initialize</span><span class="s3">\&quot;</span><span class="s1">, err));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">contentLoaded</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">if (typeof document !== </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">window.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">load</span><span class="s3">\&quot;</span><span class="s1">, contentLoaded, false);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">var setParseErrorHandler = /* @__PURE__ */ __name(function(parseErrorHandler) {</span><span class="s3">\n  </span><span class="s1">mermaid.parseError = parseErrorHandler;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">setParseErrorHandler</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var executionQueue = [];</span><span class="s3">\n</span><span class="s1">var executionQueueRunning = false;</span><span class="s3">\n</span><span class="s1">var executeQueue = /* @__PURE__ */ __name(async () =&gt; {</span><span class="s3">\n  </span><span class="s1">if (executionQueueRunning) {</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">executionQueueRunning = true;</span><span class="s3">\n  </span><span class="s1">while (executionQueue.length &gt; 0) {</span><span class="s3">\n    </span><span class="s1">const f = executionQueue.shift();</span><span class="s3">\n    </span><span class="s1">if (f) {</span><span class="s3">\n      </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">await f();</span><span class="s3">\n      </span><span class="s1">} catch (e) {</span><span class="s3">\n        </span><span class="s1">log.error(</span><span class="s3">\&quot;</span><span class="s1">Error executing queue</span><span class="s3">\&quot;</span><span class="s1">, e);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">executionQueueRunning = false;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">executeQueue</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var parse2 = /* @__PURE__ */ __name(async (text, parseOptions) =&gt; {</span><span class="s3">\n  </span><span class="s1">return new Promise((resolve, reject) =&gt; {</span><span class="s3">\n    </span><span class="s1">const performCall = /* @__PURE__ */ __name(() =&gt; new Promise((res, rej) =&gt; {</span><span class="s3">\n      </span><span class="s1">mermaidAPI.parse(text, parseOptions).then(</span><span class="s3">\n        </span><span class="s1">(r) =&gt; {</span><span class="s3">\n          </span><span class="s1">res(r);</span><span class="s3">\n          </span><span class="s1">resolve(r);</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">(e) =&gt; {</span><span class="s3">\n          </span><span class="s1">log.error(</span><span class="s3">\&quot;</span><span class="s1">Error parsing</span><span class="s3">\&quot;</span><span class="s1">, e);</span><span class="s3">\n          </span><span class="s1">mermaid.parseError?.(e);</span><span class="s3">\n          </span><span class="s1">rej(e);</span><span class="s3">\n          </span><span class="s1">reject(e);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}), </span><span class="s3">\&quot;</span><span class="s1">performCall</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">executionQueue.push(performCall);</span><span class="s3">\n    </span><span class="s1">executeQueue().catch(reject);</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">parse</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var render2 = /* @__PURE__ */ __name((id27, text, container) =&gt; {</span><span class="s3">\n  </span><span class="s1">return new Promise((resolve, reject) =&gt; {</span><span class="s3">\n    </span><span class="s1">const performCall = /* @__PURE__ */ __name(() =&gt; new Promise((res, rej) =&gt; {</span><span class="s3">\n      </span><span class="s1">mermaidAPI.render(id27, text, container).then(</span><span class="s3">\n        </span><span class="s1">(r) =&gt; {</span><span class="s3">\n          </span><span class="s1">res(r);</span><span class="s3">\n          </span><span class="s1">resolve(r);</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">(e) =&gt; {</span><span class="s3">\n          </span><span class="s1">log.error(</span><span class="s3">\&quot;</span><span class="s1">Error parsing</span><span class="s3">\&quot;</span><span class="s1">, e);</span><span class="s3">\n          </span><span class="s1">mermaid.parseError?.(e);</span><span class="s3">\n          </span><span class="s1">rej(e);</span><span class="s3">\n          </span><span class="s1">reject(e);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}), </span><span class="s3">\&quot;</span><span class="s1">performCall</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">executionQueue.push(performCall);</span><span class="s3">\n    </span><span class="s1">executeQueue().catch(reject);</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">render</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var mermaid = {</span><span class="s3">\n  </span><span class="s1">startOnLoad: true,</span><span class="s3">\n  </span><span class="s1">mermaidAPI,</span><span class="s3">\n  </span><span class="s1">parse: parse2,</span><span class="s3">\n  </span><span class="s1">render: render2,</span><span class="s3">\n  </span><span class="s1">init,</span><span class="s3">\n  </span><span class="s1">run,</span><span class="s3">\n  </span><span class="s1">registerExternalDiagrams,</span><span class="s3">\n  </span><span class="s1">registerLayoutLoaders,</span><span class="s3">\n  </span><span class="s1">initialize: initialize2,</span><span class="s3">\n  </span><span class="s1">parseError: void 0,</span><span class="s3">\n  </span><span class="s1">contentLoaded,</span><span class="s3">\n  </span><span class="s1">setParseErrorHandler,</span><span class="s3">\n  </span><span class="s1">detectType,</span><span class="s3">\n  </span><span class="s1">registerIconPacks</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var mermaid_default = mermaid;</span><span class="s3">\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">mermaid_default as default</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/*! Check if previously processed */</span><span class="s3">\n</span><span class="s1">/*!</span><span class="s3">\n </span><span class="s1">* Wait for document loaded before starting the execution</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function t(t,e,s){if(t&amp;&amp;t.length){const[n,o]=e,a=Math.PI/180*s,h=Math.cos(a),r=Math.sin(a);for(const e of t){const[t,s]=e;e[0]=(t-n)*h-(s-o)*r+n,e[1]=(t-n)*r+(s-o)*h+o}}}function e(t,e){return t[0]===e[0]&amp;&amp;t[1]===e[1]}function s(s,n,o,a=1){const h=o,r=Math.max(n,.1),i=s[0]&amp;&amp;s[0][0]&amp;&amp;</span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">==typeof s[0][0]?[s]:s,c=[0,0];if(h)for(const e of i)t(e,c,h);const l=function(t,s,n){const o=[];for(const s of t){const t=[...s];e(t[0],t[t.length-1])||t.push([t[0][0],t[0][1]]),t.length&gt;2&amp;&amp;o.push(t)}const a=[];s=Math.max(s,.1);const h=[];for(const t of o)for(let e=0;e&lt;t.length-1;e++){const s=t[e],n=t[e+1];if(s[1]!==n[1]){const t=Math.min(s[1],n[1]);h.push({ymin:t,ymax:Math.max(s[1],n[1]),x:t===s[1]?s[0]:n[0],islope:(n[0]-s[0])/(n[1]-s[1])})}}if(h.sort(((t,e)=&gt;t.ymin&lt;e.ymin?-1:t.ymin&gt;e.ymin?1:t.x&lt;e.x?-1:t.x&gt;e.x?1:t.ymax===e.ymax?0:(t.ymax-e.ymax)/Math.abs(t.ymax-e.ymax))),!h.length)return a;let r=[],i=h[0].ymin,c=0;for(;r.length||h.length;){if(h.length){let t=-1;for(let e=0;e&lt;h.length&amp;&amp;!(h[e].ymin&gt;i);e++)t=e;h.splice(0,t+1).forEach((t=&gt;{r.push({s:i,edge:t})}))}if(r=r.filter((t=&gt;!(t.edge.ymax&lt;=i))),r.sort(((t,e)=&gt;t.edge.x===e.edge.x?0:(t.edge.x-e.edge.x)/Math.abs(t.edge.x-e.edge.x))),(1!==n||c%s==0)&amp;&amp;r.length&gt;1)for(let t=0;t&lt;r.length;t+=2){const e=t+1;if(e&gt;=r.length)break;const s=r[t].edge,n=r[e].edge;a.push([[Math.round(s.x),i],[Math.round(n.x),i]])}i+=n,r.forEach((t=&gt;{t.edge.x=t.edge.x+n*t.edge.islope})),c++}return a}(i,r,a);if(h){for(const e of i)t(e,c,-h);!function(e,s,n){const o=[];e.forEach((t=&gt;o.push(...t))),t(o,s,n)}(l,c,-h)}return l}function n(t,e){var n;const o=e.hachureAngle+90;let a=e.hachureGap;a&lt;0&amp;&amp;(a=4*e.strokeWidth),a=Math.round(Math.max(a,.1));let h=1;return e.roughness&gt;=1&amp;&amp;((null===(n=e.randomizer)||void 0===n?void 0:n.next())||Math.random())&gt;.7&amp;&amp;(h=a),s(t,a,o,h||1)}class o{constructor(t){this.helper=t}fillPolygons(t,e){return this._fillPolygons(t,e)}_fillPolygons(t,e){const s=n(t,e);return{type:</span><span class="s3">\&quot;</span><span class="s1">fillSketch</span><span class="s3">\&quot;</span><span class="s1">,ops:this.renderLines(s,e)}}renderLines(t,e){const s=[];for(const n of t)s.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],e));return s}}function a(t){const e=t[0],s=t[1];return Math.sqrt(Math.pow(e[0]-s[0],2)+Math.pow(e[1]-s[1],2))}class h extends o{fillPolygons(t,e){let s=e.hachureGap;s&lt;0&amp;&amp;(s=4*e.strokeWidth),s=Math.max(s,.1);const o=n(t,Object.assign({},e,{hachureGap:s})),h=Math.PI/180*e.hachureAngle,r=[],i=.5*s*Math.cos(h),c=.5*s*Math.sin(h);for(const[t,e]of o)a([t,e])&amp;&amp;r.push([[t[0]-i,t[1]+c],[...e]],[[t[0]+i,t[1]-c],[...e]]);return{type:</span><span class="s3">\&quot;</span><span class="s1">fillSketch</span><span class="s3">\&quot;</span><span class="s1">,ops:this.renderLines(r,e)}}}class r extends o{fillPolygons(t,e){const s=this._fillPolygons(t,e),n=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),o=this._fillPolygons(t,n);return s.ops=s.ops.concat(o.ops),s}}class i{constructor(t){this.helper=t}fillPolygons(t,e){const s=n(t,e=Object.assign({},e,{hachureAngle:0}));return this.dotsOnLines(s,e)}dotsOnLines(t,e){const s=[];let n=e.hachureGap;n&lt;0&amp;&amp;(n=4*e.strokeWidth),n=Math.max(n,.1);let o=e.fillWeight;o&lt;0&amp;&amp;(o=e.strokeWidth/2);const h=n/4;for(const r of t){const t=a(r),i=t/n,c=Math.ceil(i)-1,l=t-c*n,u=(r[0][0]+r[1][0])/2-n/4,p=Math.min(r[0][1],r[1][1]);for(let t=0;t&lt;c;t++){const a=p+l+t*n,r=u-h+2*Math.random()*h,i=a-h+2*Math.random()*h,c=this.helper.ellipse(r,i,o,o,e);s.push(...c.ops)}}return{type:</span><span class="s3">\&quot;</span><span class="s1">fillSketch</span><span class="s3">\&quot;</span><span class="s1">,ops:s}}}class c{constructor(t){this.helper=t}fillPolygons(t,e){const s=n(t,e);return{type:</span><span class="s3">\&quot;</span><span class="s1">fillSketch</span><span class="s3">\&quot;</span><span class="s1">,ops:this.dashedLine(s,e)}}dashedLine(t,e){const s=e.dashOffset&lt;0?e.hachureGap&lt;0?4*e.strokeWidth:e.hachureGap:e.dashOffset,n=e.dashGap&lt;0?e.hachureGap&lt;0?4*e.strokeWidth:e.hachureGap:e.dashGap,o=[];return t.forEach((t=&gt;{const h=a(t),r=Math.floor(h/(s+n)),i=(h+n-r*(s+n))/2;let c=t[0],l=t[1];c[0]&gt;l[0]&amp;&amp;(c=t[1],l=t[0]);const u=Math.atan((l[1]-c[1])/(l[0]-c[0]));for(let t=0;t&lt;r;t++){const a=t*(s+n),h=a+s,r=[c[0]+a*Math.cos(u)+i*Math.cos(u),c[1]+a*Math.sin(u)+i*Math.sin(u)],l=[c[0]+h*Math.cos(u)+i*Math.cos(u),c[1]+h*Math.sin(u)+i*Math.sin(u)];o.push(...this.helper.doubleLineOps(r[0],r[1],l[0],l[1],e))}})),o}}class l{constructor(t){this.helper=t}fillPolygons(t,e){const s=e.hachureGap&lt;0?4*e.strokeWidth:e.hachureGap,o=e.zigzagOffset&lt;0?s:e.zigzagOffset,a=n(t,e=Object.assign({},e,{hachureGap:s+o}));return{type:</span><span class="s3">\&quot;</span><span class="s1">fillSketch</span><span class="s3">\&quot;</span><span class="s1">,ops:this.zigzagLines(a,o,e)}}zigzagLines(t,e,s){const n=[];return t.forEach((t=&gt;{const o=a(t),h=Math.round(o/(2*e));let r=t[0],i=t[1];r[0]&gt;i[0]&amp;&amp;(r=t[1],i=t[0]);const c=Math.atan((i[1]-r[1])/(i[0]-r[0]));for(let t=0;t&lt;h;t++){const o=2*t*e,a=2*(t+1)*e,h=Math.sqrt(2*Math.pow(e,2)),i=[r[0]+o*Math.cos(c),r[1]+o*Math.sin(c)],l=[r[0]+a*Math.cos(c),r[1]+a*Math.sin(c)],u=[i[0]+h*Math.cos(c+Math.PI/4),i[1]+h*Math.sin(c+Math.PI/4)];n.push(...this.helper.doubleLineOps(i[0],i[1],u[0],u[1],s),...this.helper.doubleLineOps(u[0],u[1],l[0],l[1],s))}})),n}}const u={};class p{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&amp;(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const f=0,d=1,g=2,M={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function k(t,e){return t.type===e}function b(t){const e=[],s=function(t){const e=new Array;for(;</span><span class="s3">\&quot;\&quot;</span><span class="s1">!==t;)if(t.match(/^([ </span><span class="s3">\\</span><span class="s1">t</span><span class="s3">\\</span><span class="s1">r</span><span class="s3">\\</span><span class="s1">n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:f,text:RegExp.$1},t=t.substr(RegExp.$1.length);else{if(!t.match(/^(([-+]?[0-9]+(</span><span class="s3">\\</span><span class="s1">.[0-9]*)?|[-+]?</span><span class="s3">\\</span><span class="s1">.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];e[e.length]={type:d,text:`${parseFloat(RegExp.$1)}`},t=t.substr(RegExp.$1.length)}return e[e.length]={type:g,text:</span><span class="s3">\&quot;\&quot;</span><span class="s1">},e}(t);let n=</span><span class="s3">\&quot;</span><span class="s1">BOD</span><span class="s3">\&quot;</span><span class="s1">,o=0,a=s[o];for(;!k(a,g);){let h=0;const r=[];if(</span><span class="s3">\&quot;</span><span class="s1">BOD</span><span class="s3">\&quot;</span><span class="s1">===n){if(</span><span class="s3">\&quot;</span><span class="s1">M</span><span class="s3">\&quot;</span><span class="s1">!==a.text&amp;&amp;</span><span class="s3">\&quot;</span><span class="s1">m</span><span class="s3">\&quot;</span><span class="s1">!==a.text)return b(</span><span class="s3">\&quot;</span><span class="s1">M0,0</span><span class="s3">\&quot;</span><span class="s1">+t);o++,h=M[a.text],n=a.text}else k(a,d)?h=M[n]:(o++,h=M[a.text],n=a.text);if(!(o+h&lt;s.length))throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Path data ended short</span><span class="s3">\&quot;</span><span class="s1">);for(let t=o;t&lt;o+h;t++){const e=s[t];if(!k(e,d))throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Param not a number: </span><span class="s3">\&quot;</span><span class="s1">+n+</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">+e.text);r[r.length]=+e.text}if(</span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">!=typeof M[n])throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Bad segment: </span><span class="s3">\&quot;</span><span class="s1">+n);{const t={key:n,data:r};e.push(t),o+=h,a=s[o],</span><span class="s3">\&quot;</span><span class="s1">M</span><span class="s3">\&quot;</span><span class="s1">===n&amp;&amp;(n=</span><span class="s3">\&quot;</span><span class="s1">L</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\&quot;</span><span class="s1">m</span><span class="s3">\&quot;</span><span class="s1">===n&amp;&amp;(n=</span><span class="s3">\&quot;</span><span class="s1">l</span><span class="s3">\&quot;</span><span class="s1">)}}return e}function y(t){let e=0,s=0,n=0,o=0;const a=[];for(const{key:h,data:r}of t)switch(h){case</span><span class="s3">\&quot;</span><span class="s1">M</span><span class="s3">\&quot;</span><span class="s1">:a.push({key:</span><span class="s3">\&quot;</span><span class="s1">M</span><span class="s3">\&quot;</span><span class="s1">,data:[...r]}),[e,s]=r,[n,o]=r;break;case</span><span class="s3">\&quot;</span><span class="s1">m</span><span class="s3">\&quot;</span><span class="s1">:e+=r[0],s+=r[1],a.push({key:</span><span class="s3">\&quot;</span><span class="s1">M</span><span class="s3">\&quot;</span><span class="s1">,data:[e,s]}),n=e,o=s;break;case</span><span class="s3">\&quot;</span><span class="s1">L</span><span class="s3">\&quot;</span><span class="s1">:a.push({key:</span><span class="s3">\&quot;</span><span class="s1">L</span><span class="s3">\&quot;</span><span class="s1">,data:[...r]}),[e,s]=r;break;case</span><span class="s3">\&quot;</span><span class="s1">l</span><span class="s3">\&quot;</span><span class="s1">:e+=r[0],s+=r[1],a.push({key:</span><span class="s3">\&quot;</span><span class="s1">L</span><span class="s3">\&quot;</span><span class="s1">,data:[e,s]});break;case</span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">:a.push({key:</span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">,data:[...r]}),e=r[4],s=r[5];break;case</span><span class="s3">\&quot;</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">:{const t=r.map(((t,n)=&gt;n%2?t+s:t+e));a.push({key:</span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">,data:t}),e=t[4],s=t[5];break}case</span><span class="s3">\&quot;</span><span class="s1">Q</span><span class="s3">\&quot;</span><span class="s1">:a.push({key:</span><span class="s3">\&quot;</span><span class="s1">Q</span><span class="s3">\&quot;</span><span class="s1">,data:[...r]}),e=r[2],s=r[3];break;case</span><span class="s3">\&quot;</span><span class="s1">q</span><span class="s3">\&quot;</span><span class="s1">:{const t=r.map(((t,n)=&gt;n%2?t+s:t+e));a.push({key:</span><span class="s3">\&quot;</span><span class="s1">Q</span><span class="s3">\&quot;</span><span class="s1">,data:t}),e=t[2],s=t[3];break}case</span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">:a.push({key:</span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,data:[...r]}),e=r[5],s=r[6];break;case</span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">:e+=r[5],s+=r[6],a.push({key:</span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">,data:[r[0],r[1],r[2],r[3],r[4],e,s]});break;case</span><span class="s3">\&quot;</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">:a.push({key:</span><span class="s3">\&quot;</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">,data:[...r]}),e=r[0];break;case</span><span class="s3">\&quot;</span><span class="s1">h</span><span class="s3">\&quot;</span><span class="s1">:e+=r[0],a.push({key:</span><span class="s3">\&quot;</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">,data:[e]});break;case</span><span class="s3">\&quot;</span><span class="s1">V</span><span class="s3">\&quot;</span><span class="s1">:a.push({key:</span><span class="s3">\&quot;</span><span class="s1">V</span><span class="s3">\&quot;</span><span class="s1">,data:[...r]}),s=r[0];break;case</span><span class="s3">\&quot;</span><span class="s1">v</span><span class="s3">\&quot;</span><span class="s1">:s+=r[0],a.push({key:</span><span class="s3">\&quot;</span><span class="s1">V</span><span class="s3">\&quot;</span><span class="s1">,data:[s]});break;case</span><span class="s3">\&quot;</span><span class="s1">S</span><span class="s3">\&quot;</span><span class="s1">:a.push({key:</span><span class="s3">\&quot;</span><span class="s1">S</span><span class="s3">\&quot;</span><span class="s1">,data:[...r]}),e=r[2],s=r[3];break;case</span><span class="s3">\&quot;</span><span class="s1">s</span><span class="s3">\&quot;</span><span class="s1">:{const t=r.map(((t,n)=&gt;n%2?t+s:t+e));a.push({key:</span><span class="s3">\&quot;</span><span class="s1">S</span><span class="s3">\&quot;</span><span class="s1">,data:t}),e=t[2],s=t[3];break}case</span><span class="s3">\&quot;</span><span class="s1">T</span><span class="s3">\&quot;</span><span class="s1">:a.push({key:</span><span class="s3">\&quot;</span><span class="s1">T</span><span class="s3">\&quot;</span><span class="s1">,data:[...r]}),e=r[0],s=r[1];break;case</span><span class="s3">\&quot;</span><span class="s1">t</span><span class="s3">\&quot;</span><span class="s1">:e+=r[0],s+=r[1],a.push({key:</span><span class="s3">\&quot;</span><span class="s1">T</span><span class="s3">\&quot;</span><span class="s1">,data:[e,s]});break;case</span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">:case</span><span class="s3">\&quot;</span><span class="s1">z</span><span class="s3">\&quot;</span><span class="s1">:a.push({key:</span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">,data:[]}),e=n,s=o}return a}function m(t){const e=[];let s=</span><span class="s3">\&quot;\&quot;</span><span class="s1">,n=0,o=0,a=0,h=0,r=0,i=0;for(const{key:c,data:l}of t){switch(c){case</span><span class="s3">\&quot;</span><span class="s1">M</span><span class="s3">\&quot;</span><span class="s1">:e.push({key:</span><span class="s3">\&quot;</span><span class="s1">M</span><span class="s3">\&quot;</span><span class="s1">,data:[...l]}),[n,o]=l,[a,h]=l;break;case</span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">:e.push({key:</span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">,data:[...l]}),n=l[4],o=l[5],r=l[2],i=l[3];break;case</span><span class="s3">\&quot;</span><span class="s1">L</span><span class="s3">\&quot;</span><span class="s1">:e.push({key:</span><span class="s3">\&quot;</span><span class="s1">L</span><span class="s3">\&quot;</span><span class="s1">,data:[...l]}),[n,o]=l;break;case</span><span class="s3">\&quot;</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">:n=l[0],e.push({key:</span><span class="s3">\&quot;</span><span class="s1">L</span><span class="s3">\&quot;</span><span class="s1">,data:[n,o]});break;case</span><span class="s3">\&quot;</span><span class="s1">V</span><span class="s3">\&quot;</span><span class="s1">:o=l[0],e.push({key:</span><span class="s3">\&quot;</span><span class="s1">L</span><span class="s3">\&quot;</span><span class="s1">,data:[n,o]});break;case</span><span class="s3">\&quot;</span><span class="s1">S</span><span class="s3">\&quot;</span><span class="s1">:{let t=0,a=0;</span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">===s||</span><span class="s3">\&quot;</span><span class="s1">S</span><span class="s3">\&quot;</span><span class="s1">===s?(t=n+(n-r),a=o+(o-i)):(t=n,a=o),e.push({key:</span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">,data:[t,a,...l]}),r=l[0],i=l[1],n=l[2],o=l[3];break}case</span><span class="s3">\&quot;</span><span class="s1">T</span><span class="s3">\&quot;</span><span class="s1">:{const[t,a]=l;let h=0,c=0;</span><span class="s3">\&quot;</span><span class="s1">Q</span><span class="s3">\&quot;</span><span class="s1">===s||</span><span class="s3">\&quot;</span><span class="s1">T</span><span class="s3">\&quot;</span><span class="s1">===s?(h=n+(n-r),c=o+(o-i)):(h=n,c=o);const u=n+2*(h-n)/3,p=o+2*(c-o)/3,f=t+2*(h-t)/3,d=a+2*(c-a)/3;e.push({key:</span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">,data:[u,p,f,d,t,a]}),r=h,i=c,n=t,o=a;break}case</span><span class="s3">\&quot;</span><span class="s1">Q</span><span class="s3">\&quot;</span><span class="s1">:{const[t,s,a,h]=l,c=n+2*(t-n)/3,u=o+2*(s-o)/3,p=a+2*(t-a)/3,f=h+2*(s-h)/3;e.push({key:</span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">,data:[c,u,p,f,a,h]}),r=t,i=s,n=a,o=h;break}case</span><span class="s3">\&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">:{const t=Math.abs(l[0]),s=Math.abs(l[1]),a=l[2],h=l[3],r=l[4],i=l[5],c=l[6];if(0===t||0===s)e.push({key:</span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">,data:[n,o,i,c,i,c]}),n=i,o=c;else if(n!==i||o!==c){x(n,o,i,c,t,s,a,h,r).forEach((function(t){e.push({key:</span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">,data:t})})),n=i,o=c}break}case</span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">:e.push({key:</span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">,data:[]}),n=a,o=h}s=c}return e}function w(t,e,s){return[t*Math.cos(s)-e*Math.sin(s),t*Math.sin(s)+e*Math.cos(s)]}function x(t,e,s,n,o,a,h,r,i,c){const l=(u=h,Math.PI*u/180);var u;let p=[],f=0,d=0,g=0,M=0;if(c)[f,d,g,M]=c;else{[t,e]=w(t,e,-l),[s,n]=w(s,n,-l);const h=(t-s)/2,c=(e-n)/2;let u=h*h/(o*o)+c*c/(a*a);u&gt;1&amp;&amp;(u=Math.sqrt(u),o*=u,a*=u);const p=o*o,k=a*a,b=p*k-p*c*c-k*h*h,y=p*c*c+k*h*h,m=(r===i?-1:1)*Math.sqrt(Math.abs(b/y));g=m*o*c/a+(t+s)/2,M=m*-a*h/o+(e+n)/2,f=Math.asin(parseFloat(((e-M)/a).toFixed(9))),d=Math.asin(parseFloat(((n-M)/a).toFixed(9))),t&lt;g&amp;&amp;(f=Math.PI-f),s&lt;g&amp;&amp;(d=Math.PI-d),f&lt;0&amp;&amp;(f=2*Math.PI+f),d&lt;0&amp;&amp;(d=2*Math.PI+d),i&amp;&amp;f&gt;d&amp;&amp;(f-=2*Math.PI),!i&amp;&amp;d&gt;f&amp;&amp;(d-=2*Math.PI)}let k=d-f;if(Math.abs(k)&gt;120*Math.PI/180){const t=d,e=s,r=n;d=i&amp;&amp;d&gt;f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,p=x(s=g+o*Math.cos(d),n=M+a*Math.sin(d),e,r,o,a,h,0,i,[d,t,g,M])}k=d-f;const b=Math.cos(f),y=Math.sin(f),m=Math.cos(d),P=Math.sin(d),v=Math.tan(k/4),S=4/3*o*v,O=4/3*a*v,L=[t,e],T=[t+S*y,e-O*b],D=[s+S*P,n-O*m],A=[s,n];if(T[0]=2*L[0]-T[0],T[1]=2*L[1]-T[1],c)return[T,D,A].concat(p);{p=[T,D,A].concat(p);const t=[];for(let e=0;e&lt;p.length;e+=3){const s=w(p[e][0],p[e][1],l),n=w(p[e+1][0],p[e+1][1],l),o=w(p[e+2][0],p[e+2][1],l);t.push([s[0],s[1],n[0],n[1],o[0],o[1]])}return t}}const P={randOffset:function(t,e){return G(t,e)},randOffsetWithRange:function(t,e,s){return E(t,e,s)},ellipse:function(t,e,s,n,o){const a=T(s,n,o);return D(t,e,o,a).opset},doubleLineOps:function(t,e,s,n,o){return $(t,e,s,n,o,!0)}};function v(t,e,s,n,o){return{type:</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">,ops:$(t,e,s,n,o)}}function S(t,e,s){const n=(t||[]).length;if(n&gt;2){const o=[];for(let e=0;e&lt;n-1;e++)o.push(...$(t[e][0],t[e][1],t[e+1][0],t[e+1][1],s));return e&amp;&amp;o.push(...$(t[n-1][0],t[n-1][1],t[0][0],t[0][1],s)),{type:</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">,ops:o}}return 2===n?v(t[0][0],t[0][1],t[1][0],t[1][1],s):{type:</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">,ops:[]}}function O(t,e,s,n,o){return function(t,e){return S(t,!0,e)}([[t,e],[t+s,e],[t+s,e+n],[t,e+n]],o)}function L(t,e){if(t.length){const s=</span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">==typeof t[0][0]?[t]:t,n=j(s[0],1*(1+.2*e.roughness),e),o=e.disableMultiStroke?[]:j(s[0],1.5*(1+.22*e.roughness),z(e));for(let t=1;t&lt;s.length;t++){const a=s[t];if(a.length){const t=j(a,1*(1+.2*e.roughness),e),s=e.disableMultiStroke?[]:j(a,1.5*(1+.22*e.roughness),z(e));for(const e of t)</span><span class="s3">\&quot;</span><span class="s1">move</span><span class="s3">\&quot;</span><span class="s1">!==e.op&amp;&amp;n.push(e);for(const t of s)</span><span class="s3">\&quot;</span><span class="s1">move</span><span class="s3">\&quot;</span><span class="s1">!==t.op&amp;&amp;o.push(t)}}return{type:</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">,ops:n.concat(o)}}return{type:</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">,ops:[]}}function T(t,e,s){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),o=Math.ceil(Math.max(s.curveStepCount,s.curveStepCount/Math.sqrt(200)*n)),a=2*Math.PI/o;let h=Math.abs(t/2),r=Math.abs(e/2);const i=1-s.curveFitting;return h+=G(h*i,s),r+=G(r*i,s),{increment:a,rx:h,ry:r}}function D(t,e,s,n){const[o,a]=F(n.increment,t,e,n.rx,n.ry,1,n.increment*E(.1,E(.4,1,s),s),s);let h=q(o,null,s);if(!s.disableMultiStroke&amp;&amp;0!==s.roughness){const[o]=F(n.increment,t,e,n.rx,n.ry,1.5,0,s),a=q(o,null,s);h=h.concat(a)}return{estimatedPoints:a,opset:{type:</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">,ops:h}}}function A(t,e,s,n,o,a,h,r,i){const c=t,l=e;let u=Math.abs(s/2),p=Math.abs(n/2);u+=G(.01*u,i),p+=G(.01*p,i);let f=o,d=a;for(;f&lt;0;)f+=2*Math.PI,d+=2*Math.PI;d-f&gt;2*Math.PI&amp;&amp;(f=0,d=2*Math.PI);const g=2*Math.PI/i.curveStepCount,M=Math.min(g/2,(d-f)/2),k=V(M,c,l,u,p,f,d,1,i);if(!i.disableMultiStroke){const t=V(M,c,l,u,p,f,d,1.5,i);k.push(...t)}return h&amp;&amp;(r?k.push(...$(c,l,c+u*Math.cos(f),l+p*Math.sin(f),i),...$(c,l,c+u*Math.cos(d),l+p*Math.sin(d),i)):k.push({op:</span><span class="s3">\&quot;</span><span class="s1">lineTo</span><span class="s3">\&quot;</span><span class="s1">,data:[c,l]},{op:</span><span class="s3">\&quot;</span><span class="s1">lineTo</span><span class="s3">\&quot;</span><span class="s1">,data:[c+u*Math.cos(f),l+p*Math.sin(f)]})),{type:</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">,ops:k}}function _(t,e){const s=m(y(b(t))),n=[];let o=[0,0],a=[0,0];for(const{key:t,data:h}of s)switch(t){case</span><span class="s3">\&quot;</span><span class="s1">M</span><span class="s3">\&quot;</span><span class="s1">:a=[h[0],h[1]],o=[h[0],h[1]];break;case</span><span class="s3">\&quot;</span><span class="s1">L</span><span class="s3">\&quot;</span><span class="s1">:n.push(...$(a[0],a[1],h[0],h[1],e)),a=[h[0],h[1]];break;case</span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">:{const[t,s,o,r,i,c]=h;n.push(...Z(t,s,o,r,i,c,a,e)),a=[i,c];break}case</span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">:n.push(...$(a[0],a[1],o[0],o[1],e)),a=[o[0],o[1]]}return{type:</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">,ops:n}}function I(t,e){const s=[];for(const n of t)if(n.length){const t=e.maxRandomnessOffset||0,o=n.length;if(o&gt;2){s.push({op:</span><span class="s3">\&quot;</span><span class="s1">move</span><span class="s3">\&quot;</span><span class="s1">,data:[n[0][0]+G(t,e),n[0][1]+G(t,e)]});for(let a=1;a&lt;o;a++)s.push({op:</span><span class="s3">\&quot;</span><span class="s1">lineTo</span><span class="s3">\&quot;</span><span class="s1">,data:[n[a][0]+G(t,e),n[a][1]+G(t,e)]})}}return{type:</span><span class="s3">\&quot;</span><span class="s1">fillPath</span><span class="s3">\&quot;</span><span class="s1">,ops:s}}function C(t,e){return function(t,e){let s=t.fillStyle||</span><span class="s3">\&quot;</span><span class="s1">hachure</span><span class="s3">\&quot;</span><span class="s1">;if(!u[s])switch(s){case</span><span class="s3">\&quot;</span><span class="s1">zigzag</span><span class="s3">\&quot;</span><span class="s1">:u[s]||(u[s]=new h(e));break;case</span><span class="s3">\&quot;</span><span class="s1">cross-hatch</span><span class="s3">\&quot;</span><span class="s1">:u[s]||(u[s]=new r(e));break;case</span><span class="s3">\&quot;</span><span class="s1">dots</span><span class="s3">\&quot;</span><span class="s1">:u[s]||(u[s]=new i(e));break;case</span><span class="s3">\&quot;</span><span class="s1">dashed</span><span class="s3">\&quot;</span><span class="s1">:u[s]||(u[s]=new c(e));break;case</span><span class="s3">\&quot;</span><span class="s1">zigzag-line</span><span class="s3">\&quot;</span><span class="s1">:u[s]||(u[s]=new l(e));break;default:s=</span><span class="s3">\&quot;</span><span class="s1">hachure</span><span class="s3">\&quot;</span><span class="s1">,u[s]||(u[s]=new o(e))}return u[s]}(e,P).fillPolygons(t,e)}function z(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&amp;&amp;(e.seed=t.seed+1),e}function W(t){return t.randomizer||(t.randomizer=new p(t.seed||0)),t.randomizer.next()}function E(t,e,s,n=1){return s.roughness*n*(W(s)*(e-t)+t)}function G(t,e,s=1){return E(-t,t,e,s)}function $(t,e,s,n,o,a=!1){const h=a?o.disableMultiStrokeFill:o.disableMultiStroke,r=R(t,e,s,n,o,!0,!1);if(h)return r;const i=R(t,e,s,n,o,!0,!0);return r.concat(i)}function R(t,e,s,n,o,a,h){const r=Math.pow(t-s,2)+Math.pow(e-n,2),i=Math.sqrt(r);let c=1;c=i&lt;200?1:i&gt;500?.4:-.0016668*i+1.233334;let l=o.maxRandomnessOffset||0;l*l*100&gt;r&amp;&amp;(l=i/10);const u=l/2,p=.2+.2*W(o);let f=o.bowing*o.maxRandomnessOffset*(n-e)/200,d=o.bowing*o.maxRandomnessOffset*(t-s)/200;f=G(f,o,c),d=G(d,o,c);const g=[],M=()=&gt;G(u,o,c),k=()=&gt;G(l,o,c),b=o.preserveVertices;return a&amp;&amp;(h?g.push({op:</span><span class="s3">\&quot;</span><span class="s1">move</span><span class="s3">\&quot;</span><span class="s1">,data:[t+(b?0:M()),e+(b?0:M())]}):g.push({op:</span><span class="s3">\&quot;</span><span class="s1">move</span><span class="s3">\&quot;</span><span class="s1">,data:[t+(b?0:G(l,o,c)),e+(b?0:G(l,o,c))]})),h?g.push({op:</span><span class="s3">\&quot;</span><span class="s1">bcurveTo</span><span class="s3">\&quot;</span><span class="s1">,data:[f+t+(s-t)*p+M(),d+e+(n-e)*p+M(),f+t+2*(s-t)*p+M(),d+e+2*(n-e)*p+M(),s+(b?0:M()),n+(b?0:M())]}):g.push({op:</span><span class="s3">\&quot;</span><span class="s1">bcurveTo</span><span class="s3">\&quot;</span><span class="s1">,data:[f+t+(s-t)*p+k(),d+e+(n-e)*p+k(),f+t+2*(s-t)*p+k(),d+e+2*(n-e)*p+k(),s+(b?0:k()),n+(b?0:k())]}),g}function j(t,e,s){if(!t.length)return[];const n=[];n.push([t[0][0]+G(e,s),t[0][1]+G(e,s)]),n.push([t[0][0]+G(e,s),t[0][1]+G(e,s)]);for(let o=1;o&lt;t.length;o++)n.push([t[o][0]+G(e,s),t[o][1]+G(e,s)]),o===t.length-1&amp;&amp;n.push([t[o][0]+G(e,s),t[o][1]+G(e,s)]);return q(n,null,s)}function q(t,e,s){const n=t.length,o=[];if(n&gt;3){const a=[],h=1-s.curveTightness;o.push({op:</span><span class="s3">\&quot;</span><span class="s1">move</span><span class="s3">\&quot;</span><span class="s1">,data:[t[1][0],t[1][1]]});for(let e=1;e+2&lt;n;e++){const s=t[e];a[0]=[s[0],s[1]],a[1]=[s[0]+(h*t[e+1][0]-h*t[e-1][0])/6,s[1]+(h*t[e+1][1]-h*t[e-1][1])/6],a[2]=[t[e+1][0]+(h*t[e][0]-h*t[e+2][0])/6,t[e+1][1]+(h*t[e][1]-h*t[e+2][1])/6],a[3]=[t[e+1][0],t[e+1][1]],o.push({op:</span><span class="s3">\&quot;</span><span class="s1">bcurveTo</span><span class="s3">\&quot;</span><span class="s1">,data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(e&amp;&amp;2===e.length){const t=s.maxRandomnessOffset;o.push({op:</span><span class="s3">\&quot;</span><span class="s1">lineTo</span><span class="s3">\&quot;</span><span class="s1">,data:[e[0]+G(t,s),e[1]+G(t,s)]})}}else 3===n?(o.push({op:</span><span class="s3">\&quot;</span><span class="s1">move</span><span class="s3">\&quot;</span><span class="s1">,data:[t[1][0],t[1][1]]}),o.push({op:</span><span class="s3">\&quot;</span><span class="s1">bcurveTo</span><span class="s3">\&quot;</span><span class="s1">,data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===n&amp;&amp;o.push(...R(t[0][0],t[0][1],t[1][0],t[1][1],s,!0,!0));return o}function F(t,e,s,n,o,a,h,r){const i=[],c=[];if(0===r.roughness){t/=4,c.push([e+n*Math.cos(-t),s+o*Math.sin(-t)]);for(let a=0;a&lt;=2*Math.PI;a+=t){const t=[e+n*Math.cos(a),s+o*Math.sin(a)];i.push(t),c.push(t)}c.push([e+n*Math.cos(0),s+o*Math.sin(0)]),c.push([e+n*Math.cos(t),s+o*Math.sin(t)])}else{const l=G(.5,r)-Math.PI/2;c.push([G(a,r)+e+.9*n*Math.cos(l-t),G(a,r)+s+.9*o*Math.sin(l-t)]);const u=2*Math.PI+l-.01;for(let h=l;h&lt;u;h+=t){const t=[G(a,r)+e+n*Math.cos(h),G(a,r)+s+o*Math.sin(h)];i.push(t),c.push(t)}c.push([G(a,r)+e+n*Math.cos(l+2*Math.PI+.5*h),G(a,r)+s+o*Math.sin(l+2*Math.PI+.5*h)]),c.push([G(a,r)+e+.98*n*Math.cos(l+h),G(a,r)+s+.98*o*Math.sin(l+h)]),c.push([G(a,r)+e+.9*n*Math.cos(l+.5*h),G(a,r)+s+.9*o*Math.sin(l+.5*h)])}return[c,i]}function V(t,e,s,n,o,a,h,r,i){const c=a+G(.1,i),l=[];l.push([G(r,i)+e+.9*n*Math.cos(c-t),G(r,i)+s+.9*o*Math.sin(c-t)]);for(let a=c;a&lt;=h;a+=t)l.push([G(r,i)+e+n*Math.cos(a),G(r,i)+s+o*Math.sin(a)]);return l.push([e+n*Math.cos(h),s+o*Math.sin(h)]),l.push([e+n*Math.cos(h),s+o*Math.sin(h)]),q(l,null,i)}function Z(t,e,s,n,o,a,h,r){const i=[],c=[r.maxRandomnessOffset||1,(r.maxRandomnessOffset||1)+.3];let l=[0,0];const u=r.disableMultiStroke?1:2,p=r.preserveVertices;for(let f=0;f&lt;u;f++)0===f?i.push({op:</span><span class="s3">\&quot;</span><span class="s1">move</span><span class="s3">\&quot;</span><span class="s1">,data:[h[0],h[1]]}):i.push({op:</span><span class="s3">\&quot;</span><span class="s1">move</span><span class="s3">\&quot;</span><span class="s1">,data:[h[0]+(p?0:G(c[0],r)),h[1]+(p?0:G(c[0],r))]}),l=p?[o,a]:[o+G(c[f],r),a+G(c[f],r)],i.push({op:</span><span class="s3">\&quot;</span><span class="s1">bcurveTo</span><span class="s3">\&quot;</span><span class="s1">,data:[t+G(c[f],r),e+G(c[f],r),s+G(c[f],r),n+G(c[f],r),l[0],l[1]]});return i}function Q(t){return[...t]}function H(t,e=0){const s=t.length;if(s&lt;3)throw new Error(</span><span class="s3">\&quot;</span><span class="s1">A curve must have at least three points.</span><span class="s3">\&quot;</span><span class="s1">);const n=[];if(3===s)n.push(Q(t[0]),Q(t[1]),Q(t[2]),Q(t[2]));else{const s=[];s.push(t[0],t[0]);for(let e=1;e&lt;t.length;e++)s.push(t[e]),e===t.length-1&amp;&amp;s.push(t[e]);const o=[],a=1-e;n.push(Q(s[0]));for(let t=1;t+2&lt;s.length;t++){const e=s[t];o[0]=[e[0],e[1]],o[1]=[e[0]+(a*s[t+1][0]-a*s[t-1][0])/6,e[1]+(a*s[t+1][1]-a*s[t-1][1])/6],o[2]=[s[t+1][0]+(a*s[t][0]-a*s[t+2][0])/6,s[t+1][1]+(a*s[t][1]-a*s[t+2][1])/6],o[3]=[s[t+1][0],s[t+1][1]],n.push(o[1],o[2],o[3])}}return n}function N(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function B(t,e,s){const n=N(e,s);if(0===n)return N(t,e);let o=((t[0]-e[0])*(s[0]-e[0])+(t[1]-e[1])*(s[1]-e[1]))/n;return o=Math.max(0,Math.min(1,o)),N(t,J(e,s,o))}function J(t,e,s){return[t[0]+(e[0]-t[0])*s,t[1]+(e[1]-t[1])*s]}function K(t,e,s,n){const o=n||[];if(function(t,e){const s=t[e+0],n=t[e+1],o=t[e+2],a=t[e+3];let h=3*n[0]-2*s[0]-a[0];h*=h;let r=3*n[1]-2*s[1]-a[1];r*=r;let i=3*o[0]-2*a[0]-s[0];i*=i;let c=3*o[1]-2*a[1]-s[1];return c*=c,h&lt;i&amp;&amp;(h=i),r&lt;c&amp;&amp;(r=c),h+r}(t,e)&lt;s){const s=t[e+0];if(o.length){(a=o[o.length-1],h=s,Math.sqrt(N(a,h)))&gt;1&amp;&amp;o.push(s)}else o.push(s);o.push(t[e+3])}else{const n=.5,a=t[e+0],h=t[e+1],r=t[e+2],i=t[e+3],c=J(a,h,n),l=J(h,r,n),u=J(r,i,n),p=J(c,l,n),f=J(l,u,n),d=J(p,f,n);K([a,c,p,d],0,s,o),K([d,f,u,i],0,s,o)}var a,h;return o}function U(t,e){return X(t,0,t.length,e)}function X(t,e,s,n,o){const a=o||[],h=t[e],r=t[s-1];let i=0,c=1;for(let n=e+1;n&lt;s-1;++n){const e=B(t[n],h,r);e&gt;i&amp;&amp;(i=e,c=n)}return Math.sqrt(i)&gt;n?(X(t,e,c+1,n,a),X(t,c,s,n,a)):(a.length||a.push(h),a.push(r)),a}function Y(t,e=.15,s){const n=[],o=(t.length-1)/3;for(let s=0;s&lt;o;s++){K(t,3*s,e,n)}return s&amp;&amp;s&gt;0?X(n,0,n.length,s):n}const tt=</span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">;class et{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:</span><span class="s3">\&quot;</span><span class="s1">#000</span><span class="s3">\&quot;</span><span class="s1">,strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:</span><span class="s3">\&quot;</span><span class="s1">hachure</span><span class="s3">\&quot;</span><span class="s1">,fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&amp;&amp;(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,e,s){return{shape:t,sets:e||[],options:s||this.defaultOptions}}line(t,e,s,n,o){const a=this._o(o);return this._d(</span><span class="s3">\&quot;</span><span class="s1">line</span><span class="s3">\&quot;</span><span class="s1">,[v(t,e,s,n,a)],a)}rectangle(t,e,s,n,o){const a=this._o(o),h=[],r=O(t,e,s,n,a);if(a.fill){const o=[[t,e],[t+s,e],[t+s,e+n],[t,e+n]];</span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">===a.fillStyle?h.push(I([o],a)):h.push(C([o],a))}return a.stroke!==tt&amp;&amp;h.push(r),this._d(</span><span class="s3">\&quot;</span><span class="s1">rectangle</span><span class="s3">\&quot;</span><span class="s1">,h,a)}ellipse(t,e,s,n,o){const a=this._o(o),h=[],r=T(s,n,a),i=D(t,e,a,r);if(a.fill)if(</span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">===a.fillStyle){const s=D(t,e,a,r).opset;s.type=</span><span class="s3">\&quot;</span><span class="s1">fillPath</span><span class="s3">\&quot;</span><span class="s1">,h.push(s)}else h.push(C([i.estimatedPoints],a));return a.stroke!==tt&amp;&amp;h.push(i.opset),this._d(</span><span class="s3">\&quot;</span><span class="s1">ellipse</span><span class="s3">\&quot;</span><span class="s1">,h,a)}circle(t,e,s,n){const o=this.ellipse(t,e,s,s,n);return o.shape=</span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">,o}linearPath(t,e){const s=this._o(e);return this._d(</span><span class="s3">\&quot;</span><span class="s1">linearPath</span><span class="s3">\&quot;</span><span class="s1">,[S(t,!1,s)],s)}arc(t,e,s,n,o,a,h=!1,r){const i=this._o(r),c=[],l=A(t,e,s,n,o,a,h,!0,i);if(h&amp;&amp;i.fill)if(</span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">===i.fillStyle){const h=Object.assign({},i);h.disableMultiStroke=!0;const r=A(t,e,s,n,o,a,!0,!1,h);r.type=</span><span class="s3">\&quot;</span><span class="s1">fillPath</span><span class="s3">\&quot;</span><span class="s1">,c.push(r)}else c.push(function(t,e,s,n,o,a,h){const r=t,i=e;let c=Math.abs(s/2),l=Math.abs(n/2);c+=G(.01*c,h),l+=G(.01*l,h);let u=o,p=a;for(;u&lt;0;)u+=2*Math.PI,p+=2*Math.PI;p-u&gt;2*Math.PI&amp;&amp;(u=0,p=2*Math.PI);const f=(p-u)/h.curveStepCount,d=[];for(let t=u;t&lt;=p;t+=f)d.push([r+c*Math.cos(t),i+l*Math.sin(t)]);return d.push([r+c*Math.cos(p),i+l*Math.sin(p)]),d.push([r,i]),C([d],h)}(t,e,s,n,o,a,i));return i.stroke!==tt&amp;&amp;c.push(l),this._d(</span><span class="s3">\&quot;</span><span class="s1">arc</span><span class="s3">\&quot;</span><span class="s1">,c,i)}curve(t,e){const s=this._o(e),n=[],o=L(t,s);if(s.fill&amp;&amp;s.fill!==tt)if(</span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">===s.fillStyle){const e=L(t,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));n.push({type:</span><span class="s3">\&quot;</span><span class="s1">fillPath</span><span class="s3">\&quot;</span><span class="s1">,ops:this._mergedShape(e.ops)})}else{const e=[],o=t;if(o.length){const t=</span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">==typeof o[0][0]?[o]:o;for(const n of t)n.length&lt;3?e.push(...n):3===n.length?e.push(...Y(H([n[0],n[0],n[1],n[2]]),10,(1+s.roughness)/2)):e.push(...Y(H(n),10,(1+s.roughness)/2))}e.length&amp;&amp;n.push(C([e],s))}return s.stroke!==tt&amp;&amp;n.push(o),this._d(</span><span class="s3">\&quot;</span><span class="s1">curve</span><span class="s3">\&quot;</span><span class="s1">,n,s)}polygon(t,e){const s=this._o(e),n=[],o=S(t,!0,s);return s.fill&amp;&amp;(</span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">===s.fillStyle?n.push(I([t],s)):n.push(C([t],s))),s.stroke!==tt&amp;&amp;n.push(o),this._d(</span><span class="s3">\&quot;</span><span class="s1">polygon</span><span class="s3">\&quot;</span><span class="s1">,n,s)}path(t,e){const s=this._o(e),n=[];if(!t)return this._d(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">,n,s);t=(t||</span><span class="s3">\&quot;\&quot;</span><span class="s1">).replace(/</span><span class="s3">\\</span><span class="s1">n/g,</span><span class="s3">\&quot; \&quot;</span><span class="s1">).replace(/(-</span><span class="s3">\\</span><span class="s1">s)/g,</span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">).replace(</span><span class="s3">\&quot;</span><span class="s1">/(ss)/g</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot; \&quot;</span><span class="s1">);const o=s.fill&amp;&amp;</span><span class="s3">\&quot;</span><span class="s1">transparent</span><span class="s3">\&quot;</span><span class="s1">!==s.fill&amp;&amp;s.fill!==tt,a=s.stroke!==tt,h=!!(s.simplification&amp;&amp;s.simplification&lt;1),r=function(t,e,s){const n=m(y(b(t))),o=[];let a=[],h=[0,0],r=[];const i=()=&gt;{r.length&gt;=4&amp;&amp;a.push(...Y(r,e)),r=[]},c=()=&gt;{i(),a.length&amp;&amp;(o.push(a),a=[])};for(const{key:t,data:e}of n)switch(t){case</span><span class="s3">\&quot;</span><span class="s1">M</span><span class="s3">\&quot;</span><span class="s1">:c(),h=[e[0],e[1]],a.push(h);break;case</span><span class="s3">\&quot;</span><span class="s1">L</span><span class="s3">\&quot;</span><span class="s1">:i(),a.push([e[0],e[1]]);break;case</span><span class="s3">\&quot;</span><span class="s1">C</span><span class="s3">\&quot;</span><span class="s1">:if(!r.length){const t=a.length?a[a.length-1]:h;r.push([t[0],t[1]])}r.push([e[0],e[1]]),r.push([e[2],e[3]]),r.push([e[4],e[5]]);break;case</span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">:i(),a.push([h[0],h[1]])}if(c(),!s)return o;const l=[];for(const t of o){const e=U(t,s);e.length&amp;&amp;l.push(e)}return l}(t,1,h?4-4*(s.simplification||1):(1+s.roughness)/2),i=_(t,s);if(o)if(</span><span class="s3">\&quot;</span><span class="s1">solid</span><span class="s3">\&quot;</span><span class="s1">===s.fillStyle)if(1===r.length){const e=_(t,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));n.push({type:</span><span class="s3">\&quot;</span><span class="s1">fillPath</span><span class="s3">\&quot;</span><span class="s1">,ops:this._mergedShape(e.ops)})}else n.push(I(r,s));else n.push(C(r,s));return a&amp;&amp;(h?r.forEach((t=&gt;{n.push(S(t,!1,s))})):n.push(i)),this._d(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">,n,s)}opsToPath(t,e){let s=</span><span class="s3">\&quot;\&quot;</span><span class="s1">;for(const n of t.ops){const t=</span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">==typeof e&amp;&amp;e&gt;=0?n.data.map((t=&gt;+t.toFixed(e))):n.data;switch(n.op){case</span><span class="s3">\&quot;</span><span class="s1">move</span><span class="s3">\&quot;</span><span class="s1">:s+=`M${t[0]} ${t[1]} `;break;case</span><span class="s3">\&quot;</span><span class="s1">bcurveTo</span><span class="s3">\&quot;</span><span class="s1">:s+=`C${t[0]} ${t[1]}, ${t[2]} ${t[3]}, ${t[4]} ${t[5]} `;break;case</span><span class="s3">\&quot;</span><span class="s1">lineTo</span><span class="s3">\&quot;</span><span class="s1">:s+=`L${t[0]} ${t[1]} `}}return s.trim()}toPaths(t){const e=t.sets||[],s=t.options||this.defaultOptions,n=[];for(const t of e){let e=null;switch(t.type){case</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">:e={d:this.opsToPath(t),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:tt};break;case</span><span class="s3">\&quot;</span><span class="s1">fillPath</span><span class="s3">\&quot;</span><span class="s1">:e={d:this.opsToPath(t),stroke:tt,strokeWidth:0,fill:s.fill||tt};break;case</span><span class="s3">\&quot;</span><span class="s1">fillSketch</span><span class="s3">\&quot;</span><span class="s1">:e=this.fillSketch(t,s)}e&amp;&amp;n.push(e)}return n}fillSketch(t,e){let s=e.fillWeight;return s&lt;0&amp;&amp;(s=e.strokeWidth/2),{d:this.opsToPath(t),stroke:e.fill||tt,strokeWidth:s,fill:tt}}_mergedShape(t){return t.filter(((t,e)=&gt;0===e||</span><span class="s3">\&quot;</span><span class="s1">move</span><span class="s3">\&quot;</span><span class="s1">!==t.op))}}class st{constructor(t,e){this.canvas=t,this.ctx=this.canvas.getContext(</span><span class="s3">\&quot;</span><span class="s1">2d</span><span class="s3">\&quot;</span><span class="s1">),this.gen=new et(e)}draw(t){const e=t.sets||[],s=t.options||this.getDefaultOptions(),n=this.ctx,o=t.options.fixedDecimalPlaceDigits;for(const a of e)switch(a.type){case</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">:n.save(),n.strokeStyle=</span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">===s.stroke?</span><span class="s3">\&quot;</span><span class="s1">transparent</span><span class="s3">\&quot;</span><span class="s1">:s.stroke,n.lineWidth=s.strokeWidth,s.strokeLineDash&amp;&amp;n.setLineDash(s.strokeLineDash),s.strokeLineDashOffset&amp;&amp;(n.lineDashOffset=s.strokeLineDashOffset),this._drawToContext(n,a,o),n.restore();break;case</span><span class="s3">\&quot;</span><span class="s1">fillPath</span><span class="s3">\&quot;</span><span class="s1">:{n.save(),n.fillStyle=s.fill||</span><span class="s3">\&quot;\&quot;</span><span class="s1">;const e=</span><span class="s3">\&quot;</span><span class="s1">curve</span><span class="s3">\&quot;</span><span class="s1">===t.shape||</span><span class="s3">\&quot;</span><span class="s1">polygon</span><span class="s3">\&quot;</span><span class="s1">===t.shape||</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">===t.shape?</span><span class="s3">\&quot;</span><span class="s1">evenodd</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">nonzero</span><span class="s3">\&quot;</span><span class="s1">;this._drawToContext(n,a,o,e),n.restore();break}case</span><span class="s3">\&quot;</span><span class="s1">fillSketch</span><span class="s3">\&quot;</span><span class="s1">:this.fillSketch(n,a,s)}}fillSketch(t,e,s){let n=s.fillWeight;n&lt;0&amp;&amp;(n=s.strokeWidth/2),t.save(),s.fillLineDash&amp;&amp;t.setLineDash(s.fillLineDash),s.fillLineDashOffset&amp;&amp;(t.lineDashOffset=s.fillLineDashOffset),t.strokeStyle=s.fill||</span><span class="s3">\&quot;\&quot;</span><span class="s1">,t.lineWidth=n,this._drawToContext(t,e,s.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,e,s,n=</span><span class="s3">\&quot;</span><span class="s1">nonzero</span><span class="s3">\&quot;</span><span class="s1">){t.beginPath();for(const n of e.ops){const e=</span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">==typeof s&amp;&amp;s&gt;=0?n.data.map((t=&gt;+t.toFixed(s))):n.data;switch(n.op){case</span><span class="s3">\&quot;</span><span class="s1">move</span><span class="s3">\&quot;</span><span class="s1">:t.moveTo(e[0],e[1]);break;case</span><span class="s3">\&quot;</span><span class="s1">bcurveTo</span><span class="s3">\&quot;</span><span class="s1">:t.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5]);break;case</span><span class="s3">\&quot;</span><span class="s1">lineTo</span><span class="s3">\&quot;</span><span class="s1">:t.lineTo(e[0],e[1])}}</span><span class="s3">\&quot;</span><span class="s1">fillPath</span><span class="s3">\&quot;</span><span class="s1">===e.type?t.fill(n):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,e,s,n,o){const a=this.gen.line(t,e,s,n,o);return this.draw(a),a}rectangle(t,e,s,n,o){const a=this.gen.rectangle(t,e,s,n,o);return this.draw(a),a}ellipse(t,e,s,n,o){const a=this.gen.ellipse(t,e,s,n,o);return this.draw(a),a}circle(t,e,s,n){const o=this.gen.circle(t,e,s,n);return this.draw(o),o}linearPath(t,e){const s=this.gen.linearPath(t,e);return this.draw(s),s}polygon(t,e){const s=this.gen.polygon(t,e);return this.draw(s),s}arc(t,e,s,n,o,a,h=!1,r){const i=this.gen.arc(t,e,s,n,o,a,h,r);return this.draw(i),i}curve(t,e){const s=this.gen.curve(t,e);return this.draw(s),s}path(t,e){const s=this.gen.path(t,e);return this.draw(s),s}}const nt=</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;</span><span class="s1">;class ot{constructor(t,e){this.svg=t,this.gen=new et(e)}draw(t){const e=t.sets||[],s=t.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,o=n.createElementNS(nt,</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">),a=t.options.fixedDecimalPlaceDigits;for(const h of e){let e=null;switch(h.type){case</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">:e=n.createElementNS(nt,</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">),e.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">,this.opsToPath(h,a)),e.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">stroke</span><span class="s3">\&quot;</span><span class="s1">,s.stroke),e.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">stroke-width</span><span class="s3">\&quot;</span><span class="s1">,s.strokeWidth+</span><span class="s3">\&quot;\&quot;</span><span class="s1">),e.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">),s.strokeLineDash&amp;&amp;e.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">stroke-dasharray</span><span class="s3">\&quot;</span><span class="s1">,s.strokeLineDash.join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">).trim()),s.strokeLineDashOffset&amp;&amp;e.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">stroke-dashoffset</span><span class="s3">\&quot;</span><span class="s1">,`${s.strokeLineDashOffset}`);break;case</span><span class="s3">\&quot;</span><span class="s1">fillPath</span><span class="s3">\&quot;</span><span class="s1">:e=n.createElementNS(nt,</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">),e.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">,this.opsToPath(h,a)),e.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">stroke</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">),e.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">stroke-width</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">),e.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">,s.fill||</span><span class="s3">\&quot;\&quot;</span><span class="s1">),</span><span class="s3">\&quot;</span><span class="s1">curve</span><span class="s3">\&quot;</span><span class="s1">!==t.shape&amp;&amp;</span><span class="s3">\&quot;</span><span class="s1">polygon</span><span class="s3">\&quot;</span><span class="s1">!==t.shape||e.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">fill-rule</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">evenodd</span><span class="s3">\&quot;</span><span class="s1">);break;case</span><span class="s3">\&quot;</span><span class="s1">fillSketch</span><span class="s3">\&quot;</span><span class="s1">:e=this.fillSketch(n,h,s)}e&amp;&amp;o.appendChild(e)}return o}fillSketch(t,e,s){let n=s.fillWeight;n&lt;0&amp;&amp;(n=s.strokeWidth/2);const o=t.createElementNS(nt,</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">);return o.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">,this.opsToPath(e,s.fixedDecimalPlaceDigits)),o.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">stroke</span><span class="s3">\&quot;</span><span class="s1">,s.fill||</span><span class="s3">\&quot;\&quot;</span><span class="s1">),o.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">stroke-width</span><span class="s3">\&quot;</span><span class="s1">,n+</span><span class="s3">\&quot;\&quot;</span><span class="s1">),o.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">),s.fillLineDash&amp;&amp;o.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">stroke-dasharray</span><span class="s3">\&quot;</span><span class="s1">,s.fillLineDash.join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">).trim()),s.fillLineDashOffset&amp;&amp;o.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">stroke-dashoffset</span><span class="s3">\&quot;</span><span class="s1">,`${s.fillLineDashOffset}`),o}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,e){return this.gen.opsToPath(t,e)}line(t,e,s,n,o){const a=this.gen.line(t,e,s,n,o);return this.draw(a)}rectangle(t,e,s,n,o){const a=this.gen.rectangle(t,e,s,n,o);return this.draw(a)}ellipse(t,e,s,n,o){const a=this.gen.ellipse(t,e,s,n,o);return this.draw(a)}circle(t,e,s,n){const o=this.gen.circle(t,e,s,n);return this.draw(o)}linearPath(t,e){const s=this.gen.linearPath(t,e);return this.draw(s)}polygon(t,e){const s=this.gen.polygon(t,e);return this.draw(s)}arc(t,e,s,n,o,a,h=!1,r){const i=this.gen.arc(t,e,s,n,o,a,h,r);return this.draw(i)}curve(t,e){const s=this.gen.curve(t,e);return this.draw(s)}path(t,e){const s=this.gen.path(t,e);return this.draw(s)}}var at={canvas:(t,e)=&gt;new st(t,e),svg:(t,e)=&gt;new ot(t,e),generator:t=&gt;new et(t),newSeed:()=&gt;et.newSeed()};export{at as default};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export function dedent(templ) {</span><span class="s3">\n    </span><span class="s1">var values = [];</span><span class="s3">\n    </span><span class="s1">for (var _i = 1; _i &lt; arguments.length; _i++) {</span><span class="s3">\n        </span><span class="s1">values[_i - 1] = arguments[_i];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var strings = Array.from(typeof templ === 'string' ? [templ] : templ);</span><span class="s3">\n    </span><span class="s1">strings[strings.length - 1] = strings[strings.length - 1].replace(/</span><span class="s3">\\</span><span class="s1">r?</span><span class="s3">\\</span><span class="s1">n([</span><span class="s3">\\</span><span class="s1">t ]*)$/, '');</span><span class="s3">\n    </span><span class="s1">var indentLengths = strings.reduce(function (arr, str) {</span><span class="s3">\n        </span><span class="s1">var matches = str.match(/</span><span class="s3">\\</span><span class="s1">n([</span><span class="s3">\\</span><span class="s1">t ]+|(?!</span><span class="s3">\\</span><span class="s1">s).)/g);</span><span class="s3">\n        </span><span class="s1">if (matches) {</span><span class="s3">\n            </span><span class="s1">return arr.concat(matches.map(function (match) { var _a, _b; return (_b = (_a = match.match(/[</span><span class="s3">\\</span><span class="s1">t ]/g)) === null || _a === void 0 ? void 0 : _a.length) !== null &amp;&amp; _b !== void 0 ? _b : 0; }));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return arr;</span><span class="s3">\n    </span><span class="s1">}, []);</span><span class="s3">\n    </span><span class="s1">if (indentLengths.length) {</span><span class="s3">\n        </span><span class="s1">var pattern_1 = new RegExp(</span><span class="s3">\&quot;\\</span><span class="s1">n[</span><span class="s3">\\</span><span class="s1">t ]{</span><span class="s3">\&quot; </span><span class="s1">+ Math.min.apply(Math, indentLengths) + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, 'g');</span><span class="s3">\n        </span><span class="s1">strings = strings.map(function (str) { return str.replace(pattern_1, '</span><span class="s3">\\</span><span class="s1">n'); });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">strings[0] = strings[0].replace(/^</span><span class="s3">\\</span><span class="s1">r?</span><span class="s3">\\</span><span class="s1">n/, '');</span><span class="s3">\n    </span><span class="s1">var string = strings[0];</span><span class="s3">\n    </span><span class="s1">values.forEach(function (value, i) {</span><span class="s3">\n        </span><span class="s1">var endentations = string.match(/(?:^|</span><span class="s3">\\</span><span class="s1">n)( *)$/);</span><span class="s3">\n        </span><span class="s1">var endentation = endentations ? endentations[1] : '';</span><span class="s3">\n        </span><span class="s1">var indentedValue = value;</span><span class="s3">\n        </span><span class="s1">if (typeof value === 'string' &amp;&amp; value.includes('</span><span class="s3">\\</span><span class="s1">n')) {</span><span class="s3">\n            </span><span class="s1">indentedValue = String(value)</span><span class="s3">\n                </span><span class="s1">.split('</span><span class="s3">\\</span><span class="s1">n')</span><span class="s3">\n                </span><span class="s1">.map(function (str, i) {</span><span class="s3">\n                </span><span class="s1">return i === 0 ? str : </span><span class="s3">\&quot;\&quot; </span><span class="s1">+ endentation + str;</span><span class="s3">\n            </span><span class="s1">})</span><span class="s3">\n                </span><span class="s1">.join('</span><span class="s3">\\</span><span class="s1">n');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">string += indentedValue + strings[i + 1];</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">return string;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">export default dedent;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=index.js.map&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;sourceRoot&quot;</span><span class="s0">:</span><span class="s1">&quot;&quot;</span><span class="s0">}</span></pre>
</body>
</html>