<html>
<head>
<title>8579.c7018c2a6882feba7080.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
8579.c7018c2a6882feba7080.js.map</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;8579.c7018c2a6882feba7080.js?v=c7018c2a6882feba7080&quot;</span><span class="s0">,</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAC8G;AACO;AAClE;AACiB;AACI;AACf;AACR;AAC+F;AACjF;AACO;AACwF;AAChG;AACV;AACoB;AACzB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gCAAgC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,+DAAU,EAAE,gEAAW;AACtC;AACA,6BAA6B,uEAAW;AACxC,+BAA+B,UAAU;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,+DAAU;AACxB;AACA,6BAA6B,uEAAW;AACxC,+BAA+B,SAAS;AACxC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,6DAAU;AAClC;AACA,uBAAuB,QAAQ;AAC/B;AACA;AACA,yBAAyB,oDAAM,GAAG,MAAM;AACxC,QAAQ,yEAAW;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,qCAAqC,SAAS;AAC9C,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,4DAAO,EAAE,oEAAgB;AACxC,eAAe,yEAAgB;AAC/B;AACA,gBAAgB,wBAAwB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT,0BAA0B,gCAAgC;AAC1D,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,2DAAS;AACxB;AACA;AACA;AACA;AACA,qBAAqB,6DAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,oDAAM;AAC/B,kBAAkB,0DAAQ;AAC1B;AACA,sCAAsC,WAAW;AACjD,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gEAAW;AAC1B,eAAe,iEAAe;AAC9B;AACA;AACA,wBAAwB,6DAAU;AAClC;AACA;AACA;AACA,4BAA4B,yDAAM;AAClC,aAAa;AACb,SAAS;AACT,qBAAqB,6DAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,yDAAM;AACtC;AACA,aAAa;AACb,SAAS;AACT;AACA,8BAA8B,+CAA+C;AAC7E,8BAA8B,gDAAgD;AAC9E;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,+EAAmB;AACjC;AACA,eAAe,qFAAyB;AACxC,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,oEAAe;AAC7B;AACA,6BAA6B,uEAAW;AACxC,+BAA+B,UAAU;AACzC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,uEAAmB;AACjC;AACA,QAAQ,oEAAgB;AACxB,QAAQ,oEAAgB;AACxB,QAAQ,4DAAU;AAClB,QAAQ,mEAAe;AACvB,QAAQ,gEAAW;AACnB,QAAQ,+EAAmB;AAC3B;AACA;AACA,mFAAmF,mEAAc;AACjG,2GAA2G,qFAAyB;AACpI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,gBAAgB;AACrD;AACA,wCAAwC,6DAAU;AAClD;AACA,oCAAoC,yDAAM;AAC1C;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB,iBAAiB;AACjB,aAAa;AACb;AACA,mBAAmB,sEAAkB;AACrC,8BAA8B,6EAAyB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,0EAAc;AAC5B,eAAe,yEAAgB;AAC/B;AACA,mCAAmC,yEAAa;AAChD,+BAA+B,UAAU;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,+DAAa;AAC3B;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mEAAkB;AAC7C;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,+DAAU;AACxB;AACA,6BAA6B,uEAAW;AACxC,+BAA+B,WAAW;AAC1C;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,0EAAc;AAC7B;AACA;AACA;AACA,mCAAmC,6DAAY;AAC/C;AACA;AACA,qCAAqC,0DAAO;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,mEAAc;AACtD;AACA,qCAAqC,0DAAO;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,0EAAc,EAAE,gEAAW;AAC1C,eAAe,oEAAgB,EAAE,4DAAO,EAAE,wEAAsB;AAChE;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA,mCAAmC,oDAAM,GAAG,MAAM;AAClD;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iDAAiD,mEAAc;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,mBAAmB;AACnF,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,oEAAY;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,0DAAO;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,MAAM,GAAG,QAAQ;AACzD;AACA,qBAAqB;AACrB,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,0EAAc,EAAE,gEAAW;AAC1C,eAAe,yEAAgB,EAAE,iEAAe;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,8BAA8B,iDAAiD;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,0EAAc,EAAE,gEAAW;AAC1C,eAAe,2DAAS,EAAE,iEAAe;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,kDAAI,GAAG,wBAAwB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,qBAAqB;AAC5D;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,4EAAgB;AAC7D;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,4DAAO;AACtB,cAAc,oEAAe;AAC7B;AACA,gBAAgB,WAAW;AAC3B,wBAAwB,8DAAa;AACrC,6BAA6B,+DAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,yDAAM;AACpC;AACA;AACA;AACA;AACA;AACA,mCAAmC,eAAe,6DAAU,wBAAwB;AACpF,aAAa;AACb,SAAS;AACT,kCAAkC,uDAAuD;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,mEAAkB;AACtC;AACA,SAAS;AACT,iBAAiB;AACjB,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,4DAAO;AACtB,cAAc,qEAAgB;AAC9B;AACA;AACA,6BAA6B,6DAAU;AACvC,6BAA6B,yDAAM,MAAM,6DAAU,sCAAsC,yDAAM;AAC/F,wCAAwC,mBAAmB;AAC3D;AACA,gBAAgB,6DAAU;AAC1B;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,0EAAc,EAAE,gEAAW;AAC1C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gEAAW;AAC1B,eAAe,iEAAe,EAAE,0EAAc;AAC9C;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,8BAA8B,iDAAiD;AAC/E;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAe,OAAO,EAAC&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../packages/application-extension/lib/index.js&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { ILabStatus, IRouter, ITreePathUpdater, JupyterFrontEnd, JupyterLab, } from '@jupyterlab/application';</span><span class="s3">\n</span><span class="s1">import { DOMUtils, ICommandPalette, ISanitizer, ISplashScreen, IToolbarWidgetRegistry, } from '@jupyterlab/apputils';</span><span class="s3">\n</span><span class="s1">import { ConsolePanel } from '@jupyterlab/console';</span><span class="s3">\n</span><span class="s1">import { PageConfig, PathExt, URLExt } from '@jupyterlab/coreutils';</span><span class="s3">\n</span><span class="s1">import { IDocumentManager, renameDialog } from '@jupyterlab/docmanager';</span><span class="s3">\n</span><span class="s1">import { DocumentWidget } from '@jupyterlab/docregistry';</span><span class="s3">\n</span><span class="s1">import { IMainMenu } from '@jupyterlab/mainmenu';</span><span class="s3">\n</span><span class="s1">import { ILatexTypesetter, IMarkdownParser, IRenderMimeRegistry, RenderMimeRegistry, standardRendererFactories, } from '@jupyterlab/rendermime';</span><span class="s3">\n</span><span class="s1">import { ISettingRegistry } from '@jupyterlab/settingregistry';</span><span class="s3">\n</span><span class="s1">import { ITranslator, nullTranslator } from '@jupyterlab/translation';</span><span class="s3">\n</span><span class="s1">import { NotebookApp, NotebookShell, INotebookShell, SidePanelPalette, INotebookPathOpener, defaultNotebookPathOpener, } from '@jupyter-notebook/application';</span><span class="s3">\n</span><span class="s1">import { jupyterIcon } from '@jupyter-notebook/ui-components';</span><span class="s3">\n</span><span class="s1">import { PromiseDelegate } from '@lumino/coreutils';</span><span class="s3">\n</span><span class="s1">import { DisposableDelegate, DisposableSet, } from '@lumino/disposable';</span><span class="s3">\n</span><span class="s1">import { Menu, Widget } from '@lumino/widgets';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A regular expression to match path to notebooks and documents</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const TREE_PATTERN = new RegExp('/(notebooks|edit)/(.*)');</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A regular expression to suppress the file extension from display for .ipynb files.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const STRIP_IPYNB = /</span><span class="s3">\\</span><span class="s1">.ipynb$/;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The JupyterLab document manager plugin id.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const JUPYTERLAB_DOCMANAGER_PLUGIN_ID = '@jupyterlab/docmanager-extension:plugin';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The command IDs used by the application plugin.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var CommandIDs;</span><span class="s3">\n</span><span class="s1">(function (CommandIDs) {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Duplicate the current document and open the new document</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">CommandIDs.duplicate = 'application:duplicate';</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handle local links</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">CommandIDs.handleLink = 'application:handle-local-link';</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Toggle Top Bar visibility</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">CommandIDs.toggleTop = 'application:toggle-top';</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Toggle side panel visibility</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">CommandIDs.togglePanel = 'application:toggle-panel';</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Toggle the Zen mode</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">CommandIDs.toggleZen = 'application:toggle-zen';</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Open JupyterLab</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">CommandIDs.openLab = 'application:open-lab';</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Open the tree page.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">CommandIDs.openTree = 'application:open-tree';</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Rename the current document</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">CommandIDs.rename = 'application:rename';</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Resolve tree path</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">CommandIDs.resolveTree = 'application:resolve-tree';</span><span class="s3">\n</span><span class="s1">})(CommandIDs || (CommandIDs = {}));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Check if the application is dirty before closing the browser tab.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const dirty = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:dirty',</span><span class="s3">\n    </span><span class="s1">description: 'Check if the application is dirty before closing the browser tab.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">requires: [ILabStatus, ITranslator],</span><span class="s3">\n    </span><span class="s1">activate: (app, status, translator) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (!(app instanceof NotebookApp)) {</span><span class="s3">\n            </span><span class="s1">throw new Error(`${dirty.id} must be activated in Jupyter Notebook.`);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const trans = translator.load('notebook');</span><span class="s3">\n        </span><span class="s1">const message = trans.__('Are you sure you want to exit Jupyter Notebook?</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\\</span><span class="s1">nAny unsaved changes will be lost.');</span><span class="s3">\n        </span><span class="s1">window.addEventListener('beforeunload', (event) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (app.status.isDirty) {</span><span class="s3">\n                </span><span class="s1">return (event.returnValue = message);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The application info.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const info = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:info',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">provides: JupyterLab.IInfo,</span><span class="s3">\n    </span><span class="s1">activate: (app) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (!(app instanceof NotebookApp)) {</span><span class="s3">\n            </span><span class="s1">throw new Error(`${info.id} must be activated in Jupyter Notebook.`);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return app.info;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The logo plugin.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const logo = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:logo',</span><span class="s3">\n    </span><span class="s1">description: 'The logo plugin.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">activate: (app) =&gt; {</span><span class="s3">\n        </span><span class="s1">const baseUrl = PageConfig.getBaseUrl();</span><span class="s3">\n        </span><span class="s1">const node = document.createElement('a');</span><span class="s3">\n        </span><span class="s1">node.href = `${baseUrl}tree`;</span><span class="s3">\n        </span><span class="s1">node.target = '_blank';</span><span class="s3">\n        </span><span class="s1">node.rel = 'noopener noreferrer';</span><span class="s3">\n        </span><span class="s1">const logo = new Widget({ node });</span><span class="s3">\n        </span><span class="s1">jupyterIcon.element({</span><span class="s3">\n            </span><span class="s1">container: node,</span><span class="s3">\n            </span><span class="s1">elementPosition: 'center',</span><span class="s3">\n            </span><span class="s1">padding: '2px 2px 2px 8px',</span><span class="s3">\n            </span><span class="s1">height: '28px',</span><span class="s3">\n            </span><span class="s1">width: 'auto',</span><span class="s3">\n            </span><span class="s1">cursor: 'pointer',</span><span class="s3">\n            </span><span class="s1">margin: 'auto',</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">logo.id = 'jp-NotebookLogo';</span><span class="s3">\n        </span><span class="s1">app.shell.add(logo, 'top', { rank: 0 });</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A plugin to open documents in the main area.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const opener = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:opener',</span><span class="s3">\n    </span><span class="s1">description: 'A plugin to open documents in the main area.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">requires: [IRouter, IDocumentManager],</span><span class="s3">\n    </span><span class="s1">optional: [ISettingRegistry],</span><span class="s3">\n    </span><span class="s1">activate: (app, router, docManager, settingRegistry) =&gt; {</span><span class="s3">\n        </span><span class="s1">const { commands, docRegistry } = app;</span><span class="s3">\n        </span><span class="s1">const command = 'router:tree';</span><span class="s3">\n        </span><span class="s1">commands.addCommand(command, {</span><span class="s3">\n            </span><span class="s1">execute: (args) =&gt; {</span><span class="s3">\n                </span><span class="s1">var _a;</span><span class="s3">\n                </span><span class="s1">const parsed = args;</span><span class="s3">\n                </span><span class="s1">const matches = (_a = parsed.path.match(TREE_PATTERN)) !== null &amp;&amp; _a !== void 0 ? _a : [];</span><span class="s3">\n                </span><span class="s1">const [, , path] = matches;</span><span class="s3">\n                </span><span class="s1">if (!path) {</span><span class="s3">\n                    </span><span class="s1">return;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">app.started.then(async () =&gt; {</span><span class="s3">\n                    </span><span class="s1">var _a;</span><span class="s3">\n                    </span><span class="s1">const file = decodeURIComponent(path);</span><span class="s3">\n                    </span><span class="s1">const urlParams = new URLSearchParams(parsed.search);</span><span class="s3">\n                    </span><span class="s1">let defaultFactory = docRegistry.defaultWidgetFactory(path).name;</span><span class="s3">\n                    </span><span class="s1">// Explicitly get the default viewers from the settings because</span><span class="s3">\n                    </span><span class="s1">// JupyterLab might not have had the time to load the settings yet (race condition)</span><span class="s3">\n                    </span><span class="s1">// Relevant code: https://github.com/jupyterlab/jupyterlab/blob/d56ff811f39b3c10c6d8b6eb27a94624b753eb53/packages/docmanager-extension/src/index.tsx#L265-L293</span><span class="s3">\n                    </span><span class="s1">if (settingRegistry) {</span><span class="s3">\n                        </span><span class="s1">const settings = await settingRegistry.load(JUPYTERLAB_DOCMANAGER_PLUGIN_ID);</span><span class="s3">\n                        </span><span class="s1">const defaultViewers = settings.get('defaultViewers').composite;</span><span class="s3">\n                        </span><span class="s1">// get the file types for the path</span><span class="s3">\n                        </span><span class="s1">const types = docRegistry.getFileTypesForPath(path);</span><span class="s3">\n                        </span><span class="s1">// for each file type, check if there is a default viewer and if it</span><span class="s3">\n                        </span><span class="s1">// is available in the docRegistry. If it is the case, use it as the</span><span class="s3">\n                        </span><span class="s1">// default factory</span><span class="s3">\n                        </span><span class="s1">types.forEach((ft) =&gt; {</span><span class="s3">\n                            </span><span class="s1">if (defaultViewers[ft.name] !== undefined &amp;&amp;</span><span class="s3">\n                                </span><span class="s1">docRegistry.getWidgetFactory(defaultViewers[ft.name])) {</span><span class="s3">\n                                </span><span class="s1">defaultFactory = defaultViewers[ft.name];</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">});</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">const factory = (_a = urlParams.get('factory')) !== null &amp;&amp; _a !== void 0 ? _a : defaultFactory;</span><span class="s3">\n                    </span><span class="s1">docManager.open(file, factory, undefined, {</span><span class="s3">\n                        </span><span class="s1">ref: '_noref',</span><span class="s3">\n                    </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">router.register({ command, pattern: TREE_PATTERN });</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A plugin to customize menus</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const menus = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:menus',</span><span class="s3">\n    </span><span class="s1">description: 'A plugin to customize menus.',</span><span class="s3">\n    </span><span class="s1">requires: [IMainMenu],</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">activate: (app, menu) =&gt; {</span><span class="s3">\n        </span><span class="s1">// always disable the Tabs menu</span><span class="s3">\n        </span><span class="s1">menu.tabsMenu.dispose();</span><span class="s3">\n        </span><span class="s1">const page = PageConfig.getOption('notebookPage');</span><span class="s3">\n        </span><span class="s1">switch (page) {</span><span class="s3">\n            </span><span class="s1">case 'consoles':</span><span class="s3">\n            </span><span class="s1">case 'terminals':</span><span class="s3">\n            </span><span class="s1">case 'tree':</span><span class="s3">\n                </span><span class="s1">menu.editMenu.dispose();</span><span class="s3">\n                </span><span class="s1">menu.kernelMenu.dispose();</span><span class="s3">\n                </span><span class="s1">menu.runMenu.dispose();</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'edit':</span><span class="s3">\n                </span><span class="s1">menu.kernelMenu.dispose();</span><span class="s3">\n                </span><span class="s1">menu.runMenu.dispose();</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">default:</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A plugin to provide a spacer at rank 900 in the menu area</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const menuSpacer = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:menu-spacer',</span><span class="s3">\n    </span><span class="s1">description: 'A plugin to provide a spacer at rank 900 in the menu area.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">activate: (app) =&gt; {</span><span class="s3">\n        </span><span class="s1">const menu = new Widget();</span><span class="s3">\n        </span><span class="s1">menu.id = DOMUtils.createDomID();</span><span class="s3">\n        </span><span class="s1">menu.addClass('jp-NotebookSpacer');</span><span class="s3">\n        </span><span class="s1">app.shell.add(menu, 'menu', { rank: 900 });</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Add commands to open the tree and running pages.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const pages = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:pages',</span><span class="s3">\n    </span><span class="s1">description: 'Add commands to open the tree and running pages.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">requires: [ITranslator],</span><span class="s3">\n    </span><span class="s1">optional: [ICommandPalette],</span><span class="s3">\n    </span><span class="s1">activate: (app, translator, palette) =&gt; {</span><span class="s3">\n        </span><span class="s1">const trans = translator.load('notebook');</span><span class="s3">\n        </span><span class="s1">const baseUrl = PageConfig.getBaseUrl();</span><span class="s3">\n        </span><span class="s1">app.commands.addCommand(CommandIDs.openLab, {</span><span class="s3">\n            </span><span class="s1">label: trans.__('Open JupyterLab'),</span><span class="s3">\n            </span><span class="s1">execute: () =&gt; {</span><span class="s3">\n                </span><span class="s1">window.open(URLExt.join(baseUrl, 'lab'));</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">const page = PageConfig.getOption('notebookPage');</span><span class="s3">\n        </span><span class="s1">app.commands.addCommand(CommandIDs.openTree, {</span><span class="s3">\n            </span><span class="s1">label: trans.__('File Browser'),</span><span class="s3">\n            </span><span class="s1">execute: () =&gt; {</span><span class="s3">\n                </span><span class="s1">if (page === 'tree') {</span><span class="s3">\n                    </span><span class="s1">app.commands.execute('filebrowser:activate');</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">window.open(URLExt.join(baseUrl, 'tree'));</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">if (palette) {</span><span class="s3">\n            </span><span class="s1">palette.addItem({ command: CommandIDs.openLab, category: 'View' });</span><span class="s3">\n            </span><span class="s1">palette.addItem({ command: CommandIDs.openTree, category: 'View' });</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A plugin to open paths in new browser tabs.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const pathOpener = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:path-opener',</span><span class="s3">\n    </span><span class="s1">description: 'A plugin to open paths in new browser tabs.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">provides: INotebookPathOpener,</span><span class="s3">\n    </span><span class="s1">activate: (app) =&gt; {</span><span class="s3">\n        </span><span class="s1">return defaultNotebookPathOpener;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The default paths for a Jupyter Notebook app.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const paths = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:paths',</span><span class="s3">\n    </span><span class="s1">description: 'The default paths for a Jupyter Notebook app.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">provides: JupyterFrontEnd.IPaths,</span><span class="s3">\n    </span><span class="s1">activate: (app) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (!(app instanceof NotebookApp)) {</span><span class="s3">\n            </span><span class="s1">throw new Error(`${paths.id} must be activated in Jupyter Notebook.`);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return app.paths;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A plugin providing a rendermime registry.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const rendermime = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:rendermime',</span><span class="s3">\n    </span><span class="s1">description: 'A plugin providing a rendermime registry.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">provides: IRenderMimeRegistry,</span><span class="s3">\n    </span><span class="s1">optional: [</span><span class="s3">\n        </span><span class="s1">IDocumentManager,</span><span class="s3">\n        </span><span class="s1">ILatexTypesetter,</span><span class="s3">\n        </span><span class="s1">ISanitizer,</span><span class="s3">\n        </span><span class="s1">IMarkdownParser,</span><span class="s3">\n        </span><span class="s1">ITranslator,</span><span class="s3">\n        </span><span class="s1">INotebookPathOpener,</span><span class="s3">\n    </span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">activate: (app, docManager, latexTypesetter, sanitizer, markdownParser, translator, notebookPathOpener) =&gt; {</span><span class="s3">\n        </span><span class="s1">const trans = (translator !== null &amp;&amp; translator !== void 0 ? translator : nullTranslator).load('jupyterlab');</span><span class="s3">\n        </span><span class="s1">const opener = notebookPathOpener !== null &amp;&amp; notebookPathOpener !== void 0 ? notebookPathOpener : defaultNotebookPathOpener;</span><span class="s3">\n        </span><span class="s1">if (docManager) {</span><span class="s3">\n            </span><span class="s1">app.commands.addCommand(CommandIDs.handleLink, {</span><span class="s3">\n                </span><span class="s1">label: trans.__('Handle Local Link'),</span><span class="s3">\n                </span><span class="s1">execute: (args) =&gt; {</span><span class="s3">\n                    </span><span class="s1">const path = args['path'];</span><span class="s3">\n                    </span><span class="s1">if (path === undefined || path === null) {</span><span class="s3">\n                        </span><span class="s1">return;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return docManager.services.contents</span><span class="s3">\n                        </span><span class="s1">.get(path, { content: false })</span><span class="s3">\n                        </span><span class="s1">.then((model) =&gt; {</span><span class="s3">\n                        </span><span class="s1">const baseUrl = PageConfig.getBaseUrl();</span><span class="s3">\n                        </span><span class="s1">opener.open({</span><span class="s3">\n                            </span><span class="s1">prefix: URLExt.join(baseUrl, 'tree'),</span><span class="s3">\n                            </span><span class="s1">path: model.path,</span><span class="s3">\n                            </span><span class="s1">target: '_blank',</span><span class="s3">\n                        </span><span class="s1">});</span><span class="s3">\n                    </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return new RenderMimeRegistry({</span><span class="s3">\n            </span><span class="s1">initialFactories: standardRendererFactories,</span><span class="s3">\n            </span><span class="s1">linkHandler: !docManager</span><span class="s3">\n                </span><span class="s1">? undefined</span><span class="s3">\n                </span><span class="s1">: {</span><span class="s3">\n                    </span><span class="s1">handleLink: (node, path, id) =&gt; {</span><span class="s3">\n                        </span><span class="s1">// If node has the download attribute explicitly set, use the</span><span class="s3">\n                        </span><span class="s1">// default browser downloading behavior.</span><span class="s3">\n                        </span><span class="s1">if (node.tagName === 'A' &amp;&amp; node.hasAttribute('download')) {</span><span class="s3">\n                            </span><span class="s1">return;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">app.commandLinker.connectNode(node, CommandIDs.handleLink, {</span><span class="s3">\n                            </span><span class="s1">path,</span><span class="s3">\n                            </span><span class="s1">id,</span><span class="s3">\n                        </span><span class="s1">});</span><span class="s3">\n                    </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">latexTypesetter: latexTypesetter !== null &amp;&amp; latexTypesetter !== void 0 ? latexTypesetter : undefined,</span><span class="s3">\n            </span><span class="s1">markdownParser: markdownParser !== null &amp;&amp; markdownParser !== void 0 ? markdownParser : undefined,</span><span class="s3">\n            </span><span class="s1">translator: translator !== null &amp;&amp; translator !== void 0 ? translator : undefined,</span><span class="s3">\n            </span><span class="s1">sanitizer: sanitizer !== null &amp;&amp; sanitizer !== void 0 ? sanitizer : undefined,</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The default Jupyter Notebook application shell.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const shell = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:shell',</span><span class="s3">\n    </span><span class="s1">description: 'The default Jupyter Notebook application shell.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">provides: INotebookShell,</span><span class="s3">\n    </span><span class="s1">optional: [ISettingRegistry],</span><span class="s3">\n    </span><span class="s1">activate: (app, settingRegistry) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (!(app.shell instanceof NotebookShell)) {</span><span class="s3">\n            </span><span class="s1">throw new Error(`${shell.id} did not find a NotebookShell instance.`);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const notebookShell = app.shell;</span><span class="s3">\n        </span><span class="s1">if (settingRegistry) {</span><span class="s3">\n            </span><span class="s1">settingRegistry</span><span class="s3">\n                </span><span class="s1">.load(shell.id)</span><span class="s3">\n                </span><span class="s1">.then((settings) =&gt; {</span><span class="s3">\n                </span><span class="s1">// Add a layer of customization to support app shell mode</span><span class="s3">\n                </span><span class="s1">const customLayout = settings.composite['layout'];</span><span class="s3">\n                </span><span class="s1">// Restore the layout.</span><span class="s3">\n                </span><span class="s1">void notebookShell.restoreLayout(customLayout);</span><span class="s3">\n            </span><span class="s1">})</span><span class="s3">\n                </span><span class="s1">.catch((reason) =&gt; {</span><span class="s3">\n                </span><span class="s1">console.error('Fail to load settings for the layout restorer.');</span><span class="s3">\n                </span><span class="s1">console.error(reason);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return notebookShell;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The default splash screen provider.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const splash = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:splash',</span><span class="s3">\n    </span><span class="s1">description: 'Provides an empty splash screen.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">provides: ISplashScreen,</span><span class="s3">\n    </span><span class="s1">activate: (app) =&gt; {</span><span class="s3">\n        </span><span class="s1">const { restored } = app;</span><span class="s3">\n        </span><span class="s1">const splash = document.createElement('div');</span><span class="s3">\n        </span><span class="s1">splash.style.position = 'absolute';</span><span class="s3">\n        </span><span class="s1">splash.style.width = '100%';</span><span class="s3">\n        </span><span class="s1">splash.style.height = '100%';</span><span class="s3">\n        </span><span class="s1">splash.style.zIndex = '10';</span><span class="s3">\n        </span><span class="s1">return {</span><span class="s3">\n            </span><span class="s1">show: (light = true) =&gt; {</span><span class="s3">\n                </span><span class="s1">splash.style.backgroundColor = light ? 'white' : '#111111';</span><span class="s3">\n                </span><span class="s1">document.body.appendChild(splash);</span><span class="s3">\n                </span><span class="s1">return new DisposableDelegate(async () =&gt; {</span><span class="s3">\n                    </span><span class="s1">await restored;</span><span class="s3">\n                    </span><span class="s1">document.body.removeChild(splash);</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The default JupyterLab application status provider.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const status = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:status',</span><span class="s3">\n    </span><span class="s1">description: 'The default JupyterLab application status provider.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">provides: ILabStatus,</span><span class="s3">\n    </span><span class="s1">activate: (app) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (!(app instanceof NotebookApp)) {</span><span class="s3">\n            </span><span class="s1">throw new Error(`${status.id} must be activated in Jupyter Notebook.`);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return app.status;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A plugin to display the document title in the browser tab title</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const tabTitle = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:tab-title',</span><span class="s3">\n    </span><span class="s1">description: 'A plugin to display the document title in the browser tab title.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">requires: [INotebookShell],</span><span class="s3">\n    </span><span class="s1">activate: (app, shell) =&gt; {</span><span class="s3">\n        </span><span class="s1">const setTabTitle = () =&gt; {</span><span class="s3">\n            </span><span class="s1">const current = shell.currentWidget;</span><span class="s3">\n            </span><span class="s1">if (current instanceof ConsolePanel) {</span><span class="s3">\n                </span><span class="s1">const update = () =&gt; {</span><span class="s3">\n                    </span><span class="s1">const title = current.sessionContext.path || current.sessionContext.name;</span><span class="s3">\n                    </span><span class="s1">const basename = PathExt.basename(title);</span><span class="s3">\n                    </span><span class="s1">// Strip the </span><span class="s3">\&quot;</span><span class="s1">.ipynb</span><span class="s3">\&quot; </span><span class="s1">suffix from filenames for display in tab titles.</span><span class="s3">\n                    </span><span class="s1">document.title = basename.replace(STRIP_IPYNB, '');</span><span class="s3">\n                </span><span class="s1">};</span><span class="s3">\n                </span><span class="s1">current.sessionContext.sessionChanged.connect(update);</span><span class="s3">\n                </span><span class="s1">update();</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (current instanceof DocumentWidget) {</span><span class="s3">\n                </span><span class="s1">const update = () =&gt; {</span><span class="s3">\n                    </span><span class="s1">const basename = PathExt.basename(current.context.path);</span><span class="s3">\n                    </span><span class="s1">document.title = basename.replace(STRIP_IPYNB, '');</span><span class="s3">\n                </span><span class="s1">};</span><span class="s3">\n                </span><span class="s1">current.context.pathChanged.connect(update);</span><span class="s3">\n                </span><span class="s1">update();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">shell.currentChanged.connect(setTabTitle);</span><span class="s3">\n        </span><span class="s1">setTabTitle();</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A plugin to display and rename the title of a file</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const title = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:title',</span><span class="s3">\n    </span><span class="s1">description: 'A plugin to display and rename the title of a file.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">requires: [INotebookShell, ITranslator],</span><span class="s3">\n    </span><span class="s1">optional: [IDocumentManager, IRouter, IToolbarWidgetRegistry],</span><span class="s3">\n    </span><span class="s1">activate: (app, shell, translator, docManager, router, toolbarRegistry) =&gt; {</span><span class="s3">\n        </span><span class="s1">const { commands } = app;</span><span class="s3">\n        </span><span class="s1">const trans = translator.load('notebook');</span><span class="s3">\n        </span><span class="s1">const node = document.createElement('div');</span><span class="s3">\n        </span><span class="s1">if (toolbarRegistry) {</span><span class="s3">\n            </span><span class="s1">toolbarRegistry.addFactory('TopBar', 'widgetTitle', (toolbar) =&gt; {</span><span class="s3">\n                </span><span class="s1">const widget = new Widget({ node });</span><span class="s3">\n                </span><span class="s1">widget.id = 'jp-title';</span><span class="s3">\n                </span><span class="s1">return widget;</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const addTitle = async () =&gt; {</span><span class="s3">\n            </span><span class="s1">const current = shell.currentWidget;</span><span class="s3">\n            </span><span class="s1">if (!current || !(current instanceof DocumentWidget)) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (node.children.length &gt; 0) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const h = document.createElement('h1');</span><span class="s3">\n            </span><span class="s1">h.textContent = current.title.label.replace(STRIP_IPYNB, '');</span><span class="s3">\n            </span><span class="s1">node.appendChild(h);</span><span class="s3">\n            </span><span class="s1">node.style.marginLeft = '10px';</span><span class="s3">\n            </span><span class="s1">if (!docManager) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const isEnabled = () =&gt; {</span><span class="s3">\n                </span><span class="s1">const { currentWidget } = shell;</span><span class="s3">\n                </span><span class="s1">return !!(currentWidget &amp;&amp; docManager.contextForWidget(currentWidget));</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n            </span><span class="s1">commands.addCommand(CommandIDs.duplicate, {</span><span class="s3">\n                </span><span class="s1">label: () =&gt; trans.__('Duplicate'),</span><span class="s3">\n                </span><span class="s1">isEnabled,</span><span class="s3">\n                </span><span class="s1">execute: async () =&gt; {</span><span class="s3">\n                    </span><span class="s1">if (!isEnabled()) {</span><span class="s3">\n                        </span><span class="s1">return;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">// Duplicate the file, and open the new file.</span><span class="s3">\n                    </span><span class="s1">const result = await docManager.duplicate(current.context.path);</span><span class="s3">\n                    </span><span class="s1">await commands.execute('docmanager:open', { path: result.path });</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">commands.addCommand(CommandIDs.rename, {</span><span class="s3">\n                </span><span class="s1">label: () =&gt; trans.__('Rename…'),</span><span class="s3">\n                </span><span class="s1">isEnabled,</span><span class="s3">\n                </span><span class="s1">execute: async () =&gt; {</span><span class="s3">\n                    </span><span class="s1">var _a;</span><span class="s3">\n                    </span><span class="s1">if (!isEnabled()) {</span><span class="s3">\n                        </span><span class="s1">return;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">const result = await renameDialog(docManager, current.context);</span><span class="s3">\n                    </span><span class="s1">// activate the current widget to bring the focus</span><span class="s3">\n                    </span><span class="s1">if (current) {</span><span class="s3">\n                        </span><span class="s1">current.activate();</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">if (result === null) {</span><span class="s3">\n                        </span><span class="s1">return;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">const newPath = current.context.path;</span><span class="s3">\n                    </span><span class="s1">const basename = PathExt.basename(newPath);</span><span class="s3">\n                    </span><span class="s1">h.textContent = basename.replace(STRIP_IPYNB, '');</span><span class="s3">\n                    </span><span class="s1">if (!router) {</span><span class="s3">\n                        </span><span class="s1">return;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">const matches = (_a = router.current.path.match(TREE_PATTERN)) !== null &amp;&amp; _a !== void 0 ? _a : [];</span><span class="s3">\n                    </span><span class="s1">const [, route, path] = matches;</span><span class="s3">\n                    </span><span class="s1">if (!route || !path) {</span><span class="s3">\n                        </span><span class="s1">return;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">const encoded = encodeURIComponent(newPath);</span><span class="s3">\n                    </span><span class="s1">router.navigate(`/${route}/${encoded}`, {</span><span class="s3">\n                        </span><span class="s1">skipRouting: true,</span><span class="s3">\n                    </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">node.onclick = async () =&gt; {</span><span class="s3">\n                </span><span class="s1">void commands.execute(CommandIDs.rename);</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">shell.currentChanged.connect(addTitle);</span><span class="s3">\n        </span><span class="s1">void addTitle();</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Plugin to toggle the top header visibility.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const topVisibility = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:top',</span><span class="s3">\n    </span><span class="s1">description: 'Plugin to toggle the top header visibility.',</span><span class="s3">\n    </span><span class="s1">requires: [INotebookShell, ITranslator],</span><span class="s3">\n    </span><span class="s1">optional: [ISettingRegistry, ICommandPalette],</span><span class="s3">\n    </span><span class="s1">activate: (app, notebookShell, translator, settingRegistry, palette) =&gt; {</span><span class="s3">\n        </span><span class="s1">const trans = translator.load('notebook');</span><span class="s3">\n        </span><span class="s1">const top = notebookShell.top;</span><span class="s3">\n        </span><span class="s1">const pluginId = topVisibility.id;</span><span class="s3">\n        </span><span class="s1">app.commands.addCommand(CommandIDs.toggleTop, {</span><span class="s3">\n            </span><span class="s1">label: trans.__('Show Header'),</span><span class="s3">\n            </span><span class="s1">execute: () =&gt; {</span><span class="s3">\n                </span><span class="s1">top.setHidden(top.isVisible);</span><span class="s3">\n                </span><span class="s1">if (settingRegistry) {</span><span class="s3">\n                    </span><span class="s1">void settingRegistry.set(pluginId, 'visible', top.isVisible ? 'yes' : 'no');</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">isToggled: () =&gt; top.isVisible,</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">let adjustToScreen = false;</span><span class="s3">\n        </span><span class="s1">if (settingRegistry) {</span><span class="s3">\n            </span><span class="s1">const loadSettings = settingRegistry.load(pluginId);</span><span class="s3">\n            </span><span class="s1">const updateSettings = (settings) =&gt; {</span><span class="s3">\n                </span><span class="s1">// 'visible' property from user preferences or default settings</span><span class="s3">\n                </span><span class="s1">let visible = settings.get('visible').composite;</span><span class="s3">\n                </span><span class="s1">if (settings.user.visible !== undefined) {</span><span class="s3">\n                    </span><span class="s1">visible = settings.user.visible;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">top.setHidden(visible === 'no');</span><span class="s3">\n                </span><span class="s1">// adjust to screen from user preferences or default settings</span><span class="s3">\n                </span><span class="s1">adjustToScreen = visible === 'automatic';</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n            </span><span class="s1">Promise.all([loadSettings, app.restored])</span><span class="s3">\n                </span><span class="s1">.then(([settings]) =&gt; {</span><span class="s3">\n                </span><span class="s1">updateSettings(settings);</span><span class="s3">\n                </span><span class="s1">settings.changed.connect((settings) =&gt; {</span><span class="s3">\n                    </span><span class="s1">updateSettings(settings);</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">})</span><span class="s3">\n                </span><span class="s1">.catch((reason) =&gt; {</span><span class="s3">\n                </span><span class="s1">console.error(reason.message);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (palette) {</span><span class="s3">\n            </span><span class="s1">palette.addItem({ command: CommandIDs.toggleTop, category: 'View' });</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const onChanged = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!adjustToScreen) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (app.format === 'desktop') {</span><span class="s3">\n                </span><span class="s1">notebookShell.expandTop();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">notebookShell.collapseTop();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">// listen on format change (mobile and desktop) to make the view more compact</span><span class="s3">\n        </span><span class="s1">app.formatChanged.connect(onChanged);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Plugin to toggle the left or right side panel's visibility.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const sidePanelVisibility = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:sidepanel',</span><span class="s3">\n    </span><span class="s1">description: 'Plugin to toggle the visibility of left or right side panel.',</span><span class="s3">\n    </span><span class="s1">requires: [INotebookShell, ITranslator],</span><span class="s3">\n    </span><span class="s1">optional: [IMainMenu, ICommandPalette],</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">activate: (app, notebookShell, translator, menu, palette) =&gt; {</span><span class="s3">\n        </span><span class="s1">const trans = translator.load('notebook');</span><span class="s3">\n        </span><span class="s1">/* Arguments for togglePanel command:</span><span class="s3">\n         </span><span class="s1">* side, left or right area</span><span class="s3">\n         </span><span class="s1">* title, widget title to show in the menu</span><span class="s3">\n         </span><span class="s1">* id, widget ID to activate in the side panel</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">app.commands.addCommand(CommandIDs.togglePanel, {</span><span class="s3">\n            </span><span class="s1">label: (args) =&gt; args['title'],</span><span class="s3">\n            </span><span class="s1">caption: (args) =&gt; {</span><span class="s3">\n                </span><span class="s1">// We do not substitute the parameter into the string because the parameter is not</span><span class="s3">\n                </span><span class="s1">// localized (e.g., it is always 'left') even though the string is localized.</span><span class="s3">\n                </span><span class="s1">if (args['side'] === 'left') {</span><span class="s3">\n                    </span><span class="s1">return trans.__('Show %1 in the left sidebar', args['title']);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (args['side'] === 'right') {</span><span class="s3">\n                    </span><span class="s1">return trans.__('Show %1 in the right sidebar', args['title']);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return trans.__('Show %1 in the sidebar', args['title']);</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">execute: (args) =&gt; {</span><span class="s3">\n                </span><span class="s1">var _a, _b;</span><span class="s3">\n                </span><span class="s1">switch (args['side']) {</span><span class="s3">\n                    </span><span class="s1">case 'left':</span><span class="s3">\n                        </span><span class="s1">if (notebookShell.leftCollapsed) {</span><span class="s3">\n                            </span><span class="s1">notebookShell.expandLeft(args.id);</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else if (((_a = notebookShell.leftHandler.currentWidget) === null || _a === void 0 ? void 0 : _a.id) !== args.id) {</span><span class="s3">\n                            </span><span class="s1">notebookShell.expandLeft(args.id);</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else {</span><span class="s3">\n                            </span><span class="s1">notebookShell.collapseLeft();</span><span class="s3">\n                            </span><span class="s1">if (notebookShell.currentWidget) {</span><span class="s3">\n                                </span><span class="s1">notebookShell.activateById(notebookShell.currentWidget.id);</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">break;</span><span class="s3">\n                    </span><span class="s1">case 'right':</span><span class="s3">\n                        </span><span class="s1">if (notebookShell.rightCollapsed) {</span><span class="s3">\n                            </span><span class="s1">notebookShell.expandRight(args.id);</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else if (((_b = notebookShell.rightHandler.currentWidget) === null || _b === void 0 ? void 0 : _b.id) !== args.id) {</span><span class="s3">\n                            </span><span class="s1">notebookShell.expandRight(args.id);</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else {</span><span class="s3">\n                            </span><span class="s1">notebookShell.collapseRight();</span><span class="s3">\n                            </span><span class="s1">if (notebookShell.currentWidget) {</span><span class="s3">\n                                </span><span class="s1">notebookShell.activateById(notebookShell.currentWidget.id);</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">isToggled: (args) =&gt; {</span><span class="s3">\n                </span><span class="s1">switch (args['side']) {</span><span class="s3">\n                    </span><span class="s1">case 'left': {</span><span class="s3">\n                        </span><span class="s1">if (notebookShell.leftCollapsed) {</span><span class="s3">\n                            </span><span class="s1">return false;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">const currentWidget = notebookShell.leftHandler.currentWidget;</span><span class="s3">\n                        </span><span class="s1">if (!currentWidget) {</span><span class="s3">\n                            </span><span class="s1">return false;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">return currentWidget.id === args['id'];</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">case 'right': {</span><span class="s3">\n                        </span><span class="s1">if (notebookShell.rightCollapsed) {</span><span class="s3">\n                            </span><span class="s1">return false;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">const currentWidget = notebookShell.rightHandler.currentWidget;</span><span class="s3">\n                        </span><span class="s1">if (!currentWidget) {</span><span class="s3">\n                            </span><span class="s1">return false;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">return currentWidget.id === args['id'];</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return false;</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">const sidePanelMenu = {</span><span class="s3">\n            </span><span class="s1">left: null,</span><span class="s3">\n            </span><span class="s1">right: null,</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The function which adds entries to the View menu for each widget of a side panel.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @param area - 'left' or 'right', the area of the side panel.</span><span class="s3">\n         </span><span class="s1">* @param entryLabel - the name of the main entry in the View menu for that side panel.</span><span class="s3">\n         </span><span class="s1">* @returns - The disposable menu added to the View menu or null.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">const updateMenu = (area, entryLabel) =&gt; {</span><span class="s3">\n            </span><span class="s1">var _a;</span><span class="s3">\n            </span><span class="s1">if (menu === null) {</span><span class="s3">\n                </span><span class="s1">return null;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">// Remove the previous menu entry for this side panel.</span><span class="s3">\n            </span><span class="s1">(_a = sidePanelMenu[area]) === null || _a === void 0 ? void 0 : _a.dispose();</span><span class="s3">\n            </span><span class="s1">// Creates a new menu entry and populates it with side panel widgets.</span><span class="s3">\n            </span><span class="s1">const newMenu = new Menu({ commands: app.commands });</span><span class="s3">\n            </span><span class="s1">newMenu.title.label = entryLabel;</span><span class="s3">\n            </span><span class="s1">const widgets = notebookShell.widgets(area);</span><span class="s3">\n            </span><span class="s1">let menuToAdd = false;</span><span class="s3">\n            </span><span class="s1">for (const widget of widgets) {</span><span class="s3">\n                </span><span class="s1">newMenu.addItem({</span><span class="s3">\n                    </span><span class="s1">command: CommandIDs.togglePanel,</span><span class="s3">\n                    </span><span class="s1">args: {</span><span class="s3">\n                        </span><span class="s1">side: area,</span><span class="s3">\n                        </span><span class="s1">title: `Show ${widget.title.caption}`,</span><span class="s3">\n                        </span><span class="s1">id: widget.id,</span><span class="s3">\n                    </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">menuToAdd = true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">// If there are widgets, add the menu to the main menu entry.</span><span class="s3">\n            </span><span class="s1">if (menuToAdd) {</span><span class="s3">\n                </span><span class="s1">sidePanelMenu[area] = menu.viewMenu.addItem({</span><span class="s3">\n                    </span><span class="s1">type: 'submenu',</span><span class="s3">\n                    </span><span class="s1">submenu: newMenu,</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">app.restored.then(() =&gt; {</span><span class="s3">\n            </span><span class="s1">// Create menu entries for the left and right panel.</span><span class="s3">\n            </span><span class="s1">if (menu) {</span><span class="s3">\n                </span><span class="s1">const getSidePanelLabel = (area) =&gt; {</span><span class="s3">\n                    </span><span class="s1">if (area === 'left') {</span><span class="s3">\n                        </span><span class="s1">return trans.__('Left Sidebar');</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">return trans.__('Right Sidebar');</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">};</span><span class="s3">\n                </span><span class="s1">const leftArea = notebookShell.leftHandler.area;</span><span class="s3">\n                </span><span class="s1">const leftLabel = getSidePanelLabel(leftArea);</span><span class="s3">\n                </span><span class="s1">updateMenu(leftArea, leftLabel);</span><span class="s3">\n                </span><span class="s1">const rightArea = notebookShell.rightHandler.area;</span><span class="s3">\n                </span><span class="s1">const rightLabel = getSidePanelLabel(rightArea);</span><span class="s3">\n                </span><span class="s1">updateMenu(rightArea, rightLabel);</span><span class="s3">\n                </span><span class="s1">const handleSidePanelChange = (sidePanel, widget) =&gt; {</span><span class="s3">\n                    </span><span class="s1">const label = getSidePanelLabel(sidePanel.area);</span><span class="s3">\n                    </span><span class="s1">updateMenu(sidePanel.area, label);</span><span class="s3">\n                </span><span class="s1">};</span><span class="s3">\n                </span><span class="s1">notebookShell.leftHandler.widgetAdded.connect(handleSidePanelChange);</span><span class="s3">\n                </span><span class="s1">notebookShell.leftHandler.widgetRemoved.connect(handleSidePanelChange);</span><span class="s3">\n                </span><span class="s1">notebookShell.rightHandler.widgetAdded.connect(handleSidePanelChange);</span><span class="s3">\n                </span><span class="s1">notebookShell.rightHandler.widgetRemoved.connect(handleSidePanelChange);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">// Add palette entries for side panels.</span><span class="s3">\n            </span><span class="s1">if (palette) {</span><span class="s3">\n                </span><span class="s1">const sidePanelPalette = new SidePanelPalette({</span><span class="s3">\n                    </span><span class="s1">commandPalette: palette,</span><span class="s3">\n                    </span><span class="s1">command: CommandIDs.togglePanel,</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">notebookShell.leftHandler.widgets.forEach((widget) =&gt; {</span><span class="s3">\n                    </span><span class="s1">sidePanelPalette.addItem(widget, notebookShell.leftHandler.area);</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">notebookShell.rightHandler.widgets.forEach((widget) =&gt; {</span><span class="s3">\n                    </span><span class="s1">sidePanelPalette.addItem(widget, notebookShell.rightHandler.area);</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">// Update menu and palette when widgets are added or removed from side panels.</span><span class="s3">\n                </span><span class="s1">notebookShell.leftHandler.widgetAdded.connect((sidePanel, widget) =&gt; {</span><span class="s3">\n                    </span><span class="s1">sidePanelPalette.addItem(widget, sidePanel.area);</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">notebookShell.leftHandler.widgetRemoved.connect((sidePanel, widget) =&gt; {</span><span class="s3">\n                    </span><span class="s1">sidePanelPalette.removeItem(widget, sidePanel.area);</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">notebookShell.rightHandler.widgetAdded.connect((sidePanel, widget) =&gt; {</span><span class="s3">\n                    </span><span class="s1">sidePanelPalette.addItem(widget, sidePanel.area);</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">notebookShell.rightHandler.widgetRemoved.connect((sidePanel, widget) =&gt; {</span><span class="s3">\n                    </span><span class="s1">sidePanelPalette.removeItem(widget, sidePanel.area);</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The default tree route resolver plugin.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const tree = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:tree-resolver',</span><span class="s3">\n    </span><span class="s1">description: 'The default tree route resolver plugin.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">requires: [IRouter],</span><span class="s3">\n    </span><span class="s1">provides: JupyterFrontEnd.ITreeResolver,</span><span class="s3">\n    </span><span class="s1">activate: (app, router) =&gt; {</span><span class="s3">\n        </span><span class="s1">const { commands } = app;</span><span class="s3">\n        </span><span class="s1">const set = new DisposableSet();</span><span class="s3">\n        </span><span class="s1">const delegate = new PromiseDelegate();</span><span class="s3">\n        </span><span class="s1">const treePattern = new RegExp('/(/tree/.*)?');</span><span class="s3">\n        </span><span class="s1">set.add(commands.addCommand(CommandIDs.resolveTree, {</span><span class="s3">\n            </span><span class="s1">execute: (async (args) =&gt; {</span><span class="s3">\n                </span><span class="s1">var _a;</span><span class="s3">\n                </span><span class="s1">if (set.isDisposed) {</span><span class="s3">\n                    </span><span class="s1">return;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">const query = URLExt.queryStringToObject((_a = args.search) !== null &amp;&amp; _a !== void 0 ? _a : '');</span><span class="s3">\n                </span><span class="s1">const browser = query['file-browser-path'] || '';</span><span class="s3">\n                </span><span class="s1">// Remove the file browser path from the query string.</span><span class="s3">\n                </span><span class="s1">delete query['file-browser-path'];</span><span class="s3">\n                </span><span class="s1">// Clean up artifacts immediately upon routing.</span><span class="s3">\n                </span><span class="s1">set.dispose();</span><span class="s3">\n                </span><span class="s1">delegate.resolve({ browser, file: PageConfig.getOption('treePath') });</span><span class="s3">\n            </span><span class="s1">}),</span><span class="s3">\n        </span><span class="s1">}));</span><span class="s3">\n        </span><span class="s1">set.add(router.register({ command: CommandIDs.resolveTree, pattern: treePattern }));</span><span class="s3">\n        </span><span class="s1">// If a route is handled by the router without the tree command being</span><span class="s3">\n        </span><span class="s1">// invoked, resolve to `null` and clean up artifacts.</span><span class="s3">\n        </span><span class="s1">const listener = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (set.isDisposed) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">set.dispose();</span><span class="s3">\n            </span><span class="s1">delegate.resolve(null);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">router.routed.connect(listener);</span><span class="s3">\n        </span><span class="s1">set.add(new DisposableDelegate(() =&gt; {</span><span class="s3">\n            </span><span class="s1">router.routed.disconnect(listener);</span><span class="s3">\n        </span><span class="s1">}));</span><span class="s3">\n        </span><span class="s1">return { paths: delegate.promise };</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Plugin to update tree path.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const treePathUpdater = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:tree-updater',</span><span class="s3">\n    </span><span class="s1">description: 'Plugin to update tree path.',</span><span class="s3">\n    </span><span class="s1">requires: [IRouter],</span><span class="s3">\n    </span><span class="s1">provides: ITreePathUpdater,</span><span class="s3">\n    </span><span class="s1">activate: (app, router) =&gt; {</span><span class="s3">\n        </span><span class="s1">function updateTreePath(treePath) {</span><span class="s3">\n            </span><span class="s1">if (treePath !== PageConfig.getOption('treePath')) {</span><span class="s3">\n                </span><span class="s1">const path = URLExt.join(PageConfig.getOption('baseUrl') || '/', 'tree', URLExt.encodeParts(treePath));</span><span class="s3">\n                </span><span class="s1">router.navigate(path, { skipRouting: true });</span><span class="s3">\n                </span><span class="s1">// Persist the new tree path to PageConfig as it is used elsewhere at runtime.</span><span class="s3">\n                </span><span class="s1">PageConfig.setOption('treePath', treePath);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return updateTreePath;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Translator plugin</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const translator = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:translator',</span><span class="s3">\n    </span><span class="s1">description: 'Translator plugin',</span><span class="s3">\n    </span><span class="s1">requires: [INotebookShell, ITranslator],</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">activate: (app, notebookShell, translator) =&gt; {</span><span class="s3">\n        </span><span class="s1">notebookShell.translator = translator;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Zen mode plugin</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const zen = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/application-extension:zen',</span><span class="s3">\n    </span><span class="s1">description: 'Zen mode plugin.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">requires: [ITranslator],</span><span class="s3">\n    </span><span class="s1">optional: [ICommandPalette, INotebookShell],</span><span class="s3">\n    </span><span class="s1">activate: (app, translator, palette, notebookShell) =&gt; {</span><span class="s3">\n        </span><span class="s1">const { commands } = app;</span><span class="s3">\n        </span><span class="s1">const elem = document.documentElement;</span><span class="s3">\n        </span><span class="s1">const trans = translator.load('notebook');</span><span class="s3">\n        </span><span class="s1">const toggleOn = () =&gt; {</span><span class="s3">\n            </span><span class="s1">notebookShell === null || notebookShell === void 0 ? void 0 : notebookShell.collapseTop();</span><span class="s3">\n            </span><span class="s1">notebookShell === null || notebookShell === void 0 ? void 0 : notebookShell.menu.setHidden(true);</span><span class="s3">\n            </span><span class="s1">zenModeEnabled = true;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">const toggleOff = () =&gt; {</span><span class="s3">\n            </span><span class="s1">notebookShell === null || notebookShell === void 0 ? void 0 : notebookShell.expandTop();</span><span class="s3">\n            </span><span class="s1">notebookShell === null || notebookShell === void 0 ? void 0 : notebookShell.menu.setHidden(false);</span><span class="s3">\n            </span><span class="s1">zenModeEnabled = false;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">let zenModeEnabled = false;</span><span class="s3">\n        </span><span class="s1">commands.addCommand(CommandIDs.toggleZen, {</span><span class="s3">\n            </span><span class="s1">label: trans.__('Toggle Zen Mode'),</span><span class="s3">\n            </span><span class="s1">execute: () =&gt; {</span><span class="s3">\n                </span><span class="s1">if (!zenModeEnabled) {</span><span class="s3">\n                    </span><span class="s1">elem.requestFullscreen();</span><span class="s3">\n                    </span><span class="s1">toggleOn();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">document.exitFullscreen();</span><span class="s3">\n                    </span><span class="s1">toggleOff();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">document.addEventListener('fullscreenchange', () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!document.fullscreenElement) {</span><span class="s3">\n                </span><span class="s1">toggleOff();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">if (palette) {</span><span class="s3">\n            </span><span class="s1">palette.addItem({ command: CommandIDs.toggleZen, category: 'Mode' });</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Export the plugins as default.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const plugins = [</span><span class="s3">\n    </span><span class="s1">dirty,</span><span class="s3">\n    </span><span class="s1">info,</span><span class="s3">\n    </span><span class="s1">logo,</span><span class="s3">\n    </span><span class="s1">menus,</span><span class="s3">\n    </span><span class="s1">menuSpacer,</span><span class="s3">\n    </span><span class="s1">opener,</span><span class="s3">\n    </span><span class="s1">pages,</span><span class="s3">\n    </span><span class="s1">pathOpener,</span><span class="s3">\n    </span><span class="s1">paths,</span><span class="s3">\n    </span><span class="s1">rendermime,</span><span class="s3">\n    </span><span class="s1">shell,</span><span class="s3">\n    </span><span class="s1">sidePanelVisibility,</span><span class="s3">\n    </span><span class="s1">splash,</span><span class="s3">\n    </span><span class="s1">status,</span><span class="s3">\n    </span><span class="s1">tabTitle,</span><span class="s3">\n    </span><span class="s1">title,</span><span class="s3">\n    </span><span class="s1">topVisibility,</span><span class="s3">\n    </span><span class="s1">tree,</span><span class="s3">\n    </span><span class="s1">treePathUpdater,</span><span class="s3">\n    </span><span class="s1">translator,</span><span class="s3">\n    </span><span class="s1">zen,</span><span class="s3">\n</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">export default plugins;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;sourceRoot&quot;</span><span class="s0">:</span><span class="s1">&quot;&quot;</span><span class="s0">}</span></pre>
</body>
</html>