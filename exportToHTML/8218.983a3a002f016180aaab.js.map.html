<html>
<head>
<title>8218.983a3a002f016180aaab.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
8218.983a3a002f016180aaab.js.map</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;8218.983a3a002f016180aaab.js?v=983a3a002f016180aaab&quot;</span><span class="s0">,</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;;;;;;;AAG8B;AAGA;AAIA;AAaA;;AAE9B;AACA;AACA,0BAA0B,qEAAM;AAChC,sBAAsB,gBAAgB,KAAK;AAC3C;AACA,GAAG;AACH;AACA,2BAA2B,qEAAM;AACjC,KAAK;AACL,UAAU;AACV,gBAAgB,q2BAAq2B,wGAAwG;AAC79B,kBAAkB,wqBAAwqB,2EAA2E;AACrwB;AACA,mCAAmC,qEAAM;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB,8CAA8C;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,KAAK;AACL,cAAc,8BAA8B,IAAI,QAAQ,IAAI,8BAA8B,IAAI,8BAA8B,0GAA0G,MAAM,KAAK,WAAW,IAAI,WAAW,IAAI,6QAA6Q,oBAAoB,4OAA4O,sGAAsG,0BAA0B,sBAAsB,aAAa,oBAAoB,aAAa,KAAK,aAAa,wEAAwE,+CAA+C,qBAAqB,aAAa,IAAI,aAAa,qBAAqB,0BAA0B,IAAI,aAAa,IAAI,aAAa,oBAAoB,aAAa,qBAAqB,aAAa,0GAA0G,0BAA0B,iCAAiC,OAAO,KAAK,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,sCAAsC,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,oBAAoB,aAAa,KAAK,+QAA+Q,oBAAoB,aAAa,KAAK,aAAa,IAAI,aAAa,wJAAwJ,OAAO,uCAAuC,+QAA+Q;AACxgF,sBAAsB,gDAAgD;AACtE,gCAAgC,qEAAM;AACtC;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,KAAK;AACL,2BAA2B,qEAAM;AACjC;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,qEAAM;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,qEAAM;AACZ,iEAAiE;AACjE;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,kCAAkC,qEAAM;AACxC;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA,gCAAgC,qEAAM;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,6BAA6B,qEAAM;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,6BAA6B,qEAAM;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,4BAA4B,qEAAM;AAClC;AACA;AACA,OAAO;AACP;AACA,8BAA8B,qEAAM;AACpC;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,OAAO;AACP;AACA,4BAA4B,qEAAM;AAClC;AACA,OAAO;AACP;AACA,iCAAiC,qEAAM;AACvC;AACA;AACA,OAAO;AACP;AACA,qCAAqC,qEAAM;AAC3C;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,oCAAoC,qEAAM;AAC1C;AACA;AACA;AACA,OAAO;AACP;AACA,kCAAkC,qEAAM;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,4BAA4B,qEAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;AACA,2BAA2B,qEAAM;AACjC;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA,6BAA6B,qEAAM;AACnC;AACA,OAAO;AACP;AACA,gCAAgC,qEAAM;AACtC;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA,qCAAqC,qEAAM;AAC3C;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP,4DAA4D;AAC5D,gCAAgC,qEAAM;AACtC;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA,iCAAiC,qEAAM;AACvC;AACA,OAAO;AACP;AACA,sCAAsC,qEAAM;AAC5C;AACA,OAAO;AACP,iBAAiB,0BAA0B;AAC3C,qCAAqC,qEAAM;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,6KAA6K,qBAAqB,4QAA4Q,gBAAgB,eAAe,0jBAA0jB,gDAAgD,0BAA0B,iBAAiB,mBAAmB,2LAA2L,0JAA0J,sBAAsB;AAChgD,oBAAoB,UAAU,sCAAsC,cAAc,0GAA0G,wBAAwB,mCAAmC,qBAAqB,2CAA2C,iBAAiB,uCAAuC,eAAe,mCAAmC,YAAY,2CAA2C,0BAA0B,iCAAiC,uBAAuB,mCAAmC,iBAAiB,iCAAiC,aAAa,mCAAmC,mBAAmB,mCAAmC,aAAa,mCAAmC,kBAAkB,mCAAmC,gBAAgB,uCAAuC,2BAA2B,uCAAuC,iBAAiB,mCAAmC,iBAAiB,mCAAmC,aAAa,+CAA+C,aAAa,iCAAiC,gBAAgB,mCAAmC,oBAAoB,uCAAuC,kBAAkB,iCAAiC,aAAa,kFAAkF,UAAU,sCAAsC,eAAe;AACp9C;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE,qEAAM;AACR;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,YAAY,GAAG,UAAU;AACpD;AACA;AACA;AACA,4BAA4B,UAAU,EAAE,cAAc;AACtD,0BAA0B,YAAY,GAAG,SAAS;AAClD;AACA,6BAA6B,YAAY,GAAG,YAAY;AACxD;AACA,iCAAiC,YAAY,GAAG,gBAAgB;AAChE;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB,EAAE,KAAK;AAC1C,mBAAmB,kBAAkB,EAAE,OAAO;;AAE9C;AACA,6BAA6B,qEAAM;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,iCAAiC,qEAAM;AACvC;AACA,CAAC;AACD,2BAA2B,qEAAM;AACjC,EAAE,8DAAG;AACL,EAAE,8DAAG;AACL,UAAU,qCAAqC,EAAE,yEAAS;AAC1D;AACA;AACA,cAAc,+EAAiB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,qEAAM;AACd;AACA,EAAE,wEAAa;AACf;AACA;AACA;AACA;AACA;AACA,EAAE,iFAAmB;AACrB,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wDAAwD,WAAW,EAAE,KAAK;AAC1E,YAAY,YAAY,GAAG,OAAO,EAAE,QAAQ,GAAG,QAAQ;AACvD;AACA,qEAAM;AACN,+BAA+B,qEAAM;AACrC,EAAE,8DAAG;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,yEAAc,gCAAgC,yEAAS;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD,8BAA8B,qEAAM;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN;AACA;AACA;AACA,qEAAM;AACN,kCAAkC,qEAAM;AACxC;AACA;AACA;AACA;AACA,EAAE,8DAAG;AACL;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,yEAAc,sBAAsB,yEAAS;AAClE,uBAAuB,UAAU,EAAE,kBAAkB;AACrD;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,4BAA4B,yEAAc,0CAA0C,yEAAS;AAC7F;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,MAAM,8DAAG;AACT;AACA;AACA;AACA;AACA,8BAA8B,oBAAoB,EAAE,qBAAqB,EAAE,uCAAuC;AAClH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,8DAAG;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,yEAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI,8DAAG;AACP;AACA;AACA,CAAC;AACD,4BAA4B,qEAAM;AAClC;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAM;AACN,6BAA6B,qEAAM;AACnC;AACA,iBAAiB,iDAAiD,IAAI;AACtE;AACA;AACA;AACA;AACA,CAAC;AACD,4BAA4B,qEAAM;AAClC;AACA;AACA,IAAI,qEAAM;AACV;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,8DAAG;AACP;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,qBAAqB;AACzC;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,yEAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,YAAY,IAAI,+BAA+B;AACxE,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI,8DAAG;AACP;AACA,IAAI,8DAAG;AACP;AACA,MAAM,8DAAG;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,mBAAmB,yEAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa,eAAe;AAC5B,aAAa,eAAe;AAC5B,aAAa,eAAe;AAC5B,aAAa,0BAA0B;AACvC,aAAa,eAAe;AAC5B,aAAa,0BAA0B;AACvC,aAAa,0BAA0B;AACvC,aAAa,0BAA0B;AACvC;AACA;AACA;AACA;AACA,MAAM,8DAAG;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,8DAAG;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,yEAAc,8BAA8B,yEAAS;AAC5E;AACA;AACA,MAAM,8DAAG;AACT;AACA;AACA;AACA;AACA,MAAM,8DAAG;AACT;AACA;AACA;AACA;AACA,MAAM,8DAAG;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,oEAAK;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,8DAAG;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,WAAW,EAAE,mBAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS,EAAE,mBAAmB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,yEAAc,6BAA6B,yEAAS;AACzE,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa,iBAAiB;AAC9B,aAAa,iBAAiB;AAC9B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yEAAc,qBAAqB,yEAAS;AAC3D,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,+BAA+B,yEAAc,sBAAsB,yEAAS;AAC5E;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc,eAAe;AAC7B;AACA;AACA;AACA,6BAA6B,gCAAgC;AAC7D;AACA;AACA;AACA;AACA,gDAAgD,IAAI;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,gBAAgB,aAAa;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,6BAA6B,kCAAkC;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,yEAAS;AAC5B;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,WAAW,yEAAS;AACpB;AACA,gBAAgB,sEAAW;AAC3B,gBAAgB,sEAAW;AAC3B,sBAAsB,4EAAiB;AACvC,sBAAsB,4EAAiB;AACvC,oBAAoB,0EAAe;AACnC,oBAAoB,0EAAe;AACnC;;AAEA;AACA,gCAAgC,qEAAM;AACtC;AACA,YAAY;AACZ,cAAc;AACd;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;;AAEA;AACA,UAAU;AACV,YAAY;AACZ;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,YAAY;AACZ,UAAU;;AAEV;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA,UAAU;AACV;AACA;AACA;AACA,sBAAsB;AACtB;AACA,wBAAwB;AACxB;AACA;AACA;AACA,wBAAwB;AACxB,YAAY;AACZ;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,WAAW;AACX;;AAEA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA,UAAU;AACV,YAAY;AACZ;;AAEA;AACA,UAAU;AACV,YAAY;AACZ;;AAEA;AACA,UAAU;AACV,YAAY;AACZ;AACA;AACA;AACA,UAAU;AACV,eAAe;AACf;AACA;;AAEA;AACA,UAAU;AACV,YAAY;AACZ;AACA;AACA;AACA,UAAU;AACV,YAAY;AACZ;AACA;AACA;AACA,UAAU;AACV;;AAEA;AACA,UAAU;AACV,YAAY;AACZ;AACA;;AAEA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,UAAU;AACV;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA,UAAU;AACV;;AAEA;AACA,WAAW;AACX;AACA;AACA,cAAc,KAAK;AACnB;;AAEA;AACA,UAAU;AACV,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAOE;;;;;;;;;;;;;;ACtgE4B;;AAE9B;AAC4B;AAC5B,wCAAwC,qEAAM;AAC9C;AACA;AACA,qBAAqB,oDAAM;AAC3B;AACA,6CAA6C,oDAAM,mDAAmD,oDAAM;AAC5G,kCAAkC,GAAG;AACrC;AACA,CAAC;;AAED;AACA,0CAA0C,qEAAM;AAChD;AACA,UAAU,sBAAsB;AAChC,EAAE,+EAAgB;AAClB;AACA;AACA,EAAE,8DAAG,8BAA8B,SAAS,gBAAgB,QAAQ;AACpE,CAAC;AACD,qDAAqD,qEAAM;AAC3D,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oCAAoC,qEAAM;AAC1C,YAAY,aAAa,EAAE,aAAa,EAAE,OAAO,EAAE,OAAO;AAC1D,CAAC;;AAKC&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mermaid/dist/chunks/mermaid.core/chunk-AEK57VVT.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mermaid/dist/chunks/mermaid.core/chunk-RZ5BOZE2.mjs&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import {</span><span class="s3">\n  </span><span class="s1">getDiagramElement,</span><span class="s3">\n  </span><span class="s1">setupViewPortForSVG</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-RZ5BOZE2.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">render</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-TYCBKAJE.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">generateId,</span><span class="s3">\n  </span><span class="s1">utils_default</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-O4NI6UNU.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">__name,</span><span class="s3">\n  </span><span class="s1">clear,</span><span class="s3">\n  </span><span class="s1">common_default,</span><span class="s3">\n  </span><span class="s1">getAccDescription,</span><span class="s3">\n  </span><span class="s1">getAccTitle,</span><span class="s3">\n  </span><span class="s1">getConfig2 as getConfig,</span><span class="s3">\n  </span><span class="s1">getDiagramTitle,</span><span class="s3">\n  </span><span class="s1">log,</span><span class="s3">\n  </span><span class="s1">setAccDescription,</span><span class="s3">\n  </span><span class="s1">setAccTitle,</span><span class="s3">\n  </span><span class="s1">setDiagramTitle</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-YTJNT7DU.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/state/parser/stateDiagram.jison</span><span class="s3">\n</span><span class="s1">var parser = function() {</span><span class="s3">\n  </span><span class="s1">var o = /* @__PURE__ */ __name(function(k, v, o2, l) {</span><span class="s3">\n    </span><span class="s1">for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v) ;</span><span class="s3">\n    </span><span class="s1">return o2;</span><span class="s3">\n  </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">), $V0 = [1, 2], $V1 = [1, 3], $V2 = [1, 4], $V3 = [2, 4], $V4 = [1, 9], $V5 = [1, 11], $V6 = [1, 16], $V7 = [1, 17], $V8 = [1, 18], $V9 = [1, 19], $Va = [1, 32], $Vb = [1, 20], $Vc = [1, 21], $Vd = [1, 22], $Ve = [1, 23], $Vf = [1, 24], $Vg = [1, 26], $Vh = [1, 27], $Vi = [1, 28], $Vj = [1, 29], $Vk = [1, 30], $Vl = [1, 31], $Vm = [1, 34], $Vn = [1, 35], $Vo = [1, 36], $Vp = [1, 37], $Vq = [1, 33], $Vr = [1, 4, 5, 16, 17, 19, 21, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 42, 45, 48, 49, 50, 51, 54], $Vs = [1, 4, 5, 14, 15, 16, 17, 19, 21, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 42, 45, 48, 49, 50, 51, 54], $Vt = [4, 5, 16, 17, 19, 21, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 42, 45, 48, 49, 50, 51, 54];</span><span class="s3">\n  </span><span class="s1">var parser2 = {</span><span class="s3">\n    </span><span class="s1">trace: /* @__PURE__ */ __name(function trace() {</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">trace</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">yy: {},</span><span class="s3">\n    </span><span class="s1">symbols_: { </span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;</span><span class="s1">: 2, </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">: 3, </span><span class="s3">\&quot;</span><span class="s1">SPACE</span><span class="s3">\&quot;</span><span class="s1">: 4, </span><span class="s3">\&quot;</span><span class="s1">NL</span><span class="s3">\&quot;</span><span class="s1">: 5, </span><span class="s3">\&quot;</span><span class="s1">SD</span><span class="s3">\&quot;</span><span class="s1">: 6, </span><span class="s3">\&quot;</span><span class="s1">document</span><span class="s3">\&quot;</span><span class="s1">: 7, </span><span class="s3">\&quot;</span><span class="s1">line</span><span class="s3">\&quot;</span><span class="s1">: 8, </span><span class="s3">\&quot;</span><span class="s1">statement</span><span class="s3">\&quot;</span><span class="s1">: 9, </span><span class="s3">\&quot;</span><span class="s1">classDefStatement</span><span class="s3">\&quot;</span><span class="s1">: 10, </span><span class="s3">\&quot;</span><span class="s1">styleStatement</span><span class="s3">\&quot;</span><span class="s1">: 11, </span><span class="s3">\&quot;</span><span class="s1">cssClassStatement</span><span class="s3">\&quot;</span><span class="s1">: 12, </span><span class="s3">\&quot;</span><span class="s1">idStatement</span><span class="s3">\&quot;</span><span class="s1">: 13, </span><span class="s3">\&quot;</span><span class="s1">DESCR</span><span class="s3">\&quot;</span><span class="s1">: 14, </span><span class="s3">\&quot;</span><span class="s1">--&gt;</span><span class="s3">\&quot;</span><span class="s1">: 15, </span><span class="s3">\&quot;</span><span class="s1">HIDE_EMPTY</span><span class="s3">\&quot;</span><span class="s1">: 16, </span><span class="s3">\&quot;</span><span class="s1">scale</span><span class="s3">\&quot;</span><span class="s1">: 17, </span><span class="s3">\&quot;</span><span class="s1">WIDTH</span><span class="s3">\&quot;</span><span class="s1">: 18, </span><span class="s3">\&quot;</span><span class="s1">COMPOSIT_STATE</span><span class="s3">\&quot;</span><span class="s1">: 19, </span><span class="s3">\&quot;</span><span class="s1">STRUCT_START</span><span class="s3">\&quot;</span><span class="s1">: 20, </span><span class="s3">\&quot;</span><span class="s1">STRUCT_STOP</span><span class="s3">\&quot;</span><span class="s1">: 21, </span><span class="s3">\&quot;</span><span class="s1">STATE_DESCR</span><span class="s3">\&quot;</span><span class="s1">: 22, </span><span class="s3">\&quot;</span><span class="s1">AS</span><span class="s3">\&quot;</span><span class="s1">: 23, </span><span class="s3">\&quot;</span><span class="s1">ID</span><span class="s3">\&quot;</span><span class="s1">: 24, </span><span class="s3">\&quot;</span><span class="s1">FORK</span><span class="s3">\&quot;</span><span class="s1">: 25, </span><span class="s3">\&quot;</span><span class="s1">JOIN</span><span class="s3">\&quot;</span><span class="s1">: 26, </span><span class="s3">\&quot;</span><span class="s1">CHOICE</span><span class="s3">\&quot;</span><span class="s1">: 27, </span><span class="s3">\&quot;</span><span class="s1">CONCURRENT</span><span class="s3">\&quot;</span><span class="s1">: 28, </span><span class="s3">\&quot;</span><span class="s1">note</span><span class="s3">\&quot;</span><span class="s1">: 29, </span><span class="s3">\&quot;</span><span class="s1">notePosition</span><span class="s3">\&quot;</span><span class="s1">: 30, </span><span class="s3">\&quot;</span><span class="s1">NOTE_TEXT</span><span class="s3">\&quot;</span><span class="s1">: 31, </span><span class="s3">\&quot;</span><span class="s1">direction</span><span class="s3">\&quot;</span><span class="s1">: 32, </span><span class="s3">\&quot;</span><span class="s1">acc_title</span><span class="s3">\&quot;</span><span class="s1">: 33, </span><span class="s3">\&quot;</span><span class="s1">acc_title_value</span><span class="s3">\&quot;</span><span class="s1">: 34, </span><span class="s3">\&quot;</span><span class="s1">acc_descr</span><span class="s3">\&quot;</span><span class="s1">: 35, </span><span class="s3">\&quot;</span><span class="s1">acc_descr_value</span><span class="s3">\&quot;</span><span class="s1">: 36, </span><span class="s3">\&quot;</span><span class="s1">acc_descr_multiline_value</span><span class="s3">\&quot;</span><span class="s1">: 37, </span><span class="s3">\&quot;</span><span class="s1">classDef</span><span class="s3">\&quot;</span><span class="s1">: 38, </span><span class="s3">\&quot;</span><span class="s1">CLASSDEF_ID</span><span class="s3">\&quot;</span><span class="s1">: 39, </span><span class="s3">\&quot;</span><span class="s1">CLASSDEF_STYLEOPTS</span><span class="s3">\&quot;</span><span class="s1">: 40, </span><span class="s3">\&quot;</span><span class="s1">DEFAULT</span><span class="s3">\&quot;</span><span class="s1">: 41, </span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">: 42, </span><span class="s3">\&quot;</span><span class="s1">STYLE_IDS</span><span class="s3">\&quot;</span><span class="s1">: 43, </span><span class="s3">\&quot;</span><span class="s1">STYLEDEF_STYLEOPTS</span><span class="s3">\&quot;</span><span class="s1">: 44, </span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">: 45, </span><span class="s3">\&quot;</span><span class="s1">CLASSENTITY_IDS</span><span class="s3">\&quot;</span><span class="s1">: 46, </span><span class="s3">\&quot;</span><span class="s1">STYLECLASS</span><span class="s3">\&quot;</span><span class="s1">: 47, </span><span class="s3">\&quot;</span><span class="s1">direction_tb</span><span class="s3">\&quot;</span><span class="s1">: 48, </span><span class="s3">\&quot;</span><span class="s1">direction_bt</span><span class="s3">\&quot;</span><span class="s1">: 49, </span><span class="s3">\&quot;</span><span class="s1">direction_rl</span><span class="s3">\&quot;</span><span class="s1">: 50, </span><span class="s3">\&quot;</span><span class="s1">direction_lr</span><span class="s3">\&quot;</span><span class="s1">: 51, </span><span class="s3">\&quot;</span><span class="s1">eol</span><span class="s3">\&quot;</span><span class="s1">: 52, </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">: 53, </span><span class="s3">\&quot;</span><span class="s1">EDGE_STATE</span><span class="s3">\&quot;</span><span class="s1">: 54, </span><span class="s3">\&quot;</span><span class="s1">STYLE_SEPARATOR</span><span class="s3">\&quot;</span><span class="s1">: 55, </span><span class="s3">\&quot;</span><span class="s1">left_of</span><span class="s3">\&quot;</span><span class="s1">: 56, </span><span class="s3">\&quot;</span><span class="s1">right_of</span><span class="s3">\&quot;</span><span class="s1">: 57, </span><span class="s3">\&quot;</span><span class="s1">$accept</span><span class="s3">\&quot;</span><span class="s1">: 0, </span><span class="s3">\&quot;</span><span class="s1">$end</span><span class="s3">\&quot;</span><span class="s1">: 1 },</span><span class="s3">\n    </span><span class="s1">terminals_: { 2: </span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;</span><span class="s1">, 4: </span><span class="s3">\&quot;</span><span class="s1">SPACE</span><span class="s3">\&quot;</span><span class="s1">, 5: </span><span class="s3">\&quot;</span><span class="s1">NL</span><span class="s3">\&quot;</span><span class="s1">, 6: </span><span class="s3">\&quot;</span><span class="s1">SD</span><span class="s3">\&quot;</span><span class="s1">, 14: </span><span class="s3">\&quot;</span><span class="s1">DESCR</span><span class="s3">\&quot;</span><span class="s1">, 15: </span><span class="s3">\&quot;</span><span class="s1">--&gt;</span><span class="s3">\&quot;</span><span class="s1">, 16: </span><span class="s3">\&quot;</span><span class="s1">HIDE_EMPTY</span><span class="s3">\&quot;</span><span class="s1">, 17: </span><span class="s3">\&quot;</span><span class="s1">scale</span><span class="s3">\&quot;</span><span class="s1">, 18: </span><span class="s3">\&quot;</span><span class="s1">WIDTH</span><span class="s3">\&quot;</span><span class="s1">, 19: </span><span class="s3">\&quot;</span><span class="s1">COMPOSIT_STATE</span><span class="s3">\&quot;</span><span class="s1">, 20: </span><span class="s3">\&quot;</span><span class="s1">STRUCT_START</span><span class="s3">\&quot;</span><span class="s1">, 21: </span><span class="s3">\&quot;</span><span class="s1">STRUCT_STOP</span><span class="s3">\&quot;</span><span class="s1">, 22: </span><span class="s3">\&quot;</span><span class="s1">STATE_DESCR</span><span class="s3">\&quot;</span><span class="s1">, 23: </span><span class="s3">\&quot;</span><span class="s1">AS</span><span class="s3">\&quot;</span><span class="s1">, 24: </span><span class="s3">\&quot;</span><span class="s1">ID</span><span class="s3">\&quot;</span><span class="s1">, 25: </span><span class="s3">\&quot;</span><span class="s1">FORK</span><span class="s3">\&quot;</span><span class="s1">, 26: </span><span class="s3">\&quot;</span><span class="s1">JOIN</span><span class="s3">\&quot;</span><span class="s1">, 27: </span><span class="s3">\&quot;</span><span class="s1">CHOICE</span><span class="s3">\&quot;</span><span class="s1">, 28: </span><span class="s3">\&quot;</span><span class="s1">CONCURRENT</span><span class="s3">\&quot;</span><span class="s1">, 29: </span><span class="s3">\&quot;</span><span class="s1">note</span><span class="s3">\&quot;</span><span class="s1">, 31: </span><span class="s3">\&quot;</span><span class="s1">NOTE_TEXT</span><span class="s3">\&quot;</span><span class="s1">, 33: </span><span class="s3">\&quot;</span><span class="s1">acc_title</span><span class="s3">\&quot;</span><span class="s1">, 34: </span><span class="s3">\&quot;</span><span class="s1">acc_title_value</span><span class="s3">\&quot;</span><span class="s1">, 35: </span><span class="s3">\&quot;</span><span class="s1">acc_descr</span><span class="s3">\&quot;</span><span class="s1">, 36: </span><span class="s3">\&quot;</span><span class="s1">acc_descr_value</span><span class="s3">\&quot;</span><span class="s1">, 37: </span><span class="s3">\&quot;</span><span class="s1">acc_descr_multiline_value</span><span class="s3">\&quot;</span><span class="s1">, 38: </span><span class="s3">\&quot;</span><span class="s1">classDef</span><span class="s3">\&quot;</span><span class="s1">, 39: </span><span class="s3">\&quot;</span><span class="s1">CLASSDEF_ID</span><span class="s3">\&quot;</span><span class="s1">, 40: </span><span class="s3">\&quot;</span><span class="s1">CLASSDEF_STYLEOPTS</span><span class="s3">\&quot;</span><span class="s1">, 41: </span><span class="s3">\&quot;</span><span class="s1">DEFAULT</span><span class="s3">\&quot;</span><span class="s1">, 42: </span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, 43: </span><span class="s3">\&quot;</span><span class="s1">STYLE_IDS</span><span class="s3">\&quot;</span><span class="s1">, 44: </span><span class="s3">\&quot;</span><span class="s1">STYLEDEF_STYLEOPTS</span><span class="s3">\&quot;</span><span class="s1">, 45: </span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, 46: </span><span class="s3">\&quot;</span><span class="s1">CLASSENTITY_IDS</span><span class="s3">\&quot;</span><span class="s1">, 47: </span><span class="s3">\&quot;</span><span class="s1">STYLECLASS</span><span class="s3">\&quot;</span><span class="s1">, 48: </span><span class="s3">\&quot;</span><span class="s1">direction_tb</span><span class="s3">\&quot;</span><span class="s1">, 49: </span><span class="s3">\&quot;</span><span class="s1">direction_bt</span><span class="s3">\&quot;</span><span class="s1">, 50: </span><span class="s3">\&quot;</span><span class="s1">direction_rl</span><span class="s3">\&quot;</span><span class="s1">, 51: </span><span class="s3">\&quot;</span><span class="s1">direction_lr</span><span class="s3">\&quot;</span><span class="s1">, 53: </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\&quot;</span><span class="s1">, 54: </span><span class="s3">\&quot;</span><span class="s1">EDGE_STATE</span><span class="s3">\&quot;</span><span class="s1">, 55: </span><span class="s3">\&quot;</span><span class="s1">STYLE_SEPARATOR</span><span class="s3">\&quot;</span><span class="s1">, 56: </span><span class="s3">\&quot;</span><span class="s1">left_of</span><span class="s3">\&quot;</span><span class="s1">, 57: </span><span class="s3">\&quot;</span><span class="s1">right_of</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">productions_: [0, [3, 2], [3, 2], [3, 2], [7, 0], [7, 2], [8, 2], [8, 1], [8, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 2], [9, 3], [9, 4], [9, 1], [9, 2], [9, 1], [9, 4], [9, 3], [9, 6], [9, 1], [9, 1], [9, 1], [9, 1], [9, 4], [9, 4], [9, 1], [9, 2], [9, 2], [9, 1], [10, 3], [10, 3], [11, 3], [12, 3], [32, 1], [32, 1], [32, 1], [32, 1], [52, 1], [52, 1], [13, 1], [13, 1], [13, 3], [13, 3], [30, 1], [30, 1]],</span><span class="s3">\n    </span><span class="s1">performAction: /* @__PURE__ */ __name(function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {</span><span class="s3">\n      </span><span class="s1">var $0 = $$.length - 1;</span><span class="s3">\n      </span><span class="s1">switch (yystate) {</span><span class="s3">\n        </span><span class="s1">case 3:</span><span class="s3">\n          </span><span class="s1">yy.setRootDoc($$[$0]);</span><span class="s3">\n          </span><span class="s1">return $$[$0];</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 4:</span><span class="s3">\n          </span><span class="s1">this.$ = [];</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 5:</span><span class="s3">\n          </span><span class="s1">if ($$[$0] != </span><span class="s3">\&quot;</span><span class="s1">nl</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">$$[$0 - 1].push($$[$0]);</span><span class="s3">\n            </span><span class="s1">this.$ = $$[$0 - 1];</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 6:</span><span class="s3">\n        </span><span class="s1">case 7:</span><span class="s3">\n          </span><span class="s1">this.$ = $$[$0];</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 8:</span><span class="s3">\n          </span><span class="s1">this.$ = </span><span class="s3">\&quot;</span><span class="s1">nl</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 12:</span><span class="s3">\n          </span><span class="s1">this.$ = $$[$0];</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 13:</span><span class="s3">\n          </span><span class="s1">const stateStmt = $$[$0 - 1];</span><span class="s3">\n          </span><span class="s1">stateStmt.description = yy.trimColon($$[$0]);</span><span class="s3">\n          </span><span class="s1">this.$ = stateStmt;</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 14:</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">relation</span><span class="s3">\&quot;</span><span class="s1">, state1: $$[$0 - 2], state2: $$[$0] };</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 15:</span><span class="s3">\n          </span><span class="s1">const relDescription = yy.trimColon($$[$0]);</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">relation</span><span class="s3">\&quot;</span><span class="s1">, state1: $$[$0 - 3], state2: $$[$0 - 1], description: relDescription };</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 19:</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">state</span><span class="s3">\&quot;</span><span class="s1">, id: $$[$0 - 3], type: </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">, description: </span><span class="s3">\&quot;\&quot;</span><span class="s1">, doc: $$[$0 - 1] };</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 20:</span><span class="s3">\n          </span><span class="s1">var id = $$[$0];</span><span class="s3">\n          </span><span class="s1">var description = $$[$0 - 2].trim();</span><span class="s3">\n          </span><span class="s1">if ($$[$0].match(</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n            </span><span class="s1">var parts = $$[$0].split(</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">id = parts[0];</span><span class="s3">\n            </span><span class="s1">description = [description, parts[1]];</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">state</span><span class="s3">\&quot;</span><span class="s1">, id, type: </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">, description };</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 21:</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">state</span><span class="s3">\&quot;</span><span class="s1">, id: $$[$0 - 3], type: </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">, description: $$[$0 - 5], doc: $$[$0 - 1] };</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 22:</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">state</span><span class="s3">\&quot;</span><span class="s1">, id: $$[$0], type: </span><span class="s3">\&quot;</span><span class="s1">fork</span><span class="s3">\&quot; </span><span class="s1">};</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 23:</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">state</span><span class="s3">\&quot;</span><span class="s1">, id: $$[$0], type: </span><span class="s3">\&quot;</span><span class="s1">join</span><span class="s3">\&quot; </span><span class="s1">};</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 24:</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">state</span><span class="s3">\&quot;</span><span class="s1">, id: $$[$0], type: </span><span class="s3">\&quot;</span><span class="s1">choice</span><span class="s3">\&quot; </span><span class="s1">};</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 25:</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">state</span><span class="s3">\&quot;</span><span class="s1">, id: yy.getDividerId(), type: </span><span class="s3">\&quot;</span><span class="s1">divider</span><span class="s3">\&quot; </span><span class="s1">};</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 26:</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">state</span><span class="s3">\&quot;</span><span class="s1">, id: $$[$0 - 1].trim(), note: { position: $$[$0 - 2].trim(), text: $$[$0].trim() } };</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 29:</span><span class="s3">\n          </span><span class="s1">this.$ = $$[$0].trim();</span><span class="s3">\n          </span><span class="s1">yy.setAccTitle(this.$);</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 30:</span><span class="s3">\n        </span><span class="s1">case 31:</span><span class="s3">\n          </span><span class="s1">this.$ = $$[$0].trim();</span><span class="s3">\n          </span><span class="s1">yy.setAccDescription(this.$);</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 32:</span><span class="s3">\n        </span><span class="s1">case 33:</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">classDef</span><span class="s3">\&quot;</span><span class="s1">, id: $$[$0 - 1].trim(), classes: $$[$0].trim() };</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 34:</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">, id: $$[$0 - 1].trim(), styleClass: $$[$0].trim() };</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 35:</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">applyClass</span><span class="s3">\&quot;</span><span class="s1">, id: $$[$0 - 1].trim(), styleClass: $$[$0].trim() };</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 36:</span><span class="s3">\n          </span><span class="s1">yy.setDirection(</span><span class="s3">\&quot;</span><span class="s1">TB</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">dir</span><span class="s3">\&quot;</span><span class="s1">, value: </span><span class="s3">\&quot;</span><span class="s1">TB</span><span class="s3">\&quot; </span><span class="s1">};</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 37:</span><span class="s3">\n          </span><span class="s1">yy.setDirection(</span><span class="s3">\&quot;</span><span class="s1">BT</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">dir</span><span class="s3">\&quot;</span><span class="s1">, value: </span><span class="s3">\&quot;</span><span class="s1">BT</span><span class="s3">\&quot; </span><span class="s1">};</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 38:</span><span class="s3">\n          </span><span class="s1">yy.setDirection(</span><span class="s3">\&quot;</span><span class="s1">RL</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">dir</span><span class="s3">\&quot;</span><span class="s1">, value: </span><span class="s3">\&quot;</span><span class="s1">RL</span><span class="s3">\&quot; </span><span class="s1">};</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 39:</span><span class="s3">\n          </span><span class="s1">yy.setDirection(</span><span class="s3">\&quot;</span><span class="s1">LR</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">dir</span><span class="s3">\&quot;</span><span class="s1">, value: </span><span class="s3">\&quot;</span><span class="s1">LR</span><span class="s3">\&quot; </span><span class="s1">};</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 42:</span><span class="s3">\n        </span><span class="s1">case 43:</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">state</span><span class="s3">\&quot;</span><span class="s1">, id: $$[$0].trim(), type: </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">, description: </span><span class="s3">\&quot;\&quot; </span><span class="s1">};</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 44:</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">state</span><span class="s3">\&quot;</span><span class="s1">, id: $$[$0 - 2].trim(), classes: [$$[$0].trim()], type: </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">, description: </span><span class="s3">\&quot;\&quot; </span><span class="s1">};</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case 45:</span><span class="s3">\n          </span><span class="s1">this.$ = { stmt: </span><span class="s3">\&quot;</span><span class="s1">state</span><span class="s3">\&quot;</span><span class="s1">, id: $$[$0 - 2].trim(), classes: [$$[$0].trim()], type: </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">, description: </span><span class="s3">\&quot;\&quot; </span><span class="s1">};</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">anonymous</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">table: [{ 3: 1, 4: $V0, 5: $V1, 6: $V2 }, { 1: [3] }, { 3: 5, 4: $V0, 5: $V1, 6: $V2 }, { 3: 6, 4: $V0, 5: $V1, 6: $V2 }, o([1, 4, 5, 16, 17, 19, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 42, 45, 48, 49, 50, 51, 54], $V3, { 7: 7 }), { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 3], 4: $V4, 5: $V5, 8: 8, 9: 10, 10: 12, 11: 13, 12: 14, 13: 15, 16: $V6, 17: $V7, 19: $V8, 22: $V9, 24: $Va, 25: $Vb, 26: $Vc, 27: $Vd, 28: $Ve, 29: $Vf, 32: 25, 33: $Vg, 35: $Vh, 37: $Vi, 38: $Vj, 42: $Vk, 45: $Vl, 48: $Vm, 49: $Vn, 50: $Vo, 51: $Vp, 54: $Vq }, o($Vr, [2, 5]), { 9: 38, 10: 12, 11: 13, 12: 14, 13: 15, 16: $V6, 17: $V7, 19: $V8, 22: $V9, 24: $Va, 25: $Vb, 26: $Vc, 27: $Vd, 28: $Ve, 29: $Vf, 32: 25, 33: $Vg, 35: $Vh, 37: $Vi, 38: $Vj, 42: $Vk, 45: $Vl, 48: $Vm, 49: $Vn, 50: $Vo, 51: $Vp, 54: $Vq }, o($Vr, [2, 7]), o($Vr, [2, 8]), o($Vr, [2, 9]), o($Vr, [2, 10]), o($Vr, [2, 11]), o($Vr, [2, 12], { 14: [1, 39], 15: [1, 40] }), o($Vr, [2, 16]), { 18: [1, 41] }, o($Vr, [2, 18], { 20: [1, 42] }), { 23: [1, 43] }, o($Vr, [2, 22]), o($Vr, [2, 23]), o($Vr, [2, 24]), o($Vr, [2, 25]), { 30: 44, 31: [1, 45], 56: [1, 46], 57: [1, 47] }, o($Vr, [2, 28]), { 34: [1, 48] }, { 36: [1, 49] }, o($Vr, [2, 31]), { 39: [1, 50], 41: [1, 51] }, { 43: [1, 52] }, { 46: [1, 53] }, o($Vs, [2, 42], { 55: [1, 54] }), o($Vs, [2, 43], { 55: [1, 55] }), o($Vr, [2, 36]), o($Vr, [2, 37]), o($Vr, [2, 38]), o($Vr, [2, 39]), o($Vr, [2, 6]), o($Vr, [2, 13]), { 13: 56, 24: $Va, 54: $Vq }, o($Vr, [2, 17]), o($Vt, $V3, { 7: 57 }), { 24: [1, 58] }, { 24: [1, 59] }, { 23: [1, 60] }, { 24: [2, 46] }, { 24: [2, 47] }, o($Vr, [2, 29]), o($Vr, [2, 30]), { 40: [1, 61] }, { 40: [1, 62] }, { 44: [1, 63] }, { 47: [1, 64] }, { 24: [1, 65] }, { 24: [1, 66] }, o($Vr, [2, 14], { 14: [1, 67] }), { 4: $V4, 5: $V5, 8: 8, 9: 10, 10: 12, 11: 13, 12: 14, 13: 15, 16: $V6, 17: $V7, 19: $V8, 21: [1, 68], 22: $V9, 24: $Va, 25: $Vb, 26: $Vc, 27: $Vd, 28: $Ve, 29: $Vf, 32: 25, 33: $Vg, 35: $Vh, 37: $Vi, 38: $Vj, 42: $Vk, 45: $Vl, 48: $Vm, 49: $Vn, 50: $Vo, 51: $Vp, 54: $Vq }, o($Vr, [2, 20], { 20: [1, 69] }), { 31: [1, 70] }, { 24: [1, 71] }, o($Vr, [2, 32]), o($Vr, [2, 33]), o($Vr, [2, 34]), o($Vr, [2, 35]), o($Vs, [2, 44]), o($Vs, [2, 45]), o($Vr, [2, 15]), o($Vr, [2, 19]), o($Vt, $V3, { 7: 72 }), o($Vr, [2, 26]), o($Vr, [2, 27]), { 4: $V4, 5: $V5, 8: 8, 9: 10, 10: 12, 11: 13, 12: 14, 13: 15, 16: $V6, 17: $V7, 19: $V8, 21: [1, 73], 22: $V9, 24: $Va, 25: $Vb, 26: $Vc, 27: $Vd, 28: $Ve, 29: $Vf, 32: 25, 33: $Vg, 35: $Vh, 37: $Vi, 38: $Vj, 42: $Vk, 45: $Vl, 48: $Vm, 49: $Vn, 50: $Vo, 51: $Vp, 54: $Vq }, o($Vr, [2, 21])],</span><span class="s3">\n    </span><span class="s1">defaultActions: { 5: [2, 1], 6: [2, 2], 46: [2, 46], 47: [2, 47] },</span><span class="s3">\n    </span><span class="s1">parseError: /* @__PURE__ */ __name(function parseError(str, hash) {</span><span class="s3">\n      </span><span class="s1">if (hash.recoverable) {</span><span class="s3">\n        </span><span class="s1">this.trace(str);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">var error = new Error(str);</span><span class="s3">\n        </span><span class="s1">error.hash = hash;</span><span class="s3">\n        </span><span class="s1">throw error;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">parseError</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">parse: /* @__PURE__ */ __name(function parse(input) {</span><span class="s3">\n      </span><span class="s1">var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;</span><span class="s3">\n      </span><span class="s1">var args = lstack.slice.call(arguments, 1);</span><span class="s3">\n      </span><span class="s1">var lexer2 = Object.create(this.lexer);</span><span class="s3">\n      </span><span class="s1">var sharedState = { yy: {} };</span><span class="s3">\n      </span><span class="s1">for (var k in this.yy) {</span><span class="s3">\n        </span><span class="s1">if (Object.prototype.hasOwnProperty.call(this.yy, k)) {</span><span class="s3">\n          </span><span class="s1">sharedState.yy[k] = this.yy[k];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">lexer2.setInput(input, sharedState.yy);</span><span class="s3">\n      </span><span class="s1">sharedState.yy.lexer = lexer2;</span><span class="s3">\n      </span><span class="s1">sharedState.yy.parser = this;</span><span class="s3">\n      </span><span class="s1">if (typeof lexer2.yylloc == </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">lexer2.yylloc = {};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">var yyloc = lexer2.yylloc;</span><span class="s3">\n      </span><span class="s1">lstack.push(yyloc);</span><span class="s3">\n      </span><span class="s1">var ranges = lexer2.options &amp;&amp; lexer2.options.ranges;</span><span class="s3">\n      </span><span class="s1">if (typeof sharedState.yy.parseError === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">this.parseError = sharedState.yy.parseError;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">this.parseError = Object.getPrototypeOf(this).parseError;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">function popStack(n) {</span><span class="s3">\n        </span><span class="s1">stack.length = stack.length - 2 * n;</span><span class="s3">\n        </span><span class="s1">vstack.length = vstack.length - n;</span><span class="s3">\n        </span><span class="s1">lstack.length = lstack.length - n;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">__name(popStack, </span><span class="s3">\&quot;</span><span class="s1">popStack</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">function lex() {</span><span class="s3">\n        </span><span class="s1">var token;</span><span class="s3">\n        </span><span class="s1">token = tstack.pop() || lexer2.lex() || EOF;</span><span class="s3">\n        </span><span class="s1">if (typeof token !== </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">if (token instanceof Array) {</span><span class="s3">\n            </span><span class="s1">tstack = token;</span><span class="s3">\n            </span><span class="s1">token = tstack.pop();</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">token = self.symbols_[token] || token;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return token;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">__name(lex, </span><span class="s3">\&quot;</span><span class="s1">lex</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;</span><span class="s3">\n      </span><span class="s1">while (true) {</span><span class="s3">\n        </span><span class="s1">state = stack[stack.length - 1];</span><span class="s3">\n        </span><span class="s1">if (this.defaultActions[state]) {</span><span class="s3">\n          </span><span class="s1">action = this.defaultActions[state];</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">if (symbol === null || typeof symbol == </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">symbol = lex();</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">action = table[state] &amp;&amp; table[state][symbol];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (typeof action === </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot; </span><span class="s1">|| !action.length || !action[0]) {</span><span class="s3">\n          </span><span class="s1">var errStr = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n          </span><span class="s1">expected = [];</span><span class="s3">\n          </span><span class="s1">for (p in table[state]) {</span><span class="s3">\n            </span><span class="s1">if (this.terminals_[p] &amp;&amp; p &gt; TERROR) {</span><span class="s3">\n              </span><span class="s1">expected.push(</span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot; </span><span class="s1">+ this.terminals_[p] + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">if (lexer2.showPosition) {</span><span class="s3">\n            </span><span class="s1">errStr = </span><span class="s3">\&quot;</span><span class="s1">Parse error on line </span><span class="s3">\&quot; </span><span class="s1">+ (yylineno + 1) + </span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\&quot; </span><span class="s1">+ lexer2.showPosition() + </span><span class="s3">\&quot;\\</span><span class="s1">nExpecting </span><span class="s3">\&quot; </span><span class="s1">+ expected.join(</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">) + </span><span class="s3">\&quot;</span><span class="s1">, got '</span><span class="s3">\&quot; </span><span class="s1">+ (this.terminals_[symbol] || symbol) + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n          </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">errStr = </span><span class="s3">\&quot;</span><span class="s1">Parse error on line </span><span class="s3">\&quot; </span><span class="s1">+ (yylineno + 1) + </span><span class="s3">\&quot;</span><span class="s1">: Unexpected </span><span class="s3">\&quot; </span><span class="s1">+ (symbol == EOF ? </span><span class="s3">\&quot;</span><span class="s1">end of input</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot; </span><span class="s1">+ (this.terminals_[symbol] || symbol) + </span><span class="s3">\&quot;</span><span class="s1">'</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">this.parseError(errStr, {</span><span class="s3">\n            </span><span class="s1">text: lexer2.match,</span><span class="s3">\n            </span><span class="s1">token: this.terminals_[symbol] || symbol,</span><span class="s3">\n            </span><span class="s1">line: lexer2.yylineno,</span><span class="s3">\n            </span><span class="s1">loc: yyloc,</span><span class="s3">\n            </span><span class="s1">expected</span><span class="s3">\n          </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (action[0] instanceof Array &amp;&amp; action.length &gt; 1) {</span><span class="s3">\n          </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Parse Error: multiple actions possible at state: </span><span class="s3">\&quot; </span><span class="s1">+ state + </span><span class="s3">\&quot;</span><span class="s1">, token: </span><span class="s3">\&quot; </span><span class="s1">+ symbol);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">switch (action[0]) {</span><span class="s3">\n          </span><span class="s1">case 1:</span><span class="s3">\n            </span><span class="s1">stack.push(symbol);</span><span class="s3">\n            </span><span class="s1">vstack.push(lexer2.yytext);</span><span class="s3">\n            </span><span class="s1">lstack.push(lexer2.yylloc);</span><span class="s3">\n            </span><span class="s1">stack.push(action[1]);</span><span class="s3">\n            </span><span class="s1">symbol = null;</span><span class="s3">\n            </span><span class="s1">if (!preErrorSymbol) {</span><span class="s3">\n              </span><span class="s1">yyleng = lexer2.yyleng;</span><span class="s3">\n              </span><span class="s1">yytext = lexer2.yytext;</span><span class="s3">\n              </span><span class="s1">yylineno = lexer2.yylineno;</span><span class="s3">\n              </span><span class="s1">yyloc = lexer2.yylloc;</span><span class="s3">\n              </span><span class="s1">if (recovering &gt; 0) {</span><span class="s3">\n                </span><span class="s1">recovering--;</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">} else {</span><span class="s3">\n              </span><span class="s1">symbol = preErrorSymbol;</span><span class="s3">\n              </span><span class="s1">preErrorSymbol = null;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 2:</span><span class="s3">\n            </span><span class="s1">len = this.productions_[action[1]][1];</span><span class="s3">\n            </span><span class="s1">yyval.$ = vstack[vstack.length - len];</span><span class="s3">\n            </span><span class="s1">yyval._$ = {</span><span class="s3">\n              </span><span class="s1">first_line: lstack[lstack.length - (len || 1)].first_line,</span><span class="s3">\n              </span><span class="s1">last_line: lstack[lstack.length - 1].last_line,</span><span class="s3">\n              </span><span class="s1">first_column: lstack[lstack.length - (len || 1)].first_column,</span><span class="s3">\n              </span><span class="s1">last_column: lstack[lstack.length - 1].last_column</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n            </span><span class="s1">if (ranges) {</span><span class="s3">\n              </span><span class="s1">yyval._$.range = [</span><span class="s3">\n                </span><span class="s1">lstack[lstack.length - (len || 1)].range[0],</span><span class="s3">\n                </span><span class="s1">lstack[lstack.length - 1].range[1]</span><span class="s3">\n              </span><span class="s1">];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">r = this.performAction.apply(yyval, [</span><span class="s3">\n              </span><span class="s1">yytext,</span><span class="s3">\n              </span><span class="s1">yyleng,</span><span class="s3">\n              </span><span class="s1">yylineno,</span><span class="s3">\n              </span><span class="s1">sharedState.yy,</span><span class="s3">\n              </span><span class="s1">action[1],</span><span class="s3">\n              </span><span class="s1">vstack,</span><span class="s3">\n              </span><span class="s1">lstack</span><span class="s3">\n            </span><span class="s1">].concat(args));</span><span class="s3">\n            </span><span class="s1">if (typeof r !== </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n              </span><span class="s1">return r;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (len) {</span><span class="s3">\n              </span><span class="s1">stack = stack.slice(0, -1 * len * 2);</span><span class="s3">\n              </span><span class="s1">vstack = vstack.slice(0, -1 * len);</span><span class="s3">\n              </span><span class="s1">lstack = lstack.slice(0, -1 * len);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">stack.push(this.productions_[action[1]][0]);</span><span class="s3">\n            </span><span class="s1">vstack.push(yyval.$);</span><span class="s3">\n            </span><span class="s1">lstack.push(yyval._$);</span><span class="s3">\n            </span><span class="s1">newState = table[stack[stack.length - 2]][stack[stack.length - 1]];</span><span class="s3">\n            </span><span class="s1">stack.push(newState);</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 3:</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">parse</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">var lexer = /* @__PURE__ */ function() {</span><span class="s3">\n    </span><span class="s1">var lexer2 = {</span><span class="s3">\n      </span><span class="s1">EOF: 1,</span><span class="s3">\n      </span><span class="s1">parseError: /* @__PURE__ */ __name(function parseError(str, hash) {</span><span class="s3">\n        </span><span class="s1">if (this.yy.parser) {</span><span class="s3">\n          </span><span class="s1">this.yy.parser.parseError(str, hash);</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">throw new Error(str);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">parseError</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">// resets the lexer, sets new input</span><span class="s3">\n      </span><span class="s1">setInput: /* @__PURE__ */ __name(function(input, yy) {</span><span class="s3">\n        </span><span class="s1">this.yy = yy || this.yy || {};</span><span class="s3">\n        </span><span class="s1">this._input = input;</span><span class="s3">\n        </span><span class="s1">this._more = this._backtrack = this.done = false;</span><span class="s3">\n        </span><span class="s1">this.yylineno = this.yyleng = 0;</span><span class="s3">\n        </span><span class="s1">this.yytext = this.matched = this.match = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.conditionStack = [</span><span class="s3">\&quot;</span><span class="s1">INITIAL</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n        </span><span class="s1">this.yylloc = {</span><span class="s3">\n          </span><span class="s1">first_line: 1,</span><span class="s3">\n          </span><span class="s1">first_column: 0,</span><span class="s3">\n          </span><span class="s1">last_line: 1,</span><span class="s3">\n          </span><span class="s1">last_column: 0</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">if (this.options.ranges) {</span><span class="s3">\n          </span><span class="s1">this.yylloc.range = [0, 0];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.offset = 0;</span><span class="s3">\n        </span><span class="s1">return this;</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">setInput</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">// consumes and returns one char from the input</span><span class="s3">\n      </span><span class="s1">input: /* @__PURE__ */ __name(function() {</span><span class="s3">\n        </span><span class="s1">var ch = this._input[0];</span><span class="s3">\n        </span><span class="s1">this.yytext += ch;</span><span class="s3">\n        </span><span class="s1">this.yyleng++;</span><span class="s3">\n        </span><span class="s1">this.offset++;</span><span class="s3">\n        </span><span class="s1">this.match += ch;</span><span class="s3">\n        </span><span class="s1">this.matched += ch;</span><span class="s3">\n        </span><span class="s1">var lines = ch.match(/(?:</span><span class="s3">\\</span><span class="s1">r</span><span class="s3">\\</span><span class="s1">n?|</span><span class="s3">\\</span><span class="s1">n).*/g);</span><span class="s3">\n        </span><span class="s1">if (lines) {</span><span class="s3">\n          </span><span class="s1">this.yylineno++;</span><span class="s3">\n          </span><span class="s1">this.yylloc.last_line++;</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">this.yylloc.last_column++;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.options.ranges) {</span><span class="s3">\n          </span><span class="s1">this.yylloc.range[1]++;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this._input = this._input.slice(1);</span><span class="s3">\n        </span><span class="s1">return ch;</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">input</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">// unshifts one char (or a string) into the input</span><span class="s3">\n      </span><span class="s1">unput: /* @__PURE__ */ __name(function(ch) {</span><span class="s3">\n        </span><span class="s1">var len = ch.length;</span><span class="s3">\n        </span><span class="s1">var lines = ch.split(/(?:</span><span class="s3">\\</span><span class="s1">r</span><span class="s3">\\</span><span class="s1">n?|</span><span class="s3">\\</span><span class="s1">n)/g);</span><span class="s3">\n        </span><span class="s1">this._input = ch + this._input;</span><span class="s3">\n        </span><span class="s1">this.yytext = this.yytext.substr(0, this.yytext.length - len);</span><span class="s3">\n        </span><span class="s1">this.offset -= len;</span><span class="s3">\n        </span><span class="s1">var oldLines = this.match.split(/(?:</span><span class="s3">\\</span><span class="s1">r</span><span class="s3">\\</span><span class="s1">n?|</span><span class="s3">\\</span><span class="s1">n)/g);</span><span class="s3">\n        </span><span class="s1">this.match = this.match.substr(0, this.match.length - 1);</span><span class="s3">\n        </span><span class="s1">this.matched = this.matched.substr(0, this.matched.length - 1);</span><span class="s3">\n        </span><span class="s1">if (lines.length - 1) {</span><span class="s3">\n          </span><span class="s1">this.yylineno -= lines.length - 1;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var r = this.yylloc.range;</span><span class="s3">\n        </span><span class="s1">this.yylloc = {</span><span class="s3">\n          </span><span class="s1">first_line: this.yylloc.first_line,</span><span class="s3">\n          </span><span class="s1">last_line: this.yylineno + 1,</span><span class="s3">\n          </span><span class="s1">first_column: this.yylloc.first_column,</span><span class="s3">\n          </span><span class="s1">last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">if (this.options.ranges) {</span><span class="s3">\n          </span><span class="s1">this.yylloc.range = [r[0], r[0] + this.yyleng - len];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.yyleng = this.yytext.length;</span><span class="s3">\n        </span><span class="s1">return this;</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">unput</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">// When called from action, caches matched text and appends it on next action</span><span class="s3">\n      </span><span class="s1">more: /* @__PURE__ */ __name(function() {</span><span class="s3">\n        </span><span class="s1">this._more = true;</span><span class="s3">\n        </span><span class="s1">return this;</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">more</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.</span><span class="s3">\n      </span><span class="s1">reject: /* @__PURE__ */ __name(function() {</span><span class="s3">\n        </span><span class="s1">if (this.options.backtrack_lexer) {</span><span class="s3">\n          </span><span class="s1">this._backtrack = true;</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">return this.parseError(</span><span class="s3">\&quot;</span><span class="s1">Lexical error on line </span><span class="s3">\&quot; </span><span class="s1">+ (this.yylineno + 1) + </span><span class="s3">\&quot;</span><span class="s1">. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\&quot; </span><span class="s1">+ this.showPosition(), {</span><span class="s3">\n            </span><span class="s1">text: </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">token: null,</span><span class="s3">\n            </span><span class="s1">line: this.yylineno</span><span class="s3">\n          </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return this;</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">reject</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">// retain first n characters of the match</span><span class="s3">\n      </span><span class="s1">less: /* @__PURE__ */ __name(function(n) {</span><span class="s3">\n        </span><span class="s1">this.unput(this.match.slice(n));</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">less</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">// displays already matched input, i.e. for error messages</span><span class="s3">\n      </span><span class="s1">pastInput: /* @__PURE__ */ __name(function() {</span><span class="s3">\n        </span><span class="s1">var past = this.matched.substr(0, this.matched.length - this.match.length);</span><span class="s3">\n        </span><span class="s1">return (past.length &gt; 20 ? </span><span class="s3">\&quot;</span><span class="s1">...</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + past.substr(-20).replace(/</span><span class="s3">\\</span><span class="s1">n/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">pastInput</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">// displays upcoming input, i.e. for error messages</span><span class="s3">\n      </span><span class="s1">upcomingInput: /* @__PURE__ */ __name(function() {</span><span class="s3">\n        </span><span class="s1">var next = this.match;</span><span class="s3">\n        </span><span class="s1">if (next.length &lt; 20) {</span><span class="s3">\n          </span><span class="s1">next += this._input.substr(0, 20 - next.length);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return (next.substr(0, 20) + (next.length &gt; 20 ? </span><span class="s3">\&quot;</span><span class="s1">...</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)).replace(/</span><span class="s3">\\</span><span class="s1">n/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">upcomingInput</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">// displays the character position where the lexing error occurred, i.e. for error messages</span><span class="s3">\n      </span><span class="s1">showPosition: /* @__PURE__ */ __name(function() {</span><span class="s3">\n        </span><span class="s1">var pre = this.pastInput();</span><span class="s3">\n        </span><span class="s1">var c = new Array(pre.length + 1).join(</span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">return pre + this.upcomingInput() + </span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot; </span><span class="s1">+ c + </span><span class="s3">\&quot;</span><span class="s1">^</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">showPosition</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">// test the lexed token: return FALSE when not a match, otherwise return token</span><span class="s3">\n      </span><span class="s1">test_match: /* @__PURE__ */ __name(function(match, indexed_rule) {</span><span class="s3">\n        </span><span class="s1">var token, lines, backup;</span><span class="s3">\n        </span><span class="s1">if (this.options.backtrack_lexer) {</span><span class="s3">\n          </span><span class="s1">backup = {</span><span class="s3">\n            </span><span class="s1">yylineno: this.yylineno,</span><span class="s3">\n            </span><span class="s1">yylloc: {</span><span class="s3">\n              </span><span class="s1">first_line: this.yylloc.first_line,</span><span class="s3">\n              </span><span class="s1">last_line: this.last_line,</span><span class="s3">\n              </span><span class="s1">first_column: this.yylloc.first_column,</span><span class="s3">\n              </span><span class="s1">last_column: this.yylloc.last_column</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">yytext: this.yytext,</span><span class="s3">\n            </span><span class="s1">match: this.match,</span><span class="s3">\n            </span><span class="s1">matches: this.matches,</span><span class="s3">\n            </span><span class="s1">matched: this.matched,</span><span class="s3">\n            </span><span class="s1">yyleng: this.yyleng,</span><span class="s3">\n            </span><span class="s1">offset: this.offset,</span><span class="s3">\n            </span><span class="s1">_more: this._more,</span><span class="s3">\n            </span><span class="s1">_input: this._input,</span><span class="s3">\n            </span><span class="s1">yy: this.yy,</span><span class="s3">\n            </span><span class="s1">conditionStack: this.conditionStack.slice(0),</span><span class="s3">\n            </span><span class="s1">done: this.done</span><span class="s3">\n          </span><span class="s1">};</span><span class="s3">\n          </span><span class="s1">if (this.options.ranges) {</span><span class="s3">\n            </span><span class="s1">backup.yylloc.range = this.yylloc.range.slice(0);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">lines = match[0].match(/(?:</span><span class="s3">\\</span><span class="s1">r</span><span class="s3">\\</span><span class="s1">n?|</span><span class="s3">\\</span><span class="s1">n).*/g);</span><span class="s3">\n        </span><span class="s1">if (lines) {</span><span class="s3">\n          </span><span class="s1">this.yylineno += lines.length;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.yylloc = {</span><span class="s3">\n          </span><span class="s1">first_line: this.yylloc.last_line,</span><span class="s3">\n          </span><span class="s1">last_line: this.yylineno + 1,</span><span class="s3">\n          </span><span class="s1">first_column: this.yylloc.last_column,</span><span class="s3">\n          </span><span class="s1">last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/</span><span class="s3">\\</span><span class="s1">r?</span><span class="s3">\\</span><span class="s1">n?/)[0].length : this.yylloc.last_column + match[0].length</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.yytext += match[0];</span><span class="s3">\n        </span><span class="s1">this.match += match[0];</span><span class="s3">\n        </span><span class="s1">this.matches = match;</span><span class="s3">\n        </span><span class="s1">this.yyleng = this.yytext.length;</span><span class="s3">\n        </span><span class="s1">if (this.options.ranges) {</span><span class="s3">\n          </span><span class="s1">this.yylloc.range = [this.offset, this.offset += this.yyleng];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this._more = false;</span><span class="s3">\n        </span><span class="s1">this._backtrack = false;</span><span class="s3">\n        </span><span class="s1">this._input = this._input.slice(match[0].length);</span><span class="s3">\n        </span><span class="s1">this.matched += match[0];</span><span class="s3">\n        </span><span class="s1">token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);</span><span class="s3">\n        </span><span class="s1">if (this.done &amp;&amp; this._input) {</span><span class="s3">\n          </span><span class="s1">this.done = false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (token) {</span><span class="s3">\n          </span><span class="s1">return token;</span><span class="s3">\n        </span><span class="s1">} else if (this._backtrack) {</span><span class="s3">\n          </span><span class="s1">for (var k in backup) {</span><span class="s3">\n            </span><span class="s1">this[k] = backup[k];</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">test_match</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">// return next match in input</span><span class="s3">\n      </span><span class="s1">next: /* @__PURE__ */ __name(function() {</span><span class="s3">\n        </span><span class="s1">if (this.done) {</span><span class="s3">\n          </span><span class="s1">return this.EOF;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (!this._input) {</span><span class="s3">\n          </span><span class="s1">this.done = true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var token, match, tempMatch, index;</span><span class="s3">\n        </span><span class="s1">if (!this._more) {</span><span class="s3">\n          </span><span class="s1">this.yytext = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n          </span><span class="s1">this.match = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var rules = this._currentRules();</span><span class="s3">\n        </span><span class="s1">for (var i = 0; i &lt; rules.length; i++) {</span><span class="s3">\n          </span><span class="s1">tempMatch = this._input.match(this.rules[rules[i]]);</span><span class="s3">\n          </span><span class="s1">if (tempMatch &amp;&amp; (!match || tempMatch[0].length &gt; match[0].length)) {</span><span class="s3">\n            </span><span class="s1">match = tempMatch;</span><span class="s3">\n            </span><span class="s1">index = i;</span><span class="s3">\n            </span><span class="s1">if (this.options.backtrack_lexer) {</span><span class="s3">\n              </span><span class="s1">token = this.test_match(tempMatch, rules[i]);</span><span class="s3">\n              </span><span class="s1">if (token !== false) {</span><span class="s3">\n                </span><span class="s1">return token;</span><span class="s3">\n              </span><span class="s1">} else if (this._backtrack) {</span><span class="s3">\n                </span><span class="s1">match = false;</span><span class="s3">\n                </span><span class="s1">continue;</span><span class="s3">\n              </span><span class="s1">} else {</span><span class="s3">\n                </span><span class="s1">return false;</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">} else if (!this.options.flex) {</span><span class="s3">\n              </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (match) {</span><span class="s3">\n          </span><span class="s1">token = this.test_match(match, rules[index]);</span><span class="s3">\n          </span><span class="s1">if (token !== false) {</span><span class="s3">\n            </span><span class="s1">return token;</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this._input === </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">return this.EOF;</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">return this.parseError(</span><span class="s3">\&quot;</span><span class="s1">Lexical error on line </span><span class="s3">\&quot; </span><span class="s1">+ (this.yylineno + 1) + </span><span class="s3">\&quot;</span><span class="s1">. Unrecognized text.</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\&quot; </span><span class="s1">+ this.showPosition(), {</span><span class="s3">\n            </span><span class="s1">text: </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">token: null,</span><span class="s3">\n            </span><span class="s1">line: this.yylineno</span><span class="s3">\n          </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">next</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">// return next match that has a token</span><span class="s3">\n      </span><span class="s1">lex: /* @__PURE__ */ __name(function lex() {</span><span class="s3">\n        </span><span class="s1">var r = this.next();</span><span class="s3">\n        </span><span class="s1">if (r) {</span><span class="s3">\n          </span><span class="s1">return r;</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">return this.lex();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">lex</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)</span><span class="s3">\n      </span><span class="s1">begin: /* @__PURE__ */ __name(function begin(condition) {</span><span class="s3">\n        </span><span class="s1">this.conditionStack.push(condition);</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">begin</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">// pop the previously active lexer condition state off the condition stack</span><span class="s3">\n      </span><span class="s1">popState: /* @__PURE__ */ __name(function popState() {</span><span class="s3">\n        </span><span class="s1">var n = this.conditionStack.length - 1;</span><span class="s3">\n        </span><span class="s1">if (n &gt; 0) {</span><span class="s3">\n          </span><span class="s1">return this.conditionStack.pop();</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">return this.conditionStack[0];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">popState</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">// produce the lexer rule set which is active for the currently active lexer condition state</span><span class="s3">\n      </span><span class="s1">_currentRules: /* @__PURE__ */ __name(function _currentRules() {</span><span class="s3">\n        </span><span class="s1">if (this.conditionStack.length &amp;&amp; this.conditionStack[this.conditionStack.length - 1]) {</span><span class="s3">\n          </span><span class="s1">return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">return this.conditions[</span><span class="s3">\&quot;</span><span class="s1">INITIAL</span><span class="s3">\&quot;</span><span class="s1">].rules;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">_currentRules</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available</span><span class="s3">\n      </span><span class="s1">topState: /* @__PURE__ */ __name(function topState(n) {</span><span class="s3">\n        </span><span class="s1">n = this.conditionStack.length - 1 - Math.abs(n || 0);</span><span class="s3">\n        </span><span class="s1">if (n &gt;= 0) {</span><span class="s3">\n          </span><span class="s1">return this.conditionStack[n];</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">INITIAL</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">topState</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">// alias for begin(condition)</span><span class="s3">\n      </span><span class="s1">pushState: /* @__PURE__ */ __name(function pushState(condition) {</span><span class="s3">\n        </span><span class="s1">this.begin(condition);</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">pushState</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">// return the number of states currently on the stack</span><span class="s3">\n      </span><span class="s1">stateStackSize: /* @__PURE__ */ __name(function stateStackSize() {</span><span class="s3">\n        </span><span class="s1">return this.conditionStack.length;</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">stateStackSize</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">options: { </span><span class="s3">\&quot;</span><span class="s1">case-insensitive</span><span class="s3">\&quot;</span><span class="s1">: true },</span><span class="s3">\n      </span><span class="s1">performAction: /* @__PURE__ */ __name(function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {</span><span class="s3">\n        </span><span class="s1">var YYSTATE = YY_START;</span><span class="s3">\n        </span><span class="s1">switch ($avoiding_name_collisions) {</span><span class="s3">\n          </span><span class="s1">case 0:</span><span class="s3">\n            </span><span class="s1">return 41;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 1:</span><span class="s3">\n            </span><span class="s1">return 48;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 2:</span><span class="s3">\n            </span><span class="s1">return 49;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 3:</span><span class="s3">\n            </span><span class="s1">return 50;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 4:</span><span class="s3">\n            </span><span class="s1">return 51;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 5:</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 6:</span><span class="s3">\n            </span><span class="s1">{</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 7:</span><span class="s3">\n            </span><span class="s1">return 5;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 8:</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 9:</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 10:</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 11:</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 12:</span><span class="s3">\n            </span><span class="s1">this.pushState(</span><span class="s3">\&quot;</span><span class="s1">SCALE</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">return 17;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 13:</span><span class="s3">\n            </span><span class="s1">return 18;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 14:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 15:</span><span class="s3">\n            </span><span class="s1">this.begin(</span><span class="s3">\&quot;</span><span class="s1">acc_title</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">return 33;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 16:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">acc_title_value</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 17:</span><span class="s3">\n            </span><span class="s1">this.begin(</span><span class="s3">\&quot;</span><span class="s1">acc_descr</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">return 35;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 18:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">acc_descr_value</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 19:</span><span class="s3">\n            </span><span class="s1">this.begin(</span><span class="s3">\&quot;</span><span class="s1">acc_descr_multiline</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 20:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 21:</span><span class="s3">\n            </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">acc_descr_multiline_value</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 22:</span><span class="s3">\n            </span><span class="s1">this.pushState(</span><span class="s3">\&quot;</span><span class="s1">CLASSDEF</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">return 38;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 23:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">this.pushState(</span><span class="s3">\&quot;</span><span class="s1">CLASSDEFID</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">DEFAULT_CLASSDEF_ID</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 24:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">this.pushState(</span><span class="s3">\&quot;</span><span class="s1">CLASSDEFID</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">return 39;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 25:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">return 40;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 26:</span><span class="s3">\n            </span><span class="s1">this.pushState(</span><span class="s3">\&quot;</span><span class="s1">CLASS</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">return 45;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 27:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">this.pushState(</span><span class="s3">\&quot;</span><span class="s1">CLASS_STYLE</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">return 46;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 28:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">return 47;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 29:</span><span class="s3">\n            </span><span class="s1">this.pushState(</span><span class="s3">\&quot;</span><span class="s1">STYLE</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">return 42;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 30:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">this.pushState(</span><span class="s3">\&quot;</span><span class="s1">STYLEDEF_STYLES</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">return 43;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 31:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">return 44;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 32:</span><span class="s3">\n            </span><span class="s1">this.pushState(</span><span class="s3">\&quot;</span><span class="s1">SCALE</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">return 17;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 33:</span><span class="s3">\n            </span><span class="s1">return 18;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 34:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 35:</span><span class="s3">\n            </span><span class="s1">this.pushState(</span><span class="s3">\&quot;</span><span class="s1">STATE</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 36:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">yy_.yytext = yy_.yytext.slice(0, -8).trim();</span><span class="s3">\n            </span><span class="s1">return 25;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 37:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">yy_.yytext = yy_.yytext.slice(0, -8).trim();</span><span class="s3">\n            </span><span class="s1">return 26;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 38:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">yy_.yytext = yy_.yytext.slice(0, -10).trim();</span><span class="s3">\n            </span><span class="s1">return 27;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 39:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">yy_.yytext = yy_.yytext.slice(0, -8).trim();</span><span class="s3">\n            </span><span class="s1">return 25;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 40:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">yy_.yytext = yy_.yytext.slice(0, -8).trim();</span><span class="s3">\n            </span><span class="s1">return 26;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 41:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">yy_.yytext = yy_.yytext.slice(0, -10).trim();</span><span class="s3">\n            </span><span class="s1">return 27;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 42:</span><span class="s3">\n            </span><span class="s1">return 48;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 43:</span><span class="s3">\n            </span><span class="s1">return 49;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 44:</span><span class="s3">\n            </span><span class="s1">return 50;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 45:</span><span class="s3">\n            </span><span class="s1">return 51;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 46:</span><span class="s3">\n            </span><span class="s1">this.pushState(</span><span class="s3">\&quot;</span><span class="s1">STATE_STRING</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 47:</span><span class="s3">\n            </span><span class="s1">this.pushState(</span><span class="s3">\&quot;</span><span class="s1">STATE_ID</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">AS</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 48:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">ID</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 49:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 50:</span><span class="s3">\n            </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">STATE_DESCR</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 51:</span><span class="s3">\n            </span><span class="s1">return 19;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 52:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 53:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">this.pushState(</span><span class="s3">\&quot;</span><span class="s1">struct</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">return 20;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 54:</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 55:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">return 21;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 56:</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 57:</span><span class="s3">\n            </span><span class="s1">this.begin(</span><span class="s3">\&quot;</span><span class="s1">NOTE</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">return 29;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 58:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">this.pushState(</span><span class="s3">\&quot;</span><span class="s1">NOTE_ID</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">return 56;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 59:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">this.pushState(</span><span class="s3">\&quot;</span><span class="s1">NOTE_ID</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">return 57;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 60:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">this.pushState(</span><span class="s3">\&quot;</span><span class="s1">FLOATING_NOTE</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 61:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">this.pushState(</span><span class="s3">\&quot;</span><span class="s1">FLOATING_NOTE_ID</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">AS</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 62:</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 63:</span><span class="s3">\n            </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">NOTE_TEXT</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 64:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">ID</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 65:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">this.pushState(</span><span class="s3">\&quot;</span><span class="s1">NOTE_TEXT</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">return 24;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 66:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">yy_.yytext = yy_.yytext.substr(2).trim();</span><span class="s3">\n            </span><span class="s1">return 31;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 67:</span><span class="s3">\n            </span><span class="s1">this.popState();</span><span class="s3">\n            </span><span class="s1">yy_.yytext = yy_.yytext.slice(0, -8).trim();</span><span class="s3">\n            </span><span class="s1">return 31;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 68:</span><span class="s3">\n            </span><span class="s1">return 6;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 69:</span><span class="s3">\n            </span><span class="s1">return 6;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 70:</span><span class="s3">\n            </span><span class="s1">return 16;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 71:</span><span class="s3">\n            </span><span class="s1">return 54;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 72:</span><span class="s3">\n            </span><span class="s1">return 24;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 73:</span><span class="s3">\n            </span><span class="s1">yy_.yytext = yy_.yytext.trim();</span><span class="s3">\n            </span><span class="s1">return 14;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 74:</span><span class="s3">\n            </span><span class="s1">return 15;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 75:</span><span class="s3">\n            </span><span class="s1">return 28;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 76:</span><span class="s3">\n            </span><span class="s1">return 55;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 77:</span><span class="s3">\n            </span><span class="s1">return 5;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n          </span><span class="s1">case 78:</span><span class="s3">\n            </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">INVALID</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">anonymous</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">rules: [/^(?:default</span><span class="s3">\\</span><span class="s1">b)/i, /^(?:.*direction</span><span class="s3">\\</span><span class="s1">s+TB[^</span><span class="s3">\\</span><span class="s1">n]*)/i, /^(?:.*direction</span><span class="s3">\\</span><span class="s1">s+BT[^</span><span class="s3">\\</span><span class="s1">n]*)/i, /^(?:.*direction</span><span class="s3">\\</span><span class="s1">s+RL[^</span><span class="s3">\\</span><span class="s1">n]*)/i, /^(?:.*direction</span><span class="s3">\\</span><span class="s1">s+LR[^</span><span class="s3">\\</span><span class="s1">n]*)/i, /^(?:%%(?!</span><span class="s3">\\</span><span class="s1">{)[^</span><span class="s3">\\</span><span class="s1">n]*)/i, /^(?:[^</span><span class="s3">\\</span><span class="s1">}]%%[^</span><span class="s3">\\</span><span class="s1">n]*)/i, /^(?:[</span><span class="s3">\\</span><span class="s1">n]+)/i, /^(?:[</span><span class="s3">\\</span><span class="s1">s]+)/i, /^(?:((?!</span><span class="s3">\\</span><span class="s1">n)</span><span class="s3">\\</span><span class="s1">s)+)/i, /^(?:#[^</span><span class="s3">\\</span><span class="s1">n]*)/i, /^(?:%[^</span><span class="s3">\\</span><span class="s1">n]*)/i, /^(?:scale</span><span class="s3">\\</span><span class="s1">s+)/i, /^(?:</span><span class="s3">\\</span><span class="s1">d+)/i, /^(?:</span><span class="s3">\\</span><span class="s1">s+width</span><span class="s3">\\</span><span class="s1">b)/i, /^(?:accTitle</span><span class="s3">\\</span><span class="s1">s*:</span><span class="s3">\\</span><span class="s1">s*)/i, /^(?:(?!</span><span class="s3">\\</span><span class="s1">n||)*[^</span><span class="s3">\\</span><span class="s1">n]*)/i, /^(?:accDescr</span><span class="s3">\\</span><span class="s1">s*:</span><span class="s3">\\</span><span class="s1">s*)/i, /^(?:(?!</span><span class="s3">\\</span><span class="s1">n||)*[^</span><span class="s3">\\</span><span class="s1">n]*)/i, /^(?:accDescr</span><span class="s3">\\</span><span class="s1">s*</span><span class="s3">\\</span><span class="s1">{</span><span class="s3">\\</span><span class="s1">s*)/i, /^(?:[</span><span class="s3">\\</span><span class="s1">}])/i, /^(?:[^</span><span class="s3">\\</span><span class="s1">}]*)/i, /^(?:classDef</span><span class="s3">\\</span><span class="s1">s+)/i, /^(?:DEFAULT</span><span class="s3">\\</span><span class="s1">s+)/i, /^(?:</span><span class="s3">\\</span><span class="s1">w+</span><span class="s3">\\</span><span class="s1">s+)/i, /^(?:[^</span><span class="s3">\\</span><span class="s1">n]*)/i, /^(?:class</span><span class="s3">\\</span><span class="s1">s+)/i, /^(?:(</span><span class="s3">\\</span><span class="s1">w+)+((,</span><span class="s3">\\</span><span class="s1">s*</span><span class="s3">\\</span><span class="s1">w+)*))/i, /^(?:[^</span><span class="s3">\\</span><span class="s1">n]*)/i, /^(?:style</span><span class="s3">\\</span><span class="s1">s+)/i, /^(?:[</span><span class="s3">\\</span><span class="s1">w,]+</span><span class="s3">\\</span><span class="s1">s+)/i, /^(?:[^</span><span class="s3">\\</span><span class="s1">n]*)/i, /^(?:scale</span><span class="s3">\\</span><span class="s1">s+)/i, /^(?:</span><span class="s3">\\</span><span class="s1">d+)/i, /^(?:</span><span class="s3">\\</span><span class="s1">s+width</span><span class="s3">\\</span><span class="s1">b)/i, /^(?:state</span><span class="s3">\\</span><span class="s1">s+)/i, /^(?:.*&lt;&lt;fork&gt;&gt;)/i, /^(?:.*&lt;&lt;join&gt;&gt;)/i, /^(?:.*&lt;&lt;choice&gt;&gt;)/i, /^(?:.*</span><span class="s3">\\</span><span class="s1">[</span><span class="s3">\\</span><span class="s1">[fork</span><span class="s3">\\</span><span class="s1">]</span><span class="s3">\\</span><span class="s1">])/i, /^(?:.*</span><span class="s3">\\</span><span class="s1">[</span><span class="s3">\\</span><span class="s1">[join</span><span class="s3">\\</span><span class="s1">]</span><span class="s3">\\</span><span class="s1">])/i, /^(?:.*</span><span class="s3">\\</span><span class="s1">[</span><span class="s3">\\</span><span class="s1">[choice</span><span class="s3">\\</span><span class="s1">]</span><span class="s3">\\</span><span class="s1">])/i, /^(?:.*direction</span><span class="s3">\\</span><span class="s1">s+TB[^</span><span class="s3">\\</span><span class="s1">n]*)/i, /^(?:.*direction</span><span class="s3">\\</span><span class="s1">s+BT[^</span><span class="s3">\\</span><span class="s1">n]*)/i, /^(?:.*direction</span><span class="s3">\\</span><span class="s1">s+RL[^</span><span class="s3">\\</span><span class="s1">n]*)/i, /^(?:.*direction</span><span class="s3">\\</span><span class="s1">s+LR[^</span><span class="s3">\\</span><span class="s1">n]*)/i, /^(?:[</span><span class="s3">\&quot;</span><span class="s1">])/i, /^(?:</span><span class="s3">\\</span><span class="s1">s*as</span><span class="s3">\\</span><span class="s1">s+)/i, /^(?:[^</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\\</span><span class="s1">{]*)/i, /^(?:[</span><span class="s3">\&quot;</span><span class="s1">])/i, /^(?:[^</span><span class="s3">\&quot;</span><span class="s1">]*)/i, /^(?:[^</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\\</span><span class="s1">s</span><span class="s3">\\</span><span class="s1">{]+)/i, /^(?:</span><span class="s3">\\</span><span class="s1">n)/i, /^(?:</span><span class="s3">\\</span><span class="s1">{)/i, /^(?:%%(?!</span><span class="s3">\\</span><span class="s1">{)[^</span><span class="s3">\\</span><span class="s1">n]*)/i, /^(?:</span><span class="s3">\\</span><span class="s1">})/i, /^(?:[</span><span class="s3">\\</span><span class="s1">n])/i, /^(?:note</span><span class="s3">\\</span><span class="s1">s+)/i, /^(?:left of</span><span class="s3">\\</span><span class="s1">b)/i, /^(?:right of</span><span class="s3">\\</span><span class="s1">b)/i, /^(?:</span><span class="s3">\&quot;</span><span class="s1">)/i, /^(?:</span><span class="s3">\\</span><span class="s1">s*as</span><span class="s3">\\</span><span class="s1">s*)/i, /^(?:[</span><span class="s3">\&quot;</span><span class="s1">])/i, /^(?:[^</span><span class="s3">\&quot;</span><span class="s1">]*)/i, /^(?:[^</span><span class="s3">\\</span><span class="s1">n]*)/i, /^(?:</span><span class="s3">\\</span><span class="s1">s*[^:</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\\</span><span class="s1">s</span><span class="s3">\\</span><span class="s1">-]+)/i, /^(?:</span><span class="s3">\\</span><span class="s1">s*:[^:</span><span class="s3">\\</span><span class="s1">n;]+)/i, /^(?:[</span><span class="s3">\\</span><span class="s1">s</span><span class="s3">\\</span><span class="s1">S]*?end note</span><span class="s3">\\</span><span class="s1">b)/i, /^(?:stateDiagram</span><span class="s3">\\</span><span class="s1">s+)/i, /^(?:stateDiagram-v2</span><span class="s3">\\</span><span class="s1">s+)/i, /^(?:hide empty description</span><span class="s3">\\</span><span class="s1">b)/i, /^(?:</span><span class="s3">\\</span><span class="s1">[</span><span class="s3">\\</span><span class="s1">*</span><span class="s3">\\</span><span class="s1">])/i, /^(?:[^:</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\\</span><span class="s1">s</span><span class="s3">\\</span><span class="s1">-</span><span class="s3">\\</span><span class="s1">{]+)/i, /^(?:</span><span class="s3">\\</span><span class="s1">s*:[^:</span><span class="s3">\\</span><span class="s1">n;]+)/i, /^(?:--&gt;)/i, /^(?:--)/i, /^(?::::)/i, /^(?:$)/i, /^(?:.)/i],</span><span class="s3">\n      </span><span class="s1">conditions: { </span><span class="s3">\&quot;</span><span class="s1">LINE</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [9, 10], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">struct</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [9, 10, 22, 26, 29, 35, 42, 43, 44, 45, 54, 55, 56, 57, 71, 72, 73, 74, 75], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">FLOATING_NOTE_ID</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [64], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">FLOATING_NOTE</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [61, 62, 63], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">NOTE_TEXT</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [66, 67], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">NOTE_ID</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [65], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">NOTE</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [58, 59, 60], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">STYLEDEF_STYLEOPTS</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">STYLEDEF_STYLES</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [31], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">STYLE_IDS</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">STYLE</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [30], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">CLASS_STYLE</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [28], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">CLASS</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [27], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">CLASSDEFID</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [25], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">CLASSDEF</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [23, 24], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">acc_descr_multiline</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [20, 21], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">acc_descr</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [18], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">acc_title</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [16], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">SCALE</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [13, 14, 33, 34], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">ALIAS</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">STATE_ID</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [48], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">STATE_STRING</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [49, 50], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">FORK_STATE</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">STATE</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [9, 10, 36, 37, 38, 39, 40, 41, 46, 47, 51, 52, 53], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">ID</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [9, 10], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: false }, </span><span class="s3">\&quot;</span><span class="s1">INITIAL</span><span class="s3">\&quot;</span><span class="s1">: { </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">: [0, 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 15, 17, 19, 22, 26, 29, 32, 35, 53, 57, 68, 69, 70, 71, 72, 73, 74, 76, 77, 78], </span><span class="s3">\&quot;</span><span class="s1">inclusive</span><span class="s3">\&quot;</span><span class="s1">: true } }</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return lexer2;</span><span class="s3">\n  </span><span class="s1">}();</span><span class="s3">\n  </span><span class="s1">parser2.lexer = lexer;</span><span class="s3">\n  </span><span class="s1">function Parser() {</span><span class="s3">\n    </span><span class="s1">this.yy = {};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">__name(Parser, </span><span class="s3">\&quot;</span><span class="s1">Parser</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">Parser.prototype = parser2;</span><span class="s3">\n  </span><span class="s1">parser2.Parser = Parser;</span><span class="s3">\n  </span><span class="s1">return new Parser();</span><span class="s3">\n</span><span class="s1">}();</span><span class="s3">\n</span><span class="s1">parser.parser = parser;</span><span class="s3">\n</span><span class="s1">var stateDiagram_default = parser;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/state/stateCommon.ts</span><span class="s3">\n</span><span class="s1">var DEFAULT_DIAGRAM_DIRECTION = </span><span class="s3">\&quot;</span><span class="s1">TB</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var DEFAULT_NESTED_DOC_DIR = </span><span class="s3">\&quot;</span><span class="s1">TB</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var STMT_DIRECTION = </span><span class="s3">\&quot;</span><span class="s1">dir</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var STMT_STATE = </span><span class="s3">\&quot;</span><span class="s1">state</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var STMT_RELATION = </span><span class="s3">\&quot;</span><span class="s1">relation</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var STMT_CLASSDEF = </span><span class="s3">\&quot;</span><span class="s1">classDef</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var STMT_STYLEDEF = </span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var STMT_APPLYCLASS = </span><span class="s3">\&quot;</span><span class="s1">applyClass</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var DEFAULT_STATE_TYPE = </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var DIVIDER_TYPE = </span><span class="s3">\&quot;</span><span class="s1">divider</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var G_EDGE_STYLE = </span><span class="s3">\&quot;</span><span class="s1">fill:none</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var G_EDGE_ARROWHEADSTYLE = </span><span class="s3">\&quot;</span><span class="s1">fill: #333</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var G_EDGE_LABELPOS = </span><span class="s3">\&quot;</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var G_EDGE_LABELTYPE = </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var G_EDGE_THICKNESS = </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var SHAPE_STATE = </span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var SHAPE_STATE_WITH_DESC = </span><span class="s3">\&quot;</span><span class="s1">rectWithTitle</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var SHAPE_START = </span><span class="s3">\&quot;</span><span class="s1">stateStart</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var SHAPE_END = </span><span class="s3">\&quot;</span><span class="s1">stateEnd</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var SHAPE_DIVIDER = </span><span class="s3">\&quot;</span><span class="s1">divider</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var SHAPE_GROUP = </span><span class="s3">\&quot;</span><span class="s1">roundedWithTitle</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var SHAPE_NOTE = </span><span class="s3">\&quot;</span><span class="s1">note</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var SHAPE_NOTEGROUP = </span><span class="s3">\&quot;</span><span class="s1">noteGroup</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var CSS_DIAGRAM = </span><span class="s3">\&quot;</span><span class="s1">statediagram</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var CSS_STATE = </span><span class="s3">\&quot;</span><span class="s1">state</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var CSS_DIAGRAM_STATE = `${CSS_DIAGRAM}-${CSS_STATE}`;</span><span class="s3">\n</span><span class="s1">var CSS_EDGE = </span><span class="s3">\&quot;</span><span class="s1">transition</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var CSS_NOTE = </span><span class="s3">\&quot;</span><span class="s1">note</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var CSS_NOTE_EDGE = </span><span class="s3">\&quot;</span><span class="s1">note-edge</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var CSS_EDGE_NOTE_EDGE = `${CSS_EDGE} ${CSS_NOTE_EDGE}`;</span><span class="s3">\n</span><span class="s1">var CSS_DIAGRAM_NOTE = `${CSS_DIAGRAM}-${CSS_NOTE}`;</span><span class="s3">\n</span><span class="s1">var CSS_CLUSTER = </span><span class="s3">\&quot;</span><span class="s1">cluster</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var CSS_DIAGRAM_CLUSTER = `${CSS_DIAGRAM}-${CSS_CLUSTER}`;</span><span class="s3">\n</span><span class="s1">var CSS_CLUSTER_ALT = </span><span class="s3">\&quot;</span><span class="s1">cluster-alt</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var CSS_DIAGRAM_CLUSTER_ALT = `${CSS_DIAGRAM}-${CSS_CLUSTER_ALT}`;</span><span class="s3">\n</span><span class="s1">var PARENT = </span><span class="s3">\&quot;</span><span class="s1">parent</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var NOTE = </span><span class="s3">\&quot;</span><span class="s1">note</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var DOMID_STATE = </span><span class="s3">\&quot;</span><span class="s1">state</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var DOMID_TYPE_SPACER = </span><span class="s3">\&quot;</span><span class="s1">----</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var NOTE_ID = `${DOMID_TYPE_SPACER}${NOTE}`;</span><span class="s3">\n</span><span class="s1">var PARENT_ID = `${DOMID_TYPE_SPACER}${PARENT}`;</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/state/stateRenderer-v3-unified.ts</span><span class="s3">\n</span><span class="s1">var getDir = /* @__PURE__ */ __name((parsedItem, defaultDir = DEFAULT_NESTED_DOC_DIR) =&gt; {</span><span class="s3">\n  </span><span class="s1">if (!parsedItem.doc) {</span><span class="s3">\n    </span><span class="s1">return defaultDir;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let dir = defaultDir;</span><span class="s3">\n  </span><span class="s1">for (const parsedItemDoc of parsedItem.doc) {</span><span class="s3">\n    </span><span class="s1">if (parsedItemDoc.stmt === </span><span class="s3">\&quot;</span><span class="s1">dir</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">dir = parsedItemDoc.value;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return dir;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getDir</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getClasses = /* @__PURE__ */ __name(function(text, diagramObj) {</span><span class="s3">\n  </span><span class="s1">return diagramObj.db.getClasses();</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getClasses</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var draw = /* @__PURE__ */ __name(async function(text, id, _version, diag) {</span><span class="s3">\n  </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">REF0:</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Drawing state diagram (v2)</span><span class="s3">\&quot;</span><span class="s1">, id);</span><span class="s3">\n  </span><span class="s1">const { securityLevel, state: conf, layout } = getConfig();</span><span class="s3">\n  </span><span class="s1">diag.db.extract(diag.db.getRootDocV2());</span><span class="s3">\n  </span><span class="s1">const data4Layout = diag.db.getData();</span><span class="s3">\n  </span><span class="s1">const svg = getDiagramElement(id, securityLevel);</span><span class="s3">\n  </span><span class="s1">data4Layout.type = diag.type;</span><span class="s3">\n  </span><span class="s1">data4Layout.layoutAlgorithm = layout;</span><span class="s3">\n  </span><span class="s1">data4Layout.nodeSpacing = conf?.nodeSpacing || 50;</span><span class="s3">\n  </span><span class="s1">data4Layout.rankSpacing = conf?.rankSpacing || 50;</span><span class="s3">\n  </span><span class="s1">data4Layout.markers = [</span><span class="s3">\&quot;</span><span class="s1">barb</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n  </span><span class="s1">data4Layout.diagramId = id;</span><span class="s3">\n  </span><span class="s1">await render(data4Layout, svg);</span><span class="s3">\n  </span><span class="s1">const padding = 8;</span><span class="s3">\n  </span><span class="s1">utils_default.insertTitle(</span><span class="s3">\n    </span><span class="s1">svg,</span><span class="s3">\n    \&quot;</span><span class="s1">statediagramTitleText</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">conf?.titleTopMargin ?? 25,</span><span class="s3">\n    </span><span class="s1">diag.db.getDiagramTitle()</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">setupViewPortForSVG(svg, padding, CSS_DIAGRAM, conf?.useMaxWidth ?? true);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">draw</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var stateRenderer_v3_unified_default = {</span><span class="s3">\n  </span><span class="s1">getClasses,</span><span class="s3">\n  </span><span class="s1">draw,</span><span class="s3">\n  </span><span class="s1">getDir</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/state/dataFetcher.js</span><span class="s3">\n</span><span class="s1">var nodeDb = /* @__PURE__ */ new Map();</span><span class="s3">\n</span><span class="s1">var graphItemCount = 0;</span><span class="s3">\n</span><span class="s1">function stateDomId(itemId = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, counter = 0, type = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, typeSpacer = DOMID_TYPE_SPACER) {</span><span class="s3">\n  </span><span class="s1">const typeStr = type !== null &amp;&amp; type.length &gt; 0 ? `${typeSpacer}${type}` : </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">return `${DOMID_STATE}-${itemId}${typeStr}-${counter}`;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(stateDomId, </span><span class="s3">\&quot;</span><span class="s1">stateDomId</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var setupDoc = /* @__PURE__ */ __name((parentParsedItem, doc, diagramStates, nodes, edges, altFlag, look, classes) =&gt; {</span><span class="s3">\n  </span><span class="s1">log.trace(</span><span class="s3">\&quot;</span><span class="s1">items</span><span class="s3">\&quot;</span><span class="s1">, doc);</span><span class="s3">\n  </span><span class="s1">doc.forEach((item) =&gt; {</span><span class="s3">\n    </span><span class="s1">switch (item.stmt) {</span><span class="s3">\n      </span><span class="s1">case STMT_STATE:</span><span class="s3">\n        </span><span class="s1">dataFetcher(parentParsedItem, item, diagramStates, nodes, edges, altFlag, look, classes);</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">case DEFAULT_STATE_TYPE:</span><span class="s3">\n        </span><span class="s1">dataFetcher(parentParsedItem, item, diagramStates, nodes, edges, altFlag, look, classes);</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">case STMT_RELATION:</span><span class="s3">\n        </span><span class="s1">{</span><span class="s3">\n          </span><span class="s1">dataFetcher(</span><span class="s3">\n            </span><span class="s1">parentParsedItem,</span><span class="s3">\n            </span><span class="s1">item.state1,</span><span class="s3">\n            </span><span class="s1">diagramStates,</span><span class="s3">\n            </span><span class="s1">nodes,</span><span class="s3">\n            </span><span class="s1">edges,</span><span class="s3">\n            </span><span class="s1">altFlag,</span><span class="s3">\n            </span><span class="s1">look,</span><span class="s3">\n            </span><span class="s1">classes</span><span class="s3">\n          </span><span class="s1">);</span><span class="s3">\n          </span><span class="s1">dataFetcher(</span><span class="s3">\n            </span><span class="s1">parentParsedItem,</span><span class="s3">\n            </span><span class="s1">item.state2,</span><span class="s3">\n            </span><span class="s1">diagramStates,</span><span class="s3">\n            </span><span class="s1">nodes,</span><span class="s3">\n            </span><span class="s1">edges,</span><span class="s3">\n            </span><span class="s1">altFlag,</span><span class="s3">\n            </span><span class="s1">look,</span><span class="s3">\n            </span><span class="s1">classes</span><span class="s3">\n          </span><span class="s1">);</span><span class="s3">\n          </span><span class="s1">const edgeData = {</span><span class="s3">\n            </span><span class="s1">id: </span><span class="s3">\&quot;</span><span class="s1">edge</span><span class="s3">\&quot; </span><span class="s1">+ graphItemCount,</span><span class="s3">\n            </span><span class="s1">start: item.state1.id,</span><span class="s3">\n            </span><span class="s1">end: item.state2.id,</span><span class="s3">\n            </span><span class="s1">arrowhead: </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">arrowTypeEnd: </span><span class="s3">\&quot;</span><span class="s1">arrow_barb</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">style: G_EDGE_STYLE,</span><span class="s3">\n            </span><span class="s1">labelStyle: </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">label: common_default.sanitizeText(item.description, getConfig()),</span><span class="s3">\n            </span><span class="s1">arrowheadStyle: G_EDGE_ARROWHEADSTYLE,</span><span class="s3">\n            </span><span class="s1">labelpos: G_EDGE_LABELPOS,</span><span class="s3">\n            </span><span class="s1">labelType: G_EDGE_LABELTYPE,</span><span class="s3">\n            </span><span class="s1">thickness: G_EDGE_THICKNESS,</span><span class="s3">\n            </span><span class="s1">classes: CSS_EDGE,</span><span class="s3">\n            </span><span class="s1">look</span><span class="s3">\n          </span><span class="s1">};</span><span class="s3">\n          </span><span class="s1">edges.push(edgeData);</span><span class="s3">\n          </span><span class="s1">graphItemCount++;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">setupDoc</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var getDir2 = /* @__PURE__ */ __name((parsedItem, defaultDir = DEFAULT_NESTED_DOC_DIR) =&gt; {</span><span class="s3">\n  </span><span class="s1">let dir = defaultDir;</span><span class="s3">\n  </span><span class="s1">if (parsedItem.doc) {</span><span class="s3">\n    </span><span class="s1">for (const parsedItemDoc of parsedItem.doc) {</span><span class="s3">\n      </span><span class="s1">if (parsedItemDoc.stmt === </span><span class="s3">\&quot;</span><span class="s1">dir</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">dir = parsedItemDoc.value;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return dir;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getDir</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function insertOrUpdateNode(nodes, nodeData, classes) {</span><span class="s3">\n  </span><span class="s1">if (!nodeData.id || nodeData.id === </span><span class="s3">\&quot;</span><span class="s1">&lt;/join&gt;&lt;/fork&gt;</span><span class="s3">\&quot; </span><span class="s1">|| nodeData.id === </span><span class="s3">\&quot;</span><span class="s1">&lt;/choice&gt;</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (nodeData.cssClasses) {</span><span class="s3">\n    </span><span class="s1">if (!Array.isArray(nodeData.cssCompiledStyles)) {</span><span class="s3">\n      </span><span class="s1">nodeData.cssCompiledStyles = [];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">nodeData.cssClasses.split(</span><span class="s3">\&quot; \&quot;</span><span class="s1">).forEach((cssClass) =&gt; {</span><span class="s3">\n      </span><span class="s1">if (classes.get(cssClass)) {</span><span class="s3">\n        </span><span class="s1">const classDef = classes.get(cssClass);</span><span class="s3">\n        </span><span class="s1">nodeData.cssCompiledStyles = [...nodeData.cssCompiledStyles, ...classDef.styles];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const existingNodeData = nodes.find((node) =&gt; node.id === nodeData.id);</span><span class="s3">\n  </span><span class="s1">if (existingNodeData) {</span><span class="s3">\n    </span><span class="s1">Object.assign(existingNodeData, nodeData);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">nodes.push(nodeData);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(insertOrUpdateNode, </span><span class="s3">\&quot;</span><span class="s1">insertOrUpdateNode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function getClassesFromDbInfo(dbInfoItem) {</span><span class="s3">\n  </span><span class="s1">return dbInfoItem?.classes?.join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">) ?? </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(getClassesFromDbInfo, </span><span class="s3">\&quot;</span><span class="s1">getClassesFromDbInfo</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function getStylesFromDbInfo(dbInfoItem) {</span><span class="s3">\n  </span><span class="s1">return dbInfoItem?.styles ?? [];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(getStylesFromDbInfo, </span><span class="s3">\&quot;</span><span class="s1">getStylesFromDbInfo</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var dataFetcher = /* @__PURE__ */ __name((parent, parsedItem, diagramStates, nodes, edges, altFlag, look, classes) =&gt; {</span><span class="s3">\n  </span><span class="s1">const itemId = parsedItem.id;</span><span class="s3">\n  </span><span class="s1">const dbState = diagramStates.get(itemId);</span><span class="s3">\n  </span><span class="s1">const classStr = getClassesFromDbInfo(dbState);</span><span class="s3">\n  </span><span class="s1">const style = getStylesFromDbInfo(dbState);</span><span class="s3">\n  </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">dataFetcher parsedItem</span><span class="s3">\&quot;</span><span class="s1">, parsedItem, dbState, style);</span><span class="s3">\n  </span><span class="s1">if (itemId !== </span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">let shape = SHAPE_STATE;</span><span class="s3">\n    </span><span class="s1">if (parsedItem.start === true) {</span><span class="s3">\n      </span><span class="s1">shape = SHAPE_START;</span><span class="s3">\n    </span><span class="s1">} else if (parsedItem.start === false) {</span><span class="s3">\n      </span><span class="s1">shape = SHAPE_END;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (parsedItem.type !== DEFAULT_STATE_TYPE) {</span><span class="s3">\n      </span><span class="s1">shape = parsedItem.type;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!nodeDb.get(itemId)) {</span><span class="s3">\n      </span><span class="s1">nodeDb.set(itemId, {</span><span class="s3">\n        </span><span class="s1">id: itemId,</span><span class="s3">\n        </span><span class="s1">shape,</span><span class="s3">\n        </span><span class="s1">description: common_default.sanitizeText(itemId, getConfig()),</span><span class="s3">\n        </span><span class="s1">cssClasses: `${classStr} ${CSS_DIAGRAM_STATE}`,</span><span class="s3">\n        </span><span class="s1">cssStyles: style</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const newNode = nodeDb.get(itemId);</span><span class="s3">\n    </span><span class="s1">if (parsedItem.description) {</span><span class="s3">\n      </span><span class="s1">if (Array.isArray(newNode.description)) {</span><span class="s3">\n        </span><span class="s1">newNode.shape = SHAPE_STATE_WITH_DESC;</span><span class="s3">\n        </span><span class="s1">newNode.description.push(parsedItem.description);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">if (newNode.description?.length &gt; 0) {</span><span class="s3">\n          </span><span class="s1">newNode.shape = SHAPE_STATE_WITH_DESC;</span><span class="s3">\n          </span><span class="s1">if (newNode.description === itemId) {</span><span class="s3">\n            </span><span class="s1">newNode.description = [parsedItem.description];</span><span class="s3">\n          </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">newNode.description = [newNode.description, parsedItem.description];</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">newNode.shape = SHAPE_STATE;</span><span class="s3">\n          </span><span class="s1">newNode.description = parsedItem.description;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">newNode.description = common_default.sanitizeTextOrArray(newNode.description, getConfig());</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (newNode.description?.length === 1 &amp;&amp; newNode.shape === SHAPE_STATE_WITH_DESC) {</span><span class="s3">\n      </span><span class="s1">if (newNode.type === </span><span class="s3">\&quot;</span><span class="s1">group</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">newNode.shape = SHAPE_GROUP;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">newNode.shape = SHAPE_STATE;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!newNode.type &amp;&amp; parsedItem.doc) {</span><span class="s3">\n      </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Setting cluster for XCX</span><span class="s3">\&quot;</span><span class="s1">, itemId, getDir2(parsedItem));</span><span class="s3">\n      </span><span class="s1">newNode.type = </span><span class="s3">\&quot;</span><span class="s1">group</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">newNode.isGroup = true;</span><span class="s3">\n      </span><span class="s1">newNode.dir = getDir2(parsedItem);</span><span class="s3">\n      </span><span class="s1">newNode.shape = parsedItem.type === DIVIDER_TYPE ? SHAPE_DIVIDER : SHAPE_GROUP;</span><span class="s3">\n      </span><span class="s1">newNode.cssClasses = `${newNode.cssClasses} ${CSS_DIAGRAM_CLUSTER} ${altFlag ? CSS_DIAGRAM_CLUSTER_ALT : </span><span class="s3">\&quot;\&quot;</span><span class="s1">}`;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const nodeData = {</span><span class="s3">\n      </span><span class="s1">labelStyle: </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">shape: newNode.shape,</span><span class="s3">\n      </span><span class="s1">label: newNode.description,</span><span class="s3">\n      </span><span class="s1">cssClasses: newNode.cssClasses,</span><span class="s3">\n      </span><span class="s1">cssCompiledStyles: [],</span><span class="s3">\n      </span><span class="s1">cssStyles: newNode.cssStyles,</span><span class="s3">\n      </span><span class="s1">id: itemId,</span><span class="s3">\n      </span><span class="s1">dir: newNode.dir,</span><span class="s3">\n      </span><span class="s1">domId: stateDomId(itemId, graphItemCount),</span><span class="s3">\n      </span><span class="s1">type: newNode.type,</span><span class="s3">\n      </span><span class="s1">isGroup: newNode.type === </span><span class="s3">\&quot;</span><span class="s1">group</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">padding: 8,</span><span class="s3">\n      </span><span class="s1">rx: 10,</span><span class="s3">\n      </span><span class="s1">ry: 10,</span><span class="s3">\n      </span><span class="s1">look</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">if (nodeData.shape === SHAPE_DIVIDER) {</span><span class="s3">\n      </span><span class="s1">nodeData.label = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (parent &amp;&amp; parent.id !== </span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">log.trace(</span><span class="s3">\&quot;</span><span class="s1">Setting node </span><span class="s3">\&quot;</span><span class="s1">, itemId, </span><span class="s3">\&quot; </span><span class="s1">to be child of its parent </span><span class="s3">\&quot;</span><span class="s1">, parent.id);</span><span class="s3">\n      </span><span class="s1">nodeData.parentId = parent.id;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">nodeData.centerLabel = true;</span><span class="s3">\n    </span><span class="s1">if (parsedItem.note) {</span><span class="s3">\n      </span><span class="s1">const noteData = {</span><span class="s3">\n        </span><span class="s1">labelStyle: </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">shape: SHAPE_NOTE,</span><span class="s3">\n        </span><span class="s1">label: parsedItem.note.text,</span><span class="s3">\n        </span><span class="s1">cssClasses: CSS_DIAGRAM_NOTE,</span><span class="s3">\n        </span><span class="s1">// useHtmlLabels: false,</span><span class="s3">\n        </span><span class="s1">cssStyles: [],</span><span class="s3">\n        </span><span class="s1">cssCompilesStyles: [],</span><span class="s3">\n        </span><span class="s1">id: itemId + NOTE_ID + </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">+ graphItemCount,</span><span class="s3">\n        </span><span class="s1">domId: stateDomId(itemId, graphItemCount, NOTE),</span><span class="s3">\n        </span><span class="s1">type: newNode.type,</span><span class="s3">\n        </span><span class="s1">isGroup: newNode.type === </span><span class="s3">\&quot;</span><span class="s1">group</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">padding: getConfig().flowchart.padding,</span><span class="s3">\n        </span><span class="s1">look,</span><span class="s3">\n        </span><span class="s1">position: parsedItem.note.position</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n      </span><span class="s1">const parentNodeId = itemId + PARENT_ID;</span><span class="s3">\n      </span><span class="s1">const groupData = {</span><span class="s3">\n        </span><span class="s1">labelStyle: </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">shape: SHAPE_NOTEGROUP,</span><span class="s3">\n        </span><span class="s1">label: parsedItem.note.text,</span><span class="s3">\n        </span><span class="s1">cssClasses: newNode.cssClasses,</span><span class="s3">\n        </span><span class="s1">cssStyles: [],</span><span class="s3">\n        </span><span class="s1">id: itemId + PARENT_ID,</span><span class="s3">\n        </span><span class="s1">domId: stateDomId(itemId, graphItemCount, PARENT),</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">group</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">isGroup: true,</span><span class="s3">\n        </span><span class="s1">padding: 16,</span><span class="s3">\n        </span><span class="s1">//getConfig().flowchart.padding</span><span class="s3">\n        </span><span class="s1">look,</span><span class="s3">\n        </span><span class="s1">position: parsedItem.note.position</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n      </span><span class="s1">graphItemCount++;</span><span class="s3">\n      </span><span class="s1">groupData.id = parentNodeId;</span><span class="s3">\n      </span><span class="s1">noteData.parentId = parentNodeId;</span><span class="s3">\n      </span><span class="s1">insertOrUpdateNode(nodes, groupData, classes);</span><span class="s3">\n      </span><span class="s1">insertOrUpdateNode(nodes, noteData, classes);</span><span class="s3">\n      </span><span class="s1">insertOrUpdateNode(nodes, nodeData, classes);</span><span class="s3">\n      </span><span class="s1">let from = itemId;</span><span class="s3">\n      </span><span class="s1">let to = noteData.id;</span><span class="s3">\n      </span><span class="s1">if (parsedItem.note.position === </span><span class="s3">\&quot;</span><span class="s1">left of</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">from = noteData.id;</span><span class="s3">\n        </span><span class="s1">to = itemId;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">edges.push({</span><span class="s3">\n        </span><span class="s1">id: from + </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">+ to,</span><span class="s3">\n        </span><span class="s1">start: from,</span><span class="s3">\n        </span><span class="s1">end: to,</span><span class="s3">\n        </span><span class="s1">arrowhead: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">arrowTypeEnd: </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">style: G_EDGE_STYLE,</span><span class="s3">\n        </span><span class="s1">labelStyle: </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">classes: CSS_EDGE_NOTE_EDGE,</span><span class="s3">\n        </span><span class="s1">arrowheadStyle: G_EDGE_ARROWHEADSTYLE,</span><span class="s3">\n        </span><span class="s1">labelpos: G_EDGE_LABELPOS,</span><span class="s3">\n        </span><span class="s1">labelType: G_EDGE_LABELTYPE,</span><span class="s3">\n        </span><span class="s1">thickness: G_EDGE_THICKNESS,</span><span class="s3">\n        </span><span class="s1">look</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">insertOrUpdateNode(nodes, nodeData, classes);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (parsedItem.doc) {</span><span class="s3">\n    </span><span class="s1">log.trace(</span><span class="s3">\&quot;</span><span class="s1">Adding nodes children </span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">setupDoc(parsedItem, parsedItem.doc, diagramStates, nodes, edges, !altFlag, look, classes);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">dataFetcher</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var reset = /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n  </span><span class="s1">nodeDb.clear();</span><span class="s3">\n  </span><span class="s1">graphItemCount = 0;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">reset</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/state/stateDb.js</span><span class="s3">\n</span><span class="s1">var START_NODE = </span><span class="s3">\&quot;</span><span class="s1">[*]</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var START_TYPE = </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var END_NODE = START_NODE;</span><span class="s3">\n</span><span class="s1">var END_TYPE = </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var COLOR_KEYWORD = </span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var FILL_KEYWORD = </span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var BG_FILL = </span><span class="s3">\&quot;</span><span class="s1">bgFill</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var STYLECLASS_SEP = </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function newClassesList() {</span><span class="s3">\n  </span><span class="s1">return /* @__PURE__ */ new Map();</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__name(newClassesList, </span><span class="s3">\&quot;</span><span class="s1">newClassesList</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var newDoc = /* @__PURE__ */ __name(() =&gt; {</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">/** @type {{ id1: string, id2: string, relationTitle: string }[]} */</span><span class="s3">\n    </span><span class="s1">relations: [],</span><span class="s3">\n    </span><span class="s1">states: /* @__PURE__ */ new Map(),</span><span class="s3">\n    </span><span class="s1">documents: {}</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">newDoc</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var clone = /* @__PURE__ */ __name((o) =&gt; JSON.parse(JSON.stringify(o)), </span><span class="s3">\&quot;</span><span class="s1">clone</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var StateDB = class {</span><span class="s3">\n  </span><span class="s1">static {</span><span class="s3">\n    </span><span class="s1">__name(this, </span><span class="s3">\&quot;</span><span class="s1">StateDB</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* @param {1 | 2} version - v1 renderer or v2 renderer.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">constructor(version) {</span><span class="s3">\n    </span><span class="s1">this.clear();</span><span class="s3">\n    </span><span class="s1">this.version = version;</span><span class="s3">\n    </span><span class="s1">this.setRootDoc = this.setRootDoc.bind(this);</span><span class="s3">\n    </span><span class="s1">this.getDividerId = this.getDividerId.bind(this);</span><span class="s3">\n    </span><span class="s1">this.setDirection = this.setDirection.bind(this);</span><span class="s3">\n    </span><span class="s1">this.trimColon = this.trimColon.bind(this);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* @private</span><span class="s3">\n   </span><span class="s1">* @type {1 | 2}</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">version;</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* @private</span><span class="s3">\n   </span><span class="s1">* @type {Array}</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">nodes = [];</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* @private</span><span class="s3">\n   </span><span class="s1">* @type {Array}</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">edges = [];</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* @private</span><span class="s3">\n   </span><span class="s1">* @type {Array}</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">rootDoc = [];</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* @private</span><span class="s3">\n   </span><span class="s1">* @type {Map&lt;string, any&gt;}</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">classes = newClassesList();</span><span class="s3">\n  </span><span class="s1">// style classes defined by a classDef</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* @private</span><span class="s3">\n   </span><span class="s1">* @type {Object}</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">documents = {</span><span class="s3">\n    </span><span class="s1">root: newDoc()</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* @private</span><span class="s3">\n   </span><span class="s1">* @type {Object}</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">currentDocument = this.documents.root;</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* @private</span><span class="s3">\n   </span><span class="s1">* @type {number}</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">startEndCount = 0;</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* @private</span><span class="s3">\n   </span><span class="s1">* @type {number}</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">dividerCnt = 0;</span><span class="s3">\n  </span><span class="s1">static relationType = {</span><span class="s3">\n    </span><span class="s1">AGGREGATION: 0,</span><span class="s3">\n    </span><span class="s1">EXTENSION: 1,</span><span class="s3">\n    </span><span class="s1">COMPOSITION: 2,</span><span class="s3">\n    </span><span class="s1">DEPENDENCY: 3</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">setRootDoc(o) {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Setting root doc</span><span class="s3">\&quot;</span><span class="s1">, o);</span><span class="s3">\n    </span><span class="s1">this.rootDoc = o;</span><span class="s3">\n    </span><span class="s1">if (this.version === 1) {</span><span class="s3">\n      </span><span class="s1">this.extract(o);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">this.extract(this.getRootDocV2());</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">getRootDoc() {</span><span class="s3">\n    </span><span class="s1">return this.rootDoc;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* @private</span><span class="s3">\n   </span><span class="s1">* @param {Object} parent</span><span class="s3">\n   </span><span class="s1">* @param {Object} node</span><span class="s3">\n   </span><span class="s1">* @param {boolean} first</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">docTranslator(parent, node, first) {</span><span class="s3">\n    </span><span class="s1">if (node.stmt === STMT_RELATION) {</span><span class="s3">\n      </span><span class="s1">this.docTranslator(parent, node.state1, true);</span><span class="s3">\n      </span><span class="s1">this.docTranslator(parent, node.state2, false);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">if (node.stmt === STMT_STATE) {</span><span class="s3">\n        </span><span class="s1">if (node.id === </span><span class="s3">\&quot;</span><span class="s1">[*]</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">node.id = first ? parent.id + </span><span class="s3">\&quot;</span><span class="s1">_start</span><span class="s3">\&quot; </span><span class="s1">: parent.id + </span><span class="s3">\&quot;</span><span class="s1">_end</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n          </span><span class="s1">node.start = first;</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">node.id = node.id.trim();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (node.doc) {</span><span class="s3">\n        </span><span class="s1">const doc = [];</span><span class="s3">\n        </span><span class="s1">let currentDoc = [];</span><span class="s3">\n        </span><span class="s1">let i;</span><span class="s3">\n        </span><span class="s1">for (i = 0; i &lt; node.doc.length; i++) {</span><span class="s3">\n          </span><span class="s1">if (node.doc[i].type === DIVIDER_TYPE) {</span><span class="s3">\n            </span><span class="s1">const newNode = clone(node.doc[i]);</span><span class="s3">\n            </span><span class="s1">newNode.doc = clone(currentDoc);</span><span class="s3">\n            </span><span class="s1">doc.push(newNode);</span><span class="s3">\n            </span><span class="s1">currentDoc = [];</span><span class="s3">\n          </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">currentDoc.push(node.doc[i]);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (doc.length &gt; 0 &amp;&amp; currentDoc.length &gt; 0) {</span><span class="s3">\n          </span><span class="s1">const newNode = {</span><span class="s3">\n            </span><span class="s1">stmt: STMT_STATE,</span><span class="s3">\n            </span><span class="s1">id: generateId(),</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">divider</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">doc: clone(currentDoc)</span><span class="s3">\n          </span><span class="s1">};</span><span class="s3">\n          </span><span class="s1">doc.push(clone(newNode));</span><span class="s3">\n          </span><span class="s1">node.doc = doc;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">node.doc.forEach((docNode) =&gt; this.docTranslator(node, docNode, true));</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* @private</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">getRootDocV2() {</span><span class="s3">\n    </span><span class="s1">this.docTranslator({ id: </span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot; </span><span class="s1">}, { id: </span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot;</span><span class="s1">, doc: this.rootDoc }, true);</span><span class="s3">\n    </span><span class="s1">return { id: </span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot;</span><span class="s1">, doc: this.rootDoc };</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Convert all of the statements (stmts) that were parsed into states and relationships.</span><span class="s3">\n   </span><span class="s1">* This is done because a state diagram may have nested sections,</span><span class="s3">\n   </span><span class="s1">* where each section is a 'document' and has its own set of statements.</span><span class="s3">\n   </span><span class="s1">* Ex: the section within a fork has its own statements, and incoming and outgoing statements</span><span class="s3">\n   </span><span class="s1">* refer to the fork as a whole (document).</span><span class="s3">\n   </span><span class="s1">* See the parser grammar:  the definition of a document is a document then a 'line', where a line can be a statement.</span><span class="s3">\n   </span><span class="s1">* This will push the statement into the list of statements for the current document.</span><span class="s3">\n   </span><span class="s1">* @private</span><span class="s3">\n   </span><span class="s1">* @param _doc</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">extract(_doc) {</span><span class="s3">\n    </span><span class="s1">let doc;</span><span class="s3">\n    </span><span class="s1">if (_doc.doc) {</span><span class="s3">\n      </span><span class="s1">doc = _doc.doc;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">doc = _doc;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">log.info(doc);</span><span class="s3">\n    </span><span class="s1">this.clear(true);</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Extract initial document:</span><span class="s3">\&quot;</span><span class="s1">, doc);</span><span class="s3">\n    </span><span class="s1">doc.forEach((item) =&gt; {</span><span class="s3">\n      </span><span class="s1">log.warn(</span><span class="s3">\&quot;</span><span class="s1">Statement</span><span class="s3">\&quot;</span><span class="s1">, item.stmt);</span><span class="s3">\n      </span><span class="s1">switch (item.stmt) {</span><span class="s3">\n        </span><span class="s1">case STMT_STATE:</span><span class="s3">\n          </span><span class="s1">this.addState(</span><span class="s3">\n            </span><span class="s1">item.id.trim(),</span><span class="s3">\n            </span><span class="s1">item.type,</span><span class="s3">\n            </span><span class="s1">item.doc,</span><span class="s3">\n            </span><span class="s1">item.description,</span><span class="s3">\n            </span><span class="s1">item.note,</span><span class="s3">\n            </span><span class="s1">item.classes,</span><span class="s3">\n            </span><span class="s1">item.styles,</span><span class="s3">\n            </span><span class="s1">item.textStyles</span><span class="s3">\n          </span><span class="s1">);</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case STMT_RELATION:</span><span class="s3">\n          </span><span class="s1">this.addRelation(item.state1, item.state2, item.description);</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case STMT_CLASSDEF:</span><span class="s3">\n          </span><span class="s1">this.addStyleClass(item.id.trim(), item.classes);</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case STMT_STYLEDEF:</span><span class="s3">\n          </span><span class="s1">{</span><span class="s3">\n            </span><span class="s1">const ids = item.id.trim().split(</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">const styles = item.styleClass.split(</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">ids.forEach((id) =&gt; {</span><span class="s3">\n              </span><span class="s1">let foundState = this.getState(id);</span><span class="s3">\n              </span><span class="s1">if (foundState === void 0) {</span><span class="s3">\n                </span><span class="s1">const trimmedId = id.trim();</span><span class="s3">\n                </span><span class="s1">this.addState(trimmedId);</span><span class="s3">\n                </span><span class="s1">foundState = this.getState(trimmedId);</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n              </span><span class="s1">foundState.styles = styles.map((s) =&gt; s.replace(/;/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">)?.trim());</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case STMT_APPLYCLASS:</span><span class="s3">\n          </span><span class="s1">this.setCssClass(item.id.trim(), item.styleClass);</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">const diagramStates = this.getStates();</span><span class="s3">\n    </span><span class="s1">const config = getConfig();</span><span class="s3">\n    </span><span class="s1">const look = config.look;</span><span class="s3">\n    </span><span class="s1">reset();</span><span class="s3">\n    </span><span class="s1">dataFetcher(</span><span class="s3">\n      </span><span class="s1">void 0,</span><span class="s3">\n      </span><span class="s1">this.getRootDocV2(),</span><span class="s3">\n      </span><span class="s1">diagramStates,</span><span class="s3">\n      </span><span class="s1">this.nodes,</span><span class="s3">\n      </span><span class="s1">this.edges,</span><span class="s3">\n      </span><span class="s1">true,</span><span class="s3">\n      </span><span class="s1">look,</span><span class="s3">\n      </span><span class="s1">this.classes</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">this.nodes.forEach((node) =&gt; {</span><span class="s3">\n      </span><span class="s1">if (Array.isArray(node.label)) {</span><span class="s3">\n        </span><span class="s1">node.description = node.label.slice(1);</span><span class="s3">\n        </span><span class="s1">if (node.isGroup &amp;&amp; node.description.length &gt; 0) {</span><span class="s3">\n          </span><span class="s1">throw new Error(</span><span class="s3">\n            \&quot;</span><span class="s1">Group nodes can only have label. Remove the additional description for node [</span><span class="s3">\&quot; </span><span class="s1">+ node.id + </span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot;\n          </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">node.label = node.label[0];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Function called by parser when a node definition has been found.</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param {null | string} id</span><span class="s3">\n   </span><span class="s1">* @param {null | string} type</span><span class="s3">\n   </span><span class="s1">* @param {null | string} doc</span><span class="s3">\n   </span><span class="s1">* @param {null | string | string[]} descr - description for the state. Can be a string or a list or strings</span><span class="s3">\n   </span><span class="s1">* @param {null | string} note</span><span class="s3">\n   </span><span class="s1">* @param {null | string | string[]} classes - class styles to apply to this state. Can be a string (1 style) or an array of styles. If it's just 1 class, convert it to an array of that 1 class.</span><span class="s3">\n   </span><span class="s1">* @param {null | string | string[]} styles - styles to apply to this state. Can be a string (1 style) or an array of styles. If it's just 1 style, convert it to an array of that 1 style.</span><span class="s3">\n   </span><span class="s1">* @param {null | string | string[]} textStyles - text styles to apply to this state. Can be a string (1 text test) or an array of text styles. If it's just 1 text style, convert it to an array of that 1 text style.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">addState(id, type = DEFAULT_STATE_TYPE, doc = null, descr = null, note = null, classes = null, styles = null, textStyles = null) {</span><span class="s3">\n    </span><span class="s1">const trimmedId = id?.trim();</span><span class="s3">\n    </span><span class="s1">if (!this.currentDocument.states.has(trimmedId)) {</span><span class="s3">\n      </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Adding state </span><span class="s3">\&quot;</span><span class="s1">, trimmedId, descr);</span><span class="s3">\n      </span><span class="s1">this.currentDocument.states.set(trimmedId, {</span><span class="s3">\n        </span><span class="s1">id: trimmedId,</span><span class="s3">\n        </span><span class="s1">descriptions: [],</span><span class="s3">\n        </span><span class="s1">type,</span><span class="s3">\n        </span><span class="s1">doc,</span><span class="s3">\n        </span><span class="s1">note,</span><span class="s3">\n        </span><span class="s1">classes: [],</span><span class="s3">\n        </span><span class="s1">styles: [],</span><span class="s3">\n        </span><span class="s1">textStyles: []</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">if (!this.currentDocument.states.get(trimmedId).doc) {</span><span class="s3">\n        </span><span class="s1">this.currentDocument.states.get(trimmedId).doc = doc;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (!this.currentDocument.states.get(trimmedId).type) {</span><span class="s3">\n        </span><span class="s1">this.currentDocument.states.get(trimmedId).type = type;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (descr) {</span><span class="s3">\n      </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Setting state description</span><span class="s3">\&quot;</span><span class="s1">, trimmedId, descr);</span><span class="s3">\n      </span><span class="s1">if (typeof descr === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">this.addDescription(trimmedId, descr.trim());</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (typeof descr === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">descr.forEach((des) =&gt; this.addDescription(trimmedId, des.trim()));</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (note) {</span><span class="s3">\n      </span><span class="s1">const doc2 = this.currentDocument.states.get(trimmedId);</span><span class="s3">\n      </span><span class="s1">doc2.note = note;</span><span class="s3">\n      </span><span class="s1">doc2.note.text = common_default.sanitizeText(doc2.note.text, getConfig());</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (classes) {</span><span class="s3">\n      </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Setting state classes</span><span class="s3">\&quot;</span><span class="s1">, trimmedId, classes);</span><span class="s3">\n      </span><span class="s1">const classesList = typeof classes === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">? [classes] : classes;</span><span class="s3">\n      </span><span class="s1">classesList.forEach((cssClass) =&gt; this.setCssClass(trimmedId, cssClass.trim()));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (styles) {</span><span class="s3">\n      </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Setting state styles</span><span class="s3">\&quot;</span><span class="s1">, trimmedId, styles);</span><span class="s3">\n      </span><span class="s1">const stylesList = typeof styles === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">? [styles] : styles;</span><span class="s3">\n      </span><span class="s1">stylesList.forEach((style) =&gt; this.setStyle(trimmedId, style.trim()));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (textStyles) {</span><span class="s3">\n      </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Setting state styles</span><span class="s3">\&quot;</span><span class="s1">, trimmedId, styles);</span><span class="s3">\n      </span><span class="s1">const textStylesList = typeof textStyles === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">? [textStyles] : textStyles;</span><span class="s3">\n      </span><span class="s1">textStylesList.forEach((textStyle) =&gt; this.setTextStyle(trimmedId, textStyle.trim()));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">clear(saveCommon) {</span><span class="s3">\n    </span><span class="s1">this.nodes = [];</span><span class="s3">\n    </span><span class="s1">this.edges = [];</span><span class="s3">\n    </span><span class="s1">this.documents = {</span><span class="s3">\n      </span><span class="s1">root: newDoc()</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">this.currentDocument = this.documents.root;</span><span class="s3">\n    </span><span class="s1">this.startEndCount = 0;</span><span class="s3">\n    </span><span class="s1">this.classes = newClassesList();</span><span class="s3">\n    </span><span class="s1">if (!saveCommon) {</span><span class="s3">\n      </span><span class="s1">clear();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">getState(id) {</span><span class="s3">\n    </span><span class="s1">return this.currentDocument.states.get(id);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">getStates() {</span><span class="s3">\n    </span><span class="s1">return this.currentDocument.states;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">logDocuments() {</span><span class="s3">\n    </span><span class="s1">log.info(</span><span class="s3">\&quot;</span><span class="s1">Documents = </span><span class="s3">\&quot;</span><span class="s1">, this.documents);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">getRelations() {</span><span class="s3">\n    </span><span class="s1">return this.currentDocument.relations;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* If the id is a start node ( [*] ), then return a new id constructed from</span><span class="s3">\n   </span><span class="s1">* the start node name and the current start node count.</span><span class="s3">\n   </span><span class="s1">* else return the given id</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param {string} id</span><span class="s3">\n   </span><span class="s1">* @returns {string} - the id (original or constructed)</span><span class="s3">\n   </span><span class="s1">* @private</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">startIdIfNeeded(id = </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">let fixedId = id;</span><span class="s3">\n    </span><span class="s1">if (id === START_NODE) {</span><span class="s3">\n      </span><span class="s1">this.startEndCount++;</span><span class="s3">\n      </span><span class="s1">fixedId = `${START_TYPE}${this.startEndCount}`;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return fixedId;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* If the id is a start node ( [*] ), then return the start type ('start')</span><span class="s3">\n   </span><span class="s1">* else return the given type</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param {string} id</span><span class="s3">\n   </span><span class="s1">* @param {string} type</span><span class="s3">\n   </span><span class="s1">* @returns {string} - the type that should be used</span><span class="s3">\n   </span><span class="s1">* @private</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">startTypeIfNeeded(id = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, type = DEFAULT_STATE_TYPE) {</span><span class="s3">\n    </span><span class="s1">return id === START_NODE ? START_TYPE : type;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* If the id is an end node ( [*] ), then return a new id constructed from</span><span class="s3">\n   </span><span class="s1">* the end node name and the current start_end node count.</span><span class="s3">\n   </span><span class="s1">* else return the given id</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param {string} id</span><span class="s3">\n   </span><span class="s1">* @returns {string} - the id (original or constructed)</span><span class="s3">\n   </span><span class="s1">* @private</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">endIdIfNeeded(id = </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">let fixedId = id;</span><span class="s3">\n    </span><span class="s1">if (id === END_NODE) {</span><span class="s3">\n      </span><span class="s1">this.startEndCount++;</span><span class="s3">\n      </span><span class="s1">fixedId = `${END_TYPE}${this.startEndCount}`;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return fixedId;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* If the id is an end node ( [*] ), then return the end type</span><span class="s3">\n   </span><span class="s1">* else return the given type</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param {string} id</span><span class="s3">\n   </span><span class="s1">* @param {string} type</span><span class="s3">\n   </span><span class="s1">* @returns {string} - the type that should be used</span><span class="s3">\n   </span><span class="s1">* @private</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">endTypeIfNeeded(id = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, type = DEFAULT_STATE_TYPE) {</span><span class="s3">\n    </span><span class="s1">return id === END_NODE ? END_TYPE : type;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param item1</span><span class="s3">\n   </span><span class="s1">* @param item2</span><span class="s3">\n   </span><span class="s1">* @param relationTitle</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">addRelationObjs(item1, item2, relationTitle) {</span><span class="s3">\n    </span><span class="s1">let id1 = this.startIdIfNeeded(item1.id.trim());</span><span class="s3">\n    </span><span class="s1">let type1 = this.startTypeIfNeeded(item1.id.trim(), item1.type);</span><span class="s3">\n    </span><span class="s1">let id2 = this.startIdIfNeeded(item2.id.trim());</span><span class="s3">\n    </span><span class="s1">let type2 = this.startTypeIfNeeded(item2.id.trim(), item2.type);</span><span class="s3">\n    </span><span class="s1">this.addState(</span><span class="s3">\n      </span><span class="s1">id1,</span><span class="s3">\n      </span><span class="s1">type1,</span><span class="s3">\n      </span><span class="s1">item1.doc,</span><span class="s3">\n      </span><span class="s1">item1.description,</span><span class="s3">\n      </span><span class="s1">item1.note,</span><span class="s3">\n      </span><span class="s1">item1.classes,</span><span class="s3">\n      </span><span class="s1">item1.styles,</span><span class="s3">\n      </span><span class="s1">item1.textStyles</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">this.addState(</span><span class="s3">\n      </span><span class="s1">id2,</span><span class="s3">\n      </span><span class="s1">type2,</span><span class="s3">\n      </span><span class="s1">item2.doc,</span><span class="s3">\n      </span><span class="s1">item2.description,</span><span class="s3">\n      </span><span class="s1">item2.note,</span><span class="s3">\n      </span><span class="s1">item2.classes,</span><span class="s3">\n      </span><span class="s1">item2.styles,</span><span class="s3">\n      </span><span class="s1">item2.textStyles</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">this.currentDocument.relations.push({</span><span class="s3">\n      </span><span class="s1">id1,</span><span class="s3">\n      </span><span class="s1">id2,</span><span class="s3">\n      </span><span class="s1">relationTitle: common_default.sanitizeText(relationTitle, getConfig())</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Add a relation between two items.  The items may be full objects or just the string id of a state.</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param {string | object} item1</span><span class="s3">\n   </span><span class="s1">* @param {string | object} item2</span><span class="s3">\n   </span><span class="s1">* @param {string} title</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">addRelation(item1, item2, title) {</span><span class="s3">\n    </span><span class="s1">if (typeof item1 === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">this.addRelationObjs(item1, item2, title);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">const id1 = this.startIdIfNeeded(item1.trim());</span><span class="s3">\n      </span><span class="s1">const type1 = this.startTypeIfNeeded(item1);</span><span class="s3">\n      </span><span class="s1">const id2 = this.endIdIfNeeded(item2.trim());</span><span class="s3">\n      </span><span class="s1">const type2 = this.endTypeIfNeeded(item2);</span><span class="s3">\n      </span><span class="s1">this.addState(id1, type1);</span><span class="s3">\n      </span><span class="s1">this.addState(id2, type2);</span><span class="s3">\n      </span><span class="s1">this.currentDocument.relations.push({</span><span class="s3">\n        </span><span class="s1">id1,</span><span class="s3">\n        </span><span class="s1">id2,</span><span class="s3">\n        </span><span class="s1">title: common_default.sanitizeText(title, getConfig())</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">addDescription(id, descr) {</span><span class="s3">\n    </span><span class="s1">const theState = this.currentDocument.states.get(id);</span><span class="s3">\n    </span><span class="s1">const _descr = descr.startsWith(</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">) ? descr.replace(</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">).trim() : descr;</span><span class="s3">\n    </span><span class="s1">theState.descriptions.push(common_default.sanitizeText(_descr, getConfig()));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">cleanupLabel(label) {</span><span class="s3">\n    </span><span class="s1">if (label.substring(0, 1) === </span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">return label.substr(2).trim();</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return label.trim();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">getDividerId() {</span><span class="s3">\n    </span><span class="s1">this.dividerCnt++;</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">divider-id-</span><span class="s3">\&quot; </span><span class="s1">+ this.dividerCnt;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Called when the parser comes across a (style) class definition</span><span class="s3">\n   </span><span class="s1">* @example classDef my-style fill:#f96;</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param {string} id - the id of this (style) class</span><span class="s3">\n   </span><span class="s1">* @param  {string | null} styleAttributes - the string with 1 or more style attributes (each separated by a comma)</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">addStyleClass(id, styleAttributes = </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">if (!this.classes.has(id)) {</span><span class="s3">\n      </span><span class="s1">this.classes.set(id, { id, styles: [], textStyles: [] });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const foundClass = this.classes.get(id);</span><span class="s3">\n    </span><span class="s1">if (styleAttributes !== void 0 &amp;&amp; styleAttributes !== null) {</span><span class="s3">\n      </span><span class="s1">styleAttributes.split(STYLECLASS_SEP).forEach((attrib) =&gt; {</span><span class="s3">\n        </span><span class="s1">const fixedAttrib = attrib.replace(/([^;]*);/, </span><span class="s3">\&quot;</span><span class="s1">$1</span><span class="s3">\&quot;</span><span class="s1">).trim();</span><span class="s3">\n        </span><span class="s1">if (RegExp(COLOR_KEYWORD).exec(attrib)) {</span><span class="s3">\n          </span><span class="s1">const newStyle1 = fixedAttrib.replace(FILL_KEYWORD, BG_FILL);</span><span class="s3">\n          </span><span class="s1">const newStyle2 = newStyle1.replace(COLOR_KEYWORD, FILL_KEYWORD);</span><span class="s3">\n          </span><span class="s1">foundClass.textStyles.push(newStyle2);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">foundClass.styles.push(fixedAttrib);</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Return all of the style classes</span><span class="s3">\n   </span><span class="s1">* @returns {{} | any | classes}</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">getClasses() {</span><span class="s3">\n    </span><span class="s1">return this.classes;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Add a (style) class or css class to a state with the given id.</span><span class="s3">\n   </span><span class="s1">* If the state isn't already in the list of known states, add it.</span><span class="s3">\n   </span><span class="s1">* Might be called by parser when a style class or CSS class should be applied to a state</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param {string | string[]} itemIds The id or a list of ids of the item(s) to apply the css class to</span><span class="s3">\n   </span><span class="s1">* @param {string} cssClassName CSS class name</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">setCssClass(itemIds, cssClassName) {</span><span class="s3">\n    </span><span class="s1">itemIds.split(</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">).forEach((id) =&gt; {</span><span class="s3">\n      </span><span class="s1">let foundState = this.getState(id);</span><span class="s3">\n      </span><span class="s1">if (foundState === void 0) {</span><span class="s3">\n        </span><span class="s1">const trimmedId = id.trim();</span><span class="s3">\n        </span><span class="s1">this.addState(trimmedId);</span><span class="s3">\n        </span><span class="s1">foundState = this.getState(trimmedId);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">foundState.classes.push(cssClassName);</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Add a style to a state with the given id.</span><span class="s3">\n   </span><span class="s1">* @example style stateId fill:#f9f,stroke:#333,stroke-width:4px</span><span class="s3">\n   </span><span class="s1">*   where 'style' is the keyword</span><span class="s3">\n   </span><span class="s1">*   stateId is the id of a state</span><span class="s3">\n   </span><span class="s1">*   the rest of the string is the styleText (all of the attributes to be applied to the state)</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param itemId The id of item to apply the style to</span><span class="s3">\n   </span><span class="s1">* @param styleText - the text of the attributes for the style</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">setStyle(itemId, styleText) {</span><span class="s3">\n    </span><span class="s1">const item = this.getState(itemId);</span><span class="s3">\n    </span><span class="s1">if (item !== void 0) {</span><span class="s3">\n      </span><span class="s1">item.styles.push(styleText);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Add a text style to a state with the given id</span><span class="s3">\n   </span><span class="s1">*</span><span class="s3">\n   </span><span class="s1">* @param itemId The id of item to apply the css class to</span><span class="s3">\n   </span><span class="s1">* @param cssClassName CSS class name</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">setTextStyle(itemId, cssClassName) {</span><span class="s3">\n    </span><span class="s1">const item = this.getState(itemId);</span><span class="s3">\n    </span><span class="s1">if (item !== void 0) {</span><span class="s3">\n      </span><span class="s1">item.textStyles.push(cssClassName);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">/**</span><span class="s3">\n   </span><span class="s1">* Finds the direction statement in the root document.</span><span class="s3">\n   </span><span class="s1">* @private</span><span class="s3">\n   </span><span class="s1">* @returns {{ value: string } | undefined} - the direction statement if present</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">getDirectionStatement() {</span><span class="s3">\n    </span><span class="s1">return this.rootDoc.find((doc) =&gt; doc.stmt === STMT_DIRECTION);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">getDirection() {</span><span class="s3">\n    </span><span class="s1">return this.getDirectionStatement()?.value ?? DEFAULT_DIAGRAM_DIRECTION;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">setDirection(dir) {</span><span class="s3">\n    </span><span class="s1">const doc = this.getDirectionStatement();</span><span class="s3">\n    </span><span class="s1">if (doc) {</span><span class="s3">\n      </span><span class="s1">doc.value = dir;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">this.rootDoc.unshift({ stmt: STMT_DIRECTION, value: dir });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">trimColon(str) {</span><span class="s3">\n    </span><span class="s1">return str &amp;&amp; str[0] === </span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot; </span><span class="s1">? str.substr(1).trim() : str.trim();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">getData() {</span><span class="s3">\n    </span><span class="s1">const config = getConfig();</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n      </span><span class="s1">nodes: this.nodes,</span><span class="s3">\n      </span><span class="s1">edges: this.edges,</span><span class="s3">\n      </span><span class="s1">other: {},</span><span class="s3">\n      </span><span class="s1">config,</span><span class="s3">\n      </span><span class="s1">direction: getDir(this.getRootDocV2())</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">getConfig() {</span><span class="s3">\n    </span><span class="s1">return getConfig().state;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">getAccTitle = getAccTitle;</span><span class="s3">\n  </span><span class="s1">setAccTitle = setAccTitle;</span><span class="s3">\n  </span><span class="s1">getAccDescription = getAccDescription;</span><span class="s3">\n  </span><span class="s1">setAccDescription = setAccDescription;</span><span class="s3">\n  </span><span class="s1">setDiagramTitle = setDiagramTitle;</span><span class="s3">\n  </span><span class="s1">getDiagramTitle = getDiagramTitle;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// src/diagrams/state/styles.js</span><span class="s3">\n</span><span class="s1">var getStyles = /* @__PURE__ */ __name((options) =&gt; `</span><span class="s3">\n</span><span class="s1">defs #statediagram-barbEnd {</span><span class="s3">\n    </span><span class="s1">fill: ${options.transitionColor};</span><span class="s3">\n    </span><span class="s1">stroke: ${options.transitionColor};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">g.stateGroup text {</span><span class="s3">\n  </span><span class="s1">fill: ${options.nodeBorder};</span><span class="s3">\n  </span><span class="s1">stroke: none;</span><span class="s3">\n  </span><span class="s1">font-size: 10px;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">g.stateGroup text {</span><span class="s3">\n  </span><span class="s1">fill: ${options.textColor};</span><span class="s3">\n  </span><span class="s1">stroke: none;</span><span class="s3">\n  </span><span class="s1">font-size: 10px;</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">g.stateGroup .state-title {</span><span class="s3">\n  </span><span class="s1">font-weight: bolder;</span><span class="s3">\n  </span><span class="s1">fill: ${options.stateLabelColor};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">g.stateGroup rect {</span><span class="s3">\n  </span><span class="s1">fill: ${options.mainBkg};</span><span class="s3">\n  </span><span class="s1">stroke: ${options.nodeBorder};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">g.stateGroup line {</span><span class="s3">\n  </span><span class="s1">stroke: ${options.lineColor};</span><span class="s3">\n  </span><span class="s1">stroke-width: 1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.transition {</span><span class="s3">\n  </span><span class="s1">stroke: ${options.transitionColor};</span><span class="s3">\n  </span><span class="s1">stroke-width: 1;</span><span class="s3">\n  </span><span class="s1">fill: none;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.stateGroup .composit {</span><span class="s3">\n  </span><span class="s1">fill: ${options.background};</span><span class="s3">\n  </span><span class="s1">border-bottom: 1px</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.stateGroup .alt-composit {</span><span class="s3">\n  </span><span class="s1">fill: #e0e0e0;</span><span class="s3">\n  </span><span class="s1">border-bottom: 1px</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.state-note {</span><span class="s3">\n  </span><span class="s1">stroke: ${options.noteBorderColor};</span><span class="s3">\n  </span><span class="s1">fill: ${options.noteBkgColor};</span><span class="s3">\n\n  </span><span class="s1">text {</span><span class="s3">\n    </span><span class="s1">fill: ${options.noteTextColor};</span><span class="s3">\n    </span><span class="s1">stroke: none;</span><span class="s3">\n    </span><span class="s1">font-size: 10px;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.stateLabel .box {</span><span class="s3">\n  </span><span class="s1">stroke: none;</span><span class="s3">\n  </span><span class="s1">stroke-width: 0;</span><span class="s3">\n  </span><span class="s1">fill: ${options.mainBkg};</span><span class="s3">\n  </span><span class="s1">opacity: 0.5;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.edgeLabel .label rect {</span><span class="s3">\n  </span><span class="s1">fill: ${options.labelBackgroundColor};</span><span class="s3">\n  </span><span class="s1">opacity: 0.5;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">.edgeLabel {</span><span class="s3">\n  </span><span class="s1">background-color: ${options.edgeLabelBackground};</span><span class="s3">\n  </span><span class="s1">p {</span><span class="s3">\n    </span><span class="s1">background-color: ${options.edgeLabelBackground};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">rect {</span><span class="s3">\n    </span><span class="s1">opacity: 0.5;</span><span class="s3">\n    </span><span class="s1">background-color: ${options.edgeLabelBackground};</span><span class="s3">\n    </span><span class="s1">fill: ${options.edgeLabelBackground};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">text-align: center;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">.edgeLabel .label text {</span><span class="s3">\n  </span><span class="s1">fill: ${options.transitionLabelColor || options.tertiaryTextColor};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">.label div .edgeLabel {</span><span class="s3">\n  </span><span class="s1">color: ${options.transitionLabelColor || options.tertiaryTextColor};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.stateLabel text {</span><span class="s3">\n  </span><span class="s1">fill: ${options.stateLabelColor};</span><span class="s3">\n  </span><span class="s1">font-size: 10px;</span><span class="s3">\n  </span><span class="s1">font-weight: bold;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.node circle.state-start {</span><span class="s3">\n  </span><span class="s1">fill: ${options.specialStateColor};</span><span class="s3">\n  </span><span class="s1">stroke: ${options.specialStateColor};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.node .fork-join {</span><span class="s3">\n  </span><span class="s1">fill: ${options.specialStateColor};</span><span class="s3">\n  </span><span class="s1">stroke: ${options.specialStateColor};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.node circle.state-end {</span><span class="s3">\n  </span><span class="s1">fill: ${options.innerEndBackground};</span><span class="s3">\n  </span><span class="s1">stroke: ${options.background};</span><span class="s3">\n  </span><span class="s1">stroke-width: 1.5</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">.end-state-inner {</span><span class="s3">\n  </span><span class="s1">fill: ${options.compositeBackground || options.background};</span><span class="s3">\n  </span><span class="s1">// stroke: ${options.background};</span><span class="s3">\n  </span><span class="s1">stroke-width: 1.5</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.node rect {</span><span class="s3">\n  </span><span class="s1">fill: ${options.stateBkg || options.mainBkg};</span><span class="s3">\n  </span><span class="s1">stroke: ${options.stateBorder || options.nodeBorder};</span><span class="s3">\n  </span><span class="s1">stroke-width: 1px;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">.node polygon {</span><span class="s3">\n  </span><span class="s1">fill: ${options.mainBkg};</span><span class="s3">\n  </span><span class="s1">stroke: ${options.stateBorder || options.nodeBorder};;</span><span class="s3">\n  </span><span class="s1">stroke-width: 1px;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">#statediagram-barbEnd {</span><span class="s3">\n  </span><span class="s1">fill: ${options.lineColor};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.statediagram-cluster rect {</span><span class="s3">\n  </span><span class="s1">fill: ${options.compositeTitleBackground};</span><span class="s3">\n  </span><span class="s1">stroke: ${options.stateBorder || options.nodeBorder};</span><span class="s3">\n  </span><span class="s1">stroke-width: 1px;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.cluster-label, .nodeLabel {</span><span class="s3">\n  </span><span class="s1">color: ${options.stateLabelColor};</span><span class="s3">\n  </span><span class="s1">// line-height: 1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.statediagram-cluster rect.outer {</span><span class="s3">\n  </span><span class="s1">rx: 5px;</span><span class="s3">\n  </span><span class="s1">ry: 5px;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">.statediagram-state .divider {</span><span class="s3">\n  </span><span class="s1">stroke: ${options.stateBorder || options.nodeBorder};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.statediagram-state .title-state {</span><span class="s3">\n  </span><span class="s1">rx: 5px;</span><span class="s3">\n  </span><span class="s1">ry: 5px;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">.statediagram-cluster.statediagram-cluster .inner {</span><span class="s3">\n  </span><span class="s1">fill: ${options.compositeBackground || options.background};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">.statediagram-cluster.statediagram-cluster-alt .inner {</span><span class="s3">\n  </span><span class="s1">fill: ${options.altBackground ? options.altBackground : </span><span class="s3">\&quot;</span><span class="s1">#efefef</span><span class="s3">\&quot;</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.statediagram-cluster .inner {</span><span class="s3">\n  </span><span class="s1">rx:0;</span><span class="s3">\n  </span><span class="s1">ry:0;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.statediagram-state rect.basic {</span><span class="s3">\n  </span><span class="s1">rx: 5px;</span><span class="s3">\n  </span><span class="s1">ry: 5px;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">.statediagram-state rect.divider {</span><span class="s3">\n  </span><span class="s1">stroke-dasharray: 10,10;</span><span class="s3">\n  </span><span class="s1">fill: ${options.altBackground ? options.altBackground : </span><span class="s3">\&quot;</span><span class="s1">#efefef</span><span class="s3">\&quot;</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.note-edge {</span><span class="s3">\n  </span><span class="s1">stroke-dasharray: 5;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.statediagram-note rect {</span><span class="s3">\n  </span><span class="s1">fill: ${options.noteBkgColor};</span><span class="s3">\n  </span><span class="s1">stroke: ${options.noteBorderColor};</span><span class="s3">\n  </span><span class="s1">stroke-width: 1px;</span><span class="s3">\n  </span><span class="s1">rx: 0;</span><span class="s3">\n  </span><span class="s1">ry: 0;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">.statediagram-note rect {</span><span class="s3">\n  </span><span class="s1">fill: ${options.noteBkgColor};</span><span class="s3">\n  </span><span class="s1">stroke: ${options.noteBorderColor};</span><span class="s3">\n  </span><span class="s1">stroke-width: 1px;</span><span class="s3">\n  </span><span class="s1">rx: 0;</span><span class="s3">\n  </span><span class="s1">ry: 0;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.statediagram-note text {</span><span class="s3">\n  </span><span class="s1">fill: ${options.noteTextColor};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.statediagram-note .nodeLabel {</span><span class="s3">\n  </span><span class="s1">color: ${options.noteTextColor};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">.statediagram .edgeLabel {</span><span class="s3">\n  </span><span class="s1">color: red; // ${options.noteTextColor};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">#dependencyStart, #dependencyEnd {</span><span class="s3">\n  </span><span class="s1">fill: ${options.lineColor};</span><span class="s3">\n  </span><span class="s1">stroke: ${options.lineColor};</span><span class="s3">\n  </span><span class="s1">stroke-width: 1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">.statediagramTitleText {</span><span class="s3">\n  </span><span class="s1">text-anchor: middle;</span><span class="s3">\n  </span><span class="s1">font-size: 18px;</span><span class="s3">\n  </span><span class="s1">fill: ${options.textColor};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`, </span><span class="s3">\&quot;</span><span class="s1">getStyles</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var styles_default = getStyles;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">stateDiagram_default,</span><span class="s3">\n  </span><span class="s1">stateRenderer_v3_unified_default,</span><span class="s3">\n  </span><span class="s1">StateDB,</span><span class="s3">\n  </span><span class="s1">styles_default</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {</span><span class="s3">\n  </span><span class="s1">__name,</span><span class="s3">\n  </span><span class="s1">configureSvgSize,</span><span class="s3">\n  </span><span class="s1">log</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./chunk-YTJNT7DU.mjs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/insertElementsForSize.js</span><span class="s3">\n</span><span class="s1">import { select } from </span><span class="s3">\&quot;</span><span class="s1">d3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var getDiagramElement = /* @__PURE__ */ __name((id, securityLevel) =&gt; {</span><span class="s3">\n  </span><span class="s1">let sandboxElement;</span><span class="s3">\n  </span><span class="s1">if (securityLevel === </span><span class="s3">\&quot;</span><span class="s1">sandbox</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">sandboxElement = select(</span><span class="s3">\&quot;</span><span class="s1">#i</span><span class="s3">\&quot; </span><span class="s1">+ id);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">const root = securityLevel === </span><span class="s3">\&quot;</span><span class="s1">sandbox</span><span class="s3">\&quot; </span><span class="s1">? select(sandboxElement.nodes()[0].contentDocument.body) : select(</span><span class="s3">\&quot;</span><span class="s1">body</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const svg = root.select(`[id=</span><span class="s3">\&quot;</span><span class="s1">${id}</span><span class="s3">\&quot;</span><span class="s1">]`);</span><span class="s3">\n  </span><span class="s1">return svg;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">getDiagramElement</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">// src/rendering-util/setupViewPortForSVG.ts</span><span class="s3">\n</span><span class="s1">var setupViewPortForSVG = /* @__PURE__ */ __name((svg, padding, cssDiagram, useMaxWidth) =&gt; {</span><span class="s3">\n  </span><span class="s1">svg.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, cssDiagram);</span><span class="s3">\n  </span><span class="s1">const { width, height, x, y } = calculateDimensionsWithPadding(svg, padding);</span><span class="s3">\n  </span><span class="s1">configureSvgSize(svg, height, width, useMaxWidth);</span><span class="s3">\n  </span><span class="s1">const viewBox = createViewBox(x, y, width, height, padding);</span><span class="s3">\n  </span><span class="s1">svg.attr(</span><span class="s3">\&quot;</span><span class="s1">viewBox</span><span class="s3">\&quot;</span><span class="s1">, viewBox);</span><span class="s3">\n  </span><span class="s1">log.debug(`viewBox configured: ${viewBox} with padding: ${padding}`);</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">setupViewPortForSVG</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var calculateDimensionsWithPadding = /* @__PURE__ */ __name((svg, padding) =&gt; {</span><span class="s3">\n  </span><span class="s1">const bounds = svg.node()?.getBBox() || { width: 0, height: 0, x: 0, y: 0 };</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">width: bounds.width + padding * 2,</span><span class="s3">\n    </span><span class="s1">height: bounds.height + padding * 2,</span><span class="s3">\n    </span><span class="s1">x: bounds.x,</span><span class="s3">\n    </span><span class="s1">y: bounds.y</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">calculateDimensionsWithPadding</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var createViewBox = /* @__PURE__ */ __name((x, y, width, height, padding) =&gt; {</span><span class="s3">\n  </span><span class="s1">return `${x - padding} ${y - padding} ${width} ${height}`;</span><span class="s3">\n</span><span class="s1">}, </span><span class="s3">\&quot;</span><span class="s1">createViewBox</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">getDiagramElement,</span><span class="s3">\n  </span><span class="s1">setupViewPortForSVG</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;sourceRoot&quot;</span><span class="s0">:</span><span class="s1">&quot;&quot;</span><span class="s0">}</span></pre>
</body>
</html>