<html>
<head>
<title>8845.b6a33846419bd4ef29f7.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
8845.b6a33846419bd4ef29f7.js.map</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;8845.b6a33846419bd4ef29f7.js?v=b6a33846419bd4ef29f7&quot;</span><span class="s0">,</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AAAa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB;AACnB,mBAAO,CAAC,KAA6B;AACrC,mBAAO,CAAC,KAAiC;AACzC,mBAAO,CAAC,KAA2B;AACnC,mBAAO,CAAC,KAA+B;AACvC,mBAAO,CAAC,KAA6B;AACrC,mBAAO,CAAC,KAAyC;AACjD,mBAAO,CAAC,KAAiC;AACzC,mBAAO,CAAC,KAAyC;AACjD,mBAAO,CAAC,KAAiC;AACzC,mBAAO,CAAC,KAA+B;AACvC,mBAAO,CAAC,KAAuC;AAC/C,mBAAO,CAAC,KAA+B;AACvC,mBAAO,CAAC,KAAmC;AAC3C,mBAAO,CAAC,KAAqC;AAC7C,mBAAO,CAAC,KAA6C;AACrD,mBAAO,CAAC,KAAiC;AACzC,mBAAO,CAAC,KAAmC;AAC3C,mBAAO,CAAC,KAAqC;AAC7C,mBAAO,CAAC,KAAmC;AAC3C,mBAAO,CAAC,GAA6B;AACrC,mBAAO,CAAC,KAAuC;AAC/C,mBAAO,CAAC,KAAiC;AACzC,mBAAO,CAAC,KAAyC;AACjD,mBAAO,CAAC,KAAqC;AAC7C,mBAAO,CAAC,KAA2C;AACnD,mBAAO,CAAC,KAAmC;AAC3C,mBAAO,CAAC,KAAyC;AACjD,mBAAO,CAAC,KAAuC;AAC/C,mBAAO,CAAC,KAAqC;AAC7C,mBAAO,CAAC,KAAyC;AACjD,mBAAO,CAAC,KAAmC;AAC3C,mBAAO,CAAC,KAAmC;AAC3C,mBAAO,CAAC,KAA6B;AACrC;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvEa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B,GAAG,qBAAqB;AACnD,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,uCAAuC,mBAAO,CAAC,KAAwB;AACvE,qBAAqB;AACrB,2BAA2B;AAC3B,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,6DAA6D,sBAAsB;AACnF;AACA,6BAA6B;AAC7B;AACA;AACA,+DAA+D,uBAAuB;AACtF;AACA;AACA;AACA;AACA,kCAAkC,IAAI,OAAO,IAAI;AACjD,CAAC;AACD,2BAA2B,uDAAuD,WAAW,4BAA4B;AACzH;;;;;;;AC/Ba;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB,GAAG,eAAe;AAC1C,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,oBAAoB,mBAAO,CAAC,KAAe;AAC3C,gBAAgB,mBAAO,CAAC,KAAY;AACpC,sBAAsB,mBAAO,CAAC,KAAiB;AAC/C,mBAAO,CAAC,KAAkB;AAC1B,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf;AACA,6DAA6D,IAAI;AACjE,2DAA2D,WAAW,kCAAkC;AACxG,sBAAsB;AACtB;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,mBAAmB;AACnB;AACA;AACA;AACA,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;ACnEa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB,GAAG,oBAAoB;AAC1C,qBAAqB,mBAAO,CAAC,KAAsB;AACnD,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,wBAAwB,mBAAO,CAAC,KAAoB;AACpD;AACA;AACA;AACA;AACA,yBAAyB,uBAAuB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,mEAAmE,qBAAqB,IAAI;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,UAAU,wBAAwB,oBAAoB,IAAI;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,mBAAmB;AACnB;;;;;;;AC1Ka;AACb;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB,mBAAO,CAAC,KAAiB;AAC/C,sBAAsB,mBAAO,CAAC,KAAiB;AAC/C,wBAAwB,mBAAO,CAAC,KAAoB;AACpD,wCAAwC,mBAAO,CAAC,IAAoB;AACpE,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,mBAAmB,mBAAO,CAAC,KAAkC;AAC7D,mBAAmB,mBAAO,CAAC,KAA0B;AACrD;AACA,yBAAyB,oCAAoC;AAC7D,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,gBAAgB,GAAG,EAAE;AAClD;AACA;AACA;AACA,iCAAiC,UAAU,EAAE,QAAQ,SAAS;AAC9D,oCAAoC;AACpC,sCAAsC;AACtC,mCAAmC,YAAY,WAAW,IAAI,MAAM;AACpE,mCAAmC,WAAW,WAAW,IAAI,MAAM;AACnE,mCAAmC,kBAAkB,WAAW,IAAI,MAAM;AAC1E,oCAAoC,iBAAiB,WAAW,IAAI,MAAM;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,OAAO;AACxC;AACA;AACA,+BAA+B;AAC/B,CAAC;AACD;AACA,4BAA4B,sCAAsC;AAClE,4BAA4B,uCAAuC;AACnE,4BAA4B,sCAAsC;AAClE,4BAA4B,uCAAuC;AACnE,CAAC;AACD;AACA;AACA;AACA,2BAA2B,2DAA2D;AACtF,2BAA2B,2DAA2D;AACtF,2BAA2B,2DAA2D;AACtF,4BAA4B,2DAA2D;AACvF,wBAAwB,2DAA2D;AACnF,wBAAwB,2DAA2D;AACnF,2BAA2B,2DAA2D;AACtF,6BAA6B,2DAA2D;AACxF,yBAAyB,2DAA2D;AACpF,yBAAyB,2DAA2D;AACpF,2BAA2B,2DAA2D;AACtF;AACA;AACA;AACA,4BAA4B,mBAAmB;AAC/C;AACA,6BAA6B,mBAAmB;AAChD;AACA,+BAA+B,mBAAmB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,2DAA2D;AACtF;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,2DAA2D;AACjF;AACA;AACA;AACA;AACA;AACA,UAAU,iEAAiE;AAC3E;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,gCAAgC,mBAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,mBAAmB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mBAAmB;AAC9C;AACA,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,mBAAmB;AAC3C;AACA;AACA,6BAA6B,mBAAmB;AAChD,2BAA2B,mBAAmB;AAC9C,6BAA6B,mBAAmB;AAChD,gCAAgC,mBAAmB;AACnD;AACA;AACA;AACA;AACA,4BAA4B,mBAAmB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA;AACA,4BAA4B,mBAAmB;AAC/C,4BAA4B,mBAAmB;AAC/C,wBAAwB,mBAAmB;AAC3C,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;AACA,4BAA4B,mBAAmB;AAC/C,4BAA4B,mBAAmB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,mBAAmB;AAC7C,0BAA0B,mBAAmB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,mBAAmB;AAC/C,iCAAiC,mBAAmB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,mBAAmB;AAChD,6BAA6B,mBAAmB;AAChD;AACA;AACA,+BAA+B,mBAAmB;AAClD,+BAA+B,mBAAmB;AAClD;AACA;AACA,gCAAgC,mBAAmB;AACnD,gCAAgC,mBAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,mBAAmB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2BAA2B,mBAAmB;AAC9C,6BAA6B,kBAAkB;AAC/C,CAAC;AACD;;;;;;;AC9Wa;AACb;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe,GAAG,kBAAkB;AACpC,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,wCAAwC,mBAAO,CAAC,IAAoB;AACpE,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,wBAAwB,mBAAO,CAAC,KAAoB;AACpD,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,kBAAkB,mBAAO,CAAC,KAAc;AACxC,uCAAuC,mBAAO,CAAC,KAAwB;AACvE,mBAAmB,mBAAO,CAAC,KAAkC;AAC7D,kBAAkB;AAClB,8BAA8B;AAC9B,2CAA2C,wBAAwB;AACnE;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA,6CAA6C,aAAa;AAC1D;AACA,oCAAoC,aAAa;AACjD;AACA,oHAAoH,aAAa;AACjI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B,wCAAwC,wBAAwB;AAChE;AACA,oHAAoH,wBAAwB;AAC5I;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qGAAqG,gBAAgB;AACrH;AACA,qCAAqC;AACrC;AACA;AACA,iEAAiE,uBAAuB,iHAAiH;AACzM;AACA;AACA;AACA,+CAA+C,2EAA2E;AAC1H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oGAAoG,UAAU;AAC9G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,2EAA2E;AACjI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,uBAAuB;AAClE;AACA;AACA,8CAA8C,0BAA0B;AACxE;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,gBAAgB;AAChB;AACA;AACA,uDAAuD,gBAAgB;AACvE,+CAA+C,qDAAqD;AACpG,uDAAuD,gBAAgB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,iBAAiB;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,YAAY;AAC7E,iEAAiE,YAAY;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,8BAA8B;AAClF;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,oCAAoC;AAC5F;AACA;AACA,wDAAwD;AACxD,6CAA6C;AAC7C;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,4BAA4B;AAC5B,wBAAwB;AACxB,yBAAyB;AACzB,wBAAwB;AACxB,wBAAwB;AACxB,yBAAyB;AACzB,0BAA0B;AAC1B,2BAA2B;AAC3B,2BAA2B;AAC3B;;;;;;;ACpVa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B;AAC1B,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,mBAAO,CAAC,KAAoB;AAC5B,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;ACrBa;AACb;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB,mBAAO,CAAC,KAAiB;AAC/C,wCAAwC,mBAAO,CAAC,IAAoB;AACpE,wCAAwC,mBAAO,CAAC,KAAmB;AACnE,oFAAoF,UAAU;AAC9F;AACA;AACA;AACA,CAAC;AACD,mCAAmC,cAAc;AACjD;;;;;;;ACrCa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,6BAA6B,mBAAO,CAAC,KAA8B;AACnE,mBAAmB,mBAAO,CAAC,KAAkC;AAC7D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kDAAkD,WAAW;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,2BAA2B;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+GAA+G,UAAU;AACzH;AACA;AACA;AACA;AACA,+GAA+G,UAAU;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,+BAA+B;AAC1F;AACA,kEAAkE,2BAA2B;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;AACf;;;;;;;ACzHa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB,GAAG,mBAAmB;AAC/C,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,mBAAmB;AACnB,wBAAwB;AACxB;AACA;AACA;AACA;AACA,sCAAsC,OAAO;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,EAAE,YAAY,EAAE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,4BAA4B;AAC7D;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,cAAc;AACtD,yBAAyB,qDAAqD,WAAW,mBAAmB;AAC5G;;;;;;;ACvEa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B,GAAG,yBAAyB,GAAG,uBAAuB,GAAG,yBAAyB;AACjH,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,wBAAwB,mBAAO,CAAC,KAAoB;AACpD,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,uBAAuB,mBAAO,CAAC,KAAmB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,0BAA0B;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,6EAA6E,UAAU;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,yBAAyB;AACzB,+BAA+B;AAC/B,eAAe,uBAAuB;AACtC,aAAa,0BAA0B;AACvC;AACA,CAAC;AACD;;;;;;;ACjFa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B;AAC3B,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,uBAAuB,mBAAO,CAAC,KAAkB;AACjD,mBAAO,CAAC,KAAqB;AAC7B,2BAA2B;AAC3B;AACA;AACA;AACA,KAAK;AACL,mBAAmB;AACnB;AACA;AACA,CAAC;AACD;;;;;;;AChBa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,mBAAmB,mBAAO,CAAC,KAAkC;AAC7D,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA,+EAA+E,iEAAiE;AAChJ;AACA;AACA;AACA,CAAC;AACD,kBAAkB;AAClB;;;;;;;ACzEa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,yCAAyC,mBAAO,CAAC,KAAoB;AACrE;AACA,qBAAqB,UAAU,IAAI,OAAO;AAC1C,qBAAqB,QAAQ,IAAI,SAAS;AAC1C;AACA,wBAAwB,KAAK;AAC7B,qBAAqB,gBAAgB,IAAI,cAAc;AACvD,qBAAqB,cAAc,IAAI,gBAAgB;AACvD;AACA,sBAAsB,KAAK;AAC3B,wBAAwB,QAAQ,IAAI,kBAAkB,IAAI,OAAO;AACjE,wBAAwB,cAAc,IAAI,+BAA+B,IAAI,cAAc;AAC3F;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;;;;;;;ACvBa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uCAAuC,mBAAO,CAAC,KAAwB;AACvE,mBAAmB,mBAAO,CAAC,KAAkC;AAC7D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,yBAAyB;AACzB,0DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,sDAAsD;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,kCAAkC;AACtF;AACA;AACA;AACA,sDAAsD,uCAAuC;AAC7F;AACA;AACA,0CAA0C,iCAAiC;AAC3E;AACA,kDAAkD,sCAAsC;AACxF;AACA;AACA,kBAAe;AACf;;;;;;;ACpDa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,2BAA2B,mBAAO,CAAC,KAAsB;AACzD,0BAA0B,mBAAO,CAAC,KAAqB;AACvD,mBAAO,CAAC,KAAyB;AACjC,+BAA+B;AAC/B;AACA;AACA;AACA,KAAK;AACL,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;ACzBa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,iCAAiC,mBAAO,CAAC,KAAa;AACtD,kCAAkC,mBAAO,CAAC,KAAqB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE;AACnE;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E,GAAG;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA,CAAC;AACD,qBAAqB;AACrB;;;;;;;ACzFa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6CAA6C,mBAAO,CAAC,KAAwB;AAC7E,wCAAwC,mBAAO,CAAC,IAAoB;AACpE,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;;;;;;;AC9Ca;AACb;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,6EAA6E,OAAO;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,kCAAkC,mBAAO,CAAC,KAAqB;AAC/D;AACA;AACA;AACA;AACA,wBAAwB;AACxB,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,eAAe;AACpE,qDAAqD,eAAe;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE;AACA,qEAAqE,4CAA4C;AACjH;AACA,MAAM;AACN,uDAAuD;AACvD,yDAAyD,qBAAqB;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wFAAwF,MAAM;AAC9F,0FAA0F,MAAM;AAChG,8FAA8F,sDAAsD;AACpJ;AACA;AACA;AACA,+DAA+D,oDAAoD;AACnH;AACA;AACA;AACA,iEAAiE,oDAAoD;AACrH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD,2DAA2D;AAC3D,6DAA6D;AAC7D,oEAAoE;AACpE,yDAAyD,gDAAgD;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE;AACA,qEAAqE,4CAA4C;AACjH;AACA,MAAM;AACN,uDAAuD;AACvD,yDAAyD,qBAAqB;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;AACf;;;;;;;AClPa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB,GAAG,oBAAoB,GAAG,0BAA0B,GAAG,sBAAsB,GAAG,mBAAmB,GAAG,mBAAmB,GAAG,oBAAoB;AACrK,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,yCAAyC;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,mBAAmB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,yCAAyC;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4FAA4F,sBAAsB;AAClH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E,0BAA0B;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,oBAAoB;AACpB;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,6EAA6E;AAC7E;AACA,KAAK;AACL;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,qBAAqB;AACrB;;;;;;;ACxUa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B,GAAG,qBAAqB;AACnD,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,wBAAwB,mBAAO,CAAC,KAAoB;AACpD,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,gCAAgC,mBAAO,CAAC,KAAoC;AAC5E,qBAAqB;AACrB,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,kDAAkD;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,2BAA2B,uDAAuD,WAAW,qBAAqB;AAClH;;;;;;;ACtCa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,6CAA6C;AAC7C;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,GAAG,oBAAoB,GAAG,iBAAiB,GAAG,sBAAsB;AAC9F,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,uCAAuC,mBAAO,CAAC,KAAwB;AACvE,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,qBAAqB,mBAAO,CAAC,KAAsB;AACnD,4BAA4B,mBAAO,CAAC,KAA4B;AAChE,sBAAsB,mBAAO,CAAC,KAAyB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA,CAAC;AACD,iBAAiB;AACjB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,wBAAwB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,sEAAsE,2BAA2B;AACjG;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD,0BAA0B;AAC1B;AACA;AACA;AACA,KAAK;AACL,mBAAmB;AACnB;AACA;AACA,YAAY;AACZ,CAAC;AACD;;;;;;;AC3Ka;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B,GAAG,wBAAwB;AACzD,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,uCAAuC,mBAAO,CAAC,KAAwB;AACvE;AACA;AACA,uCAAuC,KAAK,QAAQ;AACpD,CAAC;AACD;AACA,oBAAoB,iCAAiC;AACrD;AACA;AACA;AACA;AACA;AACA,2DAA2D,8BAA8B;AACzF;AACA,iBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,4EAA4E,UAAU;AACtF;AACA;AACA;AACA,sGAAsG,oBAAoB;AAC1H;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,wBAAwB;AACxB,8BAA8B;AAC9B,eAAe,sBAAsB;AACrC;AACA,CAAC;AACD;;;;;;;ACnEa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B;AAC1B,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,wBAAwB,mBAAO,CAAC,KAAmB;AACnD,qBAAqB,mBAAO,CAAC,KAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,gDAAgD,wCAAwC;AACxF;AACA,0BAA0B;AAC1B;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;;;;;;AC7Ba;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc;AACd,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACzEa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB;AACpB,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA,yBAAyB,UAAU,oBAAoB;AACvD;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,kBAAkB;AAC3E;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;;;;;AC7Ea;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,0BAA0B,mBAAO,CAAC,KAAqB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oFAAoF,oBAAoB;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oFAAoF,oBAAoB;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;ACxIa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B,GAAG,sBAAsB;AACtD,qBAAqB,mBAAO,CAAC,KAAsB;AACnD,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,sBAAsB;AACtB;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,eAAe,qBAAqB;AACpC,aAAa,yBAAyB;AACtC;AACA;AACA,CAAC;AACD;;;;;;;AC1Ga;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,GAAG,sBAAsB;AACnD,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,kBAAkB;AAC/E;AACA;AACA;AACA,2CAA2C,gBAAgB;AAC3D,0BAA0B,wDAAwD,WAAW,sBAAsB;AACnH;;;;;;;ACvBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iCAAiC;AACjC,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,mBAAmB,mBAAO,CAAC,IAA0B;AACrD,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,wCAAwC,mBAAO,CAAC,IAAoB;AACpE,kBAAkB,mBAAO,CAAC,KAAc;AACxC,6CAA6C,mBAAO,CAAC,KAAoC;AACzF,2BAA2B,mBAAO,CAAC,KAAkC;AACrE;AACA;AACA;AACA,+CAA+C,IAAI;AACnD,+FAA+F,IAAI;AACnG;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,UAAU;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E,UAAU;AACrF;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,iCAAiC;AACjC;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,+CAA+C;AAC/C,qDAAqD;AACrD;AACA,CAAC;AACD;;;;;;;AC7Fa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B,GAAG,qBAAqB,GAAG,uBAAuB;AAC7E,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,qBAAqB,mBAAO,CAAC,KAAsB;AACnD,sBAAsB,mBAAO,CAAC,KAAiB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,uBAAuB;AACvB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,wBAAwB;AAC3E,yDAAyD,wBAAwB;AACjF;AACA;AACA;AACA;AACA,oFAAoF,mBAAmB;AACvG;AACA;AACA,qCAAqC,YAAY,WAAW,UAAU;AACtE;AACA;AACA;AACA,KAAK;AACL;AACA,mDAAmD;AACnD,KAAK;AACL;AACA;AACA,mDAAmD,iCAAiC;AACpF;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iCAAiC;AACjC,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,2BAA2B;AAC3B;AACA;AACA;AACA,KAAK;AACL,mBAAmB;AACnB;AACA;AACA,CAAC;AACD;;;;;;;ACtJa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,6EAA6E,OAAO;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,kBAAkB;AAClB;AACA;AACA,8EAA8E,sBAAsB;AACpG;AACA,KAAK;AACL;AACA,kCAAkC;AAClC;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,sEAAsE,UAAU;AAChF;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,KAAK;AACL;AACA;AACA,6DAA6D,0CAA0C;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+FAA+F,UAAU;AACzG;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,wDAAwD,UAAU;AAClE;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,qDAAqD,+CAA+C,UAAU;AAC9G,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa,wCAAwC;AACrD,KAAK;AACL;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA,yFAAyF,UAAU;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,KAAK;AACL;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;;;;;AClLa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B,GAAG,sBAAsB,GAAG,uBAAuB;AAC/E,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,oBAAoB;AAC/D,4BAA4B,wDAAwD,WAAW,sBAAsB;AACrH;;;;;;;AC7Ba;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B,GAAG,uBAAuB;AACvD,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,sBAAsB,mBAAO,CAAC,KAAsB;AACpD,0CAA0C,mBAAO,CAAC,KAAiC;AACnF,mCAAmC,mBAAO,CAAC,KAA0C;AACrF,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,uBAAuB;AACvB,8BAA8B;AAC9B,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,6BAA6B;AAC7B,eAAe,qBAAqB;AACpC;AACA,CAAC;AACD;;;;;;;AC9Ca;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B;AAC5B,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,wBAAwB,mBAAO,CAAC,KAAoB;AACpD,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,4BAA4B;AAC5B,eAAe,4BAA4B;AAC3C,CAAC;AACD;;;;;;;ACvBa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB;AACzB,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,uCAAuC,mBAAO,CAAC,KAAkB;AACjE;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,yBAAyB,qDAAqD,WAAW,0BAA0B;AACnH;;;;;;;AChBa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;AACf;;;;;;;ACzDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B,GAAG,qBAAqB,GAAG,oBAAoB;AAC7E,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,mBAAmB,mBAAO,CAAC,IAA0B;AACrD,mBAAO,CAAC,GAAwB;AAChC,yBAAyB,mBAAO,CAAC,KAAoB;AACrD,yBAAyB,mBAAO,CAAC,KAAoB;AACrD,0BAA0B,mBAAO,CAAC,KAAqB;AACvD,oBAAoB;AACpB;AACA,0DAA0D,IAAI;AAC9D,2DAA2D,WAAW,+BAA+B,gBAAgB;AACrH;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E,UAAU;AACrF;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,UAAU;AACzF;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF,UAAU;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,QAAQ;AACpC;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,gFAAgF,UAAU;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,QAAQ;AACpC;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,qBAAqB;AACrB,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D,qDAAqD;AACrD;AACA;AACA,CAAC;AACD;;;;;;;AC7Ia;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB,oBAAoB,mBAAO,CAAC,KAAoB;AAChD,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,wBAAwB,mBAAO,CAAC,KAAoB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE,kBAAkB;AACxF;AACA;AACA;AACA;AACA;AACA,gEAAgE,iBAAiB;AACjF;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,qBAAqB;AACrB;;;;;;;AC/Da;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wCAAwC,mBAAO,CAAC,IAAoB;AACpE,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,wBAAwB,mBAAO,CAAC,KAAoB;AACpD,4BAA4B,mBAAO,CAAC,KAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,iBAAiB,EAAE,QAAQ,gBAAgB;AACnF;AACA;AACA;AACA;AACA;AACA,oCAAoC,KAAK,UAAU,MAAM;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,+BAA+B,QAAQ,YAAY;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,GAAG,YAAY,KAAK,GAAG,GAAG,YAAY,KAAK,UAAU,GAAG,YAAY,KAAK,GAAG,GAAG,YAAY,KAAK;AACnH;AACA;AACA;AACA,CAAC;AACD;AACA,gCAAgC;AAChC,oCAAoC;AACpC,qCAAqC;AACrC,iCAAiC;AACjC,qCAAqC;AACrC,sCAAsC;AACtC,gCAAgC;AAChC;AACA;AACA;AACA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,OAAO;AACrD,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;;;;;;;AC9Ha;AACb;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB;AACxB,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,sBAAsB,mBAAO,CAAC,KAAsB;AACpD,uCAAuC,mBAAO,CAAC,KAAwB;AACvE,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,mBAAmB,mBAAO,CAAC,KAAkC;AAC7D,mBAAmB,mBAAO,CAAC,KAA0B;AACrD,mBAAmB,mBAAO,CAAC,IAA0B;AACrD,0CAA0C,mBAAO,CAAC,KAAiC;AACnF,6CAA6C,mBAAO,CAAC,KAAoC;AACzF,yBAAyB,mBAAO,CAAC,KAAoB;AACrD,wBAAwB;AACxB;AACA,gDAAgD,4BAA4B;AAC5E;AACA,KAAK;AACL;AACA;AACA,gDAAgD,4BAA4B;AAC5E;AACA;AACA,KAAK;AACL;AACA;AACA,4BAA4B,4BAA4B;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,cAAc;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oGAAoG,UAAU;AAC9G;AACA;AACA;AACA;AACA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,4BAA4B;AAC9E;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,0BAA0B;AACxD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,iFAAiF,UAAU,oBAAoB,IAAI,gDAAgD;AACnK,aAAa,yBAAyB;AACtC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,2DAA2D,sBAAsB;AACjF;AACA;AACA,KAAK;AACL;AACA;AACA,8DAA8D,UAAU;AACxE;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,yBAAyB;AAC7E;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFAAuF,QAAQ,IAAI,IAAI,sBAAsB,GAAG,aAAa,GAAG;AAChJ;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,8BAA8B,KAAK,2CAA2C,KAAK;AACnF;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,8BAA8B,eAAe,qCAAqC,IAAI;AAChH;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,+BAA+B;AAC/B,4BAA4B;AAC5B,8BAA8B;AAC9B,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,OAAO;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,yDAAyD;AAClG;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,gCAAgC;AAChC,+BAA+B;AAC/B;AACA,iDAAiD;AACjD;AACA;AACA,qEAAqE,4DAA4D,YAAY,kEAAkE,IAAI;AACnN;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,uDAAuD,qCAAqC;AAC5F;AACA;AACA,6BAA6B,gEAAgE,EAAE,OAAO;AACtG;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA,8DAA8D,yCAAyC;AACvG,yBAAyB,4EAA4E;AACrG,qBAAqB,2CAA2C;AAChE;AACA,sDAAsD;AACtD;AACA,iBAAiB,8BAA8B;AAC/C,aAAa,qCAAqC;AAClD,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,cAAc;AACrE,qBAAqB,gBAAgB;AACrC;AACA,uDAAuD,cAAc;AACrE;AACA;AACA,qBAAqB,gBAAgB;AACrC,iBAAiB,yDAAyD;AAC1E,aAAa,uCAAuC;AACpD,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,iBAAiB;AACpE;AACA,iBAAiB,sDAAsD;AACvE,aAAa,qCAAqC;AAClD,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,uEAAuE,UAAU;AACjF;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvea;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B;AAC1B,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,gBAAgB,mBAAO,CAAC,KAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E,UAAU;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,QAAQ;AACpC;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,iBAAiB;AACnF;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;;;;;;;AClGa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB,qBAAqB,mBAAO,CAAC,KAAsB;AACnD,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,kBAAkB,mBAAO,CAAC,KAAc;AACxC,mBAAmB,mBAAO,CAAC,IAA0B;AACrD,4BAA4B,mBAAO,CAAC,KAAuB;AAC3D,kCAAkC,mBAAO,CAAC,KAA6B;AACvE,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,4FAA4F;AAChI;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,iBAAiB;AAC9D;AACA;AACA;AACA;;;;;;;ACzFa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B;AAC3B,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,uCAAuC,mBAAO,CAAC,KAAwB;AACvE,sBAAsB,mBAAO,CAAC,KAAsB;AACpD,wBAAwB,mBAAO,CAAC,KAAmC;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,YAAY,EAAE,OAAO,mBAAmB,SAAS,kBAAkB,OAAO,IAAI;AAClG;AACA;AACA;AACA,oBAAoB,YAAY,EAAE,OAAO,mBAAmB,QAAQ,mBAAmB;AACvF;AACA;AACA;AACA,oBAAoB,uBAAuB,IAAI,mBAAmB,SAAS,kBAAkB,OAAO,IAAI;AACxG;AACA;AACA;AACA,oBAAoB,kBAAkB,QAAQ,gBAAgB,OAAO,KAAK,OAAO,KAAK;AACtF;AACA;AACA;AACA,oBAAoB,EAAE,WAAW,sBAAsB,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,UAAU;AACvG;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,2BAA2B,uDAAuD,WAAW,qBAAqB;AAClH;;;;;;;ACxDa;AACb;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,2BAA2B,mBAAO,CAAC,KAAsB;AACzD,0CAA0C,mBAAO,CAAC,KAAqB;AACvE,mBAAO,CAAC,KAAyB;AACjC,wCAAwC,mBAAO,CAAC,IAAoB;AACpE,sBAAsB,mBAAO,CAAC,KAAiB;AAC/C;AACA,0GAA0G;AAC1G,iEAAiE,IAAI;AACrE,gHAAgH,IAAI;AACpH,2DAA2D,WAAW;AACtE;AACA;AACA;AACA;AACA,SAAS;AACT,sBAAsB;AACtB;AACA,+BAA+B;AAC/B;AACA;AACA,KAAK;AACL,mBAAmB;AACnB;AACA;AACA,eAAe,iBAAiB;AAChC;AACA,CAAC;AACD;;;;;;;AC1Da;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB;AACpB,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,sEAAsE,IAAI,iBAAiB,GAAG;AAC9F;AACA;AACA;AACA;AACA,4EAA4E,GAAG;AAC/E;AACA;AACA;AACA;AACA,CAAC;AACD,oBAAoB;AACpB;;;;;;;ACzDa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6CAA6C,mBAAO,CAAC,KAAwB;AAC7E,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;ACfa;AACb;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,sBAAsB,mBAAO,CAAC,KAAiB;AAC/C,uCAAuC,mBAAO,CAAC,KAAwB;AACvE,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,0CAA0C,mBAAO,CAAC,KAAqB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,uBAAuB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,cAAc;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,wBAAwB;AAC/E;AACA;AACA,kCAAkC,OAAO;AACzC,kDAAkD,wBAAwB;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;AACf;;;;;;;ACxJa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,kBAAkB,mBAAO,CAAC,KAAc;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,wCAAwC;AACzC,kBAAe;AACf;;;;;;;AChLa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B;AAC7B,yBAAyB,mBAAO,CAAC,KAAqB;AACtD;AACA,mDAAmD;AACnD,4DAA4D,2CAA2C;AACvG;AACA;AACA,6BAA6B,yDAAyD,SAAS,qBAAqB;AACpH;;;;;;;ACVa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gCAAgC;AAChC,yBAAyB,mBAAO,CAAC,KAAqB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF,UAAU;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,gCAAgC;AAChC,gBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;;;;;;AChDa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B;AAC5B,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,wBAAwB,mBAAO,CAAC,KAAmB;AACnD,mBAAO,CAAC,KAAsB;AAC9B,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;ACjCa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB;AAChB,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,oEAAoE,qBAAqB;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD,gBAAgB;AAChB;;;;;;;ACrFa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,0CAA0C,mBAAO,CAAC,KAAqB;AACvE,wBAAwB,mBAAO,CAAC,KAAoB;AACpD,wCAAwC,mBAAO,CAAC,IAAoB;AACpE,mBAAmB,mBAAO,CAAC,KAAkC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,OAAO;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,OAAO;AAChD,gCAAgC,OAAO;AACvC,yCAAyC,OAAO;AAChD,6BAA6B,OAAO;AACpC,CAAC;AACD;AACA,6BAA6B,yDAAyD;AACtF,uBAAuB,yDAAyD;AAChF;AACA;AACA;AACA,gCAAgC,yDAAyD;AACzF,CAAC;AACD;AACA,uBAAuB,2DAA2D;AAClF,4BAA4B,2DAA2D;AACvF,CAAC;AACD;AACA;AACA;AACA;AACA,2CAA2C,SAAS,IAAI;AACxD,kCAAkC,SAAS,IAAI;AAC/C,0CAA0C,SAAS,IAAI;AACvD,kCAAkC,SAAS,IAAI;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,IAAI;AACvC,4DAA4D;AAC5D,gDAAgD,QAAQ;AACxD,oCAAoC,QAAQ;AAC5C,oCAAoC,UAAU;AAC9C,4CAA4C,GAAG,KAAK;AACpD,4CAA4C,GAAG,KAAK;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,mCAAmC,EAAE;AACrC,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,GAAG;AAC/C,+BAA+B,GAAG;AAClC,iCAAiC,GAAG;AACpC;AACA;AACA;AACA;AACA,oCAAoC,GAAG,IAAI,GAAG;AAC9C,8BAA8B,GAAG,IAAI,GAAG;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;ACnOa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uCAAuC,mBAAO,CAAC,KAAwB;AACvE,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,mBAAmB,mBAAO,CAAC,KAAkC;AAC7D,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,uBAAuB,mBAAO,CAAC,KAAmB;AAClD;AACA;AACA;AACA;AACA,MAAM,KAAK;AACX;AACA;AACA,uBAAuB,IAAI;AAC3B;AACA,2BAA2B;AAC3B,4BAA4B;AAC5B,0BAA0B;AAC1B,4BAA4B;AAC5B,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,oCAAoC;AACrF;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,gCAAgC;AAChC,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,oCAAoC;AAC7D;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,6BAA6B,YAAY;AACzC,8BAA8B,MAAM;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,4CAA4C,MAAM,GAAG;AACrD;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;AACA;AACA,kCAAkC,cAAc;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,qCAAqC;AACrC,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,yBAAyB;AACzB;AACA;AACA,6CAA6C,oCAAoC;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,uBAAuB;AAChD;AACA;AACA;AACA;AACA,mDAAmD,YAAY;AAC/D;AACA;AACA;AACA;AACA;AACA,oCAAoC,eAAe;AACnD;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,oCAAoC;AAClG;AACA;AACA;AACA;AACA;AACA,yBAAyB,uBAAuB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,0BAA0B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,eAAe;AACjD;AACA;AACA,yBAAyB,4BAA4B;AACrD,UAAU,gDAAgD;AAC1D;AACA;AACA;AACA;AACA,6BAA6B,uCAAuC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,gBAAgB,OAAO,iBAAiB;AAC9D,4BAA4B,gBAAgB,eAAe,iBAAiB;AAC5E;AACA;AACA;AACA,sBAAsB,gBAAgB,2BAA2B,gBAAgB,cAAc,iBAAiB;AAChH;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,gBAAgB;AAC/C,sBAAsB,gBAAgB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,sBAAsB,gBAAgB,OAAO,iBAAiB;AAC9D,4BAA4B,gBAAgB,eAAe,iBAAiB;AAC5E;AACA;AACA;AACA,sBAAsB,gBAAgB,OAAO,iBAAiB;AAC9D,4BAA4B,gBAAgB,eAAe,iBAAiB;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB,oBAAoB,iBAAiB;AACzE,0BAA0B,gBAAgB,oCAAoC,iBAAiB;AAC/F;AACA;AACA;AACA,oBAAoB,gBAAgB,oBAAoB,iBAAiB;AACzE,0BAA0B,gBAAgB,oCAAoC,iBAAiB;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB,eAAe,kBAAkB,eAAe,kBAAkB;AAC3G,2BAA2B,iBAAiB,OAAO,kBAAkB,OAAO,kBAAkB;AAC9F,4BAA4B,iBAAiB,cAAc,kBAAkB,aAAa,kBAAkB;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,4BAA4B,kBAAkB;AAC9C,6BAA6B,kBAAkB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB,iBAAiB,cAAc;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,UAAU;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC,wCAAwC,eAAe;AACvD;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC,wCAAwC,eAAe;AACvD;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA,4BAA4B,QAAQ;AACpC,6CAA6C,gBAAgB,gBAAgB;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,YAAY;AAChC;AACA,oBAAoB,oBAAoB;AACxC;AACA;AACA;AACA;AACA,4CAA4C,iBAAiB;AAC7D;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA,eAAe,gBAAgB,MAAM,gBAAgB;AACrD;AACA;AACA;AACA,+DAA+D,OAAO;AACtE;AACA;AACA;AACA;AACA;AACA,kBAAe;AACf;;;;;;;AC5nBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B,GAAG,sBAAsB;AACxD,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,kBAAkB,mBAAO,CAAC,KAAc;AACxC,uCAAuC,mBAAO,CAAC,KAAwB;AACvE,mBAAmB,mBAAO,CAAC,IAA0B;AACrD,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,UAAU;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,kHAAkH,GAAG,iBAAiB,GAAG;AACzI;AACA;AACA,+BAA+B;AAC/B,eAAe,uBAAuB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,CAAC;AACD;;;;;;;AC7Ha;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B,GAAG,uBAAuB;AACxD,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,gBAAgB,mBAAO,CAAC,KAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,8BAA8B;AAC9B;AACA;AACA;AACA,mCAAmC,sBAAsB;AACzD,kCAAkC,yBAAyB;AAC3D,gCAAgC,6CAA6C;AAC7E,uCAAuC,6CAA6C;AACpF;AACA;AACA,CAAC;AACD;;;;;;;AC/Da;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B;AAC7B,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,mBAAO,CAAC,KAAuB;AAC/B,6BAA6B;AAC7B,eAAe;AACf,CAAC;AACD;;;;;;;ACRa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,wBAAwB,mBAAO,CAAC,KAAoB;AACpD,6BAA6B,mBAAO,CAAC,KAAoC;AACzE,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,sBAAsB,mBAAO,CAAC,KAA6B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E,oBAAoB,IAAI;AACpG;AACA,CAAC;AACD;;;;;;;AC5Ia;AACb;AACA,6CAA6C;AAC7C;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B,GAAG,6BAA6B;AAC/D,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,wCAAwC,mBAAO,CAAC,KAAoB;AACpE,gBAAgB,mBAAO,CAAC,KAAY;AACpC,qBAAqB,mBAAO,CAAC,KAAsB;AACnD,sBAAsB,mBAAO,CAAC,KAAiB;AAC/C,6BAA6B,mBAAO,CAAC,KAAwB;AAC7D,mBAAO,CAAC,KAAyB;AACjC,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,kEAAkE,2BAA2B,IAAI;AACjG;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,uDAAuD;AAC5G;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;ACvEa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,wBAAwB,mBAAO,CAAC,KAAoB;AACpD,6BAA6B,mBAAO,CAAC,KAAwB;AAC7D,mBAAmB,mBAAO,CAAC,KAA0B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,MAAM;AACN;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC,4BAA4B,QAAQ;AACpC,wBAAwB,QAAQ;AAChC,wBAAwB,QAAQ;AAChC,wBAAwB,QAAQ;AAChC,wBAAwB,QAAQ;AAChC,wBAAwB,QAAQ;AAChC,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;AC9Ga;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB;AACzB,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,mBAAmB,mBAAO,CAAC,KAA0B;AACrD,uCAAuC,mBAAO,CAAC,KAAwB;AACvE,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,2CAA2C;AAC3C,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,oDAAoD;AACpD;AACA;AACA,KAAK;AACL;AACA;AACA,gDAAgD,sBAAsB;AACtE,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC3Ia;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,6EAA6E,OAAO;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,mBAAmB,mBAAO,CAAC,KAAkC;AAC7D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,qBAAqB,mBAAO,CAAC,KAAsB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,wDAAwD,8CAA8C;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4FAA4F,2BAA2B,IAAI;AAC3H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,UAAU;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8FAA8F,UAAU;AACxG;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,uBAAuB;AAChD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAkB;AAClB;;;;;;;AC3La;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B,GAAG,sBAAsB;AACrD,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,qCAAqC,mBAAO,CAAC,KAAiB;AAC9D,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,oBAAoB,mBAAO,CAAC,KAA2B;AACvD,sBAAsB;AACtB;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,oBAAoB;AAC/D,4BAA4B,wDAAwD,WAAW,sBAAsB;AACrH;;;;;;;ACjEa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B;AAC5B,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,wBAAwB,mBAAO,CAAC,KAAoB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,4BAA4B;AAC5B,eAAe,oBAAoB;AACnC,CAAC;AACD;;;;;;;AC1Da;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB,GAAG,mBAAmB;AAC/C,yBAAyB,mBAAO,CAAC,KAAqB;AACtD,wBAAwB,mBAAO,CAAC,KAAoB;AACpD,qBAAqB,mBAAO,CAAC,KAAiB;AAC9C,oCAAoC,mBAAO,CAAC,KAAgB;AAC5D,mBAAmB;AACnB,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,8DAA8D;AAChH;AACA,wCAAwC,cAAc;AACtD,yBAAyB,qDAAqD,WAAW,mBAAmB;AAC5G;;;;;;;AC9Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA,gCAAgC,sBAAsB;AACtD;AACA,yCAAyC;AACzC;AACA;AACA;AACA,gCAAgC,yBAAyB;AACzD;AACA;AACA;AACA,kDAAkD,mCAAmC;AACrF;AACA;AACA;AACA,0DAA0D,mCAAmC;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,cAAc;AAC9D;AACA;AACA;AACA,qCAAqC,0BAA0B;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,iCAAiC,eAAe;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yQAAyQ,EAAE;AAC3Q,8NAA8N,EAAE;AAChO;AACA;AACA,2NAA2N,EAAE;AAC7N;AACA;AACA;AACA;AACA,iOAAiO,cAAc;AAC/O;AACA,6BAA6B;AAC7B;AACA;AACA,aAAa;AACb,sHAAsH,cAAc;AACpI;AACA,sFAAsF,IAAI;AAC1F,qDAAqD,MAAM;AAC3D;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,aAAa;AACb,eAAe,uBAAuB,SAAS,SAAS,IAAI,KAAK;AACjE,cAAc,cAAc;AAC5B,gBAAgB,kBAAkB;AAClC,uBAAuB;AACvB,sBAAsB;AACtB;AACA;AACA;AACA,eAAe,MAAM,sBAAsB,0DAA0D,aAAa,KAAK;AACvH,2CAA2C,4EAA4E;AACvH;AACA,qBAAqB,sBAAsB,2EAA2E,KAAK,aAAa,KAAK,eAAe;AAC5J,mBAAmB,sBAAsB,2EAA2E,KAAK,SAAS;AAClI;AACA;AACA;AACA,eAAe,MAAM,sBAAsB,0DAA0D,aAAa,KAAK;AACvH,2CAA2C,4EAA4E;AACvH;AACA,qBAAqB,sBAAsB,2EAA2E,KAAK,aAAa,KAAK,eAAe;AAC5J,mBAAmB,sBAAsB,2EAA2E,KAAK,SAAS;AAClI;AACA;AACA,eAAe,QAAQ,EAAE;AACzB,eAAe,OAAO,EAAE;AACxB,cAAc,IAAI,sBAAsB,6DAA6D,KAAK,SAAS;AACnH,cAAc,MAAM,sBAAsB,yDAAyD,aAAa,KAAK;AACrH,wCAAwC,2EAA2E;AACnH,eAAe,MAAM;AACrB,0EAA0E,aAAa;AACvF,aAAa;AACb;AACA;AACA;AACA,6BAA6B,EAAE;AAC/B;AACA,6DAA6D,MAAM;AACnE;AACA;AACA;AACA,4DAA4D,MAAM;AAClE,oBAAoB,MAAM,sBAAsB,+DAA+D,aAAa,KAAK;AACjI;AACA;AACA,0CAA0C,2EAA2E;AACrH;AACA,+BAA+B;AAC/B,oBAAoB,sBAAsB,0EAA0E,KAAK,aAAa,KAAK,eAAe;AAC1J,kBAAkB,sBAAsB,0EAA0E,KAAK,SAAS;AAChI;AACA,8CAA8C;AAC9C,kCAAkC,IAAI,eAAe,IAAI;AACzD;AACA,oBAAoB,MAAM,sBAAsB,+DAA+D,aAAa,KAAK,aAAa,KAAK;AACnJ,uBAAuB,MAAM,sBAAsB,kEAAkE,aAAa,KAAK,aAAa,KAAK;AACzJ,wBAAwB,MAAM,sBAAsB,mEAAmE,aAAa,KAAK,aAAa,KAAK;AAC3J,0BAA0B,MAAM,sBAAsB,qEAAqE,aAAa,MAAM,aAAa,KAAK;AAChK,qBAAqB,MAAM,sBAAsB,gEAAgE,aAAa,KAAK;AACnI,qBAAqB,OAAO,MAAM;AAClC,gFAAgF,aAAa,KAAK,aAAa;AAC/G,gGAAgG,MAAM,aAAa;AACnH,aAAa;AACb,kBAAkB,MAAM,sBAAsB,6DAA6D,aAAa,KAAK;AAC7H,kBAAkB,MAAM,sBAAsB,6DAA6D,aAAa,KAAK;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,aAAa;AACb,0CAA0C,+BAA+B;AACzE,6CAA6C,IAAI;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA,qCAAqC;AACrC;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,qCAAqC,iCAAiC,mBAAmB;AACzF,qCAAqC,iCAAiC,mBAAmB;AACzF,qCAAqC,iCAAiC,mBAAmB;AACzF,qCAAqC,iCAAiC,mBAAmB;AACzF,4CAA4C,iCAAiC,mBAAmB;AAChG,qCAAqC,iCAAiC,mBAAmB;AACzF,qCAAqC,iCAAiC,mBAAmB;AACzF,sCAAsC,mCAAmC,mBAAmB;AAC5F,wCAAwC,yCAAyC,mBAAmB;AACpG,8CAA8C,SAAS,aAAa;AACpE,gDAAgD,SAAS,oBAAoB;AAC7E,mDAAmD,SAAS,iCAAiC;AAC7F,wCAAwC,WAAW;AACnD,6CAA6C,WAAW;AACxD,sCAAsC,SAAS,uBAAuB;AACtE,wCAAwC,qCAAqC;AAC7E,4CAA4C,yCAAyC;AACrF,kDAAkD,+CAA+C;AACjG,2CAA2C,SAAS,iCAAiC;AACrF,iDAAiD,SAAS,8BAA8B;AACxF,sCAAsC,mCAAmC;AACzE,sCAAsC,mCAAmC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mCAAmC;AAC1D;AACA;AACA,2BAA2B,6BAA6B;AACxD;AACA;AACA,SAAS;AACT,uCAAuC;AACvC,KAAK;AACL;AACA;AACA;AACA;AACA,2BAA2B;AAC3B,iBAAiB;AACjB,sBAAsB,MAAM;AAC5B,2BAA2B,YAAY,0BAA0B,GAAG,UAAU,0BAA0B,GAAG;AAC3G,iBAAiB;AACjB,sBAAsB,MAAM;AAC5B,2BAA2B,YAAY,0BAA0B,GAAG,UAAU,0BAA0B,GAAG;AAC3G,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,+BAA+B;AAC/B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B,kCAAkC;AAC7D,4BAA4B;AAC5B,iBAAiB;AACjB;AACA,kCAAkC;AAClC,iBAAiB;AACjB;AACA,+BAA+B;AAC/B,iBAAiB;AACjB;AACA,iCAAiC;AACjC,iBAAiB;AACjB;AACA,iCAAiC,+BAA+B;AAChE,8BAA8B,2CAA2C;AACzE,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B,kCAAkC;AAC7D,6BAA6B,+BAA+B;AAC5D,2BAA2B,gCAAgC;AAC3D,+BAA+B,gCAAgC;AAC/D,4BAA4B,2CAA2C;AACvE,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,6BAA6B;AAC7B,iBAAiB;AACjB;AACA,oCAAoC,kCAAkC,mCAAmC;AACzG,iBAAiB;AACjB;AACA,oCAAoC;AACpC,iBAAiB;AACjB;AACA,6BAA6B,wDAAwD;AACrF,2BAA2B,+BAA+B;AAC1D,2BAA2B,sBAAsB,4BAA4B,mBAAmB;AAChG,2BAA2B,gCAAgC;AAC3D,4BAA4B,gCAAgC;AAC5D,+BAA+B,sBAAsB,4BAA4B;AACjF,iBAAiB;AACjB;AACA,6BAA6B,sBAAsB,mCAAmC;AACtF,iBAAiB;AACjB;AACA,2BAA2B,sBAAsB,mCAAmC,mBAAmB;AACvG,2BAA2B,sBAAsB,mCAAmC;AACpF,iBAAiB;AACjB;AACA,+BAA+B,YAAY,4BAA4B,2BAA2B,4BAA4B,mBAAmB;AACjJ,2BAA2B,WAAW,8BAA8B;AACpE,2BAA2B,sBAAsB,mCAAmC,mBAAmB;AACvG,4BAA4B,YAAY,4BAA4B,IAAI,4BAA4B,mBAAmB;AACvH,2BAA2B,eAAe;AAC1C,2BAA2B,WAAW,qCAAqC,kBAAkB;AAC7F,2BAA2B,WAAW,qCAAqC,kBAAkB;AAC7F,iCAAiC,WAAW,oCAAoC,kBAAkB;AAClG,gCAAgC,sBAAsB,4BAA4B;AAClF,iBAAiB;AACjB;AACA,6BAA6B;AAC7B,iBAAiB;AACjB;AACA,+CAA+C,+BAA+B;AAC9E,8BAA8B,2CAA2C;AACzE,mCAAmC;AACnC,iBAAiB;AACjB;AACA,2BAA2B,+BAA+B;AAC1D,6BAA6B,gCAAgC;AAC7D,2BAA2B,2CAA2C;AACtE,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,gCAAgC;AAChC,iBAAiB;AACjB;AACA,2BAA2B,8BAA8B;AACzD,2BAA2B,qBAAqB;AAChD,6BAA6B,oBAAoB;AACjD,yCAAyC,mCAAmC;AAC5E,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,6BAA6B,sBAAsB,gDAAgD,GAAG;AACtG,2BAA2B,sBAAsB,gDAAgD;AACjG,iBAAiB;AACjB;AACA,8BAA8B,iCAAiC;AAC/D,gCAAgC;AAChC,iBAAiB;AACjB;AACA,wCAAwC,sBAAsB,8BAA8B,mBAAmB;AAC/G,2BAA2B,YAAY,4BAA4B,IAAI,qCAAqC;AAC5G,iBAAiB;AACjB;AACA,2BAA2B,sBAAsB,8CAA8C;AAC/F,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB,kBAAkB;AAClB,gCAAgC,iEAAiE;AACjG,iCAAiC,iEAAiE;AAClG,2BAA2B;AAC3B,iBAAiB;AACjB,oBAAoB;AACpB,0CAA0C,uDAAuD;AACjG,6CAA6C;AAC7C,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB,mBAAmB,MAAM;AACzB,kCAAkC,+BAA+B;AACjE,2BAA2B,gCAAgC;AAC3D,6BAA6B,kCAAkC;AAC/D,2BAA2B,gCAAgC;AAC3D,sCAAsC;AACtC,iBAAiB;AACjB,4BAA4B,OAAO;AACnC,kCAAkC,+BAA+B;AACjE,2BAA2B,gCAAgC;AAC3D,6BAA6B,kCAAkC;AAC/D,2BAA2B,gCAAgC;AAC3D,mCAAmC,eAAe;AAClD,4BAA4B;AAC5B,iBAAiB;AACjB,mBAAmB,uBAAuB;AAC1C,wCAAwC;AACxC,iBAAiB;AACjB,mBAAmB,MAAM,qBAAqB,OAAO;AACrD,kCAAkC,+BAA+B;AACjE,2BAA2B,gCAAgC;AAC3D,6BAA6B,+BAA+B;AAC5D,6BAA6B,gCAAgC;AAC7D,oCAAoC;AACpC,iBAAiB;AACjB;AACA,uDAAuD,YAAY,4BAA4B;AAC/F,iBAAiB;AACjB;AACA,wCAAwC,YAAY,4BAA4B,IAAI,4BAA4B;AAChH,iBAAiB;AACjB,mBAAmB;AACnB,2BAA2B,YAAY,4BAA4B,IAAI,qCAAqC;AAC5G,iBAAiB;AACjB,mBAAmB;AACnB,2BAA2B,WAAW,4BAA4B;AAClE,iBAAiB;AACjB,kBAAkB,IAAI;AACtB,6CAA6C,+BAA+B;AAC5E,0CAA0C;AAC1C,iBAAiB;AACjB;AACA,2BAA2B,eAAe;AAC1C,6CAA6C,+BAA+B;AAC5E,8BAA8B,eAAe;AAC7C,wCAAwC;AACxC,iBAAiB;AACjB,wBAAwB,MAAM;AAC9B,2BAA2B,YAAY,4BAA4B;AACnE,iBAAiB;AACjB,wBAAwB,MAAM;AAC9B,2BAA2B,YAAY,4BAA4B;AACnE,iBAAiB;AACjB,2BAA2B,MAAM;AACjC,2BAA2B,YAAY,4BAA4B;AACnE,iBAAiB;AACjB,4BAA4B,MAAM;AAClC,2BAA2B,YAAY,4BAA4B;AACnE,iBAAiB;AACjB,8BAA8B,MAAM;AACpC,2BAA2B,YAAY,4BAA4B;AACnE,iBAAiB;AACjB,yBAAyB,OAAO,MAAM;AACtC,2BAA2B,YAAY,4BAA4B;AACnE,iBAAiB;AACjB,yBAAyB,MAAM;AAC/B,2BAA2B,YAAY,4BAA4B;AACnE,iBAAiB;AACjB,sBAAsB,MAAM;AAC5B,2BAA2B,YAAY,4BAA4B;AACnE,iBAAiB;AACjB;AACA,2BAA2B,YAAY,4BAA4B;AACnE,iBAAiB;AACjB,sBAAsB,MAAM;AAC5B,2BAA2B,sBAAsB,0BAA0B,GAAG,UAAU,0BAA0B,GAAG;AACrH,iBAAiB;AACjB,wBAAwB,MAAM;AAC9B,kDAAkD,2CAA2C;AAC7F,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B,YAAY,4BAA4B;AACnE,iBAAiB;AACjB;AACA,2BAA2B,kDAAkD;AAC7E,4BAA4B,+DAA+D;AAC3F,yCAAyC,oDAAoD;AAC7F,2BAA2B;AAC3B;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,mBAAmB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,iBAAiB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB,+CAA+C,kBAAkB,mBAAmB;AACpF,gDAAgD,mBAAmB,mBAAmB;AACtF,2DAA2D,iCAAiC,mBAAmB;AAC/G,4DAA4D,kCAAkC,mBAAmB;AACjH,0DAA0D,8BAA8B,mBAAmB;AAC3G,0DAA0D,8BAA8B,mBAAmB;AAC3G;AACA,6BAA6B;AAC7B,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,iCAAiC;AACjC;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,qBAAqB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,oCAAoC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,oCAAoC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iCAAiC;AACjC;AACA,+BAA+B;AAC/B;AACA,iBAAiB;AACjB;AACA,6BAA6B;AAC7B,iBAAiB;AACjB;AACA,6BAA6B;AAC7B,iBAAiB;AACjB;AACA,6BAA6B;AAC7B,iBAAiB;AACjB;AACA,6BAA6B;AAC7B,iBAAiB;AACjB;AACA,6BAA6B;AAC7B,iBAAiB;AACjB,6CAA6C,cAAc,mBAAmB;AAC9E,+CAA+C,gBAAgB,mBAAmB;AAClF,8CAA8C,eAAe,mBAAmB;AAChF,+CAA+C,gBAAgB,mBAAmB;AAClF,8CAA8C,eAAe,mBAAmB;AAChF,wDAAwD,SAAS;AACjE;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB,mBAAmB,MAAM;AACzB,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B,WAAW;AACtC,iBAAiB;AACjB;AACA,2BAA2B;AAC3B;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B,WAAW;AACtC,iBAAiB;AACjB,sBAAsB,MAAM;AAC5B,2BAA2B,YAAY,0BAA0B,GAAG,UAAU,0BAA0B,GAAG;AAC3G,iBAAiB;AACjB,wBAAwB,MAAM;AAC9B,2BAA2B;AAC3B,iBAAiB;AACjB,mBAAmB,MAAM;AACzB,2BAA2B;AAC3B,iBAAiB;AACjB,kBAAkB,MAAM;AACxB,2BAA2B,YAAY,0BAA0B,GAAG,YAAY,0BAA0B,GAAG;AAC7G,iBAAiB;AACjB;AACA,2BAA2B;AAC3B;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B;AAC3B,iBAAiB;AACjB,kBAAkB,IAAI;AACtB,2BAA2B;AAC3B,iBAAiB;AACjB,mBAAmB,MAAM;AACzB,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB,sBAAsB,MAAM;AAC5B,2BAA2B,sBAAsB,0BAA0B,GAAG,UAAU,0BAA0B,GAAG;AACrH,iBAAiB;AACjB,4BAA4B,MAAM;AAClC,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B;AACA,aAAa;AACb;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB,mBAAmB,MAAM;AACzB,2BAA2B;AAC3B,iBAAiB;AACjB,kBAAkB,MAAM;AACxB,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B,WAAW;AACtC,iBAAiB;AACjB,yBAAyB,OAAO,MAAM;AACtC,2BAA2B;AAC3B,iBAAiB;AACjB,yBAAyB,MAAM;AAC/B,2BAA2B;AAC3B,iBAAiB;AACjB,sBAAsB,MAAM;AAC5B,2BAA2B;AAC3B,iBAAiB;AACjB,sBAAsB,MAAM;AAC5B,2BAA2B,YAAY,0BAA0B,GAAG,UAAU,0BAA0B,GAAG;AAC3G,iBAAiB;AACjB,4BAA4B,MAAM;AAClC,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B;AACA,aAAa;AACb;AACA;AACA,6BAA6B;AAC7B,iBAAiB;AACjB;AACA,6BAA6B;AAC7B;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B,WAAW;AACtC,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B,WAAW;AACtC,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B,WAAW;AACtC,iBAAiB;AACjB,mBAAmB,MAAM;AACzB,2BAA2B;AAC3B,iBAAiB;AACjB,kBAAkB,MAAM;AACxB,2BAA2B;AAC3B,iBAAiB;AACjB,yBAAyB,OAAO,MAAM;AACtC,2BAA2B;AAC3B,iBAAiB;AACjB,yBAAyB,MAAM;AAC/B,2BAA2B;AAC3B,iBAAiB;AACjB,sBAAsB,MAAM;AAC5B,2BAA2B;AAC3B,iBAAiB;AACjB,sBAAsB,MAAM;AAC5B,2BAA2B,YAAY,0BAA0B,GAAG,UAAU,0BAA0B,GAAG;AAC3G,iBAAiB;AACjB,4BAA4B,MAAM;AAClC,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B;AACA,aAAa;AACb;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B,WAAW;AACtC,iBAAiB;AACjB;AACA,2BAA2B;AAC3B;AACA,aAAa;AACb;AACA,qDAAqD,SAAS;AAC9D;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B;AAC3B,iBAAiB;AACjB,sBAAsB,MAAM;AAC5B,2BAA2B;AAC3B,iBAAiB;AACjB,sBAAsB,MAAM;AAC5B,2BAA2B,sBAAsB,0BAA0B,GAAG,UAAU,0BAA0B,GAAG;AACrH,iBAAiB;AACjB,kBAAkB,IAAI,YAAY,MAAM;AACxC,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B;AACA,aAAa;AACb;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B;AAC3B,iBAAiB;AACjB,sBAAsB,MAAM;AAC5B,2BAA2B;AAC3B,iBAAiB;AACjB,sBAAsB,MAAM;AAC5B,2BAA2B,sBAAsB,0BAA0B,GAAG,UAAU,0BAA0B,GAAG;AACrH,iBAAiB;AACjB,kBAAkB,IAAI,YAAY,MAAM;AACxC,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B;AACA,aAAa;AACb;AACA,yDAAyD,gCAAgC,UAAU,GAAG,mBAAmB;AACzH;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B;AACA,aAAa;AACb;AACA,uCAAuC,SAAS;AAChD;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB,kBAAkB,MAAM;AACxB,6BAA6B;AAC7B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,6BAA6B;AAC7B,iBAAiB;AACjB;AACA,6BAA6B,WAAW,mCAAmC;AAC3E,iBAAiB;AACjB;AACA,6BAA6B;AAC7B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB,kBAAkB,IAAI;AACtB,6BAA6B,+BAA+B;AAC5D,2BAA2B,0CAA0C;AACrE,6BAA6B;AAC7B;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,eAAe;AAC1D;AACA;AACA,2CAA2C,gBAAgB;AAC3D;AACA;AACA;AACA;AACA,sCAAsC,aAAa;AACnD;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA,iBAAiB;AACjB,wDAAwD,SAAS,wCAAwC;AACzG,uCAAuC,SAAS,wBAAwB;AACxE;AACA;AACA,6DAA6D,MAAM;AACnE;AACA;AACA;AACA,6DAA6D,MAAM;AACnE;AACA;AACA;AACA;AACA,qEAAqE,EAAE,QAAQ,EAAE,OAAO;AACxF,qEAAqE,EAAE,QAAQ,EAAE,OAAO;AACxF;AACA;AACA,qEAAqE,EAAE,QAAQ,EAAE,OAAO;AACxF,qEAAqE,EAAE,QAAQ,EAAE,OAAO;AACxF;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA,2CAA2C,cAAc;AACzD;AACA;AACA,2CAA2C,YAAY;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB,mBAAmB,MAAM;AACzB,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B,gCAAgC;AAC3D,2BAA2B;AAC3B,iBAAiB;AACjB,kBAAkB,IAAI;AACtB,2BAA2B;AAC3B;AACA,aAAa;AACb;AACA,sCAAsC,SAAS,wBAAwB;AACvE,gDAAgD,gBAAgB,UAAU,GAAG,mBAAmB;AAChG,uCAAuC,SAAS,wBAAwB;AACxE;AACA;AACA;AACA,kEAAkE,MAAM;AACxE;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B,qBAAqB;AAChD,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B,iBAAiB;AACjB;AACA,2BAA2B;AAC3B;AACA,aAAa;AACb;AACA,uCAAuC,SAAS,0BAA0B;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,OAAO;AACrE;AACA,uCAAuC,yBAAyB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,OAAO;AAC3C;AACA,uCAAuC,yBAAyB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,YAAY;AAChC;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,aAAa;AAC9C;AACA;AACA;AACA;AACA,6BAA6B,WAAW,GAAG;AAC3C,8BAA8B,WAAW,sBAAsB,EAAE,WAAW,sBAAsB;AAClG;AACA,6BAA6B,WAAW,GAAG;AAC3C,8BAA8B,WAAW,WAAW,GAAG,OAAO,sBAAsB;AACpF,8BAA8B,WAAW,EAAE,OAAO,WAAW,uBAAuB;AACpF;AACA;AACA;AACA,iCAAiC,aAAa;AAC9C;AACA;AACA;AACA;AACA;AACA,iCAAiC,WAAW,GAAG;AAC/C;AACA;AACA,kCAAkC,aAAa;AAC/C;AACA;AACA,kCAAkC,WAAW,cAAc;AAC3D;AACA;AACA;AACA;AACA,iCAAiC,WAAW,GAAG;AAC/C,kCAAkC,aAAa;AAC/C;AACA;AACA,iCAAiC,WAAW,GAAG;AAC/C,kCAAkC,WAAW,cAAc;AAC3D;AACA;AACA;AACA;AACA,iCAAiC,WAAW,GAAG;AAC/C,kCAAkC,WAAW,cAAc;AAC3D;AACA;AACA,iCAAiC,WAAW,GAAG;AAC/C,kCAAkC,aAAa;AAC/C;AACA;AACA;AACA;AACA,gCAAgC,eAAe;AAC/C;AACA;AACA;AACA,2EAA2E,EAAE;AAC7E,oCAAoC,eAAe;AACnD;AACA;AACA,kCAAkC,eAAe;AACjD;AACA;AACA;AACA,gCAAgC,eAAe;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,gBAAgB,eAAe;AAC/D,oCAAoC,sBAAsB,WAAW,WAAW,UAAU;AAC1F;AACA;AACA,gCAAgC,wCAAwC,uCAAuC;AAC/G,oCAAoC,sBAAsB,WAAW,WAAW,UAAU;AAC1F;AACA;AACA;AACA;AACA;AACA,8BAA8B,wCAAwC,uCAAuC;AAC7G;AACA;AACA,iCAAiC,wCAAwC,uCAAuC;AAChH;AACA;AACA,kCAAkC,wCAAwC,uCAAuC;AACjH;AACA;AACA,oCAAoC,uCAAuC,EAAE,uCAAuC;AACpH;AACA;AACA,wBAAwB,QAAQ,oBAAoB,4CAA4C;AAChG;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,eAAe,cAAc;AAC5E;AACA;AACA;AACA,oDAAoD,WAAW,gBAAgB,cAAc;AAC7F;AACA;AACA,oDAAoD,WAAW,gBAAgB,cAAc;AAC7F;AACA;AACA,oCAAoC,UAAU,iBAAiB;AAC/D;AACA;AACA;AACA,wCAAwC,cAAc;AACtD;AACA,mCAAmC,cAAc;AACjD,oCAAoC,UAAU,oBAAoB;AAClE;AACA;AACA;AACA,gCAAgC,UAAU,uBAAuB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,EAAE;AAC1B;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA,8BAA8B,EAAE;AAChC;AACA;AACA,2BAA2B,OAAO;AAClC;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,OAAO;AACzC;AACA;AACA;AACA;AACA;AACA,wBAAwB,MAAM;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,+BAA+B,EAAE;AACjC,+BAA+B,EAAE;AACjC,+BAA+B,EAAE;AACjC,+BAA+B,EAAE;AACjC,+BAA+B,QAAQ;AACvC,+BAA+B,QAAQ;AACvC,+BAA+B,aAAa;AAC5C,gCAAgC,OAAO,YAAY,GAAG,YAAY,cAAc;AAChF,gCAAgC,OAAO,YAAY,GAAG,OAAO,YAAY,cAAc,EAAE;AACzF,iCAAiC,OAAO,YAAY,GAAG,OAAO,YAAY,cAAc,EAAE;AAC1F,iCAAiC,OAAO,YAAY,GAAG,OAAO,YAAY,GAAG,aAAa;AAC1F,kCAAkC,QAAQ,QAAQ,QAAQ;AAC1D,mCAAmC,QAAQ,QAAQ,QAAQ,QAAQ;AACnE,gCAAgC,aAAa;AAC7C,gCAAgC,YAAY;AAC5C,+BAA+B,EAAE;AACjC,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,iCAAiC,IAAI;AACrC,iCAAiC,IAAI;AACrC,iCAAiC,IAAI;AACrC,iCAAiC,IAAI;AACrC,iCAAiC,IAAI;AACrC,kCAAkC,OAAO;AACzC,kCAAkC,OAAO;AACzC,oCAAoC,OAAO;AAC3C,wCAAwC,WAAW;AACnD,0CAA0C,WAAW;AACrD,6CAA6C;AAC7C,+CAA+C;AAC/C,2CAA2C;AAC3C,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/AllPackages.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/action/ActionConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/ams/AmsConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/ams/AmsItems.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/ams/AmsMappings.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/ams/AmsMethods.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/amscd/AmsCdConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/amscd/AmsCdMappings.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/amscd/AmsCdMethods.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/bbox/BboxConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/boldsymbol/BoldsymbolConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/braket/BraketConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/braket/BraketItems.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/braket/BraketMappings.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/braket/BraketMethods.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/bussproofs/BussproofsConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/bussproofs/BussproofsItems.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/bussproofs/BussproofsMappings.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/bussproofs/BussproofsMethods.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/bussproofs/BussproofsUtil.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/cancel/CancelConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/cases/CasesConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/centernot/CenternotConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/color/ColorConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/color/ColorConstants.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/color/ColorMethods.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/color/ColorUtil.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/colortbl/ColortblConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/colorv2/ColorV2Configuration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/configmacros/ConfigMacrosConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/empheq/EmpheqConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/empheq/EmpheqUtil.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/enclose/EncloseConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/extpfeil/ExtpfeilConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/gensymb/GensymbConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/html/HtmlConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/html/HtmlMethods.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/mathtools/MathtoolsConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/mathtools/MathtoolsItems.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/mathtools/MathtoolsMappings.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/mathtools/MathtoolsMethods.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/mathtools/MathtoolsTags.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/mathtools/MathtoolsUtil.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/mhchem/MhchemConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/newcommand/NewcommandConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/newcommand/NewcommandItems.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/newcommand/NewcommandMappings.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/newcommand/NewcommandMethods.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/newcommand/NewcommandUtil.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/noerrors/NoErrorsConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/noundefined/NoUndefinedConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/physics/PhysicsConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/physics/PhysicsItems.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/physics/PhysicsMappings.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/physics/PhysicsMethods.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/setoptions/SetOptionsConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/tagformat/TagFormatConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/textcomp/TextcompConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/textcomp/TextcompMappings.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/textmacros/TextMacrosConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/textmacros/TextMacrosMappings.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/textmacros/TextMacrosMethods.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/textmacros/TextParser.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/unicode/UnicodeConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/upgreek/UpgreekConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/verb/VerbConfiguration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mhchemparser/dist/mhchemParser.js&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.AllPackages = void 0;</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./base/BaseConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./action/ActionConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./ams/AmsConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./amscd/AmsCdConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./bbox/BboxConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./boldsymbol/BoldsymbolConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./braket/BraketConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./bussproofs/BussproofsConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./cancel/CancelConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./cases/CasesConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./centernot/CenternotConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./color/ColorConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./colorv2/ColorV2Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./colortbl/ColortblConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./configmacros/ConfigMacrosConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./empheq/EmpheqConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./enclose/EncloseConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./extpfeil/ExtpfeilConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./gensymb/GensymbConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./html/HtmlConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./mathtools/MathtoolsConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./mhchem/MhchemConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./newcommand/NewcommandConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./noerrors/NoErrorsConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./noundefined/NoUndefinedConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./physics/PhysicsConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./setoptions/SetOptionsConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./tagformat/TagFormatConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./textcomp/TextcompConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./textmacros/TextMacrosConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./upgreek/UpgreekConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./unicode/UnicodeConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./verb/VerbConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">if (typeof MathJax !== 'undefined' &amp;&amp; MathJax.loader) {</span><span class="s3">\n    </span><span class="s1">MathJax.loader.preLoad('[tex]/action', '[tex]/ams', '[tex]/amscd', '[tex]/bbox', '[tex]/boldsymbol', '[tex]/braket', '[tex]/bussproofs', '[tex]/cancel', '[tex]/cases', '[tex]/centernot', '[tex]/color', '[tex]/colorv2', '[tex]/colortbl', '[tex]/empheq', '[tex]/enclose', '[tex]/extpfeil', '[tex]/gensymb', '[tex]/html', '[tex]/mathtools', '[tex]/mhchem', '[tex]/newcommand', '[tex]/noerrors', '[tex]/noundefined', '[tex]/physics', '[tex]/upgreek', '[tex]/unicode', '[tex]/verb', '[tex]/configmacros', '[tex]/tagformat', '[tex]/textcomp', '[tex]/textmacros', '[tex]/setoptions');</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">exports.AllPackages = [</span><span class="s3">\n    </span><span class="s1">'base',</span><span class="s3">\n    </span><span class="s1">'action',</span><span class="s3">\n    </span><span class="s1">'ams',</span><span class="s3">\n    </span><span class="s1">'amscd',</span><span class="s3">\n    </span><span class="s1">'bbox',</span><span class="s3">\n    </span><span class="s1">'boldsymbol',</span><span class="s3">\n    </span><span class="s1">'braket',</span><span class="s3">\n    </span><span class="s1">'bussproofs',</span><span class="s3">\n    </span><span class="s1">'cancel',</span><span class="s3">\n    </span><span class="s1">'cases',</span><span class="s3">\n    </span><span class="s1">'centernot',</span><span class="s3">\n    </span><span class="s1">'color',</span><span class="s3">\n    </span><span class="s1">'colortbl',</span><span class="s3">\n    </span><span class="s1">'empheq',</span><span class="s3">\n    </span><span class="s1">'enclose',</span><span class="s3">\n    </span><span class="s1">'extpfeil',</span><span class="s3">\n    </span><span class="s1">'gensymb',</span><span class="s3">\n    </span><span class="s1">'html',</span><span class="s3">\n    </span><span class="s1">'mathtools',</span><span class="s3">\n    </span><span class="s1">'mhchem',</span><span class="s3">\n    </span><span class="s1">'newcommand',</span><span class="s3">\n    </span><span class="s1">'noerrors',</span><span class="s3">\n    </span><span class="s1">'noundefined',</span><span class="s3">\n    </span><span class="s1">'upgreek',</span><span class="s3">\n    </span><span class="s1">'unicode',</span><span class="s3">\n    </span><span class="s1">'verb',</span><span class="s3">\n    </span><span class="s1">'configmacros',</span><span class="s3">\n    </span><span class="s1">'tagformat',</span><span class="s3">\n    </span><span class="s1">'textcomp',</span><span class="s3">\n    </span><span class="s1">'textmacros'</span><span class="s3">\n</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=AllPackages.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.ActionConfiguration = exports.ActionMethods = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TexParser_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexParser.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var BaseMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../base/BaseMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">exports.ActionMethods = {};</span><span class="s3">\n</span><span class="s1">exports.ActionMethods.Macro = BaseMethods_js_1.default.Macro;</span><span class="s3">\n</span><span class="s1">exports.ActionMethods.Toggle = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var children = [];</span><span class="s3">\n    </span><span class="s1">var arg;</span><span class="s3">\n    </span><span class="s1">while ((arg = parser.GetArgument(name)) !== '</span><span class="s3">\\\\</span><span class="s1">endtoggle') {</span><span class="s3">\n        </span><span class="s1">children.push(new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml());</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.Push(parser.create('node', 'maction', children, { actiontype: 'toggle' }));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.ActionMethods.Mathtip = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var arg = parser.ParseArg(name);</span><span class="s3">\n    </span><span class="s1">var tip = parser.ParseArg(name);</span><span class="s3">\n    </span><span class="s1">parser.Push(parser.create('node', 'maction', [arg, tip], { actiontype: 'tooltip' }));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('action-macros', {</span><span class="s3">\n    </span><span class="s1">toggle: 'Toggle',</span><span class="s3">\n    </span><span class="s1">mathtip: 'Mathtip',</span><span class="s3">\n    </span><span class="s1">texttip: ['Macro', '</span><span class="s3">\\\\</span><span class="s1">mathtip{#1}{</span><span class="s3">\\\\</span><span class="s1">text{#2}}', 2]</span><span class="s3">\n</span><span class="s1">}, exports.ActionMethods);</span><span class="s3">\n</span><span class="s1">exports.ActionConfiguration = Configuration_js_1.Configuration.create('action', { handler: { macro: ['action-macros'] } });</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=ActionConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __extends = (this &amp;&amp; this.__extends) || (function () {</span><span class="s3">\n    </span><span class="s1">var extendStatics = function (d, b) {</span><span class="s3">\n        </span><span class="s1">extendStatics = Object.setPrototypeOf ||</span><span class="s3">\n            </span><span class="s1">({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||</span><span class="s3">\n            </span><span class="s1">function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };</span><span class="s3">\n        </span><span class="s1">return extendStatics(d, b);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return function (d, b) {</span><span class="s3">\n        </span><span class="s1">if (typeof b !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; b !== null)</span><span class="s3">\n            </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Class extends value </span><span class="s3">\&quot; </span><span class="s1">+ String(b) + </span><span class="s3">\&quot; </span><span class="s1">is not a constructor or null</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">extendStatics(d, b);</span><span class="s3">\n        </span><span class="s1">function __() { this.constructor = d; }</span><span class="s3">\n        </span><span class="s1">d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">var _a;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.AmsConfiguration = exports.AmsTags = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var AmsItems_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./AmsItems.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var Tags_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Tags.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var AmsMethods_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./AmsMethods.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./AmsMappings.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var AmsTags = (function (_super) {</span><span class="s3">\n    </span><span class="s1">__extends(AmsTags, _super);</span><span class="s3">\n    </span><span class="s1">function AmsTags() {</span><span class="s3">\n        </span><span class="s1">return _super !== null &amp;&amp; _super.apply(this, arguments) || this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return AmsTags;</span><span class="s3">\n</span><span class="s1">}(Tags_js_1.AbstractTags));</span><span class="s3">\n</span><span class="s1">exports.AmsTags = AmsTags;</span><span class="s3">\n</span><span class="s1">var init = function (config) {</span><span class="s3">\n    </span><span class="s1">new SymbolMap_js_1.CommandMap(AmsMethods_js_1.NEW_OPS, {}, {});</span><span class="s3">\n    </span><span class="s1">config.append(Configuration_js_1.Configuration.local({ handler: { macro: [AmsMethods_js_1.NEW_OPS] },</span><span class="s3">\n        </span><span class="s1">priority: -1 }));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.AmsConfiguration = Configuration_js_1.Configuration.create('ams', {</span><span class="s3">\n    </span><span class="s1">handler: {</span><span class="s3">\n        </span><span class="s1">character: ['AMSmath-operatorLetter'],</span><span class="s3">\n        </span><span class="s1">delimiter: ['AMSsymbols-delimiter', 'AMSmath-delimiter'],</span><span class="s3">\n        </span><span class="s1">macro: ['AMSsymbols-mathchar0mi', 'AMSsymbols-mathchar0mo',</span><span class="s3">\n            </span><span class="s1">'AMSsymbols-delimiter', 'AMSsymbols-macros',</span><span class="s3">\n            </span><span class="s1">'AMSmath-mathchar0mo', 'AMSmath-macros', 'AMSmath-delimiter'],</span><span class="s3">\n        </span><span class="s1">environment: ['AMSmath-environment']</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">items: (_a = {},</span><span class="s3">\n        </span><span class="s1">_a[AmsItems_js_1.MultlineItem.prototype.kind] = AmsItems_js_1.MultlineItem,</span><span class="s3">\n        </span><span class="s1">_a[AmsItems_js_1.FlalignItem.prototype.kind] = AmsItems_js_1.FlalignItem,</span><span class="s3">\n        </span><span class="s1">_a),</span><span class="s3">\n    </span><span class="s1">tags: { 'ams': AmsTags },</span><span class="s3">\n    </span><span class="s1">init: init,</span><span class="s3">\n    </span><span class="s1">config: function (_config, jax) {</span><span class="s3">\n        </span><span class="s1">if (jax.parseOptions.options.multlineWidth) {</span><span class="s3">\n            </span><span class="s1">jax.parseOptions.options.ams.multlineWidth = jax.parseOptions.options.multlineWidth;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">delete jax.parseOptions.options.multlineWidth;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">options: {</span><span class="s3">\n        </span><span class="s1">multlineWidth: '',</span><span class="s3">\n        </span><span class="s1">ams: {</span><span class="s3">\n            </span><span class="s1">multlineWidth: '100%',</span><span class="s3">\n            </span><span class="s1">multlineIndent: '1em',</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=AmsConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __extends = (this &amp;&amp; this.__extends) || (function () {</span><span class="s3">\n    </span><span class="s1">var extendStatics = function (d, b) {</span><span class="s3">\n        </span><span class="s1">extendStatics = Object.setPrototypeOf ||</span><span class="s3">\n            </span><span class="s1">({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||</span><span class="s3">\n            </span><span class="s1">function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };</span><span class="s3">\n        </span><span class="s1">return extendStatics(d, b);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return function (d, b) {</span><span class="s3">\n        </span><span class="s1">if (typeof b !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; b !== null)</span><span class="s3">\n            </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Class extends value </span><span class="s3">\&quot; </span><span class="s1">+ String(b) + </span><span class="s3">\&quot; </span><span class="s1">is not a constructor or null</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">extendStatics(d, b);</span><span class="s3">\n        </span><span class="s1">function __() { this.constructor = d; }</span><span class="s3">\n        </span><span class="s1">d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">var __assign = (this &amp;&amp; this.__assign) || function () {</span><span class="s3">\n    </span><span class="s1">__assign = Object.assign || function(t) {</span><span class="s3">\n        </span><span class="s1">for (var s, i = 1, n = arguments.length; i &lt; n; i++) {</span><span class="s3">\n            </span><span class="s1">s = arguments[i];</span><span class="s3">\n            </span><span class="s1">for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))</span><span class="s3">\n                </span><span class="s1">t[p] = s[p];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return t;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return __assign.apply(this, arguments);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.FlalignItem = exports.MultlineItem = void 0;</span><span class="s3">\n</span><span class="s1">var BaseItems_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../base/BaseItems.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var NodeUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../NodeUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexConstants_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../TexConstants.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var MultlineItem = (function (_super) {</span><span class="s3">\n    </span><span class="s1">__extends(MultlineItem, _super);</span><span class="s3">\n    </span><span class="s1">function MultlineItem(factory) {</span><span class="s3">\n        </span><span class="s1">var args = [];</span><span class="s3">\n        </span><span class="s1">for (var _i = 1; _i &lt; arguments.length; _i++) {</span><span class="s3">\n            </span><span class="s1">args[_i - 1] = arguments[_i];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var _this = _super.call(this, factory) || this;</span><span class="s3">\n        </span><span class="s1">_this.factory.configuration.tags.start('multline', true, args[0]);</span><span class="s3">\n        </span><span class="s1">return _this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(MultlineItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">kind</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n        </span><span class="s1">get: function () {</span><span class="s3">\n            </span><span class="s1">return 'multline';</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">enumerable: false,</span><span class="s3">\n        </span><span class="s1">configurable: true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">MultlineItem.prototype.EndEntry = function () {</span><span class="s3">\n        </span><span class="s1">if (this.table.length) {</span><span class="s3">\n            </span><span class="s1">ParseUtil_js_1.default.fixInitialMO(this.factory.configuration, this.nodes);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var shove = this.getProperty('shove');</span><span class="s3">\n        </span><span class="s1">var mtd = this.create('node', 'mtd', this.nodes, shove ? { columnalign: shove } : {});</span><span class="s3">\n        </span><span class="s1">this.setProperty('shove', null);</span><span class="s3">\n        </span><span class="s1">this.row.push(mtd);</span><span class="s3">\n        </span><span class="s1">this.Clear();</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">MultlineItem.prototype.EndRow = function () {</span><span class="s3">\n        </span><span class="s1">if (this.row.length !== 1) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('MultlineRowsOneCol', 'The rows within the %1 environment must have exactly one column', 'multline');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var row = this.create('node', 'mtr', this.row);</span><span class="s3">\n        </span><span class="s1">this.table.push(row);</span><span class="s3">\n        </span><span class="s1">this.row = [];</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">MultlineItem.prototype.EndTable = function () {</span><span class="s3">\n        </span><span class="s1">_super.prototype.EndTable.call(this);</span><span class="s3">\n        </span><span class="s1">if (this.table.length) {</span><span class="s3">\n            </span><span class="s1">var m = this.table.length - 1, label = -1;</span><span class="s3">\n            </span><span class="s1">if (!NodeUtil_js_1.default.getAttribute(NodeUtil_js_1.default.getChildren(this.table[0])[0], 'columnalign')) {</span><span class="s3">\n                </span><span class="s1">NodeUtil_js_1.default.setAttribute(NodeUtil_js_1.default.getChildren(this.table[0])[0], 'columnalign', TexConstants_js_1.TexConstant.Align.LEFT);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (!NodeUtil_js_1.default.getAttribute(NodeUtil_js_1.default.getChildren(this.table[m])[0], 'columnalign')) {</span><span class="s3">\n                </span><span class="s1">NodeUtil_js_1.default.setAttribute(NodeUtil_js_1.default.getChildren(this.table[m])[0], 'columnalign', TexConstants_js_1.TexConstant.Align.RIGHT);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">var tag = this.factory.configuration.tags.getTag();</span><span class="s3">\n            </span><span class="s1">if (tag) {</span><span class="s3">\n                </span><span class="s1">label = (this.arraydef.side === TexConstants_js_1.TexConstant.Align.LEFT ? 0 : this.table.length - 1);</span><span class="s3">\n                </span><span class="s1">var mtr = this.table[label];</span><span class="s3">\n                </span><span class="s1">var mlabel = this.create('node', 'mlabeledtr', [tag].concat(NodeUtil_js_1.default.getChildren(mtr)));</span><span class="s3">\n                </span><span class="s1">NodeUtil_js_1.default.copyAttributes(mtr, mlabel);</span><span class="s3">\n                </span><span class="s1">this.table[label] = mlabel;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.factory.configuration.tags.end();</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return MultlineItem;</span><span class="s3">\n</span><span class="s1">}(BaseItems_js_1.ArrayItem));</span><span class="s3">\n</span><span class="s1">exports.MultlineItem = MultlineItem;</span><span class="s3">\n</span><span class="s1">var FlalignItem = (function (_super) {</span><span class="s3">\n    </span><span class="s1">__extends(FlalignItem, _super);</span><span class="s3">\n    </span><span class="s1">function FlalignItem(factory, name, numbered, padded, center) {</span><span class="s3">\n        </span><span class="s1">var _this = _super.call(this, factory) || this;</span><span class="s3">\n        </span><span class="s1">_this.name = name;</span><span class="s3">\n        </span><span class="s1">_this.numbered = numbered;</span><span class="s3">\n        </span><span class="s1">_this.padded = padded;</span><span class="s3">\n        </span><span class="s1">_this.center = center;</span><span class="s3">\n        </span><span class="s1">_this.factory.configuration.tags.start(name, numbered, numbered);</span><span class="s3">\n        </span><span class="s1">return _this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(FlalignItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">kind</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n        </span><span class="s1">get: function () {</span><span class="s3">\n            </span><span class="s1">return 'flalign';</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">enumerable: false,</span><span class="s3">\n        </span><span class="s1">configurable: true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">FlalignItem.prototype.EndEntry = function () {</span><span class="s3">\n        </span><span class="s1">_super.prototype.EndEntry.call(this);</span><span class="s3">\n        </span><span class="s1">var n = this.getProperty('xalignat');</span><span class="s3">\n        </span><span class="s1">if (!n)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">if (this.row.length &gt; n) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('XalignOverflow', 'Extra %1 in row of %2', '&amp;', this.name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">FlalignItem.prototype.EndRow = function () {</span><span class="s3">\n        </span><span class="s1">var cell;</span><span class="s3">\n        </span><span class="s1">var row = this.row;</span><span class="s3">\n        </span><span class="s1">var n = this.getProperty('xalignat');</span><span class="s3">\n        </span><span class="s1">while (row.length &lt; n) {</span><span class="s3">\n            </span><span class="s1">row.push(this.create('node', 'mtd'));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.row = [];</span><span class="s3">\n        </span><span class="s1">if (this.padded) {</span><span class="s3">\n            </span><span class="s1">this.row.push(this.create('node', 'mtd'));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">while ((cell = row.shift())) {</span><span class="s3">\n            </span><span class="s1">this.row.push(cell);</span><span class="s3">\n            </span><span class="s1">cell = row.shift();</span><span class="s3">\n            </span><span class="s1">if (cell)</span><span class="s3">\n                </span><span class="s1">this.row.push(cell);</span><span class="s3">\n            </span><span class="s1">if (row.length || this.padded) {</span><span class="s3">\n                </span><span class="s1">this.row.push(this.create('node', 'mtd'));</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.row.length &gt; this.maxrow) {</span><span class="s3">\n            </span><span class="s1">this.maxrow = this.row.length;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">_super.prototype.EndRow.call(this);</span><span class="s3">\n        </span><span class="s1">var mtr = this.table[this.table.length - 1];</span><span class="s3">\n        </span><span class="s1">if (this.getProperty('zeroWidthLabel') &amp;&amp; mtr.isKind('mlabeledtr')) {</span><span class="s3">\n            </span><span class="s1">var mtd = NodeUtil_js_1.default.getChildren(mtr)[0];</span><span class="s3">\n            </span><span class="s1">var side = this.factory.configuration.options['tagSide'];</span><span class="s3">\n            </span><span class="s1">var def = __assign({ width: 0 }, (side === 'right' ? { lspace: '-1width' } : {}));</span><span class="s3">\n            </span><span class="s1">var mpadded = this.create('node', 'mpadded', NodeUtil_js_1.default.getChildren(mtd), def);</span><span class="s3">\n            </span><span class="s1">mtd.setChildren([mpadded]);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">FlalignItem.prototype.EndTable = function () {</span><span class="s3">\n        </span><span class="s1">_super.prototype.EndTable.call(this);</span><span class="s3">\n        </span><span class="s1">if (this.center) {</span><span class="s3">\n            </span><span class="s1">if (this.maxrow &lt;= 2) {</span><span class="s3">\n                </span><span class="s1">var def = this.arraydef;</span><span class="s3">\n                </span><span class="s1">delete def.width;</span><span class="s3">\n                </span><span class="s1">delete this.global.indentalign;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return FlalignItem;</span><span class="s3">\n</span><span class="s1">}(BaseItems_js_1.EqnArrayItem));</span><span class="s3">\n</span><span class="s1">exports.FlalignItem = FlalignItem;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=AmsItems.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __createBinding = (this &amp;&amp; this.__createBinding) || (Object.create ? (function(o, m, k, k2) {</span><span class="s3">\n    </span><span class="s1">if (k2 === undefined) k2 = k;</span><span class="s3">\n    </span><span class="s1">var desc = Object.getOwnPropertyDescriptor(m, k);</span><span class="s3">\n    </span><span class="s1">if (!desc || (</span><span class="s3">\&quot;</span><span class="s1">get</span><span class="s3">\&quot; </span><span class="s1">in desc ? !m.__esModule : desc.writable || desc.configurable)) {</span><span class="s3">\n      </span><span class="s1">desc = { enumerable: true, get: function() { return m[k]; } };</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(o, k2, desc);</span><span class="s3">\n</span><span class="s1">}) : (function(o, m, k, k2) {</span><span class="s3">\n    </span><span class="s1">if (k2 === undefined) k2 = k;</span><span class="s3">\n    </span><span class="s1">o[k2] = m[k];</span><span class="s3">\n</span><span class="s1">}));</span><span class="s3">\n</span><span class="s1">var __setModuleDefault = (this &amp;&amp; this.__setModuleDefault) || (Object.create ? (function(o, v) {</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(o, </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">, { enumerable: true, value: v });</span><span class="s3">\n</span><span class="s1">}) : function(o, v) {</span><span class="s3">\n    </span><span class="s1">o[</span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">] = v;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var __importStar = (this &amp;&amp; this.__importStar) || function (mod) {</span><span class="s3">\n    </span><span class="s1">if (mod &amp;&amp; mod.__esModule) return mod;</span><span class="s3">\n    </span><span class="s1">var result = {};</span><span class="s3">\n    </span><span class="s1">if (mod != null) for (var k in mod) if (k !== </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);</span><span class="s3">\n    </span><span class="s1">__setModuleDefault(result, mod);</span><span class="s3">\n    </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">var AmsMethods_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./AmsMethods.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var sm = __importStar(require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexConstants_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../TexConstants.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ParseMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var MmlNode_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../../core/MmlTree/MmlNode.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var lengths_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../../util/lengths.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">new sm.CharacterMap('AMSmath-mathchar0mo', ParseMethods_js_1.default.mathchar0mo, {</span><span class="s3">\n    </span><span class="s1">iiiint: ['</span><span class="s3">\\</span><span class="s1">u2A0C', { texClass: MmlNode_js_1.TEXCLASS.OP }]</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">new sm.RegExpMap('AMSmath-operatorLetter', AmsMethods_js_1.AmsMethods.operatorLetter, /[-*]/i);</span><span class="s3">\n</span><span class="s1">new sm.CommandMap('AMSmath-macros', {</span><span class="s3">\n    </span><span class="s1">mathring: ['Accent', '02DA'],</span><span class="s3">\n    </span><span class="s1">nobreakspace: 'Tilde',</span><span class="s3">\n    </span><span class="s1">negmedspace: ['Spacer', lengths_js_1.MATHSPACE.negativemediummathspace],</span><span class="s3">\n    </span><span class="s1">negthickspace: ['Spacer', lengths_js_1.MATHSPACE.negativethickmathspace],</span><span class="s3">\n    </span><span class="s1">idotsint: ['MultiIntegral', '</span><span class="s3">\\\\</span><span class="s1">int</span><span class="s3">\\\\</span><span class="s1">cdots</span><span class="s3">\\\\</span><span class="s1">int'],</span><span class="s3">\n    </span><span class="s1">dddot: ['Accent', '20DB'],</span><span class="s3">\n    </span><span class="s1">ddddot: ['Accent', '20DC'],</span><span class="s3">\n    </span><span class="s1">sideset: 'SideSet',</span><span class="s3">\n    </span><span class="s1">boxed: ['Macro', '</span><span class="s3">\\\\</span><span class="s1">fbox{$</span><span class="s3">\\\\</span><span class="s1">displaystyle{#1}$}', 1],</span><span class="s3">\n    </span><span class="s1">tag: 'HandleTag',</span><span class="s3">\n    </span><span class="s1">notag: 'HandleNoTag',</span><span class="s3">\n    </span><span class="s1">eqref: ['HandleRef', true],</span><span class="s3">\n    </span><span class="s1">substack: ['Macro', '</span><span class="s3">\\\\</span><span class="s1">begin{subarray}{c}#1</span><span class="s3">\\\\</span><span class="s1">end{subarray}', 1],</span><span class="s3">\n    </span><span class="s1">injlim: ['NamedOp', 'inj&amp;thinsp;lim'],</span><span class="s3">\n    </span><span class="s1">projlim: ['NamedOp', 'proj&amp;thinsp;lim'],</span><span class="s3">\n    </span><span class="s1">varliminf: ['Macro', '</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">underline{</span><span class="s3">\\\\</span><span class="s1">mmlToken{mi}{lim}}}'],</span><span class="s3">\n    </span><span class="s1">varlimsup: ['Macro', '</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">overline{</span><span class="s3">\\\\</span><span class="s1">mmlToken{mi}{lim}}}'],</span><span class="s3">\n    </span><span class="s1">varinjlim: ['Macro', '</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">underrightarrow{</span><span class="s3">\\\\</span><span class="s1">mmlToken{mi}{lim}}}'],</span><span class="s3">\n    </span><span class="s1">varprojlim: ['Macro', '</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">underleftarrow{</span><span class="s3">\\\\</span><span class="s1">mmlToken{mi}{lim}}}'],</span><span class="s3">\n    </span><span class="s1">DeclareMathOperator: 'HandleDeclareOp',</span><span class="s3">\n    </span><span class="s1">operatorname: 'HandleOperatorName',</span><span class="s3">\n    </span><span class="s1">genfrac: 'Genfrac',</span><span class="s3">\n    </span><span class="s1">frac: ['Genfrac', '', '', '', ''],</span><span class="s3">\n    </span><span class="s1">tfrac: ['Genfrac', '', '', '', '1'],</span><span class="s3">\n    </span><span class="s1">dfrac: ['Genfrac', '', '', '', '0'],</span><span class="s3">\n    </span><span class="s1">binom: ['Genfrac', '(', ')', '0', ''],</span><span class="s3">\n    </span><span class="s1">tbinom: ['Genfrac', '(', ')', '0', '1'],</span><span class="s3">\n    </span><span class="s1">dbinom: ['Genfrac', '(', ')', '0', '0'],</span><span class="s3">\n    </span><span class="s1">cfrac: 'CFrac',</span><span class="s3">\n    </span><span class="s1">shoveleft: ['HandleShove', TexConstants_js_1.TexConstant.Align.LEFT],</span><span class="s3">\n    </span><span class="s1">shoveright: ['HandleShove', TexConstants_js_1.TexConstant.Align.RIGHT],</span><span class="s3">\n    </span><span class="s1">xrightarrow: ['xArrow', 0x2192, 5, 10],</span><span class="s3">\n    </span><span class="s1">xleftarrow: ['xArrow', 0x2190, 10, 5]</span><span class="s3">\n</span><span class="s1">}, AmsMethods_js_1.AmsMethods);</span><span class="s3">\n</span><span class="s1">new sm.EnvironmentMap('AMSmath-environment', ParseMethods_js_1.default.environment, {</span><span class="s3">\n    </span><span class="s1">'equation*': ['Equation', null, false],</span><span class="s3">\n    </span><span class="s1">'eqnarray*': ['EqnArray', null, false, true, 'rcl',</span><span class="s3">\n        </span><span class="s1">ParseUtil_js_1.default.cols(0, lengths_js_1.MATHSPACE.thickmathspace), '.5em'],</span><span class="s3">\n    </span><span class="s1">align: ['EqnArray', null, true, true, 'rl', ParseUtil_js_1.default.cols(0, 2)],</span><span class="s3">\n    </span><span class="s1">'align*': ['EqnArray', null, false, true, 'rl', ParseUtil_js_1.default.cols(0, 2)],</span><span class="s3">\n    </span><span class="s1">multline: ['Multline', null, true],</span><span class="s3">\n    </span><span class="s1">'multline*': ['Multline', null, false],</span><span class="s3">\n    </span><span class="s1">split: ['EqnArray', null, false, false, 'rl', ParseUtil_js_1.default.cols(0)],</span><span class="s3">\n    </span><span class="s1">gather: ['EqnArray', null, true, true, 'c'],</span><span class="s3">\n    </span><span class="s1">'gather*': ['EqnArray', null, false, true, 'c'],</span><span class="s3">\n    </span><span class="s1">alignat: ['AlignAt', null, true, true],</span><span class="s3">\n    </span><span class="s1">'alignat*': ['AlignAt', null, false, true],</span><span class="s3">\n    </span><span class="s1">alignedat: ['AlignAt', null, false, false],</span><span class="s3">\n    </span><span class="s1">aligned: ['AmsEqnArray', null, null, null, 'rl', ParseUtil_js_1.default.cols(0, 2), '.5em', 'D'],</span><span class="s3">\n    </span><span class="s1">gathered: ['AmsEqnArray', null, null, null, 'c', null, '.5em', 'D'],</span><span class="s3">\n    </span><span class="s1">xalignat: ['XalignAt', null, true, true],</span><span class="s3">\n    </span><span class="s1">'xalignat*': ['XalignAt', null, false, true],</span><span class="s3">\n    </span><span class="s1">xxalignat: ['XalignAt', null, false, false],</span><span class="s3">\n    </span><span class="s1">flalign: ['FlalignArray', null, true, false, true, 'rlc', 'auto auto fit'],</span><span class="s3">\n    </span><span class="s1">'flalign*': ['FlalignArray', null, false, false, true, 'rlc', 'auto auto fit'],</span><span class="s3">\n    </span><span class="s1">subarray: ['Array', null, null, null, null, ParseUtil_js_1.default.cols(0), '0.1em', 'S', 1],</span><span class="s3">\n    </span><span class="s1">smallmatrix: ['Array', null, null, null, 'c', ParseUtil_js_1.default.cols(1 / 3),</span><span class="s3">\n        </span><span class="s1">'.2em', 'S', 1],</span><span class="s3">\n    </span><span class="s1">matrix: ['Array', null, null, null, 'c'],</span><span class="s3">\n    </span><span class="s1">pmatrix: ['Array', null, '(', ')', 'c'],</span><span class="s3">\n    </span><span class="s1">bmatrix: ['Array', null, '[', ']', 'c'],</span><span class="s3">\n    </span><span class="s1">Bmatrix: ['Array', null, '</span><span class="s3">\\\\</span><span class="s1">{', '</span><span class="s3">\\\\</span><span class="s1">}', 'c'],</span><span class="s3">\n    </span><span class="s1">vmatrix: ['Array', null, '</span><span class="s3">\\\\</span><span class="s1">vert', '</span><span class="s3">\\\\</span><span class="s1">vert', 'c'],</span><span class="s3">\n    </span><span class="s1">Vmatrix: ['Array', null, '</span><span class="s3">\\\\</span><span class="s1">Vert', '</span><span class="s3">\\\\</span><span class="s1">Vert', 'c'],</span><span class="s3">\n    </span><span class="s1">cases: ['Array', null, '</span><span class="s3">\\\\</span><span class="s1">{', '.', 'll', null, '.2em', 'T']</span><span class="s3">\n</span><span class="s1">}, AmsMethods_js_1.AmsMethods);</span><span class="s3">\n</span><span class="s1">new sm.DelimiterMap('AMSmath-delimiter', ParseMethods_js_1.default.delimiter, {</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">lvert': ['</span><span class="s3">\\</span><span class="s1">u007C', { texClass: MmlNode_js_1.TEXCLASS.OPEN }],</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">rvert': ['</span><span class="s3">\\</span><span class="s1">u007C', { texClass: MmlNode_js_1.TEXCLASS.CLOSE }],</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">lVert': ['</span><span class="s3">\\</span><span class="s1">u2016', { texClass: MmlNode_js_1.TEXCLASS.OPEN }],</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">rVert': ['</span><span class="s3">\\</span><span class="s1">u2016', { texClass: MmlNode_js_1.TEXCLASS.CLOSE }]</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">new sm.CharacterMap('AMSsymbols-mathchar0mi', ParseMethods_js_1.default.mathchar0mi, {</span><span class="s3">\n    </span><span class="s1">digamma: '</span><span class="s3">\\</span><span class="s1">u03DD',</span><span class="s3">\n    </span><span class="s1">varkappa: '</span><span class="s3">\\</span><span class="s1">u03F0',</span><span class="s3">\n    </span><span class="s1">varGamma: ['</span><span class="s3">\\</span><span class="s1">u0393', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],</span><span class="s3">\n    </span><span class="s1">varDelta: ['</span><span class="s3">\\</span><span class="s1">u0394', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],</span><span class="s3">\n    </span><span class="s1">varTheta: ['</span><span class="s3">\\</span><span class="s1">u0398', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],</span><span class="s3">\n    </span><span class="s1">varLambda: ['</span><span class="s3">\\</span><span class="s1">u039B', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],</span><span class="s3">\n    </span><span class="s1">varXi: ['</span><span class="s3">\\</span><span class="s1">u039E', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],</span><span class="s3">\n    </span><span class="s1">varPi: ['</span><span class="s3">\\</span><span class="s1">u03A0', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],</span><span class="s3">\n    </span><span class="s1">varSigma: ['</span><span class="s3">\\</span><span class="s1">u03A3', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],</span><span class="s3">\n    </span><span class="s1">varUpsilon: ['</span><span class="s3">\\</span><span class="s1">u03A5', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],</span><span class="s3">\n    </span><span class="s1">varPhi: ['</span><span class="s3">\\</span><span class="s1">u03A6', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],</span><span class="s3">\n    </span><span class="s1">varPsi: ['</span><span class="s3">\\</span><span class="s1">u03A8', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],</span><span class="s3">\n    </span><span class="s1">varOmega: ['</span><span class="s3">\\</span><span class="s1">u03A9', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],</span><span class="s3">\n    </span><span class="s1">beth: '</span><span class="s3">\\</span><span class="s1">u2136',</span><span class="s3">\n    </span><span class="s1">gimel: '</span><span class="s3">\\</span><span class="s1">u2137',</span><span class="s3">\n    </span><span class="s1">daleth: '</span><span class="s3">\\</span><span class="s1">u2138',</span><span class="s3">\n    </span><span class="s1">backprime: ['</span><span class="s3">\\</span><span class="s1">u2035', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">hslash: '</span><span class="s3">\\</span><span class="s1">u210F',</span><span class="s3">\n    </span><span class="s1">varnothing: ['</span><span class="s3">\\</span><span class="s1">u2205', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">blacktriangle: '</span><span class="s3">\\</span><span class="s1">u25B4',</span><span class="s3">\n    </span><span class="s1">triangledown: ['</span><span class="s3">\\</span><span class="s1">u25BD', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">blacktriangledown: '</span><span class="s3">\\</span><span class="s1">u25BE',</span><span class="s3">\n    </span><span class="s1">square: '</span><span class="s3">\\</span><span class="s1">u25FB',</span><span class="s3">\n    </span><span class="s1">Box: '</span><span class="s3">\\</span><span class="s1">u25FB',</span><span class="s3">\n    </span><span class="s1">blacksquare: '</span><span class="s3">\\</span><span class="s1">u25FC',</span><span class="s3">\n    </span><span class="s1">lozenge: '</span><span class="s3">\\</span><span class="s1">u25CA',</span><span class="s3">\n    </span><span class="s1">Diamond: '</span><span class="s3">\\</span><span class="s1">u25CA',</span><span class="s3">\n    </span><span class="s1">blacklozenge: '</span><span class="s3">\\</span><span class="s1">u29EB',</span><span class="s3">\n    </span><span class="s1">circledS: ['</span><span class="s3">\\</span><span class="s1">u24C8', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],</span><span class="s3">\n    </span><span class="s1">bigstar: '</span><span class="s3">\\</span><span class="s1">u2605',</span><span class="s3">\n    </span><span class="s1">sphericalangle: '</span><span class="s3">\\</span><span class="s1">u2222',</span><span class="s3">\n    </span><span class="s1">measuredangle: '</span><span class="s3">\\</span><span class="s1">u2221',</span><span class="s3">\n    </span><span class="s1">nexists: '</span><span class="s3">\\</span><span class="s1">u2204',</span><span class="s3">\n    </span><span class="s1">complement: '</span><span class="s3">\\</span><span class="s1">u2201',</span><span class="s3">\n    </span><span class="s1">mho: '</span><span class="s3">\\</span><span class="s1">u2127',</span><span class="s3">\n    </span><span class="s1">eth: ['</span><span class="s3">\\</span><span class="s1">u00F0', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],</span><span class="s3">\n    </span><span class="s1">Finv: '</span><span class="s3">\\</span><span class="s1">u2132',</span><span class="s3">\n    </span><span class="s1">diagup: '</span><span class="s3">\\</span><span class="s1">u2571',</span><span class="s3">\n    </span><span class="s1">Game: '</span><span class="s3">\\</span><span class="s1">u2141',</span><span class="s3">\n    </span><span class="s1">diagdown: '</span><span class="s3">\\</span><span class="s1">u2572',</span><span class="s3">\n    </span><span class="s1">Bbbk: ['</span><span class="s3">\\</span><span class="s1">u006B',</span><span class="s3">\n        </span><span class="s1">{ mathvariant: TexConstants_js_1.TexConstant.Variant.DOUBLESTRUCK }],</span><span class="s3">\n    </span><span class="s1">yen: '</span><span class="s3">\\</span><span class="s1">u00A5',</span><span class="s3">\n    </span><span class="s1">circledR: '</span><span class="s3">\\</span><span class="s1">u00AE',</span><span class="s3">\n    </span><span class="s1">checkmark: '</span><span class="s3">\\</span><span class="s1">u2713',</span><span class="s3">\n    </span><span class="s1">maltese: '</span><span class="s3">\\</span><span class="s1">u2720'</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">new sm.CharacterMap('AMSsymbols-mathchar0mo', ParseMethods_js_1.default.mathchar0mo, {</span><span class="s3">\n    </span><span class="s1">dotplus: '</span><span class="s3">\\</span><span class="s1">u2214',</span><span class="s3">\n    </span><span class="s1">ltimes: '</span><span class="s3">\\</span><span class="s1">u22C9',</span><span class="s3">\n    </span><span class="s1">smallsetminus: ['</span><span class="s3">\\</span><span class="s1">u2216', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">rtimes: '</span><span class="s3">\\</span><span class="s1">u22CA',</span><span class="s3">\n    </span><span class="s1">Cap: '</span><span class="s3">\\</span><span class="s1">u22D2',</span><span class="s3">\n    </span><span class="s1">doublecap: '</span><span class="s3">\\</span><span class="s1">u22D2',</span><span class="s3">\n    </span><span class="s1">leftthreetimes: '</span><span class="s3">\\</span><span class="s1">u22CB',</span><span class="s3">\n    </span><span class="s1">Cup: '</span><span class="s3">\\</span><span class="s1">u22D3',</span><span class="s3">\n    </span><span class="s1">doublecup: '</span><span class="s3">\\</span><span class="s1">u22D3',</span><span class="s3">\n    </span><span class="s1">rightthreetimes: '</span><span class="s3">\\</span><span class="s1">u22CC',</span><span class="s3">\n    </span><span class="s1">barwedge: '</span><span class="s3">\\</span><span class="s1">u22BC',</span><span class="s3">\n    </span><span class="s1">curlywedge: '</span><span class="s3">\\</span><span class="s1">u22CF',</span><span class="s3">\n    </span><span class="s1">veebar: '</span><span class="s3">\\</span><span class="s1">u22BB',</span><span class="s3">\n    </span><span class="s1">curlyvee: '</span><span class="s3">\\</span><span class="s1">u22CE',</span><span class="s3">\n    </span><span class="s1">doublebarwedge: '</span><span class="s3">\\</span><span class="s1">u2A5E',</span><span class="s3">\n    </span><span class="s1">boxminus: '</span><span class="s3">\\</span><span class="s1">u229F',</span><span class="s3">\n    </span><span class="s1">circleddash: '</span><span class="s3">\\</span><span class="s1">u229D',</span><span class="s3">\n    </span><span class="s1">boxtimes: '</span><span class="s3">\\</span><span class="s1">u22A0',</span><span class="s3">\n    </span><span class="s1">circledast: '</span><span class="s3">\\</span><span class="s1">u229B',</span><span class="s3">\n    </span><span class="s1">boxdot: '</span><span class="s3">\\</span><span class="s1">u22A1',</span><span class="s3">\n    </span><span class="s1">circledcirc: '</span><span class="s3">\\</span><span class="s1">u229A',</span><span class="s3">\n    </span><span class="s1">boxplus: '</span><span class="s3">\\</span><span class="s1">u229E',</span><span class="s3">\n    </span><span class="s1">centerdot: ['</span><span class="s3">\\</span><span class="s1">u22C5', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">divideontimes: '</span><span class="s3">\\</span><span class="s1">u22C7',</span><span class="s3">\n    </span><span class="s1">intercal: '</span><span class="s3">\\</span><span class="s1">u22BA',</span><span class="s3">\n    </span><span class="s1">leqq: '</span><span class="s3">\\</span><span class="s1">u2266',</span><span class="s3">\n    </span><span class="s1">geqq: '</span><span class="s3">\\</span><span class="s1">u2267',</span><span class="s3">\n    </span><span class="s1">leqslant: '</span><span class="s3">\\</span><span class="s1">u2A7D',</span><span class="s3">\n    </span><span class="s1">geqslant: '</span><span class="s3">\\</span><span class="s1">u2A7E',</span><span class="s3">\n    </span><span class="s1">eqslantless: '</span><span class="s3">\\</span><span class="s1">u2A95',</span><span class="s3">\n    </span><span class="s1">eqslantgtr: '</span><span class="s3">\\</span><span class="s1">u2A96',</span><span class="s3">\n    </span><span class="s1">lesssim: '</span><span class="s3">\\</span><span class="s1">u2272',</span><span class="s3">\n    </span><span class="s1">gtrsim: '</span><span class="s3">\\</span><span class="s1">u2273',</span><span class="s3">\n    </span><span class="s1">lessapprox: '</span><span class="s3">\\</span><span class="s1">u2A85',</span><span class="s3">\n    </span><span class="s1">gtrapprox: '</span><span class="s3">\\</span><span class="s1">u2A86',</span><span class="s3">\n    </span><span class="s1">approxeq: '</span><span class="s3">\\</span><span class="s1">u224A',</span><span class="s3">\n    </span><span class="s1">lessdot: '</span><span class="s3">\\</span><span class="s1">u22D6',</span><span class="s3">\n    </span><span class="s1">gtrdot: '</span><span class="s3">\\</span><span class="s1">u22D7',</span><span class="s3">\n    </span><span class="s1">lll: '</span><span class="s3">\\</span><span class="s1">u22D8',</span><span class="s3">\n    </span><span class="s1">llless: '</span><span class="s3">\\</span><span class="s1">u22D8',</span><span class="s3">\n    </span><span class="s1">ggg: '</span><span class="s3">\\</span><span class="s1">u22D9',</span><span class="s3">\n    </span><span class="s1">gggtr: '</span><span class="s3">\\</span><span class="s1">u22D9',</span><span class="s3">\n    </span><span class="s1">lessgtr: '</span><span class="s3">\\</span><span class="s1">u2276',</span><span class="s3">\n    </span><span class="s1">gtrless: '</span><span class="s3">\\</span><span class="s1">u2277',</span><span class="s3">\n    </span><span class="s1">lesseqgtr: '</span><span class="s3">\\</span><span class="s1">u22DA',</span><span class="s3">\n    </span><span class="s1">gtreqless: '</span><span class="s3">\\</span><span class="s1">u22DB',</span><span class="s3">\n    </span><span class="s1">lesseqqgtr: '</span><span class="s3">\\</span><span class="s1">u2A8B',</span><span class="s3">\n    </span><span class="s1">gtreqqless: '</span><span class="s3">\\</span><span class="s1">u2A8C',</span><span class="s3">\n    </span><span class="s1">doteqdot: '</span><span class="s3">\\</span><span class="s1">u2251',</span><span class="s3">\n    </span><span class="s1">Doteq: '</span><span class="s3">\\</span><span class="s1">u2251',</span><span class="s3">\n    </span><span class="s1">eqcirc: '</span><span class="s3">\\</span><span class="s1">u2256',</span><span class="s3">\n    </span><span class="s1">risingdotseq: '</span><span class="s3">\\</span><span class="s1">u2253',</span><span class="s3">\n    </span><span class="s1">circeq: '</span><span class="s3">\\</span><span class="s1">u2257',</span><span class="s3">\n    </span><span class="s1">fallingdotseq: '</span><span class="s3">\\</span><span class="s1">u2252',</span><span class="s3">\n    </span><span class="s1">triangleq: '</span><span class="s3">\\</span><span class="s1">u225C',</span><span class="s3">\n    </span><span class="s1">backsim: '</span><span class="s3">\\</span><span class="s1">u223D',</span><span class="s3">\n    </span><span class="s1">thicksim: ['</span><span class="s3">\\</span><span class="s1">u223C', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">backsimeq: '</span><span class="s3">\\</span><span class="s1">u22CD',</span><span class="s3">\n    </span><span class="s1">thickapprox: ['</span><span class="s3">\\</span><span class="s1">u2248', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">subseteqq: '</span><span class="s3">\\</span><span class="s1">u2AC5',</span><span class="s3">\n    </span><span class="s1">supseteqq: '</span><span class="s3">\\</span><span class="s1">u2AC6',</span><span class="s3">\n    </span><span class="s1">Subset: '</span><span class="s3">\\</span><span class="s1">u22D0',</span><span class="s3">\n    </span><span class="s1">Supset: '</span><span class="s3">\\</span><span class="s1">u22D1',</span><span class="s3">\n    </span><span class="s1">sqsubset: '</span><span class="s3">\\</span><span class="s1">u228F',</span><span class="s3">\n    </span><span class="s1">sqsupset: '</span><span class="s3">\\</span><span class="s1">u2290',</span><span class="s3">\n    </span><span class="s1">preccurlyeq: '</span><span class="s3">\\</span><span class="s1">u227C',</span><span class="s3">\n    </span><span class="s1">succcurlyeq: '</span><span class="s3">\\</span><span class="s1">u227D',</span><span class="s3">\n    </span><span class="s1">curlyeqprec: '</span><span class="s3">\\</span><span class="s1">u22DE',</span><span class="s3">\n    </span><span class="s1">curlyeqsucc: '</span><span class="s3">\\</span><span class="s1">u22DF',</span><span class="s3">\n    </span><span class="s1">precsim: '</span><span class="s3">\\</span><span class="s1">u227E',</span><span class="s3">\n    </span><span class="s1">succsim: '</span><span class="s3">\\</span><span class="s1">u227F',</span><span class="s3">\n    </span><span class="s1">precapprox: '</span><span class="s3">\\</span><span class="s1">u2AB7',</span><span class="s3">\n    </span><span class="s1">succapprox: '</span><span class="s3">\\</span><span class="s1">u2AB8',</span><span class="s3">\n    </span><span class="s1">vartriangleleft: '</span><span class="s3">\\</span><span class="s1">u22B2',</span><span class="s3">\n    </span><span class="s1">lhd: '</span><span class="s3">\\</span><span class="s1">u22B2',</span><span class="s3">\n    </span><span class="s1">vartriangleright: '</span><span class="s3">\\</span><span class="s1">u22B3',</span><span class="s3">\n    </span><span class="s1">rhd: '</span><span class="s3">\\</span><span class="s1">u22B3',</span><span class="s3">\n    </span><span class="s1">trianglelefteq: '</span><span class="s3">\\</span><span class="s1">u22B4',</span><span class="s3">\n    </span><span class="s1">unlhd: '</span><span class="s3">\\</span><span class="s1">u22B4',</span><span class="s3">\n    </span><span class="s1">trianglerighteq: '</span><span class="s3">\\</span><span class="s1">u22B5',</span><span class="s3">\n    </span><span class="s1">unrhd: '</span><span class="s3">\\</span><span class="s1">u22B5',</span><span class="s3">\n    </span><span class="s1">vDash: ['</span><span class="s3">\\</span><span class="s1">u22A8', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">Vdash: '</span><span class="s3">\\</span><span class="s1">u22A9',</span><span class="s3">\n    </span><span class="s1">Vvdash: '</span><span class="s3">\\</span><span class="s1">u22AA',</span><span class="s3">\n    </span><span class="s1">smallsmile: ['</span><span class="s3">\\</span><span class="s1">u2323', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">shortmid: ['</span><span class="s3">\\</span><span class="s1">u2223', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">smallfrown: ['</span><span class="s3">\\</span><span class="s1">u2322', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">shortparallel: ['</span><span class="s3">\\</span><span class="s1">u2225', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">bumpeq: '</span><span class="s3">\\</span><span class="s1">u224F',</span><span class="s3">\n    </span><span class="s1">between: '</span><span class="s3">\\</span><span class="s1">u226C',</span><span class="s3">\n    </span><span class="s1">Bumpeq: '</span><span class="s3">\\</span><span class="s1">u224E',</span><span class="s3">\n    </span><span class="s1">pitchfork: '</span><span class="s3">\\</span><span class="s1">u22D4',</span><span class="s3">\n    </span><span class="s1">varpropto: ['</span><span class="s3">\\</span><span class="s1">u221D', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">backepsilon: '</span><span class="s3">\\</span><span class="s1">u220D',</span><span class="s3">\n    </span><span class="s1">blacktriangleleft: '</span><span class="s3">\\</span><span class="s1">u25C2',</span><span class="s3">\n    </span><span class="s1">blacktriangleright: '</span><span class="s3">\\</span><span class="s1">u25B8',</span><span class="s3">\n    </span><span class="s1">therefore: '</span><span class="s3">\\</span><span class="s1">u2234',</span><span class="s3">\n    </span><span class="s1">because: '</span><span class="s3">\\</span><span class="s1">u2235',</span><span class="s3">\n    </span><span class="s1">eqsim: '</span><span class="s3">\\</span><span class="s1">u2242',</span><span class="s3">\n    </span><span class="s1">vartriangle: ['</span><span class="s3">\\</span><span class="s1">u25B3', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">Join: '</span><span class="s3">\\</span><span class="s1">u22C8',</span><span class="s3">\n    </span><span class="s1">nless: '</span><span class="s3">\\</span><span class="s1">u226E',</span><span class="s3">\n    </span><span class="s1">ngtr: '</span><span class="s3">\\</span><span class="s1">u226F',</span><span class="s3">\n    </span><span class="s1">nleq: '</span><span class="s3">\\</span><span class="s1">u2270',</span><span class="s3">\n    </span><span class="s1">ngeq: '</span><span class="s3">\\</span><span class="s1">u2271',</span><span class="s3">\n    </span><span class="s1">nleqslant: ['</span><span class="s3">\\</span><span class="s1">u2A87', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">ngeqslant: ['</span><span class="s3">\\</span><span class="s1">u2A88', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">nleqq: ['</span><span class="s3">\\</span><span class="s1">u2270', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">ngeqq: ['</span><span class="s3">\\</span><span class="s1">u2271', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">lneq: '</span><span class="s3">\\</span><span class="s1">u2A87',</span><span class="s3">\n    </span><span class="s1">gneq: '</span><span class="s3">\\</span><span class="s1">u2A88',</span><span class="s3">\n    </span><span class="s1">lneqq: '</span><span class="s3">\\</span><span class="s1">u2268',</span><span class="s3">\n    </span><span class="s1">gneqq: '</span><span class="s3">\\</span><span class="s1">u2269',</span><span class="s3">\n    </span><span class="s1">lvertneqq: ['</span><span class="s3">\\</span><span class="s1">u2268', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">gvertneqq: ['</span><span class="s3">\\</span><span class="s1">u2269', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">lnsim: '</span><span class="s3">\\</span><span class="s1">u22E6',</span><span class="s3">\n    </span><span class="s1">gnsim: '</span><span class="s3">\\</span><span class="s1">u22E7',</span><span class="s3">\n    </span><span class="s1">lnapprox: '</span><span class="s3">\\</span><span class="s1">u2A89',</span><span class="s3">\n    </span><span class="s1">gnapprox: '</span><span class="s3">\\</span><span class="s1">u2A8A',</span><span class="s3">\n    </span><span class="s1">nprec: '</span><span class="s3">\\</span><span class="s1">u2280',</span><span class="s3">\n    </span><span class="s1">nsucc: '</span><span class="s3">\\</span><span class="s1">u2281',</span><span class="s3">\n    </span><span class="s1">npreceq: ['</span><span class="s3">\\</span><span class="s1">u22E0', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">nsucceq: ['</span><span class="s3">\\</span><span class="s1">u22E1', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">precneqq: '</span><span class="s3">\\</span><span class="s1">u2AB5',</span><span class="s3">\n    </span><span class="s1">succneqq: '</span><span class="s3">\\</span><span class="s1">u2AB6',</span><span class="s3">\n    </span><span class="s1">precnsim: '</span><span class="s3">\\</span><span class="s1">u22E8',</span><span class="s3">\n    </span><span class="s1">succnsim: '</span><span class="s3">\\</span><span class="s1">u22E9',</span><span class="s3">\n    </span><span class="s1">precnapprox: '</span><span class="s3">\\</span><span class="s1">u2AB9',</span><span class="s3">\n    </span><span class="s1">succnapprox: '</span><span class="s3">\\</span><span class="s1">u2ABA',</span><span class="s3">\n    </span><span class="s1">nsim: '</span><span class="s3">\\</span><span class="s1">u2241',</span><span class="s3">\n    </span><span class="s1">ncong: '</span><span class="s3">\\</span><span class="s1">u2247',</span><span class="s3">\n    </span><span class="s1">nshortmid: ['</span><span class="s3">\\</span><span class="s1">u2224', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">nshortparallel: ['</span><span class="s3">\\</span><span class="s1">u2226', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">nmid: '</span><span class="s3">\\</span><span class="s1">u2224',</span><span class="s3">\n    </span><span class="s1">nparallel: '</span><span class="s3">\\</span><span class="s1">u2226',</span><span class="s3">\n    </span><span class="s1">nvdash: '</span><span class="s3">\\</span><span class="s1">u22AC',</span><span class="s3">\n    </span><span class="s1">nvDash: '</span><span class="s3">\\</span><span class="s1">u22AD',</span><span class="s3">\n    </span><span class="s1">nVdash: '</span><span class="s3">\\</span><span class="s1">u22AE',</span><span class="s3">\n    </span><span class="s1">nVDash: '</span><span class="s3">\\</span><span class="s1">u22AF',</span><span class="s3">\n    </span><span class="s1">ntriangleleft: '</span><span class="s3">\\</span><span class="s1">u22EA',</span><span class="s3">\n    </span><span class="s1">ntriangleright: '</span><span class="s3">\\</span><span class="s1">u22EB',</span><span class="s3">\n    </span><span class="s1">ntrianglelefteq: '</span><span class="s3">\\</span><span class="s1">u22EC',</span><span class="s3">\n    </span><span class="s1">ntrianglerighteq: '</span><span class="s3">\\</span><span class="s1">u22ED',</span><span class="s3">\n    </span><span class="s1">nsubseteq: '</span><span class="s3">\\</span><span class="s1">u2288',</span><span class="s3">\n    </span><span class="s1">nsupseteq: '</span><span class="s3">\\</span><span class="s1">u2289',</span><span class="s3">\n    </span><span class="s1">nsubseteqq: ['</span><span class="s3">\\</span><span class="s1">u2288', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">nsupseteqq: ['</span><span class="s3">\\</span><span class="s1">u2289', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">subsetneq: '</span><span class="s3">\\</span><span class="s1">u228A',</span><span class="s3">\n    </span><span class="s1">supsetneq: '</span><span class="s3">\\</span><span class="s1">u228B',</span><span class="s3">\n    </span><span class="s1">varsubsetneq: ['</span><span class="s3">\\</span><span class="s1">u228A', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">varsupsetneq: ['</span><span class="s3">\\</span><span class="s1">u228B', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">subsetneqq: '</span><span class="s3">\\</span><span class="s1">u2ACB',</span><span class="s3">\n    </span><span class="s1">supsetneqq: '</span><span class="s3">\\</span><span class="s1">u2ACC',</span><span class="s3">\n    </span><span class="s1">varsubsetneqq: ['</span><span class="s3">\\</span><span class="s1">u2ACB', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">varsupsetneqq: ['</span><span class="s3">\\</span><span class="s1">u2ACC', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">leftleftarrows: '</span><span class="s3">\\</span><span class="s1">u21C7',</span><span class="s3">\n    </span><span class="s1">rightrightarrows: '</span><span class="s3">\\</span><span class="s1">u21C9',</span><span class="s3">\n    </span><span class="s1">leftrightarrows: '</span><span class="s3">\\</span><span class="s1">u21C6',</span><span class="s3">\n    </span><span class="s1">rightleftarrows: '</span><span class="s3">\\</span><span class="s1">u21C4',</span><span class="s3">\n    </span><span class="s1">Lleftarrow: '</span><span class="s3">\\</span><span class="s1">u21DA',</span><span class="s3">\n    </span><span class="s1">Rrightarrow: '</span><span class="s3">\\</span><span class="s1">u21DB',</span><span class="s3">\n    </span><span class="s1">twoheadleftarrow: '</span><span class="s3">\\</span><span class="s1">u219E',</span><span class="s3">\n    </span><span class="s1">twoheadrightarrow: '</span><span class="s3">\\</span><span class="s1">u21A0',</span><span class="s3">\n    </span><span class="s1">leftarrowtail: '</span><span class="s3">\\</span><span class="s1">u21A2',</span><span class="s3">\n    </span><span class="s1">rightarrowtail: '</span><span class="s3">\\</span><span class="s1">u21A3',</span><span class="s3">\n    </span><span class="s1">looparrowleft: '</span><span class="s3">\\</span><span class="s1">u21AB',</span><span class="s3">\n    </span><span class="s1">looparrowright: '</span><span class="s3">\\</span><span class="s1">u21AC',</span><span class="s3">\n    </span><span class="s1">leftrightharpoons: '</span><span class="s3">\\</span><span class="s1">u21CB',</span><span class="s3">\n    </span><span class="s1">rightleftharpoons: ['</span><span class="s3">\\</span><span class="s1">u21CC', { variantForm: true }],</span><span class="s3">\n    </span><span class="s1">curvearrowleft: '</span><span class="s3">\\</span><span class="s1">u21B6',</span><span class="s3">\n    </span><span class="s1">curvearrowright: '</span><span class="s3">\\</span><span class="s1">u21B7',</span><span class="s3">\n    </span><span class="s1">circlearrowleft: '</span><span class="s3">\\</span><span class="s1">u21BA',</span><span class="s3">\n    </span><span class="s1">circlearrowright: '</span><span class="s3">\\</span><span class="s1">u21BB',</span><span class="s3">\n    </span><span class="s1">Lsh: '</span><span class="s3">\\</span><span class="s1">u21B0',</span><span class="s3">\n    </span><span class="s1">Rsh: '</span><span class="s3">\\</span><span class="s1">u21B1',</span><span class="s3">\n    </span><span class="s1">upuparrows: '</span><span class="s3">\\</span><span class="s1">u21C8',</span><span class="s3">\n    </span><span class="s1">downdownarrows: '</span><span class="s3">\\</span><span class="s1">u21CA',</span><span class="s3">\n    </span><span class="s1">upharpoonleft: '</span><span class="s3">\\</span><span class="s1">u21BF',</span><span class="s3">\n    </span><span class="s1">upharpoonright: '</span><span class="s3">\\</span><span class="s1">u21BE',</span><span class="s3">\n    </span><span class="s1">downharpoonleft: '</span><span class="s3">\\</span><span class="s1">u21C3',</span><span class="s3">\n    </span><span class="s1">restriction: '</span><span class="s3">\\</span><span class="s1">u21BE',</span><span class="s3">\n    </span><span class="s1">multimap: '</span><span class="s3">\\</span><span class="s1">u22B8',</span><span class="s3">\n    </span><span class="s1">downharpoonright: '</span><span class="s3">\\</span><span class="s1">u21C2',</span><span class="s3">\n    </span><span class="s1">leftrightsquigarrow: '</span><span class="s3">\\</span><span class="s1">u21AD',</span><span class="s3">\n    </span><span class="s1">rightsquigarrow: '</span><span class="s3">\\</span><span class="s1">u21DD',</span><span class="s3">\n    </span><span class="s1">leadsto: '</span><span class="s3">\\</span><span class="s1">u21DD',</span><span class="s3">\n    </span><span class="s1">dashrightarrow: '</span><span class="s3">\\</span><span class="s1">u21E2',</span><span class="s3">\n    </span><span class="s1">dashleftarrow: '</span><span class="s3">\\</span><span class="s1">u21E0',</span><span class="s3">\n    </span><span class="s1">nleftarrow: '</span><span class="s3">\\</span><span class="s1">u219A',</span><span class="s3">\n    </span><span class="s1">nrightarrow: '</span><span class="s3">\\</span><span class="s1">u219B',</span><span class="s3">\n    </span><span class="s1">nLeftarrow: '</span><span class="s3">\\</span><span class="s1">u21CD',</span><span class="s3">\n    </span><span class="s1">nRightarrow: '</span><span class="s3">\\</span><span class="s1">u21CF',</span><span class="s3">\n    </span><span class="s1">nleftrightarrow: '</span><span class="s3">\\</span><span class="s1">u21AE',</span><span class="s3">\n    </span><span class="s1">nLeftrightarrow: '</span><span class="s3">\\</span><span class="s1">u21CE'</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">new sm.DelimiterMap('AMSsymbols-delimiter', ParseMethods_js_1.default.delimiter, {</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">ulcorner': '</span><span class="s3">\\</span><span class="s1">u231C',</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">urcorner': '</span><span class="s3">\\</span><span class="s1">u231D',</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">llcorner': '</span><span class="s3">\\</span><span class="s1">u231E',</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">lrcorner': '</span><span class="s3">\\</span><span class="s1">u231F'</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">new sm.CommandMap('AMSsymbols-macros', {</span><span class="s3">\n    </span><span class="s1">implies: ['Macro', '</span><span class="s3">\\\\</span><span class="s1">;</span><span class="s3">\\\\</span><span class="s1">Longrightarrow</span><span class="s3">\\\\</span><span class="s1">;'],</span><span class="s3">\n    </span><span class="s1">impliedby: ['Macro', '</span><span class="s3">\\\\</span><span class="s1">;</span><span class="s3">\\\\</span><span class="s1">Longleftarrow</span><span class="s3">\\\\</span><span class="s1">;']</span><span class="s3">\n</span><span class="s1">}, AmsMethods_js_1.AmsMethods);</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=AmsMappings.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __assign = (this &amp;&amp; this.__assign) || function () {</span><span class="s3">\n    </span><span class="s1">__assign = Object.assign || function(t) {</span><span class="s3">\n        </span><span class="s1">for (var s, i = 1, n = arguments.length; i &lt; n; i++) {</span><span class="s3">\n            </span><span class="s1">s = arguments[i];</span><span class="s3">\n            </span><span class="s1">for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))</span><span class="s3">\n                </span><span class="s1">t[p] = s[p];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return t;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return __assign.apply(this, arguments);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __read = (this &amp;&amp; this.__read) || function (o, n) {</span><span class="s3">\n    </span><span class="s1">var m = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; o[Symbol.iterator];</span><span class="s3">\n    </span><span class="s1">if (!m) return o;</span><span class="s3">\n    </span><span class="s1">var i = m.call(o), r, ar = [], e;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">while ((n === void 0 || n-- &gt; 0) &amp;&amp; !(r = i.next()).done) ar.push(r.value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (error) { e = { error: error }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (r &amp;&amp; !r.done &amp;&amp; (m = i[</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">])) m.call(i);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e) throw e.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return ar;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.NEW_OPS = exports.AmsMethods = void 0;</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var ParseMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var NodeUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../NodeUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexConstants_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../TexConstants.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TexParser_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexParser.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var Symbol_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Symbol.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var BaseMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../base/BaseMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var MmlNode_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../../core/MmlTree/MmlNode.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">exports.AmsMethods = {};</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.AmsEqnArray = function (parser, begin, numbered, taggable, align, spacing, style) {</span><span class="s3">\n    </span><span class="s1">var args = parser.GetBrackets('</span><span class="s3">\\\\</span><span class="s1">begin{' + begin.getName() + '}');</span><span class="s3">\n    </span><span class="s1">var array = BaseMethods_js_1.default.EqnArray(parser, begin, numbered, taggable, align, spacing, style);</span><span class="s3">\n    </span><span class="s1">return ParseUtil_js_1.default.setArrayAlign(array, args);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.AlignAt = function (parser, begin, numbered, taggable) {</span><span class="s3">\n    </span><span class="s1">var name = begin.getName();</span><span class="s3">\n    </span><span class="s1">var n, valign, align = '', spacing = [];</span><span class="s3">\n    </span><span class="s1">if (!taggable) {</span><span class="s3">\n        </span><span class="s1">valign = parser.GetBrackets('</span><span class="s3">\\\\</span><span class="s1">begin{' + name + '}');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">n = parser.GetArgument('</span><span class="s3">\\\\</span><span class="s1">begin{' + name + '}');</span><span class="s3">\n    </span><span class="s1">if (n.match(/[^0-9]/)) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('PositiveIntegerArg', 'Argument to %1 must me a positive integer', '</span><span class="s3">\\\\</span><span class="s1">begin{' + name + '}');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var count = parseInt(n, 10);</span><span class="s3">\n    </span><span class="s1">while (count &gt; 0) {</span><span class="s3">\n        </span><span class="s1">align += 'rl';</span><span class="s3">\n        </span><span class="s1">spacing.push('0em 0em');</span><span class="s3">\n        </span><span class="s1">count--;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var spaceStr = spacing.join(' ');</span><span class="s3">\n    </span><span class="s1">if (taggable) {</span><span class="s3">\n        </span><span class="s1">return exports.AmsMethods.EqnArray(parser, begin, numbered, taggable, align, spaceStr);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var array = exports.AmsMethods.EqnArray(parser, begin, numbered, taggable, align, spaceStr);</span><span class="s3">\n    </span><span class="s1">return ParseUtil_js_1.default.setArrayAlign(array, valign);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.Multline = function (parser, begin, numbered) {</span><span class="s3">\n    </span><span class="s1">parser.Push(begin);</span><span class="s3">\n    </span><span class="s1">ParseUtil_js_1.default.checkEqnEnv(parser);</span><span class="s3">\n    </span><span class="s1">var item = parser.itemFactory.create('multline', numbered, parser.stack);</span><span class="s3">\n    </span><span class="s1">item.arraydef = {</span><span class="s3">\n        </span><span class="s1">displaystyle: true,</span><span class="s3">\n        </span><span class="s1">rowspacing: '.5em',</span><span class="s3">\n        </span><span class="s1">columnspacing: '100%',</span><span class="s3">\n        </span><span class="s1">width: parser.options.ams['multlineWidth'],</span><span class="s3">\n        </span><span class="s1">side: parser.options['tagSide'],</span><span class="s3">\n        </span><span class="s1">minlabelspacing: parser.options['tagIndent'],</span><span class="s3">\n        </span><span class="s1">framespacing: parser.options.ams['multlineIndent'] + ' 0',</span><span class="s3">\n        </span><span class="s1">frame: '',</span><span class="s3">\n        </span><span class="s1">'data-width-includes-label': true</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return item;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.XalignAt = function (parser, begin, numbered, padded) {</span><span class="s3">\n    </span><span class="s1">var n = parser.GetArgument('</span><span class="s3">\\\\</span><span class="s1">begin{' + begin.getName() + '}');</span><span class="s3">\n    </span><span class="s1">if (n.match(/[^0-9]/)) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('PositiveIntegerArg', 'Argument to %1 must me a positive integer', '</span><span class="s3">\\\\</span><span class="s1">begin{' + begin.getName() + '}');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var align = (padded ? 'crl' : 'rlc');</span><span class="s3">\n    </span><span class="s1">var width = (padded ? 'fit auto auto' : 'auto auto fit');</span><span class="s3">\n    </span><span class="s1">var item = exports.AmsMethods.FlalignArray(parser, begin, numbered, padded, false, align, width, true);</span><span class="s3">\n    </span><span class="s1">item.setProperty('xalignat', 2 * parseInt(n));</span><span class="s3">\n    </span><span class="s1">return item;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.FlalignArray = function (parser, begin, numbered, padded, center, align, width, zeroWidthLabel) {</span><span class="s3">\n    </span><span class="s1">if (zeroWidthLabel === void 0) { zeroWidthLabel = false; }</span><span class="s3">\n    </span><span class="s1">parser.Push(begin);</span><span class="s3">\n    </span><span class="s1">ParseUtil_js_1.default.checkEqnEnv(parser);</span><span class="s3">\n    </span><span class="s1">align = align</span><span class="s3">\n        </span><span class="s1">.split('')</span><span class="s3">\n        </span><span class="s1">.join(' ')</span><span class="s3">\n        </span><span class="s1">.replace(/r/g, 'right')</span><span class="s3">\n        </span><span class="s1">.replace(/l/g, 'left')</span><span class="s3">\n        </span><span class="s1">.replace(/c/g, 'center');</span><span class="s3">\n    </span><span class="s1">var item = parser.itemFactory.create('flalign', begin.getName(), numbered, padded, center, parser.stack);</span><span class="s3">\n    </span><span class="s1">item.arraydef = {</span><span class="s3">\n        </span><span class="s1">width: '100%',</span><span class="s3">\n        </span><span class="s1">displaystyle: true,</span><span class="s3">\n        </span><span class="s1">columnalign: align,</span><span class="s3">\n        </span><span class="s1">columnspacing: '0em',</span><span class="s3">\n        </span><span class="s1">columnwidth: width,</span><span class="s3">\n        </span><span class="s1">rowspacing: '3pt',</span><span class="s3">\n        </span><span class="s1">side: parser.options['tagSide'],</span><span class="s3">\n        </span><span class="s1">minlabelspacing: (zeroWidthLabel ? '0' : parser.options['tagIndent']),</span><span class="s3">\n        </span><span class="s1">'data-width-includes-label': true,</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">item.setProperty('zeroWidthLabel', zeroWidthLabel);</span><span class="s3">\n    </span><span class="s1">return item;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.NEW_OPS = 'ams-declare-ops';</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.HandleDeclareOp = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var star = (parser.GetStar() ? '*' : '');</span><span class="s3">\n    </span><span class="s1">var cs = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));</span><span class="s3">\n    </span><span class="s1">if (cs.charAt(0) === '</span><span class="s3">\\\\</span><span class="s1">') {</span><span class="s3">\n        </span><span class="s1">cs = cs.substr(1);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var op = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">parser.configuration.handlers.retrieve(exports.NEW_OPS).</span><span class="s3">\n        </span><span class="s1">add(cs, new Symbol_js_1.Macro(cs, exports.AmsMethods.Macro, [</span><span class="s3">\&quot;\\\\</span><span class="s1">operatorname</span><span class="s3">\&quot;</span><span class="s1">.concat(star, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">).concat(op, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">)]));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.HandleOperatorName = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var star = parser.GetStar();</span><span class="s3">\n    </span><span class="s1">var op = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));</span><span class="s3">\n    </span><span class="s1">var mml = new TexParser_js_1.default(op, __assign(__assign({}, parser.stack.env), { font: TexConstants_js_1.TexConstant.Variant.NORMAL, multiLetterIdentifiers: /^[-*a-z]+/i, operatorLetters: true }), parser.configuration).mml();</span><span class="s3">\n    </span><span class="s1">if (!mml.isKind('mi')) {</span><span class="s3">\n        </span><span class="s1">mml = parser.create('node', 'TeXAtom', [mml]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">NodeUtil_js_1.default.setProperties(mml, { movesupsub: star, movablelimits: true, texClass: MmlNode_js_1.TEXCLASS.OP });</span><span class="s3">\n    </span><span class="s1">if (!star) {</span><span class="s3">\n        </span><span class="s1">var c = parser.GetNext(), i = parser.i;</span><span class="s3">\n        </span><span class="s1">if (c === '</span><span class="s3">\\\\</span><span class="s1">' &amp;&amp; ++parser.i &amp;&amp; parser.GetCS() !== 'limits') {</span><span class="s3">\n            </span><span class="s1">parser.i = i;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.Push(mml);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.SideSet = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var _a = __read(splitSideSet(parser.ParseArg(name)), 2), preScripts = _a[0], preRest = _a[1];</span><span class="s3">\n    </span><span class="s1">var _b = __read(splitSideSet(parser.ParseArg(name)), 2), postScripts = _b[0], postRest = _b[1];</span><span class="s3">\n    </span><span class="s1">var base = parser.ParseArg(name);</span><span class="s3">\n    </span><span class="s1">var mml = base;</span><span class="s3">\n    </span><span class="s1">if (preScripts) {</span><span class="s3">\n        </span><span class="s1">if (preRest) {</span><span class="s3">\n            </span><span class="s1">preScripts.replaceChild(parser.create('node', 'mphantom', [</span><span class="s3">\n                </span><span class="s1">parser.create('node', 'mpadded', [ParseUtil_js_1.default.copyNode(base, parser)], { width: 0 })</span><span class="s3">\n            </span><span class="s1">]), NodeUtil_js_1.default.getChildAt(preScripts, 0));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">mml = parser.create('node', 'mmultiscripts', [base]);</span><span class="s3">\n            </span><span class="s1">if (postScripts) {</span><span class="s3">\n                </span><span class="s1">NodeUtil_js_1.default.appendChildren(mml, [</span><span class="s3">\n                    </span><span class="s1">NodeUtil_js_1.default.getChildAt(postScripts, 1) || parser.create('node', 'none'),</span><span class="s3">\n                    </span><span class="s1">NodeUtil_js_1.default.getChildAt(postScripts, 2) || parser.create('node', 'none')</span><span class="s3">\n                </span><span class="s1">]);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">NodeUtil_js_1.default.setProperty(mml, 'scriptalign', 'left');</span><span class="s3">\n            </span><span class="s1">NodeUtil_js_1.default.appendChildren(mml, [</span><span class="s3">\n                </span><span class="s1">parser.create('node', 'mprescripts'),</span><span class="s3">\n                </span><span class="s1">NodeUtil_js_1.default.getChildAt(preScripts, 1) || parser.create('node', 'none'),</span><span class="s3">\n                </span><span class="s1">NodeUtil_js_1.default.getChildAt(preScripts, 2) || parser.create('node', 'none')</span><span class="s3">\n            </span><span class="s1">]);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (postScripts &amp;&amp; mml === base) {</span><span class="s3">\n        </span><span class="s1">postScripts.replaceChild(base, NodeUtil_js_1.default.getChildAt(postScripts, 0));</span><span class="s3">\n        </span><span class="s1">mml = postScripts;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var mrow = parser.create('node', 'TeXAtom', [], { texClass: MmlNode_js_1.TEXCLASS.OP, movesupsub: true, movablelimits: true });</span><span class="s3">\n    </span><span class="s1">if (preRest) {</span><span class="s3">\n        </span><span class="s1">preScripts &amp;&amp; mrow.appendChild(preScripts);</span><span class="s3">\n        </span><span class="s1">mrow.appendChild(preRest);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">mrow.appendChild(mml);</span><span class="s3">\n    </span><span class="s1">postRest &amp;&amp; mrow.appendChild(postRest);</span><span class="s3">\n    </span><span class="s1">parser.Push(mrow);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">function splitSideSet(mml) {</span><span class="s3">\n    </span><span class="s1">if (!mml || (mml.isInferred &amp;&amp; mml.childNodes.length === 0))</span><span class="s3">\n        </span><span class="s1">return [null, null];</span><span class="s3">\n    </span><span class="s1">if (mml.isKind('msubsup') &amp;&amp; checkSideSetBase(mml))</span><span class="s3">\n        </span><span class="s1">return [mml, null];</span><span class="s3">\n    </span><span class="s1">var child = NodeUtil_js_1.default.getChildAt(mml, 0);</span><span class="s3">\n    </span><span class="s1">if (!(mml.isInferred &amp;&amp; child &amp;&amp; checkSideSetBase(child)))</span><span class="s3">\n        </span><span class="s1">return [null, mml];</span><span class="s3">\n    </span><span class="s1">mml.childNodes.splice(0, 1);</span><span class="s3">\n    </span><span class="s1">return [child, mml];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function checkSideSetBase(mml) {</span><span class="s3">\n    </span><span class="s1">var base = mml.childNodes[0];</span><span class="s3">\n    </span><span class="s1">return base &amp;&amp; base.isKind('mi') &amp;&amp; base.getText() === '';</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.operatorLetter = function (parser, c) {</span><span class="s3">\n    </span><span class="s1">return parser.stack.env.operatorLetters ? ParseMethods_js_1.default.variable(parser, c) : false;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.MultiIntegral = function (parser, name, integral) {</span><span class="s3">\n    </span><span class="s1">var next = parser.GetNext();</span><span class="s3">\n    </span><span class="s1">if (next === '</span><span class="s3">\\\\</span><span class="s1">') {</span><span class="s3">\n        </span><span class="s1">var i = parser.i;</span><span class="s3">\n        </span><span class="s1">next = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">parser.i = i;</span><span class="s3">\n        </span><span class="s1">if (next === '</span><span class="s3">\\\\</span><span class="s1">limits') {</span><span class="s3">\n            </span><span class="s1">if (name === '</span><span class="s3">\\\\</span><span class="s1">idotsint') {</span><span class="s3">\n                </span><span class="s1">integral = '</span><span class="s3">\\\\</span><span class="s1">!</span><span class="s3">\\\\</span><span class="s1">!</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">,</span><span class="s3">\\\\</span><span class="s1">,' + integral + '}';</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">integral = '</span><span class="s3">\\\\</span><span class="s1">!</span><span class="s3">\\\\</span><span class="s1">!</span><span class="s3">\\\\</span><span class="s1">!</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">,</span><span class="s3">\\\\</span><span class="s1">,</span><span class="s3">\\\\</span><span class="s1">,' + integral + '}';</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.string = integral + ' ' + parser.string.slice(parser.i);</span><span class="s3">\n    </span><span class="s1">parser.i = 0;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.xArrow = function (parser, name, chr, l, r) {</span><span class="s3">\n    </span><span class="s1">var def = { width: '+' + ParseUtil_js_1.default.Em((l + r) / 18), lspace: ParseUtil_js_1.default.Em(l / 18) };</span><span class="s3">\n    </span><span class="s1">var bot = parser.GetBrackets(name);</span><span class="s3">\n    </span><span class="s1">var first = parser.ParseArg(name);</span><span class="s3">\n    </span><span class="s1">var dstrut = parser.create('node', 'mspace', [], { depth: '.25em' });</span><span class="s3">\n    </span><span class="s1">var arrow = parser.create('token', 'mo', { stretchy: true, texClass: MmlNode_js_1.TEXCLASS.REL }, String.fromCodePoint(chr));</span><span class="s3">\n    </span><span class="s1">arrow = parser.create('node', 'mstyle', [arrow], { scriptlevel: 0 });</span><span class="s3">\n    </span><span class="s1">var mml = parser.create('node', 'munderover', [arrow]);</span><span class="s3">\n    </span><span class="s1">var mpadded = parser.create('node', 'mpadded', [first, dstrut], def);</span><span class="s3">\n    </span><span class="s1">NodeUtil_js_1.default.setAttribute(mpadded, 'voffset', '-.2em');</span><span class="s3">\n    </span><span class="s1">NodeUtil_js_1.default.setAttribute(mpadded, 'height', '-.2em');</span><span class="s3">\n    </span><span class="s1">NodeUtil_js_1.default.setChild(mml, mml.over, mpadded);</span><span class="s3">\n    </span><span class="s1">if (bot) {</span><span class="s3">\n        </span><span class="s1">var bottom = new TexParser_js_1.default(bot, parser.stack.env, parser.configuration).mml();</span><span class="s3">\n        </span><span class="s1">var bstrut = parser.create('node', 'mspace', [], { height: '.75em' });</span><span class="s3">\n        </span><span class="s1">mpadded = parser.create('node', 'mpadded', [bottom, bstrut], def);</span><span class="s3">\n        </span><span class="s1">NodeUtil_js_1.default.setAttribute(mpadded, 'voffset', '.15em');</span><span class="s3">\n        </span><span class="s1">NodeUtil_js_1.default.setAttribute(mpadded, 'depth', '-.15em');</span><span class="s3">\n        </span><span class="s1">NodeUtil_js_1.default.setChild(mml, mml.under, mpadded);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">NodeUtil_js_1.default.setProperty(mml, 'subsupOK', true);</span><span class="s3">\n    </span><span class="s1">parser.Push(mml);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.HandleShove = function (parser, _name, shove) {</span><span class="s3">\n    </span><span class="s1">var top = parser.stack.Top();</span><span class="s3">\n    </span><span class="s1">if (top.kind !== 'multline') {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('CommandOnlyAllowedInEnv', '%1 only allowed in %2 environment', parser.currentCS, 'multline');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (top.Size()) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('CommandAtTheBeginingOfLine', '%1 must come at the beginning of the line', parser.currentCS);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">top.setProperty('shove', shove);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.CFrac = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var lr = ParseUtil_js_1.default.trimSpaces(parser.GetBrackets(name, ''));</span><span class="s3">\n    </span><span class="s1">var num = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var den = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var lrMap = {</span><span class="s3">\n        </span><span class="s1">l: TexConstants_js_1.TexConstant.Align.LEFT, r: TexConstants_js_1.TexConstant.Align.RIGHT, '': ''</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">var numNode = new TexParser_js_1.default('</span><span class="s3">\\\\</span><span class="s1">strut</span><span class="s3">\\\\</span><span class="s1">textstyle{' + num + '}', parser.stack.env, parser.configuration).mml();</span><span class="s3">\n    </span><span class="s1">var denNode = new TexParser_js_1.default('</span><span class="s3">\\\\</span><span class="s1">strut</span><span class="s3">\\\\</span><span class="s1">textstyle{' + den + '}', parser.stack.env, parser.configuration).mml();</span><span class="s3">\n    </span><span class="s1">var frac = parser.create('node', 'mfrac', [numNode, denNode]);</span><span class="s3">\n    </span><span class="s1">lr = lrMap[lr];</span><span class="s3">\n    </span><span class="s1">if (lr == null) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('IllegalAlign', 'Illegal alignment specified in %1', parser.currentCS);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (lr) {</span><span class="s3">\n        </span><span class="s1">NodeUtil_js_1.default.setProperties(frac, { numalign: lr, denomalign: lr });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.Push(frac);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.Genfrac = function (parser, name, left, right, thick, style) {</span><span class="s3">\n    </span><span class="s1">if (left == null) {</span><span class="s3">\n        </span><span class="s1">left = parser.GetDelimiterArg(name);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (right == null) {</span><span class="s3">\n        </span><span class="s1">right = parser.GetDelimiterArg(name);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (thick == null) {</span><span class="s3">\n        </span><span class="s1">thick = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (style == null) {</span><span class="s3">\n        </span><span class="s1">style = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var num = parser.ParseArg(name);</span><span class="s3">\n    </span><span class="s1">var den = parser.ParseArg(name);</span><span class="s3">\n    </span><span class="s1">var frac = parser.create('node', 'mfrac', [num, den]);</span><span class="s3">\n    </span><span class="s1">if (thick !== '') {</span><span class="s3">\n        </span><span class="s1">NodeUtil_js_1.default.setAttribute(frac, 'linethickness', thick);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (left || right) {</span><span class="s3">\n        </span><span class="s1">NodeUtil_js_1.default.setProperty(frac, 'withDelims', true);</span><span class="s3">\n        </span><span class="s1">frac = ParseUtil_js_1.default.fixedFence(parser.configuration, left, frac, right);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (style !== '') {</span><span class="s3">\n        </span><span class="s1">var styleDigit = parseInt(style, 10);</span><span class="s3">\n        </span><span class="s1">var styleAlpha = ['D', 'T', 'S', 'SS'][styleDigit];</span><span class="s3">\n        </span><span class="s1">if (styleAlpha == null) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('BadMathStyleFor', 'Bad math style for %1', parser.currentCS);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">frac = parser.create('node', 'mstyle', [frac]);</span><span class="s3">\n        </span><span class="s1">if (styleAlpha === 'D') {</span><span class="s3">\n            </span><span class="s1">NodeUtil_js_1.default.setProperties(frac, { displaystyle: true, scriptlevel: 0 });</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">NodeUtil_js_1.default.setProperties(frac, { displaystyle: false,</span><span class="s3">\n                </span><span class="s1">scriptlevel: styleDigit - 1 });</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.Push(frac);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.HandleTag = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">if (!parser.tags.currentTag.taggable &amp;&amp; parser.tags.env) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('CommandNotAllowedInEnv', '%1 not allowed in %2 environment', parser.currentCS, parser.tags.env);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (parser.tags.currentTag.tag) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('MultipleCommand', 'Multiple %1', parser.currentCS);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var star = parser.GetStar();</span><span class="s3">\n    </span><span class="s1">var tagId = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));</span><span class="s3">\n    </span><span class="s1">parser.tags.tag(tagId, star);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.HandleNoTag = BaseMethods_js_1.default.HandleNoTag;</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.HandleRef = BaseMethods_js_1.default.HandleRef;</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.Macro = BaseMethods_js_1.default.Macro;</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.Accent = BaseMethods_js_1.default.Accent;</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.Tilde = BaseMethods_js_1.default.Tilde;</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.Array = BaseMethods_js_1.default.Array;</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.Spacer = BaseMethods_js_1.default.Spacer;</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.NamedOp = BaseMethods_js_1.default.NamedOp;</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.EqnArray = BaseMethods_js_1.default.EqnArray;</span><span class="s3">\n</span><span class="s1">exports.AmsMethods.Equation = BaseMethods_js_1.default.Equation;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=AmsMethods.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.AmsCdConfiguration = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./AmsCdMappings.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">exports.AmsCdConfiguration = Configuration_js_1.Configuration.create('amscd', {</span><span class="s3">\n    </span><span class="s1">handler: {</span><span class="s3">\n        </span><span class="s1">character: ['amscd_special'],</span><span class="s3">\n        </span><span class="s1">macro: ['amscd_macros'],</span><span class="s3">\n        </span><span class="s1">environment: ['amscd_environment']</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">options: {</span><span class="s3">\n        </span><span class="s1">amscd: {</span><span class="s3">\n            </span><span class="s1">colspace: '5pt',</span><span class="s3">\n            </span><span class="s1">rowspace: '5pt',</span><span class="s3">\n            </span><span class="s1">harrowsize: '2.75em',</span><span class="s3">\n            </span><span class="s1">varrowsize: '1.75em',</span><span class="s3">\n            </span><span class="s1">hideHorizontalLabels: false</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=AmsCdConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __createBinding = (this &amp;&amp; this.__createBinding) || (Object.create ? (function(o, m, k, k2) {</span><span class="s3">\n    </span><span class="s1">if (k2 === undefined) k2 = k;</span><span class="s3">\n    </span><span class="s1">var desc = Object.getOwnPropertyDescriptor(m, k);</span><span class="s3">\n    </span><span class="s1">if (!desc || (</span><span class="s3">\&quot;</span><span class="s1">get</span><span class="s3">\&quot; </span><span class="s1">in desc ? !m.__esModule : desc.writable || desc.configurable)) {</span><span class="s3">\n      </span><span class="s1">desc = { enumerable: true, get: function() { return m[k]; } };</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(o, k2, desc);</span><span class="s3">\n</span><span class="s1">}) : (function(o, m, k, k2) {</span><span class="s3">\n    </span><span class="s1">if (k2 === undefined) k2 = k;</span><span class="s3">\n    </span><span class="s1">o[k2] = m[k];</span><span class="s3">\n</span><span class="s1">}));</span><span class="s3">\n</span><span class="s1">var __setModuleDefault = (this &amp;&amp; this.__setModuleDefault) || (Object.create ? (function(o, v) {</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(o, </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">, { enumerable: true, value: v });</span><span class="s3">\n</span><span class="s1">}) : function(o, v) {</span><span class="s3">\n    </span><span class="s1">o[</span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">] = v;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var __importStar = (this &amp;&amp; this.__importStar) || function (mod) {</span><span class="s3">\n    </span><span class="s1">if (mod &amp;&amp; mod.__esModule) return mod;</span><span class="s3">\n    </span><span class="s1">var result = {};</span><span class="s3">\n    </span><span class="s1">if (mod != null) for (var k in mod) if (k !== </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);</span><span class="s3">\n    </span><span class="s1">__setModuleDefault(result, mod);</span><span class="s3">\n    </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">var sm = __importStar(require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var ParseMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var AmsCdMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">./AmsCdMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">new sm.EnvironmentMap('amscd_environment', ParseMethods_js_1.default.environment, { CD: 'CD' }, AmsCdMethods_js_1.default);</span><span class="s3">\n</span><span class="s1">new sm.CommandMap('amscd_macros', {</span><span class="s3">\n    </span><span class="s1">minCDarrowwidth: 'minCDarrowwidth',</span><span class="s3">\n    </span><span class="s1">minCDarrowheight: 'minCDarrowheight',</span><span class="s3">\n</span><span class="s1">}, AmsCdMethods_js_1.default);</span><span class="s3">\n</span><span class="s1">new sm.MacroMap('amscd_special', { '@': 'arrow' }, AmsCdMethods_js_1.default);</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=AmsCdMappings.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">var TexParser_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexParser.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var BaseConfiguration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../base/BaseConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var MmlNode_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../../core/MmlTree/MmlNode.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var NodeUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../NodeUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var AmsCdMethods = {};</span><span class="s3">\n</span><span class="s1">AmsCdMethods.CD = function (parser, begin) {</span><span class="s3">\n    </span><span class="s1">parser.Push(begin);</span><span class="s3">\n    </span><span class="s1">var item = parser.itemFactory.create('array');</span><span class="s3">\n    </span><span class="s1">var options = parser.configuration.options.amscd;</span><span class="s3">\n    </span><span class="s1">item.setProperties({</span><span class="s3">\n        </span><span class="s1">minw: parser.stack.env.CD_minw || options.harrowsize,</span><span class="s3">\n        </span><span class="s1">minh: parser.stack.env.CD_minh || options.varrowsize</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">item.arraydef = {</span><span class="s3">\n        </span><span class="s1">columnalign: 'center',</span><span class="s3">\n        </span><span class="s1">columnspacing: options.colspace,</span><span class="s3">\n        </span><span class="s1">rowspacing: options.rowspace,</span><span class="s3">\n        </span><span class="s1">displaystyle: true</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return item;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">AmsCdMethods.arrow = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var c = parser.string.charAt(parser.i);</span><span class="s3">\n    </span><span class="s1">if (!c.match(/[&gt;&lt;VA.|=]/)) {</span><span class="s3">\n        </span><span class="s1">return (0, BaseConfiguration_js_1.Other)(parser, name);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">parser.i++;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var first = parser.stack.Top();</span><span class="s3">\n    </span><span class="s1">if (!first.isKind('array') || first.Size()) {</span><span class="s3">\n        </span><span class="s1">AmsCdMethods.cell(parser, name);</span><span class="s3">\n        </span><span class="s1">first = parser.stack.Top();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var top = first;</span><span class="s3">\n    </span><span class="s1">var arrowRow = ((top.table.length % 2) === 1);</span><span class="s3">\n    </span><span class="s1">var n = (top.row.length + (arrowRow ? 0 : 1)) % 2;</span><span class="s3">\n    </span><span class="s1">while (n) {</span><span class="s3">\n        </span><span class="s1">AmsCdMethods.cell(parser, name);</span><span class="s3">\n        </span><span class="s1">n--;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var mml;</span><span class="s3">\n    </span><span class="s1">var hdef = { minsize: top.getProperty('minw'), stretchy: true }, vdef = { minsize: top.getProperty('minh'),</span><span class="s3">\n        </span><span class="s1">stretchy: true, symmetric: true, lspace: 0, rspace: 0 };</span><span class="s3">\n    </span><span class="s1">if (c === '.') {</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (c === '|') {</span><span class="s3">\n        </span><span class="s1">mml = parser.create('token', 'mo', vdef, '</span><span class="s3">\\</span><span class="s1">u2225');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (c === '=') {</span><span class="s3">\n        </span><span class="s1">mml = parser.create('token', 'mo', hdef, '=');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">var arrow = {</span><span class="s3">\n            </span><span class="s1">'&gt;': '</span><span class="s3">\\</span><span class="s1">u2192', '&lt;': '</span><span class="s3">\\</span><span class="s1">u2190', 'V': '</span><span class="s3">\\</span><span class="s1">u2193', 'A': '</span><span class="s3">\\</span><span class="s1">u2191'</span><span class="s3">\n        </span><span class="s1">}[c];</span><span class="s3">\n        </span><span class="s1">var a = parser.GetUpTo(name + c, c);</span><span class="s3">\n        </span><span class="s1">var b = parser.GetUpTo(name + c, c);</span><span class="s3">\n        </span><span class="s1">if (c === '&gt;' || c === '&lt;') {</span><span class="s3">\n            </span><span class="s1">mml = parser.create('token', 'mo', hdef, arrow);</span><span class="s3">\n            </span><span class="s1">if (!a) {</span><span class="s3">\n                </span><span class="s1">a = '</span><span class="s3">\\\\</span><span class="s1">kern ' + top.getProperty('minw');</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (a || b) {</span><span class="s3">\n                </span><span class="s1">var pad = { width: '+.67em', lspace: '.33em' };</span><span class="s3">\n                </span><span class="s1">mml = parser.create('node', 'munderover', [mml]);</span><span class="s3">\n                </span><span class="s1">if (a) {</span><span class="s3">\n                    </span><span class="s1">var nodeA = new TexParser_js_1.default(a, parser.stack.env, parser.configuration).mml();</span><span class="s3">\n                    </span><span class="s1">var mpadded = parser.create('node', 'mpadded', [nodeA], pad);</span><span class="s3">\n                    </span><span class="s1">NodeUtil_js_1.default.setAttribute(mpadded, 'voffset', '.1em');</span><span class="s3">\n                    </span><span class="s1">NodeUtil_js_1.default.setChild(mml, mml.over, mpadded);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">if (b) {</span><span class="s3">\n                    </span><span class="s1">var nodeB = new TexParser_js_1.default(b, parser.stack.env, parser.configuration).mml();</span><span class="s3">\n                    </span><span class="s1">NodeUtil_js_1.default.setChild(mml, mml.under, parser.create('node', 'mpadded', [nodeB], pad));</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">if (parser.configuration.options.amscd.hideHorizontalLabels) {</span><span class="s3">\n                    </span><span class="s1">mml = parser.create('node', 'mpadded', mml, { depth: 0, height: '.67em' });</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">var arrowNode = parser.create('token', 'mo', vdef, arrow);</span><span class="s3">\n            </span><span class="s1">mml = arrowNode;</span><span class="s3">\n            </span><span class="s1">if (a || b) {</span><span class="s3">\n                </span><span class="s1">mml = parser.create('node', 'mrow');</span><span class="s3">\n                </span><span class="s1">if (a) {</span><span class="s3">\n                    </span><span class="s1">NodeUtil_js_1.default.appendChildren(mml, [new TexParser_js_1.default('</span><span class="s3">\\\\</span><span class="s1">scriptstyle</span><span class="s3">\\\\</span><span class="s1">llap{' + a + '}', parser.stack.env, parser.configuration).mml()]);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">arrowNode.texClass = MmlNode_js_1.TEXCLASS.ORD;</span><span class="s3">\n                </span><span class="s1">NodeUtil_js_1.default.appendChildren(mml, [arrowNode]);</span><span class="s3">\n                </span><span class="s1">if (b) {</span><span class="s3">\n                    </span><span class="s1">NodeUtil_js_1.default.appendChildren(mml, [new TexParser_js_1.default('</span><span class="s3">\\\\</span><span class="s1">scriptstyle</span><span class="s3">\\\\</span><span class="s1">rlap{' + b + '}', parser.stack.env, parser.configuration).mml()]);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (mml) {</span><span class="s3">\n        </span><span class="s1">parser.Push(mml);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">AmsCdMethods.cell(parser, name);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">AmsCdMethods.cell = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var top = parser.stack.Top();</span><span class="s3">\n    </span><span class="s1">if ((top.table || []).length % 2 === 0 &amp;&amp; (top.row || []).length === 0) {</span><span class="s3">\n        </span><span class="s1">parser.Push(parser.create('node', 'mpadded', [], { height: '8.5pt', depth: '2pt' }));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.Push(parser.itemFactory.create('cell').setProperties({ isEntry: true, name: name }));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">AmsCdMethods.minCDarrowwidth = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">parser.stack.env.CD_minw = parser.GetDimen(name);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">AmsCdMethods.minCDarrowheight = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">parser.stack.env.CD_minh = parser.GetDimen(name);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.default = AmsCdMethods;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=AmsCdMethods.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.BboxConfiguration = exports.BboxMethods = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">exports.BboxMethods = {};</span><span class="s3">\n</span><span class="s1">exports.BboxMethods.BBox = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var bbox = parser.GetBrackets(name, '');</span><span class="s3">\n    </span><span class="s1">var math = parser.ParseArg(name);</span><span class="s3">\n    </span><span class="s1">var parts = bbox.split(/,/);</span><span class="s3">\n    </span><span class="s1">var def, background, style;</span><span class="s3">\n    </span><span class="s1">for (var i = 0, m = parts.length; i &lt; m; i++) {</span><span class="s3">\n        </span><span class="s1">var part = parts[i].trim();</span><span class="s3">\n        </span><span class="s1">var match = part.match(/^(</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+|</span><span class="s3">\\</span><span class="s1">d+(</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d*)?)(pt|em|ex|mu|px|in|cm|mm)$/);</span><span class="s3">\n        </span><span class="s1">if (match) {</span><span class="s3">\n            </span><span class="s1">if (def) {</span><span class="s3">\n                </span><span class="s1">throw new TexError_js_1.default('MultipleBBoxProperty', '%1 specified twice in %2', 'Padding', name);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">var pad = BBoxPadding(match[1] + match[3]);</span><span class="s3">\n            </span><span class="s1">if (pad) {</span><span class="s3">\n                </span><span class="s1">def = {</span><span class="s3">\n                    </span><span class="s1">height: '+' + pad,</span><span class="s3">\n                    </span><span class="s1">depth: '+' + pad,</span><span class="s3">\n                    </span><span class="s1">lspace: pad,</span><span class="s3">\n                    </span><span class="s1">width: '+' + (2 * parseInt(match[1], 10)) + match[3]</span><span class="s3">\n                </span><span class="s1">};</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (part.match(/^([a-z0-9]+|</span><span class="s3">\\</span><span class="s1">#[0-9a-f]{6}|</span><span class="s3">\\</span><span class="s1">#[0-9a-f]{3})$/i)) {</span><span class="s3">\n            </span><span class="s1">if (background) {</span><span class="s3">\n                </span><span class="s1">throw new TexError_js_1.default('MultipleBBoxProperty', '%1 specified twice in %2', 'Background', name);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">background = part;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (part.match(/^[-a-z]+:/i)) {</span><span class="s3">\n            </span><span class="s1">if (style) {</span><span class="s3">\n                </span><span class="s1">throw new TexError_js_1.default('MultipleBBoxProperty', '%1 specified twice in %2', 'Style', name);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">style = BBoxStyle(part);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (part !== '') {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('InvalidBBoxProperty', '</span><span class="s3">\&quot;</span><span class="s1">%1</span><span class="s3">\&quot; </span><span class="s1">doesn</span><span class="s3">\\</span><span class="s1">'t look like a color, a padding dimension, or a style', part);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (def) {</span><span class="s3">\n        </span><span class="s1">math = parser.create('node', 'mpadded', [math], def);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (background || style) {</span><span class="s3">\n        </span><span class="s1">def = {};</span><span class="s3">\n        </span><span class="s1">if (background) {</span><span class="s3">\n            </span><span class="s1">Object.assign(def, { mathbackground: background });</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (style) {</span><span class="s3">\n            </span><span class="s1">Object.assign(def, { style: style });</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">math = parser.create('node', 'mstyle', [math], def);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.Push(math);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var BBoxStyle = function (styles) {</span><span class="s3">\n    </span><span class="s1">return styles;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var BBoxPadding = function (pad) {</span><span class="s3">\n    </span><span class="s1">return pad;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('bbox', { bbox: 'BBox' }, exports.BboxMethods);</span><span class="s3">\n</span><span class="s1">exports.BboxConfiguration = Configuration_js_1.Configuration.create('bbox', { handler: { macro: ['bbox'] } });</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=BboxConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __values = (this &amp;&amp; this.__values) || function(o) {</span><span class="s3">\n    </span><span class="s1">var s = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Symbol.iterator, m = s &amp;&amp; o[s], i = 0;</span><span class="s3">\n    </span><span class="s1">if (m) return m.call(o);</span><span class="s3">\n    </span><span class="s1">if (o &amp;&amp; typeof o.length === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) return {</span><span class="s3">\n        </span><span class="s1">next: function () {</span><span class="s3">\n            </span><span class="s1">if (o &amp;&amp; i &gt;= o.length) o = void 0;</span><span class="s3">\n            </span><span class="s1">return { value: o &amp;&amp; o[i++], done: !o };</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">throw new TypeError(s ? </span><span class="s3">\&quot;</span><span class="s1">Object is not iterable.</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Symbol.iterator is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.BoldsymbolConfiguration = exports.rewriteBoldTokens = exports.createBoldToken = exports.BoldsymbolMethods = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var NodeUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../NodeUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexConstants_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../TexConstants.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var NodeFactory_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../NodeFactory.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var BOLDVARIANT = {};</span><span class="s3">\n</span><span class="s1">BOLDVARIANT[TexConstants_js_1.TexConstant.Variant.NORMAL] = TexConstants_js_1.TexConstant.Variant.BOLD;</span><span class="s3">\n</span><span class="s1">BOLDVARIANT[TexConstants_js_1.TexConstant.Variant.ITALIC] = TexConstants_js_1.TexConstant.Variant.BOLDITALIC;</span><span class="s3">\n</span><span class="s1">BOLDVARIANT[TexConstants_js_1.TexConstant.Variant.FRAKTUR] = TexConstants_js_1.TexConstant.Variant.BOLDFRAKTUR;</span><span class="s3">\n</span><span class="s1">BOLDVARIANT[TexConstants_js_1.TexConstant.Variant.SCRIPT] = TexConstants_js_1.TexConstant.Variant.BOLDSCRIPT;</span><span class="s3">\n</span><span class="s1">BOLDVARIANT[TexConstants_js_1.TexConstant.Variant.SANSSERIF] = TexConstants_js_1.TexConstant.Variant.BOLDSANSSERIF;</span><span class="s3">\n</span><span class="s1">BOLDVARIANT['-tex-calligraphic'] = '-tex-bold-calligraphic';</span><span class="s3">\n</span><span class="s1">BOLDVARIANT['-tex-oldstyle'] = '-tex-bold-oldstyle';</span><span class="s3">\n</span><span class="s1">BOLDVARIANT['-tex-mathit'] = TexConstants_js_1.TexConstant.Variant.BOLDITALIC;</span><span class="s3">\n</span><span class="s1">exports.BoldsymbolMethods = {};</span><span class="s3">\n</span><span class="s1">exports.BoldsymbolMethods.Boldsymbol = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var boldsymbol = parser.stack.env['boldsymbol'];</span><span class="s3">\n    </span><span class="s1">parser.stack.env['boldsymbol'] = true;</span><span class="s3">\n    </span><span class="s1">var mml = parser.ParseArg(name);</span><span class="s3">\n    </span><span class="s1">parser.stack.env['boldsymbol'] = boldsymbol;</span><span class="s3">\n    </span><span class="s1">parser.Push(mml);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('boldsymbol', { boldsymbol: 'Boldsymbol' }, exports.BoldsymbolMethods);</span><span class="s3">\n</span><span class="s1">function createBoldToken(factory, kind, def, text) {</span><span class="s3">\n    </span><span class="s1">var token = NodeFactory_js_1.NodeFactory.createToken(factory, kind, def, text);</span><span class="s3">\n    </span><span class="s1">if (kind !== 'mtext' &amp;&amp;</span><span class="s3">\n        </span><span class="s1">factory.configuration.parser.stack.env['boldsymbol']) {</span><span class="s3">\n        </span><span class="s1">NodeUtil_js_1.default.setProperty(token, 'fixBold', true);</span><span class="s3">\n        </span><span class="s1">factory.configuration.addNode('fixBold', token);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return token;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">exports.createBoldToken = createBoldToken;</span><span class="s3">\n</span><span class="s1">function rewriteBoldTokens(arg) {</span><span class="s3">\n    </span><span class="s1">var e_1, _a;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">for (var _b = __values(arg.data.getList('fixBold')), _c = _b.next(); !_c.done; _c = _b.next()) {</span><span class="s3">\n            </span><span class="s1">var node = _c.value;</span><span class="s3">\n            </span><span class="s1">if (NodeUtil_js_1.default.getProperty(node, 'fixBold')) {</span><span class="s3">\n                </span><span class="s1">var variant = NodeUtil_js_1.default.getAttribute(node, 'mathvariant');</span><span class="s3">\n                </span><span class="s1">if (variant == null) {</span><span class="s3">\n                    </span><span class="s1">NodeUtil_js_1.default.setAttribute(node, 'mathvariant', TexConstants_js_1.TexConstant.Variant.BOLD);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">NodeUtil_js_1.default.setAttribute(node, 'mathvariant', BOLDVARIANT[variant] || variant);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">NodeUtil_js_1.default.removeProperties(node, 'fixBold');</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (e_1_1) { e_1 = { error: e_1_1 }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (_c &amp;&amp; !_c.done &amp;&amp; (_a = _b.return)) _a.call(_b);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e_1) throw e_1.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">exports.rewriteBoldTokens = rewriteBoldTokens;</span><span class="s3">\n</span><span class="s1">exports.BoldsymbolConfiguration = Configuration_js_1.Configuration.create('boldsymbol', {</span><span class="s3">\n    </span><span class="s1">handler: { macro: ['boldsymbol'] },</span><span class="s3">\n    </span><span class="s1">nodes: { 'token': createBoldToken },</span><span class="s3">\n    </span><span class="s1">postprocessors: [rewriteBoldTokens]</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=BoldsymbolConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var _a;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.BraketConfiguration = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var BraketItems_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./BraketItems.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./BraketMappings.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">exports.BraketConfiguration = Configuration_js_1.Configuration.create('braket', {</span><span class="s3">\n    </span><span class="s1">handler: {</span><span class="s3">\n        </span><span class="s1">character: ['Braket-characters'],</span><span class="s3">\n        </span><span class="s1">macro: ['Braket-macros']</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">items: (_a = {},</span><span class="s3">\n        </span><span class="s1">_a[BraketItems_js_1.BraketItem.prototype.kind] = BraketItems_js_1.BraketItem,</span><span class="s3">\n        </span><span class="s1">_a)</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=BraketConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __extends = (this &amp;&amp; this.__extends) || (function () {</span><span class="s3">\n    </span><span class="s1">var extendStatics = function (d, b) {</span><span class="s3">\n        </span><span class="s1">extendStatics = Object.setPrototypeOf ||</span><span class="s3">\n            </span><span class="s1">({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||</span><span class="s3">\n            </span><span class="s1">function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };</span><span class="s3">\n        </span><span class="s1">return extendStatics(d, b);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return function (d, b) {</span><span class="s3">\n        </span><span class="s1">if (typeof b !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; b !== null)</span><span class="s3">\n            </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Class extends value </span><span class="s3">\&quot; </span><span class="s1">+ String(b) + </span><span class="s3">\&quot; </span><span class="s1">is not a constructor or null</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">extendStatics(d, b);</span><span class="s3">\n        </span><span class="s1">function __() { this.constructor = d; }</span><span class="s3">\n        </span><span class="s1">d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.BraketItem = void 0;</span><span class="s3">\n</span><span class="s1">var StackItem_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../StackItem.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var MmlNode_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../../core/MmlTree/MmlNode.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var BraketItem = (function (_super) {</span><span class="s3">\n    </span><span class="s1">__extends(BraketItem, _super);</span><span class="s3">\n    </span><span class="s1">function BraketItem() {</span><span class="s3">\n        </span><span class="s1">return _super !== null &amp;&amp; _super.apply(this, arguments) || this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(BraketItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">kind</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n        </span><span class="s1">get: function () {</span><span class="s3">\n            </span><span class="s1">return 'braket';</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">enumerable: false,</span><span class="s3">\n        </span><span class="s1">configurable: true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(BraketItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">isOpen</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n        </span><span class="s1">get: function () {</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">enumerable: false,</span><span class="s3">\n        </span><span class="s1">configurable: true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">BraketItem.prototype.checkItem = function (item) {</span><span class="s3">\n        </span><span class="s1">if (item.isKind('close')) {</span><span class="s3">\n            </span><span class="s1">return [[this.factory.create('mml', this.toMml())], true];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (item.isKind('mml')) {</span><span class="s3">\n            </span><span class="s1">this.Push(item.toMml());</span><span class="s3">\n            </span><span class="s1">if (this.getProperty('single')) {</span><span class="s3">\n                </span><span class="s1">return [[this.toMml()], true];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return StackItem_js_1.BaseItem.fail;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return _super.prototype.checkItem.call(this, item);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">BraketItem.prototype.toMml = function () {</span><span class="s3">\n        </span><span class="s1">var inner = _super.prototype.toMml.call(this);</span><span class="s3">\n        </span><span class="s1">var open = this.getProperty('open');</span><span class="s3">\n        </span><span class="s1">var close = this.getProperty('close');</span><span class="s3">\n        </span><span class="s1">if (this.getProperty('stretchy')) {</span><span class="s3">\n            </span><span class="s1">return ParseUtil_js_1.default.fenced(this.factory.configuration, open, inner, close);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var attrs = { fence: true, stretchy: false, symmetric: true, texClass: MmlNode_js_1.TEXCLASS.OPEN };</span><span class="s3">\n        </span><span class="s1">var openNode = this.create('token', 'mo', attrs, open);</span><span class="s3">\n        </span><span class="s1">attrs.texClass = MmlNode_js_1.TEXCLASS.CLOSE;</span><span class="s3">\n        </span><span class="s1">var closeNode = this.create('token', 'mo', attrs, close);</span><span class="s3">\n        </span><span class="s1">var mrow = this.create('node', 'mrow', [openNode, inner, closeNode], { open: open, close: close, texClass: MmlNode_js_1.TEXCLASS.INNER });</span><span class="s3">\n        </span><span class="s1">return mrow;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return BraketItem;</span><span class="s3">\n</span><span class="s1">}(StackItem_js_1.BaseItem));</span><span class="s3">\n</span><span class="s1">exports.BraketItem = BraketItem;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=BraketItems.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var BraketMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">./BraketMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('Braket-macros', {</span><span class="s3">\n    </span><span class="s1">bra: ['Macro', '{</span><span class="s3">\\\\</span><span class="s1">langle {#1} </span><span class="s3">\\\\</span><span class="s1">vert}', 1],</span><span class="s3">\n    </span><span class="s1">ket: ['Macro', '{</span><span class="s3">\\\\</span><span class="s1">vert {#1} </span><span class="s3">\\\\</span><span class="s1">rangle}', 1],</span><span class="s3">\n    </span><span class="s1">braket: ['Braket', '</span><span class="s3">\\</span><span class="s1">u27E8', '</span><span class="s3">\\</span><span class="s1">u27E9', false, Infinity],</span><span class="s3">\n    </span><span class="s1">'set': ['Braket', '{', '}', false, 1],</span><span class="s3">\n    </span><span class="s1">Bra: ['Macro', '{</span><span class="s3">\\\\</span><span class="s1">left</span><span class="s3">\\\\</span><span class="s1">langle {#1} </span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\\\\</span><span class="s1">vert}', 1],</span><span class="s3">\n    </span><span class="s1">Ket: ['Macro', '{</span><span class="s3">\\\\</span><span class="s1">left</span><span class="s3">\\\\</span><span class="s1">vert {#1} </span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\\\\</span><span class="s1">rangle}', 1],</span><span class="s3">\n    </span><span class="s1">Braket: ['Braket', '</span><span class="s3">\\</span><span class="s1">u27E8', '</span><span class="s3">\\</span><span class="s1">u27E9', true, Infinity],</span><span class="s3">\n    </span><span class="s1">Set: ['Braket', '{', '}', true, 1],</span><span class="s3">\n    </span><span class="s1">ketbra: ['Macro', '{</span><span class="s3">\\\\</span><span class="s1">vert {#1} </span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\\\\</span><span class="s1">langle {#2} </span><span class="s3">\\\\</span><span class="s1">vert}', 2],</span><span class="s3">\n    </span><span class="s1">Ketbra: ['Macro', '{</span><span class="s3">\\\\</span><span class="s1">left</span><span class="s3">\\\\</span><span class="s1">vert {#1} </span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\\\\</span><span class="s1">left</span><span class="s3">\\\\</span><span class="s1">langle {#2} </span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\\\\</span><span class="s1">vert}', 2],</span><span class="s3">\n    </span><span class="s1">'|': 'Bar'</span><span class="s3">\n</span><span class="s1">}, BraketMethods_js_1.default);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.MacroMap('Braket-characters', {</span><span class="s3">\n    </span><span class="s1">'|': 'Bar'</span><span class="s3">\n</span><span class="s1">}, BraketMethods_js_1.default);</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=BraketMappings.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">var BaseMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../base/BaseMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var MmlNode_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../../core/MmlTree/MmlNode.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var BraketMethods = {};</span><span class="s3">\n</span><span class="s1">BraketMethods.Macro = BaseMethods_js_1.default.Macro;</span><span class="s3">\n</span><span class="s1">BraketMethods.Braket = function (parser, _name, open, close, stretchy, barmax) {</span><span class="s3">\n    </span><span class="s1">var next = parser.GetNext();</span><span class="s3">\n    </span><span class="s1">if (next === '') {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', parser.currentCS);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var single = true;</span><span class="s3">\n    </span><span class="s1">if (next === '{') {</span><span class="s3">\n        </span><span class="s1">parser.i++;</span><span class="s3">\n        </span><span class="s1">single = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.Push(parser.itemFactory.create('braket')</span><span class="s3">\n        </span><span class="s1">.setProperties({ barmax: barmax, barcount: 0, open: open,</span><span class="s3">\n        </span><span class="s1">close: close, stretchy: stretchy, single: single }));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">BraketMethods.Bar = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var c = name === '|' ? '|' : '</span><span class="s3">\\</span><span class="s1">u2225';</span><span class="s3">\n    </span><span class="s1">var top = parser.stack.Top();</span><span class="s3">\n    </span><span class="s1">if (top.kind !== 'braket' ||</span><span class="s3">\n        </span><span class="s1">top.getProperty('barcount') &gt;= top.getProperty('barmax')) {</span><span class="s3">\n        </span><span class="s1">var mml = parser.create('token', 'mo', { texClass: MmlNode_js_1.TEXCLASS.ORD, stretchy: false }, c);</span><span class="s3">\n        </span><span class="s1">parser.Push(mml);</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (c === '|' &amp;&amp; parser.GetNext() === '|') {</span><span class="s3">\n        </span><span class="s1">parser.i++;</span><span class="s3">\n        </span><span class="s1">c = '</span><span class="s3">\\</span><span class="s1">u2225';</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var stretchy = top.getProperty('stretchy');</span><span class="s3">\n    </span><span class="s1">if (!stretchy) {</span><span class="s3">\n        </span><span class="s1">var node_1 = parser.create('token', 'mo', { stretchy: false, braketbar: true }, c);</span><span class="s3">\n        </span><span class="s1">parser.Push(node_1);</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var node = parser.create('node', 'TeXAtom', [], { texClass: MmlNode_js_1.TEXCLASS.CLOSE });</span><span class="s3">\n    </span><span class="s1">parser.Push(node);</span><span class="s3">\n    </span><span class="s1">top.setProperty('barcount', top.getProperty('barcount') + 1);</span><span class="s3">\n    </span><span class="s1">node = parser.create('token', 'mo', { stretchy: true, braketbar: true }, c);</span><span class="s3">\n    </span><span class="s1">parser.Push(node);</span><span class="s3">\n    </span><span class="s1">node = parser.create('node', 'TeXAtom', [], { texClass: MmlNode_js_1.TEXCLASS.OPEN });</span><span class="s3">\n    </span><span class="s1">parser.Push(node);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.default = BraketMethods;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=BraketMethods.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var _a;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.BussproofsConfiguration = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var BussproofsItems_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./BussproofsItems.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var BussproofsUtil_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./BussproofsUtil.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./BussproofsMappings.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">exports.BussproofsConfiguration = Configuration_js_1.Configuration.create('bussproofs', {</span><span class="s3">\n    </span><span class="s1">handler: {</span><span class="s3">\n        </span><span class="s1">macro: ['Bussproofs-macros'],</span><span class="s3">\n        </span><span class="s1">environment: ['Bussproofs-environments']</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">items: (_a = {},</span><span class="s3">\n        </span><span class="s1">_a[BussproofsItems_js_1.ProofTreeItem.prototype.kind] = BussproofsItems_js_1.ProofTreeItem,</span><span class="s3">\n        </span><span class="s1">_a),</span><span class="s3">\n    </span><span class="s1">preprocessors: [</span><span class="s3">\n        </span><span class="s1">[BussproofsUtil_js_1.saveDocument, 1]</span><span class="s3">\n    </span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">postprocessors: [</span><span class="s3">\n        </span><span class="s1">[BussproofsUtil_js_1.clearDocument, 3],</span><span class="s3">\n        </span><span class="s1">[BussproofsUtil_js_1.makeBsprAttributes, 2],</span><span class="s3">\n        </span><span class="s1">[BussproofsUtil_js_1.balanceRules, 1]</span><span class="s3">\n    </span><span class="s1">]</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=BussproofsConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __extends = (this &amp;&amp; this.__extends) || (function () {</span><span class="s3">\n    </span><span class="s1">var extendStatics = function (d, b) {</span><span class="s3">\n        </span><span class="s1">extendStatics = Object.setPrototypeOf ||</span><span class="s3">\n            </span><span class="s1">({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||</span><span class="s3">\n            </span><span class="s1">function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };</span><span class="s3">\n        </span><span class="s1">return extendStatics(d, b);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return function (d, b) {</span><span class="s3">\n        </span><span class="s1">if (typeof b !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; b !== null)</span><span class="s3">\n            </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Class extends value </span><span class="s3">\&quot; </span><span class="s1">+ String(b) + </span><span class="s3">\&quot; </span><span class="s1">is not a constructor or null</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">extendStatics(d, b);</span><span class="s3">\n        </span><span class="s1">function __() { this.constructor = d; }</span><span class="s3">\n        </span><span class="s1">d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">var __createBinding = (this &amp;&amp; this.__createBinding) || (Object.create ? (function(o, m, k, k2) {</span><span class="s3">\n    </span><span class="s1">if (k2 === undefined) k2 = k;</span><span class="s3">\n    </span><span class="s1">var desc = Object.getOwnPropertyDescriptor(m, k);</span><span class="s3">\n    </span><span class="s1">if (!desc || (</span><span class="s3">\&quot;</span><span class="s1">get</span><span class="s3">\&quot; </span><span class="s1">in desc ? !m.__esModule : desc.writable || desc.configurable)) {</span><span class="s3">\n      </span><span class="s1">desc = { enumerable: true, get: function() { return m[k]; } };</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(o, k2, desc);</span><span class="s3">\n</span><span class="s1">}) : (function(o, m, k, k2) {</span><span class="s3">\n    </span><span class="s1">if (k2 === undefined) k2 = k;</span><span class="s3">\n    </span><span class="s1">o[k2] = m[k];</span><span class="s3">\n</span><span class="s1">}));</span><span class="s3">\n</span><span class="s1">var __setModuleDefault = (this &amp;&amp; this.__setModuleDefault) || (Object.create ? (function(o, v) {</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(o, </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">, { enumerable: true, value: v });</span><span class="s3">\n</span><span class="s1">}) : function(o, v) {</span><span class="s3">\n    </span><span class="s1">o[</span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">] = v;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var __importStar = (this &amp;&amp; this.__importStar) || function (mod) {</span><span class="s3">\n    </span><span class="s1">if (mod &amp;&amp; mod.__esModule) return mod;</span><span class="s3">\n    </span><span class="s1">var result = {};</span><span class="s3">\n    </span><span class="s1">if (mod != null) for (var k in mod) if (k !== </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);</span><span class="s3">\n    </span><span class="s1">__setModuleDefault(result, mod);</span><span class="s3">\n    </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.ProofTreeItem = void 0;</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var StackItem_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../StackItem.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var Stack_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../Stack.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var BussproofsUtil = __importStar(require(</span><span class="s3">\&quot;</span><span class="s1">./BussproofsUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var ProofTreeItem = (function (_super) {</span><span class="s3">\n    </span><span class="s1">__extends(ProofTreeItem, _super);</span><span class="s3">\n    </span><span class="s1">function ProofTreeItem() {</span><span class="s3">\n        </span><span class="s1">var _this = _super !== null &amp;&amp; _super.apply(this, arguments) || this;</span><span class="s3">\n        </span><span class="s1">_this.leftLabel = null;</span><span class="s3">\n        </span><span class="s1">_this.rigthLabel = null;</span><span class="s3">\n        </span><span class="s1">_this.innerStack = new Stack_js_1.default(_this.factory, {}, true);</span><span class="s3">\n        </span><span class="s1">return _this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(ProofTreeItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">kind</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n        </span><span class="s1">get: function () {</span><span class="s3">\n            </span><span class="s1">return 'proofTree';</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">enumerable: false,</span><span class="s3">\n        </span><span class="s1">configurable: true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">ProofTreeItem.prototype.checkItem = function (item) {</span><span class="s3">\n        </span><span class="s1">if (item.isKind('end') &amp;&amp; item.getName() === 'prooftree') {</span><span class="s3">\n            </span><span class="s1">var node = this.toMml();</span><span class="s3">\n            </span><span class="s1">BussproofsUtil.setProperty(node, 'proof', true);</span><span class="s3">\n            </span><span class="s1">return [[this.factory.create('mml', node), item], true];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (item.isKind('stop')) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('EnvMissingEnd', 'Missing </span><span class="s3">\\\\</span><span class="s1">end{%1}', this.getName());</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.innerStack.Push(item);</span><span class="s3">\n        </span><span class="s1">return StackItem_js_1.BaseItem.fail;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">ProofTreeItem.prototype.toMml = function () {</span><span class="s3">\n        </span><span class="s1">var tree = _super.prototype.toMml.call(this);</span><span class="s3">\n        </span><span class="s1">var start = this.innerStack.Top();</span><span class="s3">\n        </span><span class="s1">if (start.isKind('start') &amp;&amp; !start.Size()) {</span><span class="s3">\n            </span><span class="s1">return tree;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.innerStack.Push(this.factory.create('stop'));</span><span class="s3">\n        </span><span class="s1">var prefix = this.innerStack.Top().toMml();</span><span class="s3">\n        </span><span class="s1">return this.create('node', 'mrow', [prefix, tree], {});</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return ProofTreeItem;</span><span class="s3">\n</span><span class="s1">}(StackItem_js_1.BaseItem));</span><span class="s3">\n</span><span class="s1">exports.ProofTreeItem = ProofTreeItem;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=BussproofsItems.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">var BussproofsMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">./BussproofsMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var ParseMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('Bussproofs-macros', {</span><span class="s3">\n    </span><span class="s1">AxiomC: 'Axiom',</span><span class="s3">\n    </span><span class="s1">UnaryInfC: ['Inference', 1],</span><span class="s3">\n    </span><span class="s1">BinaryInfC: ['Inference', 2],</span><span class="s3">\n    </span><span class="s1">TrinaryInfC: ['Inference', 3],</span><span class="s3">\n    </span><span class="s1">QuaternaryInfC: ['Inference', 4],</span><span class="s3">\n    </span><span class="s1">QuinaryInfC: ['Inference', 5],</span><span class="s3">\n    </span><span class="s1">RightLabel: ['Label', 'right'],</span><span class="s3">\n    </span><span class="s1">LeftLabel: ['Label', 'left'],</span><span class="s3">\n    </span><span class="s1">AXC: 'Axiom',</span><span class="s3">\n    </span><span class="s1">UIC: ['Inference', 1],</span><span class="s3">\n    </span><span class="s1">BIC: ['Inference', 2],</span><span class="s3">\n    </span><span class="s1">TIC: ['Inference', 3],</span><span class="s3">\n    </span><span class="s1">RL: ['Label', 'right'],</span><span class="s3">\n    </span><span class="s1">LL: ['Label', 'left'],</span><span class="s3">\n    </span><span class="s1">noLine: ['SetLine', 'none', false],</span><span class="s3">\n    </span><span class="s1">singleLine: ['SetLine', 'solid', false],</span><span class="s3">\n    </span><span class="s1">solidLine: ['SetLine', 'solid', false],</span><span class="s3">\n    </span><span class="s1">dashedLine: ['SetLine', 'dashed', false],</span><span class="s3">\n    </span><span class="s1">alwaysNoLine: ['SetLine', 'none', true],</span><span class="s3">\n    </span><span class="s1">alwaysSingleLine: ['SetLine', 'solid', true],</span><span class="s3">\n    </span><span class="s1">alwaysSolidLine: ['SetLine', 'solid', true],</span><span class="s3">\n    </span><span class="s1">alwaysDashedLine: ['SetLine', 'dashed', true],</span><span class="s3">\n    </span><span class="s1">rootAtTop: ['RootAtTop', true],</span><span class="s3">\n    </span><span class="s1">alwaysRootAtTop: ['RootAtTop', true],</span><span class="s3">\n    </span><span class="s1">rootAtBottom: ['RootAtTop', false],</span><span class="s3">\n    </span><span class="s1">alwaysRootAtBottom: ['RootAtTop', false],</span><span class="s3">\n    </span><span class="s1">fCenter: 'FCenter',</span><span class="s3">\n    </span><span class="s1">Axiom: 'AxiomF',</span><span class="s3">\n    </span><span class="s1">UnaryInf: ['InferenceF', 1],</span><span class="s3">\n    </span><span class="s1">BinaryInf: ['InferenceF', 2],</span><span class="s3">\n    </span><span class="s1">TrinaryInf: ['InferenceF', 3],</span><span class="s3">\n    </span><span class="s1">QuaternaryInf: ['InferenceF', 4],</span><span class="s3">\n    </span><span class="s1">QuinaryInf: ['InferenceF', 5]</span><span class="s3">\n</span><span class="s1">}, BussproofsMethods_js_1.default);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.EnvironmentMap('Bussproofs-environments', ParseMethods_js_1.default.environment, {</span><span class="s3">\n    </span><span class="s1">prooftree: ['Prooftree', null, false]</span><span class="s3">\n</span><span class="s1">}, BussproofsMethods_js_1.default);</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=BussproofsMappings.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __createBinding = (this &amp;&amp; this.__createBinding) || (Object.create ? (function(o, m, k, k2) {</span><span class="s3">\n    </span><span class="s1">if (k2 === undefined) k2 = k;</span><span class="s3">\n    </span><span class="s1">var desc = Object.getOwnPropertyDescriptor(m, k);</span><span class="s3">\n    </span><span class="s1">if (!desc || (</span><span class="s3">\&quot;</span><span class="s1">get</span><span class="s3">\&quot; </span><span class="s1">in desc ? !m.__esModule : desc.writable || desc.configurable)) {</span><span class="s3">\n      </span><span class="s1">desc = { enumerable: true, get: function() { return m[k]; } };</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(o, k2, desc);</span><span class="s3">\n</span><span class="s1">}) : (function(o, m, k, k2) {</span><span class="s3">\n    </span><span class="s1">if (k2 === undefined) k2 = k;</span><span class="s3">\n    </span><span class="s1">o[k2] = m[k];</span><span class="s3">\n</span><span class="s1">}));</span><span class="s3">\n</span><span class="s1">var __setModuleDefault = (this &amp;&amp; this.__setModuleDefault) || (Object.create ? (function(o, v) {</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(o, </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">, { enumerable: true, value: v });</span><span class="s3">\n</span><span class="s1">}) : function(o, v) {</span><span class="s3">\n    </span><span class="s1">o[</span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">] = v;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var __importStar = (this &amp;&amp; this.__importStar) || function (mod) {</span><span class="s3">\n    </span><span class="s1">if (mod &amp;&amp; mod.__esModule) return mod;</span><span class="s3">\n    </span><span class="s1">var result = {};</span><span class="s3">\n    </span><span class="s1">if (mod != null) for (var k in mod) if (k !== </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);</span><span class="s3">\n    </span><span class="s1">__setModuleDefault(result, mod);</span><span class="s3">\n    </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __read = (this &amp;&amp; this.__read) || function (o, n) {</span><span class="s3">\n    </span><span class="s1">var m = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; o[Symbol.iterator];</span><span class="s3">\n    </span><span class="s1">if (!m) return o;</span><span class="s3">\n    </span><span class="s1">var i = m.call(o), r, ar = [], e;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">while ((n === void 0 || n-- &gt; 0) &amp;&amp; !(r = i.next()).done) ar.push(r.value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (error) { e = { error: error }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (r &amp;&amp; !r.done &amp;&amp; (m = i[</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">])) m.call(i);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e) throw e.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return ar;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __spreadArray = (this &amp;&amp; this.__spreadArray) || function (to, from, pack) {</span><span class="s3">\n    </span><span class="s1">if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i &lt; l; i++) {</span><span class="s3">\n        </span><span class="s1">if (ar || !(i in from)) {</span><span class="s3">\n            </span><span class="s1">if (!ar) ar = Array.prototype.slice.call(from, 0, i);</span><span class="s3">\n            </span><span class="s1">ar[i] = from[i];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return to.concat(ar || Array.prototype.slice.call(from));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexParser_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexParser.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var BussproofsUtil = __importStar(require(</span><span class="s3">\&quot;</span><span class="s1">./BussproofsUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var BussproofsMethods = {};</span><span class="s3">\n</span><span class="s1">BussproofsMethods.Prooftree = function (parser, begin) {</span><span class="s3">\n    </span><span class="s1">parser.Push(begin);</span><span class="s3">\n    </span><span class="s1">var newItem = parser.itemFactory.create('proofTree').</span><span class="s3">\n        </span><span class="s1">setProperties({ name: begin.getName(),</span><span class="s3">\n        </span><span class="s1">line: 'solid', currentLine: 'solid', rootAtTop: false });</span><span class="s3">\n    </span><span class="s1">return newItem;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">BussproofsMethods.Axiom = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var top = parser.stack.Top();</span><span class="s3">\n    </span><span class="s1">if (top.kind !== 'proofTree') {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var content = paddedContent(parser, parser.GetArgument(name));</span><span class="s3">\n    </span><span class="s1">BussproofsUtil.setProperty(content, 'axiom', true);</span><span class="s3">\n    </span><span class="s1">top.Push(content);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var paddedContent = function (parser, content) {</span><span class="s3">\n    </span><span class="s1">var nodes = ParseUtil_js_1.default.internalMath(parser, ParseUtil_js_1.default.trimSpaces(content), 0);</span><span class="s3">\n    </span><span class="s1">if (!nodes[0].childNodes[0].childNodes.length) {</span><span class="s3">\n        </span><span class="s1">return parser.create('node', 'mrow', []);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var lpad = parser.create('node', 'mspace', [], { width: '.5ex' });</span><span class="s3">\n    </span><span class="s1">var rpad = parser.create('node', 'mspace', [], { width: '.5ex' });</span><span class="s3">\n    </span><span class="s1">return parser.create('node', 'mrow', __spreadArray(__spreadArray([lpad], __read(nodes), false), [rpad], false));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">BussproofsMethods.Inference = function (parser, name, n) {</span><span class="s3">\n    </span><span class="s1">var top = parser.stack.Top();</span><span class="s3">\n    </span><span class="s1">if (top.kind !== 'proofTree') {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (top.Size() &lt; n) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('BadProofTree', 'Proof tree badly specified.');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var rootAtTop = top.getProperty('rootAtTop');</span><span class="s3">\n    </span><span class="s1">var childCount = (n === 1 &amp;&amp; !top.Peek()[0].childNodes.length) ? 0 : n;</span><span class="s3">\n    </span><span class="s1">var children = [];</span><span class="s3">\n    </span><span class="s1">do {</span><span class="s3">\n        </span><span class="s1">if (children.length) {</span><span class="s3">\n            </span><span class="s1">children.unshift(parser.create('node', 'mtd', [], {}));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">children.unshift(parser.create('node', 'mtd', [top.Pop()], { 'rowalign': (rootAtTop ? 'top' : 'bottom') }));</span><span class="s3">\n        </span><span class="s1">n--;</span><span class="s3">\n    </span><span class="s1">} while (n &gt; 0);</span><span class="s3">\n    </span><span class="s1">var row = parser.create('node', 'mtr', children, {});</span><span class="s3">\n    </span><span class="s1">var table = parser.create('node', 'mtable', [row], { framespacing: '0 0' });</span><span class="s3">\n    </span><span class="s1">var conclusion = paddedContent(parser, parser.GetArgument(name));</span><span class="s3">\n    </span><span class="s1">var style = top.getProperty('currentLine');</span><span class="s3">\n    </span><span class="s1">if (style !== top.getProperty('line')) {</span><span class="s3">\n        </span><span class="s1">top.setProperty('currentLine', top.getProperty('line'));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var rule = createRule(parser, table, [conclusion], top.getProperty('left'), top.getProperty('right'), style, rootAtTop);</span><span class="s3">\n    </span><span class="s1">top.setProperty('left', null);</span><span class="s3">\n    </span><span class="s1">top.setProperty('right', null);</span><span class="s3">\n    </span><span class="s1">BussproofsUtil.setProperty(rule, 'inference', childCount);</span><span class="s3">\n    </span><span class="s1">parser.configuration.addNode('inference', rule);</span><span class="s3">\n    </span><span class="s1">top.Push(rule);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">function createRule(parser, premise, conclusions, left, right, style, rootAtTop) {</span><span class="s3">\n    </span><span class="s1">var upper = parser.create('node', 'mtr', [parser.create('node', 'mtd', [premise], {})], {});</span><span class="s3">\n    </span><span class="s1">var lower = parser.create('node', 'mtr', [parser.create('node', 'mtd', conclusions, {})], {});</span><span class="s3">\n    </span><span class="s1">var rule = parser.create('node', 'mtable', rootAtTop ? [lower, upper] : [upper, lower], { align: 'top 2', rowlines: style, framespacing: '0 0' });</span><span class="s3">\n    </span><span class="s1">BussproofsUtil.setProperty(rule, 'inferenceRule', rootAtTop ? 'up' : 'down');</span><span class="s3">\n    </span><span class="s1">var leftLabel, rightLabel;</span><span class="s3">\n    </span><span class="s1">if (left) {</span><span class="s3">\n        </span><span class="s1">leftLabel = parser.create('node', 'mpadded', [left], { height: '+.5em', width: '+.5em', voffset: '-.15em' });</span><span class="s3">\n        </span><span class="s1">BussproofsUtil.setProperty(leftLabel, 'prooflabel', 'left');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (right) {</span><span class="s3">\n        </span><span class="s1">rightLabel = parser.create('node', 'mpadded', [right], { height: '+.5em', width: '+.5em', voffset: '-.15em' });</span><span class="s3">\n        </span><span class="s1">BussproofsUtil.setProperty(rightLabel, 'prooflabel', 'right');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var children, label;</span><span class="s3">\n    </span><span class="s1">if (left &amp;&amp; right) {</span><span class="s3">\n        </span><span class="s1">children = [leftLabel, rule, rightLabel];</span><span class="s3">\n        </span><span class="s1">label = 'both';</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (left) {</span><span class="s3">\n        </span><span class="s1">children = [leftLabel, rule];</span><span class="s3">\n        </span><span class="s1">label = 'left';</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (right) {</span><span class="s3">\n        </span><span class="s1">children = [rule, rightLabel];</span><span class="s3">\n        </span><span class="s1">label = 'right';</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">return rule;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">rule = parser.create('node', 'mrow', children);</span><span class="s3">\n    </span><span class="s1">BussproofsUtil.setProperty(rule, 'labelledRule', label);</span><span class="s3">\n    </span><span class="s1">return rule;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">BussproofsMethods.Label = function (parser, name, side) {</span><span class="s3">\n    </span><span class="s1">var top = parser.stack.Top();</span><span class="s3">\n    </span><span class="s1">if (top.kind !== 'proofTree') {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var content = ParseUtil_js_1.default.internalMath(parser, parser.GetArgument(name), 0);</span><span class="s3">\n    </span><span class="s1">var label = (content.length &gt; 1) ?</span><span class="s3">\n        </span><span class="s1">parser.create('node', 'mrow', content, {}) : content[0];</span><span class="s3">\n    </span><span class="s1">top.setProperty(side, label);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">BussproofsMethods.SetLine = function (parser, _name, style, always) {</span><span class="s3">\n    </span><span class="s1">var top = parser.stack.Top();</span><span class="s3">\n    </span><span class="s1">if (top.kind !== 'proofTree') {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">top.setProperty('currentLine', style);</span><span class="s3">\n    </span><span class="s1">if (always) {</span><span class="s3">\n        </span><span class="s1">top.setProperty('line', style);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">BussproofsMethods.RootAtTop = function (parser, _name, where) {</span><span class="s3">\n    </span><span class="s1">var top = parser.stack.Top();</span><span class="s3">\n    </span><span class="s1">if (top.kind !== 'proofTree') {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">top.setProperty('rootAtTop', where);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">BussproofsMethods.AxiomF = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var top = parser.stack.Top();</span><span class="s3">\n    </span><span class="s1">if (top.kind !== 'proofTree') {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var line = parseFCenterLine(parser, name);</span><span class="s3">\n    </span><span class="s1">BussproofsUtil.setProperty(line, 'axiom', true);</span><span class="s3">\n    </span><span class="s1">top.Push(line);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">function parseFCenterLine(parser, name) {</span><span class="s3">\n    </span><span class="s1">var dollar = parser.GetNext();</span><span class="s3">\n    </span><span class="s1">if (dollar !== '$') {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('IllegalUseOfCommand', 'Use of %1 does not match it</span><span class="s3">\\</span><span class="s1">'s definition.', name);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.i++;</span><span class="s3">\n    </span><span class="s1">var axiom = parser.GetUpTo(name, '$');</span><span class="s3">\n    </span><span class="s1">if (axiom.indexOf('</span><span class="s3">\\\\</span><span class="s1">fCenter') === -1) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('IllegalUseOfCommand', 'Missing </span><span class="s3">\\\\</span><span class="s1">fCenter in %1.', name);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var _a = __read(axiom.split('</span><span class="s3">\\\\</span><span class="s1">fCenter'), 2), prem = _a[0], conc = _a[1];</span><span class="s3">\n    </span><span class="s1">var premise = (new TexParser_js_1.default(prem, parser.stack.env, parser.configuration)).mml();</span><span class="s3">\n    </span><span class="s1">var conclusion = (new TexParser_js_1.default(conc, parser.stack.env, parser.configuration)).mml();</span><span class="s3">\n    </span><span class="s1">var fcenter = (new TexParser_js_1.default('</span><span class="s3">\\\\</span><span class="s1">fCenter', parser.stack.env, parser.configuration)).mml();</span><span class="s3">\n    </span><span class="s1">var left = parser.create('node', 'mtd', [premise], {});</span><span class="s3">\n    </span><span class="s1">var middle = parser.create('node', 'mtd', [fcenter], {});</span><span class="s3">\n    </span><span class="s1">var right = parser.create('node', 'mtd', [conclusion], {});</span><span class="s3">\n    </span><span class="s1">var row = parser.create('node', 'mtr', [left, middle, right], {});</span><span class="s3">\n    </span><span class="s1">var table = parser.create('node', 'mtable', [row], { columnspacing: '.5ex', columnalign: 'center 2' });</span><span class="s3">\n    </span><span class="s1">BussproofsUtil.setProperty(table, 'sequent', true);</span><span class="s3">\n    </span><span class="s1">parser.configuration.addNode('sequent', row);</span><span class="s3">\n    </span><span class="s1">return table;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">BussproofsMethods.FCenter = function (_parser, _name) { };</span><span class="s3">\n</span><span class="s1">BussproofsMethods.InferenceF = function (parser, name, n) {</span><span class="s3">\n    </span><span class="s1">var top = parser.stack.Top();</span><span class="s3">\n    </span><span class="s1">if (top.kind !== 'proofTree') {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (top.Size() &lt; n) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('BadProofTree', 'Proof tree badly specified.');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var rootAtTop = top.getProperty('rootAtTop');</span><span class="s3">\n    </span><span class="s1">var childCount = (n === 1 &amp;&amp; !top.Peek()[0].childNodes.length) ? 0 : n;</span><span class="s3">\n    </span><span class="s1">var children = [];</span><span class="s3">\n    </span><span class="s1">do {</span><span class="s3">\n        </span><span class="s1">if (children.length) {</span><span class="s3">\n            </span><span class="s1">children.unshift(parser.create('node', 'mtd', [], {}));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">children.unshift(parser.create('node', 'mtd', [top.Pop()], { 'rowalign': (rootAtTop ? 'top' : 'bottom') }));</span><span class="s3">\n        </span><span class="s1">n--;</span><span class="s3">\n    </span><span class="s1">} while (n &gt; 0);</span><span class="s3">\n    </span><span class="s1">var row = parser.create('node', 'mtr', children, {});</span><span class="s3">\n    </span><span class="s1">var table = parser.create('node', 'mtable', [row], { framespacing: '0 0' });</span><span class="s3">\n    </span><span class="s1">var conclusion = parseFCenterLine(parser, name);</span><span class="s3">\n    </span><span class="s1">var style = top.getProperty('currentLine');</span><span class="s3">\n    </span><span class="s1">if (style !== top.getProperty('line')) {</span><span class="s3">\n        </span><span class="s1">top.setProperty('currentLine', top.getProperty('line'));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var rule = createRule(parser, table, [conclusion], top.getProperty('left'), top.getProperty('right'), style, rootAtTop);</span><span class="s3">\n    </span><span class="s1">top.setProperty('left', null);</span><span class="s3">\n    </span><span class="s1">top.setProperty('right', null);</span><span class="s3">\n    </span><span class="s1">BussproofsUtil.setProperty(rule, 'inference', childCount);</span><span class="s3">\n    </span><span class="s1">parser.configuration.addNode('inference', rule);</span><span class="s3">\n    </span><span class="s1">top.Push(rule);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.default = BussproofsMethods;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=BussproofsMethods.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __read = (this &amp;&amp; this.__read) || function (o, n) {</span><span class="s3">\n    </span><span class="s1">var m = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; o[Symbol.iterator];</span><span class="s3">\n    </span><span class="s1">if (!m) return o;</span><span class="s3">\n    </span><span class="s1">var i = m.call(o), r, ar = [], e;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">while ((n === void 0 || n-- &gt; 0) &amp;&amp; !(r = i.next()).done) ar.push(r.value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (error) { e = { error: error }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (r &amp;&amp; !r.done &amp;&amp; (m = i[</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">])) m.call(i);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e) throw e.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return ar;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __values = (this &amp;&amp; this.__values) || function(o) {</span><span class="s3">\n    </span><span class="s1">var s = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Symbol.iterator, m = s &amp;&amp; o[s], i = 0;</span><span class="s3">\n    </span><span class="s1">if (m) return m.call(o);</span><span class="s3">\n    </span><span class="s1">if (o &amp;&amp; typeof o.length === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) return {</span><span class="s3">\n        </span><span class="s1">next: function () {</span><span class="s3">\n            </span><span class="s1">if (o &amp;&amp; i &gt;= o.length) o = void 0;</span><span class="s3">\n            </span><span class="s1">return { value: o &amp;&amp; o[i++], done: !o };</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">throw new TypeError(s ? </span><span class="s3">\&quot;</span><span class="s1">Object is not iterable.</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Symbol.iterator is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var _a;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.clearDocument = exports.saveDocument = exports.makeBsprAttributes = exports.removeProperty = exports.getProperty = exports.setProperty = exports.balanceRules = void 0;</span><span class="s3">\n</span><span class="s1">var NodeUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../NodeUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var doc = null;</span><span class="s3">\n</span><span class="s1">var item = null;</span><span class="s3">\n</span><span class="s1">var getBBox = function (node) {</span><span class="s3">\n    </span><span class="s1">item.root = node;</span><span class="s3">\n    </span><span class="s1">var width = doc.outputJax.getBBox(item, doc).w;</span><span class="s3">\n    </span><span class="s1">return width;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var getRule = function (node) {</span><span class="s3">\n    </span><span class="s1">var i = 0;</span><span class="s3">\n    </span><span class="s1">while (node &amp;&amp; !NodeUtil_js_1.default.isType(node, 'mtable')) {</span><span class="s3">\n        </span><span class="s1">if (NodeUtil_js_1.default.isType(node, 'text')) {</span><span class="s3">\n            </span><span class="s1">return null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (NodeUtil_js_1.default.isType(node, 'mrow')) {</span><span class="s3">\n            </span><span class="s1">node = node.childNodes[0];</span><span class="s3">\n            </span><span class="s1">i = 0;</span><span class="s3">\n            </span><span class="s1">continue;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">node = node.parent.childNodes[i];</span><span class="s3">\n        </span><span class="s1">i++;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return node;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var getPremises = function (rule, direction) {</span><span class="s3">\n    </span><span class="s1">return rule.childNodes[direction === 'up' ? 1 : 0].childNodes[0].</span><span class="s3">\n        </span><span class="s1">childNodes[0].childNodes[0].childNodes[0];</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var getPremise = function (premises, n) {</span><span class="s3">\n    </span><span class="s1">return premises.childNodes[n].childNodes[0].childNodes[0];</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var firstPremise = function (premises) {</span><span class="s3">\n    </span><span class="s1">return getPremise(premises, 0);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var lastPremise = function (premises) {</span><span class="s3">\n    </span><span class="s1">return getPremise(premises, premises.childNodes.length - 1);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var getConclusion = function (rule, direction) {</span><span class="s3">\n    </span><span class="s1">return rule.childNodes[direction === 'up' ? 0 : 1].childNodes[0].childNodes[0].childNodes[0];</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var getColumn = function (inf) {</span><span class="s3">\n    </span><span class="s1">while (inf &amp;&amp; !NodeUtil_js_1.default.isType(inf, 'mtd')) {</span><span class="s3">\n        </span><span class="s1">inf = inf.parent;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return inf;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var nextSibling = function (inf) {</span><span class="s3">\n    </span><span class="s1">return inf.parent.childNodes[inf.parent.childNodes.indexOf(inf) + 1];</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var previousSibling = function (inf) {</span><span class="s3">\n    </span><span class="s1">return inf.parent.childNodes[inf.parent.childNodes.indexOf(inf) - 1];</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var getParentInf = function (inf) {</span><span class="s3">\n    </span><span class="s1">while (inf &amp;&amp; (0, exports.getProperty)(inf, 'inference') == null) {</span><span class="s3">\n        </span><span class="s1">inf = inf.parent;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return inf;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var getSpaces = function (inf, rule, right) {</span><span class="s3">\n    </span><span class="s1">if (right === void 0) { right = false; }</span><span class="s3">\n    </span><span class="s1">var result = 0;</span><span class="s3">\n    </span><span class="s1">if (inf === rule) {</span><span class="s3">\n        </span><span class="s1">return result;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (inf !== rule.parent) {</span><span class="s3">\n        </span><span class="s1">var children_1 = inf.childNodes;</span><span class="s3">\n        </span><span class="s1">var index_1 = right ? children_1.length - 1 : 0;</span><span class="s3">\n        </span><span class="s1">if (NodeUtil_js_1.default.isType(children_1[index_1], 'mspace')) {</span><span class="s3">\n            </span><span class="s1">result += getBBox(children_1[index_1]);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">inf = rule.parent;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (inf === rule) {</span><span class="s3">\n        </span><span class="s1">return result;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var children = inf.childNodes;</span><span class="s3">\n    </span><span class="s1">var index = right ? children.length - 1 : 0;</span><span class="s3">\n    </span><span class="s1">if (children[index] !== rule) {</span><span class="s3">\n        </span><span class="s1">result += getBBox(children[index]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var adjustValue = function (inf, right) {</span><span class="s3">\n    </span><span class="s1">if (right === void 0) { right = false; }</span><span class="s3">\n    </span><span class="s1">var rule = getRule(inf);</span><span class="s3">\n    </span><span class="s1">var conc = getConclusion(rule, (0, exports.getProperty)(rule, 'inferenceRule'));</span><span class="s3">\n    </span><span class="s1">var w = getSpaces(inf, rule, right);</span><span class="s3">\n    </span><span class="s1">var x = getBBox(rule);</span><span class="s3">\n    </span><span class="s1">var y = getBBox(conc);</span><span class="s3">\n    </span><span class="s1">return w + ((x - y) / 2);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var addSpace = function (config, inf, space, right) {</span><span class="s3">\n    </span><span class="s1">if (right === void 0) { right = false; }</span><span class="s3">\n    </span><span class="s1">if ((0, exports.getProperty)(inf, 'inferenceRule') ||</span><span class="s3">\n        </span><span class="s1">(0, exports.getProperty)(inf, 'labelledRule')) {</span><span class="s3">\n        </span><span class="s1">var mrow = config.nodeFactory.create('node', 'mrow');</span><span class="s3">\n        </span><span class="s1">inf.parent.replaceChild(mrow, inf);</span><span class="s3">\n        </span><span class="s1">mrow.setChildren([inf]);</span><span class="s3">\n        </span><span class="s1">moveProperties(inf, mrow);</span><span class="s3">\n        </span><span class="s1">inf = mrow;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var index = right ? inf.childNodes.length - 1 : 0;</span><span class="s3">\n    </span><span class="s1">var mspace = inf.childNodes[index];</span><span class="s3">\n    </span><span class="s1">if (NodeUtil_js_1.default.isType(mspace, 'mspace')) {</span><span class="s3">\n        </span><span class="s1">NodeUtil_js_1.default.setAttribute(mspace, 'width', ParseUtil_js_1.default.Em(ParseUtil_js_1.default.dimen2em(NodeUtil_js_1.default.getAttribute(mspace, 'width')) + space));</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">mspace = config.nodeFactory.create('node', 'mspace', [], { width: ParseUtil_js_1.default.Em(space) });</span><span class="s3">\n    </span><span class="s1">if (right) {</span><span class="s3">\n        </span><span class="s1">inf.appendChild(mspace);</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">mspace.parent = inf;</span><span class="s3">\n    </span><span class="s1">inf.childNodes.unshift(mspace);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var moveProperties = function (src, dest) {</span><span class="s3">\n    </span><span class="s1">var props = ['inference', 'proof', 'maxAdjust', 'labelledRule'];</span><span class="s3">\n    </span><span class="s1">props.forEach(function (x) {</span><span class="s3">\n        </span><span class="s1">var value = (0, exports.getProperty)(src, x);</span><span class="s3">\n        </span><span class="s1">if (value != null) {</span><span class="s3">\n            </span><span class="s1">(0, exports.setProperty)(dest, x, value);</span><span class="s3">\n            </span><span class="s1">(0, exports.removeProperty)(src, x);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var adjustSequents = function (config) {</span><span class="s3">\n    </span><span class="s1">var sequents = config.nodeLists['sequent'];</span><span class="s3">\n    </span><span class="s1">if (!sequents) {</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">for (var i = sequents.length - 1, seq = void 0; seq = sequents[i]; i--) {</span><span class="s3">\n        </span><span class="s1">if ((0, exports.getProperty)(seq, 'sequentProcessed')) {</span><span class="s3">\n            </span><span class="s1">(0, exports.removeProperty)(seq, 'sequentProcessed');</span><span class="s3">\n            </span><span class="s1">continue;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var collect = [];</span><span class="s3">\n        </span><span class="s1">var inf = getParentInf(seq);</span><span class="s3">\n        </span><span class="s1">if ((0, exports.getProperty)(inf, 'inference') !== 1) {</span><span class="s3">\n            </span><span class="s1">continue;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">collect.push(seq);</span><span class="s3">\n        </span><span class="s1">while ((0, exports.getProperty)(inf, 'inference') === 1) {</span><span class="s3">\n            </span><span class="s1">inf = getRule(inf);</span><span class="s3">\n            </span><span class="s1">var premise = firstPremise(getPremises(inf, (0, exports.getProperty)(inf, 'inferenceRule')));</span><span class="s3">\n            </span><span class="s1">var sequent = ((0, exports.getProperty)(premise, 'inferenceRule')) ?</span><span class="s3">\n                </span><span class="s1">getConclusion(premise, (0, exports.getProperty)(premise, 'inferenceRule')) :</span><span class="s3">\n                </span><span class="s1">premise;</span><span class="s3">\n            </span><span class="s1">if ((0, exports.getProperty)(sequent, 'sequent')) {</span><span class="s3">\n                </span><span class="s1">seq = sequent.childNodes[0];</span><span class="s3">\n                </span><span class="s1">collect.push(seq);</span><span class="s3">\n                </span><span class="s1">(0, exports.setProperty)(seq, 'sequentProcessed', true);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">inf = premise;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">adjustSequentPairwise(config, collect);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var addSequentSpace = function (config, sequent, position, direction, width) {</span><span class="s3">\n    </span><span class="s1">var mspace = config.nodeFactory.create('node', 'mspace', [], { width: ParseUtil_js_1.default.Em(width) });</span><span class="s3">\n    </span><span class="s1">if (direction === 'left') {</span><span class="s3">\n        </span><span class="s1">var row = sequent.childNodes[position].childNodes[0];</span><span class="s3">\n        </span><span class="s1">mspace.parent = row;</span><span class="s3">\n        </span><span class="s1">row.childNodes.unshift(mspace);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">sequent.childNodes[position].appendChild(mspace);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">(0, exports.setProperty)(sequent.parent, 'sequentAdjust_' + direction, width);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var adjustSequentPairwise = function (config, sequents) {</span><span class="s3">\n    </span><span class="s1">var top = sequents.pop();</span><span class="s3">\n    </span><span class="s1">while (sequents.length) {</span><span class="s3">\n        </span><span class="s1">var bottom = sequents.pop();</span><span class="s3">\n        </span><span class="s1">var _a = __read(compareSequents(top, bottom), 2), left = _a[0], right = _a[1];</span><span class="s3">\n        </span><span class="s1">if ((0, exports.getProperty)(top.parent, 'axiom')) {</span><span class="s3">\n            </span><span class="s1">addSequentSpace(config, left &lt; 0 ? top : bottom, 0, 'left', Math.abs(left));</span><span class="s3">\n            </span><span class="s1">addSequentSpace(config, right &lt; 0 ? top : bottom, 2, 'right', Math.abs(right));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">top = bottom;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var compareSequents = function (top, bottom) {</span><span class="s3">\n    </span><span class="s1">var tr = getBBox(top.childNodes[2]);</span><span class="s3">\n    </span><span class="s1">var br = getBBox(bottom.childNodes[2]);</span><span class="s3">\n    </span><span class="s1">var tl = getBBox(top.childNodes[0]);</span><span class="s3">\n    </span><span class="s1">var bl = getBBox(bottom.childNodes[0]);</span><span class="s3">\n    </span><span class="s1">var dl = tl - bl;</span><span class="s3">\n    </span><span class="s1">var dr = tr - br;</span><span class="s3">\n    </span><span class="s1">return [dl, dr];</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var balanceRules = function (arg) {</span><span class="s3">\n    </span><span class="s1">var e_1, _a;</span><span class="s3">\n    </span><span class="s1">item = new arg.document.options.MathItem('', null, arg.math.display);</span><span class="s3">\n    </span><span class="s1">var config = arg.data;</span><span class="s3">\n    </span><span class="s1">adjustSequents(config);</span><span class="s3">\n    </span><span class="s1">var inferences = config.nodeLists['inference'] || [];</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">for (var inferences_1 = __values(inferences), inferences_1_1 = inferences_1.next(); !inferences_1_1.done; inferences_1_1 = inferences_1.next()) {</span><span class="s3">\n            </span><span class="s1">var inf = inferences_1_1.value;</span><span class="s3">\n            </span><span class="s1">var isProof = (0, exports.getProperty)(inf, 'proof');</span><span class="s3">\n            </span><span class="s1">var rule = getRule(inf);</span><span class="s3">\n            </span><span class="s1">var premises = getPremises(rule, (0, exports.getProperty)(rule, 'inferenceRule'));</span><span class="s3">\n            </span><span class="s1">var premiseF = firstPremise(premises);</span><span class="s3">\n            </span><span class="s1">if ((0, exports.getProperty)(premiseF, 'inference')) {</span><span class="s3">\n                </span><span class="s1">var adjust_1 = adjustValue(premiseF);</span><span class="s3">\n                </span><span class="s1">if (adjust_1) {</span><span class="s3">\n                    </span><span class="s1">addSpace(config, premiseF, -adjust_1);</span><span class="s3">\n                    </span><span class="s1">var w_1 = getSpaces(inf, rule, false);</span><span class="s3">\n                    </span><span class="s1">addSpace(config, inf, adjust_1 - w_1);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">var premiseL = lastPremise(premises);</span><span class="s3">\n            </span><span class="s1">if ((0, exports.getProperty)(premiseL, 'inference') == null) {</span><span class="s3">\n                </span><span class="s1">continue;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">var adjust = adjustValue(premiseL, true);</span><span class="s3">\n            </span><span class="s1">addSpace(config, premiseL, -adjust, true);</span><span class="s3">\n            </span><span class="s1">var w = getSpaces(inf, rule, true);</span><span class="s3">\n            </span><span class="s1">var maxAdjust = (0, exports.getProperty)(inf, 'maxAdjust');</span><span class="s3">\n            </span><span class="s1">if (maxAdjust != null) {</span><span class="s3">\n                </span><span class="s1">adjust = Math.max(adjust, maxAdjust);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">var column = void 0;</span><span class="s3">\n            </span><span class="s1">if (isProof || !(column = getColumn(inf))) {</span><span class="s3">\n                </span><span class="s1">addSpace(config, (0, exports.getProperty)(inf, 'proof') ? inf : inf.parent, adjust - w, true);</span><span class="s3">\n                </span><span class="s1">continue;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">var sibling = nextSibling(column);</span><span class="s3">\n            </span><span class="s1">if (sibling) {</span><span class="s3">\n                </span><span class="s1">var pos = config.nodeFactory.create('node', 'mspace', [], { width: adjust - w + 'em' });</span><span class="s3">\n                </span><span class="s1">sibling.appendChild(pos);</span><span class="s3">\n                </span><span class="s1">inf.removeProperty('maxAdjust');</span><span class="s3">\n                </span><span class="s1">continue;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">var parentRule = getParentInf(column);</span><span class="s3">\n            </span><span class="s1">if (!parentRule) {</span><span class="s3">\n                </span><span class="s1">continue;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">adjust = (0, exports.getProperty)(parentRule, 'maxAdjust') ?</span><span class="s3">\n                </span><span class="s1">Math.max((0, exports.getProperty)(parentRule, 'maxAdjust'), adjust) : adjust;</span><span class="s3">\n            </span><span class="s1">(0, exports.setProperty)(parentRule, 'maxAdjust', adjust);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (e_1_1) { e_1 = { error: e_1_1 }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (inferences_1_1 &amp;&amp; !inferences_1_1.done &amp;&amp; (_a = inferences_1.return)) _a.call(inferences_1);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e_1) throw e_1.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.balanceRules = balanceRules;</span><span class="s3">\n</span><span class="s1">var property_prefix = 'bspr_';</span><span class="s3">\n</span><span class="s1">var blacklistedProperties = (_a = {},</span><span class="s3">\n    </span><span class="s1">_a[property_prefix + 'maxAdjust'] = true,</span><span class="s3">\n    </span><span class="s1">_a);</span><span class="s3">\n</span><span class="s1">var setProperty = function (node, property, value) {</span><span class="s3">\n    </span><span class="s1">NodeUtil_js_1.default.setProperty(node, property_prefix + property, value);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.setProperty = setProperty;</span><span class="s3">\n</span><span class="s1">var getProperty = function (node, property) {</span><span class="s3">\n    </span><span class="s1">return NodeUtil_js_1.default.getProperty(node, property_prefix + property);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.getProperty = getProperty;</span><span class="s3">\n</span><span class="s1">var removeProperty = function (node, property) {</span><span class="s3">\n    </span><span class="s1">node.removeProperty(property_prefix + property);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.removeProperty = removeProperty;</span><span class="s3">\n</span><span class="s1">var makeBsprAttributes = function (arg) {</span><span class="s3">\n    </span><span class="s1">arg.data.root.walkTree(function (mml, _data) {</span><span class="s3">\n        </span><span class="s1">var attr = [];</span><span class="s3">\n        </span><span class="s1">mml.getPropertyNames().forEach(function (x) {</span><span class="s3">\n            </span><span class="s1">if (!blacklistedProperties[x] &amp;&amp; x.match(RegExp('^' + property_prefix))) {</span><span class="s3">\n                </span><span class="s1">attr.push(x + ':' + mml.getProperty(x));</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">if (attr.length) {</span><span class="s3">\n            </span><span class="s1">NodeUtil_js_1.default.setAttribute(mml, 'semantics', attr.join(';'));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.makeBsprAttributes = makeBsprAttributes;</span><span class="s3">\n</span><span class="s1">var saveDocument = function (arg) {</span><span class="s3">\n    </span><span class="s1">doc = arg.document;</span><span class="s3">\n    </span><span class="s1">if (!('getBBox' in doc.outputJax)) {</span><span class="s3">\n        </span><span class="s1">throw Error('The bussproofs extension requires an output jax with a getBBox() method');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.saveDocument = saveDocument;</span><span class="s3">\n</span><span class="s1">var clearDocument = function (_arg) {</span><span class="s3">\n    </span><span class="s1">doc = null;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.clearDocument = clearDocument;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=BussproofsUtil.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.CancelConfiguration = exports.CancelMethods = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TexConstants_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../TexConstants.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var EncloseConfiguration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../enclose/EncloseConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">exports.CancelMethods = {};</span><span class="s3">\n</span><span class="s1">exports.CancelMethods.Cancel = function (parser, name, notation) {</span><span class="s3">\n    </span><span class="s1">var attr = parser.GetBrackets(name, '');</span><span class="s3">\n    </span><span class="s1">var math = parser.ParseArg(name);</span><span class="s3">\n    </span><span class="s1">var def = ParseUtil_js_1.default.keyvalOptions(attr, EncloseConfiguration_js_1.ENCLOSE_OPTIONS);</span><span class="s3">\n    </span><span class="s1">def['notation'] = notation;</span><span class="s3">\n    </span><span class="s1">parser.Push(parser.create('node', 'menclose', [math], def));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.CancelMethods.CancelTo = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var attr = parser.GetBrackets(name, '');</span><span class="s3">\n    </span><span class="s1">var value = parser.ParseArg(name);</span><span class="s3">\n    </span><span class="s1">var math = parser.ParseArg(name);</span><span class="s3">\n    </span><span class="s1">var def = ParseUtil_js_1.default.keyvalOptions(attr, EncloseConfiguration_js_1.ENCLOSE_OPTIONS);</span><span class="s3">\n    </span><span class="s1">def['notation'] = [TexConstants_js_1.TexConstant.Notation.UPDIAGONALSTRIKE,</span><span class="s3">\n        </span><span class="s1">TexConstants_js_1.TexConstant.Notation.UPDIAGONALARROW,</span><span class="s3">\n        </span><span class="s1">TexConstants_js_1.TexConstant.Notation.NORTHEASTARROW].join(' ');</span><span class="s3">\n    </span><span class="s1">value = parser.create('node', 'mpadded', [value], { depth: '-.1em', height: '+.1em', voffset: '.1em' });</span><span class="s3">\n    </span><span class="s1">parser.Push(parser.create('node', 'msup', [parser.create('node', 'menclose', [math], def), value]));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('cancel', {</span><span class="s3">\n    </span><span class="s1">cancel: ['Cancel', TexConstants_js_1.TexConstant.Notation.UPDIAGONALSTRIKE],</span><span class="s3">\n    </span><span class="s1">bcancel: ['Cancel', TexConstants_js_1.TexConstant.Notation.DOWNDIAGONALSTRIKE],</span><span class="s3">\n    </span><span class="s1">xcancel: ['Cancel', TexConstants_js_1.TexConstant.Notation.UPDIAGONALSTRIKE + ' ' +</span><span class="s3">\n            </span><span class="s1">TexConstants_js_1.TexConstant.Notation.DOWNDIAGONALSTRIKE],</span><span class="s3">\n    </span><span class="s1">cancelto: 'CancelTo'</span><span class="s3">\n</span><span class="s1">}, exports.CancelMethods);</span><span class="s3">\n</span><span class="s1">exports.CancelConfiguration = Configuration_js_1.Configuration.create('cancel', { handler: { macro: ['cancel'] } });</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=CancelConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __extends = (this &amp;&amp; this.__extends) || (function () {</span><span class="s3">\n    </span><span class="s1">var extendStatics = function (d, b) {</span><span class="s3">\n        </span><span class="s1">extendStatics = Object.setPrototypeOf ||</span><span class="s3">\n            </span><span class="s1">({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||</span><span class="s3">\n            </span><span class="s1">function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };</span><span class="s3">\n        </span><span class="s1">return extendStatics(d, b);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return function (d, b) {</span><span class="s3">\n        </span><span class="s1">if (typeof b !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; b !== null)</span><span class="s3">\n            </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Class extends value </span><span class="s3">\&quot; </span><span class="s1">+ String(b) + </span><span class="s3">\&quot; </span><span class="s1">is not a constructor or null</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">extendStatics(d, b);</span><span class="s3">\n        </span><span class="s1">function __() { this.constructor = d; }</span><span class="s3">\n        </span><span class="s1">d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var _a;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.CasesConfiguration = exports.CasesMethods = exports.CasesTags = exports.CasesBeginItem = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var BaseMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../base/BaseMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var BaseItems_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../base/BaseItems.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var AmsConfiguration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../ams/AmsConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var EmpheqUtil_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../empheq/EmpheqUtil.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var CasesBeginItem = (function (_super) {</span><span class="s3">\n    </span><span class="s1">__extends(CasesBeginItem, _super);</span><span class="s3">\n    </span><span class="s1">function CasesBeginItem() {</span><span class="s3">\n        </span><span class="s1">return _super !== null &amp;&amp; _super.apply(this, arguments) || this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(CasesBeginItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">kind</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n        </span><span class="s1">get: function () {</span><span class="s3">\n            </span><span class="s1">return 'cases-begin';</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">enumerable: false,</span><span class="s3">\n        </span><span class="s1">configurable: true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">CasesBeginItem.prototype.checkItem = function (item) {</span><span class="s3">\n        </span><span class="s1">if (item.isKind('end') &amp;&amp; item.getName() === this.getName()) {</span><span class="s3">\n            </span><span class="s1">if (this.getProperty('end')) {</span><span class="s3">\n                </span><span class="s1">this.setProperty('end', false);</span><span class="s3">\n                </span><span class="s1">return [[], true];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return _super.prototype.checkItem.call(this, item);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return CasesBeginItem;</span><span class="s3">\n</span><span class="s1">}(BaseItems_js_1.BeginItem));</span><span class="s3">\n</span><span class="s1">exports.CasesBeginItem = CasesBeginItem;</span><span class="s3">\n</span><span class="s1">var CasesTags = (function (_super) {</span><span class="s3">\n    </span><span class="s1">__extends(CasesTags, _super);</span><span class="s3">\n    </span><span class="s1">function CasesTags() {</span><span class="s3">\n        </span><span class="s1">var _this = _super !== null &amp;&amp; _super.apply(this, arguments) || this;</span><span class="s3">\n        </span><span class="s1">_this.subcounter = 0;</span><span class="s3">\n        </span><span class="s1">return _this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">CasesTags.prototype.start = function (env, taggable, defaultTags) {</span><span class="s3">\n        </span><span class="s1">this.subcounter = 0;</span><span class="s3">\n        </span><span class="s1">_super.prototype.start.call(this, env, taggable, defaultTags);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">CasesTags.prototype.autoTag = function () {</span><span class="s3">\n        </span><span class="s1">if (this.currentTag.tag != null)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">if (this.currentTag.env === 'subnumcases') {</span><span class="s3">\n            </span><span class="s1">if (this.subcounter === 0)</span><span class="s3">\n                </span><span class="s1">this.counter++;</span><span class="s3">\n            </span><span class="s1">this.subcounter++;</span><span class="s3">\n            </span><span class="s1">this.tag(this.formatNumber(this.counter, this.subcounter), false);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">if (this.subcounter === 0 || this.currentTag.env !== 'numcases-left')</span><span class="s3">\n                </span><span class="s1">this.counter++;</span><span class="s3">\n            </span><span class="s1">this.tag(this.formatNumber(this.counter), false);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">CasesTags.prototype.formatNumber = function (n, m) {</span><span class="s3">\n        </span><span class="s1">if (m === void 0) { m = null; }</span><span class="s3">\n        </span><span class="s1">return n.toString() + (m === null ? '' : String.fromCharCode(0x60 + m));</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return CasesTags;</span><span class="s3">\n</span><span class="s1">}(AmsConfiguration_js_1.AmsTags));</span><span class="s3">\n</span><span class="s1">exports.CasesTags = CasesTags;</span><span class="s3">\n</span><span class="s1">exports.CasesMethods = {</span><span class="s3">\n    </span><span class="s1">NumCases: function (parser, begin) {</span><span class="s3">\n        </span><span class="s1">if (parser.stack.env.closing === begin.getName()) {</span><span class="s3">\n            </span><span class="s1">delete parser.stack.env.closing;</span><span class="s3">\n            </span><span class="s1">parser.Push(parser.itemFactory.create('end').setProperty('name', begin.getName()));</span><span class="s3">\n            </span><span class="s1">var cases = parser.stack.Top();</span><span class="s3">\n            </span><span class="s1">var table = cases.Last;</span><span class="s3">\n            </span><span class="s1">var original = ParseUtil_js_1.default.copyNode(table, parser);</span><span class="s3">\n            </span><span class="s1">var left = cases.getProperty('left');</span><span class="s3">\n            </span><span class="s1">EmpheqUtil_js_1.EmpheqUtil.left(table, original, left + '</span><span class="s3">\\\\</span><span class="s1">empheqlbrace</span><span class="s3">\\\\</span><span class="s1">,', parser, 'numcases-left');</span><span class="s3">\n            </span><span class="s1">parser.Push(parser.itemFactory.create('end').setProperty('name', begin.getName()));</span><span class="s3">\n            </span><span class="s1">return null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">var left = parser.GetArgument('</span><span class="s3">\\\\</span><span class="s1">begin{' + begin.getName() + '}');</span><span class="s3">\n            </span><span class="s1">begin.setProperty('left', left);</span><span class="s3">\n            </span><span class="s1">var array = BaseMethods_js_1.default.EqnArray(parser, begin, true, true, 'll');</span><span class="s3">\n            </span><span class="s1">array.arraydef.displaystyle = false;</span><span class="s3">\n            </span><span class="s1">array.arraydef.rowspacing = '.2em';</span><span class="s3">\n            </span><span class="s1">array.setProperty('numCases', true);</span><span class="s3">\n            </span><span class="s1">parser.Push(begin);</span><span class="s3">\n            </span><span class="s1">return array;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">Entry: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">if (!parser.stack.Top().getProperty('numCases')) {</span><span class="s3">\n            </span><span class="s1">return BaseMethods_js_1.default.Entry(parser, name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">parser.Push(parser.itemFactory.create('cell').setProperties({ isEntry: true, name: name }));</span><span class="s3">\n        </span><span class="s1">var tex = parser.string;</span><span class="s3">\n        </span><span class="s1">var braces = 0, i = parser.i, m = tex.length;</span><span class="s3">\n        </span><span class="s1">while (i &lt; m) {</span><span class="s3">\n            </span><span class="s1">var c = tex.charAt(i);</span><span class="s3">\n            </span><span class="s1">if (c === '{') {</span><span class="s3">\n                </span><span class="s1">braces++;</span><span class="s3">\n                </span><span class="s1">i++;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (c === '}') {</span><span class="s3">\n                </span><span class="s1">if (braces === 0) {</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">braces--;</span><span class="s3">\n                    </span><span class="s1">i++;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (c === '&amp;' &amp;&amp; braces === 0) {</span><span class="s3">\n                </span><span class="s1">throw new TexError_js_1.default('ExtraCasesAlignTab', 'Extra alignment tab in text for numcase environment');</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (c === '</span><span class="s3">\\\\</span><span class="s1">' &amp;&amp; braces === 0) {</span><span class="s3">\n                </span><span class="s1">var cs = (tex.slice(i + 1).match(/^[a-z]+|./i) || [])[0];</span><span class="s3">\n                </span><span class="s1">if (cs === '</span><span class="s3">\\\\</span><span class="s1">' || cs === 'cr' || cs === 'end' || cs === 'label') {</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">i += cs.length;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">i++;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var text = tex.substr(parser.i, i - parser.i).replace(/^</span><span class="s3">\\</span><span class="s1">s*/, '');</span><span class="s3">\n        </span><span class="s1">parser.PushAll(ParseUtil_js_1.default.internalMath(parser, text, 0));</span><span class="s3">\n        </span><span class="s1">parser.i = i;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.EnvironmentMap('cases-env', EmpheqUtil_js_1.EmpheqUtil.environment, {</span><span class="s3">\n    </span><span class="s1">numcases: ['NumCases', 'cases'],</span><span class="s3">\n    </span><span class="s1">subnumcases: ['NumCases', 'cases']</span><span class="s3">\n</span><span class="s1">}, exports.CasesMethods);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.MacroMap('cases-macros', {</span><span class="s3">\n    </span><span class="s1">'&amp;': 'Entry'</span><span class="s3">\n</span><span class="s1">}, exports.CasesMethods);</span><span class="s3">\n</span><span class="s1">exports.CasesConfiguration = Configuration_js_1.Configuration.create('cases', {</span><span class="s3">\n    </span><span class="s1">handler: {</span><span class="s3">\n        </span><span class="s1">environment: ['cases-env'],</span><span class="s3">\n        </span><span class="s1">character: ['cases-macros']</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">items: (_a = {},</span><span class="s3">\n        </span><span class="s1">_a[CasesBeginItem.prototype.kind] = CasesBeginItem,</span><span class="s3">\n        </span><span class="s1">_a),</span><span class="s3">\n    </span><span class="s1">tags: { 'cases': CasesTags }</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=CasesConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __values = (this &amp;&amp; this.__values) || function(o) {</span><span class="s3">\n    </span><span class="s1">var s = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Symbol.iterator, m = s &amp;&amp; o[s], i = 0;</span><span class="s3">\n    </span><span class="s1">if (m) return m.call(o);</span><span class="s3">\n    </span><span class="s1">if (o &amp;&amp; typeof o.length === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) return {</span><span class="s3">\n        </span><span class="s1">next: function () {</span><span class="s3">\n            </span><span class="s1">if (o &amp;&amp; i &gt;= o.length) o = void 0;</span><span class="s3">\n            </span><span class="s1">return { value: o &amp;&amp; o[i++], done: !o };</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">throw new TypeError(s ? </span><span class="s3">\&quot;</span><span class="s1">Object is not iterable.</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Symbol.iterator is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.CenternotConfiguration = exports.filterCenterOver = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TexParser_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexParser.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var NodeUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../NodeUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var BaseMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../base/BaseMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('centernot', {</span><span class="s3">\n    </span><span class="s1">centerOver: 'CenterOver',</span><span class="s3">\n    </span><span class="s1">centernot: ['Macro', '</span><span class="s3">\\\\</span><span class="s1">centerOver{#1}{{</span><span class="s3">\\</span><span class="s1">u29F8}}', 1]</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n    </span><span class="s1">CenterOver: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var arg = '{' + parser.GetArgument(name) + '}';</span><span class="s3">\n        </span><span class="s1">var over = parser.ParseArg(name);</span><span class="s3">\n        </span><span class="s1">var base = new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml();</span><span class="s3">\n        </span><span class="s1">var mml = parser.create('node', 'TeXAtom', [</span><span class="s3">\n            </span><span class="s1">new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml(),</span><span class="s3">\n            </span><span class="s1">parser.create('node', 'mpadded', [</span><span class="s3">\n                </span><span class="s1">parser.create('node', 'mpadded', [over], { width: 0, lspace: '-.5width' }),</span><span class="s3">\n                </span><span class="s1">parser.create('node', 'mphantom', [base])</span><span class="s3">\n            </span><span class="s1">], { width: 0, lspace: '-.5width' })</span><span class="s3">\n        </span><span class="s1">]);</span><span class="s3">\n        </span><span class="s1">parser.configuration.addNode('centerOver', base);</span><span class="s3">\n        </span><span class="s1">parser.Push(mml);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">Macro: BaseMethods_js_1.default.Macro</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">function filterCenterOver(_a) {</span><span class="s3">\n    </span><span class="s1">var e_1, _b;</span><span class="s3">\n    </span><span class="s1">var data = _a.data;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">for (var _c = __values(data.getList('centerOver')), _d = _c.next(); !_d.done; _d = _c.next()) {</span><span class="s3">\n            </span><span class="s1">var base = _d.value;</span><span class="s3">\n            </span><span class="s1">var texClass = NodeUtil_js_1.default.getTexClass(base.childNodes[0].childNodes[0]);</span><span class="s3">\n            </span><span class="s1">if (texClass !== null) {</span><span class="s3">\n                </span><span class="s1">NodeUtil_js_1.default.setProperties(base.parent.parent.parent.parent.parent.parent, { texClass: texClass });</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (e_1_1) { e_1 = { error: e_1_1 }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (_d &amp;&amp; !_d.done &amp;&amp; (_b = _c.return)) _b.call(_c);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e_1) throw e_1.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">exports.filterCenterOver = filterCenterOver;</span><span class="s3">\n</span><span class="s1">exports.CenternotConfiguration = Configuration_js_1.Configuration.create('centernot', {</span><span class="s3">\n    </span><span class="s1">handler: { macro: ['centernot'] },</span><span class="s3">\n    </span><span class="s1">postprocessors: [filterCenterOver]</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=CenternotConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.ColorConfiguration = void 0;</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ColorMethods_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./ColorMethods.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ColorUtil_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./ColorUtil.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('color', {</span><span class="s3">\n    </span><span class="s1">color: 'Color',</span><span class="s3">\n    </span><span class="s1">textcolor: 'TextColor',</span><span class="s3">\n    </span><span class="s1">definecolor: 'DefineColor',</span><span class="s3">\n    </span><span class="s1">colorbox: 'ColorBox',</span><span class="s3">\n    </span><span class="s1">fcolorbox: 'FColorBox'</span><span class="s3">\n</span><span class="s1">}, ColorMethods_js_1.ColorMethods);</span><span class="s3">\n</span><span class="s1">var config = function (_config, jax) {</span><span class="s3">\n    </span><span class="s1">jax.parseOptions.packageData.set('color', { model: new ColorUtil_js_1.ColorModel() });</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.ColorConfiguration = Configuration_js_1.Configuration.create('color', {</span><span class="s3">\n    </span><span class="s1">handler: {</span><span class="s3">\n        </span><span class="s1">macro: ['color'],</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">options: {</span><span class="s3">\n        </span><span class="s1">color: {</span><span class="s3">\n            </span><span class="s1">padding: '5px',</span><span class="s3">\n            </span><span class="s1">borderWidth: '2px'</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">config: config</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=ColorConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.COLORS = void 0;</span><span class="s3">\n</span><span class="s1">exports.COLORS = new Map([</span><span class="s3">\n    </span><span class="s1">['Apricot', '#FBB982'],</span><span class="s3">\n    </span><span class="s1">['Aquamarine', '#00B5BE'],</span><span class="s3">\n    </span><span class="s1">['Bittersweet', '#C04F17'],</span><span class="s3">\n    </span><span class="s1">['Black', '#221E1F'],</span><span class="s3">\n    </span><span class="s1">['Blue', '#2D2F92'],</span><span class="s3">\n    </span><span class="s1">['BlueGreen', '#00B3B8'],</span><span class="s3">\n    </span><span class="s1">['BlueViolet', '#473992'],</span><span class="s3">\n    </span><span class="s1">['BrickRed', '#B6321C'],</span><span class="s3">\n    </span><span class="s1">['Brown', '#792500'],</span><span class="s3">\n    </span><span class="s1">['BurntOrange', '#F7921D'],</span><span class="s3">\n    </span><span class="s1">['CadetBlue', '#74729A'],</span><span class="s3">\n    </span><span class="s1">['CarnationPink', '#F282B4'],</span><span class="s3">\n    </span><span class="s1">['Cerulean', '#00A2E3'],</span><span class="s3">\n    </span><span class="s1">['CornflowerBlue', '#41B0E4'],</span><span class="s3">\n    </span><span class="s1">['Cyan', '#00AEEF'],</span><span class="s3">\n    </span><span class="s1">['Dandelion', '#FDBC42'],</span><span class="s3">\n    </span><span class="s1">['DarkOrchid', '#A4538A'],</span><span class="s3">\n    </span><span class="s1">['Emerald', '#00A99D'],</span><span class="s3">\n    </span><span class="s1">['ForestGreen', '#009B55'],</span><span class="s3">\n    </span><span class="s1">['Fuchsia', '#8C368C'],</span><span class="s3">\n    </span><span class="s1">['Goldenrod', '#FFDF42'],</span><span class="s3">\n    </span><span class="s1">['Gray', '#949698'],</span><span class="s3">\n    </span><span class="s1">['Green', '#00A64F'],</span><span class="s3">\n    </span><span class="s1">['GreenYellow', '#DFE674'],</span><span class="s3">\n    </span><span class="s1">['JungleGreen', '#00A99A'],</span><span class="s3">\n    </span><span class="s1">['Lavender', '#F49EC4'],</span><span class="s3">\n    </span><span class="s1">['LimeGreen', '#8DC73E'],</span><span class="s3">\n    </span><span class="s1">['Magenta', '#EC008C'],</span><span class="s3">\n    </span><span class="s1">['Mahogany', '#A9341F'],</span><span class="s3">\n    </span><span class="s1">['Maroon', '#AF3235'],</span><span class="s3">\n    </span><span class="s1">['Melon', '#F89E7B'],</span><span class="s3">\n    </span><span class="s1">['MidnightBlue', '#006795'],</span><span class="s3">\n    </span><span class="s1">['Mulberry', '#A93C93'],</span><span class="s3">\n    </span><span class="s1">['NavyBlue', '#006EB8'],</span><span class="s3">\n    </span><span class="s1">['OliveGreen', '#3C8031'],</span><span class="s3">\n    </span><span class="s1">['Orange', '#F58137'],</span><span class="s3">\n    </span><span class="s1">['OrangeRed', '#ED135A'],</span><span class="s3">\n    </span><span class="s1">['Orchid', '#AF72B0'],</span><span class="s3">\n    </span><span class="s1">['Peach', '#F7965A'],</span><span class="s3">\n    </span><span class="s1">['Periwinkle', '#7977B8'],</span><span class="s3">\n    </span><span class="s1">['PineGreen', '#008B72'],</span><span class="s3">\n    </span><span class="s1">['Plum', '#92268F'],</span><span class="s3">\n    </span><span class="s1">['ProcessBlue', '#00B0F0'],</span><span class="s3">\n    </span><span class="s1">['Purple', '#99479B'],</span><span class="s3">\n    </span><span class="s1">['RawSienna', '#974006'],</span><span class="s3">\n    </span><span class="s1">['Red', '#ED1B23'],</span><span class="s3">\n    </span><span class="s1">['RedOrange', '#F26035'],</span><span class="s3">\n    </span><span class="s1">['RedViolet', '#A1246B'],</span><span class="s3">\n    </span><span class="s1">['Rhodamine', '#EF559F'],</span><span class="s3">\n    </span><span class="s1">['RoyalBlue', '#0071BC'],</span><span class="s3">\n    </span><span class="s1">['RoyalPurple', '#613F99'],</span><span class="s3">\n    </span><span class="s1">['RubineRed', '#ED017D'],</span><span class="s3">\n    </span><span class="s1">['Salmon', '#F69289'],</span><span class="s3">\n    </span><span class="s1">['SeaGreen', '#3FBC9D'],</span><span class="s3">\n    </span><span class="s1">['Sepia', '#671800'],</span><span class="s3">\n    </span><span class="s1">['SkyBlue', '#46C5DD'],</span><span class="s3">\n    </span><span class="s1">['SpringGreen', '#C6DC67'],</span><span class="s3">\n    </span><span class="s1">['Tan', '#DA9D76'],</span><span class="s3">\n    </span><span class="s1">['TealBlue', '#00AEB3'],</span><span class="s3">\n    </span><span class="s1">['Thistle', '#D883B7'],</span><span class="s3">\n    </span><span class="s1">['Turquoise', '#00B4CE'],</span><span class="s3">\n    </span><span class="s1">['Violet', '#58429B'],</span><span class="s3">\n    </span><span class="s1">['VioletRed', '#EF58A0'],</span><span class="s3">\n    </span><span class="s1">['White', '#FFFFFF'],</span><span class="s3">\n    </span><span class="s1">['WildStrawberry', '#EE2967'],</span><span class="s3">\n    </span><span class="s1">['Yellow', '#FFF200'],</span><span class="s3">\n    </span><span class="s1">['YellowGreen', '#98CC70'],</span><span class="s3">\n    </span><span class="s1">['YellowOrange', '#FAA21A'],</span><span class="s3">\n</span><span class="s1">]);</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=ColorConstants.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.ColorMethods = void 0;</span><span class="s3">\n</span><span class="s1">var NodeUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../NodeUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">function padding(colorPadding) {</span><span class="s3">\n    </span><span class="s1">var pad = </span><span class="s3">\&quot;</span><span class="s1">+</span><span class="s3">\&quot;</span><span class="s1">.concat(colorPadding);</span><span class="s3">\n    </span><span class="s1">var unit = colorPadding.replace(/^.*?([a-z]*)$/, '$1');</span><span class="s3">\n    </span><span class="s1">var pad2 = 2 * parseFloat(pad);</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">width: </span><span class="s3">\&quot;</span><span class="s1">+</span><span class="s3">\&quot;</span><span class="s1">.concat(pad2).concat(unit),</span><span class="s3">\n        </span><span class="s1">height: pad,</span><span class="s3">\n        </span><span class="s1">depth: pad,</span><span class="s3">\n        </span><span class="s1">lspace: colorPadding,</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">exports.ColorMethods = {};</span><span class="s3">\n</span><span class="s1">exports.ColorMethods.Color = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var model = parser.GetBrackets(name, '');</span><span class="s3">\n    </span><span class="s1">var colorDef = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var colorModel = parser.configuration.packageData.get('color').model;</span><span class="s3">\n    </span><span class="s1">var color = colorModel.getColor(model, colorDef);</span><span class="s3">\n    </span><span class="s1">var style = parser.itemFactory.create('style')</span><span class="s3">\n        </span><span class="s1">.setProperties({ styles: { mathcolor: color } });</span><span class="s3">\n    </span><span class="s1">parser.stack.env['color'] = color;</span><span class="s3">\n    </span><span class="s1">parser.Push(style);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.ColorMethods.TextColor = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var model = parser.GetBrackets(name, '');</span><span class="s3">\n    </span><span class="s1">var colorDef = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var colorModel = parser.configuration.packageData.get('color').model;</span><span class="s3">\n    </span><span class="s1">var color = colorModel.getColor(model, colorDef);</span><span class="s3">\n    </span><span class="s1">var old = parser.stack.env['color'];</span><span class="s3">\n    </span><span class="s1">parser.stack.env['color'] = color;</span><span class="s3">\n    </span><span class="s1">var math = parser.ParseArg(name);</span><span class="s3">\n    </span><span class="s1">if (old) {</span><span class="s3">\n        </span><span class="s1">parser.stack.env['color'] = old;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">delete parser.stack.env['color'];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var node = parser.create('node', 'mstyle', [math], { mathcolor: color });</span><span class="s3">\n    </span><span class="s1">parser.Push(node);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.ColorMethods.DefineColor = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var cname = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var model = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var def = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var colorModel = parser.configuration.packageData.get('color').model;</span><span class="s3">\n    </span><span class="s1">colorModel.defineColor(model, cname, def);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.ColorMethods.ColorBox = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var cname = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var math = ParseUtil_js_1.default.internalMath(parser, parser.GetArgument(name));</span><span class="s3">\n    </span><span class="s1">var colorModel = parser.configuration.packageData.get('color').model;</span><span class="s3">\n    </span><span class="s1">var node = parser.create('node', 'mpadded', math, {</span><span class="s3">\n        </span><span class="s1">mathbackground: colorModel.getColor('named', cname)</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">NodeUtil_js_1.default.setProperties(node, padding(parser.options.color.padding));</span><span class="s3">\n    </span><span class="s1">parser.Push(node);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.ColorMethods.FColorBox = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var fname = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var cname = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var math = ParseUtil_js_1.default.internalMath(parser, parser.GetArgument(name));</span><span class="s3">\n    </span><span class="s1">var options = parser.options.color;</span><span class="s3">\n    </span><span class="s1">var colorModel = parser.configuration.packageData.get('color').model;</span><span class="s3">\n    </span><span class="s1">var node = parser.create('node', 'mpadded', math, {</span><span class="s3">\n        </span><span class="s1">mathbackground: colorModel.getColor('named', cname),</span><span class="s3">\n        </span><span class="s1">style: </span><span class="s3">\&quot;</span><span class="s1">border: </span><span class="s3">\&quot;</span><span class="s1">.concat(options.borderWidth, </span><span class="s3">\&quot; </span><span class="s1">solid </span><span class="s3">\&quot;</span><span class="s1">).concat(colorModel.getColor('named', fname))</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">NodeUtil_js_1.default.setProperties(node, padding(options.padding));</span><span class="s3">\n    </span><span class="s1">parser.Push(node);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=ColorMethods.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __values = (this &amp;&amp; this.__values) || function(o) {</span><span class="s3">\n    </span><span class="s1">var s = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Symbol.iterator, m = s &amp;&amp; o[s], i = 0;</span><span class="s3">\n    </span><span class="s1">if (m) return m.call(o);</span><span class="s3">\n    </span><span class="s1">if (o &amp;&amp; typeof o.length === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) return {</span><span class="s3">\n        </span><span class="s1">next: function () {</span><span class="s3">\n            </span><span class="s1">if (o &amp;&amp; i &gt;= o.length) o = void 0;</span><span class="s3">\n            </span><span class="s1">return { value: o &amp;&amp; o[i++], done: !o };</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">throw new TypeError(s ? </span><span class="s3">\&quot;</span><span class="s1">Object is not iterable.</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Symbol.iterator is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.ColorModel = void 0;</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var ColorConstants_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./ColorConstants.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ColorModelProcessors = new Map();</span><span class="s3">\n</span><span class="s1">var ColorModel = (function () {</span><span class="s3">\n    </span><span class="s1">function ColorModel() {</span><span class="s3">\n        </span><span class="s1">this.userColors = new Map();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">ColorModel.prototype.normalizeColor = function (model, def) {</span><span class="s3">\n        </span><span class="s1">if (!model || model === 'named') {</span><span class="s3">\n            </span><span class="s1">return def;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (ColorModelProcessors.has(model)) {</span><span class="s3">\n            </span><span class="s1">var modelProcessor = ColorModelProcessors.get(model);</span><span class="s3">\n            </span><span class="s1">return modelProcessor(def);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('UndefinedColorModel', 'Color model </span><span class="s3">\\</span><span class="s1">'%1</span><span class="s3">\\</span><span class="s1">' not defined', model);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">ColorModel.prototype.getColor = function (model, def) {</span><span class="s3">\n        </span><span class="s1">if (!model || model === 'named') {</span><span class="s3">\n            </span><span class="s1">return this.getColorByName(def);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return this.normalizeColor(model, def);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">ColorModel.prototype.getColorByName = function (name) {</span><span class="s3">\n        </span><span class="s1">if (this.userColors.has(name)) {</span><span class="s3">\n            </span><span class="s1">return this.userColors.get(name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (ColorConstants_js_1.COLORS.has(name)) {</span><span class="s3">\n            </span><span class="s1">return ColorConstants_js_1.COLORS.get(name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return name;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">ColorModel.prototype.defineColor = function (model, name, def) {</span><span class="s3">\n        </span><span class="s1">var normalized = this.normalizeColor(model, def);</span><span class="s3">\n        </span><span class="s1">this.userColors.set(name, normalized);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return ColorModel;</span><span class="s3">\n</span><span class="s1">}());</span><span class="s3">\n</span><span class="s1">exports.ColorModel = ColorModel;</span><span class="s3">\n</span><span class="s1">ColorModelProcessors.set('rgb', function (rgb) {</span><span class="s3">\n    </span><span class="s1">var e_1, _a;</span><span class="s3">\n    </span><span class="s1">var rgbParts = rgb.trim().split(/</span><span class="s3">\\</span><span class="s1">s*,</span><span class="s3">\\</span><span class="s1">s*/);</span><span class="s3">\n    </span><span class="s1">var RGB = '#';</span><span class="s3">\n    </span><span class="s1">if (rgbParts.length !== 3) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('ModelArg1', 'Color values for the %1 model require 3 numbers', 'rgb');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">for (var rgbParts_1 = __values(rgbParts), rgbParts_1_1 = rgbParts_1.next(); !rgbParts_1_1.done; rgbParts_1_1 = rgbParts_1.next()) {</span><span class="s3">\n            </span><span class="s1">var rgbPart = rgbParts_1_1.value;</span><span class="s3">\n            </span><span class="s1">if (!rgbPart.match(/^(</span><span class="s3">\\</span><span class="s1">d+(</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d*)?|</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)$/)) {</span><span class="s3">\n                </span><span class="s1">throw new TexError_js_1.default('InvalidDecimalNumber', 'Invalid decimal number');</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">var n = parseFloat(rgbPart);</span><span class="s3">\n            </span><span class="s1">if (n &lt; 0 || n &gt; 1) {</span><span class="s3">\n                </span><span class="s1">throw new TexError_js_1.default('ModelArg2', 'Color values for the %1 model must be between %2 and %3', 'rgb', '0', '1');</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">var pn = Math.floor(n * 255).toString(16);</span><span class="s3">\n            </span><span class="s1">if (pn.length &lt; 2) {</span><span class="s3">\n                </span><span class="s1">pn = '0' + pn;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">RGB += pn;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (e_1_1) { e_1 = { error: e_1_1 }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (rgbParts_1_1 &amp;&amp; !rgbParts_1_1.done &amp;&amp; (_a = rgbParts_1.return)) _a.call(rgbParts_1);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e_1) throw e_1.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return RGB;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">ColorModelProcessors.set('RGB', function (rgb) {</span><span class="s3">\n    </span><span class="s1">var e_2, _a;</span><span class="s3">\n    </span><span class="s1">var rgbParts = rgb.trim().split(/</span><span class="s3">\\</span><span class="s1">s*,</span><span class="s3">\\</span><span class="s1">s*/);</span><span class="s3">\n    </span><span class="s1">var RGB = '#';</span><span class="s3">\n    </span><span class="s1">if (rgbParts.length !== 3) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('ModelArg1', 'Color values for the %1 model require 3 numbers', 'RGB');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">for (var rgbParts_2 = __values(rgbParts), rgbParts_2_1 = rgbParts_2.next(); !rgbParts_2_1.done; rgbParts_2_1 = rgbParts_2.next()) {</span><span class="s3">\n            </span><span class="s1">var rgbPart = rgbParts_2_1.value;</span><span class="s3">\n            </span><span class="s1">if (!rgbPart.match(/^</span><span class="s3">\\</span><span class="s1">d+$/)) {</span><span class="s3">\n                </span><span class="s1">throw new TexError_js_1.default('InvalidNumber', 'Invalid number');</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">var n = parseInt(rgbPart);</span><span class="s3">\n            </span><span class="s1">if (n &gt; 255) {</span><span class="s3">\n                </span><span class="s1">throw new TexError_js_1.default('ModelArg2', 'Color values for the %1 model must be between %2 and %3', 'RGB', '0', '255');</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">var pn = n.toString(16);</span><span class="s3">\n            </span><span class="s1">if (pn.length &lt; 2) {</span><span class="s3">\n                </span><span class="s1">pn = '0' + pn;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">RGB += pn;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (e_2_1) { e_2 = { error: e_2_1 }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (rgbParts_2_1 &amp;&amp; !rgbParts_2_1.done &amp;&amp; (_a = rgbParts_2.return)) _a.call(rgbParts_2);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e_2) throw e_2.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return RGB;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">ColorModelProcessors.set('gray', function (gray) {</span><span class="s3">\n    </span><span class="s1">if (!gray.match(/^</span><span class="s3">\\</span><span class="s1">s*(</span><span class="s3">\\</span><span class="s1">d+(</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d*)?|</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)</span><span class="s3">\\</span><span class="s1">s*$/)) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('InvalidDecimalNumber', 'Invalid decimal number');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var n = parseFloat(gray);</span><span class="s3">\n    </span><span class="s1">if (n &lt; 0 || n &gt; 1) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('ModelArg2', 'Color values for the %1 model must be between %2 and %3', 'gray', '0', '1');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var pn = Math.floor(n * 255).toString(16);</span><span class="s3">\n    </span><span class="s1">if (pn.length &lt; 2) {</span><span class="s3">\n        </span><span class="s1">pn = '0' + pn;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot;</span><span class="s1">.concat(pn).concat(pn).concat(pn);</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=ColorUtil.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __extends = (this &amp;&amp; this.__extends) || (function () {</span><span class="s3">\n    </span><span class="s1">var extendStatics = function (d, b) {</span><span class="s3">\n        </span><span class="s1">extendStatics = Object.setPrototypeOf ||</span><span class="s3">\n            </span><span class="s1">({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||</span><span class="s3">\n            </span><span class="s1">function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };</span><span class="s3">\n        </span><span class="s1">return extendStatics(d, b);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return function (d, b) {</span><span class="s3">\n        </span><span class="s1">if (typeof b !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; b !== null)</span><span class="s3">\n            </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Class extends value </span><span class="s3">\&quot; </span><span class="s1">+ String(b) + </span><span class="s3">\&quot; </span><span class="s1">is not a constructor or null</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">extendStatics(d, b);</span><span class="s3">\n        </span><span class="s1">function __() { this.constructor = d; }</span><span class="s3">\n        </span><span class="s1">d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.ColortblConfiguration = exports.ColorArrayItem = void 0;</span><span class="s3">\n</span><span class="s1">var BaseItems_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../base/BaseItems.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var ColorArrayItem = (function (_super) {</span><span class="s3">\n    </span><span class="s1">__extends(ColorArrayItem, _super);</span><span class="s3">\n    </span><span class="s1">function ColorArrayItem() {</span><span class="s3">\n        </span><span class="s1">var _this = _super !== null &amp;&amp; _super.apply(this, arguments) || this;</span><span class="s3">\n        </span><span class="s1">_this.color = {</span><span class="s3">\n            </span><span class="s1">cell: '',</span><span class="s3">\n            </span><span class="s1">row: '',</span><span class="s3">\n            </span><span class="s1">col: []</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">_this.hasColor = false;</span><span class="s3">\n        </span><span class="s1">return _this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">ColorArrayItem.prototype.EndEntry = function () {</span><span class="s3">\n        </span><span class="s1">_super.prototype.EndEntry.call(this);</span><span class="s3">\n        </span><span class="s1">var cell = this.row[this.row.length - 1];</span><span class="s3">\n        </span><span class="s1">var color = this.color.cell || this.color.row || this.color.col[this.row.length - 1];</span><span class="s3">\n        </span><span class="s1">if (color) {</span><span class="s3">\n            </span><span class="s1">cell.attributes.set('mathbackground', color);</span><span class="s3">\n            </span><span class="s1">this.color.cell = '';</span><span class="s3">\n            </span><span class="s1">this.hasColor = true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">ColorArrayItem.prototype.EndRow = function () {</span><span class="s3">\n        </span><span class="s1">_super.prototype.EndRow.call(this);</span><span class="s3">\n        </span><span class="s1">this.color.row = '';</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">ColorArrayItem.prototype.createMml = function () {</span><span class="s3">\n        </span><span class="s1">var mml = _super.prototype.createMml.call(this);</span><span class="s3">\n        </span><span class="s1">var table = (mml.isKind('mrow') ? mml.childNodes[1] : mml);</span><span class="s3">\n        </span><span class="s1">if (table.isKind('menclose')) {</span><span class="s3">\n            </span><span class="s1">table = table.childNodes[0].childNodes[0];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.hasColor &amp;&amp; table.attributes.get('frame') === 'none') {</span><span class="s3">\n            </span><span class="s1">table.attributes.set('frame', '');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return mml;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return ColorArrayItem;</span><span class="s3">\n</span><span class="s1">}(BaseItems_js_1.ArrayItem));</span><span class="s3">\n</span><span class="s1">exports.ColorArrayItem = ColorArrayItem;</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('colortbl', {</span><span class="s3">\n    </span><span class="s1">cellcolor: ['TableColor', 'cell'],</span><span class="s3">\n    </span><span class="s1">rowcolor: ['TableColor', 'row'],</span><span class="s3">\n    </span><span class="s1">columncolor: ['TableColor', 'col']</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n    </span><span class="s1">TableColor: function (parser, name, type) {</span><span class="s3">\n        </span><span class="s1">var lookup = parser.configuration.packageData.get('color').model;</span><span class="s3">\n        </span><span class="s1">var model = parser.GetBrackets(name, '');</span><span class="s3">\n        </span><span class="s1">var color = lookup.getColor(model, parser.GetArgument(name));</span><span class="s3">\n        </span><span class="s1">var top = parser.stack.Top();</span><span class="s3">\n        </span><span class="s1">if (!(top instanceof ColorArrayItem)) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('UnsupportedTableColor', 'Unsupported use of %1', parser.currentCS);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (type === 'col') {</span><span class="s3">\n            </span><span class="s1">if (top.table.length) {</span><span class="s3">\n                </span><span class="s1">throw new TexError_js_1.default('ColumnColorNotTop', '%1 must be in the top row', name);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">top.color.col[top.row.length] = color;</span><span class="s3">\n            </span><span class="s1">if (parser.GetBrackets(name, '')) {</span><span class="s3">\n                </span><span class="s1">parser.GetBrackets(name, '');</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">top.color[type] = color;</span><span class="s3">\n            </span><span class="s1">if (type === 'row' &amp;&amp; (top.Size() || top.row.length)) {</span><span class="s3">\n                </span><span class="s1">throw new TexError_js_1.default('RowColorNotFirst', '%1 must be at the beginning of a row', name);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var config = function (config, jax) {</span><span class="s3">\n    </span><span class="s1">if (!jax.parseOptions.packageData.has('color')) {</span><span class="s3">\n        </span><span class="s1">Configuration_js_1.ConfigurationHandler.get('color').config(config, jax);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.ColortblConfiguration = Configuration_js_1.Configuration.create('colortbl', {</span><span class="s3">\n    </span><span class="s1">handler: { macro: ['colortbl'] },</span><span class="s3">\n    </span><span class="s1">items: { 'array': ColorArrayItem },</span><span class="s3">\n    </span><span class="s1">priority: 10,</span><span class="s3">\n    </span><span class="s1">config: [config, 10]</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=ColortblConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.ColorConfiguration = exports.ColorV2Methods = void 0;</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">exports.ColorV2Methods = {</span><span class="s3">\n    </span><span class="s1">Color: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var color = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">var old = parser.stack.env['color'];</span><span class="s3">\n        </span><span class="s1">parser.stack.env['color'] = color;</span><span class="s3">\n        </span><span class="s1">var math = parser.ParseArg(name);</span><span class="s3">\n        </span><span class="s1">if (old) {</span><span class="s3">\n            </span><span class="s1">parser.stack.env['color'] = old;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">delete parser.stack.env['color'];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var node = parser.create('node', 'mstyle', [math], { mathcolor: color });</span><span class="s3">\n        </span><span class="s1">parser.Push(node);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('colorv2', { color: 'Color' }, exports.ColorV2Methods);</span><span class="s3">\n</span><span class="s1">exports.ColorConfiguration = Configuration_js_1.Configuration.create('colorv2', { handler: { macro: ['colorv2'] } });</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=ColorV2Configuration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __values = (this &amp;&amp; this.__values) || function(o) {</span><span class="s3">\n    </span><span class="s1">var s = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Symbol.iterator, m = s &amp;&amp; o[s], i = 0;</span><span class="s3">\n    </span><span class="s1">if (m) return m.call(o);</span><span class="s3">\n    </span><span class="s1">if (o &amp;&amp; typeof o.length === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) return {</span><span class="s3">\n        </span><span class="s1">next: function () {</span><span class="s3">\n            </span><span class="s1">if (o &amp;&amp; i &gt;= o.length) o = void 0;</span><span class="s3">\n            </span><span class="s1">return { value: o &amp;&amp; o[i++], done: !o };</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">throw new TypeError(s ? </span><span class="s3">\&quot;</span><span class="s1">Object is not iterable.</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Symbol.iterator is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var _a;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.ConfigMacrosConfiguration = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var Options_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../../util/Options.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ParseMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var Symbol_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Symbol.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var NewcommandMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../newcommand/NewcommandMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var NewcommandItems_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../newcommand/NewcommandItems.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var MACROSMAP = 'configmacros-map';</span><span class="s3">\n</span><span class="s1">var ENVIRONMENTMAP = 'configmacros-env-map';</span><span class="s3">\n</span><span class="s1">function configmacrosInit(config) {</span><span class="s3">\n    </span><span class="s1">new SymbolMap_js_1.CommandMap(MACROSMAP, {}, {});</span><span class="s3">\n    </span><span class="s1">new SymbolMap_js_1.EnvironmentMap(ENVIRONMENTMAP, ParseMethods_js_1.default.environment, {}, {});</span><span class="s3">\n    </span><span class="s1">config.append(Configuration_js_1.Configuration.local({</span><span class="s3">\n        </span><span class="s1">handler: {</span><span class="s3">\n            </span><span class="s1">macro: [MACROSMAP],</span><span class="s3">\n            </span><span class="s1">environment: [ENVIRONMENTMAP]</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">priority: 3</span><span class="s3">\n    </span><span class="s1">}));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function configmacrosConfig(_config, jax) {</span><span class="s3">\n    </span><span class="s1">configMacros(jax);</span><span class="s3">\n    </span><span class="s1">configEnvironments(jax);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function configMacros(jax) {</span><span class="s3">\n    </span><span class="s1">var e_1, _a;</span><span class="s3">\n    </span><span class="s1">var handler = jax.parseOptions.handlers.retrieve(MACROSMAP);</span><span class="s3">\n    </span><span class="s1">var macros = jax.parseOptions.options.macros;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">for (var _b = __values(Object.keys(macros)), _c = _b.next(); !_c.done; _c = _b.next()) {</span><span class="s3">\n            </span><span class="s1">var cs = _c.value;</span><span class="s3">\n            </span><span class="s1">var def = (typeof macros[cs] === 'string' ? [macros[cs]] : macros[cs]);</span><span class="s3">\n            </span><span class="s1">var macro = Array.isArray(def[2]) ?</span><span class="s3">\n                </span><span class="s1">new Symbol_js_1.Macro(cs, NewcommandMethods_js_1.default.MacroWithTemplate, def.slice(0, 2).concat(def[2])) :</span><span class="s3">\n                </span><span class="s1">new Symbol_js_1.Macro(cs, NewcommandMethods_js_1.default.Macro, def);</span><span class="s3">\n            </span><span class="s1">handler.add(cs, macro);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (e_1_1) { e_1 = { error: e_1_1 }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (_c &amp;&amp; !_c.done &amp;&amp; (_a = _b.return)) _a.call(_b);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e_1) throw e_1.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function configEnvironments(jax) {</span><span class="s3">\n    </span><span class="s1">var e_2, _a;</span><span class="s3">\n    </span><span class="s1">var handler = jax.parseOptions.handlers.retrieve(ENVIRONMENTMAP);</span><span class="s3">\n    </span><span class="s1">var environments = jax.parseOptions.options.environments;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">for (var _b = __values(Object.keys(environments)), _c = _b.next(); !_c.done; _c = _b.next()) {</span><span class="s3">\n            </span><span class="s1">var env = _c.value;</span><span class="s3">\n            </span><span class="s1">handler.add(env, new Symbol_js_1.Macro(env, NewcommandMethods_js_1.default.BeginEnv, [true].concat(environments[env])));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (e_2_1) { e_2 = { error: e_2_1 }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (_c &amp;&amp; !_c.done &amp;&amp; (_a = _b.return)) _a.call(_b);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e_2) throw e_2.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">exports.ConfigMacrosConfiguration = Configuration_js_1.Configuration.create('configmacros', {</span><span class="s3">\n    </span><span class="s1">init: configmacrosInit,</span><span class="s3">\n    </span><span class="s1">config: configmacrosConfig,</span><span class="s3">\n    </span><span class="s1">items: (_a = {},</span><span class="s3">\n        </span><span class="s1">_a[NewcommandItems_js_1.BeginEnvItem.prototype.kind] = NewcommandItems_js_1.BeginEnvItem,</span><span class="s3">\n        </span><span class="s1">_a),</span><span class="s3">\n    </span><span class="s1">options: {</span><span class="s3">\n        </span><span class="s1">macros: (0, Options_js_1.expandable)({}),</span><span class="s3">\n        </span><span class="s1">environments: (0, Options_js_1.expandable)({})</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=ConfigMacrosConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __extends = (this &amp;&amp; this.__extends) || (function () {</span><span class="s3">\n    </span><span class="s1">var extendStatics = function (d, b) {</span><span class="s3">\n        </span><span class="s1">extendStatics = Object.setPrototypeOf ||</span><span class="s3">\n            </span><span class="s1">({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||</span><span class="s3">\n            </span><span class="s1">function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };</span><span class="s3">\n        </span><span class="s1">return extendStatics(d, b);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return function (d, b) {</span><span class="s3">\n        </span><span class="s1">if (typeof b !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; b !== null)</span><span class="s3">\n            </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Class extends value </span><span class="s3">\&quot; </span><span class="s1">+ String(b) + </span><span class="s3">\&quot; </span><span class="s1">is not a constructor or null</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">extendStatics(d, b);</span><span class="s3">\n        </span><span class="s1">function __() { this.constructor = d; }</span><span class="s3">\n        </span><span class="s1">d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">var __read = (this &amp;&amp; this.__read) || function (o, n) {</span><span class="s3">\n    </span><span class="s1">var m = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; o[Symbol.iterator];</span><span class="s3">\n    </span><span class="s1">if (!m) return o;</span><span class="s3">\n    </span><span class="s1">var i = m.call(o), r, ar = [], e;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">while ((n === void 0 || n-- &gt; 0) &amp;&amp; !(r = i.next()).done) ar.push(r.value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (error) { e = { error: error }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (r &amp;&amp; !r.done &amp;&amp; (m = i[</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">])) m.call(i);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e) throw e.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return ar;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var _a;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.EmpheqConfiguration = exports.EmpheqMethods = exports.EmpheqBeginItem = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var BaseItems_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../base/BaseItems.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var EmpheqUtil_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./EmpheqUtil.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var EmpheqBeginItem = (function (_super) {</span><span class="s3">\n    </span><span class="s1">__extends(EmpheqBeginItem, _super);</span><span class="s3">\n    </span><span class="s1">function EmpheqBeginItem() {</span><span class="s3">\n        </span><span class="s1">return _super !== null &amp;&amp; _super.apply(this, arguments) || this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(EmpheqBeginItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">kind</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n        </span><span class="s1">get: function () {</span><span class="s3">\n            </span><span class="s1">return 'empheq-begin';</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">enumerable: false,</span><span class="s3">\n        </span><span class="s1">configurable: true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">EmpheqBeginItem.prototype.checkItem = function (item) {</span><span class="s3">\n        </span><span class="s1">if (item.isKind('end') &amp;&amp; item.getName() === this.getName()) {</span><span class="s3">\n            </span><span class="s1">this.setProperty('end', false);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return _super.prototype.checkItem.call(this, item);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return EmpheqBeginItem;</span><span class="s3">\n</span><span class="s1">}(BaseItems_js_1.BeginItem));</span><span class="s3">\n</span><span class="s1">exports.EmpheqBeginItem = EmpheqBeginItem;</span><span class="s3">\n</span><span class="s1">exports.EmpheqMethods = {</span><span class="s3">\n    </span><span class="s1">Empheq: function (parser, begin) {</span><span class="s3">\n        </span><span class="s1">if (parser.stack.env.closing === begin.getName()) {</span><span class="s3">\n            </span><span class="s1">delete parser.stack.env.closing;</span><span class="s3">\n            </span><span class="s1">parser.Push(parser.itemFactory.create('end').setProperty('name', parser.stack.global.empheq));</span><span class="s3">\n            </span><span class="s1">parser.stack.global.empheq = '';</span><span class="s3">\n            </span><span class="s1">var empheq = parser.stack.Top();</span><span class="s3">\n            </span><span class="s1">EmpheqUtil_js_1.EmpheqUtil.adjustTable(empheq, parser);</span><span class="s3">\n            </span><span class="s1">parser.Push(parser.itemFactory.create('end').setProperty('name', 'empheq'));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">ParseUtil_js_1.default.checkEqnEnv(parser);</span><span class="s3">\n            </span><span class="s1">delete parser.stack.global.eqnenv;</span><span class="s3">\n            </span><span class="s1">var opts = parser.GetBrackets('</span><span class="s3">\\\\</span><span class="s1">begin{' + begin.getName() + '}') || '';</span><span class="s3">\n            </span><span class="s1">var _a = __read((parser.GetArgument('</span><span class="s3">\\\\</span><span class="s1">begin{' + begin.getName() + '}') || '').split(/=/), 2), env = _a[0], n = _a[1];</span><span class="s3">\n            </span><span class="s1">if (!EmpheqUtil_js_1.EmpheqUtil.checkEnv(env)) {</span><span class="s3">\n                </span><span class="s1">throw new TexError_js_1.default('UnknownEnv', 'Unknown environment </span><span class="s3">\&quot;</span><span class="s1">%1</span><span class="s3">\&quot;</span><span class="s1">', env);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (opts) {</span><span class="s3">\n                </span><span class="s1">begin.setProperties(EmpheqUtil_js_1.EmpheqUtil.splitOptions(opts, { left: 1, right: 1 }));</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">parser.stack.global.empheq = env;</span><span class="s3">\n            </span><span class="s1">parser.string = '</span><span class="s3">\\\\</span><span class="s1">begin{' + env + '}' + (n ? '{' + n + '}' : '') + parser.string.slice(parser.i);</span><span class="s3">\n            </span><span class="s1">parser.i = 0;</span><span class="s3">\n            </span><span class="s1">parser.Push(begin);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">EmpheqMO: function (parser, _name, c) {</span><span class="s3">\n        </span><span class="s1">parser.Push(parser.create('token', 'mo', {}, c));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">EmpheqDelim: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var c = parser.GetDelimiter(name);</span><span class="s3">\n        </span><span class="s1">parser.Push(parser.create('token', 'mo', { stretchy: true, symmetric: true }, c));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.EnvironmentMap('empheq-env', EmpheqUtil_js_1.EmpheqUtil.environment, {</span><span class="s3">\n    </span><span class="s1">empheq: ['Empheq', 'empheq'],</span><span class="s3">\n</span><span class="s1">}, exports.EmpheqMethods);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('empheq-macros', {</span><span class="s3">\n    </span><span class="s1">empheqlbrace: ['EmpheqMO', '{'],</span><span class="s3">\n    </span><span class="s1">empheqrbrace: ['EmpheqMO', '}'],</span><span class="s3">\n    </span><span class="s1">empheqlbrack: ['EmpheqMO', '['],</span><span class="s3">\n    </span><span class="s1">empheqrbrack: ['EmpheqMO', ']'],</span><span class="s3">\n    </span><span class="s1">empheqlangle: ['EmpheqMO', '</span><span class="s3">\\</span><span class="s1">u27E8'],</span><span class="s3">\n    </span><span class="s1">empheqrangle: ['EmpheqMO', '</span><span class="s3">\\</span><span class="s1">u27E9'],</span><span class="s3">\n    </span><span class="s1">empheqlparen: ['EmpheqMO', '('],</span><span class="s3">\n    </span><span class="s1">empheqrparen: ['EmpheqMO', ')'],</span><span class="s3">\n    </span><span class="s1">empheqlvert: ['EmpheqMO', '|'],</span><span class="s3">\n    </span><span class="s1">empheqrvert: ['EmpheqMO', '|'],</span><span class="s3">\n    </span><span class="s1">empheqlVert: ['EmpheqMO', '</span><span class="s3">\\</span><span class="s1">u2016'],</span><span class="s3">\n    </span><span class="s1">empheqrVert: ['EmpheqMO', '</span><span class="s3">\\</span><span class="s1">u2016'],</span><span class="s3">\n    </span><span class="s1">empheqlfloor: ['EmpheqMO', '</span><span class="s3">\\</span><span class="s1">u230A'],</span><span class="s3">\n    </span><span class="s1">empheqrfloor: ['EmpheqMO', '</span><span class="s3">\\</span><span class="s1">u230B'],</span><span class="s3">\n    </span><span class="s1">empheqlceil: ['EmpheqMO', '</span><span class="s3">\\</span><span class="s1">u2308'],</span><span class="s3">\n    </span><span class="s1">empheqrceil: ['EmpheqMO', '</span><span class="s3">\\</span><span class="s1">u2309'],</span><span class="s3">\n    </span><span class="s1">empheqbiglbrace: ['EmpheqMO', '{'],</span><span class="s3">\n    </span><span class="s1">empheqbigrbrace: ['EmpheqMO', '}'],</span><span class="s3">\n    </span><span class="s1">empheqbiglbrack: ['EmpheqMO', '['],</span><span class="s3">\n    </span><span class="s1">empheqbigrbrack: ['EmpheqMO', ']'],</span><span class="s3">\n    </span><span class="s1">empheqbiglangle: ['EmpheqMO', '</span><span class="s3">\\</span><span class="s1">u27E8'],</span><span class="s3">\n    </span><span class="s1">empheqbigrangle: ['EmpheqMO', '</span><span class="s3">\\</span><span class="s1">u27E9'],</span><span class="s3">\n    </span><span class="s1">empheqbiglparen: ['EmpheqMO', '('],</span><span class="s3">\n    </span><span class="s1">empheqbigrparen: ['EmpheqMO', ')'],</span><span class="s3">\n    </span><span class="s1">empheqbiglvert: ['EmpheqMO', '|'],</span><span class="s3">\n    </span><span class="s1">empheqbigrvert: ['EmpheqMO', '|'],</span><span class="s3">\n    </span><span class="s1">empheqbiglVert: ['EmpheqMO', '</span><span class="s3">\\</span><span class="s1">u2016'],</span><span class="s3">\n    </span><span class="s1">empheqbigrVert: ['EmpheqMO', '</span><span class="s3">\\</span><span class="s1">u2016'],</span><span class="s3">\n    </span><span class="s1">empheqbiglfloor: ['EmpheqMO', '</span><span class="s3">\\</span><span class="s1">u230A'],</span><span class="s3">\n    </span><span class="s1">empheqbigrfloor: ['EmpheqMO', '</span><span class="s3">\\</span><span class="s1">u230B'],</span><span class="s3">\n    </span><span class="s1">empheqbiglceil: ['EmpheqMO', '</span><span class="s3">\\</span><span class="s1">u2308'],</span><span class="s3">\n    </span><span class="s1">empheqbigrceil: ['EmpheqMO', '</span><span class="s3">\\</span><span class="s1">u2309'],</span><span class="s3">\n    </span><span class="s1">empheql: 'EmpheqDelim',</span><span class="s3">\n    </span><span class="s1">empheqr: 'EmpheqDelim',</span><span class="s3">\n    </span><span class="s1">empheqbigl: 'EmpheqDelim',</span><span class="s3">\n    </span><span class="s1">empheqbigr: 'EmpheqDelim'</span><span class="s3">\n</span><span class="s1">}, exports.EmpheqMethods);</span><span class="s3">\n</span><span class="s1">exports.EmpheqConfiguration = Configuration_js_1.Configuration.create('empheq', {</span><span class="s3">\n    </span><span class="s1">handler: {</span><span class="s3">\n        </span><span class="s1">macro: ['empheq-macros'],</span><span class="s3">\n        </span><span class="s1">environment: ['empheq-env'],</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">items: (_a = {},</span><span class="s3">\n        </span><span class="s1">_a[EmpheqBeginItem.prototype.kind] = EmpheqBeginItem,</span><span class="s3">\n        </span><span class="s1">_a)</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=EmpheqConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __read = (this &amp;&amp; this.__read) || function (o, n) {</span><span class="s3">\n    </span><span class="s1">var m = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; o[Symbol.iterator];</span><span class="s3">\n    </span><span class="s1">if (!m) return o;</span><span class="s3">\n    </span><span class="s1">var i = m.call(o), r, ar = [], e;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">while ((n === void 0 || n-- &gt; 0) &amp;&amp; !(r = i.next()).done) ar.push(r.value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (error) { e = { error: error }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (r &amp;&amp; !r.done &amp;&amp; (m = i[</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">])) m.call(i);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e) throw e.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return ar;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __spreadArray = (this &amp;&amp; this.__spreadArray) || function (to, from, pack) {</span><span class="s3">\n    </span><span class="s1">if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i &lt; l; i++) {</span><span class="s3">\n        </span><span class="s1">if (ar || !(i in from)) {</span><span class="s3">\n            </span><span class="s1">if (!ar) ar = Array.prototype.slice.call(from, 0, i);</span><span class="s3">\n            </span><span class="s1">ar[i] = from[i];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return to.concat(ar || Array.prototype.slice.call(from));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __values = (this &amp;&amp; this.__values) || function(o) {</span><span class="s3">\n    </span><span class="s1">var s = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Symbol.iterator, m = s &amp;&amp; o[s], i = 0;</span><span class="s3">\n    </span><span class="s1">if (m) return m.call(o);</span><span class="s3">\n    </span><span class="s1">if (o &amp;&amp; typeof o.length === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) return {</span><span class="s3">\n        </span><span class="s1">next: function () {</span><span class="s3">\n            </span><span class="s1">if (o &amp;&amp; i &gt;= o.length) o = void 0;</span><span class="s3">\n            </span><span class="s1">return { value: o &amp;&amp; o[i++], done: !o };</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">throw new TypeError(s ? </span><span class="s3">\&quot;</span><span class="s1">Object is not iterable.</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Symbol.iterator is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.EmpheqUtil = void 0;</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexParser_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexParser.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">exports.EmpheqUtil = {</span><span class="s3">\n    </span><span class="s1">environment: function (parser, env, func, args) {</span><span class="s3">\n        </span><span class="s1">var name = args[0];</span><span class="s3">\n        </span><span class="s1">var item = parser.itemFactory.create(name + '-begin').setProperties({ name: env, end: name });</span><span class="s3">\n        </span><span class="s1">parser.Push(func.apply(void 0, __spreadArray([parser, item], __read(args.slice(1)), false)));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">splitOptions: function (text, allowed) {</span><span class="s3">\n        </span><span class="s1">if (allowed === void 0) { allowed = null; }</span><span class="s3">\n        </span><span class="s1">return ParseUtil_js_1.default.keyvalOptions(text, allowed, true);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">columnCount: function (table) {</span><span class="s3">\n        </span><span class="s1">var e_1, _a;</span><span class="s3">\n        </span><span class="s1">var m = 0;</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">for (var _b = __values(table.childNodes), _c = _b.next(); !_c.done; _c = _b.next()) {</span><span class="s3">\n                </span><span class="s1">var row = _c.value;</span><span class="s3">\n                </span><span class="s1">var n = row.childNodes.length - (row.isKind('mlabeledtr') ? 1 : 0);</span><span class="s3">\n                </span><span class="s1">if (n &gt; m)</span><span class="s3">\n                    </span><span class="s1">m = n;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">catch (e_1_1) { e_1 = { error: e_1_1 }; }</span><span class="s3">\n        </span><span class="s1">finally {</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">if (_c &amp;&amp; !_c.done &amp;&amp; (_a = _b.return)) _a.call(_b);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">finally { if (e_1) throw e_1.error; }</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return m;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">cellBlock: function (tex, table, parser, env) {</span><span class="s3">\n        </span><span class="s1">var e_2, _a;</span><span class="s3">\n        </span><span class="s1">var mpadded = parser.create('node', 'mpadded', [], { height: 0, depth: 0, voffset: '-1height' });</span><span class="s3">\n        </span><span class="s1">var result = new TexParser_js_1.default(tex, parser.stack.env, parser.configuration);</span><span class="s3">\n        </span><span class="s1">var mml = result.mml();</span><span class="s3">\n        </span><span class="s1">if (env &amp;&amp; result.configuration.tags.label) {</span><span class="s3">\n            </span><span class="s1">result.configuration.tags.currentTag.env = env;</span><span class="s3">\n            </span><span class="s1">result.configuration.tags.getTag(true);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">for (var _b = __values((mml.isInferred ? mml.childNodes : [mml])), _c = _b.next(); !_c.done; _c = _b.next()) {</span><span class="s3">\n                </span><span class="s1">var child = _c.value;</span><span class="s3">\n                </span><span class="s1">mpadded.appendChild(child);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">catch (e_2_1) { e_2 = { error: e_2_1 }; }</span><span class="s3">\n        </span><span class="s1">finally {</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">if (_c &amp;&amp; !_c.done &amp;&amp; (_a = _b.return)) _a.call(_b);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">finally { if (e_2) throw e_2.error; }</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">mpadded.appendChild(parser.create('node', 'mphantom', [</span><span class="s3">\n            </span><span class="s1">parser.create('node', 'mpadded', [table], { width: 0 })</span><span class="s3">\n        </span><span class="s1">]));</span><span class="s3">\n        </span><span class="s1">return mpadded;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">topRowTable: function (original, parser) {</span><span class="s3">\n        </span><span class="s1">var table = ParseUtil_js_1.default.copyNode(original, parser);</span><span class="s3">\n        </span><span class="s1">table.setChildren(table.childNodes.slice(0, 1));</span><span class="s3">\n        </span><span class="s1">table.attributes.set('align', 'baseline 1');</span><span class="s3">\n        </span><span class="s1">return original.factory.create('mphantom', {}, [parser.create('node', 'mpadded', [table], { width: 0 })]);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">rowspanCell: function (mtd, tex, table, parser, env) {</span><span class="s3">\n        </span><span class="s1">mtd.appendChild(parser.create('node', 'mpadded', [</span><span class="s3">\n            </span><span class="s1">this.cellBlock(tex, ParseUtil_js_1.default.copyNode(table, parser), parser, env),</span><span class="s3">\n            </span><span class="s1">this.topRowTable(table, parser)</span><span class="s3">\n        </span><span class="s1">], { height: 0, depth: 0, voffset: 'height' }));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">left: function (table, original, left, parser, env) {</span><span class="s3">\n        </span><span class="s1">var e_3, _a;</span><span class="s3">\n        </span><span class="s1">if (env === void 0) { env = ''; }</span><span class="s3">\n        </span><span class="s1">table.attributes.set('columnalign', 'right ' + (table.attributes.get('columnalign') || ''));</span><span class="s3">\n        </span><span class="s1">table.attributes.set('columnspacing', '0em ' + (table.attributes.get('columnspacing') || ''));</span><span class="s3">\n        </span><span class="s1">var mtd;</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">for (var _b = __values(table.childNodes.slice(0).reverse()), _c = _b.next(); !_c.done; _c = _b.next()) {</span><span class="s3">\n                </span><span class="s1">var row = _c.value;</span><span class="s3">\n                </span><span class="s1">mtd = parser.create('node', 'mtd');</span><span class="s3">\n                </span><span class="s1">row.childNodes.unshift(mtd);</span><span class="s3">\n                </span><span class="s1">mtd.parent = row;</span><span class="s3">\n                </span><span class="s1">if (row.isKind('mlabeledtr')) {</span><span class="s3">\n                    </span><span class="s1">row.childNodes[0] = row.childNodes[1];</span><span class="s3">\n                    </span><span class="s1">row.childNodes[1] = mtd;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">catch (e_3_1) { e_3 = { error: e_3_1 }; }</span><span class="s3">\n        </span><span class="s1">finally {</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">if (_c &amp;&amp; !_c.done &amp;&amp; (_a = _b.return)) _a.call(_b);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">finally { if (e_3) throw e_3.error; }</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.rowspanCell(mtd, left, original, parser, env);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">right: function (table, original, right, parser, env) {</span><span class="s3">\n        </span><span class="s1">if (env === void 0) { env = ''; }</span><span class="s3">\n        </span><span class="s1">if (table.childNodes.length === 0) {</span><span class="s3">\n            </span><span class="s1">table.appendChild(parser.create('node', 'mtr'));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var m = exports.EmpheqUtil.columnCount(table);</span><span class="s3">\n        </span><span class="s1">var row = table.childNodes[0];</span><span class="s3">\n        </span><span class="s1">while (row.childNodes.length &lt; m)</span><span class="s3">\n            </span><span class="s1">row.appendChild(parser.create('node', 'mtd'));</span><span class="s3">\n        </span><span class="s1">var mtd = row.appendChild(parser.create('node', 'mtd'));</span><span class="s3">\n        </span><span class="s1">exports.EmpheqUtil.rowspanCell(mtd, right, original, parser, env);</span><span class="s3">\n        </span><span class="s1">table.attributes.set('columnalign', (table.attributes.get('columnalign') || '').split(/ /).slice(0, m).join(' ') + ' left');</span><span class="s3">\n        </span><span class="s1">table.attributes.set('columnspacing', (table.attributes.get('columnspacing') || '').split(/ /).slice(0, m - 1).join(' ') + ' 0em');</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">adjustTable: function (empheq, parser) {</span><span class="s3">\n        </span><span class="s1">var left = empheq.getProperty('left');</span><span class="s3">\n        </span><span class="s1">var right = empheq.getProperty('right');</span><span class="s3">\n        </span><span class="s1">if (left || right) {</span><span class="s3">\n            </span><span class="s1">var table = empheq.Last;</span><span class="s3">\n            </span><span class="s1">var original = ParseUtil_js_1.default.copyNode(table, parser);</span><span class="s3">\n            </span><span class="s1">if (left)</span><span class="s3">\n                </span><span class="s1">this.left(table, original, left, parser);</span><span class="s3">\n            </span><span class="s1">if (right)</span><span class="s3">\n                </span><span class="s1">this.right(table, original, right, parser);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">allowEnv: {</span><span class="s3">\n        </span><span class="s1">equation: true,</span><span class="s3">\n        </span><span class="s1">align: true,</span><span class="s3">\n        </span><span class="s1">gather: true,</span><span class="s3">\n        </span><span class="s1">flalign: true,</span><span class="s3">\n        </span><span class="s1">alignat: true,</span><span class="s3">\n        </span><span class="s1">multline: true</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">checkEnv: function (env) {</span><span class="s3">\n        </span><span class="s1">return this.allowEnv.hasOwnProperty(env.replace(/</span><span class="s3">\\</span><span class="s1">*$/, '')) || false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=EmpheqUtil.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.EncloseConfiguration = exports.EncloseMethods = exports.ENCLOSE_OPTIONS = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">exports.ENCLOSE_OPTIONS = {</span><span class="s3">\n    </span><span class="s1">'data-arrowhead': 1,</span><span class="s3">\n    </span><span class="s1">color: 1,</span><span class="s3">\n    </span><span class="s1">mathcolor: 1,</span><span class="s3">\n    </span><span class="s1">background: 1,</span><span class="s3">\n    </span><span class="s1">mathbackground: 1,</span><span class="s3">\n    </span><span class="s1">'data-padding': 1,</span><span class="s3">\n    </span><span class="s1">'data-thickness': 1</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.EncloseMethods = {};</span><span class="s3">\n</span><span class="s1">exports.EncloseMethods.Enclose = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var notation = parser.GetArgument(name).replace(/,/g, ' ');</span><span class="s3">\n    </span><span class="s1">var attr = parser.GetBrackets(name, '');</span><span class="s3">\n    </span><span class="s1">var math = parser.ParseArg(name);</span><span class="s3">\n    </span><span class="s1">var def = ParseUtil_js_1.default.keyvalOptions(attr, exports.ENCLOSE_OPTIONS);</span><span class="s3">\n    </span><span class="s1">def.notation = notation;</span><span class="s3">\n    </span><span class="s1">parser.Push(parser.create('node', 'menclose', [math], def));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('enclose', { enclose: 'Enclose' }, exports.EncloseMethods);</span><span class="s3">\n</span><span class="s1">exports.EncloseConfiguration = Configuration_js_1.Configuration.create('enclose', { handler: { macro: ['enclose'] } });</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=EncloseConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.ExtpfeilConfiguration = exports.ExtpfeilMethods = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var AmsMethods_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../ams/AmsMethods.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var NewcommandUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../newcommand/NewcommandUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var NewcommandConfiguration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../newcommand/NewcommandConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">exports.ExtpfeilMethods = {};</span><span class="s3">\n</span><span class="s1">exports.ExtpfeilMethods.xArrow = AmsMethods_js_1.AmsMethods.xArrow;</span><span class="s3">\n</span><span class="s1">exports.ExtpfeilMethods.NewExtArrow = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var cs = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var space = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var chr = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">if (!cs.match(/^</span><span class="s3">\\\\</span><span class="s1">([a-z]+|.)$/i)) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('NewextarrowArg1', 'First argument to %1 must be a control sequence name', name);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!space.match(/^(</span><span class="s3">\\</span><span class="s1">d+),(</span><span class="s3">\\</span><span class="s1">d+)$/)) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('NewextarrowArg2', 'Second argument to %1 must be two integers separated by a comma', name);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!chr.match(/^(</span><span class="s3">\\</span><span class="s1">d+|0x[0-9A-F]+)$/i)) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('NewextarrowArg3', 'Third argument to %1 must be a unicode character number', name);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">cs = cs.substr(1);</span><span class="s3">\n    </span><span class="s1">var spaces = space.split(',');</span><span class="s3">\n    </span><span class="s1">NewcommandUtil_js_1.default.addMacro(parser, cs, exports.ExtpfeilMethods.xArrow, [parseInt(chr), parseInt(spaces[0]), parseInt(spaces[1])]);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('extpfeil', {</span><span class="s3">\n    </span><span class="s1">xtwoheadrightarrow: ['xArrow', 0x21A0, 12, 16],</span><span class="s3">\n    </span><span class="s1">xtwoheadleftarrow: ['xArrow', 0x219E, 17, 13],</span><span class="s3">\n    </span><span class="s1">xmapsto: ['xArrow', 0x21A6, 6, 7],</span><span class="s3">\n    </span><span class="s1">xlongequal: ['xArrow', 0x003D, 7, 7],</span><span class="s3">\n    </span><span class="s1">xtofrom: ['xArrow', 0x21C4, 12, 12],</span><span class="s3">\n    </span><span class="s1">Newextarrow: 'NewExtArrow'</span><span class="s3">\n</span><span class="s1">}, exports.ExtpfeilMethods);</span><span class="s3">\n</span><span class="s1">var init = function (config) {</span><span class="s3">\n    </span><span class="s1">NewcommandConfiguration_js_1.NewcommandConfiguration.init(config);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.ExtpfeilConfiguration = Configuration_js_1.Configuration.create('extpfeil', {</span><span class="s3">\n    </span><span class="s1">handler: { macro: ['extpfeil'] },</span><span class="s3">\n    </span><span class="s1">init: init</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=ExtpfeilConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.GensymbConfiguration = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TexConstants_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../TexConstants.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function mathcharUnit(parser, mchar) {</span><span class="s3">\n    </span><span class="s1">var def = mchar.attributes || {};</span><span class="s3">\n    </span><span class="s1">def.mathvariant = TexConstants_js_1.TexConstant.Variant.NORMAL;</span><span class="s3">\n    </span><span class="s1">def.class = 'MathML-Unit';</span><span class="s3">\n    </span><span class="s1">var node = parser.create('token', 'mi', def, mchar.char);</span><span class="s3">\n    </span><span class="s1">parser.Push(node);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CharacterMap('gensymb-symbols', mathcharUnit, {</span><span class="s3">\n    </span><span class="s1">ohm: '</span><span class="s3">\\</span><span class="s1">u2126',</span><span class="s3">\n    </span><span class="s1">degree: '</span><span class="s3">\\</span><span class="s1">u00B0',</span><span class="s3">\n    </span><span class="s1">celsius: '</span><span class="s3">\\</span><span class="s1">u2103',</span><span class="s3">\n    </span><span class="s1">perthousand: '</span><span class="s3">\\</span><span class="s1">u2030',</span><span class="s3">\n    </span><span class="s1">micro: '</span><span class="s3">\\</span><span class="s1">u00B5'</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">exports.GensymbConfiguration = Configuration_js_1.Configuration.create('gensymb', {</span><span class="s3">\n    </span><span class="s1">handler: { macro: ['gensymb-symbols'] },</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=GensymbConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.HtmlConfiguration = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var HtmlMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">./HtmlMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('html_macros', {</span><span class="s3">\n    </span><span class="s1">href: 'Href',</span><span class="s3">\n    </span><span class="s1">'class': 'Class',</span><span class="s3">\n    </span><span class="s1">style: 'Style',</span><span class="s3">\n    </span><span class="s1">cssId: 'Id'</span><span class="s3">\n</span><span class="s1">}, HtmlMethods_js_1.default);</span><span class="s3">\n</span><span class="s1">exports.HtmlConfiguration = Configuration_js_1.Configuration.create('html', { handler: { macro: ['html_macros'] } });</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=HtmlConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">var NodeUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../NodeUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var HtmlMethods = {};</span><span class="s3">\n</span><span class="s1">HtmlMethods.Href = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var url = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var arg = GetArgumentMML(parser, name);</span><span class="s3">\n    </span><span class="s1">NodeUtil_js_1.default.setAttribute(arg, 'href', url);</span><span class="s3">\n    </span><span class="s1">parser.Push(arg);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">HtmlMethods.Class = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var CLASS = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var arg = GetArgumentMML(parser, name);</span><span class="s3">\n    </span><span class="s1">var oldClass = NodeUtil_js_1.default.getAttribute(arg, 'class');</span><span class="s3">\n    </span><span class="s1">if (oldClass) {</span><span class="s3">\n        </span><span class="s1">CLASS = oldClass + ' ' + CLASS;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">NodeUtil_js_1.default.setAttribute(arg, 'class', CLASS);</span><span class="s3">\n    </span><span class="s1">parser.Push(arg);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">HtmlMethods.Style = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var style = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var arg = GetArgumentMML(parser, name);</span><span class="s3">\n    </span><span class="s1">var oldStyle = NodeUtil_js_1.default.getAttribute(arg, 'style');</span><span class="s3">\n    </span><span class="s1">if (oldStyle) {</span><span class="s3">\n        </span><span class="s1">if (style.charAt(style.length - 1) !== ';') {</span><span class="s3">\n            </span><span class="s1">style += ';';</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">style = oldStyle + ' ' + style;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">NodeUtil_js_1.default.setAttribute(arg, 'style', style);</span><span class="s3">\n    </span><span class="s1">parser.Push(arg);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">HtmlMethods.Id = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var ID = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var arg = GetArgumentMML(parser, name);</span><span class="s3">\n    </span><span class="s1">NodeUtil_js_1.default.setAttribute(arg, 'id', ID);</span><span class="s3">\n    </span><span class="s1">parser.Push(arg);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var GetArgumentMML = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var arg = parser.ParseArg(name);</span><span class="s3">\n    </span><span class="s1">if (!NodeUtil_js_1.default.isInferred(arg)) {</span><span class="s3">\n        </span><span class="s1">return arg;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var children = NodeUtil_js_1.default.getChildren(arg);</span><span class="s3">\n    </span><span class="s1">if (children.length === 1) {</span><span class="s3">\n        </span><span class="s1">return children[0];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var mrow = parser.create('node', 'mrow');</span><span class="s3">\n    </span><span class="s1">NodeUtil_js_1.default.copyChildren(arg, mrow);</span><span class="s3">\n    </span><span class="s1">NodeUtil_js_1.default.copyAttributes(arg, mrow);</span><span class="s3">\n    </span><span class="s1">return mrow;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.default = HtmlMethods;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=HtmlMethods.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __values = (this &amp;&amp; this.__values) || function(o) {</span><span class="s3">\n    </span><span class="s1">var s = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Symbol.iterator, m = s &amp;&amp; o[s], i = 0;</span><span class="s3">\n    </span><span class="s1">if (m) return m.call(o);</span><span class="s3">\n    </span><span class="s1">if (o &amp;&amp; typeof o.length === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) return {</span><span class="s3">\n        </span><span class="s1">next: function () {</span><span class="s3">\n            </span><span class="s1">if (o &amp;&amp; i &gt;= o.length) o = void 0;</span><span class="s3">\n            </span><span class="s1">return { value: o &amp;&amp; o[i++], done: !o };</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">throw new TypeError(s ? </span><span class="s3">\&quot;</span><span class="s1">Object is not iterable.</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Symbol.iterator is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var _a;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.MathtoolsConfiguration = exports.fixPrescripts = exports.PAIREDDELIMS = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var NodeUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../NodeUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var Options_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../../util/Options.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./MathtoolsMappings.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var MathtoolsUtil_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./MathtoolsUtil.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var MathtoolsTags_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./MathtoolsTags.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var MathtoolsItems_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./MathtoolsItems.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">exports.PAIREDDELIMS = 'mathtools-paired-delims';</span><span class="s3">\n</span><span class="s1">function initMathtools(config) {</span><span class="s3">\n    </span><span class="s1">new SymbolMap_js_1.CommandMap(exports.PAIREDDELIMS, {}, {});</span><span class="s3">\n    </span><span class="s1">config.append(Configuration_js_1.Configuration.local({ handler: { macro: [exports.PAIREDDELIMS] }, priority: -5 }));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function configMathtools(config, jax) {</span><span class="s3">\n    </span><span class="s1">var e_1, _a;</span><span class="s3">\n    </span><span class="s1">var parser = jax.parseOptions;</span><span class="s3">\n    </span><span class="s1">var pairedDelims = parser.options.mathtools.pairedDelimiters;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">for (var _b = __values(Object.keys(pairedDelims)), _c = _b.next(); !_c.done; _c = _b.next()) {</span><span class="s3">\n            </span><span class="s1">var cs = _c.value;</span><span class="s3">\n            </span><span class="s1">MathtoolsUtil_js_1.MathtoolsUtil.addPairedDelims(parser, cs, pairedDelims[cs]);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (e_1_1) { e_1 = { error: e_1_1 }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (_c &amp;&amp; !_c.done &amp;&amp; (_a = _b.return)) _a.call(_b);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e_1) throw e_1.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">(0, MathtoolsTags_js_1.MathtoolsTagFormat)(config, jax);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function fixPrescripts(_a) {</span><span class="s3">\n    </span><span class="s1">var e_2, _b, e_3, _c, e_4, _d;</span><span class="s3">\n    </span><span class="s1">var data = _a.data;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">for (var _e = __values(data.getList('mmultiscripts')), _f = _e.next(); !_f.done; _f = _e.next()) {</span><span class="s3">\n            </span><span class="s1">var node = _f.value;</span><span class="s3">\n            </span><span class="s1">if (!node.getProperty('fixPrescript'))</span><span class="s3">\n                </span><span class="s1">continue;</span><span class="s3">\n            </span><span class="s1">var childNodes = NodeUtil_js_1.default.getChildren(node);</span><span class="s3">\n            </span><span class="s1">var n = 0;</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">for (var _g = (e_3 = void 0, __values([1, 2])), _h = _g.next(); !_h.done; _h = _g.next()) {</span><span class="s3">\n                    </span><span class="s1">var i = _h.value;</span><span class="s3">\n                    </span><span class="s1">if (!childNodes[i]) {</span><span class="s3">\n                        </span><span class="s1">NodeUtil_js_1.default.setChild(node, i, data.nodeFactory.create('node', 'none'));</span><span class="s3">\n                        </span><span class="s1">n++;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">catch (e_3_1) { e_3 = { error: e_3_1 }; }</span><span class="s3">\n            </span><span class="s1">finally {</span><span class="s3">\n                </span><span class="s1">try {</span><span class="s3">\n                    </span><span class="s1">if (_h &amp;&amp; !_h.done &amp;&amp; (_c = _g.return)) _c.call(_g);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">finally { if (e_3) throw e_3.error; }</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">for (var _j = (e_4 = void 0, __values([4, 5])), _k = _j.next(); !_k.done; _k = _j.next()) {</span><span class="s3">\n                    </span><span class="s1">var i = _k.value;</span><span class="s3">\n                    </span><span class="s1">if (NodeUtil_js_1.default.isType(childNodes[i], 'mrow') &amp;&amp; NodeUtil_js_1.default.getChildren(childNodes[i]).length === 0) {</span><span class="s3">\n                        </span><span class="s1">NodeUtil_js_1.default.setChild(node, i, data.nodeFactory.create('node', 'none'));</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">catch (e_4_1) { e_4 = { error: e_4_1 }; }</span><span class="s3">\n            </span><span class="s1">finally {</span><span class="s3">\n                </span><span class="s1">try {</span><span class="s3">\n                    </span><span class="s1">if (_k &amp;&amp; !_k.done &amp;&amp; (_d = _j.return)) _d.call(_j);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">finally { if (e_4) throw e_4.error; }</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (n === 2) {</span><span class="s3">\n                </span><span class="s1">childNodes.splice(1, 2);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (e_2_1) { e_2 = { error: e_2_1 }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (_f &amp;&amp; !_f.done &amp;&amp; (_b = _e.return)) _b.call(_e);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e_2) throw e_2.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">exports.fixPrescripts = fixPrescripts;</span><span class="s3">\n</span><span class="s1">exports.MathtoolsConfiguration = Configuration_js_1.Configuration.create('mathtools', {</span><span class="s3">\n    </span><span class="s1">handler: {</span><span class="s3">\n        </span><span class="s1">macro: ['mathtools-macros', 'mathtools-delimiters'],</span><span class="s3">\n        </span><span class="s1">environment: ['mathtools-environments'],</span><span class="s3">\n        </span><span class="s1">delimiter: ['mathtools-delimiters'],</span><span class="s3">\n        </span><span class="s1">character: ['mathtools-characters']</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">items: (_a = {},</span><span class="s3">\n        </span><span class="s1">_a[MathtoolsItems_js_1.MultlinedItem.prototype.kind] = MathtoolsItems_js_1.MultlinedItem,</span><span class="s3">\n        </span><span class="s1">_a),</span><span class="s3">\n    </span><span class="s1">init: initMathtools,</span><span class="s3">\n    </span><span class="s1">config: configMathtools,</span><span class="s3">\n    </span><span class="s1">postprocessors: [[fixPrescripts, -6]],</span><span class="s3">\n    </span><span class="s1">options: {</span><span class="s3">\n        </span><span class="s1">mathtools: {</span><span class="s3">\n            </span><span class="s1">'multlinegap': '1em',</span><span class="s3">\n            </span><span class="s1">'multlined-pos': 'c',</span><span class="s3">\n            </span><span class="s1">'firstline-afterskip': '',</span><span class="s3">\n            </span><span class="s1">'lastline-preskip': '',</span><span class="s3">\n            </span><span class="s1">'smallmatrix-align': 'c',</span><span class="s3">\n            </span><span class="s1">'shortvdotsadjustabove': '.2em',</span><span class="s3">\n            </span><span class="s1">'shortvdotsadjustbelow': '.2em',</span><span class="s3">\n            </span><span class="s1">'centercolon': false,</span><span class="s3">\n            </span><span class="s1">'centercolon-offset': '.04em',</span><span class="s3">\n            </span><span class="s1">'thincolon-dx': '-.04em',</span><span class="s3">\n            </span><span class="s1">'thincolon-dw': '-.08em',</span><span class="s3">\n            </span><span class="s1">'use-unicode': false,</span><span class="s3">\n            </span><span class="s1">'prescript-sub-format': '',</span><span class="s3">\n            </span><span class="s1">'prescript-sup-format': '',</span><span class="s3">\n            </span><span class="s1">'prescript-arg-format': '',</span><span class="s3">\n            </span><span class="s1">'allow-mathtoolsset': true,</span><span class="s3">\n            </span><span class="s1">pairedDelimiters: (0, Options_js_1.expandable)({}),</span><span class="s3">\n            </span><span class="s1">tagforms: (0, Options_js_1.expandable)({}),</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=MathtoolsConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __extends = (this &amp;&amp; this.__extends) || (function () {</span><span class="s3">\n    </span><span class="s1">var extendStatics = function (d, b) {</span><span class="s3">\n        </span><span class="s1">extendStatics = Object.setPrototypeOf ||</span><span class="s3">\n            </span><span class="s1">({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||</span><span class="s3">\n            </span><span class="s1">function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };</span><span class="s3">\n        </span><span class="s1">return extendStatics(d, b);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return function (d, b) {</span><span class="s3">\n        </span><span class="s1">if (typeof b !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; b !== null)</span><span class="s3">\n            </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Class extends value </span><span class="s3">\&quot; </span><span class="s1">+ String(b) + </span><span class="s3">\&quot; </span><span class="s1">is not a constructor or null</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">extendStatics(d, b);</span><span class="s3">\n        </span><span class="s1">function __() { this.constructor = d; }</span><span class="s3">\n        </span><span class="s1">d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.MultlinedItem = void 0;</span><span class="s3">\n</span><span class="s1">var AmsItems_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../ams/AmsItems.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var NodeUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../NodeUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexConstants_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../TexConstants.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var MultlinedItem = (function (_super) {</span><span class="s3">\n    </span><span class="s1">__extends(MultlinedItem, _super);</span><span class="s3">\n    </span><span class="s1">function MultlinedItem() {</span><span class="s3">\n        </span><span class="s1">return _super !== null &amp;&amp; _super.apply(this, arguments) || this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(MultlinedItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">kind</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n        </span><span class="s1">get: function () {</span><span class="s3">\n            </span><span class="s1">return 'multlined';</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">enumerable: false,</span><span class="s3">\n        </span><span class="s1">configurable: true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">MultlinedItem.prototype.EndTable = function () {</span><span class="s3">\n        </span><span class="s1">if (this.Size() || this.row.length) {</span><span class="s3">\n            </span><span class="s1">this.EndEntry();</span><span class="s3">\n            </span><span class="s1">this.EndRow();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.table.length &gt; 1) {</span><span class="s3">\n            </span><span class="s1">var options = this.factory.configuration.options.mathtools;</span><span class="s3">\n            </span><span class="s1">var gap = options.multlinegap;</span><span class="s3">\n            </span><span class="s1">var firstskip = options['firstline-afterskip'] || gap;</span><span class="s3">\n            </span><span class="s1">var lastskip = options['lastline-preskip'] || gap;</span><span class="s3">\n            </span><span class="s1">var first = NodeUtil_js_1.default.getChildren(this.table[0])[0];</span><span class="s3">\n            </span><span class="s1">if (NodeUtil_js_1.default.getAttribute(first, 'columnalign') !== TexConstants_js_1.TexConstant.Align.RIGHT) {</span><span class="s3">\n                </span><span class="s1">first.appendChild(this.create('node', 'mspace', [], { width: firstskip }));</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">var last = NodeUtil_js_1.default.getChildren(this.table[this.table.length - 1])[0];</span><span class="s3">\n            </span><span class="s1">if (NodeUtil_js_1.default.getAttribute(last, 'columnalign') !== TexConstants_js_1.TexConstant.Align.LEFT) {</span><span class="s3">\n                </span><span class="s1">var top_1 = NodeUtil_js_1.default.getChildren(last)[0];</span><span class="s3">\n                </span><span class="s1">top_1.childNodes.unshift(null);</span><span class="s3">\n                </span><span class="s1">var space = this.create('node', 'mspace', [], { width: lastskip });</span><span class="s3">\n                </span><span class="s1">NodeUtil_js_1.default.setChild(top_1, 0, space);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">_super.prototype.EndTable.call(this);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return MultlinedItem;</span><span class="s3">\n</span><span class="s1">}(AmsItems_js_1.MultlineItem));</span><span class="s3">\n</span><span class="s1">exports.MultlinedItem = MultlinedItem;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=MathtoolsItems.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">var ParseMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TexConstants_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../TexConstants.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var MathtoolsMethods_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./MathtoolsMethods.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('mathtools-macros', {</span><span class="s3">\n    </span><span class="s1">shoveleft: ['HandleShove', TexConstants_js_1.TexConstant.Align.LEFT],</span><span class="s3">\n    </span><span class="s1">shoveright: ['HandleShove', TexConstants_js_1.TexConstant.Align.RIGHT],</span><span class="s3">\n    </span><span class="s1">xleftrightarrow: ['xArrow', 0x2194, 10, 10],</span><span class="s3">\n    </span><span class="s1">xLeftarrow: ['xArrow', 0x21D0, 12, 7],</span><span class="s3">\n    </span><span class="s1">xRightarrow: ['xArrow', 0x21D2, 7, 12],</span><span class="s3">\n    </span><span class="s1">xLeftrightarrow: ['xArrow', 0x21D4, 12, 12],</span><span class="s3">\n    </span><span class="s1">xhookleftarrow: ['xArrow', 0x21A9, 10, 5],</span><span class="s3">\n    </span><span class="s1">xhookrightarrow: ['xArrow', 0x21AA, 5, 10],</span><span class="s3">\n    </span><span class="s1">xmapsto: ['xArrow', 0x21A6, 10, 10],</span><span class="s3">\n    </span><span class="s1">xrightharpoondown: ['xArrow', 0x21C1, 5, 10],</span><span class="s3">\n    </span><span class="s1">xleftharpoondown: ['xArrow', 0x21BD, 10, 5],</span><span class="s3">\n    </span><span class="s1">xrightleftharpoons: ['xArrow', 0x21CC, 10, 10],</span><span class="s3">\n    </span><span class="s1">xrightharpoonup: ['xArrow', 0x21C0, 5, 10],</span><span class="s3">\n    </span><span class="s1">xleftharpoonup: ['xArrow', 0x21BC, 10, 5],</span><span class="s3">\n    </span><span class="s1">xleftrightharpoons: ['xArrow', 0x21CB, 10, 10],</span><span class="s3">\n    </span><span class="s1">mathllap: ['MathLap', 'l', false],</span><span class="s3">\n    </span><span class="s1">mathrlap: ['MathLap', 'r', false],</span><span class="s3">\n    </span><span class="s1">mathclap: ['MathLap', 'c', false],</span><span class="s3">\n    </span><span class="s1">clap: ['MtLap', 'c'],</span><span class="s3">\n    </span><span class="s1">textllap: ['MtLap', 'l'],</span><span class="s3">\n    </span><span class="s1">textrlap: ['MtLap', 'r'],</span><span class="s3">\n    </span><span class="s1">textclap: ['MtLap', 'c'],</span><span class="s3">\n    </span><span class="s1">cramped: 'Cramped',</span><span class="s3">\n    </span><span class="s1">crampedllap: ['MathLap', 'l', true],</span><span class="s3">\n    </span><span class="s1">crampedrlap: ['MathLap', 'r', true],</span><span class="s3">\n    </span><span class="s1">crampedclap: ['MathLap', 'c', true],</span><span class="s3">\n    </span><span class="s1">crampedsubstack: ['Macro', '</span><span class="s3">\\\\</span><span class="s1">begin{crampedsubarray}{c}#1</span><span class="s3">\\\\</span><span class="s1">end{crampedsubarray}', 1],</span><span class="s3">\n    </span><span class="s1">mathmbox: 'MathMBox',</span><span class="s3">\n    </span><span class="s1">mathmakebox: 'MathMakeBox',</span><span class="s3">\n    </span><span class="s1">overbracket: 'UnderOverBracket',</span><span class="s3">\n    </span><span class="s1">underbracket: 'UnderOverBracket',</span><span class="s3">\n    </span><span class="s1">refeq: 'HandleRef',</span><span class="s3">\n    </span><span class="s1">MoveEqLeft: ['Macro', '</span><span class="s3">\\\\</span><span class="s1">hspace{#1em}&amp;</span><span class="s3">\\\\</span><span class="s1">hspace{-#1em}', 1, '2'],</span><span class="s3">\n    </span><span class="s1">Aboxed: 'Aboxed',</span><span class="s3">\n    </span><span class="s1">ArrowBetweenLines: 'ArrowBetweenLines',</span><span class="s3">\n    </span><span class="s1">vdotswithin: 'VDotsWithin',</span><span class="s3">\n    </span><span class="s1">shortvdotswithin: 'ShortVDotsWithin',</span><span class="s3">\n    </span><span class="s1">MTFlushSpaceAbove: 'FlushSpaceAbove',</span><span class="s3">\n    </span><span class="s1">MTFlushSpaceBelow: 'FlushSpaceBelow',</span><span class="s3">\n    </span><span class="s1">DeclarePairedDelimiter: 'DeclarePairedDelimiter',</span><span class="s3">\n    </span><span class="s1">DeclarePairedDelimiterX: 'DeclarePairedDelimiterX',</span><span class="s3">\n    </span><span class="s1">DeclarePairedDelimiterXPP: 'DeclarePairedDelimiterXPP',</span><span class="s3">\n    </span><span class="s1">DeclarePairedDelimiters: 'DeclarePairedDelimiter',</span><span class="s3">\n    </span><span class="s1">DeclarePairedDelimitersX: 'DeclarePairedDelimiterX',</span><span class="s3">\n    </span><span class="s1">DeclarePairedDelimitersXPP: 'DeclarePairedDelimiterXPP',</span><span class="s3">\n    </span><span class="s1">centercolon: ['CenterColon', true, true],</span><span class="s3">\n    </span><span class="s1">ordinarycolon: ['CenterColon', false],</span><span class="s3">\n    </span><span class="s1">MTThinColon: ['CenterColon', true, true, true],</span><span class="s3">\n    </span><span class="s1">coloneqq: ['Relation', ':=', '</span><span class="s3">\\</span><span class="s1">u2254'],</span><span class="s3">\n    </span><span class="s1">Coloneqq: ['Relation', '::=', '</span><span class="s3">\\</span><span class="s1">u2A74'],</span><span class="s3">\n    </span><span class="s1">coloneq: ['Relation', ':-'],</span><span class="s3">\n    </span><span class="s1">Coloneq: ['Relation', '::-'],</span><span class="s3">\n    </span><span class="s1">eqqcolon: ['Relation', '=:', '</span><span class="s3">\\</span><span class="s1">u2255'],</span><span class="s3">\n    </span><span class="s1">Eqqcolon: ['Relation', '=::'],</span><span class="s3">\n    </span><span class="s1">eqcolon: ['Relation', '-:', '</span><span class="s3">\\</span><span class="s1">u2239'],</span><span class="s3">\n    </span><span class="s1">Eqcolon: ['Relation', '-::'],</span><span class="s3">\n    </span><span class="s1">colonapprox: ['Relation', ':</span><span class="s3">\\\\</span><span class="s1">approx'],</span><span class="s3">\n    </span><span class="s1">Colonapprox: ['Relation', '::</span><span class="s3">\\\\</span><span class="s1">approx'],</span><span class="s3">\n    </span><span class="s1">colonsim: ['Relation', ':</span><span class="s3">\\\\</span><span class="s1">sim'],</span><span class="s3">\n    </span><span class="s1">Colonsim: ['Relation', '::</span><span class="s3">\\\\</span><span class="s1">sim'],</span><span class="s3">\n    </span><span class="s1">dblcolon: ['Relation', '::', '</span><span class="s3">\\</span><span class="s1">u2237'],</span><span class="s3">\n    </span><span class="s1">nuparrow: ['NArrow', '</span><span class="s3">\\</span><span class="s1">u2191', '.06em'],</span><span class="s3">\n    </span><span class="s1">ndownarrow: ['NArrow', '</span><span class="s3">\\</span><span class="s1">u2193', '.25em'],</span><span class="s3">\n    </span><span class="s1">bigtimes: ['Macro', '</span><span class="s3">\\\\</span><span class="s1">mathop{</span><span class="s3">\\\\</span><span class="s1">Large</span><span class="s3">\\\\</span><span class="s1">kern-.1em</span><span class="s3">\\\\</span><span class="s1">boldsymbol{</span><span class="s3">\\\\</span><span class="s1">times}</span><span class="s3">\\\\</span><span class="s1">kern-.1em}'],</span><span class="s3">\n    </span><span class="s1">splitfrac: ['SplitFrac', false],</span><span class="s3">\n    </span><span class="s1">splitdfrac: ['SplitFrac', true],</span><span class="s3">\n    </span><span class="s1">xmathstrut: 'XMathStrut',</span><span class="s3">\n    </span><span class="s1">prescript: 'Prescript',</span><span class="s3">\n    </span><span class="s1">newtagform: ['NewTagForm', false],</span><span class="s3">\n    </span><span class="s1">renewtagform: ['NewTagForm', true],</span><span class="s3">\n    </span><span class="s1">usetagform: 'UseTagForm',</span><span class="s3">\n    </span><span class="s1">adjustlimits: [</span><span class="s3">\n        </span><span class="s1">'MacroWithTemplate',</span><span class="s3">\n        </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">mathop{{#1}</span><span class="s3">\\\\</span><span class="s1">vphantom{{#3}}}_{{#2}</span><span class="s3">\\\\</span><span class="s1">vphantom{{#4}}}</span><span class="s3">\\\\</span><span class="s1">mathop{{#3}</span><span class="s3">\\\\</span><span class="s1">vphantom{{#1}}}_{{#4}</span><span class="s3">\\\\</span><span class="s1">vphantom{{#2}}}',</span><span class="s3">\n        </span><span class="s1">4, , '_', , '_'</span><span class="s3">\n    </span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">mathtoolsset: 'SetOptions'</span><span class="s3">\n</span><span class="s1">}, MathtoolsMethods_js_1.MathtoolsMethods);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.EnvironmentMap('mathtools-environments', ParseMethods_js_1.default.environment, {</span><span class="s3">\n    </span><span class="s1">dcases: ['Array', null, '</span><span class="s3">\\\\</span><span class="s1">{', '', 'll', null, '.2em', 'D'],</span><span class="s3">\n    </span><span class="s1">rcases: ['Array', null, '', '</span><span class="s3">\\\\</span><span class="s1">}', 'll', null, '.2em'],</span><span class="s3">\n    </span><span class="s1">drcases: ['Array', null, '', '</span><span class="s3">\\\\</span><span class="s1">}', 'll', null, '.2em', 'D'],</span><span class="s3">\n    </span><span class="s1">'dcases*': ['Cases', null, '{', '', 'D'],</span><span class="s3">\n    </span><span class="s1">'rcases*': ['Cases', null, '', '}'],</span><span class="s3">\n    </span><span class="s1">'drcases*': ['Cases', null, '', '}', 'D'],</span><span class="s3">\n    </span><span class="s1">'cases*': ['Cases', null, '{', ''],</span><span class="s3">\n    </span><span class="s1">'matrix*': ['MtMatrix', null, null, null],</span><span class="s3">\n    </span><span class="s1">'pmatrix*': ['MtMatrix', null, '(', ')'],</span><span class="s3">\n    </span><span class="s1">'bmatrix*': ['MtMatrix', null, '[', ']'],</span><span class="s3">\n    </span><span class="s1">'Bmatrix*': ['MtMatrix', null, '</span><span class="s3">\\\\</span><span class="s1">{', '</span><span class="s3">\\\\</span><span class="s1">}'],</span><span class="s3">\n    </span><span class="s1">'vmatrix*': ['MtMatrix', null, '</span><span class="s3">\\\\</span><span class="s1">vert', '</span><span class="s3">\\\\</span><span class="s1">vert'],</span><span class="s3">\n    </span><span class="s1">'Vmatrix*': ['MtMatrix', null, '</span><span class="s3">\\\\</span><span class="s1">Vert', '</span><span class="s3">\\\\</span><span class="s1">Vert'],</span><span class="s3">\n    </span><span class="s1">'smallmatrix*': ['MtSmallMatrix', null, null, null],</span><span class="s3">\n    </span><span class="s1">psmallmatrix: ['MtSmallMatrix', null, '(', ')', 'c'],</span><span class="s3">\n    </span><span class="s1">'psmallmatrix*': ['MtSmallMatrix', null, '(', ')'],</span><span class="s3">\n    </span><span class="s1">bsmallmatrix: ['MtSmallMatrix', null, '[', ']', 'c'],</span><span class="s3">\n    </span><span class="s1">'bsmallmatrix*': ['MtSmallMatrix', null, '[', ']'],</span><span class="s3">\n    </span><span class="s1">Bsmallmatrix: ['MtSmallMatrix', null, '</span><span class="s3">\\\\</span><span class="s1">{', '</span><span class="s3">\\\\</span><span class="s1">}', 'c'],</span><span class="s3">\n    </span><span class="s1">'Bsmallmatrix*': ['MtSmallMatrix', null, '</span><span class="s3">\\\\</span><span class="s1">{', '</span><span class="s3">\\\\</span><span class="s1">}'],</span><span class="s3">\n    </span><span class="s1">vsmallmatrix: ['MtSmallMatrix', null, '</span><span class="s3">\\\\</span><span class="s1">vert', '</span><span class="s3">\\\\</span><span class="s1">vert', 'c'],</span><span class="s3">\n    </span><span class="s1">'vsmallmatrix*': ['MtSmallMatrix', null, '</span><span class="s3">\\\\</span><span class="s1">vert', '</span><span class="s3">\\\\</span><span class="s1">vert'],</span><span class="s3">\n    </span><span class="s1">Vsmallmatrix: ['MtSmallMatrix', null, '</span><span class="s3">\\\\</span><span class="s1">Vert', '</span><span class="s3">\\\\</span><span class="s1">Vert', 'c'],</span><span class="s3">\n    </span><span class="s1">'Vsmallmatrix*': ['MtSmallMatrix', null, '</span><span class="s3">\\\\</span><span class="s1">Vert', '</span><span class="s3">\\\\</span><span class="s1">Vert'],</span><span class="s3">\n    </span><span class="s1">crampedsubarray: ['Array', null, null, null, null, '0em', '0.1em', 'S</span><span class="s3">\\</span><span class="s1">'', 1],</span><span class="s3">\n    </span><span class="s1">multlined: 'MtMultlined',</span><span class="s3">\n    </span><span class="s1">spreadlines: ['SpreadLines', true],</span><span class="s3">\n    </span><span class="s1">lgathered: ['AmsEqnArray', null, null, null, 'l', null, '.5em', 'D'],</span><span class="s3">\n    </span><span class="s1">rgathered: ['AmsEqnArray', null, null, null, 'r', null, '.5em', 'D'],</span><span class="s3">\n</span><span class="s1">}, MathtoolsMethods_js_1.MathtoolsMethods);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.DelimiterMap('mathtools-delimiters', ParseMethods_js_1.default.delimiter, {</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">lparen': '(',</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">rparen': ')'</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('mathtools-characters', {</span><span class="s3">\n    </span><span class="s1">':': ['CenterColon', true]</span><span class="s3">\n</span><span class="s1">}, MathtoolsMethods_js_1.MathtoolsMethods);</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=MathtoolsMappings.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __assign = (this &amp;&amp; this.__assign) || function () {</span><span class="s3">\n    </span><span class="s1">__assign = Object.assign || function(t) {</span><span class="s3">\n        </span><span class="s1">for (var s, i = 1, n = arguments.length; i &lt; n; i++) {</span><span class="s3">\n            </span><span class="s1">s = arguments[i];</span><span class="s3">\n            </span><span class="s1">for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))</span><span class="s3">\n                </span><span class="s1">t[p] = s[p];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return t;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return __assign.apply(this, arguments);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __read = (this &amp;&amp; this.__read) || function (o, n) {</span><span class="s3">\n    </span><span class="s1">var m = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; o[Symbol.iterator];</span><span class="s3">\n    </span><span class="s1">if (!m) return o;</span><span class="s3">\n    </span><span class="s1">var i = m.call(o), r, ar = [], e;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">while ((n === void 0 || n-- &gt; 0) &amp;&amp; !(r = i.next()).done) ar.push(r.value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (error) { e = { error: error }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (r &amp;&amp; !r.done &amp;&amp; (m = i[</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">])) m.call(i);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e) throw e.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return ar;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __values = (this &amp;&amp; this.__values) || function(o) {</span><span class="s3">\n    </span><span class="s1">var s = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Symbol.iterator, m = s &amp;&amp; o[s], i = 0;</span><span class="s3">\n    </span><span class="s1">if (m) return m.call(o);</span><span class="s3">\n    </span><span class="s1">if (o &amp;&amp; typeof o.length === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) return {</span><span class="s3">\n        </span><span class="s1">next: function () {</span><span class="s3">\n            </span><span class="s1">if (o &amp;&amp; i &gt;= o.length) o = void 0;</span><span class="s3">\n            </span><span class="s1">return { value: o &amp;&amp; o[i++], done: !o };</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">throw new TypeError(s ? </span><span class="s3">\&quot;</span><span class="s1">Object is not iterable.</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Symbol.iterator is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.MathtoolsMethods = void 0;</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var AmsMethods_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../ams/AmsMethods.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var BaseMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../base/BaseMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexParser_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexParser.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var NodeUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../NodeUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var MmlNode_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../../core/MmlTree/MmlNode.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var lengths_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../../util/lengths.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var Options_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../../util/Options.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var NewcommandUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../newcommand/NewcommandUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var NewcommandMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../newcommand/NewcommandMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var MathtoolsUtil_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./MathtoolsUtil.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">exports.MathtoolsMethods = {</span><span class="s3">\n    </span><span class="s1">MtMatrix: function (parser, begin, open, close) {</span><span class="s3">\n        </span><span class="s1">var align = parser.GetBrackets(</span><span class="s3">\&quot;\\\\</span><span class="s1">begin{</span><span class="s3">\&quot;</span><span class="s1">.concat(begin.getName(), </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">), 'c');</span><span class="s3">\n        </span><span class="s1">return exports.MathtoolsMethods.Array(parser, begin, open, close, align);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">MtSmallMatrix: function (parser, begin, open, close, align) {</span><span class="s3">\n        </span><span class="s1">if (!align) {</span><span class="s3">\n            </span><span class="s1">align = parser.GetBrackets(</span><span class="s3">\&quot;\\\\</span><span class="s1">begin{</span><span class="s3">\&quot;</span><span class="s1">.concat(begin.getName(), </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">), parser.options.mathtools['smallmatrix-align']);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return exports.MathtoolsMethods.Array(parser, begin, open, close, align, ParseUtil_js_1.default.Em(1 / 3), '.2em', 'S', 1);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">MtMultlined: function (parser, begin) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">var name = </span><span class="s3">\&quot;\\\\</span><span class="s1">begin{</span><span class="s3">\&quot;</span><span class="s1">.concat(begin.getName(), </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">var pos = parser.GetBrackets(name, parser.options.mathtools['multlined-pos'] || 'c');</span><span class="s3">\n        </span><span class="s1">var width = pos ? parser.GetBrackets(name, '') : '';</span><span class="s3">\n        </span><span class="s1">if (pos &amp;&amp; !pos.match(/^[cbt]$/)) {</span><span class="s3">\n            </span><span class="s1">_a = __read([pos, width], 2), width = _a[0], pos = _a[1];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">parser.Push(begin);</span><span class="s3">\n        </span><span class="s1">var item = parser.itemFactory.create('multlined', parser, begin);</span><span class="s3">\n        </span><span class="s1">item.arraydef = {</span><span class="s3">\n            </span><span class="s1">displaystyle: true,</span><span class="s3">\n            </span><span class="s1">rowspacing: '.5em',</span><span class="s3">\n            </span><span class="s1">width: width || 'auto',</span><span class="s3">\n            </span><span class="s1">columnwidth: '100%',</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">return ParseUtil_js_1.default.setArrayAlign(item, pos || 'c');</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">HandleShove: function (parser, name, shove) {</span><span class="s3">\n        </span><span class="s1">var top = parser.stack.Top();</span><span class="s3">\n        </span><span class="s1">if (top.kind !== 'multline' &amp;&amp; top.kind !== 'multlined') {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('CommandInMultlined', '%1 can only appear within the multline or multlined environments', name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (top.Size()) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('CommandAtTheBeginingOfLine', '%1 must come at the beginning of the line', name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">top.setProperty('shove', shove);</span><span class="s3">\n        </span><span class="s1">var shift = parser.GetBrackets(name);</span><span class="s3">\n        </span><span class="s1">var mml = parser.ParseArg(name);</span><span class="s3">\n        </span><span class="s1">if (shift) {</span><span class="s3">\n            </span><span class="s1">var mrow = parser.create('node', 'mrow', []);</span><span class="s3">\n            </span><span class="s1">var mspace = parser.create('node', 'mspace', [], { width: shift });</span><span class="s3">\n            </span><span class="s1">if (shove === 'left') {</span><span class="s3">\n                </span><span class="s1">mrow.appendChild(mspace);</span><span class="s3">\n                </span><span class="s1">mrow.appendChild(mml);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">mrow.appendChild(mml);</span><span class="s3">\n                </span><span class="s1">mrow.appendChild(mspace);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">mml = mrow;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">parser.Push(mml);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">SpreadLines: function (parser, begin) {</span><span class="s3">\n        </span><span class="s1">var e_1, _a;</span><span class="s3">\n        </span><span class="s1">if (parser.stack.env.closing === begin.getName()) {</span><span class="s3">\n            </span><span class="s1">delete parser.stack.env.closing;</span><span class="s3">\n            </span><span class="s1">var top_1 = parser.stack.Pop();</span><span class="s3">\n            </span><span class="s1">var mml = top_1.toMml();</span><span class="s3">\n            </span><span class="s1">var spread = top_1.getProperty('spread');</span><span class="s3">\n            </span><span class="s1">if (mml.isInferred) {</span><span class="s3">\n                </span><span class="s1">try {</span><span class="s3">\n                    </span><span class="s1">for (var _b = __values(NodeUtil_js_1.default.getChildren(mml)), _c = _b.next(); !_c.done; _c = _b.next()) {</span><span class="s3">\n                        </span><span class="s1">var child = _c.value;</span><span class="s3">\n                        </span><span class="s1">MathtoolsUtil_js_1.MathtoolsUtil.spreadLines(child, spread);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">catch (e_1_1) { e_1 = { error: e_1_1 }; }</span><span class="s3">\n                </span><span class="s1">finally {</span><span class="s3">\n                    </span><span class="s1">try {</span><span class="s3">\n                        </span><span class="s1">if (_c &amp;&amp; !_c.done &amp;&amp; (_a = _b.return)) _a.call(_b);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">finally { if (e_1) throw e_1.error; }</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">MathtoolsUtil_js_1.MathtoolsUtil.spreadLines(mml, spread);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">parser.Push(mml);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">var spread = parser.GetDimen(</span><span class="s3">\&quot;\\\\</span><span class="s1">begin{</span><span class="s3">\&quot;</span><span class="s1">.concat(begin.getName(), </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n            </span><span class="s1">begin.setProperty('spread', spread);</span><span class="s3">\n            </span><span class="s1">parser.Push(begin);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">Cases: function (parser, begin, open, close, style) {</span><span class="s3">\n        </span><span class="s1">var array = parser.itemFactory.create('array').setProperty('casesEnv', begin.getName());</span><span class="s3">\n        </span><span class="s1">array.arraydef = {</span><span class="s3">\n            </span><span class="s1">rowspacing: '.2em',</span><span class="s3">\n            </span><span class="s1">columnspacing: '1em',</span><span class="s3">\n            </span><span class="s1">columnalign: 'left'</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">if (style === 'D') {</span><span class="s3">\n            </span><span class="s1">array.arraydef.displaystyle = true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">array.setProperties({ open: open, close: close });</span><span class="s3">\n        </span><span class="s1">parser.Push(begin);</span><span class="s3">\n        </span><span class="s1">return array;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">MathLap: function (parser, name, pos, cramped) {</span><span class="s3">\n        </span><span class="s1">var style = parser.GetBrackets(name, '').trim();</span><span class="s3">\n        </span><span class="s1">var mml = parser.create('node', 'mstyle', [</span><span class="s3">\n            </span><span class="s1">parser.create('node', 'mpadded', [parser.ParseArg(name)], __assign({ width: 0 }, (pos === 'r' ? {} : { lspace: (pos === 'l' ? '-1width' : '-.5width') })))</span><span class="s3">\n        </span><span class="s1">], { 'data-cramped': cramped });</span><span class="s3">\n        </span><span class="s1">MathtoolsUtil_js_1.MathtoolsUtil.setDisplayLevel(mml, style);</span><span class="s3">\n        </span><span class="s1">parser.Push(parser.create('node', 'TeXAtom', [mml]));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">Cramped: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var style = parser.GetBrackets(name, '').trim();</span><span class="s3">\n        </span><span class="s1">var arg = parser.ParseArg(name);</span><span class="s3">\n        </span><span class="s1">var mml = parser.create('node', 'mstyle', [arg], { 'data-cramped': true });</span><span class="s3">\n        </span><span class="s1">MathtoolsUtil_js_1.MathtoolsUtil.setDisplayLevel(mml, style);</span><span class="s3">\n        </span><span class="s1">parser.Push(mml);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">MtLap: function (parser, name, pos) {</span><span class="s3">\n        </span><span class="s1">var content = ParseUtil_js_1.default.internalMath(parser, parser.GetArgument(name), 0);</span><span class="s3">\n        </span><span class="s1">var mml = parser.create('node', 'mpadded', content, { width: 0 });</span><span class="s3">\n        </span><span class="s1">if (pos !== 'r') {</span><span class="s3">\n            </span><span class="s1">NodeUtil_js_1.default.setAttribute(mml, 'lspace', pos === 'l' ? '-1width' : '-.5width');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">parser.Push(mml);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">MathMakeBox: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var width = parser.GetBrackets(name);</span><span class="s3">\n        </span><span class="s1">var pos = parser.GetBrackets(name, 'c');</span><span class="s3">\n        </span><span class="s1">var mml = parser.create('node', 'mpadded', [parser.ParseArg(name)]);</span><span class="s3">\n        </span><span class="s1">if (width) {</span><span class="s3">\n            </span><span class="s1">NodeUtil_js_1.default.setAttribute(mml, 'width', width);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var align = (0, Options_js_1.lookup)(pos, { c: 'center', r: 'right' }, '');</span><span class="s3">\n        </span><span class="s1">if (align) {</span><span class="s3">\n            </span><span class="s1">NodeUtil_js_1.default.setAttribute(mml, 'data-align', align);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">parser.Push(mml);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">MathMBox: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">parser.Push(parser.create('node', 'mrow', [parser.ParseArg(name)]));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">UnderOverBracket: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var thickness = (0, lengths_js_1.length2em)(parser.GetBrackets(name, '.1em'), .1);</span><span class="s3">\n        </span><span class="s1">var height = parser.GetBrackets(name, '.2em');</span><span class="s3">\n        </span><span class="s1">var arg = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">var _a = __read((name.charAt(1) === 'o' ?</span><span class="s3">\n            </span><span class="s1">['over', 'accent', 'bottom'] :</span><span class="s3">\n            </span><span class="s1">['under', 'accentunder', 'top']), 3), pos = _a[0], accent = _a[1], border = _a[2];</span><span class="s3">\n        </span><span class="s1">var t = (0, lengths_js_1.em)(thickness);</span><span class="s3">\n        </span><span class="s1">var base = new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml();</span><span class="s3">\n        </span><span class="s1">var copy = new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml();</span><span class="s3">\n        </span><span class="s1">var script = parser.create('node', 'mpadded', [</span><span class="s3">\n            </span><span class="s1">parser.create('node', 'mphantom', [copy])</span><span class="s3">\n        </span><span class="s1">], {</span><span class="s3">\n            </span><span class="s1">style: </span><span class="s3">\&quot;</span><span class="s1">border: </span><span class="s3">\&quot;</span><span class="s1">.concat(t, </span><span class="s3">\&quot; </span><span class="s1">solid; border-</span><span class="s3">\&quot;</span><span class="s1">).concat(border, </span><span class="s3">\&quot;</span><span class="s1">: none</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n            </span><span class="s1">height: height,</span><span class="s3">\n            </span><span class="s1">depth: 0</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">var node = ParseUtil_js_1.default.underOver(parser, base, script, pos, true);</span><span class="s3">\n        </span><span class="s1">var munderover = NodeUtil_js_1.default.getChildAt(NodeUtil_js_1.default.getChildAt(node, 0), 0);</span><span class="s3">\n        </span><span class="s1">NodeUtil_js_1.default.setAttribute(munderover, accent, true);</span><span class="s3">\n        </span><span class="s1">parser.Push(node);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">Aboxed: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var top = MathtoolsUtil_js_1.MathtoolsUtil.checkAlignment(parser, name);</span><span class="s3">\n        </span><span class="s1">if (top.row.length % 2 === 1) {</span><span class="s3">\n            </span><span class="s1">top.row.push(parser.create('node', 'mtd', []));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var arg = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">var rest = parser.string.substr(parser.i);</span><span class="s3">\n        </span><span class="s1">parser.string = arg + '&amp;&amp;</span><span class="s3">\\\\</span><span class="s1">endAboxed';</span><span class="s3">\n        </span><span class="s1">parser.i = 0;</span><span class="s3">\n        </span><span class="s1">var left = parser.GetUpTo(name, '&amp;');</span><span class="s3">\n        </span><span class="s1">var right = parser.GetUpTo(name, '&amp;');</span><span class="s3">\n        </span><span class="s1">parser.GetUpTo(name, '</span><span class="s3">\\\\</span><span class="s1">endAboxed');</span><span class="s3">\n        </span><span class="s1">var tex = ParseUtil_js_1.default.substituteArgs(parser, [left, right], '</span><span class="s3">\\\\</span><span class="s1">rlap{</span><span class="s3">\\\\</span><span class="s1">boxed{#1{}#2}}</span><span class="s3">\\\\</span><span class="s1">kern.267em</span><span class="s3">\\\\</span><span class="s1">phantom{#1}&amp;</span><span class="s3">\\\\</span><span class="s1">phantom{{}#2}</span><span class="s3">\\\\</span><span class="s1">kern.267em');</span><span class="s3">\n        </span><span class="s1">parser.string = tex + rest;</span><span class="s3">\n        </span><span class="s1">parser.i = 0;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">ArrowBetweenLines: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var top = MathtoolsUtil_js_1.MathtoolsUtil.checkAlignment(parser, name);</span><span class="s3">\n        </span><span class="s1">if (top.Size() || top.row.length) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('BetweenLines', '%1 must be on a row by itself', name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var star = parser.GetStar();</span><span class="s3">\n        </span><span class="s1">var symbol = parser.GetBrackets(name, '</span><span class="s3">\\\\</span><span class="s1">Updownarrow');</span><span class="s3">\n        </span><span class="s1">if (star) {</span><span class="s3">\n            </span><span class="s1">top.EndEntry();</span><span class="s3">\n            </span><span class="s1">top.EndEntry();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var tex = (star ? '</span><span class="s3">\\\\</span><span class="s1">quad' + symbol : symbol + '</span><span class="s3">\\\\</span><span class="s1">quad');</span><span class="s3">\n        </span><span class="s1">var mml = new TexParser_js_1.default(tex, parser.stack.env, parser.configuration).mml();</span><span class="s3">\n        </span><span class="s1">parser.Push(mml);</span><span class="s3">\n        </span><span class="s1">top.EndEntry();</span><span class="s3">\n        </span><span class="s1">top.EndRow();</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">VDotsWithin: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var top = parser.stack.Top();</span><span class="s3">\n        </span><span class="s1">var isFlush = (top.getProperty('flushspaceabove') === top.table.length);</span><span class="s3">\n        </span><span class="s1">var arg = '</span><span class="s3">\\\\</span><span class="s1">mmlToken{mi}{}' + parser.GetArgument(name) + '</span><span class="s3">\\\\</span><span class="s1">mmlToken{mi}{}';</span><span class="s3">\n        </span><span class="s1">var base = new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml();</span><span class="s3">\n        </span><span class="s1">var mml = parser.create('node', 'mpadded', [</span><span class="s3">\n            </span><span class="s1">parser.create('node', 'mpadded', [</span><span class="s3">\n                </span><span class="s1">parser.create('node', 'mo', [</span><span class="s3">\n                    </span><span class="s1">parser.create('text', '</span><span class="s3">\\</span><span class="s1">u22EE')</span><span class="s3">\n                </span><span class="s1">])</span><span class="s3">\n            </span><span class="s1">], __assign({ width: 0, lspace: '-.5width' }, (isFlush ? { height: '-.6em', voffset: '-.18em' } : {}))),</span><span class="s3">\n            </span><span class="s1">parser.create('node', 'mphantom', [base])</span><span class="s3">\n        </span><span class="s1">], {</span><span class="s3">\n            </span><span class="s1">lspace: '.5width'</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">parser.Push(mml);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">ShortVDotsWithin: function (parser, _name) {</span><span class="s3">\n        </span><span class="s1">var top = parser.stack.Top();</span><span class="s3">\n        </span><span class="s1">var star = parser.GetStar();</span><span class="s3">\n        </span><span class="s1">exports.MathtoolsMethods.FlushSpaceAbove(parser, '</span><span class="s3">\\\\</span><span class="s1">MTFlushSpaceAbove');</span><span class="s3">\n        </span><span class="s1">!star &amp;&amp; top.EndEntry();</span><span class="s3">\n        </span><span class="s1">exports.MathtoolsMethods.VDotsWithin(parser, '</span><span class="s3">\\\\</span><span class="s1">vdotswithin');</span><span class="s3">\n        </span><span class="s1">star &amp;&amp; top.EndEntry();</span><span class="s3">\n        </span><span class="s1">exports.MathtoolsMethods.FlushSpaceBelow(parser, '</span><span class="s3">\\\\</span><span class="s1">MTFlushSpaceBelow');</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">FlushSpaceAbove: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var top = MathtoolsUtil_js_1.MathtoolsUtil.checkAlignment(parser, name);</span><span class="s3">\n        </span><span class="s1">top.setProperty('flushspaceabove', top.table.length);</span><span class="s3">\n        </span><span class="s1">top.addRowSpacing('-' + parser.options.mathtools['shortvdotsadjustabove']);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">FlushSpaceBelow: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var top = MathtoolsUtil_js_1.MathtoolsUtil.checkAlignment(parser, name);</span><span class="s3">\n        </span><span class="s1">top.Size() &amp;&amp; top.EndEntry();</span><span class="s3">\n        </span><span class="s1">top.EndRow();</span><span class="s3">\n        </span><span class="s1">top.addRowSpacing('-' + parser.options.mathtools['shortvdotsadjustbelow']);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">PairedDelimiters: function (parser, name, open, close, body, n, pre, post) {</span><span class="s3">\n        </span><span class="s1">if (body === void 0) { body = '#1'; }</span><span class="s3">\n        </span><span class="s1">if (n === void 0) { n = 1; }</span><span class="s3">\n        </span><span class="s1">if (pre === void 0) { pre = ''; }</span><span class="s3">\n        </span><span class="s1">if (post === void 0) { post = ''; }</span><span class="s3">\n        </span><span class="s1">var star = parser.GetStar();</span><span class="s3">\n        </span><span class="s1">var size = (star ? '' : parser.GetBrackets(name));</span><span class="s3">\n        </span><span class="s1">var _a = __read((star ? ['</span><span class="s3">\\\\</span><span class="s1">left', '</span><span class="s3">\\\\</span><span class="s1">right'] : size ? [size + 'l', size + 'r'] : ['', '']), 2), left = _a[0], right = _a[1];</span><span class="s3">\n        </span><span class="s1">var delim = (star ? '</span><span class="s3">\\\\</span><span class="s1">middle' : size || '');</span><span class="s3">\n        </span><span class="s1">if (n) {</span><span class="s3">\n            </span><span class="s1">var args = [];</span><span class="s3">\n            </span><span class="s1">for (var i = args.length; i &lt; n; i++) {</span><span class="s3">\n                </span><span class="s1">args.push(parser.GetArgument(name));</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">pre = ParseUtil_js_1.default.substituteArgs(parser, args, pre);</span><span class="s3">\n            </span><span class="s1">body = ParseUtil_js_1.default.substituteArgs(parser, args, body);</span><span class="s3">\n            </span><span class="s1">post = ParseUtil_js_1.default.substituteArgs(parser, args, post);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">body = body.replace(/</span><span class="s3">\\\\</span><span class="s1">delimsize/g, delim);</span><span class="s3">\n        </span><span class="s1">parser.string = [pre, left, open, body, right, close, post, parser.string.substr(parser.i)]</span><span class="s3">\n            </span><span class="s1">.reduce(function (s, part) { return ParseUtil_js_1.default.addArgs(parser, s, part); }, '');</span><span class="s3">\n        </span><span class="s1">parser.i = 0;</span><span class="s3">\n        </span><span class="s1">ParseUtil_js_1.default.checkMaxMacros(parser);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">DeclarePairedDelimiter: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var cs = NewcommandUtil_js_1.default.GetCsNameArgument(parser, name);</span><span class="s3">\n        </span><span class="s1">var open = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">var close = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">MathtoolsUtil_js_1.MathtoolsUtil.addPairedDelims(parser.configuration, cs, [open, close]);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">DeclarePairedDelimiterX: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var cs = NewcommandUtil_js_1.default.GetCsNameArgument(parser, name);</span><span class="s3">\n        </span><span class="s1">var n = NewcommandUtil_js_1.default.GetArgCount(parser, name);</span><span class="s3">\n        </span><span class="s1">var open = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">var close = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">var body = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">MathtoolsUtil_js_1.MathtoolsUtil.addPairedDelims(parser.configuration, cs, [open, close, body, n]);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">DeclarePairedDelimiterXPP: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var cs = NewcommandUtil_js_1.default.GetCsNameArgument(parser, name);</span><span class="s3">\n        </span><span class="s1">var n = NewcommandUtil_js_1.default.GetArgCount(parser, name);</span><span class="s3">\n        </span><span class="s1">var pre = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">var open = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">var close = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">var post = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">var body = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">MathtoolsUtil_js_1.MathtoolsUtil.addPairedDelims(parser.configuration, cs, [open, close, body, n, pre, post]);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">CenterColon: function (parser, _name, center, force, thin) {</span><span class="s3">\n        </span><span class="s1">if (force === void 0) { force = false; }</span><span class="s3">\n        </span><span class="s1">if (thin === void 0) { thin = false; }</span><span class="s3">\n        </span><span class="s1">var options = parser.options.mathtools;</span><span class="s3">\n        </span><span class="s1">var mml = parser.create('token', 'mo', {}, ':');</span><span class="s3">\n        </span><span class="s1">if (center &amp;&amp; (options['centercolon'] || force)) {</span><span class="s3">\n            </span><span class="s1">var dy = options['centercolon-offset'];</span><span class="s3">\n            </span><span class="s1">mml = parser.create('node', 'mpadded', [mml], __assign({ voffset: dy, height: </span><span class="s3">\&quot;</span><span class="s1">+</span><span class="s3">\&quot;</span><span class="s1">.concat(dy), depth: </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">.concat(dy) }, (thin ? { width: options['thincolon-dw'], lspace: options['thincolon-dx'] } : {})));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">parser.Push(mml);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">Relation: function (parser, _name, tex, unicode) {</span><span class="s3">\n        </span><span class="s1">var options = parser.options.mathtools;</span><span class="s3">\n        </span><span class="s1">if (options['use-unicode'] &amp;&amp; unicode) {</span><span class="s3">\n            </span><span class="s1">parser.Push(parser.create('token', 'mo', { texClass: MmlNode_js_1.TEXCLASS.REL }, unicode));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">tex = '</span><span class="s3">\\\\</span><span class="s1">mathrel{' + tex.replace(/:/g, '</span><span class="s3">\\\\</span><span class="s1">MTThinColon').replace(/-/g, '</span><span class="s3">\\\\</span><span class="s1">mathrel{-}') + '}';</span><span class="s3">\n            </span><span class="s1">parser.string = ParseUtil_js_1.default.addArgs(parser, tex, parser.string.substr(parser.i));</span><span class="s3">\n            </span><span class="s1">parser.i = 0;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">NArrow: function (parser, _name, c, dy) {</span><span class="s3">\n        </span><span class="s1">parser.Push(parser.create('node', 'TeXAtom', [</span><span class="s3">\n            </span><span class="s1">parser.create('token', 'mtext', {}, c),</span><span class="s3">\n            </span><span class="s1">parser.create('node', 'mpadded', [</span><span class="s3">\n                </span><span class="s1">parser.create('node', 'mpadded', [</span><span class="s3">\n                    </span><span class="s1">parser.create('node', 'menclose', [</span><span class="s3">\n                        </span><span class="s1">parser.create('node', 'mspace', [], { height: '.2em', depth: 0, width: '.4em' })</span><span class="s3">\n                    </span><span class="s1">], { notation: 'updiagonalstrike', 'data-thickness': '.05em', 'data-padding': 0 })</span><span class="s3">\n                </span><span class="s1">], { width: 0, lspace: '-.5width', voffset: dy }),</span><span class="s3">\n                </span><span class="s1">parser.create('node', 'mphantom', [</span><span class="s3">\n                    </span><span class="s1">parser.create('token', 'mtext', {}, c)</span><span class="s3">\n                </span><span class="s1">])</span><span class="s3">\n            </span><span class="s1">], { width: 0, lspace: '-.5width' })</span><span class="s3">\n        </span><span class="s1">], { texClass: MmlNode_js_1.TEXCLASS.REL }));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">SplitFrac: function (parser, name, display) {</span><span class="s3">\n        </span><span class="s1">var num = parser.ParseArg(name);</span><span class="s3">\n        </span><span class="s1">var den = parser.ParseArg(name);</span><span class="s3">\n        </span><span class="s1">parser.Push(parser.create('node', 'mstyle', [</span><span class="s3">\n            </span><span class="s1">parser.create('node', 'mfrac', [</span><span class="s3">\n                </span><span class="s1">parser.create('node', 'mstyle', [</span><span class="s3">\n                    </span><span class="s1">num,</span><span class="s3">\n                    </span><span class="s1">parser.create('token', 'mi'),</span><span class="s3">\n                    </span><span class="s1">parser.create('token', 'mspace', { width: '1em' })</span><span class="s3">\n                </span><span class="s1">], { scriptlevel: 0 }),</span><span class="s3">\n                </span><span class="s1">parser.create('node', 'mstyle', [</span><span class="s3">\n                    </span><span class="s1">parser.create('token', 'mspace', { width: '1em' }),</span><span class="s3">\n                    </span><span class="s1">parser.create('token', 'mi'),</span><span class="s3">\n                    </span><span class="s1">den</span><span class="s3">\n                </span><span class="s1">], { scriptlevel: 0 })</span><span class="s3">\n            </span><span class="s1">], { linethickness: 0, numalign: 'left', denomalign: 'right' })</span><span class="s3">\n        </span><span class="s1">], { displaystyle: display, scriptlevel: 0 }));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">XMathStrut: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var dd = parser.GetBrackets(name);</span><span class="s3">\n        </span><span class="s1">var dh = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">dh = MathtoolsUtil_js_1.MathtoolsUtil.plusOrMinus(name, dh);</span><span class="s3">\n        </span><span class="s1">dd = MathtoolsUtil_js_1.MathtoolsUtil.plusOrMinus(name, dd || dh);</span><span class="s3">\n        </span><span class="s1">parser.Push(parser.create('node', 'TeXAtom', [</span><span class="s3">\n            </span><span class="s1">parser.create('node', 'mpadded', [</span><span class="s3">\n                </span><span class="s1">parser.create('node', 'mphantom', [</span><span class="s3">\n                    </span><span class="s1">parser.create('token', 'mo', { stretchy: false }, '(')</span><span class="s3">\n                </span><span class="s1">])</span><span class="s3">\n            </span><span class="s1">], { width: 0, height: dh + 'height', depth: dd + 'depth' })</span><span class="s3">\n        </span><span class="s1">], { texClass: MmlNode_js_1.TEXCLASS.ORD }));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">Prescript: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var sup = MathtoolsUtil_js_1.MathtoolsUtil.getScript(parser, name, 'sup');</span><span class="s3">\n        </span><span class="s1">var sub = MathtoolsUtil_js_1.MathtoolsUtil.getScript(parser, name, 'sub');</span><span class="s3">\n        </span><span class="s1">var base = MathtoolsUtil_js_1.MathtoolsUtil.getScript(parser, name, 'arg');</span><span class="s3">\n        </span><span class="s1">if (NodeUtil_js_1.default.isType(sup, 'none') &amp;&amp; NodeUtil_js_1.default.isType(sub, 'none')) {</span><span class="s3">\n            </span><span class="s1">parser.Push(base);</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var mml = parser.create('node', 'mmultiscripts', [base]);</span><span class="s3">\n        </span><span class="s1">NodeUtil_js_1.default.getChildren(mml).push(null, null);</span><span class="s3">\n        </span><span class="s1">NodeUtil_js_1.default.appendChildren(mml, [parser.create('node', 'mprescripts'), sub, sup]);</span><span class="s3">\n        </span><span class="s1">mml.setProperty('fixPrescript', true);</span><span class="s3">\n        </span><span class="s1">parser.Push(mml);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">NewTagForm: function (parser, name, renew) {</span><span class="s3">\n        </span><span class="s1">if (renew === void 0) { renew = false; }</span><span class="s3">\n        </span><span class="s1">var tags = parser.tags;</span><span class="s3">\n        </span><span class="s1">if (!('mtFormats' in tags)) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('TagsNotMT', '%1 can only be used with ams or mathtools tags', name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var id = parser.GetArgument(name).trim();</span><span class="s3">\n        </span><span class="s1">if (!id) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('InvalidTagFormID', 'Tag form name can</span><span class="s3">\\</span><span class="s1">'t be empty');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var format = parser.GetBrackets(name, '');</span><span class="s3">\n        </span><span class="s1">var left = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">var right = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">if (!renew &amp;&amp; tags.mtFormats.has(id)) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('DuplicateTagForm', 'Duplicate tag form: %1', id);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">tags.mtFormats.set(id, [left, right, format]);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">UseTagForm: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var tags = parser.tags;</span><span class="s3">\n        </span><span class="s1">if (!('mtFormats' in tags)) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('TagsNotMT', '%1 can only be used with ams or mathtools tags', name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var id = parser.GetArgument(name).trim();</span><span class="s3">\n        </span><span class="s1">if (!id) {</span><span class="s3">\n            </span><span class="s1">tags.mtCurrent = null;</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (!tags.mtFormats.has(id)) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('UndefinedTagForm', 'Undefined tag form: %1', id);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">tags.mtCurrent = tags.mtFormats.get(id);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">SetOptions: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var e_2, _a;</span><span class="s3">\n        </span><span class="s1">var options = parser.options.mathtools;</span><span class="s3">\n        </span><span class="s1">if (!options['allow-mathtoolsset']) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('ForbiddenMathtoolsSet', '%1 is disabled', name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var allowed = {};</span><span class="s3">\n        </span><span class="s1">Object.keys(options).forEach(function (id) {</span><span class="s3">\n            </span><span class="s1">if (id !== 'pariedDelimiters' &amp;&amp; id !== 'tagforms' &amp;&amp; id !== 'allow-mathtoolsset') {</span><span class="s3">\n                </span><span class="s1">allowed[id] = 1;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">var args = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">var keys = ParseUtil_js_1.default.keyvalOptions(args, allowed, true);</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">for (var _b = __values(Object.keys(keys)), _c = _b.next(); !_c.done; _c = _b.next()) {</span><span class="s3">\n                </span><span class="s1">var id = _c.value;</span><span class="s3">\n                </span><span class="s1">options[id] = keys[id];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">catch (e_2_1) { e_2 = { error: e_2_1 }; }</span><span class="s3">\n        </span><span class="s1">finally {</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">if (_c &amp;&amp; !_c.done &amp;&amp; (_a = _b.return)) _a.call(_b);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">finally { if (e_2) throw e_2.error; }</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">Array: BaseMethods_js_1.default.Array,</span><span class="s3">\n    </span><span class="s1">Macro: BaseMethods_js_1.default.Macro,</span><span class="s3">\n    </span><span class="s1">xArrow: AmsMethods_js_1.AmsMethods.xArrow,</span><span class="s3">\n    </span><span class="s1">HandleRef: AmsMethods_js_1.AmsMethods.HandleRef,</span><span class="s3">\n    </span><span class="s1">AmsEqnArray: AmsMethods_js_1.AmsMethods.AmsEqnArray,</span><span class="s3">\n    </span><span class="s1">MacroWithTemplate: NewcommandMethods_js_1.default.MacroWithTemplate,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=MathtoolsMethods.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __extends = (this &amp;&amp; this.__extends) || (function () {</span><span class="s3">\n    </span><span class="s1">var extendStatics = function (d, b) {</span><span class="s3">\n        </span><span class="s1">extendStatics = Object.setPrototypeOf ||</span><span class="s3">\n            </span><span class="s1">({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||</span><span class="s3">\n            </span><span class="s1">function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };</span><span class="s3">\n        </span><span class="s1">return extendStatics(d, b);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return function (d, b) {</span><span class="s3">\n        </span><span class="s1">if (typeof b !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; b !== null)</span><span class="s3">\n            </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Class extends value </span><span class="s3">\&quot; </span><span class="s1">+ String(b) + </span><span class="s3">\&quot; </span><span class="s1">is not a constructor or null</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">extendStatics(d, b);</span><span class="s3">\n        </span><span class="s1">function __() { this.constructor = d; }</span><span class="s3">\n        </span><span class="s1">d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">var __values = (this &amp;&amp; this.__values) || function(o) {</span><span class="s3">\n    </span><span class="s1">var s = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Symbol.iterator, m = s &amp;&amp; o[s], i = 0;</span><span class="s3">\n    </span><span class="s1">if (m) return m.call(o);</span><span class="s3">\n    </span><span class="s1">if (o &amp;&amp; typeof o.length === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) return {</span><span class="s3">\n        </span><span class="s1">next: function () {</span><span class="s3">\n            </span><span class="s1">if (o &amp;&amp; i &gt;= o.length) o = void 0;</span><span class="s3">\n            </span><span class="s1">return { value: o &amp;&amp; o[i++], done: !o };</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">throw new TypeError(s ? </span><span class="s3">\&quot;</span><span class="s1">Object is not iterable.</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Symbol.iterator is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __read = (this &amp;&amp; this.__read) || function (o, n) {</span><span class="s3">\n    </span><span class="s1">var m = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; o[Symbol.iterator];</span><span class="s3">\n    </span><span class="s1">if (!m) return o;</span><span class="s3">\n    </span><span class="s1">var i = m.call(o), r, ar = [], e;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">while ((n === void 0 || n-- &gt; 0) &amp;&amp; !(r = i.next()).done) ar.push(r.value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (error) { e = { error: error }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (r &amp;&amp; !r.done &amp;&amp; (m = i[</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">])) m.call(i);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e) throw e.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return ar;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.MathtoolsTagFormat = void 0;</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var Tags_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Tags.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var tagID = 0;</span><span class="s3">\n</span><span class="s1">function MathtoolsTagFormat(config, jax) {</span><span class="s3">\n    </span><span class="s1">var tags = jax.parseOptions.options.tags;</span><span class="s3">\n    </span><span class="s1">if (tags !== 'base' &amp;&amp; config.tags.hasOwnProperty(tags)) {</span><span class="s3">\n        </span><span class="s1">Tags_js_1.TagsFactory.add(tags, config.tags[tags]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var TagClass = Tags_js_1.TagsFactory.create(jax.parseOptions.options.tags).constructor;</span><span class="s3">\n    </span><span class="s1">var TagFormat = (function (_super) {</span><span class="s3">\n        </span><span class="s1">__extends(TagFormat, _super);</span><span class="s3">\n        </span><span class="s1">function TagFormat() {</span><span class="s3">\n            </span><span class="s1">var e_1, _a;</span><span class="s3">\n            </span><span class="s1">var _this = _super.call(this) || this;</span><span class="s3">\n            </span><span class="s1">_this.mtFormats = new Map();</span><span class="s3">\n            </span><span class="s1">_this.mtCurrent = null;</span><span class="s3">\n            </span><span class="s1">var forms = jax.parseOptions.options.mathtools.tagforms;</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">for (var _b = __values(Object.keys(forms)), _c = _b.next(); !_c.done; _c = _b.next()) {</span><span class="s3">\n                    </span><span class="s1">var form = _c.value;</span><span class="s3">\n                    </span><span class="s1">if (!Array.isArray(forms[form]) || forms[form].length !== 3) {</span><span class="s3">\n                        </span><span class="s1">throw new TexError_js_1.default('InvalidTagFormDef', 'The tag form definition for </span><span class="s3">\&quot;</span><span class="s1">%1</span><span class="s3">\&quot; </span><span class="s1">should be an array fo three strings', form);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">_this.mtFormats.set(form, forms[form]);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">catch (e_1_1) { e_1 = { error: e_1_1 }; }</span><span class="s3">\n            </span><span class="s1">finally {</span><span class="s3">\n                </span><span class="s1">try {</span><span class="s3">\n                    </span><span class="s1">if (_c &amp;&amp; !_c.done &amp;&amp; (_a = _b.return)) _a.call(_b);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">finally { if (e_1) throw e_1.error; }</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return _this;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">TagFormat.prototype.formatTag = function (tag) {</span><span class="s3">\n            </span><span class="s1">if (this.mtCurrent) {</span><span class="s3">\n                </span><span class="s1">var _a = __read(this.mtCurrent, 3), left = _a[0], right = _a[1], format = _a[2];</span><span class="s3">\n                </span><span class="s1">return (format ? </span><span class="s3">\&quot;\&quot;</span><span class="s1">.concat(left).concat(format, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">).concat(tag, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">).concat(right) : </span><span class="s3">\&quot;\&quot;</span><span class="s1">.concat(left).concat(tag).concat(right));</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return _super.prototype.formatTag.call(this, tag);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">return TagFormat;</span><span class="s3">\n    </span><span class="s1">}(TagClass));</span><span class="s3">\n    </span><span class="s1">tagID++;</span><span class="s3">\n    </span><span class="s1">var tagName = 'MathtoolsTags-' + tagID;</span><span class="s3">\n    </span><span class="s1">Tags_js_1.TagsFactory.add(tagName, TagFormat);</span><span class="s3">\n    </span><span class="s1">jax.parseOptions.options.tags = tagName;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">exports.MathtoolsTagFormat = MathtoolsTagFormat;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=MathtoolsTags.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __read = (this &amp;&amp; this.__read) || function (o, n) {</span><span class="s3">\n    </span><span class="s1">var m = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; o[Symbol.iterator];</span><span class="s3">\n    </span><span class="s1">if (!m) return o;</span><span class="s3">\n    </span><span class="s1">var i = m.call(o), r, ar = [], e;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">while ((n === void 0 || n-- &gt; 0) &amp;&amp; !(r = i.next()).done) ar.push(r.value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (error) { e = { error: error }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (r &amp;&amp; !r.done &amp;&amp; (m = i[</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">])) m.call(i);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e) throw e.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return ar;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.MathtoolsUtil = void 0;</span><span class="s3">\n</span><span class="s1">var BaseItems_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../base/BaseItems.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexParser_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexParser.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var Symbol_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Symbol.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var Options_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../../util/Options.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var MathtoolsMethods_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./MathtoolsMethods.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var MathtoolsConfiguration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./MathtoolsConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">exports.MathtoolsUtil = {</span><span class="s3">\n    </span><span class="s1">setDisplayLevel: function (mml, style) {</span><span class="s3">\n        </span><span class="s1">if (!style)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">var _a = __read((0, Options_js_1.lookup)(style, {</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">displaystyle': [true, 0],</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">textstyle': [false, 0],</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">scriptstyle': [false, 1],</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">scriptscriptstyle': [false, 2]</span><span class="s3">\n        </span><span class="s1">}, [null, null]), 2), display = _a[0], script = _a[1];</span><span class="s3">\n        </span><span class="s1">if (display !== null) {</span><span class="s3">\n            </span><span class="s1">mml.attributes.set('displaystyle', display);</span><span class="s3">\n            </span><span class="s1">mml.attributes.set('scriptlevel', script);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">checkAlignment: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var top = parser.stack.Top();</span><span class="s3">\n        </span><span class="s1">if (top.kind !== BaseItems_js_1.EqnArrayItem.prototype.kind) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('NotInAlignment', '%1 can only be used in aligment environments', name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return top;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">addPairedDelims: function (config, cs, args) {</span><span class="s3">\n        </span><span class="s1">var delims = config.handlers.retrieve(MathtoolsConfiguration_js_1.PAIREDDELIMS);</span><span class="s3">\n        </span><span class="s1">delims.add(cs, new Symbol_js_1.Macro(cs, MathtoolsMethods_js_1.MathtoolsMethods.PairedDelimiters, args));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">spreadLines: function (mtable, spread) {</span><span class="s3">\n        </span><span class="s1">if (!mtable.isKind('mtable'))</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">var rowspacing = mtable.attributes.get('rowspacing');</span><span class="s3">\n        </span><span class="s1">if (rowspacing) {</span><span class="s3">\n            </span><span class="s1">var add_1 = ParseUtil_js_1.default.dimen2em(spread);</span><span class="s3">\n            </span><span class="s1">rowspacing = rowspacing</span><span class="s3">\n                </span><span class="s1">.split(/ /)</span><span class="s3">\n                </span><span class="s1">.map(function (s) { return ParseUtil_js_1.default.Em(Math.max(0, ParseUtil_js_1.default.dimen2em(s) + add_1)); })</span><span class="s3">\n                </span><span class="s1">.join(' ');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">rowspacing = spread;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">mtable.attributes.set('rowspacing', rowspacing);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">plusOrMinus: function (name, n) {</span><span class="s3">\n        </span><span class="s1">n = n.trim();</span><span class="s3">\n        </span><span class="s1">if (!n.match(/^[-+]?(?:</span><span class="s3">\\</span><span class="s1">d+(?:</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d*)?|</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)$/)) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('NotANumber', 'Argument to %1 is not a number', name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return (n.match(/^[-+]/) ? n : '+' + n);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">getScript: function (parser, name, pos) {</span><span class="s3">\n        </span><span class="s1">var arg = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));</span><span class="s3">\n        </span><span class="s1">if (arg === '') {</span><span class="s3">\n            </span><span class="s1">return parser.create('node', 'none');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var format = parser.options.mathtools[</span><span class="s3">\&quot;</span><span class="s1">prescript-</span><span class="s3">\&quot;</span><span class="s1">.concat(pos, </span><span class="s3">\&quot;</span><span class="s1">-format</span><span class="s3">\&quot;</span><span class="s1">)];</span><span class="s3">\n        </span><span class="s1">format &amp;&amp; (arg = </span><span class="s3">\&quot;\&quot;</span><span class="s1">.concat(format, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">).concat(arg, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n        </span><span class="s1">return new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=MathtoolsUtil.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.MhchemConfiguration = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var BaseMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../base/BaseMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var AmsMethods_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../ams/AmsMethods.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var mhchemParser_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">mhchemparser/dist/mhchemParser.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var MhchemMethods = {};</span><span class="s3">\n</span><span class="s1">MhchemMethods.Macro = BaseMethods_js_1.default.Macro;</span><span class="s3">\n</span><span class="s1">MhchemMethods.xArrow = AmsMethods_js_1.AmsMethods.xArrow;</span><span class="s3">\n</span><span class="s1">MhchemMethods.Machine = function (parser, name, machine) {</span><span class="s3">\n    </span><span class="s1">var arg = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var tex;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">tex = mhchemParser_js_1.mhchemParser.toTex(arg, machine);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (err) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default(err[0], err[1]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.string = tex + parser.string.substr(parser.i);</span><span class="s3">\n    </span><span class="s1">parser.i = 0;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('mhchem', {</span><span class="s3">\n    </span><span class="s1">ce: ['Machine', 'ce'],</span><span class="s3">\n    </span><span class="s1">pu: ['Machine', 'pu'],</span><span class="s3">\n    </span><span class="s1">longrightleftharpoons: [</span><span class="s3">\n        </span><span class="s1">'Macro',</span><span class="s3">\n        </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">stackrel{</span><span class="s3">\\\\</span><span class="s1">textstyle{-}</span><span class="s3">\\\\</span><span class="s1">!</span><span class="s3">\\\\</span><span class="s1">!{</span><span class="s3">\\\\</span><span class="s1">rightharpoonup}}{</span><span class="s3">\\\\</span><span class="s1">smash{{</span><span class="s3">\\\\</span><span class="s1">leftharpoondown}</span><span class="s3">\\\\</span><span class="s1">!</span><span class="s3">\\\\</span><span class="s1">!{-}}}'</span><span class="s3">\n    </span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">longRightleftharpoons: [</span><span class="s3">\n        </span><span class="s1">'Macro',</span><span class="s3">\n        </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">stackrel{</span><span class="s3">\\\\</span><span class="s1">textstyle{-}</span><span class="s3">\\\\</span><span class="s1">!</span><span class="s3">\\\\</span><span class="s1">!{</span><span class="s3">\\\\</span><span class="s1">rightharpoonup}}{</span><span class="s3">\\\\</span><span class="s1">smash{</span><span class="s3">\\\\</span><span class="s1">leftharpoondown}}'</span><span class="s3">\n    </span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">longLeftrightharpoons: [</span><span class="s3">\n        </span><span class="s1">'Macro',</span><span class="s3">\n        </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">stackrel{</span><span class="s3">\\\\</span><span class="s1">textstyle</span><span class="s3">\\\\</span><span class="s1">vphantom{{-}}{</span><span class="s3">\\\\</span><span class="s1">rightharpoonup}}{</span><span class="s3">\\\\</span><span class="s1">smash{{</span><span class="s3">\\\\</span><span class="s1">leftharpoondown}</span><span class="s3">\\\\</span><span class="s1">!</span><span class="s3">\\\\</span><span class="s1">!{-}}}'</span><span class="s3">\n    </span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">longleftrightarrows: [</span><span class="s3">\n        </span><span class="s1">'Macro',</span><span class="s3">\n        </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">stackrel{</span><span class="s3">\\\\</span><span class="s1">longrightarrow}{</span><span class="s3">\\\\</span><span class="s1">smash{</span><span class="s3">\\\\</span><span class="s1">longleftarrow}</span><span class="s3">\\\\</span><span class="s1">Rule{0px}{.25em}{0px}}'</span><span class="s3">\n    </span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">tripledash: [</span><span class="s3">\n        </span><span class="s1">'Macro',</span><span class="s3">\n        </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">vphantom{-}</span><span class="s3">\\\\</span><span class="s1">raise2mu{</span><span class="s3">\\\\</span><span class="s1">kern2mu</span><span class="s3">\\\\</span><span class="s1">tiny</span><span class="s3">\\\\</span><span class="s1">text{-}</span><span class="s3">\\\\</span><span class="s1">kern1mu</span><span class="s3">\\\\</span><span class="s1">text{-}</span><span class="s3">\\\\</span><span class="s1">kern1mu</span><span class="s3">\\\\</span><span class="s1">text{-}</span><span class="s3">\\\\</span><span class="s1">kern2mu}'</span><span class="s3">\n    </span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">xleftrightarrow: ['xArrow', 0x2194, 6, 6],</span><span class="s3">\n    </span><span class="s1">xrightleftharpoons: ['xArrow', 0x21CC, 5, 7],</span><span class="s3">\n    </span><span class="s1">xRightleftharpoons: ['xArrow', 0x21CC, 5, 7],</span><span class="s3">\n    </span><span class="s1">xLeftrightharpoons: ['xArrow', 0x21CC, 5, 7]</span><span class="s3">\n</span><span class="s1">}, MhchemMethods);</span><span class="s3">\n</span><span class="s1">exports.MhchemConfiguration = Configuration_js_1.Configuration.create('mhchem', { handler: { macro: ['mhchem'] } });</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=MhchemConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __createBinding = (this &amp;&amp; this.__createBinding) || (Object.create ? (function(o, m, k, k2) {</span><span class="s3">\n    </span><span class="s1">if (k2 === undefined) k2 = k;</span><span class="s3">\n    </span><span class="s1">var desc = Object.getOwnPropertyDescriptor(m, k);</span><span class="s3">\n    </span><span class="s1">if (!desc || (</span><span class="s3">\&quot;</span><span class="s1">get</span><span class="s3">\&quot; </span><span class="s1">in desc ? !m.__esModule : desc.writable || desc.configurable)) {</span><span class="s3">\n      </span><span class="s1">desc = { enumerable: true, get: function() { return m[k]; } };</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(o, k2, desc);</span><span class="s3">\n</span><span class="s1">}) : (function(o, m, k, k2) {</span><span class="s3">\n    </span><span class="s1">if (k2 === undefined) k2 = k;</span><span class="s3">\n    </span><span class="s1">o[k2] = m[k];</span><span class="s3">\n</span><span class="s1">}));</span><span class="s3">\n</span><span class="s1">var __setModuleDefault = (this &amp;&amp; this.__setModuleDefault) || (Object.create ? (function(o, v) {</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(o, </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">, { enumerable: true, value: v });</span><span class="s3">\n</span><span class="s1">}) : function(o, v) {</span><span class="s3">\n    </span><span class="s1">o[</span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">] = v;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var __importStar = (this &amp;&amp; this.__importStar) || function (mod) {</span><span class="s3">\n    </span><span class="s1">if (mod &amp;&amp; mod.__esModule) return mod;</span><span class="s3">\n    </span><span class="s1">var result = {};</span><span class="s3">\n    </span><span class="s1">if (mod != null) for (var k in mod) if (k !== </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);</span><span class="s3">\n    </span><span class="s1">__setModuleDefault(result, mod);</span><span class="s3">\n    </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var _a;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.NewcommandConfiguration = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var NewcommandItems_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./NewcommandItems.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var NewcommandUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">./NewcommandUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./NewcommandMappings.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ParseMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var sm = __importStar(require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var init = function (config) {</span><span class="s3">\n    </span><span class="s1">new sm.DelimiterMap(NewcommandUtil_js_1.default.NEW_DELIMITER, ParseMethods_js_1.default.delimiter, {});</span><span class="s3">\n    </span><span class="s1">new sm.CommandMap(NewcommandUtil_js_1.default.NEW_COMMAND, {}, {});</span><span class="s3">\n    </span><span class="s1">new sm.EnvironmentMap(NewcommandUtil_js_1.default.NEW_ENVIRONMENT, ParseMethods_js_1.default.environment, {}, {});</span><span class="s3">\n    </span><span class="s1">config.append(Configuration_js_1.Configuration.local({ handler: { character: [],</span><span class="s3">\n            </span><span class="s1">delimiter: [NewcommandUtil_js_1.default.NEW_DELIMITER],</span><span class="s3">\n            </span><span class="s1">macro: [NewcommandUtil_js_1.default.NEW_DELIMITER,</span><span class="s3">\n                </span><span class="s1">NewcommandUtil_js_1.default.NEW_COMMAND],</span><span class="s3">\n            </span><span class="s1">environment: [NewcommandUtil_js_1.default.NEW_ENVIRONMENT]</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">priority: -1 }));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">exports.NewcommandConfiguration = Configuration_js_1.Configuration.create('newcommand', {</span><span class="s3">\n    </span><span class="s1">handler: {</span><span class="s3">\n        </span><span class="s1">macro: ['Newcommand-macros']</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">items: (_a = {},</span><span class="s3">\n        </span><span class="s1">_a[NewcommandItems_js_1.BeginEnvItem.prototype.kind] = NewcommandItems_js_1.BeginEnvItem,</span><span class="s3">\n        </span><span class="s1">_a),</span><span class="s3">\n    </span><span class="s1">options: { maxMacros: 1000 },</span><span class="s3">\n    </span><span class="s1">init: init</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=NewcommandConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __extends = (this &amp;&amp; this.__extends) || (function () {</span><span class="s3">\n    </span><span class="s1">var extendStatics = function (d, b) {</span><span class="s3">\n        </span><span class="s1">extendStatics = Object.setPrototypeOf ||</span><span class="s3">\n            </span><span class="s1">({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||</span><span class="s3">\n            </span><span class="s1">function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };</span><span class="s3">\n        </span><span class="s1">return extendStatics(d, b);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return function (d, b) {</span><span class="s3">\n        </span><span class="s1">if (typeof b !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; b !== null)</span><span class="s3">\n            </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Class extends value </span><span class="s3">\&quot; </span><span class="s1">+ String(b) + </span><span class="s3">\&quot; </span><span class="s1">is not a constructor or null</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">extendStatics(d, b);</span><span class="s3">\n        </span><span class="s1">function __() { this.constructor = d; }</span><span class="s3">\n        </span><span class="s1">d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.BeginEnvItem = void 0;</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var StackItem_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../StackItem.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var BeginEnvItem = (function (_super) {</span><span class="s3">\n    </span><span class="s1">__extends(BeginEnvItem, _super);</span><span class="s3">\n    </span><span class="s1">function BeginEnvItem() {</span><span class="s3">\n        </span><span class="s1">return _super !== null &amp;&amp; _super.apply(this, arguments) || this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(BeginEnvItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">kind</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n        </span><span class="s1">get: function () {</span><span class="s3">\n            </span><span class="s1">return 'beginEnv';</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">enumerable: false,</span><span class="s3">\n        </span><span class="s1">configurable: true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(BeginEnvItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">isOpen</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n        </span><span class="s1">get: function () {</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">enumerable: false,</span><span class="s3">\n        </span><span class="s1">configurable: true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">BeginEnvItem.prototype.checkItem = function (item) {</span><span class="s3">\n        </span><span class="s1">if (item.isKind('end')) {</span><span class="s3">\n            </span><span class="s1">if (item.getName() !== this.getName()) {</span><span class="s3">\n                </span><span class="s1">throw new TexError_js_1.default('EnvBadEnd', '</span><span class="s3">\\\\</span><span class="s1">begin{%1} ended with </span><span class="s3">\\\\</span><span class="s1">end{%2}', this.getName(), item.getName());</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return [[this.factory.create('mml', this.toMml())], true];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (item.isKind('stop')) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('EnvMissingEnd', 'Missing </span><span class="s3">\\\\</span><span class="s1">end{%1}', this.getName());</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return _super.prototype.checkItem.call(this, item);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return BeginEnvItem;</span><span class="s3">\n</span><span class="s1">}(StackItem_js_1.BaseItem));</span><span class="s3">\n</span><span class="s1">exports.BeginEnvItem = BeginEnvItem;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=NewcommandItems.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">var NewcommandMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">./NewcommandMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('Newcommand-macros', {</span><span class="s3">\n    </span><span class="s1">newcommand: 'NewCommand',</span><span class="s3">\n    </span><span class="s1">renewcommand: 'NewCommand',</span><span class="s3">\n    </span><span class="s1">newenvironment: 'NewEnvironment',</span><span class="s3">\n    </span><span class="s1">renewenvironment: 'NewEnvironment',</span><span class="s3">\n    </span><span class="s1">def: 'MacroDef',</span><span class="s3">\n    </span><span class="s1">'let': 'Let'</span><span class="s3">\n</span><span class="s1">}, NewcommandMethods_js_1.default);</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=NewcommandMappings.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __createBinding = (this &amp;&amp; this.__createBinding) || (Object.create ? (function(o, m, k, k2) {</span><span class="s3">\n    </span><span class="s1">if (k2 === undefined) k2 = k;</span><span class="s3">\n    </span><span class="s1">var desc = Object.getOwnPropertyDescriptor(m, k);</span><span class="s3">\n    </span><span class="s1">if (!desc || (</span><span class="s3">\&quot;</span><span class="s1">get</span><span class="s3">\&quot; </span><span class="s1">in desc ? !m.__esModule : desc.writable || desc.configurable)) {</span><span class="s3">\n      </span><span class="s1">desc = { enumerable: true, get: function() { return m[k]; } };</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(o, k2, desc);</span><span class="s3">\n</span><span class="s1">}) : (function(o, m, k, k2) {</span><span class="s3">\n    </span><span class="s1">if (k2 === undefined) k2 = k;</span><span class="s3">\n    </span><span class="s1">o[k2] = m[k];</span><span class="s3">\n</span><span class="s1">}));</span><span class="s3">\n</span><span class="s1">var __setModuleDefault = (this &amp;&amp; this.__setModuleDefault) || (Object.create ? (function(o, v) {</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(o, </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">, { enumerable: true, value: v });</span><span class="s3">\n</span><span class="s1">}) : function(o, v) {</span><span class="s3">\n    </span><span class="s1">o[</span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">] = v;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">var __importStar = (this &amp;&amp; this.__importStar) || function (mod) {</span><span class="s3">\n    </span><span class="s1">if (mod &amp;&amp; mod.__esModule) return mod;</span><span class="s3">\n    </span><span class="s1">var result = {};</span><span class="s3">\n    </span><span class="s1">if (mod != null) for (var k in mod) if (k !== </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);</span><span class="s3">\n    </span><span class="s1">__setModuleDefault(result, mod);</span><span class="s3">\n    </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var sm = __importStar(require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var BaseMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../base/BaseMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var NewcommandUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">./NewcommandUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var NewcommandMethods = {};</span><span class="s3">\n</span><span class="s1">NewcommandMethods.NewCommand = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var cs = NewcommandUtil_js_1.default.GetCsNameArgument(parser, name);</span><span class="s3">\n    </span><span class="s1">var n = NewcommandUtil_js_1.default.GetArgCount(parser, name);</span><span class="s3">\n    </span><span class="s1">var opt = parser.GetBrackets(name);</span><span class="s3">\n    </span><span class="s1">var def = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">NewcommandUtil_js_1.default.addMacro(parser, cs, NewcommandMethods.Macro, [def, n, opt]);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">NewcommandMethods.NewEnvironment = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var env = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));</span><span class="s3">\n    </span><span class="s1">var n = NewcommandUtil_js_1.default.GetArgCount(parser, name);</span><span class="s3">\n    </span><span class="s1">var opt = parser.GetBrackets(name);</span><span class="s3">\n    </span><span class="s1">var bdef = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var edef = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">NewcommandUtil_js_1.default.addEnvironment(parser, env, NewcommandMethods.BeginEnv, [true, bdef, edef, n, opt]);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">NewcommandMethods.MacroDef = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var cs = NewcommandUtil_js_1.default.GetCSname(parser, name);</span><span class="s3">\n    </span><span class="s1">var params = NewcommandUtil_js_1.default.GetTemplate(parser, name, '</span><span class="s3">\\\\</span><span class="s1">' + cs);</span><span class="s3">\n    </span><span class="s1">var def = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">!(params instanceof Array) ?</span><span class="s3">\n        </span><span class="s1">NewcommandUtil_js_1.default.addMacro(parser, cs, NewcommandMethods.Macro, [def, params]) :</span><span class="s3">\n        </span><span class="s1">NewcommandUtil_js_1.default.addMacro(parser, cs, NewcommandMethods.MacroWithTemplate, [def].concat(params));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">NewcommandMethods.Let = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var cs = NewcommandUtil_js_1.default.GetCSname(parser, name);</span><span class="s3">\n    </span><span class="s1">var c = parser.GetNext();</span><span class="s3">\n    </span><span class="s1">if (c === '=') {</span><span class="s3">\n        </span><span class="s1">parser.i++;</span><span class="s3">\n        </span><span class="s1">c = parser.GetNext();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var handlers = parser.configuration.handlers;</span><span class="s3">\n    </span><span class="s1">if (c === '</span><span class="s3">\\\\</span><span class="s1">') {</span><span class="s3">\n        </span><span class="s1">name = NewcommandUtil_js_1.default.GetCSname(parser, name);</span><span class="s3">\n        </span><span class="s1">var macro_1 = handlers.get('delimiter').lookup('</span><span class="s3">\\\\</span><span class="s1">' + name);</span><span class="s3">\n        </span><span class="s1">if (macro_1) {</span><span class="s3">\n            </span><span class="s1">NewcommandUtil_js_1.default.addDelimiter(parser, '</span><span class="s3">\\\\</span><span class="s1">' + cs, macro_1.char, macro_1.attributes);</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var map_1 = handlers.get('macro').applicable(name);</span><span class="s3">\n        </span><span class="s1">if (!map_1) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (map_1 instanceof sm.MacroMap) {</span><span class="s3">\n            </span><span class="s1">var macro_2 = map_1.lookup(name);</span><span class="s3">\n            </span><span class="s1">NewcommandUtil_js_1.default.addMacro(parser, cs, macro_2.func, macro_2.args, macro_2.symbol);</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">macro_1 = map_1.lookup(name);</span><span class="s3">\n        </span><span class="s1">var newArgs = NewcommandUtil_js_1.default.disassembleSymbol(cs, macro_1);</span><span class="s3">\n        </span><span class="s1">var method = function (p, _cs) {</span><span class="s3">\n            </span><span class="s1">var rest = [];</span><span class="s3">\n            </span><span class="s1">for (var _i = 2; _i &lt; arguments.length; _i++) {</span><span class="s3">\n                </span><span class="s1">rest[_i - 2] = arguments[_i];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">var symb = NewcommandUtil_js_1.default.assembleSymbol(rest);</span><span class="s3">\n            </span><span class="s1">return map_1.parser(p, symb);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">NewcommandUtil_js_1.default.addMacro(parser, cs, method, newArgs);</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.i++;</span><span class="s3">\n    </span><span class="s1">var macro = handlers.get('delimiter').lookup(c);</span><span class="s3">\n    </span><span class="s1">if (macro) {</span><span class="s3">\n        </span><span class="s1">NewcommandUtil_js_1.default.addDelimiter(parser, '</span><span class="s3">\\\\</span><span class="s1">' + cs, macro.char, macro.attributes);</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">NewcommandUtil_js_1.default.addMacro(parser, cs, NewcommandMethods.Macro, [c]);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">NewcommandMethods.MacroWithTemplate = function (parser, name, text, n) {</span><span class="s3">\n    </span><span class="s1">var params = [];</span><span class="s3">\n    </span><span class="s1">for (var _i = 4; _i &lt; arguments.length; _i++) {</span><span class="s3">\n        </span><span class="s1">params[_i - 4] = arguments[_i];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var argCount = parseInt(n, 10);</span><span class="s3">\n    </span><span class="s1">if (argCount) {</span><span class="s3">\n        </span><span class="s1">var args = [];</span><span class="s3">\n        </span><span class="s1">parser.GetNext();</span><span class="s3">\n        </span><span class="s1">if (params[0] &amp;&amp; !NewcommandUtil_js_1.default.MatchParam(parser, params[0])) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('MismatchUseDef', 'Use of %1 doesn</span><span class="s3">\\</span><span class="s1">'t match its definition', name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">for (var i = 0; i &lt; argCount; i++) {</span><span class="s3">\n            </span><span class="s1">args.push(NewcommandUtil_js_1.default.GetParameter(parser, name, params[i + 1]));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">text = ParseUtil_js_1.default.substituteArgs(parser, args, text);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.string = ParseUtil_js_1.default.addArgs(parser, text, parser.string.slice(parser.i));</span><span class="s3">\n    </span><span class="s1">parser.i = 0;</span><span class="s3">\n    </span><span class="s1">ParseUtil_js_1.default.checkMaxMacros(parser);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">NewcommandMethods.BeginEnv = function (parser, begin, bdef, edef, n, def) {</span><span class="s3">\n    </span><span class="s1">if (begin.getProperty('end') &amp;&amp; parser.stack.env['closing'] === begin.getName()) {</span><span class="s3">\n        </span><span class="s1">delete parser.stack.env['closing'];</span><span class="s3">\n        </span><span class="s1">var rest = parser.string.slice(parser.i);</span><span class="s3">\n        </span><span class="s1">parser.string = edef;</span><span class="s3">\n        </span><span class="s1">parser.i = 0;</span><span class="s3">\n        </span><span class="s1">parser.Parse();</span><span class="s3">\n        </span><span class="s1">parser.string = rest;</span><span class="s3">\n        </span><span class="s1">parser.i = 0;</span><span class="s3">\n        </span><span class="s1">return parser.itemFactory.create('end').setProperty('name', begin.getName());</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (n) {</span><span class="s3">\n        </span><span class="s1">var args = [];</span><span class="s3">\n        </span><span class="s1">if (def != null) {</span><span class="s3">\n            </span><span class="s1">var optional = parser.GetBrackets('</span><span class="s3">\\\\</span><span class="s1">begin{' + begin.getName() + '}');</span><span class="s3">\n            </span><span class="s1">args.push(optional == null ? def : optional);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">for (var i = args.length; i &lt; n; i++) {</span><span class="s3">\n            </span><span class="s1">args.push(parser.GetArgument('</span><span class="s3">\\\\</span><span class="s1">begin{' + begin.getName() + '}'));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">bdef = ParseUtil_js_1.default.substituteArgs(parser, args, bdef);</span><span class="s3">\n        </span><span class="s1">edef = ParseUtil_js_1.default.substituteArgs(parser, [], edef);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.string = ParseUtil_js_1.default.addArgs(parser, bdef, parser.string.slice(parser.i));</span><span class="s3">\n    </span><span class="s1">parser.i = 0;</span><span class="s3">\n    </span><span class="s1">return parser.itemFactory.create('beginEnv').setProperty('name', begin.getName());</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">NewcommandMethods.Macro = BaseMethods_js_1.default.Macro;</span><span class="s3">\n</span><span class="s1">exports.default = NewcommandMethods;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=NewcommandMethods.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var Symbol_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Symbol.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var NewcommandUtil;</span><span class="s3">\n</span><span class="s1">(function (NewcommandUtil) {</span><span class="s3">\n    </span><span class="s1">function disassembleSymbol(name, symbol) {</span><span class="s3">\n        </span><span class="s1">var newArgs = [name, symbol.char];</span><span class="s3">\n        </span><span class="s1">if (symbol.attributes) {</span><span class="s3">\n            </span><span class="s1">for (var key in symbol.attributes) {</span><span class="s3">\n                </span><span class="s1">newArgs.push(key);</span><span class="s3">\n                </span><span class="s1">newArgs.push(symbol.attributes[key]);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return newArgs;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">NewcommandUtil.disassembleSymbol = disassembleSymbol;</span><span class="s3">\n    </span><span class="s1">function assembleSymbol(args) {</span><span class="s3">\n        </span><span class="s1">var name = args[0];</span><span class="s3">\n        </span><span class="s1">var char = args[1];</span><span class="s3">\n        </span><span class="s1">var attrs = {};</span><span class="s3">\n        </span><span class="s1">for (var i = 2; i &lt; args.length; i = i + 2) {</span><span class="s3">\n            </span><span class="s1">attrs[args[i]] = args[i + 1];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return new Symbol_js_1.Symbol(name, char, attrs);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">NewcommandUtil.assembleSymbol = assembleSymbol;</span><span class="s3">\n    </span><span class="s1">function GetCSname(parser, cmd) {</span><span class="s3">\n        </span><span class="s1">var c = parser.GetNext();</span><span class="s3">\n        </span><span class="s1">if (c !== '</span><span class="s3">\\\\</span><span class="s1">') {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('MissingCS', '%1 must be followed by a control sequence', cmd);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var cs = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(cmd));</span><span class="s3">\n        </span><span class="s1">return cs.substr(1);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">NewcommandUtil.GetCSname = GetCSname;</span><span class="s3">\n    </span><span class="s1">function GetCsNameArgument(parser, name) {</span><span class="s3">\n        </span><span class="s1">var cs = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));</span><span class="s3">\n        </span><span class="s1">if (cs.charAt(0) === '</span><span class="s3">\\\\</span><span class="s1">') {</span><span class="s3">\n            </span><span class="s1">cs = cs.substr(1);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (!cs.match(/^(.|[a-z]+)$/i)) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('IllegalControlSequenceName', 'Illegal control sequence name for %1', name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return cs;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">NewcommandUtil.GetCsNameArgument = GetCsNameArgument;</span><span class="s3">\n    </span><span class="s1">function GetArgCount(parser, name) {</span><span class="s3">\n        </span><span class="s1">var n = parser.GetBrackets(name);</span><span class="s3">\n        </span><span class="s1">if (n) {</span><span class="s3">\n            </span><span class="s1">n = ParseUtil_js_1.default.trimSpaces(n);</span><span class="s3">\n            </span><span class="s1">if (!n.match(/^[0-9]+$/)) {</span><span class="s3">\n                </span><span class="s1">throw new TexError_js_1.default('IllegalParamNumber', 'Illegal number of parameters specified in %1', name);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return n;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">NewcommandUtil.GetArgCount = GetArgCount;</span><span class="s3">\n    </span><span class="s1">function GetTemplate(parser, cmd, cs) {</span><span class="s3">\n        </span><span class="s1">var c = parser.GetNext();</span><span class="s3">\n        </span><span class="s1">var params = [];</span><span class="s3">\n        </span><span class="s1">var n = 0;</span><span class="s3">\n        </span><span class="s1">var i = parser.i;</span><span class="s3">\n        </span><span class="s1">while (parser.i &lt; parser.string.length) {</span><span class="s3">\n            </span><span class="s1">c = parser.GetNext();</span><span class="s3">\n            </span><span class="s1">if (c === '#') {</span><span class="s3">\n                </span><span class="s1">if (i !== parser.i) {</span><span class="s3">\n                    </span><span class="s1">params[n] = parser.string.substr(i, parser.i - i);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">c = parser.string.charAt(++parser.i);</span><span class="s3">\n                </span><span class="s1">if (!c.match(/^[1-9]$/)) {</span><span class="s3">\n                    </span><span class="s1">throw new TexError_js_1.default('CantUseHash2', 'Illegal use of # in template for %1', cs);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">if (parseInt(c) !== ++n) {</span><span class="s3">\n                    </span><span class="s1">throw new TexError_js_1.default('SequentialParam', 'Parameters for %1 must be numbered sequentially', cs);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">i = parser.i + 1;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (c === '{') {</span><span class="s3">\n                </span><span class="s1">if (i !== parser.i) {</span><span class="s3">\n                    </span><span class="s1">params[n] = parser.string.substr(i, parser.i - i);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">if (params.length &gt; 0) {</span><span class="s3">\n                    </span><span class="s1">return [n.toString()].concat(params);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">return n;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">parser.i++;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('MissingReplacementString', 'Missing replacement string for definition of %1', cmd);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">NewcommandUtil.GetTemplate = GetTemplate;</span><span class="s3">\n    </span><span class="s1">function GetParameter(parser, name, param) {</span><span class="s3">\n        </span><span class="s1">if (param == null) {</span><span class="s3">\n            </span><span class="s1">return parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var i = parser.i;</span><span class="s3">\n        </span><span class="s1">var j = 0;</span><span class="s3">\n        </span><span class="s1">var hasBraces = 0;</span><span class="s3">\n        </span><span class="s1">while (parser.i &lt; parser.string.length) {</span><span class="s3">\n            </span><span class="s1">var c = parser.string.charAt(parser.i);</span><span class="s3">\n            </span><span class="s1">if (c === '{') {</span><span class="s3">\n                </span><span class="s1">if (parser.i === i) {</span><span class="s3">\n                    </span><span class="s1">hasBraces = 1;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">parser.GetArgument(name);</span><span class="s3">\n                </span><span class="s1">j = parser.i - i;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (MatchParam(parser, param)) {</span><span class="s3">\n                </span><span class="s1">if (hasBraces) {</span><span class="s3">\n                    </span><span class="s1">i++;</span><span class="s3">\n                    </span><span class="s1">j -= 2;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return parser.string.substr(i, j);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (c === '</span><span class="s3">\\\\</span><span class="s1">') {</span><span class="s3">\n                </span><span class="s1">parser.i++;</span><span class="s3">\n                </span><span class="s1">j++;</span><span class="s3">\n                </span><span class="s1">hasBraces = 0;</span><span class="s3">\n                </span><span class="s1">var match = parser.string.substr(parser.i).match(/[a-z]+|./i);</span><span class="s3">\n                </span><span class="s1">if (match) {</span><span class="s3">\n                    </span><span class="s1">parser.i += match[0].length;</span><span class="s3">\n                    </span><span class="s1">j = parser.i - i;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">parser.i++;</span><span class="s3">\n                </span><span class="s1">j++;</span><span class="s3">\n                </span><span class="s1">hasBraces = 0;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('RunawayArgument', 'Runaway argument for %1?', name);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">NewcommandUtil.GetParameter = GetParameter;</span><span class="s3">\n    </span><span class="s1">function MatchParam(parser, param) {</span><span class="s3">\n        </span><span class="s1">if (parser.string.substr(parser.i, param.length) !== param) {</span><span class="s3">\n            </span><span class="s1">return 0;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (param.match(/</span><span class="s3">\\\\</span><span class="s1">[a-z]+$/i) &amp;&amp;</span><span class="s3">\n            </span><span class="s1">parser.string.charAt(parser.i + param.length).match(/[a-z]/i)) {</span><span class="s3">\n            </span><span class="s1">return 0;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">parser.i += param.length;</span><span class="s3">\n        </span><span class="s1">return 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">NewcommandUtil.MatchParam = MatchParam;</span><span class="s3">\n    </span><span class="s1">function addDelimiter(parser, cs, char, attr) {</span><span class="s3">\n        </span><span class="s1">var handlers = parser.configuration.handlers;</span><span class="s3">\n        </span><span class="s1">var handler = handlers.retrieve(NewcommandUtil.NEW_DELIMITER);</span><span class="s3">\n        </span><span class="s1">handler.add(cs, new Symbol_js_1.Symbol(cs, char, attr));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">NewcommandUtil.addDelimiter = addDelimiter;</span><span class="s3">\n    </span><span class="s1">function addMacro(parser, cs, func, attr, symbol) {</span><span class="s3">\n        </span><span class="s1">if (symbol === void 0) { symbol = ''; }</span><span class="s3">\n        </span><span class="s1">var handlers = parser.configuration.handlers;</span><span class="s3">\n        </span><span class="s1">var handler = handlers.retrieve(NewcommandUtil.NEW_COMMAND);</span><span class="s3">\n        </span><span class="s1">handler.add(cs, new Symbol_js_1.Macro(symbol ? symbol : cs, func, attr));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">NewcommandUtil.addMacro = addMacro;</span><span class="s3">\n    </span><span class="s1">function addEnvironment(parser, env, func, attr) {</span><span class="s3">\n        </span><span class="s1">var handlers = parser.configuration.handlers;</span><span class="s3">\n        </span><span class="s1">var handler = handlers.retrieve(NewcommandUtil.NEW_ENVIRONMENT);</span><span class="s3">\n        </span><span class="s1">handler.add(env, new Symbol_js_1.Macro(env, func, attr));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">NewcommandUtil.addEnvironment = addEnvironment;</span><span class="s3">\n    </span><span class="s1">NewcommandUtil.NEW_DELIMITER = 'new-Delimiter';</span><span class="s3">\n    </span><span class="s1">NewcommandUtil.NEW_COMMAND = 'new-Command';</span><span class="s3">\n    </span><span class="s1">NewcommandUtil.NEW_ENVIRONMENT = 'new-Environment';</span><span class="s3">\n</span><span class="s1">})(NewcommandUtil || (NewcommandUtil = {}));</span><span class="s3">\n</span><span class="s1">exports.default = NewcommandUtil;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=NewcommandUtil.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.NoErrorsConfiguration = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function noErrors(factory, message, _id, expr) {</span><span class="s3">\n    </span><span class="s1">var mtext = factory.create('token', 'mtext', {}, expr.replace(/</span><span class="s3">\\</span><span class="s1">n/g, ' '));</span><span class="s3">\n    </span><span class="s1">var error = factory.create('node', 'merror', [mtext], { 'data-mjx-error': message, title: message });</span><span class="s3">\n    </span><span class="s1">return error;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">exports.NoErrorsConfiguration = Configuration_js_1.Configuration.create('noerrors', { nodes: { 'error': noErrors } });</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=NoErrorsConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __values = (this &amp;&amp; this.__values) || function(o) {</span><span class="s3">\n    </span><span class="s1">var s = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Symbol.iterator, m = s &amp;&amp; o[s], i = 0;</span><span class="s3">\n    </span><span class="s1">if (m) return m.call(o);</span><span class="s3">\n    </span><span class="s1">if (o &amp;&amp; typeof o.length === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) return {</span><span class="s3">\n        </span><span class="s1">next: function () {</span><span class="s3">\n            </span><span class="s1">if (o &amp;&amp; i &gt;= o.length) o = void 0;</span><span class="s3">\n            </span><span class="s1">return { value: o &amp;&amp; o[i++], done: !o };</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">throw new TypeError(s ? </span><span class="s3">\&quot;</span><span class="s1">Object is not iterable.</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Symbol.iterator is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.NoUndefinedConfiguration = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function noUndefined(parser, name) {</span><span class="s3">\n    </span><span class="s1">var e_1, _a;</span><span class="s3">\n    </span><span class="s1">var textNode = parser.create('text', '</span><span class="s3">\\\\</span><span class="s1">' + name);</span><span class="s3">\n    </span><span class="s1">var options = parser.options.noundefined || {};</span><span class="s3">\n    </span><span class="s1">var def = {};</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">for (var _b = __values(['color', 'background', 'size']), _c = _b.next(); !_c.done; _c = _b.next()) {</span><span class="s3">\n            </span><span class="s1">var id = _c.value;</span><span class="s3">\n            </span><span class="s1">if (options[id]) {</span><span class="s3">\n                </span><span class="s1">def['math' + id] = options[id];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (e_1_1) { e_1 = { error: e_1_1 }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (_c &amp;&amp; !_c.done &amp;&amp; (_a = _b.return)) _a.call(_b);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e_1) throw e_1.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.Push(parser.create('node', 'mtext', [], def, textNode));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">exports.NoUndefinedConfiguration = Configuration_js_1.Configuration.create('noundefined', {</span><span class="s3">\n    </span><span class="s1">fallback: { macro: noUndefined },</span><span class="s3">\n    </span><span class="s1">options: {</span><span class="s3">\n        </span><span class="s1">noundefined: {</span><span class="s3">\n            </span><span class="s1">color: 'red',</span><span class="s3">\n            </span><span class="s1">background: '',</span><span class="s3">\n            </span><span class="s1">size: ''</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">priority: 3</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=NoUndefinedConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var _a;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.PhysicsConfiguration = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var PhysicsItems_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./PhysicsItems.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./PhysicsMappings.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">exports.PhysicsConfiguration = Configuration_js_1.Configuration.create('physics', {</span><span class="s3">\n    </span><span class="s1">handler: {</span><span class="s3">\n        </span><span class="s1">macro: [</span><span class="s3">\n            </span><span class="s1">'Physics-automatic-bracing-macros',</span><span class="s3">\n            </span><span class="s1">'Physics-vector-macros',</span><span class="s3">\n            </span><span class="s1">'Physics-vector-mo',</span><span class="s3">\n            </span><span class="s1">'Physics-vector-mi',</span><span class="s3">\n            </span><span class="s1">'Physics-derivative-macros',</span><span class="s3">\n            </span><span class="s1">'Physics-expressions-macros',</span><span class="s3">\n            </span><span class="s1">'Physics-quick-quad-macros',</span><span class="s3">\n            </span><span class="s1">'Physics-bra-ket-macros',</span><span class="s3">\n            </span><span class="s1">'Physics-matrix-macros'</span><span class="s3">\n        </span><span class="s1">],</span><span class="s3">\n        </span><span class="s1">character: ['Physics-characters'],</span><span class="s3">\n        </span><span class="s1">environment: ['Physics-aux-envs']</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">items: (_a = {},</span><span class="s3">\n        </span><span class="s1">_a[PhysicsItems_js_1.AutoOpen.prototype.kind] = PhysicsItems_js_1.AutoOpen,</span><span class="s3">\n        </span><span class="s1">_a),</span><span class="s3">\n    </span><span class="s1">options: {</span><span class="s3">\n        </span><span class="s1">physics: {</span><span class="s3">\n            </span><span class="s1">italicdiff: false,</span><span class="s3">\n            </span><span class="s1">arrowdel: false</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=PhysicsConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __extends = (this &amp;&amp; this.__extends) || (function () {</span><span class="s3">\n    </span><span class="s1">var extendStatics = function (d, b) {</span><span class="s3">\n        </span><span class="s1">extendStatics = Object.setPrototypeOf ||</span><span class="s3">\n            </span><span class="s1">({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||</span><span class="s3">\n            </span><span class="s1">function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };</span><span class="s3">\n        </span><span class="s1">return extendStatics(d, b);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return function (d, b) {</span><span class="s3">\n        </span><span class="s1">if (typeof b !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; b !== null)</span><span class="s3">\n            </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Class extends value </span><span class="s3">\&quot; </span><span class="s1">+ String(b) + </span><span class="s3">\&quot; </span><span class="s1">is not a constructor or null</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">extendStatics(d, b);</span><span class="s3">\n        </span><span class="s1">function __() { this.constructor = d; }</span><span class="s3">\n        </span><span class="s1">d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.AutoOpen = void 0;</span><span class="s3">\n</span><span class="s1">var StackItem_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../StackItem.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var NodeUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../NodeUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexParser_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexParser.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var AutoOpen = (function (_super) {</span><span class="s3">\n    </span><span class="s1">__extends(AutoOpen, _super);</span><span class="s3">\n    </span><span class="s1">function AutoOpen() {</span><span class="s3">\n        </span><span class="s1">var _this = _super !== null &amp;&amp; _super.apply(this, arguments) || this;</span><span class="s3">\n        </span><span class="s1">_this.openCount = 0;</span><span class="s3">\n        </span><span class="s1">return _this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(AutoOpen.prototype, </span><span class="s3">\&quot;</span><span class="s1">kind</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n        </span><span class="s1">get: function () {</span><span class="s3">\n            </span><span class="s1">return 'auto open';</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">enumerable: false,</span><span class="s3">\n        </span><span class="s1">configurable: true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(AutoOpen.prototype, </span><span class="s3">\&quot;</span><span class="s1">isOpen</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n        </span><span class="s1">get: function () {</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">enumerable: false,</span><span class="s3">\n        </span><span class="s1">configurable: true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">AutoOpen.prototype.toMml = function () {</span><span class="s3">\n        </span><span class="s1">var parser = this.factory.configuration.parser;</span><span class="s3">\n        </span><span class="s1">var right = this.getProperty('right');</span><span class="s3">\n        </span><span class="s1">if (this.getProperty('smash')) {</span><span class="s3">\n            </span><span class="s1">var mml_1 = _super.prototype.toMml.call(this);</span><span class="s3">\n            </span><span class="s1">var smash = parser.create('node', 'mpadded', [mml_1], { height: 0, depth: 0 });</span><span class="s3">\n            </span><span class="s1">this.Clear();</span><span class="s3">\n            </span><span class="s1">this.Push(parser.create('node', 'TeXAtom', [smash]));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (right) {</span><span class="s3">\n            </span><span class="s1">this.Push(new TexParser_js_1.default(right, parser.stack.env, parser.configuration).mml());</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var mml = ParseUtil_js_1.default.fenced(this.factory.configuration, this.getProperty('open'), _super.prototype.toMml.call(this), this.getProperty('close'), this.getProperty('big'));</span><span class="s3">\n        </span><span class="s1">NodeUtil_js_1.default.removeProperties(mml, 'open', 'close', 'texClass');</span><span class="s3">\n        </span><span class="s1">return mml;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">AutoOpen.prototype.checkItem = function (item) {</span><span class="s3">\n        </span><span class="s1">if (item.isKind('mml') &amp;&amp; item.Size() === 1) {</span><span class="s3">\n            </span><span class="s1">var mml = item.toMml();</span><span class="s3">\n            </span><span class="s1">if (mml.isKind('mo') &amp;&amp; mml.getText() === this.getProperty('open')) {</span><span class="s3">\n                </span><span class="s1">this.openCount++;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var close = item.getProperty('autoclose');</span><span class="s3">\n        </span><span class="s1">if (close &amp;&amp; close === this.getProperty('close') &amp;&amp; !this.openCount--) {</span><span class="s3">\n            </span><span class="s1">if (this.getProperty('ignore')) {</span><span class="s3">\n                </span><span class="s1">this.Clear();</span><span class="s3">\n                </span><span class="s1">return [[], true];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return [[this.toMml()], true];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return _super.prototype.checkItem.call(this, item);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">AutoOpen.errors = Object.assign(Object.create(StackItem_js_1.BaseItem.errors), {</span><span class="s3">\n        </span><span class="s1">'stop': ['ExtraOrMissingDelims', 'Extra open or missing close delimiter']</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">return AutoOpen;</span><span class="s3">\n</span><span class="s1">}(StackItem_js_1.BaseItem));</span><span class="s3">\n</span><span class="s1">exports.AutoOpen = AutoOpen;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=PhysicsItems.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var PhysicsMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">./PhysicsMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexConstants_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../TexConstants.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ParseMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var MmlNode_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../../core/MmlTree/MmlNode.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('Physics-automatic-bracing-macros', {</span><span class="s3">\n    </span><span class="s1">'quantity': 'Quantity',</span><span class="s3">\n    </span><span class="s1">'qty': 'Quantity',</span><span class="s3">\n    </span><span class="s1">'pqty': ['Quantity', '(', ')', true],</span><span class="s3">\n    </span><span class="s1">'bqty': ['Quantity', '[', ']', true],</span><span class="s3">\n    </span><span class="s1">'vqty': ['Quantity', '|', '|', true],</span><span class="s3">\n    </span><span class="s1">'Bqty': ['Quantity', '</span><span class="s3">\\\\</span><span class="s1">{', '</span><span class="s3">\\\\</span><span class="s1">}', true],</span><span class="s3">\n    </span><span class="s1">'absolutevalue': ['Quantity', '|', '|', true],</span><span class="s3">\n    </span><span class="s1">'abs': ['Quantity', '|', '|', true],</span><span class="s3">\n    </span><span class="s1">'norm': ['Quantity', '</span><span class="s3">\\\\</span><span class="s1">|', '</span><span class="s3">\\\\</span><span class="s1">|', true],</span><span class="s3">\n    </span><span class="s1">'evaluated': 'Eval',</span><span class="s3">\n    </span><span class="s1">'eval': 'Eval',</span><span class="s3">\n    </span><span class="s1">'order': ['Quantity', '(', ')', true, 'O',</span><span class="s3">\n        </span><span class="s1">TexConstants_js_1.TexConstant.Variant.CALLIGRAPHIC],</span><span class="s3">\n    </span><span class="s1">'commutator': 'Commutator',</span><span class="s3">\n    </span><span class="s1">'comm': 'Commutator',</span><span class="s3">\n    </span><span class="s1">'anticommutator': ['Commutator', '</span><span class="s3">\\\\</span><span class="s1">{', '</span><span class="s3">\\\\</span><span class="s1">}'],</span><span class="s3">\n    </span><span class="s1">'acomm': ['Commutator', '</span><span class="s3">\\\\</span><span class="s1">{', '</span><span class="s3">\\\\</span><span class="s1">}'],</span><span class="s3">\n    </span><span class="s1">'poissonbracket': ['Commutator', '</span><span class="s3">\\\\</span><span class="s1">{', '</span><span class="s3">\\\\</span><span class="s1">}'],</span><span class="s3">\n    </span><span class="s1">'pb': ['Commutator', '</span><span class="s3">\\\\</span><span class="s1">{', '</span><span class="s3">\\\\</span><span class="s1">}']</span><span class="s3">\n</span><span class="s1">}, PhysicsMethods_js_1.default);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CharacterMap('Physics-vector-mo', ParseMethods_js_1.default.mathchar0mo, {</span><span class="s3">\n    </span><span class="s1">dotproduct: ['</span><span class="s3">\\</span><span class="s1">u22C5', { mathvariant: TexConstants_js_1.TexConstant.Variant.BOLD }],</span><span class="s3">\n    </span><span class="s1">vdot: ['</span><span class="s3">\\</span><span class="s1">u22C5', { mathvariant: TexConstants_js_1.TexConstant.Variant.BOLD }],</span><span class="s3">\n    </span><span class="s1">crossproduct: '</span><span class="s3">\\</span><span class="s1">u00D7',</span><span class="s3">\n    </span><span class="s1">cross: '</span><span class="s3">\\</span><span class="s1">u00D7',</span><span class="s3">\n    </span><span class="s1">cp: '</span><span class="s3">\\</span><span class="s1">u00D7',</span><span class="s3">\n    </span><span class="s1">gradientnabla: ['</span><span class="s3">\\</span><span class="s1">u2207', { mathvariant: TexConstants_js_1.TexConstant.Variant.BOLD }]</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CharacterMap('Physics-vector-mi', ParseMethods_js_1.default.mathchar0mi, {</span><span class="s3">\n    </span><span class="s1">real: ['</span><span class="s3">\\</span><span class="s1">u211C', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],</span><span class="s3">\n    </span><span class="s1">imaginary: ['</span><span class="s3">\\</span><span class="s1">u2111', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }]</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('Physics-vector-macros', {</span><span class="s3">\n    </span><span class="s1">'vnabla': 'Vnabla',</span><span class="s3">\n    </span><span class="s1">'vectorbold': 'VectorBold',</span><span class="s3">\n    </span><span class="s1">'vb': 'VectorBold',</span><span class="s3">\n    </span><span class="s1">'vectorarrow': ['StarMacro', 1, '</span><span class="s3">\\\\</span><span class="s1">vec{</span><span class="s3">\\\\</span><span class="s1">vb', '{#1}}'],</span><span class="s3">\n    </span><span class="s1">'va': ['StarMacro', 1, '</span><span class="s3">\\\\</span><span class="s1">vec{</span><span class="s3">\\\\</span><span class="s1">vb', '{#1}}'],</span><span class="s3">\n    </span><span class="s1">'vectorunit': ['StarMacro', 1, '</span><span class="s3">\\\\</span><span class="s1">hat{</span><span class="s3">\\\\</span><span class="s1">vb', '{#1}}'],</span><span class="s3">\n    </span><span class="s1">'vu': ['StarMacro', 1, '</span><span class="s3">\\\\</span><span class="s1">hat{</span><span class="s3">\\\\</span><span class="s1">vb', '{#1}}'],</span><span class="s3">\n    </span><span class="s1">'gradient': ['OperatorApplication', '</span><span class="s3">\\\\</span><span class="s1">vnabla', '(', '['],</span><span class="s3">\n    </span><span class="s1">'grad': ['OperatorApplication', '</span><span class="s3">\\\\</span><span class="s1">vnabla', '(', '['],</span><span class="s3">\n    </span><span class="s1">'divergence': ['VectorOperator', '</span><span class="s3">\\\\</span><span class="s1">vnabla</span><span class="s3">\\\\</span><span class="s1">vdot', '(', '['],</span><span class="s3">\n    </span><span class="s1">'div': ['VectorOperator', '</span><span class="s3">\\\\</span><span class="s1">vnabla</span><span class="s3">\\\\</span><span class="s1">vdot', '(', '['],</span><span class="s3">\n    </span><span class="s1">'curl': ['VectorOperator', '</span><span class="s3">\\\\</span><span class="s1">vnabla</span><span class="s3">\\\\</span><span class="s1">crossproduct', '(', '['],</span><span class="s3">\n    </span><span class="s1">'laplacian': ['OperatorApplication', '</span><span class="s3">\\\\</span><span class="s1">nabla^2', '(', '['],</span><span class="s3">\n</span><span class="s1">}, PhysicsMethods_js_1.default);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('Physics-expressions-macros', {</span><span class="s3">\n    </span><span class="s1">'sin': 'Expression',</span><span class="s3">\n    </span><span class="s1">'sinh': 'Expression',</span><span class="s3">\n    </span><span class="s1">'arcsin': 'Expression',</span><span class="s3">\n    </span><span class="s1">'asin': 'Expression',</span><span class="s3">\n    </span><span class="s1">'cos': 'Expression',</span><span class="s3">\n    </span><span class="s1">'cosh': 'Expression',</span><span class="s3">\n    </span><span class="s1">'arccos': 'Expression',</span><span class="s3">\n    </span><span class="s1">'acos': 'Expression',</span><span class="s3">\n    </span><span class="s1">'tan': 'Expression',</span><span class="s3">\n    </span><span class="s1">'tanh': 'Expression',</span><span class="s3">\n    </span><span class="s1">'arctan': 'Expression',</span><span class="s3">\n    </span><span class="s1">'atan': 'Expression',</span><span class="s3">\n    </span><span class="s1">'csc': 'Expression',</span><span class="s3">\n    </span><span class="s1">'csch': 'Expression',</span><span class="s3">\n    </span><span class="s1">'arccsc': 'Expression',</span><span class="s3">\n    </span><span class="s1">'acsc': 'Expression',</span><span class="s3">\n    </span><span class="s1">'sec': 'Expression',</span><span class="s3">\n    </span><span class="s1">'sech': 'Expression',</span><span class="s3">\n    </span><span class="s1">'arcsec': 'Expression',</span><span class="s3">\n    </span><span class="s1">'asec': 'Expression',</span><span class="s3">\n    </span><span class="s1">'cot': 'Expression',</span><span class="s3">\n    </span><span class="s1">'coth': 'Expression',</span><span class="s3">\n    </span><span class="s1">'arccot': 'Expression',</span><span class="s3">\n    </span><span class="s1">'acot': 'Expression',</span><span class="s3">\n    </span><span class="s1">'exp': ['Expression', false],</span><span class="s3">\n    </span><span class="s1">'log': 'Expression',</span><span class="s3">\n    </span><span class="s1">'ln': 'Expression',</span><span class="s3">\n    </span><span class="s1">'det': ['Expression', false],</span><span class="s3">\n    </span><span class="s1">'Pr': ['Expression', false],</span><span class="s3">\n    </span><span class="s1">'tr': ['Expression', false],</span><span class="s3">\n    </span><span class="s1">'trace': ['Expression', false, 'tr'],</span><span class="s3">\n    </span><span class="s1">'Tr': ['Expression', false],</span><span class="s3">\n    </span><span class="s1">'Trace': ['Expression', false, 'Tr'],</span><span class="s3">\n    </span><span class="s1">'rank': 'NamedFn',</span><span class="s3">\n    </span><span class="s1">'erf': ['Expression', false],</span><span class="s3">\n    </span><span class="s1">'Residue': ['Macro', '</span><span class="s3">\\\\</span><span class="s1">mathrm{Res}'],</span><span class="s3">\n    </span><span class="s1">'Res': ['OperatorApplication', '</span><span class="s3">\\\\</span><span class="s1">Residue', '(', '[', '{'],</span><span class="s3">\n    </span><span class="s1">'principalvalue': ['OperatorApplication', '{</span><span class="s3">\\\\</span><span class="s1">cal P}'],</span><span class="s3">\n    </span><span class="s1">'pv': ['OperatorApplication', '{</span><span class="s3">\\\\</span><span class="s1">cal P}'],</span><span class="s3">\n    </span><span class="s1">'PV': ['OperatorApplication', '{</span><span class="s3">\\\\</span><span class="s1">rm P.V.}'],</span><span class="s3">\n    </span><span class="s1">'Re': ['OperatorApplication', '</span><span class="s3">\\\\</span><span class="s1">mathrm{Re}', '{'],</span><span class="s3">\n    </span><span class="s1">'Im': ['OperatorApplication', '</span><span class="s3">\\\\</span><span class="s1">mathrm{Im}', '{'],</span><span class="s3">\n    </span><span class="s1">'sine': ['NamedFn', 'sin'],</span><span class="s3">\n    </span><span class="s1">'hypsine': ['NamedFn', 'sinh'],</span><span class="s3">\n    </span><span class="s1">'arcsine': ['NamedFn', 'arcsin'],</span><span class="s3">\n    </span><span class="s1">'asine': ['NamedFn', 'asin'],</span><span class="s3">\n    </span><span class="s1">'cosine': ['NamedFn', 'cos'],</span><span class="s3">\n    </span><span class="s1">'hypcosine': ['NamedFn', 'cosh'],</span><span class="s3">\n    </span><span class="s1">'arccosine': ['NamedFn', 'arccos'],</span><span class="s3">\n    </span><span class="s1">'acosine': ['NamedFn', 'acos'],</span><span class="s3">\n    </span><span class="s1">'tangent': ['NamedFn', 'tan'],</span><span class="s3">\n    </span><span class="s1">'hyptangent': ['NamedFn', 'tanh'],</span><span class="s3">\n    </span><span class="s1">'arctangent': ['NamedFn', 'arctan'],</span><span class="s3">\n    </span><span class="s1">'atangent': ['NamedFn', 'atan'],</span><span class="s3">\n    </span><span class="s1">'cosecant': ['NamedFn', 'csc'],</span><span class="s3">\n    </span><span class="s1">'hypcosecant': ['NamedFn', 'csch'],</span><span class="s3">\n    </span><span class="s1">'arccosecant': ['NamedFn', 'arccsc'],</span><span class="s3">\n    </span><span class="s1">'acosecant': ['NamedFn', 'acsc'],</span><span class="s3">\n    </span><span class="s1">'secant': ['NamedFn', 'sec'],</span><span class="s3">\n    </span><span class="s1">'hypsecant': ['NamedFn', 'sech'],</span><span class="s3">\n    </span><span class="s1">'arcsecant': ['NamedFn', 'arcsec'],</span><span class="s3">\n    </span><span class="s1">'asecant': ['NamedFn', 'asec'],</span><span class="s3">\n    </span><span class="s1">'cotangent': ['NamedFn', 'cot'],</span><span class="s3">\n    </span><span class="s1">'hypcotangent': ['NamedFn', 'coth'],</span><span class="s3">\n    </span><span class="s1">'arccotangent': ['NamedFn', 'arccot'],</span><span class="s3">\n    </span><span class="s1">'acotangent': ['NamedFn', 'acot'],</span><span class="s3">\n    </span><span class="s1">'exponential': ['NamedFn', 'exp'],</span><span class="s3">\n    </span><span class="s1">'logarithm': ['NamedFn', 'log'],</span><span class="s3">\n    </span><span class="s1">'naturallogarithm': ['NamedFn', 'ln'],</span><span class="s3">\n    </span><span class="s1">'determinant': ['NamedFn', 'det'],</span><span class="s3">\n    </span><span class="s1">'Probability': ['NamedFn', 'Pr'],</span><span class="s3">\n</span><span class="s1">}, PhysicsMethods_js_1.default);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('Physics-quick-quad-macros', {</span><span class="s3">\n    </span><span class="s1">'qqtext': 'Qqtext',</span><span class="s3">\n    </span><span class="s1">'qq': 'Qqtext',</span><span class="s3">\n    </span><span class="s1">'qcomma': ['Macro', '</span><span class="s3">\\\\</span><span class="s1">qqtext*{,}'],</span><span class="s3">\n    </span><span class="s1">'qc': ['Macro', '</span><span class="s3">\\\\</span><span class="s1">qqtext*{,}'],</span><span class="s3">\n    </span><span class="s1">'qcc': ['Qqtext', 'c.c.'],</span><span class="s3">\n    </span><span class="s1">'qif': ['Qqtext', 'if'],</span><span class="s3">\n    </span><span class="s1">'qthen': ['Qqtext', 'then'],</span><span class="s3">\n    </span><span class="s1">'qelse': ['Qqtext', 'else'],</span><span class="s3">\n    </span><span class="s1">'qotherwise': ['Qqtext', 'otherwise'],</span><span class="s3">\n    </span><span class="s1">'qunless': ['Qqtext', 'unless'],</span><span class="s3">\n    </span><span class="s1">'qgiven': ['Qqtext', 'given'],</span><span class="s3">\n    </span><span class="s1">'qusing': ['Qqtext', 'using'],</span><span class="s3">\n    </span><span class="s1">'qassume': ['Qqtext', 'assume'],</span><span class="s3">\n    </span><span class="s1">'qsince': ['Qqtext', 'since'],</span><span class="s3">\n    </span><span class="s1">'qlet': ['Qqtext', 'let'],</span><span class="s3">\n    </span><span class="s1">'qfor': ['Qqtext', 'for'],</span><span class="s3">\n    </span><span class="s1">'qall': ['Qqtext', 'all'],</span><span class="s3">\n    </span><span class="s1">'qeven': ['Qqtext', 'even'],</span><span class="s3">\n    </span><span class="s1">'qodd': ['Qqtext', 'odd'],</span><span class="s3">\n    </span><span class="s1">'qinteger': ['Qqtext', 'integer'],</span><span class="s3">\n    </span><span class="s1">'qand': ['Qqtext', 'and'],</span><span class="s3">\n    </span><span class="s1">'qor': ['Qqtext', 'or'],</span><span class="s3">\n    </span><span class="s1">'qas': ['Qqtext', 'as'],</span><span class="s3">\n    </span><span class="s1">'qin': ['Qqtext', 'in'],</span><span class="s3">\n</span><span class="s1">}, PhysicsMethods_js_1.default);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('Physics-derivative-macros', {</span><span class="s3">\n    </span><span class="s1">'diffd': 'DiffD',</span><span class="s3">\n    </span><span class="s1">'flatfrac': ['Macro', '</span><span class="s3">\\\\</span><span class="s1">left.#1</span><span class="s3">\\\\</span><span class="s1">middle/#2</span><span class="s3">\\\\</span><span class="s1">right.', 2],</span><span class="s3">\n    </span><span class="s1">'differential': ['Differential', '</span><span class="s3">\\\\</span><span class="s1">diffd'],</span><span class="s3">\n    </span><span class="s1">'dd': ['Differential', '</span><span class="s3">\\\\</span><span class="s1">diffd'],</span><span class="s3">\n    </span><span class="s1">'variation': ['Differential', '</span><span class="s3">\\\\</span><span class="s1">delta'],</span><span class="s3">\n    </span><span class="s1">'var': ['Differential', '</span><span class="s3">\\\\</span><span class="s1">delta'],</span><span class="s3">\n    </span><span class="s1">'derivative': ['Derivative', 2, '</span><span class="s3">\\\\</span><span class="s1">diffd'],</span><span class="s3">\n    </span><span class="s1">'dv': ['Derivative', 2, '</span><span class="s3">\\\\</span><span class="s1">diffd'],</span><span class="s3">\n    </span><span class="s1">'partialderivative': ['Derivative', 3, '</span><span class="s3">\\\\</span><span class="s1">partial'],</span><span class="s3">\n    </span><span class="s1">'pderivative': ['Derivative', 3, '</span><span class="s3">\\\\</span><span class="s1">partial'],</span><span class="s3">\n    </span><span class="s1">'pdv': ['Derivative', 3, '</span><span class="s3">\\\\</span><span class="s1">partial'],</span><span class="s3">\n    </span><span class="s1">'functionalderivative': ['Derivative', 2, '</span><span class="s3">\\\\</span><span class="s1">delta'],</span><span class="s3">\n    </span><span class="s1">'fderivative': ['Derivative', 2, '</span><span class="s3">\\\\</span><span class="s1">delta'],</span><span class="s3">\n    </span><span class="s1">'fdv': ['Derivative', 2, '</span><span class="s3">\\\\</span><span class="s1">delta'],</span><span class="s3">\n</span><span class="s1">}, PhysicsMethods_js_1.default);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('Physics-bra-ket-macros', {</span><span class="s3">\n    </span><span class="s1">'bra': 'Bra',</span><span class="s3">\n    </span><span class="s1">'ket': 'Ket',</span><span class="s3">\n    </span><span class="s1">'innerproduct': 'BraKet',</span><span class="s3">\n    </span><span class="s1">'ip': 'BraKet',</span><span class="s3">\n    </span><span class="s1">'braket': 'BraKet',</span><span class="s3">\n    </span><span class="s1">'outerproduct': 'KetBra',</span><span class="s3">\n    </span><span class="s1">'dyad': 'KetBra',</span><span class="s3">\n    </span><span class="s1">'ketbra': 'KetBra',</span><span class="s3">\n    </span><span class="s1">'op': 'KetBra',</span><span class="s3">\n    </span><span class="s1">'expectationvalue': 'Expectation',</span><span class="s3">\n    </span><span class="s1">'expval': 'Expectation',</span><span class="s3">\n    </span><span class="s1">'ev': 'Expectation',</span><span class="s3">\n    </span><span class="s1">'matrixelement': 'MatrixElement',</span><span class="s3">\n    </span><span class="s1">'matrixel': 'MatrixElement',</span><span class="s3">\n    </span><span class="s1">'mel': 'MatrixElement',</span><span class="s3">\n</span><span class="s1">}, PhysicsMethods_js_1.default);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('Physics-matrix-macros', {</span><span class="s3">\n    </span><span class="s1">'matrixquantity': 'MatrixQuantity',</span><span class="s3">\n    </span><span class="s1">'mqty': 'MatrixQuantity',</span><span class="s3">\n    </span><span class="s1">'pmqty': ['Macro', '</span><span class="s3">\\\\</span><span class="s1">mqty(#1)', 1],</span><span class="s3">\n    </span><span class="s1">'Pmqty': ['Macro', '</span><span class="s3">\\\\</span><span class="s1">mqty*(#1)', 1],</span><span class="s3">\n    </span><span class="s1">'bmqty': ['Macro', '</span><span class="s3">\\\\</span><span class="s1">mqty[#1]', 1],</span><span class="s3">\n    </span><span class="s1">'vmqty': ['Macro', '</span><span class="s3">\\\\</span><span class="s1">mqty|#1|', 1],</span><span class="s3">\n    </span><span class="s1">'smallmatrixquantity': ['MatrixQuantity', true],</span><span class="s3">\n    </span><span class="s1">'smqty': ['MatrixQuantity', true],</span><span class="s3">\n    </span><span class="s1">'spmqty': ['Macro', '</span><span class="s3">\\\\</span><span class="s1">smqty(#1)', 1],</span><span class="s3">\n    </span><span class="s1">'sPmqty': ['Macro', '</span><span class="s3">\\\\</span><span class="s1">smqty*(#1)', 1],</span><span class="s3">\n    </span><span class="s1">'sbmqty': ['Macro', '</span><span class="s3">\\\\</span><span class="s1">smqty[#1]', 1],</span><span class="s3">\n    </span><span class="s1">'svmqty': ['Macro', '</span><span class="s3">\\\\</span><span class="s1">smqty|#1|', 1],</span><span class="s3">\n    </span><span class="s1">'matrixdeterminant': ['Macro', '</span><span class="s3">\\\\</span><span class="s1">vmqty{#1}', 1],</span><span class="s3">\n    </span><span class="s1">'mdet': ['Macro', '</span><span class="s3">\\\\</span><span class="s1">vmqty{#1}', 1],</span><span class="s3">\n    </span><span class="s1">'smdet': ['Macro', '</span><span class="s3">\\\\</span><span class="s1">svmqty{#1}', 1],</span><span class="s3">\n    </span><span class="s1">'identitymatrix': 'IdentityMatrix',</span><span class="s3">\n    </span><span class="s1">'imat': 'IdentityMatrix',</span><span class="s3">\n    </span><span class="s1">'xmatrix': 'XMatrix',</span><span class="s3">\n    </span><span class="s1">'xmat': 'XMatrix',</span><span class="s3">\n    </span><span class="s1">'zeromatrix': ['Macro', '</span><span class="s3">\\\\</span><span class="s1">xmat{0}{#1}{#2}', 2],</span><span class="s3">\n    </span><span class="s1">'zmat': ['Macro', '</span><span class="s3">\\\\</span><span class="s1">xmat{0}{#1}{#2}', 2],</span><span class="s3">\n    </span><span class="s1">'paulimatrix': 'PauliMatrix',</span><span class="s3">\n    </span><span class="s1">'pmat': 'PauliMatrix',</span><span class="s3">\n    </span><span class="s1">'diagonalmatrix': 'DiagonalMatrix',</span><span class="s3">\n    </span><span class="s1">'dmat': 'DiagonalMatrix',</span><span class="s3">\n    </span><span class="s1">'antidiagonalmatrix': ['DiagonalMatrix', true],</span><span class="s3">\n    </span><span class="s1">'admat': ['DiagonalMatrix', true]</span><span class="s3">\n</span><span class="s1">}, PhysicsMethods_js_1.default);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.EnvironmentMap('Physics-aux-envs', ParseMethods_js_1.default.environment, {</span><span class="s3">\n    </span><span class="s1">smallmatrix: ['Array', null, null, null, 'c', '0.333em', '.2em', 'S', 1]</span><span class="s3">\n</span><span class="s1">}, PhysicsMethods_js_1.default);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.MacroMap('Physics-characters', {</span><span class="s3">\n    </span><span class="s1">'|': ['AutoClose', MmlNode_js_1.TEXCLASS.ORD],</span><span class="s3">\n    </span><span class="s1">')': 'AutoClose',</span><span class="s3">\n    </span><span class="s1">']': 'AutoClose'</span><span class="s3">\n</span><span class="s1">}, PhysicsMethods_js_1.default);</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=PhysicsMappings.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __read = (this &amp;&amp; this.__read) || function (o, n) {</span><span class="s3">\n    </span><span class="s1">var m = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; o[Symbol.iterator];</span><span class="s3">\n    </span><span class="s1">if (!m) return o;</span><span class="s3">\n    </span><span class="s1">var i = m.call(o), r, ar = [], e;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">while ((n === void 0 || n-- &gt; 0) &amp;&amp; !(r = i.next()).done) ar.push(r.value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (error) { e = { error: error }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (r &amp;&amp; !r.done &amp;&amp; (m = i[</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">])) m.call(i);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e) throw e.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return ar;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">var BaseMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../base/BaseMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexParser_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexParser.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var MmlNode_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../../core/MmlTree/MmlNode.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var NodeUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../NodeUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var NodeFactory_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../NodeFactory.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var PhysicsMethods = {};</span><span class="s3">\n</span><span class="s1">var pairs = {</span><span class="s3">\n    </span><span class="s1">'(': ')',</span><span class="s3">\n    </span><span class="s1">'[': ']',</span><span class="s3">\n    </span><span class="s1">'{': '}',</span><span class="s3">\n    </span><span class="s1">'|': '|',</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var biggs = /^(b|B)i(g{1,2})$/;</span><span class="s3">\n</span><span class="s1">PhysicsMethods.Quantity = function (parser, name, open, close, arg, named, variant) {</span><span class="s3">\n    </span><span class="s1">if (open === void 0) { open = '('; }</span><span class="s3">\n    </span><span class="s1">if (close === void 0) { close = ')'; }</span><span class="s3">\n    </span><span class="s1">if (arg === void 0) { arg = false; }</span><span class="s3">\n    </span><span class="s1">if (named === void 0) { named = ''; }</span><span class="s3">\n    </span><span class="s1">if (variant === void 0) { variant = ''; }</span><span class="s3">\n    </span><span class="s1">var star = arg ? parser.GetStar() : false;</span><span class="s3">\n    </span><span class="s1">var next = parser.GetNext();</span><span class="s3">\n    </span><span class="s1">var position = parser.i;</span><span class="s3">\n    </span><span class="s1">var big = null;</span><span class="s3">\n    </span><span class="s1">if (next === '</span><span class="s3">\\\\</span><span class="s1">') {</span><span class="s3">\n        </span><span class="s1">parser.i++;</span><span class="s3">\n        </span><span class="s1">big = parser.GetCS();</span><span class="s3">\n        </span><span class="s1">if (!big.match(biggs)) {</span><span class="s3">\n            </span><span class="s1">var empty = parser.create('node', 'mrow');</span><span class="s3">\n            </span><span class="s1">parser.Push(ParseUtil_js_1.default.fenced(parser.configuration, open, empty, close));</span><span class="s3">\n            </span><span class="s1">parser.i = position;</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">next = parser.GetNext();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var right = pairs[next];</span><span class="s3">\n    </span><span class="s1">if (arg &amp;&amp; next !== '{') {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', parser.currentCS);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!right) {</span><span class="s3">\n        </span><span class="s1">var empty = parser.create('node', 'mrow');</span><span class="s3">\n        </span><span class="s1">parser.Push(ParseUtil_js_1.default.fenced(parser.configuration, open, empty, close));</span><span class="s3">\n        </span><span class="s1">parser.i = position;</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (named) {</span><span class="s3">\n        </span><span class="s1">var mml = parser.create('token', 'mi', { texClass: MmlNode_js_1.TEXCLASS.OP }, named);</span><span class="s3">\n        </span><span class="s1">if (variant) {</span><span class="s3">\n            </span><span class="s1">NodeUtil_js_1.default.setAttribute(mml, 'mathvariant', variant);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">parser.Push(parser.itemFactory.create('fn', mml));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (next === '{') {</span><span class="s3">\n        </span><span class="s1">var argument = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">next = arg ? open : '</span><span class="s3">\\\\</span><span class="s1">{';</span><span class="s3">\n        </span><span class="s1">right = arg ? close : '</span><span class="s3">\\\\</span><span class="s1">}';</span><span class="s3">\n        </span><span class="s1">argument = star ? next + ' ' + argument + ' ' + right :</span><span class="s3">\n            </span><span class="s1">(big ?</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">' + big + 'l' + next + ' ' + argument + ' ' + '</span><span class="s3">\\\\</span><span class="s1">' + big + 'r' + right :</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">left' + next + ' ' + argument + ' ' + '</span><span class="s3">\\\\</span><span class="s1">right' + right);</span><span class="s3">\n        </span><span class="s1">parser.Push(new TexParser_js_1.default(argument, parser.stack.env, parser.configuration).mml());</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (arg) {</span><span class="s3">\n        </span><span class="s1">next = open;</span><span class="s3">\n        </span><span class="s1">right = close;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.i++;</span><span class="s3">\n    </span><span class="s1">parser.Push(parser.itemFactory.create('auto open')</span><span class="s3">\n        </span><span class="s1">.setProperties({ open: next, close: right, big: big }));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.Eval = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var star = parser.GetStar();</span><span class="s3">\n    </span><span class="s1">var next = parser.GetNext();</span><span class="s3">\n    </span><span class="s1">if (next === '{') {</span><span class="s3">\n        </span><span class="s1">var arg = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">var replace = '</span><span class="s3">\\\\</span><span class="s1">left. ' +</span><span class="s3">\n            </span><span class="s1">(star ? '</span><span class="s3">\\\\</span><span class="s1">smash{' + arg + '}' : arg) +</span><span class="s3">\n            </span><span class="s1">' ' + '</span><span class="s3">\\\\</span><span class="s1">vphantom{</span><span class="s3">\\\\</span><span class="s1">int}</span><span class="s3">\\\\</span><span class="s1">right|';</span><span class="s3">\n        </span><span class="s1">parser.string = parser.string.slice(0, parser.i) + replace +</span><span class="s3">\n            </span><span class="s1">parser.string.slice(parser.i);</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (next === '(' || next === '[') {</span><span class="s3">\n        </span><span class="s1">parser.i++;</span><span class="s3">\n        </span><span class="s1">parser.Push(parser.itemFactory.create('auto open')</span><span class="s3">\n            </span><span class="s1">.setProperties({ open: next, close: '|',</span><span class="s3">\n            </span><span class="s1">smash: star, right: '</span><span class="s3">\\\\</span><span class="s1">vphantom{</span><span class="s3">\\\\</span><span class="s1">int}' }));</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', parser.currentCS);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.Commutator = function (parser, name, open, close) {</span><span class="s3">\n    </span><span class="s1">if (open === void 0) { open = '['; }</span><span class="s3">\n    </span><span class="s1">if (close === void 0) { close = ']'; }</span><span class="s3">\n    </span><span class="s1">var star = parser.GetStar();</span><span class="s3">\n    </span><span class="s1">var next = parser.GetNext();</span><span class="s3">\n    </span><span class="s1">var big = null;</span><span class="s3">\n    </span><span class="s1">if (next === '</span><span class="s3">\\\\</span><span class="s1">') {</span><span class="s3">\n        </span><span class="s1">parser.i++;</span><span class="s3">\n        </span><span class="s1">big = parser.GetCS();</span><span class="s3">\n        </span><span class="s1">if (!big.match(biggs)) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', parser.currentCS);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">next = parser.GetNext();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (next !== '{') {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', parser.currentCS);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var arg1 = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var arg2 = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var argument = arg1 + ',' + arg2;</span><span class="s3">\n    </span><span class="s1">argument = star ? open + ' ' + argument + ' ' + close :</span><span class="s3">\n        </span><span class="s1">(big ?</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">' + big + 'l' + open + ' ' + argument + ' ' + '</span><span class="s3">\\\\</span><span class="s1">' + big + 'r' + close :</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">left' + open + ' ' + argument + ' ' + '</span><span class="s3">\\\\</span><span class="s1">right' + close);</span><span class="s3">\n    </span><span class="s1">parser.Push(new TexParser_js_1.default(argument, parser.stack.env, parser.configuration).mml());</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var latinCap = [0x41, 0x5A];</span><span class="s3">\n</span><span class="s1">var latinSmall = [0x61, 0x7A];</span><span class="s3">\n</span><span class="s1">var greekCap = [0x391, 0x3A9];</span><span class="s3">\n</span><span class="s1">var greekSmall = [0x3B1, 0x3C9];</span><span class="s3">\n</span><span class="s1">var digits = [0x30, 0x39];</span><span class="s3">\n</span><span class="s1">function inRange(value, range) {</span><span class="s3">\n    </span><span class="s1">return (value &gt;= range[0] &amp;&amp; value &lt;= range[1]);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function createVectorToken(factory, kind, def, text) {</span><span class="s3">\n    </span><span class="s1">var parser = factory.configuration.parser;</span><span class="s3">\n    </span><span class="s1">var token = NodeFactory_js_1.NodeFactory.createToken(factory, kind, def, text);</span><span class="s3">\n    </span><span class="s1">var code = text.codePointAt(0);</span><span class="s3">\n    </span><span class="s1">if (text.length === 1 &amp;&amp; !parser.stack.env.font &amp;&amp;</span><span class="s3">\n        </span><span class="s1">parser.stack.env.vectorFont &amp;&amp;</span><span class="s3">\n        </span><span class="s1">(inRange(code, latinCap) || inRange(code, latinSmall) ||</span><span class="s3">\n            </span><span class="s1">inRange(code, greekCap) || inRange(code, digits) ||</span><span class="s3">\n            </span><span class="s1">(inRange(code, greekSmall) &amp;&amp; parser.stack.env.vectorStar) ||</span><span class="s3">\n            </span><span class="s1">NodeUtil_js_1.default.getAttribute(token, 'accent'))) {</span><span class="s3">\n        </span><span class="s1">NodeUtil_js_1.default.setAttribute(token, 'mathvariant', parser.stack.env.vectorFont);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return token;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">PhysicsMethods.VectorBold = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var star = parser.GetStar();</span><span class="s3">\n    </span><span class="s1">var arg = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var oldToken = parser.configuration.nodeFactory.get('token');</span><span class="s3">\n    </span><span class="s1">var oldFont = parser.stack.env.font;</span><span class="s3">\n    </span><span class="s1">delete parser.stack.env.font;</span><span class="s3">\n    </span><span class="s1">parser.configuration.nodeFactory.set('token', createVectorToken);</span><span class="s3">\n    </span><span class="s1">parser.stack.env.vectorFont = star ? 'bold-italic' : 'bold';</span><span class="s3">\n    </span><span class="s1">parser.stack.env.vectorStar = star;</span><span class="s3">\n    </span><span class="s1">var node = new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml();</span><span class="s3">\n    </span><span class="s1">if (oldFont) {</span><span class="s3">\n        </span><span class="s1">parser.stack.env.font = oldFont;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">delete parser.stack.env.vectorFont;</span><span class="s3">\n    </span><span class="s1">delete parser.stack.env.vectorStar;</span><span class="s3">\n    </span><span class="s1">parser.configuration.nodeFactory.set('token', oldToken);</span><span class="s3">\n    </span><span class="s1">parser.Push(node);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.StarMacro = function (parser, name, argcount) {</span><span class="s3">\n    </span><span class="s1">var parts = [];</span><span class="s3">\n    </span><span class="s1">for (var _i = 3; _i &lt; arguments.length; _i++) {</span><span class="s3">\n        </span><span class="s1">parts[_i - 3] = arguments[_i];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var star = parser.GetStar();</span><span class="s3">\n    </span><span class="s1">var args = [];</span><span class="s3">\n    </span><span class="s1">if (argcount) {</span><span class="s3">\n        </span><span class="s1">for (var i = args.length; i &lt; argcount; i++) {</span><span class="s3">\n            </span><span class="s1">args.push(parser.GetArgument(name));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var macro = parts.join(star ? '*' : '');</span><span class="s3">\n    </span><span class="s1">macro = ParseUtil_js_1.default.substituteArgs(parser, args, macro);</span><span class="s3">\n    </span><span class="s1">parser.string = ParseUtil_js_1.default.addArgs(parser, macro, parser.string.slice(parser.i));</span><span class="s3">\n    </span><span class="s1">parser.i = 0;</span><span class="s3">\n    </span><span class="s1">ParseUtil_js_1.default.checkMaxMacros(parser);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var vectorApplication = function (parser, kind, name, operator, fences) {</span><span class="s3">\n    </span><span class="s1">var op = new TexParser_js_1.default(operator, parser.stack.env, parser.configuration).mml();</span><span class="s3">\n    </span><span class="s1">parser.Push(parser.itemFactory.create(kind, op));</span><span class="s3">\n    </span><span class="s1">var left = parser.GetNext();</span><span class="s3">\n    </span><span class="s1">var right = pairs[left];</span><span class="s3">\n    </span><span class="s1">if (!right) {</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var lfence = '', rfence = '', arg = '';</span><span class="s3">\n    </span><span class="s1">var enlarge = fences.indexOf(left) !== -1;</span><span class="s3">\n    </span><span class="s1">if (left === '{') {</span><span class="s3">\n        </span><span class="s1">arg = parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">lfence = enlarge ? '</span><span class="s3">\\\\</span><span class="s1">left</span><span class="s3">\\\\</span><span class="s1">{' : '';</span><span class="s3">\n        </span><span class="s1">rfence = enlarge ? '</span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\\\\</span><span class="s1">}' : '';</span><span class="s3">\n        </span><span class="s1">var macro = lfence + ' ' + arg + ' ' + rfence;</span><span class="s3">\n        </span><span class="s1">parser.string = macro + parser.string.slice(parser.i);</span><span class="s3">\n        </span><span class="s1">parser.i = 0;</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!enlarge) {</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.i++;</span><span class="s3">\n    </span><span class="s1">parser.Push(parser.itemFactory.create('auto open')</span><span class="s3">\n        </span><span class="s1">.setProperties({ open: left, close: right }));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.OperatorApplication = function (parser, name, operator) {</span><span class="s3">\n    </span><span class="s1">var fences = [];</span><span class="s3">\n    </span><span class="s1">for (var _i = 3; _i &lt; arguments.length; _i++) {</span><span class="s3">\n        </span><span class="s1">fences[_i - 3] = arguments[_i];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">vectorApplication(parser, 'fn', name, operator, fences);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.VectorOperator = function (parser, name, operator) {</span><span class="s3">\n    </span><span class="s1">var fences = [];</span><span class="s3">\n    </span><span class="s1">for (var _i = 3; _i &lt; arguments.length; _i++) {</span><span class="s3">\n        </span><span class="s1">fences[_i - 3] = arguments[_i];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">vectorApplication(parser, 'mml', name, operator, fences);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.Expression = function (parser, name, opt, id) {</span><span class="s3">\n    </span><span class="s1">if (opt === void 0) { opt = true; }</span><span class="s3">\n    </span><span class="s1">if (id === void 0) { id = ''; }</span><span class="s3">\n    </span><span class="s1">id = id || name.slice(1);</span><span class="s3">\n    </span><span class="s1">var exp = opt ? parser.GetBrackets(name) : null;</span><span class="s3">\n    </span><span class="s1">var mml = parser.create('token', 'mi', { texClass: MmlNode_js_1.TEXCLASS.OP }, id);</span><span class="s3">\n    </span><span class="s1">if (exp) {</span><span class="s3">\n        </span><span class="s1">var sup = new TexParser_js_1.default(exp, parser.stack.env, parser.configuration).mml();</span><span class="s3">\n        </span><span class="s1">mml = parser.create('node', 'msup', [mml, sup]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.Push(parser.itemFactory.create('fn', mml));</span><span class="s3">\n    </span><span class="s1">if (parser.GetNext() !== '(') {</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.i++;</span><span class="s3">\n    </span><span class="s1">parser.Push(parser.itemFactory.create('auto open')</span><span class="s3">\n        </span><span class="s1">.setProperties({ open: '(', close: ')' }));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.Qqtext = function (parser, name, text) {</span><span class="s3">\n    </span><span class="s1">var star = parser.GetStar();</span><span class="s3">\n    </span><span class="s1">var arg = text ? text : parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var replace = (star ? '' : '</span><span class="s3">\\\\</span><span class="s1">quad') + '</span><span class="s3">\\\\</span><span class="s1">text{' + arg + '}</span><span class="s3">\\\\</span><span class="s1">quad ';</span><span class="s3">\n    </span><span class="s1">parser.string = parser.string.slice(0, parser.i) + replace +</span><span class="s3">\n        </span><span class="s1">parser.string.slice(parser.i);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.Differential = function (parser, name, op) {</span><span class="s3">\n    </span><span class="s1">var optArg = parser.GetBrackets(name);</span><span class="s3">\n    </span><span class="s1">var power = optArg != null ? '^{' + optArg + '}' : ' ';</span><span class="s3">\n    </span><span class="s1">var parens = parser.GetNext() === '(';</span><span class="s3">\n    </span><span class="s1">var braces = parser.GetNext() === '{';</span><span class="s3">\n    </span><span class="s1">var macro = op + power;</span><span class="s3">\n    </span><span class="s1">if (!(parens || braces)) {</span><span class="s3">\n        </span><span class="s1">macro += parser.GetArgument(name, true) || '';</span><span class="s3">\n        </span><span class="s1">var mml = new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml();</span><span class="s3">\n        </span><span class="s1">parser.Push(mml);</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (braces) {</span><span class="s3">\n        </span><span class="s1">macro += parser.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">var mml = new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml();</span><span class="s3">\n        </span><span class="s1">parser.Push(parser.create('node', 'TeXAtom', [mml], { texClass: MmlNode_js_1.TEXCLASS.OP }));</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());</span><span class="s3">\n    </span><span class="s1">parser.i++;</span><span class="s3">\n    </span><span class="s1">parser.Push(parser.itemFactory.create('auto open')</span><span class="s3">\n        </span><span class="s1">.setProperties({ open: '(', close: ')' }));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.Derivative = function (parser, name, argMax, op) {</span><span class="s3">\n    </span><span class="s1">var star = parser.GetStar();</span><span class="s3">\n    </span><span class="s1">var optArg = parser.GetBrackets(name);</span><span class="s3">\n    </span><span class="s1">var argCounter = 1;</span><span class="s3">\n    </span><span class="s1">var args = [];</span><span class="s3">\n    </span><span class="s1">args.push(parser.GetArgument(name));</span><span class="s3">\n    </span><span class="s1">while (parser.GetNext() === '{' &amp;&amp; argCounter &lt; argMax) {</span><span class="s3">\n        </span><span class="s1">args.push(parser.GetArgument(name));</span><span class="s3">\n        </span><span class="s1">argCounter++;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var ignore = false;</span><span class="s3">\n    </span><span class="s1">var power1 = ' ';</span><span class="s3">\n    </span><span class="s1">var power2 = ' ';</span><span class="s3">\n    </span><span class="s1">if (argMax &gt; 2 &amp;&amp; args.length &gt; 2) {</span><span class="s3">\n        </span><span class="s1">power1 = '^{' + (args.length - 1) + '}';</span><span class="s3">\n        </span><span class="s1">ignore = true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (optArg != null) {</span><span class="s3">\n        </span><span class="s1">if (argMax &gt; 2 &amp;&amp; args.length &gt; 1) {</span><span class="s3">\n            </span><span class="s1">ignore = true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">power1 = '^{' + optArg + '}';</span><span class="s3">\n        </span><span class="s1">power2 = power1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var frac = star ? '</span><span class="s3">\\\\</span><span class="s1">flatfrac' : '</span><span class="s3">\\\\</span><span class="s1">frac';</span><span class="s3">\n    </span><span class="s1">var first = args.length &gt; 1 ? args[0] : '';</span><span class="s3">\n    </span><span class="s1">var second = args.length &gt; 1 ? args[1] : args[0];</span><span class="s3">\n    </span><span class="s1">var rest = '';</span><span class="s3">\n    </span><span class="s1">for (var i = 2, arg = void 0; arg = args[i]; i++) {</span><span class="s3">\n        </span><span class="s1">rest += op + ' ' + arg;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var macro = frac + '{' + op + power1 + first + '}' +</span><span class="s3">\n        </span><span class="s1">'{' + op + ' ' + second + power2 + ' ' + rest + '}';</span><span class="s3">\n    </span><span class="s1">parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());</span><span class="s3">\n    </span><span class="s1">if (parser.GetNext() === '(') {</span><span class="s3">\n        </span><span class="s1">parser.i++;</span><span class="s3">\n        </span><span class="s1">parser.Push(parser.itemFactory.create('auto open')</span><span class="s3">\n            </span><span class="s1">.setProperties({ open: '(', close: ')', ignore: ignore }));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.Bra = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var starBra = parser.GetStar();</span><span class="s3">\n    </span><span class="s1">var bra = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var ket = '';</span><span class="s3">\n    </span><span class="s1">var hasKet = false;</span><span class="s3">\n    </span><span class="s1">var starKet = false;</span><span class="s3">\n    </span><span class="s1">if (parser.GetNext() === '</span><span class="s3">\\\\</span><span class="s1">') {</span><span class="s3">\n        </span><span class="s1">var saveI = parser.i;</span><span class="s3">\n        </span><span class="s1">parser.i++;</span><span class="s3">\n        </span><span class="s1">var cs = parser.GetCS();</span><span class="s3">\n        </span><span class="s1">var symbol = parser.lookup('macro', cs);</span><span class="s3">\n        </span><span class="s1">if (symbol &amp;&amp; symbol.symbol === 'ket') {</span><span class="s3">\n            </span><span class="s1">hasKet = true;</span><span class="s3">\n            </span><span class="s1">saveI = parser.i;</span><span class="s3">\n            </span><span class="s1">starKet = parser.GetStar();</span><span class="s3">\n            </span><span class="s1">if (parser.GetNext() === '{') {</span><span class="s3">\n                </span><span class="s1">ket = parser.GetArgument(cs, true);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">parser.i = saveI;</span><span class="s3">\n                </span><span class="s1">starKet = false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">parser.i = saveI;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var macro = '';</span><span class="s3">\n    </span><span class="s1">if (hasKet) {</span><span class="s3">\n        </span><span class="s1">macro = (starBra || starKet) ?</span><span class="s3">\n            \&quot;\\\\</span><span class="s1">langle{</span><span class="s3">\&quot;</span><span class="s1">.concat(bra, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">vert{</span><span class="s3">\&quot;</span><span class="s1">).concat(ket, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">) :</span><span class="s3">\n            \&quot;\\\\</span><span class="s1">left</span><span class="s3">\\\\</span><span class="s1">langle{</span><span class="s3">\&quot;</span><span class="s1">.concat(bra, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">middle</span><span class="s3">\\\\</span><span class="s1">vert{</span><span class="s3">\&quot;</span><span class="s1">).concat(ket, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">macro = (starBra || starKet) ?</span><span class="s3">\n            \&quot;\\\\</span><span class="s1">langle{</span><span class="s3">\&quot;</span><span class="s1">.concat(bra, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">vert</span><span class="s3">\&quot;</span><span class="s1">) : </span><span class="s3">\&quot;\\\\</span><span class="s1">left</span><span class="s3">\\\\</span><span class="s1">langle{</span><span class="s3">\&quot;</span><span class="s1">.concat(bra, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\\\\</span><span class="s1">vert{</span><span class="s3">\&quot;</span><span class="s1">).concat(ket, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.Ket = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var star = parser.GetStar();</span><span class="s3">\n    </span><span class="s1">var ket = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var macro = star ? </span><span class="s3">\&quot;\\\\</span><span class="s1">vert{</span><span class="s3">\&quot;</span><span class="s1">.concat(ket, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">) :</span><span class="s3">\n        \&quot;\\\\</span><span class="s1">left</span><span class="s3">\\\\</span><span class="s1">vert{</span><span class="s3">\&quot;</span><span class="s1">.concat(ket, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.BraKet = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var star = parser.GetStar();</span><span class="s3">\n    </span><span class="s1">var bra = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var ket = null;</span><span class="s3">\n    </span><span class="s1">if (parser.GetNext() === '{') {</span><span class="s3">\n        </span><span class="s1">ket = parser.GetArgument(name, true);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var macro = '';</span><span class="s3">\n    </span><span class="s1">if (ket == null) {</span><span class="s3">\n        </span><span class="s1">macro = star ?</span><span class="s3">\n            \&quot;\\\\</span><span class="s1">langle{</span><span class="s3">\&quot;</span><span class="s1">.concat(bra, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">vert{</span><span class="s3">\&quot;</span><span class="s1">).concat(bra, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">) :</span><span class="s3">\n            \&quot;\\\\</span><span class="s1">left</span><span class="s3">\\\\</span><span class="s1">langle{</span><span class="s3">\&quot;</span><span class="s1">.concat(bra, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">middle</span><span class="s3">\\\\</span><span class="s1">vert{</span><span class="s3">\&quot;</span><span class="s1">).concat(bra, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">macro = star ?</span><span class="s3">\n            \&quot;\\\\</span><span class="s1">langle{</span><span class="s3">\&quot;</span><span class="s1">.concat(bra, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">vert{</span><span class="s3">\&quot;</span><span class="s1">).concat(ket, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">) :</span><span class="s3">\n            \&quot;\\\\</span><span class="s1">left</span><span class="s3">\\\\</span><span class="s1">langle{</span><span class="s3">\&quot;</span><span class="s1">.concat(bra, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">middle</span><span class="s3">\\\\</span><span class="s1">vert{</span><span class="s3">\&quot;</span><span class="s1">).concat(ket, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.KetBra = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var star = parser.GetStar();</span><span class="s3">\n    </span><span class="s1">var ket = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var bra = null;</span><span class="s3">\n    </span><span class="s1">if (parser.GetNext() === '{') {</span><span class="s3">\n        </span><span class="s1">bra = parser.GetArgument(name, true);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var macro = '';</span><span class="s3">\n    </span><span class="s1">if (bra == null) {</span><span class="s3">\n        </span><span class="s1">macro = star ?</span><span class="s3">\n            \&quot;\\\\</span><span class="s1">vert{</span><span class="s3">\&quot;</span><span class="s1">.concat(ket, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\\\\</span><span class="s1">!</span><span class="s3">\\\\</span><span class="s1">langle{</span><span class="s3">\&quot;</span><span class="s1">).concat(ket, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">vert</span><span class="s3">\&quot;</span><span class="s1">) :</span><span class="s3">\n            \&quot;\\\\</span><span class="s1">left</span><span class="s3">\\\\</span><span class="s1">vert{</span><span class="s3">\&quot;</span><span class="s1">.concat(ket, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">middle</span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\\\\</span><span class="s1">!</span><span class="s3">\\\\</span><span class="s1">middle</span><span class="s3">\\\\</span><span class="s1">langle{</span><span class="s3">\&quot;</span><span class="s1">).concat(ket, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\\\\</span><span class="s1">vert</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">macro = star ?</span><span class="s3">\n            \&quot;\\\\</span><span class="s1">vert{</span><span class="s3">\&quot;</span><span class="s1">.concat(ket, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\\\\</span><span class="s1">!</span><span class="s3">\\\\</span><span class="s1">langle{</span><span class="s3">\&quot;</span><span class="s1">).concat(bra, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">vert</span><span class="s3">\&quot;</span><span class="s1">) :</span><span class="s3">\n            \&quot;\\\\</span><span class="s1">left</span><span class="s3">\\\\</span><span class="s1">vert{</span><span class="s3">\&quot;</span><span class="s1">.concat(ket, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">middle</span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\\\\</span><span class="s1">!</span><span class="s3">\\\\</span><span class="s1">middle</span><span class="s3">\\\\</span><span class="s1">langle{</span><span class="s3">\&quot;</span><span class="s1">).concat(bra, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\\\\</span><span class="s1">vert</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">function outputBraket(_a, star1, star2) {</span><span class="s3">\n    </span><span class="s1">var _b = __read(_a, 3), arg1 = _b[0], arg2 = _b[1], arg3 = _b[2];</span><span class="s3">\n    </span><span class="s1">return (star1 &amp;&amp; star2) ?</span><span class="s3">\n        \&quot;\\\\</span><span class="s1">left</span><span class="s3">\\\\</span><span class="s1">langle{</span><span class="s3">\&quot;</span><span class="s1">.concat(arg1, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">middle</span><span class="s3">\\\\</span><span class="s1">vert{</span><span class="s3">\&quot;</span><span class="s1">).concat(arg2, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">middle</span><span class="s3">\\\\</span><span class="s1">vert{</span><span class="s3">\&quot;</span><span class="s1">).concat(arg3, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">) :</span><span class="s3">\n        </span><span class="s1">(star1 ? </span><span class="s3">\&quot;\\\\</span><span class="s1">langle{</span><span class="s3">\&quot;</span><span class="s1">.concat(arg1, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">vert{</span><span class="s3">\&quot;</span><span class="s1">).concat(arg2, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">vert{</span><span class="s3">\&quot;</span><span class="s1">).concat(arg3, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">) :</span><span class="s3">\n            \&quot;\\\\</span><span class="s1">left</span><span class="s3">\\\\</span><span class="s1">langle{</span><span class="s3">\&quot;</span><span class="s1">.concat(arg1, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\\\\</span><span class="s1">vert{</span><span class="s3">\&quot;</span><span class="s1">).concat(arg2, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">left</span><span class="s3">\\\\</span><span class="s1">vert{</span><span class="s3">\&quot;</span><span class="s1">).concat(arg3, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">PhysicsMethods.Expectation = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var star1 = parser.GetStar();</span><span class="s3">\n    </span><span class="s1">var star2 = star1 &amp;&amp; parser.GetStar();</span><span class="s3">\n    </span><span class="s1">var arg1 = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var arg2 = null;</span><span class="s3">\n    </span><span class="s1">if (parser.GetNext() === '{') {</span><span class="s3">\n        </span><span class="s1">arg2 = parser.GetArgument(name, true);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var macro = (arg1 &amp;&amp; arg2) ?</span><span class="s3">\n        </span><span class="s1">outputBraket([arg2, arg1, arg2], star1, star2) :</span><span class="s3">\n        </span><span class="s1">(star1 ? </span><span class="s3">\&quot;\\\\</span><span class="s1">langle {</span><span class="s3">\&quot;</span><span class="s1">.concat(arg1, </span><span class="s3">\&quot;</span><span class="s1">} </span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">) :</span><span class="s3">\n            \&quot;\\\\</span><span class="s1">left</span><span class="s3">\\\\</span><span class="s1">langle {</span><span class="s3">\&quot;</span><span class="s1">.concat(arg1, </span><span class="s3">\&quot;</span><span class="s1">} </span><span class="s3">\\\\</span><span class="s1">right</span><span class="s3">\\\\</span><span class="s1">rangle</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n    </span><span class="s1">parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.MatrixElement = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var star1 = parser.GetStar();</span><span class="s3">\n    </span><span class="s1">var star2 = star1 &amp;&amp; parser.GetStar();</span><span class="s3">\n    </span><span class="s1">var arg1 = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var arg2 = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var arg3 = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var macro = outputBraket([arg1, arg2, arg3], star1, star2);</span><span class="s3">\n    </span><span class="s1">parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.MatrixQuantity = function (parser, name, small) {</span><span class="s3">\n    </span><span class="s1">var star = parser.GetStar();</span><span class="s3">\n    </span><span class="s1">var next = parser.GetNext();</span><span class="s3">\n    </span><span class="s1">var array = small ? 'smallmatrix' : 'array';</span><span class="s3">\n    </span><span class="s1">var arg = '';</span><span class="s3">\n    </span><span class="s1">var open = '';</span><span class="s3">\n    </span><span class="s1">var close = '';</span><span class="s3">\n    </span><span class="s1">switch (next) {</span><span class="s3">\n        </span><span class="s1">case '{':</span><span class="s3">\n            </span><span class="s1">arg = parser.GetArgument(name);</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case '(':</span><span class="s3">\n            </span><span class="s1">parser.i++;</span><span class="s3">\n            </span><span class="s1">open = star ? '</span><span class="s3">\\\\</span><span class="s1">lgroup' : '(';</span><span class="s3">\n            </span><span class="s1">close = star ? '</span><span class="s3">\\\\</span><span class="s1">rgroup' : ')';</span><span class="s3">\n            </span><span class="s1">arg = parser.GetUpTo(name, ')');</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case '[':</span><span class="s3">\n            </span><span class="s1">parser.i++;</span><span class="s3">\n            </span><span class="s1">open = '[';</span><span class="s3">\n            </span><span class="s1">close = ']';</span><span class="s3">\n            </span><span class="s1">arg = parser.GetUpTo(name, ']');</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case '|':</span><span class="s3">\n            </span><span class="s1">parser.i++;</span><span class="s3">\n            </span><span class="s1">open = '|';</span><span class="s3">\n            </span><span class="s1">close = '|';</span><span class="s3">\n            </span><span class="s1">arg = parser.GetUpTo(name, '|');</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">default:</span><span class="s3">\n            </span><span class="s1">open = '(';</span><span class="s3">\n            </span><span class="s1">close = ')';</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var macro = (open ? '</span><span class="s3">\\\\</span><span class="s1">left' : '') + open +</span><span class="s3">\n        </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">begin{' + array + '}{} ' + arg + '</span><span class="s3">\\\\</span><span class="s1">end{' + array + '}' +</span><span class="s3">\n        </span><span class="s1">(open ? '</span><span class="s3">\\\\</span><span class="s1">right' : '') + close;</span><span class="s3">\n    </span><span class="s1">parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.IdentityMatrix = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var arg = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var size = parseInt(arg, 10);</span><span class="s3">\n    </span><span class="s1">if (isNaN(size)) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('InvalidNumber', 'Invalid number');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (size &lt;= 1) {</span><span class="s3">\n        </span><span class="s1">parser.string = '1' + parser.string.slice(parser.i);</span><span class="s3">\n        </span><span class="s1">parser.i = 0;</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var zeros = Array(size).fill('0');</span><span class="s3">\n    </span><span class="s1">var columns = [];</span><span class="s3">\n    </span><span class="s1">for (var i = 0; i &lt; size; i++) {</span><span class="s3">\n        </span><span class="s1">var row = zeros.slice();</span><span class="s3">\n        </span><span class="s1">row[i] = '1';</span><span class="s3">\n        </span><span class="s1">columns.push(row.join(' &amp; '));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.string = columns.join('</span><span class="s3">\\\\\\\\ </span><span class="s1">') + parser.string.slice(parser.i);</span><span class="s3">\n    </span><span class="s1">parser.i = 0;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.XMatrix = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var star = parser.GetStar();</span><span class="s3">\n    </span><span class="s1">var arg1 = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var arg2 = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var arg3 = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var n = parseInt(arg2, 10);</span><span class="s3">\n    </span><span class="s1">var m = parseInt(arg3, 10);</span><span class="s3">\n    </span><span class="s1">if (isNaN(n) || isNaN(m) || m.toString() !== arg3 || n.toString() !== arg2) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('InvalidNumber', 'Invalid number');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">n = n &lt; 1 ? 1 : n;</span><span class="s3">\n    </span><span class="s1">m = m &lt; 1 ? 1 : m;</span><span class="s3">\n    </span><span class="s1">if (!star) {</span><span class="s3">\n        </span><span class="s1">var row = Array(m).fill(arg1).join(' &amp; ');</span><span class="s3">\n        </span><span class="s1">var matrix_1 = Array(n).fill(row).join('</span><span class="s3">\\\\\\\\ </span><span class="s1">');</span><span class="s3">\n        </span><span class="s1">parser.string = matrix_1 + parser.string.slice(parser.i);</span><span class="s3">\n        </span><span class="s1">parser.i = 0;</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var matrix = '';</span><span class="s3">\n    </span><span class="s1">if (n === 1 &amp;&amp; m === 1) {</span><span class="s3">\n        </span><span class="s1">matrix = arg1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (n === 1) {</span><span class="s3">\n        </span><span class="s1">var row = [];</span><span class="s3">\n        </span><span class="s1">for (var i = 1; i &lt;= m; i++) {</span><span class="s3">\n            </span><span class="s1">row.push(</span><span class="s3">\&quot;\&quot;</span><span class="s1">.concat(arg1, </span><span class="s3">\&quot;</span><span class="s1">_{</span><span class="s3">\&quot;</span><span class="s1">).concat(i, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">matrix = row.join(' &amp; ');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (m === 1) {</span><span class="s3">\n        </span><span class="s1">var row = [];</span><span class="s3">\n        </span><span class="s1">for (var i = 1; i &lt;= n; i++) {</span><span class="s3">\n            </span><span class="s1">row.push(</span><span class="s3">\&quot;\&quot;</span><span class="s1">.concat(arg1, </span><span class="s3">\&quot;</span><span class="s1">_{</span><span class="s3">\&quot;</span><span class="s1">).concat(i, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">matrix = row.join('</span><span class="s3">\\\\\\\\ </span><span class="s1">');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">var rows = [];</span><span class="s3">\n        </span><span class="s1">for (var i = 1; i &lt;= n; i++) {</span><span class="s3">\n            </span><span class="s1">var row = [];</span><span class="s3">\n            </span><span class="s1">for (var j = 1; j &lt;= m; j++) {</span><span class="s3">\n                </span><span class="s1">row.push(</span><span class="s3">\&quot;\&quot;</span><span class="s1">.concat(arg1, </span><span class="s3">\&quot;</span><span class="s1">_{{</span><span class="s3">\&quot;</span><span class="s1">).concat(i, </span><span class="s3">\&quot;</span><span class="s1">}{</span><span class="s3">\&quot;</span><span class="s1">).concat(j, </span><span class="s3">\&quot;</span><span class="s1">}}</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">rows.push(row.join(' &amp; '));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">matrix = rows.join('</span><span class="s3">\\\\\\\\ </span><span class="s1">');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.string = matrix + parser.string.slice(parser.i);</span><span class="s3">\n    </span><span class="s1">parser.i = 0;</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.PauliMatrix = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var arg = parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var matrix = arg.slice(1);</span><span class="s3">\n    </span><span class="s1">switch (arg[0]) {</span><span class="s3">\n        </span><span class="s1">case '0':</span><span class="s3">\n            </span><span class="s1">matrix += ' 1 &amp; 0</span><span class="s3">\\\\\\\\ </span><span class="s1">0 &amp; 1';</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case '1':</span><span class="s3">\n        </span><span class="s1">case 'x':</span><span class="s3">\n            </span><span class="s1">matrix += ' 0 &amp; 1</span><span class="s3">\\\\\\\\ </span><span class="s1">1 &amp; 0';</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case '2':</span><span class="s3">\n        </span><span class="s1">case 'y':</span><span class="s3">\n            </span><span class="s1">matrix += ' 0 &amp; -i</span><span class="s3">\\\\\\\\ </span><span class="s1">i &amp; 0';</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">case '3':</span><span class="s3">\n        </span><span class="s1">case 'z':</span><span class="s3">\n            </span><span class="s1">matrix += ' 1 &amp; 0</span><span class="s3">\\\\\\\\ </span><span class="s1">0 &amp; -1';</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">default:</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.string = matrix + parser.string.slice(parser.i);</span><span class="s3">\n    </span><span class="s1">parser.i = 0;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.DiagonalMatrix = function (parser, name, anti) {</span><span class="s3">\n    </span><span class="s1">if (parser.GetNext() !== '{') {</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var startI = parser.i;</span><span class="s3">\n    </span><span class="s1">parser.GetArgument(name);</span><span class="s3">\n    </span><span class="s1">var endI = parser.i;</span><span class="s3">\n    </span><span class="s1">parser.i = startI + 1;</span><span class="s3">\n    </span><span class="s1">var elements = [];</span><span class="s3">\n    </span><span class="s1">var element = '';</span><span class="s3">\n    </span><span class="s1">var currentI = parser.i;</span><span class="s3">\n    </span><span class="s1">while (currentI &lt; endI) {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">element = parser.GetUpTo(name, ',');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">catch (e) {</span><span class="s3">\n            </span><span class="s1">parser.i = endI;</span><span class="s3">\n            </span><span class="s1">elements.push(parser.string.slice(currentI, endI - 1));</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (parser.i &gt;= endI) {</span><span class="s3">\n            </span><span class="s1">elements.push(parser.string.slice(currentI, endI));</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">currentI = parser.i;</span><span class="s3">\n        </span><span class="s1">elements.push(element);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">parser.string = makeDiagMatrix(elements, anti) + parser.string.slice(endI);</span><span class="s3">\n    </span><span class="s1">parser.i = 0;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">function makeDiagMatrix(elements, anti) {</span><span class="s3">\n    </span><span class="s1">var length = elements.length;</span><span class="s3">\n    </span><span class="s1">var matrix = [];</span><span class="s3">\n    </span><span class="s1">for (var i = 0; i &lt; length; i++) {</span><span class="s3">\n        </span><span class="s1">matrix.push(Array(anti ? length - i : i + 1).join('&amp;') +</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">mqty{' + elements[i] + '}');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return matrix.join('</span><span class="s3">\\\\\\\\ </span><span class="s1">');</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">PhysicsMethods.AutoClose = function (parser, fence, _texclass) {</span><span class="s3">\n    </span><span class="s1">var mo = parser.create('token', 'mo', { stretchy: false }, fence);</span><span class="s3">\n    </span><span class="s1">var item = parser.itemFactory.create('mml', mo).</span><span class="s3">\n        </span><span class="s1">setProperties({ autoclose: fence });</span><span class="s3">\n    </span><span class="s1">parser.Push(item);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.Vnabla = function (parser, _name) {</span><span class="s3">\n    </span><span class="s1">var argument = parser.options.physics.arrowdel ?</span><span class="s3">\n        </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">vec{</span><span class="s3">\\\\</span><span class="s1">gradientnabla}' : '{</span><span class="s3">\\\\</span><span class="s1">gradientnabla}';</span><span class="s3">\n    </span><span class="s1">return parser.Push(new TexParser_js_1.default(argument, parser.stack.env, parser.configuration).mml());</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.DiffD = function (parser, _name) {</span><span class="s3">\n    </span><span class="s1">var argument = parser.options.physics.italicdiff ? 'd' : '{</span><span class="s3">\\\\</span><span class="s1">rm d}';</span><span class="s3">\n    </span><span class="s1">return parser.Push(new TexParser_js_1.default(argument, parser.stack.env, parser.configuration).mml());</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">PhysicsMethods.Macro = BaseMethods_js_1.default.Macro;</span><span class="s3">\n</span><span class="s1">PhysicsMethods.NamedFn = BaseMethods_js_1.default.NamedFn;</span><span class="s3">\n</span><span class="s1">PhysicsMethods.Array = BaseMethods_js_1.default.Array;</span><span class="s3">\n</span><span class="s1">exports.default = PhysicsMethods;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=PhysicsMethods.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __values = (this &amp;&amp; this.__values) || function(o) {</span><span class="s3">\n    </span><span class="s1">var s = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Symbol.iterator, m = s &amp;&amp; o[s], i = 0;</span><span class="s3">\n    </span><span class="s1">if (m) return m.call(o);</span><span class="s3">\n    </span><span class="s1">if (o &amp;&amp; typeof o.length === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) return {</span><span class="s3">\n        </span><span class="s1">next: function () {</span><span class="s3">\n            </span><span class="s1">if (o &amp;&amp; i &gt;= o.length) o = void 0;</span><span class="s3">\n            </span><span class="s1">return { value: o &amp;&amp; o[i++], done: !o };</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">throw new TypeError(s ? </span><span class="s3">\&quot;</span><span class="s1">Object is not iterable.</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Symbol.iterator is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.SetOptionsConfiguration = exports.SetOptionsUtil = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var Symbol_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Symbol.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var BaseMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../base/BaseMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var Options_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../../util/Options.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">exports.SetOptionsUtil = {</span><span class="s3">\n    </span><span class="s1">filterPackage: function (parser, extension) {</span><span class="s3">\n        </span><span class="s1">if (extension !== 'tex' &amp;&amp; !Configuration_js_1.ConfigurationHandler.get(extension)) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('NotAPackage', 'Not a defined package: %1', extension);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var config = parser.options.setoptions;</span><span class="s3">\n        </span><span class="s1">var options = config.allowOptions[extension];</span><span class="s3">\n        </span><span class="s1">if ((options === undefined &amp;&amp; !config.allowPackageDefault) || options === false) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('PackageNotSettable', 'Options can</span><span class="s3">\\</span><span class="s1">'t be set for package </span><span class="s3">\&quot;</span><span class="s1">%1</span><span class="s3">\&quot;</span><span class="s1">', extension);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">filterOption: function (parser, extension, option) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">var config = parser.options.setoptions;</span><span class="s3">\n        </span><span class="s1">var options = config.allowOptions[extension] || {};</span><span class="s3">\n        </span><span class="s1">var allow = (options.hasOwnProperty(option) &amp;&amp; !(0, Options_js_1.isObject)(options[option]) ? options[option] : null);</span><span class="s3">\n        </span><span class="s1">if (allow === false || (allow === null &amp;&amp; !config.allowOptionsDefault)) {</span><span class="s3">\n            </span><span class="s1">throw new TexError_js_1.default('OptionNotSettable', 'Option </span><span class="s3">\&quot;</span><span class="s1">%1</span><span class="s3">\&quot; </span><span class="s1">is not allowed to be set', option);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (!((_a = (extension === 'tex' ? parser.options : parser.options[extension])) === null || _a === void 0 ? void 0 : _a.hasOwnProperty(option))) {</span><span class="s3">\n            </span><span class="s1">if (extension === 'tex') {</span><span class="s3">\n                </span><span class="s1">throw new TexError_js_1.default('InvalidTexOption', 'Invalid TeX option </span><span class="s3">\&quot;</span><span class="s1">%1</span><span class="s3">\&quot;</span><span class="s1">', option);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">throw new TexError_js_1.default('InvalidOptionKey', 'Invalid option </span><span class="s3">\&quot;</span><span class="s1">%1</span><span class="s3">\&quot; </span><span class="s1">for package </span><span class="s3">\&quot;</span><span class="s1">%2</span><span class="s3">\&quot;</span><span class="s1">', option, extension);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">filterValue: function (_parser, _extension, _option, value) {</span><span class="s3">\n        </span><span class="s1">return value;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var setOptionsMap = new SymbolMap_js_1.CommandMap('setoptions', {</span><span class="s3">\n    </span><span class="s1">setOptions: 'SetOptions'</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n    </span><span class="s1">SetOptions: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var e_1, _a;</span><span class="s3">\n        </span><span class="s1">var extension = parser.GetBrackets(name) || 'tex';</span><span class="s3">\n        </span><span class="s1">var options = ParseUtil_js_1.default.keyvalOptions(parser.GetArgument(name));</span><span class="s3">\n        </span><span class="s1">var config = parser.options.setoptions;</span><span class="s3">\n        </span><span class="s1">if (!config.filterPackage(parser, extension))</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">for (var _b = __values(Object.keys(options)), _c = _b.next(); !_c.done; _c = _b.next()) {</span><span class="s3">\n                </span><span class="s1">var key = _c.value;</span><span class="s3">\n                </span><span class="s1">if (config.filterOption(parser, extension, key)) {</span><span class="s3">\n                    </span><span class="s1">(extension === 'tex' ? parser.options : parser.options[extension])[key] =</span><span class="s3">\n                        </span><span class="s1">config.filterValue(parser, extension, key, options[key]);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">catch (e_1_1) { e_1 = { error: e_1_1 }; }</span><span class="s3">\n        </span><span class="s1">finally {</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">if (_c &amp;&amp; !_c.done &amp;&amp; (_a = _b.return)) _a.call(_b);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">finally { if (e_1) throw e_1.error; }</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">function setoptionsConfig(_config, jax) {</span><span class="s3">\n    </span><span class="s1">var require = jax.parseOptions.handlers.get('macro').lookup('require');</span><span class="s3">\n    </span><span class="s1">if (require) {</span><span class="s3">\n        </span><span class="s1">setOptionsMap.add('Require', new Symbol_js_1.Macro('Require', require._func));</span><span class="s3">\n        </span><span class="s1">setOptionsMap.add('require', new Symbol_js_1.Macro('require', BaseMethods_js_1.default.Macro, ['</span><span class="s3">\\\\</span><span class="s1">Require{#2}</span><span class="s3">\\\\</span><span class="s1">setOptions[#2]{#1}', 2, '']));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">exports.SetOptionsConfiguration = Configuration_js_1.Configuration.create('setoptions', {</span><span class="s3">\n    </span><span class="s1">handler: { macro: ['setoptions'] },</span><span class="s3">\n    </span><span class="s1">config: setoptionsConfig,</span><span class="s3">\n    </span><span class="s1">priority: 3,</span><span class="s3">\n    </span><span class="s1">options: {</span><span class="s3">\n        </span><span class="s1">setoptions: {</span><span class="s3">\n            </span><span class="s1">filterPackage: exports.SetOptionsUtil.filterPackage,</span><span class="s3">\n            </span><span class="s1">filterOption: exports.SetOptionsUtil.filterOption,</span><span class="s3">\n            </span><span class="s1">filterValue: exports.SetOptionsUtil.filterValue,</span><span class="s3">\n            </span><span class="s1">allowPackageDefault: true,</span><span class="s3">\n            </span><span class="s1">allowOptionsDefault: true,</span><span class="s3">\n            </span><span class="s1">allowOptions: (0, Options_js_1.expandable)({</span><span class="s3">\n                </span><span class="s1">tex: {</span><span class="s3">\n                    </span><span class="s1">FindTeX: false,</span><span class="s3">\n                    </span><span class="s1">formatError: false,</span><span class="s3">\n                    </span><span class="s1">package: false,</span><span class="s3">\n                    </span><span class="s1">baseURL: false,</span><span class="s3">\n                    </span><span class="s1">tags: false,</span><span class="s3">\n                    </span><span class="s1">maxBuffer: false,</span><span class="s3">\n                    </span><span class="s1">maxMaxros: false,</span><span class="s3">\n                    </span><span class="s1">macros: false,</span><span class="s3">\n                    </span><span class="s1">environments: false</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">setoptions: false,</span><span class="s3">\n                </span><span class="s1">autoload: false,</span><span class="s3">\n                </span><span class="s1">require: false,</span><span class="s3">\n                </span><span class="s1">configmacros: false,</span><span class="s3">\n                </span><span class="s1">tagformat: false</span><span class="s3">\n            </span><span class="s1">})</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=SetOptionsConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __extends = (this &amp;&amp; this.__extends) || (function () {</span><span class="s3">\n    </span><span class="s1">var extendStatics = function (d, b) {</span><span class="s3">\n        </span><span class="s1">extendStatics = Object.setPrototypeOf ||</span><span class="s3">\n            </span><span class="s1">({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||</span><span class="s3">\n            </span><span class="s1">function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };</span><span class="s3">\n        </span><span class="s1">return extendStatics(d, b);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return function (d, b) {</span><span class="s3">\n        </span><span class="s1">if (typeof b !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; b !== null)</span><span class="s3">\n            </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Class extends value </span><span class="s3">\&quot; </span><span class="s1">+ String(b) + </span><span class="s3">\&quot; </span><span class="s1">is not a constructor or null</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">extendStatics(d, b);</span><span class="s3">\n        </span><span class="s1">function __() { this.constructor = d; }</span><span class="s3">\n        </span><span class="s1">d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.TagFormatConfiguration = exports.tagformatConfig = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var Tags_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Tags.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var tagID = 0;</span><span class="s3">\n</span><span class="s1">function tagformatConfig(config, jax) {</span><span class="s3">\n    </span><span class="s1">var tags = jax.parseOptions.options.tags;</span><span class="s3">\n    </span><span class="s1">if (tags !== 'base' &amp;&amp; config.tags.hasOwnProperty(tags)) {</span><span class="s3">\n        </span><span class="s1">Tags_js_1.TagsFactory.add(tags, config.tags[tags]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var TagClass = Tags_js_1.TagsFactory.create(jax.parseOptions.options.tags).constructor;</span><span class="s3">\n    </span><span class="s1">var TagFormat = (function (_super) {</span><span class="s3">\n        </span><span class="s1">__extends(TagFormat, _super);</span><span class="s3">\n        </span><span class="s1">function TagFormat() {</span><span class="s3">\n            </span><span class="s1">return _super !== null &amp;&amp; _super.apply(this, arguments) || this;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">TagFormat.prototype.formatNumber = function (n) {</span><span class="s3">\n            </span><span class="s1">return jax.parseOptions.options.tagformat.number(n);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">TagFormat.prototype.formatTag = function (tag) {</span><span class="s3">\n            </span><span class="s1">return jax.parseOptions.options.tagformat.tag(tag);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">TagFormat.prototype.formatId = function (id) {</span><span class="s3">\n            </span><span class="s1">return jax.parseOptions.options.tagformat.id(id);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">TagFormat.prototype.formatUrl = function (id, base) {</span><span class="s3">\n            </span><span class="s1">return jax.parseOptions.options.tagformat.url(id, base);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">return TagFormat;</span><span class="s3">\n    </span><span class="s1">}(TagClass));</span><span class="s3">\n    </span><span class="s1">tagID++;</span><span class="s3">\n    </span><span class="s1">var tagName = 'configTags-' + tagID;</span><span class="s3">\n    </span><span class="s1">Tags_js_1.TagsFactory.add(tagName, TagFormat);</span><span class="s3">\n    </span><span class="s1">jax.parseOptions.options.tags = tagName;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">exports.tagformatConfig = tagformatConfig;</span><span class="s3">\n</span><span class="s1">exports.TagFormatConfiguration = Configuration_js_1.Configuration.create('tagformat', {</span><span class="s3">\n    </span><span class="s1">config: [tagformatConfig, 10],</span><span class="s3">\n    </span><span class="s1">options: {</span><span class="s3">\n        </span><span class="s1">tagformat: {</span><span class="s3">\n            </span><span class="s1">number: function (n) { return n.toString(); },</span><span class="s3">\n            </span><span class="s1">tag: function (tag) { return '(' + tag + ')'; },</span><span class="s3">\n            </span><span class="s1">id: function (id) { return 'mjx-eqn:' + id.replace(/</span><span class="s3">\\</span><span class="s1">s/g, '_'); },</span><span class="s3">\n            </span><span class="s1">url: function (id, base) { return base + '#' + encodeURIComponent(id); },</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=TagFormatConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.TextcompConfiguration = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./TextcompMappings.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">exports.TextcompConfiguration = Configuration_js_1.Configuration.create('textcomp', {</span><span class="s3">\n    </span><span class="s1">handler: { macro: ['textcomp-macros'] }</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=TextcompConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TexConstants_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../TexConstants.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TextMacrosMethods_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../textmacros/TextMacrosMethods.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TextParser_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../textmacros/TextParser.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('textcomp-macros', {</span><span class="s3">\n    </span><span class="s1">'textasciicircum': ['Insert', '</span><span class="s3">\\</span><span class="s1">u005E'],</span><span class="s3">\n    </span><span class="s1">'textasciitilde': ['Insert', '</span><span class="s3">\\</span><span class="s1">u007E'],</span><span class="s3">\n    </span><span class="s1">'textasteriskcentered': ['Insert', '</span><span class="s3">\\</span><span class="s1">u002A'],</span><span class="s3">\n    </span><span class="s1">'textbackslash': ['Insert', '</span><span class="s3">\\</span><span class="s1">u005C'],</span><span class="s3">\n    </span><span class="s1">'textbar': ['Insert', '</span><span class="s3">\\</span><span class="s1">u007C'],</span><span class="s3">\n    </span><span class="s1">'textbraceleft': ['Insert', '</span><span class="s3">\\</span><span class="s1">u007B'],</span><span class="s3">\n    </span><span class="s1">'textbraceright': ['Insert', '</span><span class="s3">\\</span><span class="s1">u007D'],</span><span class="s3">\n    </span><span class="s1">'textbullet': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2022'],</span><span class="s3">\n    </span><span class="s1">'textdagger': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2020'],</span><span class="s3">\n    </span><span class="s1">'textdaggerdbl': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2021'],</span><span class="s3">\n    </span><span class="s1">'textellipsis': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2026'],</span><span class="s3">\n    </span><span class="s1">'textemdash': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2014'],</span><span class="s3">\n    </span><span class="s1">'textendash': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2013'],</span><span class="s3">\n    </span><span class="s1">'textexclamdown': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00A1'],</span><span class="s3">\n    </span><span class="s1">'textgreater': ['Insert', '</span><span class="s3">\\</span><span class="s1">u003E'],</span><span class="s3">\n    </span><span class="s1">'textless': ['Insert', '</span><span class="s3">\\</span><span class="s1">u003C'],</span><span class="s3">\n    </span><span class="s1">'textordfeminine': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00AA'],</span><span class="s3">\n    </span><span class="s1">'textordmasculine': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00BA'],</span><span class="s3">\n    </span><span class="s1">'textparagraph': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00B6'],</span><span class="s3">\n    </span><span class="s1">'textperiodcentered': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00B7'],</span><span class="s3">\n    </span><span class="s1">'textquestiondown': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00BF'],</span><span class="s3">\n    </span><span class="s1">'textquotedblleft': ['Insert', '</span><span class="s3">\\</span><span class="s1">u201C'],</span><span class="s3">\n    </span><span class="s1">'textquotedblright': ['Insert', '</span><span class="s3">\\</span><span class="s1">u201D'],</span><span class="s3">\n    </span><span class="s1">'textquoteleft': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2018'],</span><span class="s3">\n    </span><span class="s1">'textquoteright': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2019'],</span><span class="s3">\n    </span><span class="s1">'textsection': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00A7'],</span><span class="s3">\n    </span><span class="s1">'textunderscore': ['Insert', '</span><span class="s3">\\</span><span class="s1">u005F'],</span><span class="s3">\n    </span><span class="s1">'textvisiblespace': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2423'],</span><span class="s3">\n    </span><span class="s1">'textacutedbl': ['Insert', '</span><span class="s3">\\</span><span class="s1">u02DD'],</span><span class="s3">\n    </span><span class="s1">'textasciiacute': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00B4'],</span><span class="s3">\n    </span><span class="s1">'textasciibreve': ['Insert', '</span><span class="s3">\\</span><span class="s1">u02D8'],</span><span class="s3">\n    </span><span class="s1">'textasciicaron': ['Insert', '</span><span class="s3">\\</span><span class="s1">u02C7'],</span><span class="s3">\n    </span><span class="s1">'textasciidieresis': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00A8'],</span><span class="s3">\n    </span><span class="s1">'textasciimacron': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00AF'],</span><span class="s3">\n    </span><span class="s1">'textgravedbl': ['Insert', '</span><span class="s3">\\</span><span class="s1">u02F5'],</span><span class="s3">\n    </span><span class="s1">'texttildelow': ['Insert', '</span><span class="s3">\\</span><span class="s1">u02F7'],</span><span class="s3">\n    </span><span class="s1">'textbaht': ['Insert', '</span><span class="s3">\\</span><span class="s1">u0E3F'],</span><span class="s3">\n    </span><span class="s1">'textcent': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00A2'],</span><span class="s3">\n    </span><span class="s1">'textcolonmonetary': ['Insert', '</span><span class="s3">\\</span><span class="s1">u20A1'],</span><span class="s3">\n    </span><span class="s1">'textcurrency': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00A4'],</span><span class="s3">\n    </span><span class="s1">'textdollar': ['Insert', '</span><span class="s3">\\</span><span class="s1">u0024'],</span><span class="s3">\n    </span><span class="s1">'textdong': ['Insert', '</span><span class="s3">\\</span><span class="s1">u20AB'],</span><span class="s3">\n    </span><span class="s1">'texteuro': ['Insert', '</span><span class="s3">\\</span><span class="s1">u20AC'],</span><span class="s3">\n    </span><span class="s1">'textflorin': ['Insert', '</span><span class="s3">\\</span><span class="s1">u0192'],</span><span class="s3">\n    </span><span class="s1">'textguarani': ['Insert', '</span><span class="s3">\\</span><span class="s1">u20B2'],</span><span class="s3">\n    </span><span class="s1">'textlira': ['Insert', '</span><span class="s3">\\</span><span class="s1">u20A4'],</span><span class="s3">\n    </span><span class="s1">'textnaira': ['Insert', '</span><span class="s3">\\</span><span class="s1">u20A6'],</span><span class="s3">\n    </span><span class="s1">'textpeso': ['Insert', '</span><span class="s3">\\</span><span class="s1">u20B1'],</span><span class="s3">\n    </span><span class="s1">'textsterling': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00A3'],</span><span class="s3">\n    </span><span class="s1">'textwon': ['Insert', '</span><span class="s3">\\</span><span class="s1">u20A9'],</span><span class="s3">\n    </span><span class="s1">'textyen': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00A5'],</span><span class="s3">\n    </span><span class="s1">'textcircledP': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2117'],</span><span class="s3">\n    </span><span class="s1">'textcompwordmark': ['Insert', '</span><span class="s3">\\</span><span class="s1">u200C'],</span><span class="s3">\n    </span><span class="s1">'textcopyleft': ['Insert', </span><span class="s3">\&quot;\\</span><span class="s1">uD83C</span><span class="s3">\\</span><span class="s1">uDD2F</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">'textcopyright': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00A9'],</span><span class="s3">\n    </span><span class="s1">'textregistered': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00AE'],</span><span class="s3">\n    </span><span class="s1">'textservicemark': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2120'],</span><span class="s3">\n    </span><span class="s1">'texttrademark': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2122'],</span><span class="s3">\n    </span><span class="s1">'textbardbl': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2016'],</span><span class="s3">\n    </span><span class="s1">'textbigcircle': ['Insert', '</span><span class="s3">\\</span><span class="s1">u25EF'],</span><span class="s3">\n    </span><span class="s1">'textblank': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2422'],</span><span class="s3">\n    </span><span class="s1">'textbrokenbar': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00A6'],</span><span class="s3">\n    </span><span class="s1">'textdiscount': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2052'],</span><span class="s3">\n    </span><span class="s1">'textestimated': ['Insert', '</span><span class="s3">\\</span><span class="s1">u212E'],</span><span class="s3">\n    </span><span class="s1">'textinterrobang': ['Insert', '</span><span class="s3">\\</span><span class="s1">u203D'],</span><span class="s3">\n    </span><span class="s1">'textinterrobangdown': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2E18'],</span><span class="s3">\n    </span><span class="s1">'textmusicalnote': ['Insert', '</span><span class="s3">\\</span><span class="s1">u266A'],</span><span class="s3">\n    </span><span class="s1">'textnumero': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2116'],</span><span class="s3">\n    </span><span class="s1">'textopenbullet': ['Insert', '</span><span class="s3">\\</span><span class="s1">u25E6'],</span><span class="s3">\n    </span><span class="s1">'textpertenthousand': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2031'],</span><span class="s3">\n    </span><span class="s1">'textperthousand': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2030'],</span><span class="s3">\n    </span><span class="s1">'textrecipe': ['Insert', '</span><span class="s3">\\</span><span class="s1">u211E'],</span><span class="s3">\n    </span><span class="s1">'textreferencemark': ['Insert', '</span><span class="s3">\\</span><span class="s1">u203B'],</span><span class="s3">\n    </span><span class="s1">'textlangle': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2329'],</span><span class="s3">\n    </span><span class="s1">'textrangle': ['Insert', '</span><span class="s3">\\</span><span class="s1">u232A'],</span><span class="s3">\n    </span><span class="s1">'textlbrackdbl': ['Insert', '</span><span class="s3">\\</span><span class="s1">u27E6'],</span><span class="s3">\n    </span><span class="s1">'textrbrackdbl': ['Insert', '</span><span class="s3">\\</span><span class="s1">u27E7'],</span><span class="s3">\n    </span><span class="s1">'textlquill': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2045'],</span><span class="s3">\n    </span><span class="s1">'textrquill': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2046'],</span><span class="s3">\n    </span><span class="s1">'textcelsius': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2103'],</span><span class="s3">\n    </span><span class="s1">'textdegree': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00B0'],</span><span class="s3">\n    </span><span class="s1">'textdiv': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00F7'],</span><span class="s3">\n    </span><span class="s1">'textdownarrow': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2193'],</span><span class="s3">\n    </span><span class="s1">'textfractionsolidus': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2044'],</span><span class="s3">\n    </span><span class="s1">'textleftarrow': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2190'],</span><span class="s3">\n    </span><span class="s1">'textlnot': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00AC'],</span><span class="s3">\n    </span><span class="s1">'textmho': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2127'],</span><span class="s3">\n    </span><span class="s1">'textminus': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2212'],</span><span class="s3">\n    </span><span class="s1">'textmu': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00B5'],</span><span class="s3">\n    </span><span class="s1">'textohm': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2126'],</span><span class="s3">\n    </span><span class="s1">'textonehalf': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00BD'],</span><span class="s3">\n    </span><span class="s1">'textonequarter': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00BC'],</span><span class="s3">\n    </span><span class="s1">'textonesuperior': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00B9'],</span><span class="s3">\n    </span><span class="s1">'textpm': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00B1'],</span><span class="s3">\n    </span><span class="s1">'textrightarrow': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2192'],</span><span class="s3">\n    </span><span class="s1">'textsurd': ['Insert', '</span><span class="s3">\\</span><span class="s1">u221A'],</span><span class="s3">\n    </span><span class="s1">'textthreequarters': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00BE'],</span><span class="s3">\n    </span><span class="s1">'textthreesuperior': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00B3'],</span><span class="s3">\n    </span><span class="s1">'texttimes': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00D7'],</span><span class="s3">\n    </span><span class="s1">'texttwosuperior': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00B2'],</span><span class="s3">\n    </span><span class="s1">'textuparrow': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2191'],</span><span class="s3">\n    </span><span class="s1">'textborn': ['Insert', '</span><span class="s3">\\</span><span class="s1">u002A'],</span><span class="s3">\n    </span><span class="s1">'textdied': ['Insert', '</span><span class="s3">\\</span><span class="s1">u2020'],</span><span class="s3">\n    </span><span class="s1">'textdivorced': ['Insert', '</span><span class="s3">\\</span><span class="s1">u26AE'],</span><span class="s3">\n    </span><span class="s1">'textmarried': ['Insert', '</span><span class="s3">\\</span><span class="s1">u26AD'],</span><span class="s3">\n    </span><span class="s1">'textcentoldstyle': ['Insert', '</span><span class="s3">\\</span><span class="s1">u00A2', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],</span><span class="s3">\n    </span><span class="s1">'textdollaroldstyle': ['Insert', '</span><span class="s3">\\</span><span class="s1">u0024', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],</span><span class="s3">\n    </span><span class="s1">'textzerooldstyle': ['Insert', '0', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],</span><span class="s3">\n    </span><span class="s1">'textoneoldstyle': ['Insert', '1', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],</span><span class="s3">\n    </span><span class="s1">'texttwooldstyle': ['Insert', '2', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],</span><span class="s3">\n    </span><span class="s1">'textthreeoldstyle': ['Insert', '3', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],</span><span class="s3">\n    </span><span class="s1">'textfouroldstyle': ['Insert', '4', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],</span><span class="s3">\n    </span><span class="s1">'textfiveoldstyle': ['Insert', '5', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],</span><span class="s3">\n    </span><span class="s1">'textsixoldstyle': ['Insert', '6', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],</span><span class="s3">\n    </span><span class="s1">'textsevenoldstyle': ['Insert', '7', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],</span><span class="s3">\n    </span><span class="s1">'texteightoldstyle': ['Insert', '8', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],</span><span class="s3">\n    </span><span class="s1">'textnineoldstyle': ['Insert', '9', TexConstants_js_1.TexConstant.Variant.OLDSTYLE]</span><span class="s3">\n</span><span class="s1">}, {</span><span class="s3">\n    </span><span class="s1">Insert: function (parser, name, c, font) {</span><span class="s3">\n        </span><span class="s1">if (parser instanceof TextParser_js_1.TextParser) {</span><span class="s3">\n            </span><span class="s1">if (!font) {</span><span class="s3">\n                </span><span class="s1">TextMacrosMethods_js_1.TextMacrosMethods.Insert(parser, name, c);</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">parser.saveText();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">parser.Push(ParseUtil_js_1.default.internalText(parser, c, font ? { mathvariant: font } : {}));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=TextcompMappings.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var _a;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.TextMacrosConfiguration = exports.TextBaseConfiguration = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ParseOptions_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseOptions.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var Tags_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Tags.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var BaseItems_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../base/BaseItems.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TextParser_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./TextParser.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TextMacrosMethods_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./TextMacrosMethods.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./TextMacrosMappings.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">exports.TextBaseConfiguration = Configuration_js_1.Configuration.create('text-base', {</span><span class="s3">\n    </span><span class="s1">parser: 'text',</span><span class="s3">\n    </span><span class="s1">handler: {</span><span class="s3">\n        </span><span class="s1">character: ['command', 'text-special'],</span><span class="s3">\n        </span><span class="s1">macro: ['text-macros']</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">fallback: {</span><span class="s3">\n        </span><span class="s1">character: function (parser, c) {</span><span class="s3">\n            </span><span class="s1">parser.text += c;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">macro: function (parser, name) {</span><span class="s3">\n            </span><span class="s1">var texParser = parser.texParser;</span><span class="s3">\n            </span><span class="s1">var macro = texParser.lookup('macro', name);</span><span class="s3">\n            </span><span class="s1">if (macro &amp;&amp; macro._func !== TextMacrosMethods_js_1.TextMacrosMethods.Macro) {</span><span class="s3">\n                </span><span class="s1">parser.Error('MathMacro', '%1 is only supported in math mode', '</span><span class="s3">\\\\</span><span class="s1">' + name);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">texParser.parse('macro', [parser, name]);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">items: (_a = {},</span><span class="s3">\n        </span><span class="s1">_a[BaseItems_js_1.StartItem.prototype.kind] = BaseItems_js_1.StartItem,</span><span class="s3">\n        </span><span class="s1">_a[BaseItems_js_1.StopItem.prototype.kind] = BaseItems_js_1.StopItem,</span><span class="s3">\n        </span><span class="s1">_a[BaseItems_js_1.MmlItem.prototype.kind] = BaseItems_js_1.MmlItem,</span><span class="s3">\n        </span><span class="s1">_a[BaseItems_js_1.StyleItem.prototype.kind] = BaseItems_js_1.StyleItem,</span><span class="s3">\n        </span><span class="s1">_a)</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">function internalMath(parser, text, level, mathvariant) {</span><span class="s3">\n    </span><span class="s1">var config = parser.configuration.packageData.get('textmacros');</span><span class="s3">\n    </span><span class="s1">if (!(parser instanceof TextParser_js_1.TextParser)) {</span><span class="s3">\n        </span><span class="s1">config.texParser = parser;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return [(new TextParser_js_1.TextParser(text, mathvariant ? { mathvariant: mathvariant } : {}, config.parseOptions, level)).mml()];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">exports.TextMacrosConfiguration = Configuration_js_1.Configuration.create('textmacros', {</span><span class="s3">\n    </span><span class="s1">config: function (_config, jax) {</span><span class="s3">\n        </span><span class="s1">var textConf = new Configuration_js_1.ParserConfiguration(jax.parseOptions.options.textmacros.packages, ['tex', 'text']);</span><span class="s3">\n        </span><span class="s1">textConf.init();</span><span class="s3">\n        </span><span class="s1">var parseOptions = new ParseOptions_js_1.default(textConf, []);</span><span class="s3">\n        </span><span class="s1">parseOptions.options = jax.parseOptions.options;</span><span class="s3">\n        </span><span class="s1">textConf.config(jax);</span><span class="s3">\n        </span><span class="s1">Tags_js_1.TagsFactory.addTags(textConf.tags);</span><span class="s3">\n        </span><span class="s1">parseOptions.tags = Tags_js_1.TagsFactory.getDefault();</span><span class="s3">\n        </span><span class="s1">parseOptions.tags.configuration = parseOptions;</span><span class="s3">\n        </span><span class="s1">parseOptions.packageData = jax.parseOptions.packageData;</span><span class="s3">\n        </span><span class="s1">parseOptions.packageData.set('textmacros', { parseOptions: parseOptions, jax: jax, texParser: null });</span><span class="s3">\n        </span><span class="s1">parseOptions.options.internalMath = internalMath;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">preprocessors: [function (data) {</span><span class="s3">\n            </span><span class="s1">var config = data.data.packageData.get('textmacros');</span><span class="s3">\n            </span><span class="s1">config.parseOptions.nodeFactory.setMmlFactory(config.jax.mmlFactory);</span><span class="s3">\n        </span><span class="s1">}],</span><span class="s3">\n    </span><span class="s1">options: {</span><span class="s3">\n        </span><span class="s1">textmacros: {</span><span class="s3">\n            </span><span class="s1">packages: ['text-base']</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=TextMacrosConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TexConstants_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../TexConstants.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TextMacrosMethods_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./TextMacrosMethods.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var lengths_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../../util/lengths.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.MacroMap('text-special', {</span><span class="s3">\n    </span><span class="s1">'$': 'Math',</span><span class="s3">\n    </span><span class="s1">'%': 'Comment',</span><span class="s3">\n    </span><span class="s1">'^': 'MathModeOnly',</span><span class="s3">\n    </span><span class="s1">'_': 'MathModeOnly',</span><span class="s3">\n    </span><span class="s1">'&amp;': 'Misplaced',</span><span class="s3">\n    </span><span class="s1">'#': 'Misplaced',</span><span class="s3">\n    </span><span class="s1">'~': 'Tilde',</span><span class="s3">\n    </span><span class="s1">' ': 'Space',</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">t': 'Space',</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">r': 'Space',</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">n': 'Space',</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u00A0': 'Tilde',</span><span class="s3">\n    </span><span class="s1">'{': 'OpenBrace',</span><span class="s3">\n    </span><span class="s1">'}': 'CloseBrace',</span><span class="s3">\n    </span><span class="s1">'`': 'OpenQuote',</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">'': 'CloseQuote'</span><span class="s3">\n</span><span class="s1">}, TextMacrosMethods_js_1.TextMacrosMethods);</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('text-macros', {</span><span class="s3">\n    </span><span class="s1">'(': 'Math',</span><span class="s3">\n    </span><span class="s1">'$': 'SelfQuote',</span><span class="s3">\n    </span><span class="s1">'_': 'SelfQuote',</span><span class="s3">\n    </span><span class="s1">'%': 'SelfQuote',</span><span class="s3">\n    </span><span class="s1">'{': 'SelfQuote',</span><span class="s3">\n    </span><span class="s1">'}': 'SelfQuote',</span><span class="s3">\n    </span><span class="s1">' ': 'SelfQuote',</span><span class="s3">\n    </span><span class="s1">'&amp;': 'SelfQuote',</span><span class="s3">\n    </span><span class="s1">'#': 'SelfQuote',</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">': 'SelfQuote',</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">'': ['Accent', '</span><span class="s3">\\</span><span class="s1">u00B4'],</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u2019': ['Accent', '</span><span class="s3">\\</span><span class="s1">u00B4'],</span><span class="s3">\n    </span><span class="s1">'`': ['Accent', '</span><span class="s3">\\</span><span class="s1">u0060'],</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">u2018': ['Accent', '</span><span class="s3">\\</span><span class="s1">u0060'],</span><span class="s3">\n    </span><span class="s1">'^': ['Accent', '^'],</span><span class="s3">\n    </span><span class="s1">'</span><span class="s3">\\\&quot;</span><span class="s1">': ['Accent', '</span><span class="s3">\\</span><span class="s1">u00A8'],</span><span class="s3">\n    </span><span class="s1">'~': ['Accent', '~'],</span><span class="s3">\n    </span><span class="s1">'=': ['Accent', '</span><span class="s3">\\</span><span class="s1">u00AF'],</span><span class="s3">\n    </span><span class="s1">'.': ['Accent', '</span><span class="s3">\\</span><span class="s1">u02D9'],</span><span class="s3">\n    </span><span class="s1">'u': ['Accent', '</span><span class="s3">\\</span><span class="s1">u02D8'],</span><span class="s3">\n    </span><span class="s1">'v': ['Accent', '</span><span class="s3">\\</span><span class="s1">u02C7'],</span><span class="s3">\n    </span><span class="s1">emph: 'Emph',</span><span class="s3">\n    </span><span class="s1">rm: ['SetFont', TexConstants_js_1.TexConstant.Variant.NORMAL],</span><span class="s3">\n    </span><span class="s1">mit: ['SetFont', TexConstants_js_1.TexConstant.Variant.ITALIC],</span><span class="s3">\n    </span><span class="s1">oldstyle: ['SetFont', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],</span><span class="s3">\n    </span><span class="s1">cal: ['SetFont', TexConstants_js_1.TexConstant.Variant.CALLIGRAPHIC],</span><span class="s3">\n    </span><span class="s1">it: ['SetFont', '-tex-mathit'],</span><span class="s3">\n    </span><span class="s1">bf: ['SetFont', TexConstants_js_1.TexConstant.Variant.BOLD],</span><span class="s3">\n    </span><span class="s1">bbFont: ['SetFont', TexConstants_js_1.TexConstant.Variant.DOUBLESTRUCK],</span><span class="s3">\n    </span><span class="s1">scr: ['SetFont', TexConstants_js_1.TexConstant.Variant.SCRIPT],</span><span class="s3">\n    </span><span class="s1">frak: ['SetFont', TexConstants_js_1.TexConstant.Variant.FRAKTUR],</span><span class="s3">\n    </span><span class="s1">sf: ['SetFont', TexConstants_js_1.TexConstant.Variant.SANSSERIF],</span><span class="s3">\n    </span><span class="s1">tt: ['SetFont', TexConstants_js_1.TexConstant.Variant.MONOSPACE],</span><span class="s3">\n    </span><span class="s1">tiny: ['SetSize', 0.5],</span><span class="s3">\n    </span><span class="s1">Tiny: ['SetSize', 0.6],</span><span class="s3">\n    </span><span class="s1">scriptsize: ['SetSize', 0.7],</span><span class="s3">\n    </span><span class="s1">small: ['SetSize', 0.85],</span><span class="s3">\n    </span><span class="s1">normalsize: ['SetSize', 1.0],</span><span class="s3">\n    </span><span class="s1">large: ['SetSize', 1.2],</span><span class="s3">\n    </span><span class="s1">Large: ['SetSize', 1.44],</span><span class="s3">\n    </span><span class="s1">LARGE: ['SetSize', 1.73],</span><span class="s3">\n    </span><span class="s1">huge: ['SetSize', 2.07],</span><span class="s3">\n    </span><span class="s1">Huge: ['SetSize', 2.49],</span><span class="s3">\n    </span><span class="s1">Bbb: ['Macro', '{</span><span class="s3">\\\\</span><span class="s1">bbFont #1}', 1],</span><span class="s3">\n    </span><span class="s1">textnormal: ['Macro', '{</span><span class="s3">\\\\</span><span class="s1">rm #1}', 1],</span><span class="s3">\n    </span><span class="s1">textup: ['Macro', '{</span><span class="s3">\\\\</span><span class="s1">rm #1}', 1],</span><span class="s3">\n    </span><span class="s1">textrm: ['Macro', '{</span><span class="s3">\\\\</span><span class="s1">rm #1}', 1],</span><span class="s3">\n    </span><span class="s1">textit: ['Macro', '{</span><span class="s3">\\\\</span><span class="s1">it #1}', 1],</span><span class="s3">\n    </span><span class="s1">textbf: ['Macro', '{</span><span class="s3">\\\\</span><span class="s1">bf #1}', 1],</span><span class="s3">\n    </span><span class="s1">textsf: ['Macro', '{</span><span class="s3">\\\\</span><span class="s1">sf #1}', 1],</span><span class="s3">\n    </span><span class="s1">texttt: ['Macro', '{</span><span class="s3">\\\\</span><span class="s1">tt #1}', 1],</span><span class="s3">\n    </span><span class="s1">dagger: ['Insert', '</span><span class="s3">\\</span><span class="s1">u2020'],</span><span class="s3">\n    </span><span class="s1">ddagger: ['Insert', '</span><span class="s3">\\</span><span class="s1">u2021'],</span><span class="s3">\n    </span><span class="s1">S: ['Insert', '</span><span class="s3">\\</span><span class="s1">u00A7'],</span><span class="s3">\n    </span><span class="s1">',': ['Spacer', lengths_js_1.MATHSPACE.thinmathspace],</span><span class="s3">\n    </span><span class="s1">':': ['Spacer', lengths_js_1.MATHSPACE.mediummathspace],</span><span class="s3">\n    </span><span class="s1">'&gt;': ['Spacer', lengths_js_1.MATHSPACE.mediummathspace],</span><span class="s3">\n    </span><span class="s1">';': ['Spacer', lengths_js_1.MATHSPACE.thickmathspace],</span><span class="s3">\n    </span><span class="s1">'!': ['Spacer', lengths_js_1.MATHSPACE.negativethinmathspace],</span><span class="s3">\n    </span><span class="s1">enspace: ['Spacer', .5],</span><span class="s3">\n    </span><span class="s1">quad: ['Spacer', 1],</span><span class="s3">\n    </span><span class="s1">qquad: ['Spacer', 2],</span><span class="s3">\n    </span><span class="s1">thinspace: ['Spacer', lengths_js_1.MATHSPACE.thinmathspace],</span><span class="s3">\n    </span><span class="s1">negthinspace: ['Spacer', lengths_js_1.MATHSPACE.negativethinmathspace],</span><span class="s3">\n    </span><span class="s1">hskip: 'Hskip',</span><span class="s3">\n    </span><span class="s1">hspace: 'Hskip',</span><span class="s3">\n    </span><span class="s1">kern: 'Hskip',</span><span class="s3">\n    </span><span class="s1">mskip: 'Hskip',</span><span class="s3">\n    </span><span class="s1">mspace: 'Hskip',</span><span class="s3">\n    </span><span class="s1">mkern: 'Hskip',</span><span class="s3">\n    </span><span class="s1">rule: 'rule',</span><span class="s3">\n    </span><span class="s1">Rule: ['Rule'],</span><span class="s3">\n    </span><span class="s1">Space: ['Rule', 'blank'],</span><span class="s3">\n    </span><span class="s1">color: 'CheckAutoload',</span><span class="s3">\n    </span><span class="s1">textcolor: 'CheckAutoload',</span><span class="s3">\n    </span><span class="s1">colorbox: 'CheckAutoload',</span><span class="s3">\n    </span><span class="s1">fcolorbox: 'CheckAutoload',</span><span class="s3">\n    </span><span class="s1">href: 'CheckAutoload',</span><span class="s3">\n    </span><span class="s1">style: 'CheckAutoload',</span><span class="s3">\n    </span><span class="s1">class: 'CheckAutoload',</span><span class="s3">\n    </span><span class="s1">cssId: 'CheckAutoload',</span><span class="s3">\n    </span><span class="s1">unicode: 'CheckAutoload',</span><span class="s3">\n    </span><span class="s1">ref: ['HandleRef', false],</span><span class="s3">\n    </span><span class="s1">eqref: ['HandleRef', true],</span><span class="s3">\n</span><span class="s1">}, TextMacrosMethods_js_1.TextMacrosMethods);</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=TextMacrosMappings.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.TextMacrosMethods = void 0;</span><span class="s3">\n</span><span class="s1">var TexParser_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexParser.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var Retries_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../../util/Retries.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var BaseMethods_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../base/BaseMethods.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">exports.TextMacrosMethods = {</span><span class="s3">\n    </span><span class="s1">Comment: function (parser, _c) {</span><span class="s3">\n        </span><span class="s1">while (parser.i &lt; parser.string.length &amp;&amp; parser.string.charAt(parser.i) !== '</span><span class="s3">\\</span><span class="s1">n') {</span><span class="s3">\n            </span><span class="s1">parser.i++;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">parser.i++;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">Math: function (parser, open) {</span><span class="s3">\n        </span><span class="s1">parser.saveText();</span><span class="s3">\n        </span><span class="s1">var i = parser.i;</span><span class="s3">\n        </span><span class="s1">var j, c;</span><span class="s3">\n        </span><span class="s1">var braces = 0;</span><span class="s3">\n        </span><span class="s1">while ((c = parser.GetNext())) {</span><span class="s3">\n            </span><span class="s1">j = parser.i++;</span><span class="s3">\n            </span><span class="s1">switch (c) {</span><span class="s3">\n                </span><span class="s1">case '</span><span class="s3">\\\\</span><span class="s1">':</span><span class="s3">\n                    </span><span class="s1">var cs = parser.GetCS();</span><span class="s3">\n                    </span><span class="s1">if (cs === ')')</span><span class="s3">\n                        </span><span class="s1">c = '</span><span class="s3">\\\\</span><span class="s1">(';</span><span class="s3">\n                </span><span class="s1">case '$':</span><span class="s3">\n                    </span><span class="s1">if (braces === 0 &amp;&amp; open === c) {</span><span class="s3">\n                        </span><span class="s1">var config = parser.texParser.configuration;</span><span class="s3">\n                        </span><span class="s1">var mml = (new TexParser_js_1.default(parser.string.substr(i, j - i), parser.stack.env, config)).mml();</span><span class="s3">\n                        </span><span class="s1">parser.PushMath(mml);</span><span class="s3">\n                        </span><span class="s1">return;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case '{':</span><span class="s3">\n                    </span><span class="s1">braces++;</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case '}':</span><span class="s3">\n                    </span><span class="s1">if (braces === 0) {</span><span class="s3">\n                        </span><span class="s1">parser.Error('ExtraCloseMissingOpen', 'Extra close brace or missing open brace');</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">braces--;</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">parser.Error('MathNotTerminated', 'Math-mode is not properly terminated');</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">MathModeOnly: function (parser, c) {</span><span class="s3">\n        </span><span class="s1">parser.Error('MathModeOnly', '</span><span class="s3">\\</span><span class="s1">'%1</span><span class="s3">\\</span><span class="s1">' allowed only in math mode', c);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">Misplaced: function (parser, c) {</span><span class="s3">\n        </span><span class="s1">parser.Error('Misplaced', '</span><span class="s3">\\</span><span class="s1">'%1</span><span class="s3">\\</span><span class="s1">' can not be used here', c);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">OpenBrace: function (parser, _c) {</span><span class="s3">\n        </span><span class="s1">var env = parser.stack.env;</span><span class="s3">\n        </span><span class="s1">parser.envStack.push(env);</span><span class="s3">\n        </span><span class="s1">parser.stack.env = Object.assign({}, env);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">CloseBrace: function (parser, _c) {</span><span class="s3">\n        </span><span class="s1">if (parser.envStack.length) {</span><span class="s3">\n            </span><span class="s1">parser.saveText();</span><span class="s3">\n            </span><span class="s1">parser.stack.env = parser.envStack.pop();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">parser.Error('ExtraCloseMissingOpen', 'Extra close brace or missing open brace');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">OpenQuote: function (parser, c) {</span><span class="s3">\n        </span><span class="s1">if (parser.string.charAt(parser.i) === c) {</span><span class="s3">\n            </span><span class="s1">parser.text += '</span><span class="s3">\\</span><span class="s1">u201C';</span><span class="s3">\n            </span><span class="s1">parser.i++;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">parser.text += '</span><span class="s3">\\</span><span class="s1">u2018';</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">CloseQuote: function (parser, c) {</span><span class="s3">\n        </span><span class="s1">if (parser.string.charAt(parser.i) === c) {</span><span class="s3">\n            </span><span class="s1">parser.text += '</span><span class="s3">\\</span><span class="s1">u201D';</span><span class="s3">\n            </span><span class="s1">parser.i++;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">parser.text += '</span><span class="s3">\\</span><span class="s1">u2019';</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">Tilde: function (parser, _c) {</span><span class="s3">\n        </span><span class="s1">parser.text += '</span><span class="s3">\\</span><span class="s1">u00A0';</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">Space: function (parser, _c) {</span><span class="s3">\n        </span><span class="s1">parser.text += ' ';</span><span class="s3">\n        </span><span class="s1">while (parser.GetNext().match(/</span><span class="s3">\\</span><span class="s1">s/))</span><span class="s3">\n            </span><span class="s1">parser.i++;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">SelfQuote: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">parser.text += name.substr(1);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">Insert: function (parser, _name, c) {</span><span class="s3">\n        </span><span class="s1">parser.text += c;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">Accent: function (parser, name, c) {</span><span class="s3">\n        </span><span class="s1">var base = parser.ParseArg(name);</span><span class="s3">\n        </span><span class="s1">var accent = parser.create('token', 'mo', {}, c);</span><span class="s3">\n        </span><span class="s1">parser.addAttributes(accent);</span><span class="s3">\n        </span><span class="s1">parser.Push(parser.create('node', 'mover', [base, accent]));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">Emph: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var variant = (parser.stack.env.mathvariant === '-tex-mathit' ? 'normal' : '-tex-mathit');</span><span class="s3">\n        </span><span class="s1">parser.Push(parser.ParseTextArg(name, { mathvariant: variant }));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">SetFont: function (parser, _name, variant) {</span><span class="s3">\n        </span><span class="s1">parser.saveText();</span><span class="s3">\n        </span><span class="s1">parser.stack.env.mathvariant = variant;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">SetSize: function (parser, _name, size) {</span><span class="s3">\n        </span><span class="s1">parser.saveText();</span><span class="s3">\n        </span><span class="s1">parser.stack.env.mathsize = size;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">CheckAutoload: function (parser, name) {</span><span class="s3">\n        </span><span class="s1">var autoload = parser.configuration.packageData.get('autoload');</span><span class="s3">\n        </span><span class="s1">var texParser = parser.texParser;</span><span class="s3">\n        </span><span class="s1">name = name.slice(1);</span><span class="s3">\n        </span><span class="s1">var macro = texParser.lookup('macro', name);</span><span class="s3">\n        </span><span class="s1">if (!macro || (autoload &amp;&amp; macro._func === autoload.Autoload)) {</span><span class="s3">\n            </span><span class="s1">texParser.parse('macro', [texParser, name]);</span><span class="s3">\n            </span><span class="s1">if (!macro)</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">(0, Retries_js_1.retryAfter)(Promise.resolve());</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">texParser.parse('macro', [parser, name]);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">Macro: BaseMethods_js_1.default.Macro,</span><span class="s3">\n    </span><span class="s1">Spacer: BaseMethods_js_1.default.Spacer,</span><span class="s3">\n    </span><span class="s1">Hskip: BaseMethods_js_1.default.Hskip,</span><span class="s3">\n    </span><span class="s1">rule: BaseMethods_js_1.default.rule,</span><span class="s3">\n    </span><span class="s1">Rule: BaseMethods_js_1.default.Rule,</span><span class="s3">\n    </span><span class="s1">HandleRef: BaseMethods_js_1.default.HandleRef</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=TextMacrosMethods.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __extends = (this &amp;&amp; this.__extends) || (function () {</span><span class="s3">\n    </span><span class="s1">var extendStatics = function (d, b) {</span><span class="s3">\n        </span><span class="s1">extendStatics = Object.setPrototypeOf ||</span><span class="s3">\n            </span><span class="s1">({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||</span><span class="s3">\n            </span><span class="s1">function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };</span><span class="s3">\n        </span><span class="s1">return extendStatics(d, b);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return function (d, b) {</span><span class="s3">\n        </span><span class="s1">if (typeof b !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; b !== null)</span><span class="s3">\n            </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Class extends value </span><span class="s3">\&quot; </span><span class="s1">+ String(b) + </span><span class="s3">\&quot; </span><span class="s1">is not a constructor or null</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">extendStatics(d, b);</span><span class="s3">\n        </span><span class="s1">function __() { this.constructor = d; }</span><span class="s3">\n        </span><span class="s1">d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">var __values = (this &amp;&amp; this.__values) || function(o) {</span><span class="s3">\n    </span><span class="s1">var s = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Symbol.iterator, m = s &amp;&amp; o[s], i = 0;</span><span class="s3">\n    </span><span class="s1">if (m) return m.call(o);</span><span class="s3">\n    </span><span class="s1">if (o &amp;&amp; typeof o.length === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) return {</span><span class="s3">\n        </span><span class="s1">next: function () {</span><span class="s3">\n            </span><span class="s1">if (o &amp;&amp; i &gt;= o.length) o = void 0;</span><span class="s3">\n            </span><span class="s1">return { value: o &amp;&amp; o[i++], done: !o };</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">throw new TypeError(s ? </span><span class="s3">\&quot;</span><span class="s1">Object is not iterable.</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Symbol.iterator is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __read = (this &amp;&amp; this.__read) || function (o, n) {</span><span class="s3">\n    </span><span class="s1">var m = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; o[Symbol.iterator];</span><span class="s3">\n    </span><span class="s1">if (!m) return o;</span><span class="s3">\n    </span><span class="s1">var i = m.call(o), r, ar = [], e;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">while ((n === void 0 || n-- &gt; 0) &amp;&amp; !(r = i.next()).done) ar.push(r.value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (error) { e = { error: error }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (r &amp;&amp; !r.done &amp;&amp; (m = i[</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">])) m.call(i);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e) throw e.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return ar;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __spreadArray = (this &amp;&amp; this.__spreadArray) || function (to, from, pack) {</span><span class="s3">\n    </span><span class="s1">if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i &lt; l; i++) {</span><span class="s3">\n        </span><span class="s1">if (ar || !(i in from)) {</span><span class="s3">\n            </span><span class="s1">if (!ar) ar = Array.prototype.slice.call(from, 0, i);</span><span class="s3">\n            </span><span class="s1">ar[i] = from[i];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return to.concat(ar || Array.prototype.slice.call(from));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.TextParser = void 0;</span><span class="s3">\n</span><span class="s1">var TexParser_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexParser.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var MmlNode_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../../core/MmlTree/MmlNode.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var NodeUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../NodeUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var BaseItems_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../base/BaseItems.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TextParser = (function (_super) {</span><span class="s3">\n    </span><span class="s1">__extends(TextParser, _super);</span><span class="s3">\n    </span><span class="s1">function TextParser(text, env, configuration, level) {</span><span class="s3">\n        </span><span class="s1">var _this = _super.call(this, text, env, configuration) || this;</span><span class="s3">\n        </span><span class="s1">_this.level = level;</span><span class="s3">\n        </span><span class="s1">return _this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(TextParser.prototype, </span><span class="s3">\&quot;</span><span class="s1">texParser</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n        </span><span class="s1">get: function () {</span><span class="s3">\n            </span><span class="s1">return this.configuration.packageData.get('textmacros').texParser;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">enumerable: false,</span><span class="s3">\n        </span><span class="s1">configurable: true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(TextParser.prototype, </span><span class="s3">\&quot;</span><span class="s1">tags</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n        </span><span class="s1">get: function () {</span><span class="s3">\n            </span><span class="s1">return this.texParser.tags;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">enumerable: false,</span><span class="s3">\n        </span><span class="s1">configurable: true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">TextParser.prototype.mml = function () {</span><span class="s3">\n        </span><span class="s1">return (this.level != null ?</span><span class="s3">\n            </span><span class="s1">this.create('node', 'mstyle', this.nodes, { displaystyle: false, scriptlevel: this.level }) :</span><span class="s3">\n            </span><span class="s1">this.nodes.length === 1 ? this.nodes[0] : this.create('node', 'mrow', this.nodes));</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">TextParser.prototype.Parse = function () {</span><span class="s3">\n        </span><span class="s1">this.text = '';</span><span class="s3">\n        </span><span class="s1">this.nodes = [];</span><span class="s3">\n        </span><span class="s1">this.envStack = [];</span><span class="s3">\n        </span><span class="s1">_super.prototype.Parse.call(this);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">TextParser.prototype.saveText = function () {</span><span class="s3">\n        </span><span class="s1">if (this.text) {</span><span class="s3">\n            </span><span class="s1">var mathvariant = this.stack.env.mathvariant;</span><span class="s3">\n            </span><span class="s1">var text = ParseUtil_js_1.default.internalText(this, this.text, mathvariant ? { mathvariant: mathvariant } : {});</span><span class="s3">\n            </span><span class="s1">this.text = '';</span><span class="s3">\n            </span><span class="s1">this.Push(text);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">TextParser.prototype.Push = function (mml) {</span><span class="s3">\n        </span><span class="s1">if (this.text) {</span><span class="s3">\n            </span><span class="s1">this.saveText();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (mml instanceof BaseItems_js_1.StopItem) {</span><span class="s3">\n            </span><span class="s1">return _super.prototype.Push.call(this, mml);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (mml instanceof BaseItems_js_1.StyleItem) {</span><span class="s3">\n            </span><span class="s1">this.stack.env.mathcolor = this.stack.env.color;</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (mml instanceof MmlNode_js_1.AbstractMmlNode) {</span><span class="s3">\n            </span><span class="s1">this.addAttributes(mml);</span><span class="s3">\n            </span><span class="s1">this.nodes.push(mml);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">TextParser.prototype.PushMath = function (mml) {</span><span class="s3">\n        </span><span class="s1">var e_1, _a;</span><span class="s3">\n        </span><span class="s1">var env = this.stack.env;</span><span class="s3">\n        </span><span class="s1">if (!mml.isKind('TeXAtom')) {</span><span class="s3">\n            </span><span class="s1">mml = this.create('node', 'TeXAtom', [mml]);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">for (var _b = __values(['mathsize', 'mathcolor']), _c = _b.next(); !_c.done; _c = _b.next()) {</span><span class="s3">\n                </span><span class="s1">var name_1 = _c.value;</span><span class="s3">\n                </span><span class="s1">if (env[name_1] &amp;&amp; !mml.attributes.getExplicit(name_1)) {</span><span class="s3">\n                    </span><span class="s1">if (!mml.isToken &amp;&amp; !mml.isKind('mstyle')) {</span><span class="s3">\n                        </span><span class="s1">mml = this.create('node', 'mstyle', [mml]);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">NodeUtil_js_1.default.setAttribute(mml, name_1, env[name_1]);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">catch (e_1_1) { e_1 = { error: e_1_1 }; }</span><span class="s3">\n        </span><span class="s1">finally {</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">if (_c &amp;&amp; !_c.done &amp;&amp; (_a = _b.return)) _a.call(_b);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">finally { if (e_1) throw e_1.error; }</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (mml.isInferred) {</span><span class="s3">\n            </span><span class="s1">mml = this.create('node', 'mrow', mml.childNodes);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.nodes.push(mml);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">TextParser.prototype.addAttributes = function (mml) {</span><span class="s3">\n        </span><span class="s1">var e_2, _a;</span><span class="s3">\n        </span><span class="s1">var env = this.stack.env;</span><span class="s3">\n        </span><span class="s1">if (!mml.isToken)</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">for (var _b = __values(['mathsize', 'mathcolor', 'mathvariant']), _c = _b.next(); !_c.done; _c = _b.next()) {</span><span class="s3">\n                </span><span class="s1">var name_2 = _c.value;</span><span class="s3">\n                </span><span class="s1">if (env[name_2] &amp;&amp; !mml.attributes.getExplicit(name_2)) {</span><span class="s3">\n                    </span><span class="s1">NodeUtil_js_1.default.setAttribute(mml, name_2, env[name_2]);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">catch (e_2_1) { e_2 = { error: e_2_1 }; }</span><span class="s3">\n        </span><span class="s1">finally {</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">if (_c &amp;&amp; !_c.done &amp;&amp; (_a = _b.return)) _a.call(_b);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">finally { if (e_2) throw e_2.error; }</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">TextParser.prototype.ParseTextArg = function (name, env) {</span><span class="s3">\n        </span><span class="s1">var text = this.GetArgument(name);</span><span class="s3">\n        </span><span class="s1">env = Object.assign(Object.assign({}, this.stack.env), env);</span><span class="s3">\n        </span><span class="s1">return (new TextParser(text, env, this.configuration)).mml();</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">TextParser.prototype.ParseArg = function (name) {</span><span class="s3">\n        </span><span class="s1">return (new TextParser(this.GetArgument(name), this.stack.env, this.configuration)).mml();</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">TextParser.prototype.Error = function (id, message) {</span><span class="s3">\n        </span><span class="s1">var args = [];</span><span class="s3">\n        </span><span class="s1">for (var _i = 2; _i &lt; arguments.length; _i++) {</span><span class="s3">\n            </span><span class="s1">args[_i - 2] = arguments[_i];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">throw new (TexError_js_1.default.bind.apply(TexError_js_1.default, __spreadArray([void 0, id, message], __read(args), false)))();</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return TextParser;</span><span class="s3">\n</span><span class="s1">}(TexParser_js_1.default));</span><span class="s3">\n</span><span class="s1">exports.TextParser = TextParser;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=TextParser.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.UnicodeConfiguration = exports.UnicodeMethods = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var ParseUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../ParseUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var NodeUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../NodeUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var Entities_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../../util/Entities.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">exports.UnicodeMethods = {};</span><span class="s3">\n</span><span class="s1">var UnicodeCache = {};</span><span class="s3">\n</span><span class="s1">exports.UnicodeMethods.Unicode = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var HD = parser.GetBrackets(name);</span><span class="s3">\n    </span><span class="s1">var HDsplit = null;</span><span class="s3">\n    </span><span class="s1">var font = null;</span><span class="s3">\n    </span><span class="s1">if (HD) {</span><span class="s3">\n        </span><span class="s1">if (HD.replace(/ /g, '').</span><span class="s3">\n            </span><span class="s1">match(/^(</span><span class="s3">\\</span><span class="s1">d+(</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d*)?|</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+),(</span><span class="s3">\\</span><span class="s1">d+(</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d*)?|</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)$/)) {</span><span class="s3">\n            </span><span class="s1">HDsplit = HD.replace(/ /g, '').split(/,/);</span><span class="s3">\n            </span><span class="s1">font = parser.GetBrackets(name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">font = HD;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var n = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name)).replace(/^0x/, 'x');</span><span class="s3">\n    </span><span class="s1">if (!n.match(/^(x[0-9A-Fa-f]+|[0-9]+)$/)) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('BadUnicode', 'Argument to </span><span class="s3">\\\\</span><span class="s1">unicode must be a number');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var N = parseInt(n.match(/^x/) ? '0' + n : n);</span><span class="s3">\n    </span><span class="s1">if (!UnicodeCache[N]) {</span><span class="s3">\n        </span><span class="s1">UnicodeCache[N] = [800, 200, font, N];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (!font) {</span><span class="s3">\n        </span><span class="s1">font = UnicodeCache[N][2];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (HDsplit) {</span><span class="s3">\n        </span><span class="s1">UnicodeCache[N][0] = Math.floor(parseFloat(HDsplit[0]) * 1000);</span><span class="s3">\n        </span><span class="s1">UnicodeCache[N][1] = Math.floor(parseFloat(HDsplit[1]) * 1000);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var variant = parser.stack.env.font;</span><span class="s3">\n    </span><span class="s1">var def = {};</span><span class="s3">\n    </span><span class="s1">if (font) {</span><span class="s3">\n        </span><span class="s1">UnicodeCache[N][2] = def.fontfamily = font.replace(/'/g, '</span><span class="s3">\\</span><span class="s1">'');</span><span class="s3">\n        </span><span class="s1">if (variant) {</span><span class="s3">\n            </span><span class="s1">if (variant.match(/bold/)) {</span><span class="s3">\n                </span><span class="s1">def.fontweight = 'bold';</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (variant.match(/italic|-mathit/)) {</span><span class="s3">\n                </span><span class="s1">def.fontstyle = 'italic';</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (variant) {</span><span class="s3">\n        </span><span class="s1">def.mathvariant = variant;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var node = parser.create('token', 'mtext', def, (0, Entities_js_1.numeric)(n));</span><span class="s3">\n    </span><span class="s1">NodeUtil_js_1.default.setProperty(node, 'unicode', true);</span><span class="s3">\n    </span><span class="s1">parser.Push(node);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('unicode', { unicode: 'Unicode' }, exports.UnicodeMethods);</span><span class="s3">\n</span><span class="s1">exports.UnicodeConfiguration = Configuration_js_1.Configuration.create('unicode', { handler: { macro: ['unicode'] } });</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=UnicodeConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.UpgreekConfiguration = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TexConstants_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../TexConstants.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function mathchar0miNormal(parser, mchar) {</span><span class="s3">\n    </span><span class="s1">var def = mchar.attributes || {};</span><span class="s3">\n    </span><span class="s1">def.mathvariant = TexConstants_js_1.TexConstant.Variant.NORMAL;</span><span class="s3">\n    </span><span class="s1">var node = parser.create('token', 'mi', def, mchar.char);</span><span class="s3">\n    </span><span class="s1">parser.Push(node);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CharacterMap('upgreek', mathchar0miNormal, {</span><span class="s3">\n    </span><span class="s1">upalpha: '</span><span class="s3">\\</span><span class="s1">u03B1',</span><span class="s3">\n    </span><span class="s1">upbeta: '</span><span class="s3">\\</span><span class="s1">u03B2',</span><span class="s3">\n    </span><span class="s1">upgamma: '</span><span class="s3">\\</span><span class="s1">u03B3',</span><span class="s3">\n    </span><span class="s1">updelta: '</span><span class="s3">\\</span><span class="s1">u03B4',</span><span class="s3">\n    </span><span class="s1">upepsilon: '</span><span class="s3">\\</span><span class="s1">u03F5',</span><span class="s3">\n    </span><span class="s1">upzeta: '</span><span class="s3">\\</span><span class="s1">u03B6',</span><span class="s3">\n    </span><span class="s1">upeta: '</span><span class="s3">\\</span><span class="s1">u03B7',</span><span class="s3">\n    </span><span class="s1">uptheta: '</span><span class="s3">\\</span><span class="s1">u03B8',</span><span class="s3">\n    </span><span class="s1">upiota: '</span><span class="s3">\\</span><span class="s1">u03B9',</span><span class="s3">\n    </span><span class="s1">upkappa: '</span><span class="s3">\\</span><span class="s1">u03BA',</span><span class="s3">\n    </span><span class="s1">uplambda: '</span><span class="s3">\\</span><span class="s1">u03BB',</span><span class="s3">\n    </span><span class="s1">upmu: '</span><span class="s3">\\</span><span class="s1">u03BC',</span><span class="s3">\n    </span><span class="s1">upnu: '</span><span class="s3">\\</span><span class="s1">u03BD',</span><span class="s3">\n    </span><span class="s1">upxi: '</span><span class="s3">\\</span><span class="s1">u03BE',</span><span class="s3">\n    </span><span class="s1">upomicron: '</span><span class="s3">\\</span><span class="s1">u03BF',</span><span class="s3">\n    </span><span class="s1">uppi: '</span><span class="s3">\\</span><span class="s1">u03C0',</span><span class="s3">\n    </span><span class="s1">uprho: '</span><span class="s3">\\</span><span class="s1">u03C1',</span><span class="s3">\n    </span><span class="s1">upsigma: '</span><span class="s3">\\</span><span class="s1">u03C3',</span><span class="s3">\n    </span><span class="s1">uptau: '</span><span class="s3">\\</span><span class="s1">u03C4',</span><span class="s3">\n    </span><span class="s1">upupsilon: '</span><span class="s3">\\</span><span class="s1">u03C5',</span><span class="s3">\n    </span><span class="s1">upphi: '</span><span class="s3">\\</span><span class="s1">u03D5',</span><span class="s3">\n    </span><span class="s1">upchi: '</span><span class="s3">\\</span><span class="s1">u03C7',</span><span class="s3">\n    </span><span class="s1">uppsi: '</span><span class="s3">\\</span><span class="s1">u03C8',</span><span class="s3">\n    </span><span class="s1">upomega: '</span><span class="s3">\\</span><span class="s1">u03C9',</span><span class="s3">\n    </span><span class="s1">upvarepsilon: '</span><span class="s3">\\</span><span class="s1">u03B5',</span><span class="s3">\n    </span><span class="s1">upvartheta: '</span><span class="s3">\\</span><span class="s1">u03D1',</span><span class="s3">\n    </span><span class="s1">upvarpi: '</span><span class="s3">\\</span><span class="s1">u03D6',</span><span class="s3">\n    </span><span class="s1">upvarrho: '</span><span class="s3">\\</span><span class="s1">u03F1',</span><span class="s3">\n    </span><span class="s1">upvarsigma: '</span><span class="s3">\\</span><span class="s1">u03C2',</span><span class="s3">\n    </span><span class="s1">upvarphi: '</span><span class="s3">\\</span><span class="s1">u03C6',</span><span class="s3">\n    </span><span class="s1">Upgamma: '</span><span class="s3">\\</span><span class="s1">u0393',</span><span class="s3">\n    </span><span class="s1">Updelta: '</span><span class="s3">\\</span><span class="s1">u0394',</span><span class="s3">\n    </span><span class="s1">Uptheta: '</span><span class="s3">\\</span><span class="s1">u0398',</span><span class="s3">\n    </span><span class="s1">Uplambda: '</span><span class="s3">\\</span><span class="s1">u039B',</span><span class="s3">\n    </span><span class="s1">Upxi: '</span><span class="s3">\\</span><span class="s1">u039E',</span><span class="s3">\n    </span><span class="s1">Uppi: '</span><span class="s3">\\</span><span class="s1">u03A0',</span><span class="s3">\n    </span><span class="s1">Upsigma: '</span><span class="s3">\\</span><span class="s1">u03A3',</span><span class="s3">\n    </span><span class="s1">Upupsilon: '</span><span class="s3">\\</span><span class="s1">u03A5',</span><span class="s3">\n    </span><span class="s1">Upphi: '</span><span class="s3">\\</span><span class="s1">u03A6',</span><span class="s3">\n    </span><span class="s1">Uppsi: '</span><span class="s3">\\</span><span class="s1">u03A8',</span><span class="s3">\n    </span><span class="s1">Upomega: '</span><span class="s3">\\</span><span class="s1">u03A9'</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">exports.UpgreekConfiguration = Configuration_js_1.Configuration.create('upgreek', {</span><span class="s3">\n    </span><span class="s1">handler: { macro: ['upgreek'] },</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=UpgreekConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.VerbConfiguration = exports.VerbMethods = void 0;</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TexConstants_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../TexConstants.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var SymbolMap_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../SymbolMap.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">../TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">exports.VerbMethods = {};</span><span class="s3">\n</span><span class="s1">exports.VerbMethods.Verb = function (parser, name) {</span><span class="s3">\n    </span><span class="s1">var c = parser.GetNext();</span><span class="s3">\n    </span><span class="s1">var start = ++parser.i;</span><span class="s3">\n    </span><span class="s1">if (c === '') {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', name);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">while (parser.i &lt; parser.string.length &amp;&amp;</span><span class="s3">\n        </span><span class="s1">parser.string.charAt(parser.i) !== c) {</span><span class="s3">\n        </span><span class="s1">parser.i++;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (parser.i === parser.string.length) {</span><span class="s3">\n        </span><span class="s1">throw new TexError_js_1.default('NoClosingDelim', 'Can</span><span class="s3">\\</span><span class="s1">'t find closing delimiter for %1', parser.currentCS);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">var text = parser.string.slice(start, parser.i).replace(/ /g, '</span><span class="s3">\\</span><span class="s1">u00A0');</span><span class="s3">\n    </span><span class="s1">parser.i++;</span><span class="s3">\n    </span><span class="s1">parser.Push(parser.create('token', 'mtext', { mathvariant: TexConstants_js_1.TexConstant.Variant.MONOSPACE }, text));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">new SymbolMap_js_1.CommandMap('verb', { verb: 'Verb' }, exports.VerbMethods);</span><span class="s3">\n</span><span class="s1">exports.VerbConfiguration = Configuration_js_1.Configuration.create('verb', { handler: { macro: ['verb'] } });</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=VerbConfiguration.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/*!</span><span class="s3">\n </span><span class="s1">*************************************************************************</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*  mhchemParser.ts</span><span class="s3">\n </span><span class="s1">*  4.2.1</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*  Parser for the </span><span class="s3">\\</span><span class="s1">ce command and </span><span class="s3">\\</span><span class="s1">pu command for MathJax and Co.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*  mhchem's </span><span class="s3">\\</span><span class="s1">ce is a tool for writing beautiful chemical equations easily.</span><span class="s3">\n </span><span class="s1">*  mhchem's </span><span class="s3">\\</span><span class="s1">pu is a tool for writing physical units easily.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*  ----------------------------------------------------------------------</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*  Copyright (c) 2015-2023 Martin Hensel</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*  Licensed under the Apache License, Version 2.0 (the </span><span class="s3">\&quot;</span><span class="s1">License</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n </span><span class="s1">*  you may not use this file except in compliance with the License.</span><span class="s3">\n </span><span class="s1">*  You may obtain a copy of the License at</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*      http://www.apache.org/licenses/LICENSE-2.0</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*  Unless required by applicable law or agreed to in writing, software</span><span class="s3">\n </span><span class="s1">*  distributed under the License is distributed on an </span><span class="s3">\&quot;</span><span class="s1">AS IS</span><span class="s3">\&quot; </span><span class="s1">BASIS,</span><span class="s3">\n </span><span class="s1">*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><span class="s3">\n </span><span class="s1">*  See the License for the specific language governing permissions and</span><span class="s3">\n </span><span class="s1">*  limitations under the License.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*  ----------------------------------------------------------------------</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*  https://github.com/mhchem/mhchemParser</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.mhchemParser = void 0;</span><span class="s3">\n</span><span class="s1">var mhchemParser = (function () {</span><span class="s3">\n    </span><span class="s1">function mhchemParser() {</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">mhchemParser.toTex = function (input, type) {</span><span class="s3">\n        </span><span class="s1">return _mhchemTexify.go(_mhchemParser.go(input, type), type !== </span><span class="s3">\&quot;</span><span class="s1">tex</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return mhchemParser;</span><span class="s3">\n</span><span class="s1">}());</span><span class="s3">\n</span><span class="s1">exports.mhchemParser = mhchemParser;</span><span class="s3">\n</span><span class="s1">function _mhchemCreateTransitions(o) {</span><span class="s3">\n    </span><span class="s1">var pattern, state;</span><span class="s3">\n    </span><span class="s1">var transitions = {};</span><span class="s3">\n    </span><span class="s1">for (pattern in o) {</span><span class="s3">\n        </span><span class="s1">for (state in o[pattern]) {</span><span class="s3">\n            </span><span class="s1">var stateArray = state.split(</span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">o[pattern][state].stateArray = stateArray;</span><span class="s3">\n            </span><span class="s1">for (var i = 0; i &lt; stateArray.length; i++) {</span><span class="s3">\n                </span><span class="s1">transitions[stateArray[i]] = [];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">for (pattern in o) {</span><span class="s3">\n        </span><span class="s1">for (state in o[pattern]) {</span><span class="s3">\n            </span><span class="s1">var stateArray = o[pattern][state].stateArray || [];</span><span class="s3">\n            </span><span class="s1">for (var i = 0; i &lt; stateArray.length; i++) {</span><span class="s3">\n                </span><span class="s1">var p = o[pattern][state];</span><span class="s3">\n                </span><span class="s1">p.action_ = [].concat(p.action_);</span><span class="s3">\n                </span><span class="s1">for (var k = 0; k &lt; p.action_.length; k++) {</span><span class="s3">\n                    </span><span class="s1">if (typeof p.action_[k] === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                        </span><span class="s1">p.action_[k] = { type_: p.action_[k] };</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">var patternArray = pattern.split(</span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">for (var j = 0; j &lt; patternArray.length; j++) {</span><span class="s3">\n                    </span><span class="s1">if (stateArray[i] === '*') {</span><span class="s3">\n                        </span><span class="s1">var t = void 0;</span><span class="s3">\n                        </span><span class="s1">for (t in transitions) {</span><span class="s3">\n                            </span><span class="s1">transitions[t].push({ pattern: patternArray[j], task: p });</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">transitions[stateArray[i]].push({ pattern: patternArray[j], task: p });</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return transitions;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var _mhchemParser = {</span><span class="s3">\n    </span><span class="s1">go: function (input, stateMachine) {</span><span class="s3">\n        </span><span class="s1">if (!input) {</span><span class="s3">\n            </span><span class="s1">return [];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (stateMachine === undefined) {</span><span class="s3">\n            </span><span class="s1">stateMachine = 'ce';</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var state = '0';</span><span class="s3">\n        </span><span class="s1">var buffer = {};</span><span class="s3">\n        </span><span class="s1">buffer['parenthesisLevel'] = 0;</span><span class="s3">\n        </span><span class="s1">input = input.replace(/</span><span class="s3">\\</span><span class="s1">n/g, </span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">input = input.replace(/[</span><span class="s3">\\</span><span class="s1">u2212</span><span class="s3">\\</span><span class="s1">u2013</span><span class="s3">\\</span><span class="s1">u2014</span><span class="s3">\\</span><span class="s1">u2010]/g, </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">input = input.replace(/[</span><span class="s3">\\</span><span class="s1">u2026]/g, </span><span class="s3">\&quot;</span><span class="s1">...</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">var lastInput;</span><span class="s3">\n        </span><span class="s1">var watchdog = 10;</span><span class="s3">\n        </span><span class="s1">var output = [];</span><span class="s3">\n        </span><span class="s1">while (true) {</span><span class="s3">\n            </span><span class="s1">if (lastInput !== input) {</span><span class="s3">\n                </span><span class="s1">watchdog = 10;</span><span class="s3">\n                </span><span class="s1">lastInput = input;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">watchdog--;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">var machine = _mhchemParser.stateMachines[stateMachine];</span><span class="s3">\n            </span><span class="s1">var t = machine.transitions[state] || machine.transitions['*'];</span><span class="s3">\n            </span><span class="s1">iterateTransitions: for (var i = 0; i &lt; t.length; i++) {</span><span class="s3">\n                </span><span class="s1">var matches = _mhchemParser.patterns.match_(t[i].pattern, input);</span><span class="s3">\n                </span><span class="s1">if (matches) {</span><span class="s3">\n                    </span><span class="s1">var task = t[i].task;</span><span class="s3">\n                    </span><span class="s1">for (var iA = 0; iA &lt; task.action_.length; iA++) {</span><span class="s3">\n                        </span><span class="s1">var o = void 0;</span><span class="s3">\n                        </span><span class="s1">if (machine.actions[task.action_[iA].type_]) {</span><span class="s3">\n                            </span><span class="s1">o = machine.actions[task.action_[iA].type_](buffer, matches.match_, task.action_[iA].option);</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else if (_mhchemParser.actions[task.action_[iA].type_]) {</span><span class="s3">\n                            </span><span class="s1">o = _mhchemParser.actions[task.action_[iA].type_](buffer, matches.match_, task.action_[iA].option);</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else {</span><span class="s3">\n                            </span><span class="s1">throw [</span><span class="s3">\&quot;</span><span class="s1">MhchemBugA</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mhchem bug A. Please report. (</span><span class="s3">\&quot; </span><span class="s1">+ task.action_[iA].type_ + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">_mhchemParser.concatArray(output, o);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">state = task.nextState || state;</span><span class="s3">\n                    </span><span class="s1">if (input.length &gt; 0) {</span><span class="s3">\n                        </span><span class="s1">if (!task.revisit) {</span><span class="s3">\n                            </span><span class="s1">input = matches.remainder;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">if (!task.toContinue) {</span><span class="s3">\n                            </span><span class="s1">break iterateTransitions;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">return output;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (watchdog &lt;= 0) {</span><span class="s3">\n                </span><span class="s1">throw [</span><span class="s3">\&quot;</span><span class="s1">MhchemBugU</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mhchem bug U. Please report.</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">concatArray: function (a, b) {</span><span class="s3">\n        </span><span class="s1">if (b) {</span><span class="s3">\n            </span><span class="s1">if (Array.isArray(b)) {</span><span class="s3">\n                </span><span class="s1">for (var iB = 0; iB &lt; b.length; iB++) {</span><span class="s3">\n                    </span><span class="s1">a.push(b[iB]);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">a.push(b);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">patterns: {</span><span class="s3">\n        </span><span class="s1">patterns: {</span><span class="s3">\n            </span><span class="s1">'empty': /^$/,</span><span class="s3">\n            </span><span class="s1">'else': /^./,</span><span class="s3">\n            </span><span class="s1">'else2': /^./,</span><span class="s3">\n            </span><span class="s1">'space': /^</span><span class="s3">\\</span><span class="s1">s/,</span><span class="s3">\n            </span><span class="s1">'space A': /^</span><span class="s3">\\</span><span class="s1">s(?=[A-Z</span><span class="s3">\\\\</span><span class="s1">$])/,</span><span class="s3">\n            </span><span class="s1">'space$': /^</span><span class="s3">\\</span><span class="s1">s$/,</span><span class="s3">\n            </span><span class="s1">'a-z': /^[a-z]/,</span><span class="s3">\n            </span><span class="s1">'x': /^x/,</span><span class="s3">\n            </span><span class="s1">'x$': /^x$/,</span><span class="s3">\n            </span><span class="s1">'i$': /^i$/,</span><span class="s3">\n            </span><span class="s1">'letters': /^(?:[a-zA-Z</span><span class="s3">\\</span><span class="s1">u03B1-</span><span class="s3">\\</span><span class="s1">u03C9</span><span class="s3">\\</span><span class="s1">u0391-</span><span class="s3">\\</span><span class="s1">u03A9?@]|(?:</span><span class="s3">\\\\</span><span class="s1">(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:</span><span class="s3">\\</span><span class="s1">s+|</span><span class="s3">\\</span><span class="s1">{</span><span class="s3">\\</span><span class="s1">}|(?![a-zA-Z]))))+/,</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">greek': /^</span><span class="s3">\\\\</span><span class="s1">(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:</span><span class="s3">\\</span><span class="s1">s+|</span><span class="s3">\\</span><span class="s1">{</span><span class="s3">\\</span><span class="s1">}|(?![a-zA-Z]))/,</span><span class="s3">\n            </span><span class="s1">'one lowercase latin letter $': /^(?:([a-z])(?:$|[^a-zA-Z]))$/,</span><span class="s3">\n            </span><span class="s1">'$one lowercase latin letter$ $': /^</span><span class="s3">\\</span><span class="s1">$(?:([a-z])(?:$|[^a-zA-Z]))</span><span class="s3">\\</span><span class="s1">$$/,</span><span class="s3">\n            </span><span class="s1">'one lowercase greek letter $': /^(?:</span><span class="s3">\\</span><span class="s1">$?[</span><span class="s3">\\</span><span class="s1">u03B1-</span><span class="s3">\\</span><span class="s1">u03C9]</span><span class="s3">\\</span><span class="s1">$?|</span><span class="s3">\\</span><span class="s1">$?</span><span class="s3">\\\\</span><span class="s1">(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)</span><span class="s3">\\</span><span class="s1">s*</span><span class="s3">\\</span><span class="s1">$?)(?:</span><span class="s3">\\</span><span class="s1">s+|</span><span class="s3">\\</span><span class="s1">{</span><span class="s3">\\</span><span class="s1">}|(?![a-zA-Z]))$/,</span><span class="s3">\n            </span><span class="s1">'digits': /^[0-9]+/,</span><span class="s3">\n            </span><span class="s1">'-9.,9': /^[+</span><span class="s3">\\</span><span class="s1">-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:</span><span class="s3">\\</span><span class="s1">.[0-9]+))/,</span><span class="s3">\n            </span><span class="s1">'-9.,9 no missing 0': /^[+</span><span class="s3">\\</span><span class="s1">-]?[0-9]+(?:[.,][0-9]+)?/,</span><span class="s3">\n            </span><span class="s1">'(-)(9.,9)(e)(99)': function (input) {</span><span class="s3">\n                </span><span class="s1">var match = input.match(/^(</span><span class="s3">\\</span><span class="s1">+</span><span class="s3">\\</span><span class="s1">-|</span><span class="s3">\\</span><span class="s1">+</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">-|</span><span class="s3">\\</span><span class="s1">+|</span><span class="s3">\\</span><span class="s1">-|</span><span class="s3">\\\\</span><span class="s1">pm</span><span class="s3">\\</span><span class="s1">s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:</span><span class="s3">\\</span><span class="s1">.[0-9]+))?(</span><span class="s3">\\</span><span class="s1">((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:</span><span class="s3">\\</span><span class="s1">.[0-9]+))</span><span class="s3">\\</span><span class="s1">))?(?:(?:([eE])|</span><span class="s3">\\</span><span class="s1">s*(</span><span class="s3">\\</span><span class="s1">*|x|</span><span class="s3">\\\\</span><span class="s1">times|</span><span class="s3">\\</span><span class="s1">u00D7)</span><span class="s3">\\</span><span class="s1">s*10</span><span class="s3">\\</span><span class="s1">^)([+</span><span class="s3">\\</span><span class="s1">-]?[0-9]+|</span><span class="s3">\\</span><span class="s1">{[+</span><span class="s3">\\</span><span class="s1">-]?[0-9]+</span><span class="s3">\\</span><span class="s1">}))?/);</span><span class="s3">\n                </span><span class="s1">if (match &amp;&amp; match[0]) {</span><span class="s3">\n                    </span><span class="s1">return { match_: match.slice(1), remainder: input.substr(match[0].length) };</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return null;</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">'(-)(9)^(-9)': /^(</span><span class="s3">\\</span><span class="s1">+</span><span class="s3">\\</span><span class="s1">-|</span><span class="s3">\\</span><span class="s1">+</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">-|</span><span class="s3">\\</span><span class="s1">+|</span><span class="s3">\\</span><span class="s1">-|</span><span class="s3">\\\\</span><span class="s1">pm</span><span class="s3">\\</span><span class="s1">s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:</span><span class="s3">\\</span><span class="s1">.[0-9]+)?)</span><span class="s3">\\</span><span class="s1">^([+</span><span class="s3">\\</span><span class="s1">-]?[0-9]+|</span><span class="s3">\\</span><span class="s1">{[+</span><span class="s3">\\</span><span class="s1">-]?[0-9]+</span><span class="s3">\\</span><span class="s1">})/,</span><span class="s3">\n            </span><span class="s1">'state of aggregation $': function (input) {</span><span class="s3">\n                </span><span class="s1">var a = _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, /^</span><span class="s3">\\</span><span class="s1">([a-z]{1,3}(?=[</span><span class="s3">\\</span><span class="s1">),])/, </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">if (a &amp;&amp; a.remainder.match(/^($|[</span><span class="s3">\\</span><span class="s1">s,;</span><span class="s3">\\</span><span class="s1">)</span><span class="s3">\\</span><span class="s1">]</span><span class="s3">\\</span><span class="s1">}])/)) {</span><span class="s3">\n                    </span><span class="s1">return a;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">var match = input.match(/^(?:</span><span class="s3">\\</span><span class="s1">((?:</span><span class="s3">\\\\</span><span class="s1">ca</span><span class="s3">\\</span><span class="s1">s?)?</span><span class="s3">\\</span><span class="s1">$[amothc]</span><span class="s3">\\</span><span class="s1">$</span><span class="s3">\\</span><span class="s1">))/);</span><span class="s3">\n                </span><span class="s1">if (match) {</span><span class="s3">\n                    </span><span class="s1">return { match_: match[0], remainder: input.substr(match[0].length) };</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return null;</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">'_{(state of aggregation)}$': /^_</span><span class="s3">\\</span><span class="s1">{(</span><span class="s3">\\</span><span class="s1">([a-z]{1,3}</span><span class="s3">\\</span><span class="s1">))</span><span class="s3">\\</span><span class="s1">}/,</span><span class="s3">\n            </span><span class="s1">'{[(': /^(?:</span><span class="s3">\\\\\\</span><span class="s1">{|</span><span class="s3">\\</span><span class="s1">[|</span><span class="s3">\\</span><span class="s1">()/,</span><span class="s3">\n            </span><span class="s1">')]}': /^(?:</span><span class="s3">\\</span><span class="s1">)|</span><span class="s3">\\</span><span class="s1">]|</span><span class="s3">\\\\\\</span><span class="s1">})/,</span><span class="s3">\n            </span><span class="s1">', ': /^[,;]</span><span class="s3">\\</span><span class="s1">s*/,</span><span class="s3">\n            </span><span class="s1">',': /^[,;]/,</span><span class="s3">\n            </span><span class="s1">'.': /^[.]/,</span><span class="s3">\n            </span><span class="s1">'. __* ': /^([.</span><span class="s3">\\</span><span class="s1">u22C5</span><span class="s3">\\</span><span class="s1">u00B7</span><span class="s3">\\</span><span class="s1">u2022]|[*])</span><span class="s3">\\</span><span class="s1">s*/,</span><span class="s3">\n            </span><span class="s1">'...': /^</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">.(?=$|[^.])/,</span><span class="s3">\n            </span><span class="s1">'^{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;</span><span class="s1">^{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">); },</span><span class="s3">\n            </span><span class="s1">'^($...$)': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;</span><span class="s1">^</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">$</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">$</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">); },</span><span class="s3">\n            </span><span class="s1">'^a': /^</span><span class="s3">\\</span><span class="s1">^([0-9]+|[^</span><span class="s3">\\\\</span><span class="s1">_])/,</span><span class="s3">\n            </span><span class="s1">'^</span><span class="s3">\\\\</span><span class="s1">x{}{}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;</span><span class="s1">^</span><span class="s3">\&quot;</span><span class="s1">, /^</span><span class="s3">\\\\</span><span class="s1">[a-zA-Z]+</span><span class="s3">\\</span><span class="s1">{/, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, true); },</span><span class="s3">\n            </span><span class="s1">'^</span><span class="s3">\\\\</span><span class="s1">x{}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;</span><span class="s1">^</span><span class="s3">\&quot;</span><span class="s1">, /^</span><span class="s3">\\\\</span><span class="s1">[a-zA-Z]+</span><span class="s3">\\</span><span class="s1">{/, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">); },</span><span class="s3">\n            </span><span class="s1">'^</span><span class="s3">\\\\</span><span class="s1">x': /^</span><span class="s3">\\</span><span class="s1">^(</span><span class="s3">\\\\</span><span class="s1">[a-zA-Z]+)</span><span class="s3">\\</span><span class="s1">s*/,</span><span class="s3">\n            </span><span class="s1">'^(-1)': /^</span><span class="s3">\\</span><span class="s1">^(-?</span><span class="s3">\\</span><span class="s1">d+)/,</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">'': /^'/,</span><span class="s3">\n            </span><span class="s1">'_{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;</span><span class="s1">_{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">); },</span><span class="s3">\n            </span><span class="s1">'_($...$)': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">$</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">$</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">); },</span><span class="s3">\n            </span><span class="s1">'_9': /^_([+</span><span class="s3">\\</span><span class="s1">-]?[0-9]+|[^</span><span class="s3">\\\\</span><span class="s1">])/,</span><span class="s3">\n            </span><span class="s1">'_</span><span class="s3">\\\\</span><span class="s1">x{}{}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">, /^</span><span class="s3">\\\\</span><span class="s1">[a-zA-Z]+</span><span class="s3">\\</span><span class="s1">{/, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, true); },</span><span class="s3">\n            </span><span class="s1">'_</span><span class="s3">\\\\</span><span class="s1">x{}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">, /^</span><span class="s3">\\\\</span><span class="s1">[a-zA-Z]+</span><span class="s3">\\</span><span class="s1">{/, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">); },</span><span class="s3">\n            </span><span class="s1">'_</span><span class="s3">\\\\</span><span class="s1">x': /^_(</span><span class="s3">\\\\</span><span class="s1">[a-zA-Z]+)</span><span class="s3">\\</span><span class="s1">s*/,</span><span class="s3">\n            </span><span class="s1">'^_': /^(?:</span><span class="s3">\\</span><span class="s1">^(?=_)|</span><span class="s3">\\</span><span class="s1">_(?=</span><span class="s3">\\</span><span class="s1">^)|[</span><span class="s3">\\</span><span class="s1">^_]$)/,</span><span class="s3">\n            </span><span class="s1">'{}^': /^</span><span class="s3">\\</span><span class="s1">{</span><span class="s3">\\</span><span class="s1">}(?=</span><span class="s3">\\</span><span class="s1">^)/,</span><span class="s3">\n            </span><span class="s1">'{}': /^</span><span class="s3">\\</span><span class="s1">{</span><span class="s3">\\</span><span class="s1">}/,</span><span class="s3">\n            </span><span class="s1">'{...}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">); },</span><span class="s3">\n            </span><span class="s1">'{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">); },</span><span class="s3">\n            </span><span class="s1">'$...$': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">$</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">$</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">); },</span><span class="s3">\n            </span><span class="s1">'${(...)}$__$(...)$': function (input) {</span><span class="s3">\n                </span><span class="s1">return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;</span><span class="s1">${</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}$</span><span class="s3">\&quot;</span><span class="s1">) || _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;</span><span class="s1">$</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">$</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">'=&lt;&gt;': /^[=&lt;&gt;]/,</span><span class="s3">\n            </span><span class="s1">'#': /^[#</span><span class="s3">\\</span><span class="s1">u2261]/,</span><span class="s3">\n            </span><span class="s1">'+': /^</span><span class="s3">\\</span><span class="s1">+/,</span><span class="s3">\n            </span><span class="s1">'-$': /^-(?=[</span><span class="s3">\\</span><span class="s1">s_},;</span><span class="s3">\\</span><span class="s1">]/]|$|</span><span class="s3">\\</span><span class="s1">([a-z]+</span><span class="s3">\\</span><span class="s1">))/,</span><span class="s3">\n            </span><span class="s1">'-9': /^-(?=[0-9])/,</span><span class="s3">\n            </span><span class="s1">'- orbital overlap': /^-(?=(?:[spd]|sp)(?:$|[</span><span class="s3">\\</span><span class="s1">s,;</span><span class="s3">\\</span><span class="s1">)</span><span class="s3">\\</span><span class="s1">]</span><span class="s3">\\</span><span class="s1">}]))/,</span><span class="s3">\n            </span><span class="s1">'-': /^-/,</span><span class="s3">\n            </span><span class="s1">'pm-operator': /^(?:</span><span class="s3">\\\\</span><span class="s1">pm|</span><span class="s3">\\</span><span class="s1">$</span><span class="s3">\\\\</span><span class="s1">pm</span><span class="s3">\\</span><span class="s1">$|</span><span class="s3">\\</span><span class="s1">+-|</span><span class="s3">\\</span><span class="s1">+</span><span class="s3">\\</span><span class="s1">/-)/,</span><span class="s3">\n            </span><span class="s1">'operator': /^(?:</span><span class="s3">\\</span><span class="s1">+|(?:[</span><span class="s3">\\</span><span class="s1">-=&lt;&gt;]|&lt;&lt;|&gt;&gt;|</span><span class="s3">\\\\</span><span class="s1">approx|</span><span class="s3">\\</span><span class="s1">$</span><span class="s3">\\\\</span><span class="s1">approx</span><span class="s3">\\</span><span class="s1">$)(?=</span><span class="s3">\\</span><span class="s1">s|$|-?[0-9]))/,</span><span class="s3">\n            </span><span class="s1">'arrowUpDown': /^(?:v|</span><span class="s3">\\</span><span class="s1">(v</span><span class="s3">\\</span><span class="s1">)|</span><span class="s3">\\</span><span class="s1">^|</span><span class="s3">\\</span><span class="s1">(</span><span class="s3">\\</span><span class="s1">^</span><span class="s3">\\</span><span class="s1">))(?=$|[</span><span class="s3">\\</span><span class="s1">s,;</span><span class="s3">\\</span><span class="s1">)</span><span class="s3">\\</span><span class="s1">]</span><span class="s3">\\</span><span class="s1">}])/,</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">bond{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;\\\\</span><span class="s1">bond{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">); },</span><span class="s3">\n            </span><span class="s1">'-&gt;': /^(?:&lt;-&gt;|&lt;--&gt;|-&gt;|&lt;-|&lt;=&gt;&gt;|&lt;&lt;=&gt;|&lt;=&gt;|[</span><span class="s3">\\</span><span class="s1">u2192</span><span class="s3">\\</span><span class="s1">u27F6</span><span class="s3">\\</span><span class="s1">u21CC])/,</span><span class="s3">\n            </span><span class="s1">'CMT': /^[CMT](?=</span><span class="s3">\\</span><span class="s1">[)/,</span><span class="s3">\n            </span><span class="s1">'[(...)]': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot;</span><span class="s1">); },</span><span class="s3">\n            </span><span class="s1">'1st-level escape': /^(&amp;|</span><span class="s3">\\\\\\\\</span><span class="s1">|</span><span class="s3">\\\\</span><span class="s1">hline)</span><span class="s3">\\</span><span class="s1">s*/,</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">,': /^(?:</span><span class="s3">\\\\</span><span class="s1">[,</span><span class="s3">\\ </span><span class="s1">;:])/,</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">x{}{}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, /^</span><span class="s3">\\\\</span><span class="s1">[a-zA-Z]+</span><span class="s3">\\</span><span class="s1">{/, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, true); },</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">x{}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, /^</span><span class="s3">\\\\</span><span class="s1">[a-zA-Z]+</span><span class="s3">\\</span><span class="s1">{/, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">); },</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">ca': /^</span><span class="s3">\\\\</span><span class="s1">ca(?:</span><span class="s3">\\</span><span class="s1">s+|(?![a-zA-Z]))/,</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">x': /^(?:</span><span class="s3">\\\\</span><span class="s1">[a-zA-Z]+</span><span class="s3">\\</span><span class="s1">s*|</span><span class="s3">\\\\</span><span class="s1">[_&amp;{}%])/,</span><span class="s3">\n            </span><span class="s1">'orbital': /^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,</span><span class="s3">\n            </span><span class="s1">'others': /^[</span><span class="s3">\\</span><span class="s1">/~|]/,</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">frac{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;\\\\</span><span class="s1">frac{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">); },</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">overset{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;\\\\</span><span class="s1">overset{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">); },</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">underset{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;\\\\</span><span class="s1">underset{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">); },</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">underbrace{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;\\\\</span><span class="s1">underbrace{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}_</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">); },</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">color{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;\\\\</span><span class="s1">color{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">); },</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">color{(...)}{(...)}': function (input) {</span><span class="s3">\n                </span><span class="s1">return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;\\\\</span><span class="s1">color{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">) ||</span><span class="s3">\n                    </span><span class="s1">_mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;\\\\</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, /^(?=</span><span class="s3">\\</span><span class="s1">{)/, </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">ce{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;\\\\</span><span class="s1">ce{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">); },</span><span class="s3">\n            </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">pu{(...)}': function (input) { return _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;\\\\</span><span class="s1">pu{</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">); },</span><span class="s3">\n            </span><span class="s1">'oxidation$': /^(?:[+-][IVX]+|(?:</span><span class="s3">\\\\</span><span class="s1">pm|</span><span class="s3">\\</span><span class="s1">$</span><span class="s3">\\\\</span><span class="s1">pm</span><span class="s3">\\</span><span class="s1">$|</span><span class="s3">\\</span><span class="s1">+-|</span><span class="s3">\\</span><span class="s1">+</span><span class="s3">\\</span><span class="s1">/-)</span><span class="s3">\\</span><span class="s1">s*0)$/,</span><span class="s3">\n            </span><span class="s1">'d-oxidation$': /^(?:[+-]?[IVX]+|(?:</span><span class="s3">\\\\</span><span class="s1">pm|</span><span class="s3">\\</span><span class="s1">$</span><span class="s3">\\\\</span><span class="s1">pm</span><span class="s3">\\</span><span class="s1">$|</span><span class="s3">\\</span><span class="s1">+-|</span><span class="s3">\\</span><span class="s1">+</span><span class="s3">\\</span><span class="s1">/-)</span><span class="s3">\\</span><span class="s1">s*0)$/,</span><span class="s3">\n            </span><span class="s1">'1/2$': /^[+</span><span class="s3">\\</span><span class="s1">-]?(?:[0-9]+|</span><span class="s3">\\</span><span class="s1">$[a-z]</span><span class="s3">\\</span><span class="s1">$|[a-z])</span><span class="s3">\\</span><span class="s1">/[0-9]+(?:</span><span class="s3">\\</span><span class="s1">$[a-z]</span><span class="s3">\\</span><span class="s1">$|[a-z])?$/,</span><span class="s3">\n            </span><span class="s1">'amount': function (input) {</span><span class="s3">\n                </span><span class="s1">var match;</span><span class="s3">\n                </span><span class="s1">match = input.match(/^(?:(?:(?:</span><span class="s3">\\</span><span class="s1">([+</span><span class="s3">\\</span><span class="s1">-]?[0-9]+</span><span class="s3">\\</span><span class="s1">/[0-9]+</span><span class="s3">\\</span><span class="s1">)|[+</span><span class="s3">\\</span><span class="s1">-]?(?:[0-9]+|</span><span class="s3">\\</span><span class="s1">$[a-z]</span><span class="s3">\\</span><span class="s1">$|[a-z])</span><span class="s3">\\</span><span class="s1">/[0-9]+|[+</span><span class="s3">\\</span><span class="s1">-]?[0-9]+[.,][0-9]+|[+</span><span class="s3">\\</span><span class="s1">-]?</span><span class="s3">\\</span><span class="s1">.[0-9]+|[+</span><span class="s3">\\</span><span class="s1">-]?[0-9]+)(?:[a-z](?=</span><span class="s3">\\</span><span class="s1">s*[A-Z]))?)|[+</span><span class="s3">\\</span><span class="s1">-]?[a-z](?=</span><span class="s3">\\</span><span class="s1">s*[A-Z])|</span><span class="s3">\\</span><span class="s1">+(?!</span><span class="s3">\\</span><span class="s1">s))/);</span><span class="s3">\n                </span><span class="s1">if (match) {</span><span class="s3">\n                    </span><span class="s1">return { match_: match[0], remainder: input.substr(match[0].length) };</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">var a = _mhchemParser.patterns.findObserveGroups(input, </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">$</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">$</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">if (a) {</span><span class="s3">\n                    </span><span class="s1">match = a.match_.match(/^</span><span class="s3">\\</span><span class="s1">$(?:</span><span class="s3">\\</span><span class="s1">(?[+</span><span class="s3">\\</span><span class="s1">-]?(?:[0-9]*[a-z]?[+</span><span class="s3">\\</span><span class="s1">-])?[0-9]*[a-z](?:[+</span><span class="s3">\\</span><span class="s1">-][0-9]*[a-z]?)?</span><span class="s3">\\</span><span class="s1">)?|</span><span class="s3">\\</span><span class="s1">+|-)</span><span class="s3">\\</span><span class="s1">$$/);</span><span class="s3">\n                    </span><span class="s1">if (match) {</span><span class="s3">\n                        </span><span class="s1">return { match_: match[0], remainder: input.substr(match[0].length) };</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return null;</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">'amount2': function (input) { return this['amount'](input); },</span><span class="s3">\n            </span><span class="s1">'(KV letters),': /^(?:[A-Z][a-z]{0,2}|i)(?=,)/,</span><span class="s3">\n            </span><span class="s1">'formula$': function (input) {</span><span class="s3">\n                </span><span class="s1">if (input.match(/^</span><span class="s3">\\</span><span class="s1">([a-z]+</span><span class="s3">\\</span><span class="s1">)$/)) {</span><span class="s3">\n                    </span><span class="s1">return null;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">var match = input.match(/^(?:[a-z]|(?:[0-9</span><span class="s3">\\ \\</span><span class="s1">+</span><span class="s3">\\</span><span class="s1">-</span><span class="s3">\\</span><span class="s1">,</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">(</span><span class="s3">\\</span><span class="s1">)]+[a-z])+[0-9</span><span class="s3">\\ \\</span><span class="s1">+</span><span class="s3">\\</span><span class="s1">-</span><span class="s3">\\</span><span class="s1">,</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">(</span><span class="s3">\\</span><span class="s1">)]*|(?:[a-z][0-9</span><span class="s3">\\ \\</span><span class="s1">+</span><span class="s3">\\</span><span class="s1">-</span><span class="s3">\\</span><span class="s1">,</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">(</span><span class="s3">\\</span><span class="s1">)]+)+[a-z]?)$/);</span><span class="s3">\n                </span><span class="s1">if (match) {</span><span class="s3">\n                    </span><span class="s1">return { match_: match[0], remainder: input.substr(match[0].length) };</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return null;</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">'uprightEntities': /^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,</span><span class="s3">\n            </span><span class="s1">'/': /^</span><span class="s3">\\</span><span class="s1">s*(</span><span class="s3">\\</span><span class="s1">/)</span><span class="s3">\\</span><span class="s1">s*/,</span><span class="s3">\n            </span><span class="s1">'//': /^</span><span class="s3">\\</span><span class="s1">s*(</span><span class="s3">\\</span><span class="s1">/</span><span class="s3">\\</span><span class="s1">/)</span><span class="s3">\\</span><span class="s1">s*/,</span><span class="s3">\n            </span><span class="s1">'*': /^</span><span class="s3">\\</span><span class="s1">s*[*.]</span><span class="s3">\\</span><span class="s1">s*/</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">findObserveGroups: function (input, begExcl, begIncl, endIncl, endExcl, beg2Excl, beg2Incl, end2Incl, end2Excl, combine) {</span><span class="s3">\n            </span><span class="s1">var _match = function (input, pattern) {</span><span class="s3">\n                </span><span class="s1">if (typeof pattern === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">if (input.indexOf(pattern) !== 0) {</span><span class="s3">\n                        </span><span class="s1">return null;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return pattern;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">var match_1 = input.match(pattern);</span><span class="s3">\n                    </span><span class="s1">if (!match_1) {</span><span class="s3">\n                        </span><span class="s1">return null;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return match_1[0];</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n            </span><span class="s1">var _findObserveGroups = function (input, i, endChars) {</span><span class="s3">\n                </span><span class="s1">var braces = 0;</span><span class="s3">\n                </span><span class="s1">while (i &lt; input.length) {</span><span class="s3">\n                    </span><span class="s1">var a = input.charAt(i);</span><span class="s3">\n                    </span><span class="s1">var match_2 = _match(input.substr(i), endChars);</span><span class="s3">\n                    </span><span class="s1">if (match_2 !== null &amp;&amp; braces === 0) {</span><span class="s3">\n                        </span><span class="s1">return { endMatchBegin: i, endMatchEnd: i + match_2.length };</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else if (a === </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                        </span><span class="s1">braces++;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else if (a === </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                        </span><span class="s1">if (braces === 0) {</span><span class="s3">\n                            </span><span class="s1">throw [</span><span class="s3">\&quot;</span><span class="s1">ExtraCloseMissingOpen</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Extra close brace or missing open brace</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else {</span><span class="s3">\n                            </span><span class="s1">braces--;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">i++;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">if (braces &gt; 0) {</span><span class="s3">\n                    </span><span class="s1">return null;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return null;</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n            </span><span class="s1">var match = _match(input, begExcl);</span><span class="s3">\n            </span><span class="s1">if (match === null) {</span><span class="s3">\n                </span><span class="s1">return null;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">input = input.substr(match.length);</span><span class="s3">\n            </span><span class="s1">match = _match(input, begIncl);</span><span class="s3">\n            </span><span class="s1">if (match === null) {</span><span class="s3">\n                </span><span class="s1">return null;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">var e = _findObserveGroups(input, match.length, endIncl || endExcl);</span><span class="s3">\n            </span><span class="s1">if (e === null) {</span><span class="s3">\n                </span><span class="s1">return null;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">var match1 = input.substring(0, (endIncl ? e.endMatchEnd : e.endMatchBegin));</span><span class="s3">\n            </span><span class="s1">if (!(beg2Excl || beg2Incl)) {</span><span class="s3">\n                </span><span class="s1">return {</span><span class="s3">\n                    </span><span class="s1">match_: match1,</span><span class="s3">\n                    </span><span class="s1">remainder: input.substr(e.endMatchEnd)</span><span class="s3">\n                </span><span class="s1">};</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">var group2 = this.findObserveGroups(input.substr(e.endMatchEnd), beg2Excl, beg2Incl, end2Incl, end2Excl);</span><span class="s3">\n                </span><span class="s1">if (group2 === null) {</span><span class="s3">\n                    </span><span class="s1">return null;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">var matchRet = [match1, group2.match_];</span><span class="s3">\n                </span><span class="s1">return {</span><span class="s3">\n                    </span><span class="s1">match_: (combine ? matchRet.join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">) : matchRet),</span><span class="s3">\n                    </span><span class="s1">remainder: group2.remainder</span><span class="s3">\n                </span><span class="s1">};</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">match_: function (m, input) {</span><span class="s3">\n            </span><span class="s1">var pattern = _mhchemParser.patterns.patterns[m];</span><span class="s3">\n            </span><span class="s1">if (pattern === undefined) {</span><span class="s3">\n                </span><span class="s1">throw [</span><span class="s3">\&quot;</span><span class="s1">MhchemBugP</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mhchem bug P. Please report. (</span><span class="s3">\&quot; </span><span class="s1">+ m + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (typeof pattern === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">return _mhchemParser.patterns.patterns[m](input);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">var match = input.match(pattern);</span><span class="s3">\n                </span><span class="s1">if (match) {</span><span class="s3">\n                    </span><span class="s1">if (match.length &gt; 2) {</span><span class="s3">\n                        </span><span class="s1">return { match_: match.slice(1), remainder: input.substr(match[0].length) };</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">return { match_: match[1] || match[0], remainder: input.substr(match[0].length) };</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return null;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">actions: {</span><span class="s3">\n        </span><span class="s1">'a=': function (buffer, m) { buffer.a = (buffer.a || </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + m; return undefined; },</span><span class="s3">\n        </span><span class="s1">'b=': function (buffer, m) { buffer.b = (buffer.b || </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + m; return undefined; },</span><span class="s3">\n        </span><span class="s1">'p=': function (buffer, m) { buffer.p = (buffer.p || </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + m; return undefined; },</span><span class="s3">\n        </span><span class="s1">'o=': function (buffer, m) { buffer.o = (buffer.o || </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + m; return undefined; },</span><span class="s3">\n        </span><span class="s1">'o=+p1': function (buffer, _m, a) { buffer.o = (buffer.o || </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + a; return undefined; },</span><span class="s3">\n        </span><span class="s1">'q=': function (buffer, m) { buffer.q = (buffer.q || </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + m; return undefined; },</span><span class="s3">\n        </span><span class="s1">'d=': function (buffer, m) { buffer.d = (buffer.d || </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + m; return undefined; },</span><span class="s3">\n        </span><span class="s1">'rm=': function (buffer, m) { buffer.rm = (buffer.rm || </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + m; return undefined; },</span><span class="s3">\n        </span><span class="s1">'text=': function (buffer, m) { buffer.text_ = (buffer.text_ || </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + m; return undefined; },</span><span class="s3">\n        </span><span class="s1">'insert': function (_buffer, _m, a) { return { type_: a }; },</span><span class="s3">\n        </span><span class="s1">'insert+p1': function (_buffer, m, a) { return { type_: a, p1: m }; },</span><span class="s3">\n        </span><span class="s1">'insert+p1+p2': function (_buffer, m, a) { return { type_: a, p1: m[0], p2: m[1] }; },</span><span class="s3">\n        </span><span class="s1">'copy': function (_buffer, m) { return m; },</span><span class="s3">\n        </span><span class="s1">'write': function (_buffer, _m, a) { return a; },</span><span class="s3">\n        </span><span class="s1">'rm': function (_buffer, m) { return { type_: 'rm', p1: m }; },</span><span class="s3">\n        </span><span class="s1">'text': function (_buffer, m) { return _mhchemParser.go(m, 'text'); },</span><span class="s3">\n        </span><span class="s1">'tex-math': function (_buffer, m) { return _mhchemParser.go(m, 'tex-math'); },</span><span class="s3">\n        </span><span class="s1">'tex-math tight': function (_buffer, m) { return _mhchemParser.go(m, 'tex-math tight'); },</span><span class="s3">\n        </span><span class="s1">'bond': function (_buffer, m, k) { return { type_: 'bond', kind_: k || m }; },</span><span class="s3">\n        </span><span class="s1">'color0-output': function (_buffer, m) { return { type_: 'color0', color: m }; },</span><span class="s3">\n        </span><span class="s1">'ce': function (_buffer, m) { return _mhchemParser.go(m, 'ce'); },</span><span class="s3">\n        </span><span class="s1">'pu': function (_buffer, m) { return _mhchemParser.go(m, 'pu'); },</span><span class="s3">\n        </span><span class="s1">'1/2': function (_buffer, m) {</span><span class="s3">\n            </span><span class="s1">var ret = [];</span><span class="s3">\n            </span><span class="s1">if (m.match(/^[+</span><span class="s3">\\</span><span class="s1">-]/)) {</span><span class="s3">\n                </span><span class="s1">ret.push(m.substr(0, 1));</span><span class="s3">\n                </span><span class="s1">m = m.substr(1);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">var n = m.match(/^([0-9]+|</span><span class="s3">\\</span><span class="s1">$[a-z]</span><span class="s3">\\</span><span class="s1">$|[a-z])</span><span class="s3">\\</span><span class="s1">/([0-9]+)(</span><span class="s3">\\</span><span class="s1">$[a-z]</span><span class="s3">\\</span><span class="s1">$|[a-z])?$/);</span><span class="s3">\n            </span><span class="s1">n[1] = n[1].replace(/</span><span class="s3">\\</span><span class="s1">$/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">ret.push({ type_: 'frac', p1: n[1], p2: n[2] });</span><span class="s3">\n            </span><span class="s1">if (n[3]) {</span><span class="s3">\n                </span><span class="s1">n[3] = n[3].replace(/</span><span class="s3">\\</span><span class="s1">$/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">ret.push({ type_: 'tex-math', p1: n[3] });</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return ret;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">'9,9': function (_buffer, m) { return _mhchemParser.go(m, '9,9'); }</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">stateMachines: {</span><span class="s3">\n        </span><span class="s1">'tex': {</span><span class="s3">\n            </span><span class="s1">transitions: _mhchemCreateTransitions({</span><span class="s3">\n                </span><span class="s1">'empty': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: 'copy' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">ce{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: [{ type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">}, 'ce', { type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot; </span><span class="s1">}] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">pu{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: [{ type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">}, 'pu', { type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot; </span><span class="s1">}] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'else': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: 'copy' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">}),</span><span class="s3">\n            </span><span class="s1">actions: {}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">'ce': {</span><span class="s3">\n            </span><span class="s1">transitions: _mhchemCreateTransitions({</span><span class="s3">\n                </span><span class="s1">'empty': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'output' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'else': {</span><span class="s3">\n                    </span><span class="s1">'0|1|2': { action_: 'beginsWithBond=false', revisit: true, toContinue: true }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'oxidation$': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: 'oxidation-output' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'CMT': {</span><span class="s3">\n                    </span><span class="s1">'r': { action_: 'rdt=', nextState: 'rt' },</span><span class="s3">\n                    </span><span class="s1">'rd': { action_: 'rqt=', nextState: 'rdt' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'arrowUpDown': {</span><span class="s3">\n                    </span><span class="s1">'0|1|2|as': { action_: ['sb=false', 'output', 'operator'], nextState: '1' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'uprightEntities': {</span><span class="s3">\n                    </span><span class="s1">'0|1|2': { action_: ['o=', 'output'], nextState: '1' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'orbital': {</span><span class="s3">\n                    </span><span class="s1">'0|1|2|3': { action_: 'o=', nextState: 'o' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'-&gt;': {</span><span class="s3">\n                    </span><span class="s1">'0|1|2|3': { action_: 'r=', nextState: 'r' },</span><span class="s3">\n                    </span><span class="s1">'a|as': { action_: ['output', 'r='], nextState: 'r' },</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', 'r='], nextState: 'r' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'+': {</span><span class="s3">\n                    </span><span class="s1">'o': { action_: 'd= kv', nextState: 'd' },</span><span class="s3">\n                    </span><span class="s1">'d|D': { action_: 'd=', nextState: 'd' },</span><span class="s3">\n                    </span><span class="s1">'q': { action_: 'd=', nextState: 'qd' },</span><span class="s3">\n                    </span><span class="s1">'qd|qD': { action_: 'd=', nextState: 'qd' },</span><span class="s3">\n                    </span><span class="s1">'dq': { action_: ['output', 'd='], nextState: 'd' },</span><span class="s3">\n                    </span><span class="s1">'3': { action_: ['sb=false', 'output', 'operator'], nextState: '0' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'amount': {</span><span class="s3">\n                    </span><span class="s1">'0|2': { action_: 'a=', nextState: 'a' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'pm-operator': {</span><span class="s3">\n                    </span><span class="s1">'0|1|2|a|as': { action_: ['sb=false', 'output', { type_: 'operator', option: '</span><span class="s3">\\\\</span><span class="s1">pm' }], nextState: '0' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'operator': {</span><span class="s3">\n                    </span><span class="s1">'0|1|2|a|as': { action_: ['sb=false', 'output', 'operator'], nextState: '0' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'-$': {</span><span class="s3">\n                    </span><span class="s1">'o|q': { action_: ['charge or bond', 'output'], nextState: 'qd' },</span><span class="s3">\n                    </span><span class="s1">'d': { action_: 'd=', nextState: 'd' },</span><span class="s3">\n                    </span><span class="s1">'D': { action_: ['output', { type_: 'bond', option: </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">}], nextState: '3' },</span><span class="s3">\n                    </span><span class="s1">'q': { action_: 'd=', nextState: 'qd' },</span><span class="s3">\n                    </span><span class="s1">'qd': { action_: 'd=', nextState: 'qd' },</span><span class="s3">\n                    </span><span class="s1">'qD|dq': { action_: ['output', { type_: 'bond', option: </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">}], nextState: '3' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'-9': {</span><span class="s3">\n                    </span><span class="s1">'3|o': { action_: ['output', { type_: 'insert', option: 'hyphen' }], nextState: '3' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'- orbital overlap': {</span><span class="s3">\n                    </span><span class="s1">'o': { action_: ['output', { type_: 'insert', option: 'hyphen' }], nextState: '2' },</span><span class="s3">\n                    </span><span class="s1">'d': { action_: ['output', { type_: 'insert', option: 'hyphen' }], nextState: '2' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'-': {</span><span class="s3">\n                    </span><span class="s1">'0|1|2': { action_: [{ type_: 'output', option: 1 }, 'beginsWithBond=true', { type_: 'bond', option: </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">}], nextState: '3' },</span><span class="s3">\n                    </span><span class="s1">'3': { action_: { type_: 'bond', option: </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">} },</span><span class="s3">\n                    </span><span class="s1">'a': { action_: ['output', { type_: 'insert', option: 'hyphen' }], nextState: '2' },</span><span class="s3">\n                    </span><span class="s1">'as': { action_: [{ type_: 'output', option: 2 }, { type_: 'bond', option: </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">}], nextState: '3' },</span><span class="s3">\n                    </span><span class="s1">'b': { action_: 'b=' },</span><span class="s3">\n                    </span><span class="s1">'o': { action_: { type_: '- after o/d', option: false }, nextState: '2' },</span><span class="s3">\n                    </span><span class="s1">'q': { action_: { type_: '- after o/d', option: false }, nextState: '2' },</span><span class="s3">\n                    </span><span class="s1">'d|qd|dq': { action_: { type_: '- after o/d', option: true }, nextState: '2' },</span><span class="s3">\n                    </span><span class="s1">'D|qD|p': { action_: ['output', { type_: 'bond', option: </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">}], nextState: '3' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'amount2': {</span><span class="s3">\n                    </span><span class="s1">'1|3': { action_: 'a=', nextState: 'a' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'letters': {</span><span class="s3">\n                    </span><span class="s1">'0|1|2|3|a|as|b|p|bp|o': { action_: 'o=', nextState: 'o' },</span><span class="s3">\n                    </span><span class="s1">'q|dq': { action_: ['output', 'o='], nextState: 'o' },</span><span class="s3">\n                    </span><span class="s1">'d|D|qd|qD': { action_: 'o after d', nextState: 'o' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'digits': {</span><span class="s3">\n                    </span><span class="s1">'o': { action_: 'q=', nextState: 'q' },</span><span class="s3">\n                    </span><span class="s1">'d|D': { action_: 'q=', nextState: 'dq' },</span><span class="s3">\n                    </span><span class="s1">'q': { action_: ['output', 'o='], nextState: 'o' },</span><span class="s3">\n                    </span><span class="s1">'a': { action_: 'o=', nextState: 'o' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'space A': {</span><span class="s3">\n                    </span><span class="s1">'b|p|bp': { action_: [] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'space': {</span><span class="s3">\n                    </span><span class="s1">'a': { action_: [], nextState: 'as' },</span><span class="s3">\n                    </span><span class="s1">'0': { action_: 'sb=false' },</span><span class="s3">\n                    </span><span class="s1">'1|2': { action_: 'sb=true' },</span><span class="s3">\n                    </span><span class="s1">'r|rt|rd|rdt|rdq': { action_: 'output', nextState: '0' },</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', 'sb=true'], nextState: '1' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'1st-level escape': {</span><span class="s3">\n                    </span><span class="s1">'1|2': { action_: ['output', { type_: 'insert+p1', option: '1st-level escape' }] },</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', { type_: 'insert+p1', option: '1st-level escape' }], nextState: '0' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'[(...)]': {</span><span class="s3">\n                    </span><span class="s1">'r|rt': { action_: 'rd=', nextState: 'rd' },</span><span class="s3">\n                    </span><span class="s1">'rd|rdt': { action_: 'rq=', nextState: 'rdq' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'...': {</span><span class="s3">\n                    </span><span class="s1">'o|d|D|dq|qd|qD': { action_: ['output', { type_: 'bond', option: </span><span class="s3">\&quot;</span><span class="s1">...</span><span class="s3">\&quot; </span><span class="s1">}], nextState: '3' },</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [{ type_: 'output', option: 1 }, { type_: 'insert', option: 'ellipsis' }], nextState: '1' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'. __* ': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', { type_: 'insert', option: 'addition compound' }], nextState: '1' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'state of aggregation $': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', 'state of aggregation'], nextState: '1' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'{[(': {</span><span class="s3">\n                    </span><span class="s1">'a|as|o': { action_: ['o=', 'output', 'parenthesisLevel++'], nextState: '2' },</span><span class="s3">\n                    </span><span class="s1">'0|1|2|3': { action_: ['o=', 'output', 'parenthesisLevel++'], nextState: '2' },</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', 'o=', 'output', 'parenthesisLevel++'], nextState: '2' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">')]}': {</span><span class="s3">\n                    </span><span class="s1">'0|1|2|3|b|p|bp|o': { action_: ['o=', 'parenthesisLevel--'], nextState: 'o' },</span><span class="s3">\n                    </span><span class="s1">'a|as|d|D|q|qd|qD|dq': { action_: ['output', 'o=', 'parenthesisLevel--'], nextState: 'o' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">', ': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', 'comma'], nextState: '0' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'^_': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'^{(...)}|^($...$)': {</span><span class="s3">\n                    </span><span class="s1">'0|1|2|as': { action_: 'b=', nextState: 'b' },</span><span class="s3">\n                    </span><span class="s1">'p': { action_: 'b=', nextState: 'bp' },</span><span class="s3">\n                    </span><span class="s1">'3|o': { action_: 'd= kv', nextState: 'D' },</span><span class="s3">\n                    </span><span class="s1">'q': { action_: 'd=', nextState: 'qD' },</span><span class="s3">\n                    </span><span class="s1">'d|D|qd|qD|dq': { action_: ['output', 'd='], nextState: 'D' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'^a|^</span><span class="s3">\\\\</span><span class="s1">x{}{}|^</span><span class="s3">\\\\</span><span class="s1">x{}|^</span><span class="s3">\\\\</span><span class="s1">x|</span><span class="s3">\\</span><span class="s1">'': {</span><span class="s3">\n                    </span><span class="s1">'0|1|2|as': { action_: 'b=', nextState: 'b' },</span><span class="s3">\n                    </span><span class="s1">'p': { action_: 'b=', nextState: 'bp' },</span><span class="s3">\n                    </span><span class="s1">'3|o': { action_: 'd= kv', nextState: 'd' },</span><span class="s3">\n                    </span><span class="s1">'q': { action_: 'd=', nextState: 'qd' },</span><span class="s3">\n                    </span><span class="s1">'d|qd|D|qD': { action_: 'd=' },</span><span class="s3">\n                    </span><span class="s1">'dq': { action_: ['output', 'd='], nextState: 'd' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'_{(state of aggregation)}$': {</span><span class="s3">\n                    </span><span class="s1">'d|D|q|qd|qD|dq': { action_: ['output', 'q='], nextState: 'q' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'_{(...)}|_($...$)|_9|_</span><span class="s3">\\\\</span><span class="s1">x{}{}|_</span><span class="s3">\\\\</span><span class="s1">x{}|_</span><span class="s3">\\\\</span><span class="s1">x': {</span><span class="s3">\n                    </span><span class="s1">'0|1|2|as': { action_: 'p=', nextState: 'p' },</span><span class="s3">\n                    </span><span class="s1">'b': { action_: 'p=', nextState: 'bp' },</span><span class="s3">\n                    </span><span class="s1">'3|o': { action_: 'q=', nextState: 'q' },</span><span class="s3">\n                    </span><span class="s1">'d|D': { action_: 'q=', nextState: 'dq' },</span><span class="s3">\n                    </span><span class="s1">'q|qd|qD|dq': { action_: ['output', 'q='], nextState: 'q' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'=&lt;&gt;': {</span><span class="s3">\n                    </span><span class="s1">'0|1|2|3|a|as|o|q|d|D|qd|qD|dq': { action_: [{ type_: 'output', option: 2 }, 'bond'], nextState: '3' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'#': {</span><span class="s3">\n                    </span><span class="s1">'0|1|2|3|a|as|o': { action_: [{ type_: 'output', option: 2 }, { type_: 'bond', option: </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">}], nextState: '3' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'{}^': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [{ type_: 'output', option: 1 }, { type_: 'insert', option: 'tinySkip' }], nextState: '1' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'{}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: { type_: 'output', option: 1 }, nextState: '1' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'{...}': {</span><span class="s3">\n                    </span><span class="s1">'0|1|2|3|a|as|b|p|bp': { action_: 'o=', nextState: 'o' },</span><span class="s3">\n                    </span><span class="s1">'o|d|D|q|qd|qD|dq': { action_: ['output', 'o='], nextState: 'o' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'$...$': {</span><span class="s3">\n                    </span><span class="s1">'a': { action_: 'a=' },</span><span class="s3">\n                    </span><span class="s1">'0|1|2|3|as|b|p|bp|o': { action_: 'o=', nextState: 'o' },</span><span class="s3">\n                    </span><span class="s1">'as|o': { action_: 'o=' },</span><span class="s3">\n                    </span><span class="s1">'q|d|D|qd|qD|dq': { action_: ['output', 'o='], nextState: 'o' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">bond{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [{ type_: 'output', option: 2 }, 'bond'], nextState: </span><span class="s3">\&quot;</span><span class="s1">3</span><span class="s3">\&quot; </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">frac{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [{ type_: 'output', option: 1 }, 'frac-output'], nextState: '3' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">overset{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [{ type_: 'output', option: 2 }, 'overset-output'], nextState: '3' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">underset{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [{ type_: 'output', option: 2 }, 'underset-output'], nextState: '3' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">underbrace{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [{ type_: 'output', option: 2 }, 'underbrace-output'], nextState: '3' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">color{(...)}{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [{ type_: 'output', option: 2 }, 'color-output'], nextState: '3' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">color{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [{ type_: 'output', option: 2 }, 'color0-output'] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">ce{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [{ type_: 'output', option: 2 }, 'ce'], nextState: '3' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">,': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [{ type_: 'output', option: 1 }, 'copy'], nextState: '1' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">pu{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', { type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">}, 'pu', { type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot; </span><span class="s1">}], nextState: '3' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">x{}{}|</span><span class="s3">\\\\</span><span class="s1">x{}|</span><span class="s3">\\\\</span><span class="s1">x': {</span><span class="s3">\n                    </span><span class="s1">'0|1|2|3|a|as|b|p|bp|o|c0': { action_: ['o=', 'output'], nextState: '3' },</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', 'o=', 'output'], nextState: '3' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'others': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [{ type_: 'output', option: 1 }, 'copy'], nextState: '3' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'else2': {</span><span class="s3">\n                    </span><span class="s1">'a': { action_: 'a to o', nextState: 'o', revisit: true },</span><span class="s3">\n                    </span><span class="s1">'as': { action_: ['output', 'sb=true'], nextState: '1', revisit: true },</span><span class="s3">\n                    </span><span class="s1">'r|rt|rd|rdt|rdq': { action_: ['output'], nextState: '0', revisit: true },</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', 'copy'], nextState: '3' }</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}),</span><span class="s3">\n            </span><span class="s1">actions: {</span><span class="s3">\n                </span><span class="s1">'o after d': function (buffer, m) {</span><span class="s3">\n                    </span><span class="s1">var ret;</span><span class="s3">\n                    </span><span class="s1">if ((buffer.d || </span><span class="s3">\&quot;\&quot;</span><span class="s1">).match(/^[1-9][0-9]*$/)) {</span><span class="s3">\n                        </span><span class="s1">var tmp = buffer.d;</span><span class="s3">\n                        </span><span class="s1">buffer.d = undefined;</span><span class="s3">\n                        </span><span class="s1">ret = this['output'](buffer);</span><span class="s3">\n                        </span><span class="s1">ret.push({ type_: 'tinySkip' });</span><span class="s3">\n                        </span><span class="s1">buffer.b = tmp;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">ret = this['output'](buffer);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">_mhchemParser.actions['o='](buffer, m);</span><span class="s3">\n                    </span><span class="s1">return ret;</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'d= kv': function (buffer, m) {</span><span class="s3">\n                    </span><span class="s1">buffer.d = m;</span><span class="s3">\n                    </span><span class="s1">buffer.dType = 'kv';</span><span class="s3">\n                    </span><span class="s1">return undefined;</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'charge or bond': function (buffer, m) {</span><span class="s3">\n                    </span><span class="s1">if (buffer['beginsWithBond']) {</span><span class="s3">\n                        </span><span class="s1">var ret = [];</span><span class="s3">\n                        </span><span class="s1">_mhchemParser.concatArray(ret, this['output'](buffer));</span><span class="s3">\n                        </span><span class="s1">_mhchemParser.concatArray(ret, _mhchemParser.actions['bond'](buffer, m, </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n                        </span><span class="s1">return ret;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">buffer.d = m;</span><span class="s3">\n                        </span><span class="s1">return undefined;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'- after o/d': function (buffer, m, isAfterD) {</span><span class="s3">\n                    </span><span class="s1">var c1 = _mhchemParser.patterns.match_('orbital', buffer.o || </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">var c2 = _mhchemParser.patterns.match_('one lowercase greek letter $', buffer.o || </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">var c3 = _mhchemParser.patterns.match_('one lowercase latin letter $', buffer.o || </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">var c4 = _mhchemParser.patterns.match_('$one lowercase latin letter$ $', buffer.o || </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">var hyphenFollows = m === </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; (c1 &amp;&amp; c1.remainder === </span><span class="s3">\&quot;\&quot; </span><span class="s1">|| c2 || c3 || c4);</span><span class="s3">\n                    </span><span class="s1">if (hyphenFollows &amp;&amp; !buffer.a &amp;&amp; !buffer.b &amp;&amp; !buffer.p &amp;&amp; !buffer.d &amp;&amp; !buffer.q &amp;&amp; !c1 &amp;&amp; c3) {</span><span class="s3">\n                        </span><span class="s1">buffer.o = '$' + buffer.o + '$';</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">var ret = [];</span><span class="s3">\n                    </span><span class="s1">if (hyphenFollows) {</span><span class="s3">\n                        </span><span class="s1">_mhchemParser.concatArray(ret, this['output'](buffer));</span><span class="s3">\n                        </span><span class="s1">ret.push({ type_: 'hyphen' });</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">c1 = _mhchemParser.patterns.match_('digits', buffer.d || </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n                        </span><span class="s1">if (isAfterD &amp;&amp; c1 &amp;&amp; c1.remainder === '') {</span><span class="s3">\n                            </span><span class="s1">_mhchemParser.concatArray(ret, _mhchemParser.actions['d='](buffer, m));</span><span class="s3">\n                            </span><span class="s1">_mhchemParser.concatArray(ret, this['output'](buffer));</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else {</span><span class="s3">\n                            </span><span class="s1">_mhchemParser.concatArray(ret, this['output'](buffer));</span><span class="s3">\n                            </span><span class="s1">_mhchemParser.concatArray(ret, _mhchemParser.actions['bond'](buffer, m, </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return ret;</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'a to o': function (buffer) {</span><span class="s3">\n                    </span><span class="s1">buffer.o = buffer.a;</span><span class="s3">\n                    </span><span class="s1">buffer.a = undefined;</span><span class="s3">\n                    </span><span class="s1">return undefined;</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'sb=true': function (buffer) { buffer.sb = true; return undefined; },</span><span class="s3">\n                </span><span class="s1">'sb=false': function (buffer) { buffer.sb = false; return undefined; },</span><span class="s3">\n                </span><span class="s1">'beginsWithBond=true': function (buffer) { buffer['beginsWithBond'] = true; return undefined; },</span><span class="s3">\n                </span><span class="s1">'beginsWithBond=false': function (buffer) { buffer['beginsWithBond'] = false; return undefined; },</span><span class="s3">\n                </span><span class="s1">'parenthesisLevel++': function (buffer) { buffer['parenthesisLevel']++; return undefined; },</span><span class="s3">\n                </span><span class="s1">'parenthesisLevel--': function (buffer) { buffer['parenthesisLevel']--; return undefined; },</span><span class="s3">\n                </span><span class="s1">'state of aggregation': function (_buffer, m) {</span><span class="s3">\n                    </span><span class="s1">return { type_: 'state of aggregation', p1: _mhchemParser.go(m, 'o') };</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'comma': function (buffer, m) {</span><span class="s3">\n                    </span><span class="s1">var a = m.replace(/</span><span class="s3">\\</span><span class="s1">s*$/, '');</span><span class="s3">\n                    </span><span class="s1">var withSpace = (a !== m);</span><span class="s3">\n                    </span><span class="s1">if (withSpace &amp;&amp; buffer['parenthesisLevel'] === 0) {</span><span class="s3">\n                        </span><span class="s1">return { type_: 'comma enumeration L', p1: a };</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">return { type_: 'comma enumeration M', p1: a };</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'output': function (buffer, _m, entityFollows) {</span><span class="s3">\n                    </span><span class="s1">var ret;</span><span class="s3">\n                    </span><span class="s1">if (!buffer.r) {</span><span class="s3">\n                        </span><span class="s1">ret = [];</span><span class="s3">\n                        </span><span class="s1">if (!buffer.a &amp;&amp; !buffer.b &amp;&amp; !buffer.p &amp;&amp; !buffer.o &amp;&amp; !buffer.q &amp;&amp; !buffer.d &amp;&amp; !entityFollows) {</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else {</span><span class="s3">\n                            </span><span class="s1">if (buffer.sb) {</span><span class="s3">\n                                </span><span class="s1">ret.push({ type_: 'entitySkip' });</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">if (!buffer.o &amp;&amp; !buffer.q &amp;&amp; !buffer.d &amp;&amp; !buffer.b &amp;&amp; !buffer.p &amp;&amp; entityFollows !== 2) {</span><span class="s3">\n                                </span><span class="s1">buffer.o = buffer.a;</span><span class="s3">\n                                </span><span class="s1">buffer.a = undefined;</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">else if (!buffer.o &amp;&amp; !buffer.q &amp;&amp; !buffer.d &amp;&amp; (buffer.b || buffer.p)) {</span><span class="s3">\n                                </span><span class="s1">buffer.o = buffer.a;</span><span class="s3">\n                                </span><span class="s1">buffer.d = buffer.b;</span><span class="s3">\n                                </span><span class="s1">buffer.q = buffer.p;</span><span class="s3">\n                                </span><span class="s1">buffer.a = buffer.b = buffer.p = undefined;</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">else {</span><span class="s3">\n                                </span><span class="s1">if (buffer.o &amp;&amp; buffer.dType === 'kv' &amp;&amp; _mhchemParser.patterns.match_('d-oxidation$', buffer.d || </span><span class="s3">\&quot;\&quot;</span><span class="s1">)) {</span><span class="s3">\n                                    </span><span class="s1">buffer.dType = 'oxidation';</span><span class="s3">\n                                </span><span class="s1">}</span><span class="s3">\n                                </span><span class="s1">else if (buffer.o &amp;&amp; buffer.dType === 'kv' &amp;&amp; !buffer.q) {</span><span class="s3">\n                                    </span><span class="s1">buffer.dType = undefined;</span><span class="s3">\n                                </span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">ret.push({</span><span class="s3">\n                                </span><span class="s1">type_: 'chemfive',</span><span class="s3">\n                                </span><span class="s1">a: _mhchemParser.go(buffer.a, 'a'),</span><span class="s3">\n                                </span><span class="s1">b: _mhchemParser.go(buffer.b, 'bd'),</span><span class="s3">\n                                </span><span class="s1">p: _mhchemParser.go(buffer.p, 'pq'),</span><span class="s3">\n                                </span><span class="s1">o: _mhchemParser.go(buffer.o, 'o'),</span><span class="s3">\n                                </span><span class="s1">q: _mhchemParser.go(buffer.q, 'pq'),</span><span class="s3">\n                                </span><span class="s1">d: _mhchemParser.go(buffer.d, (buffer.dType === 'oxidation' ? 'oxidation' : 'bd')),</span><span class="s3">\n                                </span><span class="s1">dType: buffer.dType</span><span class="s3">\n                            </span><span class="s1">});</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">var rd = void 0;</span><span class="s3">\n                        </span><span class="s1">if (buffer.rdt === 'M') {</span><span class="s3">\n                            </span><span class="s1">rd = _mhchemParser.go(buffer.rd, 'tex-math');</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else if (buffer.rdt === 'T') {</span><span class="s3">\n                            </span><span class="s1">rd = [{ type_: 'text', p1: buffer.rd || </span><span class="s3">\&quot;\&quot; </span><span class="s1">}];</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else {</span><span class="s3">\n                            </span><span class="s1">rd = _mhchemParser.go(buffer.rd, 'ce');</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">var rq = void 0;</span><span class="s3">\n                        </span><span class="s1">if (buffer.rqt === 'M') {</span><span class="s3">\n                            </span><span class="s1">rq = _mhchemParser.go(buffer.rq, 'tex-math');</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else if (buffer.rqt === 'T') {</span><span class="s3">\n                            </span><span class="s1">rq = [{ type_: 'text', p1: buffer.rq || </span><span class="s3">\&quot;\&quot; </span><span class="s1">}];</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else {</span><span class="s3">\n                            </span><span class="s1">rq = _mhchemParser.go(buffer.rq, 'ce');</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">ret = {</span><span class="s3">\n                            </span><span class="s1">type_: 'arrow',</span><span class="s3">\n                            </span><span class="s1">r: buffer.r,</span><span class="s3">\n                            </span><span class="s1">rd: rd,</span><span class="s3">\n                            </span><span class="s1">rq: rq</span><span class="s3">\n                        </span><span class="s1">};</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">for (var p in buffer) {</span><span class="s3">\n                        </span><span class="s1">if (p !== 'parenthesisLevel' &amp;&amp; p !== 'beginsWithBond') {</span><span class="s3">\n                            </span><span class="s1">delete buffer[p];</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return ret;</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'oxidation-output': function (_buffer, m) {</span><span class="s3">\n                    </span><span class="s1">var ret = [</span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n                    </span><span class="s1">_mhchemParser.concatArray(ret, _mhchemParser.go(m, 'oxidation'));</span><span class="s3">\n                    </span><span class="s1">ret.push(</span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">return ret;</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'frac-output': function (_buffer, m) {</span><span class="s3">\n                    </span><span class="s1">return { type_: 'frac-ce', p1: _mhchemParser.go(m[0], 'ce'), p2: _mhchemParser.go(m[1], 'ce') };</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'overset-output': function (_buffer, m) {</span><span class="s3">\n                    </span><span class="s1">return { type_: 'overset', p1: _mhchemParser.go(m[0], 'ce'), p2: _mhchemParser.go(m[1], 'ce') };</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'underset-output': function (_buffer, m) {</span><span class="s3">\n                    </span><span class="s1">return { type_: 'underset', p1: _mhchemParser.go(m[0], 'ce'), p2: _mhchemParser.go(m[1], 'ce') };</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'underbrace-output': function (_buffer, m) {</span><span class="s3">\n                    </span><span class="s1">return { type_: 'underbrace', p1: _mhchemParser.go(m[0], 'ce'), p2: _mhchemParser.go(m[1], 'ce') };</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'color-output': function (_buffer, m) {</span><span class="s3">\n                    </span><span class="s1">return { type_: 'color', color1: m[0], color2: _mhchemParser.go(m[1], 'ce') };</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'r=': function (buffer, m) { buffer.r = m; return undefined; },</span><span class="s3">\n                </span><span class="s1">'rdt=': function (buffer, m) { buffer.rdt = m; return undefined; },</span><span class="s3">\n                </span><span class="s1">'rd=': function (buffer, m) { buffer.rd = m; return undefined; },</span><span class="s3">\n                </span><span class="s1">'rqt=': function (buffer, m) { buffer.rqt = m; return undefined; },</span><span class="s3">\n                </span><span class="s1">'rq=': function (buffer, m) { buffer.rq = m; return undefined; },</span><span class="s3">\n                </span><span class="s1">'operator': function (_buffer, m, p1) { return { type_: 'operator', kind_: (p1 || m) }; }</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">'a': {</span><span class="s3">\n            </span><span class="s1">transitions: _mhchemCreateTransitions({</span><span class="s3">\n                </span><span class="s1">'empty': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'1/2$': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: '1/2' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'else': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: [], nextState: '1', revisit: true }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'${(...)}$__$(...)$': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'tex-math tight', nextState: '1' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">',': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: { type_: 'insert', option: 'commaDecimal' } }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'else2': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'copy' }</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}),</span><span class="s3">\n            </span><span class="s1">actions: {}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">'o': {</span><span class="s3">\n            </span><span class="s1">transitions: _mhchemCreateTransitions({</span><span class="s3">\n                </span><span class="s1">'empty': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'1/2$': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: '1/2' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'else': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: [], nextState: '1', revisit: true }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'letters': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'rm' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">ca': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: { type_: 'insert', option: 'circa' } }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">pu{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [{ type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">}, 'pu', { type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot; </span><span class="s1">}] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">x{}{}|</span><span class="s3">\\\\</span><span class="s1">x{}|</span><span class="s3">\\\\</span><span class="s1">x': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'copy' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'${(...)}$__$(...)$': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'tex-math' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [{ type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">}, 'text', { type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot; </span><span class="s1">}] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'else2': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'copy' }</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}),</span><span class="s3">\n            </span><span class="s1">actions: {}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">'text': {</span><span class="s3">\n            </span><span class="s1">transitions: _mhchemCreateTransitions({</span><span class="s3">\n                </span><span class="s1">'empty': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'output' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'{...}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'text=' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'${(...)}$__$(...)$': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'tex-math' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">greek': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', 'rm'] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">pu{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', { type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">}, 'pu', { type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot; </span><span class="s1">}] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">,|</span><span class="s3">\\\\</span><span class="s1">x{}{}|</span><span class="s3">\\\\</span><span class="s1">x{}|</span><span class="s3">\\\\</span><span class="s1">x': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', 'copy'] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'else': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'text=' }</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}),</span><span class="s3">\n            </span><span class="s1">actions: {</span><span class="s3">\n                </span><span class="s1">'output': function (buffer) {</span><span class="s3">\n                    </span><span class="s1">if (buffer.text_) {</span><span class="s3">\n                        </span><span class="s1">var ret = { type_: 'text', p1: buffer.text_ };</span><span class="s3">\n                        </span><span class="s1">for (var p in buffer) {</span><span class="s3">\n                            </span><span class="s1">delete buffer[p];</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">return ret;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return undefined;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">'pq': {</span><span class="s3">\n            </span><span class="s1">transitions: _mhchemCreateTransitions({</span><span class="s3">\n                </span><span class="s1">'empty': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'state of aggregation $': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'state of aggregation' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'i$': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: [], nextState: '!f', revisit: true }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'(KV letters),': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: 'rm', nextState: '0' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'formula$': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: [], nextState: 'f', revisit: true }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'1/2$': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: '1/2' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'else': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: [], nextState: '!f', revisit: true }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'${(...)}$__$(...)$': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'tex-math' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'text' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'a-z': {</span><span class="s3">\n                    </span><span class="s1">'f': { action_: 'tex-math' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'letters': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'rm' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'-9.,9': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: '9,9' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">',': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: { type_: 'insert+p1', option: 'comma enumeration S' } }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">color{(...)}{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'color-output' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">color{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'color0-output' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">ce{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'ce' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">pu{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [{ type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">}, 'pu', { type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot; </span><span class="s1">}] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">,|</span><span class="s3">\\\\</span><span class="s1">x{}{}|</span><span class="s3">\\\\</span><span class="s1">x{}|</span><span class="s3">\\\\</span><span class="s1">x': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'copy' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'else2': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'copy' }</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}),</span><span class="s3">\n            </span><span class="s1">actions: {</span><span class="s3">\n                </span><span class="s1">'state of aggregation': function (_buffer, m) {</span><span class="s3">\n                    </span><span class="s1">return { type_: 'state of aggregation subscript', p1: _mhchemParser.go(m, 'o') };</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'color-output': function (_buffer, m) {</span><span class="s3">\n                    </span><span class="s1">return { type_: 'color', color1: m[0], color2: _mhchemParser.go(m[1], 'pq') };</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">'bd': {</span><span class="s3">\n            </span><span class="s1">transitions: _mhchemCreateTransitions({</span><span class="s3">\n                </span><span class="s1">'empty': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'x$': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: [], nextState: '!f', revisit: true }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'formula$': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: [], nextState: 'f', revisit: true }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'else': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: [], nextState: '!f', revisit: true }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'-9.,9 no missing 0': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: '9,9' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'.': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: { type_: 'insert', option: 'electron dot' } }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'a-z': {</span><span class="s3">\n                    </span><span class="s1">'f': { action_: 'tex-math' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'x': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: { type_: 'insert', option: 'KV x' } }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'letters': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'rm' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\</span><span class="s1">'': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: { type_: 'insert', option: 'prime' } }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'${(...)}$__$(...)$': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'tex-math' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'text' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">color{(...)}{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'color-output' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">color{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'color0-output' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">ce{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'ce' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">pu{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [{ type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">}, 'pu', { type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot; </span><span class="s1">}] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">,|</span><span class="s3">\\\\</span><span class="s1">x{}{}|</span><span class="s3">\\\\</span><span class="s1">x{}|</span><span class="s3">\\\\</span><span class="s1">x': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'copy' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'else2': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'copy' }</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}),</span><span class="s3">\n            </span><span class="s1">actions: {</span><span class="s3">\n                </span><span class="s1">'color-output': function (_buffer, m) {</span><span class="s3">\n                    </span><span class="s1">return { type_: 'color', color1: m[0], color2: _mhchemParser.go(m[1], 'bd') };</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">'oxidation': {</span><span class="s3">\n            </span><span class="s1">transitions: _mhchemCreateTransitions({</span><span class="s3">\n                </span><span class="s1">'empty': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'roman-numeral' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'pm-operator': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: { type_: 'o=+p1', option: </span><span class="s3">\&quot;\\\\</span><span class="s1">pm</span><span class="s3">\&quot; </span><span class="s1">} }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'else': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'o=' }</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}),</span><span class="s3">\n            </span><span class="s1">actions: {</span><span class="s3">\n                </span><span class="s1">'roman-numeral': function (buffer) { return { type_: 'roman numeral', p1: buffer.o || </span><span class="s3">\&quot;\&quot; </span><span class="s1">}; }</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">'tex-math': {</span><span class="s3">\n            </span><span class="s1">transitions: _mhchemCreateTransitions({</span><span class="s3">\n                </span><span class="s1">'empty': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'output' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">ce{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', 'ce'] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">pu{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', { type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">}, 'pu', { type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot; </span><span class="s1">}] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'{...}|</span><span class="s3">\\\\</span><span class="s1">,|</span><span class="s3">\\\\</span><span class="s1">x{}{}|</span><span class="s3">\\\\</span><span class="s1">x{}|</span><span class="s3">\\\\</span><span class="s1">x': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'o=' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'else': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'o=' }</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}),</span><span class="s3">\n            </span><span class="s1">actions: {</span><span class="s3">\n                </span><span class="s1">'output': function (buffer) {</span><span class="s3">\n                    </span><span class="s1">if (buffer.o) {</span><span class="s3">\n                        </span><span class="s1">var ret = { type_: 'tex-math', p1: buffer.o };</span><span class="s3">\n                        </span><span class="s1">for (var p in buffer) {</span><span class="s3">\n                            </span><span class="s1">delete buffer[p];</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">return ret;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return undefined;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">'tex-math tight': {</span><span class="s3">\n            </span><span class="s1">transitions: _mhchemCreateTransitions({</span><span class="s3">\n                </span><span class="s1">'empty': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'output' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">ce{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', 'ce'] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">pu{(...)}': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', { type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">}, 'pu', { type_: 'write', option: </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot; </span><span class="s1">}] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'{...}|</span><span class="s3">\\\\</span><span class="s1">,|</span><span class="s3">\\\\</span><span class="s1">x{}{}|</span><span class="s3">\\\\</span><span class="s1">x{}|</span><span class="s3">\\\\</span><span class="s1">x': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'o=' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'-|+': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'tight operator' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'else': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'o=' }</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}),</span><span class="s3">\n            </span><span class="s1">actions: {</span><span class="s3">\n                </span><span class="s1">'tight operator': function (buffer, m) { buffer.o = (buffer.o || </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">+ m + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">; return undefined; },</span><span class="s3">\n                </span><span class="s1">'output': function (buffer) {</span><span class="s3">\n                    </span><span class="s1">if (buffer.o) {</span><span class="s3">\n                        </span><span class="s1">var ret = { type_: 'tex-math', p1: buffer.o };</span><span class="s3">\n                        </span><span class="s1">for (var p in buffer) {</span><span class="s3">\n                            </span><span class="s1">delete buffer[p];</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">return ret;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return undefined;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">'9,9': {</span><span class="s3">\n            </span><span class="s1">transitions: _mhchemCreateTransitions({</span><span class="s3">\n                </span><span class="s1">'empty': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: [] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">',': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'comma' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'else': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'copy' }</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}),</span><span class="s3">\n            </span><span class="s1">actions: {</span><span class="s3">\n                </span><span class="s1">'comma': function () { return { type_: 'commaDecimal' }; }</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">'pu': {</span><span class="s3">\n            </span><span class="s1">transitions: _mhchemCreateTransitions({</span><span class="s3">\n                </span><span class="s1">'empty': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'output' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'space$': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', 'space'] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'{[(|)]}': {</span><span class="s3">\n                    </span><span class="s1">'0|a': { action_: 'copy' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'(-)(9)^(-9)': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: 'number^', nextState: 'a' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'(-)(9.,9)(e)(99)': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: 'enumber', nextState: 'a' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'space': {</span><span class="s3">\n                    </span><span class="s1">'0|a': { action_: [] }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'pm-operator': {</span><span class="s3">\n                    </span><span class="s1">'0|a': { action_: { type_: 'operator', option: '</span><span class="s3">\\\\</span><span class="s1">pm' }, nextState: '0' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'operator': {</span><span class="s3">\n                    </span><span class="s1">'0|a': { action_: 'copy', nextState: '0' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'//': {</span><span class="s3">\n                    </span><span class="s1">'d': { action_: 'o=', nextState: '/' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'/': {</span><span class="s3">\n                    </span><span class="s1">'d': { action_: 'o=', nextState: '/' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'{...}|else': {</span><span class="s3">\n                    </span><span class="s1">'0|d': { action_: 'd=', nextState: 'd' },</span><span class="s3">\n                    </span><span class="s1">'a': { action_: ['space', 'd='], nextState: 'd' },</span><span class="s3">\n                    </span><span class="s1">'/|q': { action_: 'q=', nextState: 'q' }</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}),</span><span class="s3">\n            </span><span class="s1">actions: {</span><span class="s3">\n                </span><span class="s1">'enumber': function (_buffer, m) {</span><span class="s3">\n                    </span><span class="s1">var ret = [];</span><span class="s3">\n                    </span><span class="s1">if (m[0] === </span><span class="s3">\&quot;</span><span class="s1">+-</span><span class="s3">\&quot; </span><span class="s1">|| m[0] === </span><span class="s3">\&quot;</span><span class="s1">+/-</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                        </span><span class="s1">ret.push(</span><span class="s3">\&quot;\\\\</span><span class="s1">pm </span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else if (m[0]) {</span><span class="s3">\n                        </span><span class="s1">ret.push(m[0]);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">if (m[1]) {</span><span class="s3">\n                        </span><span class="s1">_mhchemParser.concatArray(ret, _mhchemParser.go(m[1], 'pu-9,9'));</span><span class="s3">\n                        </span><span class="s1">if (m[2]) {</span><span class="s3">\n                            </span><span class="s1">if (m[2].match(/[,.]/)) {</span><span class="s3">\n                                </span><span class="s1">_mhchemParser.concatArray(ret, _mhchemParser.go(m[2], 'pu-9,9'));</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">else {</span><span class="s3">\n                                </span><span class="s1">ret.push(m[2]);</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">if (m[3] || m[4]) {</span><span class="s3">\n                            </span><span class="s1">if (m[3] === </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot; </span><span class="s1">|| m[4] === </span><span class="s3">\&quot;</span><span class="s1">*</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                                </span><span class="s1">ret.push({ type_: 'cdot' });</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">else {</span><span class="s3">\n                                </span><span class="s1">ret.push({ type_: 'times' });</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">if (m[5]) {</span><span class="s3">\n                        </span><span class="s1">ret.push(</span><span class="s3">\&quot;</span><span class="s1">10^{</span><span class="s3">\&quot; </span><span class="s1">+ m[5] + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return ret;</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'number^': function (_buffer, m) {</span><span class="s3">\n                    </span><span class="s1">var ret = [];</span><span class="s3">\n                    </span><span class="s1">if (m[0] === </span><span class="s3">\&quot;</span><span class="s1">+-</span><span class="s3">\&quot; </span><span class="s1">|| m[0] === </span><span class="s3">\&quot;</span><span class="s1">+/-</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                        </span><span class="s1">ret.push(</span><span class="s3">\&quot;\\\\</span><span class="s1">pm </span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else if (m[0]) {</span><span class="s3">\n                        </span><span class="s1">ret.push(m[0]);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">_mhchemParser.concatArray(ret, _mhchemParser.go(m[1], 'pu-9,9'));</span><span class="s3">\n                    </span><span class="s1">ret.push(</span><span class="s3">\&quot;</span><span class="s1">^{</span><span class="s3">\&quot; </span><span class="s1">+ m[2] + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">return ret;</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'operator': function (_buffer, m, p1) { return { type_: 'operator', kind_: (p1 || m) }; },</span><span class="s3">\n                </span><span class="s1">'space': function () { return { type_: 'pu-space-1' }; },</span><span class="s3">\n                </span><span class="s1">'output': function (buffer) {</span><span class="s3">\n                    </span><span class="s1">var ret;</span><span class="s3">\n                    </span><span class="s1">var md = _mhchemParser.patterns.match_('{(...)}', buffer.d || </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">if (md &amp;&amp; md.remainder === '') {</span><span class="s3">\n                        </span><span class="s1">buffer.d = md.match_;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">var mq = _mhchemParser.patterns.match_('{(...)}', buffer.q || </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">if (mq &amp;&amp; mq.remainder === '') {</span><span class="s3">\n                        </span><span class="s1">buffer.q = mq.match_;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">if (buffer.d) {</span><span class="s3">\n                        </span><span class="s1">buffer.d = buffer.d.replace(/</span><span class="s3">\\</span><span class="s1">u00B0C|</span><span class="s3">\\</span><span class="s1">^oC|</span><span class="s3">\\</span><span class="s1">^{o}C/g, </span><span class="s3">\&quot;</span><span class="s1">{}^{</span><span class="s3">\\\\</span><span class="s1">circ}C</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                        </span><span class="s1">buffer.d = buffer.d.replace(/</span><span class="s3">\\</span><span class="s1">u00B0F|</span><span class="s3">\\</span><span class="s1">^oF|</span><span class="s3">\\</span><span class="s1">^{o}F/g, </span><span class="s3">\&quot;</span><span class="s1">{}^{</span><span class="s3">\\\\</span><span class="s1">circ}F</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">if (buffer.q) {</span><span class="s3">\n                        </span><span class="s1">buffer.q = buffer.q.replace(/</span><span class="s3">\\</span><span class="s1">u00B0C|</span><span class="s3">\\</span><span class="s1">^oC|</span><span class="s3">\\</span><span class="s1">^{o}C/g, </span><span class="s3">\&quot;</span><span class="s1">{}^{</span><span class="s3">\\\\</span><span class="s1">circ}C</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                        </span><span class="s1">buffer.q = buffer.q.replace(/</span><span class="s3">\\</span><span class="s1">u00B0F|</span><span class="s3">\\</span><span class="s1">^oF|</span><span class="s3">\\</span><span class="s1">^{o}F/g, </span><span class="s3">\&quot;</span><span class="s1">{}^{</span><span class="s3">\\\\</span><span class="s1">circ}F</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                        </span><span class="s1">var b5 = {</span><span class="s3">\n                            </span><span class="s1">d: _mhchemParser.go(buffer.d, 'pu'),</span><span class="s3">\n                            </span><span class="s1">q: _mhchemParser.go(buffer.q, 'pu')</span><span class="s3">\n                        </span><span class="s1">};</span><span class="s3">\n                        </span><span class="s1">if (buffer.o === '//') {</span><span class="s3">\n                            </span><span class="s1">ret = { type_: 'pu-frac', p1: b5.d, p2: b5.q };</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else {</span><span class="s3">\n                            </span><span class="s1">ret = b5.d;</span><span class="s3">\n                            </span><span class="s1">if (b5.d.length &gt; 1 || b5.q.length &gt; 1) {</span><span class="s3">\n                                </span><span class="s1">ret.push({ type_: ' / ' });</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">else {</span><span class="s3">\n                                </span><span class="s1">ret.push({ type_: '/' });</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">_mhchemParser.concatArray(ret, b5.q);</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">ret = _mhchemParser.go(buffer.d, 'pu-2');</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">for (var p in buffer) {</span><span class="s3">\n                        </span><span class="s1">delete buffer[p];</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return ret;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">'pu-2': {</span><span class="s3">\n            </span><span class="s1">transitions: _mhchemCreateTransitions({</span><span class="s3">\n                </span><span class="s1">'empty': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'output' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'*': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', 'cdot'], nextState: '0' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'</span><span class="s3">\\\\</span><span class="s1">x': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'rm=' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'space': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: ['output', 'space'], nextState: '0' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'^{(...)}|^(-1)': {</span><span class="s3">\n                    </span><span class="s1">'1': { action_: '^(-1)' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'-9.,9': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: 'rm=', nextState: '0' },</span><span class="s3">\n                    </span><span class="s1">'1': { action_: '^(-1)', nextState: '0' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'{...}|else': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'rm=', nextState: '1' }</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}),</span><span class="s3">\n            </span><span class="s1">actions: {</span><span class="s3">\n                </span><span class="s1">'cdot': function () { return { type_: 'tight cdot' }; },</span><span class="s3">\n                </span><span class="s1">'^(-1)': function (buffer, m) { buffer.rm += </span><span class="s3">\&quot;</span><span class="s1">^{</span><span class="s3">\&quot; </span><span class="s1">+ m + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">; return undefined; },</span><span class="s3">\n                </span><span class="s1">'space': function () { return { type_: 'pu-space-2' }; },</span><span class="s3">\n                </span><span class="s1">'output': function (buffer) {</span><span class="s3">\n                    </span><span class="s1">var ret = [];</span><span class="s3">\n                    </span><span class="s1">if (buffer.rm) {</span><span class="s3">\n                        </span><span class="s1">var mrm = _mhchemParser.patterns.match_('{(...)}', buffer.rm || </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n                        </span><span class="s1">if (mrm &amp;&amp; mrm.remainder === '') {</span><span class="s3">\n                            </span><span class="s1">ret = _mhchemParser.go(mrm.match_, 'pu');</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else {</span><span class="s3">\n                            </span><span class="s1">ret = { type_: 'rm', p1: buffer.rm };</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">for (var p in buffer) {</span><span class="s3">\n                        </span><span class="s1">delete buffer[p];</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return ret;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">'pu-9,9': {</span><span class="s3">\n            </span><span class="s1">transitions: _mhchemCreateTransitions({</span><span class="s3">\n                </span><span class="s1">'empty': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: 'output-0' },</span><span class="s3">\n                    </span><span class="s1">'o': { action_: 'output-o' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">',': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: ['output-0', 'comma'], nextState: 'o' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'.': {</span><span class="s3">\n                    </span><span class="s1">'0': { action_: ['output-0', 'copy'], nextState: 'o' }</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'else': {</span><span class="s3">\n                    </span><span class="s1">'*': { action_: 'text=' }</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}),</span><span class="s3">\n            </span><span class="s1">actions: {</span><span class="s3">\n                </span><span class="s1">'comma': function () { return { type_: 'commaDecimal' }; },</span><span class="s3">\n                </span><span class="s1">'output-0': function (buffer) {</span><span class="s3">\n                    </span><span class="s1">var ret = [];</span><span class="s3">\n                    </span><span class="s1">buffer.text_ = buffer.text_ || </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">if (buffer.text_.length &gt; 4) {</span><span class="s3">\n                        </span><span class="s1">var a = buffer.text_.length % 3;</span><span class="s3">\n                        </span><span class="s1">if (a === 0) {</span><span class="s3">\n                            </span><span class="s1">a = 3;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">for (var i = buffer.text_.length - 3; i &gt; 0; i -= 3) {</span><span class="s3">\n                            </span><span class="s1">ret.push(buffer.text_.substr(i, 3));</span><span class="s3">\n                            </span><span class="s1">ret.push({ type_: '1000 separator' });</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">ret.push(buffer.text_.substr(0, a));</span><span class="s3">\n                        </span><span class="s1">ret.reverse();</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">ret.push(buffer.text_);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">for (var p in buffer) {</span><span class="s3">\n                        </span><span class="s1">delete buffer[p];</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return ret;</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">'output-o': function (buffer) {</span><span class="s3">\n                    </span><span class="s1">var ret = [];</span><span class="s3">\n                    </span><span class="s1">buffer.text_ = buffer.text_ || </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">if (buffer.text_.length &gt; 4) {</span><span class="s3">\n                        </span><span class="s1">var a = buffer.text_.length - 3;</span><span class="s3">\n                        </span><span class="s1">var i = void 0;</span><span class="s3">\n                        </span><span class="s1">for (i = 0; i &lt; a; i += 3) {</span><span class="s3">\n                            </span><span class="s1">ret.push(buffer.text_.substr(i, 3));</span><span class="s3">\n                            </span><span class="s1">ret.push({ type_: '1000 separator' });</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">ret.push(buffer.text_.substr(i));</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">ret.push(buffer.text_);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">for (var p in buffer) {</span><span class="s3">\n                        </span><span class="s1">delete buffer[p];</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return ret;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var _mhchemTexify = {</span><span class="s3">\n    </span><span class="s1">go: function (input, addOuterBraces) {</span><span class="s3">\n        </span><span class="s1">if (!input) {</span><span class="s3">\n            </span><span class="s1">return </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">var res = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">var cee = false;</span><span class="s3">\n        </span><span class="s1">for (var i = 0; i &lt; input.length; i++) {</span><span class="s3">\n            </span><span class="s1">var inputi = input[i];</span><span class="s3">\n            </span><span class="s1">if (typeof inputi === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">res += inputi;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">res += _mhchemTexify._go2(inputi);</span><span class="s3">\n                </span><span class="s1">if (inputi.type_ === '1st-level escape') {</span><span class="s3">\n                    </span><span class="s1">cee = true;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (addOuterBraces &amp;&amp; !cee &amp;&amp; res) {</span><span class="s3">\n            </span><span class="s1">res = </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">+ res + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return res;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">_goInner: function (input) {</span><span class="s3">\n        </span><span class="s1">return _mhchemTexify.go(input, false);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">_go2: function (buf) {</span><span class="s3">\n        </span><span class="s1">var res;</span><span class="s3">\n        </span><span class="s1">switch (buf.type_) {</span><span class="s3">\n            </span><span class="s1">case 'chemfive':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">var b5 = {</span><span class="s3">\n                    </span><span class="s1">a: _mhchemTexify._goInner(buf.a),</span><span class="s3">\n                    </span><span class="s1">b: _mhchemTexify._goInner(buf.b),</span><span class="s3">\n                    </span><span class="s1">p: _mhchemTexify._goInner(buf.p),</span><span class="s3">\n                    </span><span class="s1">o: _mhchemTexify._goInner(buf.o),</span><span class="s3">\n                    </span><span class="s1">q: _mhchemTexify._goInner(buf.q),</span><span class="s3">\n                    </span><span class="s1">d: _mhchemTexify._goInner(buf.d)</span><span class="s3">\n                </span><span class="s1">};</span><span class="s3">\n                </span><span class="s1">if (b5.a) {</span><span class="s3">\n                    </span><span class="s1">if (b5.a.match(/^[+</span><span class="s3">\\</span><span class="s1">-]/)) {</span><span class="s3">\n                        </span><span class="s1">b5.a = </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">+ b5.a + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">res += b5.a + </span><span class="s3">\&quot;\\\\</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">if (b5.b || b5.p) {</span><span class="s3">\n                    </span><span class="s1">res += </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">vphantom{A}}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">res += </span><span class="s3">\&quot;</span><span class="s1">^{</span><span class="s3">\\\\</span><span class="s1">hphantom{</span><span class="s3">\&quot; </span><span class="s1">+ (b5.b || </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + </span><span class="s3">\&quot;</span><span class="s1">}}_{</span><span class="s3">\\\\</span><span class="s1">hphantom{</span><span class="s3">\&quot; </span><span class="s1">+ (b5.p || </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + </span><span class="s3">\&quot;</span><span class="s1">}}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">res += </span><span class="s3">\&quot;\\\\</span><span class="s1">mkern-1.5mu</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">res += </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">vphantom{A}}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">res += </span><span class="s3">\&quot;</span><span class="s1">^{</span><span class="s3">\\\\</span><span class="s1">smash[t]{</span><span class="s3">\\\\</span><span class="s1">vphantom{2}}</span><span class="s3">\\\\</span><span class="s1">llap{</span><span class="s3">\&quot; </span><span class="s1">+ (b5.b || </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + </span><span class="s3">\&quot;</span><span class="s1">}}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">res += </span><span class="s3">\&quot;</span><span class="s1">_{</span><span class="s3">\\\\</span><span class="s1">vphantom{2}</span><span class="s3">\\\\</span><span class="s1">llap{</span><span class="s3">\\\\</span><span class="s1">smash[t]{</span><span class="s3">\&quot; </span><span class="s1">+ (b5.p || </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + </span><span class="s3">\&quot;</span><span class="s1">}}}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">if (b5.o) {</span><span class="s3">\n                    </span><span class="s1">if (b5.o.match(/^[+</span><span class="s3">\\</span><span class="s1">-]/)) {</span><span class="s3">\n                        </span><span class="s1">b5.o = </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">+ b5.o + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">res += b5.o;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">if (buf.dType === 'kv') {</span><span class="s3">\n                    </span><span class="s1">if (b5.d || b5.q) {</span><span class="s3">\n                        </span><span class="s1">res += </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">vphantom{A}}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">if (b5.d) {</span><span class="s3">\n                        </span><span class="s1">res += </span><span class="s3">\&quot;</span><span class="s1">^{</span><span class="s3">\&quot; </span><span class="s1">+ b5.d + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">if (b5.q) {</span><span class="s3">\n                        </span><span class="s1">res += </span><span class="s3">\&quot;</span><span class="s1">_{</span><span class="s3">\\\\</span><span class="s1">smash[t]{</span><span class="s3">\&quot; </span><span class="s1">+ b5.q + </span><span class="s3">\&quot;</span><span class="s1">}}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (buf.dType === 'oxidation') {</span><span class="s3">\n                    </span><span class="s1">if (b5.d) {</span><span class="s3">\n                        </span><span class="s1">res += </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">vphantom{A}}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                        </span><span class="s1">res += </span><span class="s3">\&quot;</span><span class="s1">^{</span><span class="s3">\&quot; </span><span class="s1">+ b5.d + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">if (b5.q) {</span><span class="s3">\n                        </span><span class="s1">res += </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">vphantom{A}}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                        </span><span class="s1">res += </span><span class="s3">\&quot;</span><span class="s1">_{</span><span class="s3">\\\\</span><span class="s1">smash[t]{</span><span class="s3">\&quot; </span><span class="s1">+ b5.q + </span><span class="s3">\&quot;</span><span class="s1">}}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">if (b5.q) {</span><span class="s3">\n                        </span><span class="s1">res += </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">vphantom{A}}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                        </span><span class="s1">res += </span><span class="s3">\&quot;</span><span class="s1">_{</span><span class="s3">\\\\</span><span class="s1">smash[t]{</span><span class="s3">\&quot; </span><span class="s1">+ b5.q + </span><span class="s3">\&quot;</span><span class="s1">}}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">if (b5.d) {</span><span class="s3">\n                        </span><span class="s1">res += </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">vphantom{A}}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                        </span><span class="s1">res += </span><span class="s3">\&quot;</span><span class="s1">^{</span><span class="s3">\&quot; </span><span class="s1">+ b5.d + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'rm':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrm{</span><span class="s3">\&quot; </span><span class="s1">+ buf.p1 + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'text':</span><span class="s3">\n                </span><span class="s1">if (buf.p1.match(/[</span><span class="s3">\\</span><span class="s1">^_]/)) {</span><span class="s3">\n                    </span><span class="s1">buf.p1 = buf.p1.replace(</span><span class="s3">\&quot; \&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">).replace(</span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\\\\</span><span class="s1">text{-}</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrm{</span><span class="s3">\&quot; </span><span class="s1">+ buf.p1 + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">text{</span><span class="s3">\&quot; </span><span class="s1">+ buf.p1 + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'roman numeral':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">mathrm{</span><span class="s3">\&quot; </span><span class="s1">+ buf.p1 + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'state of aggregation':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">mskip2mu </span><span class="s3">\&quot; </span><span class="s1">+ _mhchemTexify._goInner(buf.p1);</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'state of aggregation subscript':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">mskip1mu </span><span class="s3">\&quot; </span><span class="s1">+ _mhchemTexify._goInner(buf.p1);</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'bond':</span><span class="s3">\n                </span><span class="s1">res = _mhchemTexify._getBond(buf.kind_);</span><span class="s3">\n                </span><span class="s1">if (!res) {</span><span class="s3">\n                    </span><span class="s1">throw [</span><span class="s3">\&quot;</span><span class="s1">MhchemErrorBond</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mhchem Error. Unknown bond type (</span><span class="s3">\&quot; </span><span class="s1">+ buf.kind_ + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'frac':</span><span class="s3">\n                </span><span class="s1">var c = </span><span class="s3">\&quot;\\\\</span><span class="s1">frac{</span><span class="s3">\&quot; </span><span class="s1">+ buf.p1 + </span><span class="s3">\&quot;</span><span class="s1">}{</span><span class="s3">\&quot; </span><span class="s1">+ buf.p2 + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">mathchoice{</span><span class="s3">\\\\</span><span class="s1">textstyle</span><span class="s3">\&quot; </span><span class="s1">+ c + </span><span class="s3">\&quot;</span><span class="s1">}{</span><span class="s3">\&quot; </span><span class="s1">+ c + </span><span class="s3">\&quot;</span><span class="s1">}{</span><span class="s3">\&quot; </span><span class="s1">+ c + </span><span class="s3">\&quot;</span><span class="s1">}{</span><span class="s3">\&quot; </span><span class="s1">+ c + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'pu-frac':</span><span class="s3">\n                </span><span class="s1">var d = </span><span class="s3">\&quot;\\\\</span><span class="s1">frac{</span><span class="s3">\&quot; </span><span class="s1">+ _mhchemTexify._goInner(buf.p1) + </span><span class="s3">\&quot;</span><span class="s1">}{</span><span class="s3">\&quot; </span><span class="s1">+ _mhchemTexify._goInner(buf.p2) + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">mathchoice{</span><span class="s3">\\\\</span><span class="s1">textstyle</span><span class="s3">\&quot; </span><span class="s1">+ d + </span><span class="s3">\&quot;</span><span class="s1">}{</span><span class="s3">\&quot; </span><span class="s1">+ d + </span><span class="s3">\&quot;</span><span class="s1">}{</span><span class="s3">\&quot; </span><span class="s1">+ d + </span><span class="s3">\&quot;</span><span class="s1">}{</span><span class="s3">\&quot; </span><span class="s1">+ d + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'tex-math':</span><span class="s3">\n                </span><span class="s1">res = buf.p1 + </span><span class="s3">\&quot; \&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'frac-ce':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">frac{</span><span class="s3">\&quot; </span><span class="s1">+ _mhchemTexify._goInner(buf.p1) + </span><span class="s3">\&quot;</span><span class="s1">}{</span><span class="s3">\&quot; </span><span class="s1">+ _mhchemTexify._goInner(buf.p2) + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'overset':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">overset{</span><span class="s3">\&quot; </span><span class="s1">+ _mhchemTexify._goInner(buf.p1) + </span><span class="s3">\&quot;</span><span class="s1">}{</span><span class="s3">\&quot; </span><span class="s1">+ _mhchemTexify._goInner(buf.p2) + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'underset':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">underset{</span><span class="s3">\&quot; </span><span class="s1">+ _mhchemTexify._goInner(buf.p1) + </span><span class="s3">\&quot;</span><span class="s1">}{</span><span class="s3">\&quot; </span><span class="s1">+ _mhchemTexify._goInner(buf.p2) + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'underbrace':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">underbrace{</span><span class="s3">\&quot; </span><span class="s1">+ _mhchemTexify._goInner(buf.p1) + </span><span class="s3">\&quot;</span><span class="s1">}_{</span><span class="s3">\&quot; </span><span class="s1">+ _mhchemTexify._goInner(buf.p2) + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'color':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">color{</span><span class="s3">\&quot; </span><span class="s1">+ buf.color1 + </span><span class="s3">\&quot;</span><span class="s1">}{</span><span class="s3">\&quot; </span><span class="s1">+ _mhchemTexify._goInner(buf.color2) + </span><span class="s3">\&quot;</span><span class="s1">}}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'color0':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">color{</span><span class="s3">\&quot; </span><span class="s1">+ buf.color + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'arrow':</span><span class="s3">\n                </span><span class="s1">var b6 = {</span><span class="s3">\n                    </span><span class="s1">rd: _mhchemTexify._goInner(buf.rd),</span><span class="s3">\n                    </span><span class="s1">rq: _mhchemTexify._goInner(buf.rq)</span><span class="s3">\n                </span><span class="s1">};</span><span class="s3">\n                </span><span class="s1">var arrow = _mhchemTexify._getArrow(buf.r);</span><span class="s3">\n                </span><span class="s1">if (b6.rd || b6.rq) {</span><span class="s3">\n                    </span><span class="s1">if (buf.r === </span><span class="s3">\&quot;</span><span class="s1">&lt;=&gt;</span><span class="s3">\&quot; </span><span class="s1">|| buf.r === </span><span class="s3">\&quot;</span><span class="s1">&lt;=&gt;&gt;</span><span class="s3">\&quot; </span><span class="s1">|| buf.r === </span><span class="s3">\&quot;</span><span class="s1">&lt;&lt;=&gt;</span><span class="s3">\&quot; </span><span class="s1">|| buf.r === </span><span class="s3">\&quot;</span><span class="s1">&lt;--&gt;</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                        </span><span class="s1">arrow = </span><span class="s3">\&quot;\\\\</span><span class="s1">long</span><span class="s3">\&quot; </span><span class="s1">+ arrow;</span><span class="s3">\n                        </span><span class="s1">if (b6.rd) {</span><span class="s3">\n                            </span><span class="s1">arrow = </span><span class="s3">\&quot;\\\\</span><span class="s1">overset{</span><span class="s3">\&quot; </span><span class="s1">+ b6.rd + </span><span class="s3">\&quot;</span><span class="s1">}{</span><span class="s3">\&quot; </span><span class="s1">+ arrow + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">if (b6.rq) {</span><span class="s3">\n                            </span><span class="s1">if (buf.r === </span><span class="s3">\&quot;</span><span class="s1">&lt;--&gt;</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                                </span><span class="s1">arrow = </span><span class="s3">\&quot;\\\\</span><span class="s1">underset{</span><span class="s3">\\\\</span><span class="s1">lower2mu{</span><span class="s3">\&quot; </span><span class="s1">+ b6.rq + </span><span class="s3">\&quot;</span><span class="s1">}}{</span><span class="s3">\&quot; </span><span class="s1">+ arrow + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">else {</span><span class="s3">\n                                </span><span class="s1">arrow = </span><span class="s3">\&quot;\\\\</span><span class="s1">underset{</span><span class="s3">\\\\</span><span class="s1">lower6mu{</span><span class="s3">\&quot; </span><span class="s1">+ b6.rq + </span><span class="s3">\&quot;</span><span class="s1">}}{</span><span class="s3">\&quot; </span><span class="s1">+ arrow + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">arrow = </span><span class="s3">\&quot; </span><span class="s1">{}</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\&quot; </span><span class="s1">+ arrow + </span><span class="s3">\&quot;</span><span class="s1">}{} </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">if (b6.rq) {</span><span class="s3">\n                            </span><span class="s1">arrow += </span><span class="s3">\&quot;</span><span class="s1">[{</span><span class="s3">\&quot; </span><span class="s1">+ b6.rq + </span><span class="s3">\&quot;</span><span class="s1">}]</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">arrow += </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">+ b6.rd + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                        </span><span class="s1">arrow = </span><span class="s3">\&quot; </span><span class="s1">{}</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">x</span><span class="s3">\&quot; </span><span class="s1">+ arrow + </span><span class="s3">\&quot;</span><span class="s1">}{} </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">arrow = </span><span class="s3">\&quot; </span><span class="s1">{}</span><span class="s3">\\\\</span><span class="s1">mathrel{</span><span class="s3">\\\\</span><span class="s1">long</span><span class="s3">\&quot; </span><span class="s1">+ arrow + </span><span class="s3">\&quot;</span><span class="s1">}{} </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">res = arrow;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'operator':</span><span class="s3">\n                </span><span class="s1">res = _mhchemTexify._getOperator(buf.kind_);</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case '1st-level escape':</span><span class="s3">\n                </span><span class="s1">res = buf.p1 + </span><span class="s3">\&quot; \&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'space':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot; \&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'tinySkip':</span><span class="s3">\n                </span><span class="s1">res = '</span><span class="s3">\\\\</span><span class="s1">mkern2mu';</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'entitySkip':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'pu-space-1':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'pu-space-2':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">mkern3mu </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case '1000 separator':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">mkern2mu </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'commaDecimal':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;</span><span class="s1">{,}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'comma enumeration L':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">+ buf.p1 + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">mkern6mu </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'comma enumeration M':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">+ buf.p1 + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">mkern3mu </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'comma enumeration S':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\&quot; </span><span class="s1">+ buf.p1 + </span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\\\\</span><span class="s1">mkern1mu </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'hyphen':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">text{-}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'addition compound':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">,{</span><span class="s3">\\\\</span><span class="s1">cdot}</span><span class="s3">\\\\</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'electron dot':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">mkern1mu </span><span class="s3">\\\\</span><span class="s1">bullet</span><span class="s3">\\\\</span><span class="s1">mkern1mu </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'KV x':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">times}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'prime':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">prime </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'cdot':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">cdot </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'tight cdot':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">mkern1mu{</span><span class="s3">\\\\</span><span class="s1">cdot}</span><span class="s3">\\\\</span><span class="s1">mkern1mu </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'times':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">times </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'circa':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">sim}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case '^':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;</span><span class="s1">uparrow</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'v':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;</span><span class="s1">downarrow</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 'ellipsis':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">ldots </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case '/':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;</span><span class="s1">/</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case ' / ':</span><span class="s3">\n                </span><span class="s1">res = </span><span class="s3">\&quot;\\\\</span><span class="s1">,/</span><span class="s3">\\\\</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">default:</span><span class="s3">\n                </span><span class="s1">assertNever(buf);</span><span class="s3">\n                </span><span class="s1">throw [</span><span class="s3">\&quot;</span><span class="s1">MhchemBugT</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mhchem bug T. Please report.</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return res;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">_getArrow: function (a) {</span><span class="s3">\n        </span><span class="s1">switch (a) {</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">-&gt;</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">rightarrow</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;\\</span><span class="s1">u2192</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">rightarrow</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;\\</span><span class="s1">u27F6</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">rightarrow</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">&lt;-</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">leftarrow</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">&lt;-&gt;</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">leftrightarrow</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">&lt;--&gt;</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">leftrightarrows</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">&lt;=&gt;</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">rightleftharpoons</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;\\</span><span class="s1">u21CC</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">rightleftharpoons</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">&lt;=&gt;&gt;</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">Rightleftharpoons</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">&lt;&lt;=&gt;</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">Leftrightharpoons</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">default:</span><span class="s3">\n                </span><span class="s1">assertNever(a);</span><span class="s3">\n                </span><span class="s1">throw [</span><span class="s3">\&quot;</span><span class="s1">MhchemBugT</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mhchem bug T. Please report.</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">_getBond: function (a) {</span><span class="s3">\n        </span><span class="s1">switch (a) {</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">{-}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">1</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">{-}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">=</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">{=}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">2</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">{=}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">equiv}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">3</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">equiv}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">tripledash}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">~-</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">rlap{</span><span class="s3">\\\\</span><span class="s1">lower.1em{-}}</span><span class="s3">\\\\</span><span class="s1">raise.1em{</span><span class="s3">\\\\</span><span class="s1">tripledash}}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">~=</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">rlap{</span><span class="s3">\\\\</span><span class="s1">lower.2em{-}}</span><span class="s3">\\\\</span><span class="s1">rlap{</span><span class="s3">\\\\</span><span class="s1">raise.2em{</span><span class="s3">\\\\</span><span class="s1">tripledash}}-}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">~--</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">rlap{</span><span class="s3">\\\\</span><span class="s1">lower.2em{-}}</span><span class="s3">\\\\</span><span class="s1">rlap{</span><span class="s3">\\\\</span><span class="s1">raise.2em{</span><span class="s3">\\\\</span><span class="s1">tripledash}}-}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">-~-</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">rlap{</span><span class="s3">\\\\</span><span class="s1">lower.2em{-}}</span><span class="s3">\\\\</span><span class="s1">rlap{</span><span class="s3">\\\\</span><span class="s1">raise.2em{-}}</span><span class="s3">\\\\</span><span class="s1">tripledash}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">...</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">{{</span><span class="s3">\\\\</span><span class="s1">cdot}{</span><span class="s3">\\\\</span><span class="s1">cdot}{</span><span class="s3">\\\\</span><span class="s1">cdot}}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">....</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">{{</span><span class="s3">\\\\</span><span class="s1">cdot}{</span><span class="s3">\\\\</span><span class="s1">cdot}{</span><span class="s3">\\\\</span><span class="s1">cdot}{</span><span class="s3">\\\\</span><span class="s1">cdot}}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">-&gt;</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">rightarrow}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">&lt;-</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">{</span><span class="s3">\\\\</span><span class="s1">leftarrow}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">{&lt;}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot;</span><span class="s1">{&gt;}</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">default:</span><span class="s3">\n                </span><span class="s1">assertNever(a);</span><span class="s3">\n                </span><span class="s1">throw [</span><span class="s3">\&quot;</span><span class="s1">MhchemBugT</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mhchem bug T. Please report.</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">_getOperator: function (a) {</span><span class="s3">\n        </span><span class="s1">switch (a) {</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">+</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot; </span><span class="s1">{}+{} </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot; </span><span class="s1">{}-{} </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">=</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot; </span><span class="s1">{}={} </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot; </span><span class="s1">{}&lt;{} </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot; </span><span class="s1">{}&gt;{} </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">&lt;&lt;</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot; </span><span class="s1">{}</span><span class="s3">\\\\</span><span class="s1">ll{} </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">&gt;&gt;</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot; </span><span class="s1">{}</span><span class="s3">\\\\</span><span class="s1">gg{} </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">pm</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot; </span><span class="s1">{}</span><span class="s3">\\\\</span><span class="s1">pm{} </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;\\\\</span><span class="s1">approx</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot; </span><span class="s1">{}</span><span class="s3">\\\\</span><span class="s1">approx{} </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">$</span><span class="s3">\\\\</span><span class="s1">approx$</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot; </span><span class="s1">{}</span><span class="s3">\\\\</span><span class="s1">approx{} </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">v</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot; \\\\</span><span class="s1">downarrow{} </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">(v)</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot; \\\\</span><span class="s1">downarrow{} </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">^</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot; \\\\</span><span class="s1">uparrow{} </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">(^)</span><span class="s3">\&quot;</span><span class="s1">: return </span><span class="s3">\&quot; \\\\</span><span class="s1">uparrow{} </span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">default:</span><span class="s3">\n                </span><span class="s1">assertNever(a);</span><span class="s3">\n                </span><span class="s1">throw [</span><span class="s3">\&quot;</span><span class="s1">MhchemBugT</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">mhchem bug T. Please report.</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">function assertNever(a) { }</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;sourceRoot&quot;</span><span class="s0">:</span><span class="s1">&quot;&quot;</span><span class="s0">}</span></pre>
</body>
</html>