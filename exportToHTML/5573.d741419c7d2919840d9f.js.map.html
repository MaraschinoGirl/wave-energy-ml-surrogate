<html>
<head>
<title>5573.d741419c7d2919840d9f.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
5573.d741419c7d2919840d9f.js.map</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;5573.d741419c7d2919840d9f.js?v=d741419c7d2919840d9f&quot;</span><span class="s0">,</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAmD;AACI;AACJ;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,uBAAuB;AAChD;AACA,kCAAkC,4BAAQ;AAC1C;AACA;AACA;AACA;AACA;AACA,cAAc,sCAAe;AAC7B;AACA;AACA,IAAI,6BAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,YAAY,sCAAmB,aAAa,2DAA2D,oBAAoB,IAAI,gBAAgB;AAC/I;AACA,oEAAoE;AACpE;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,uBAAuB;AACxD,eAAe,qBAAW,QAAQ,sCAAmB,kBAAkB,4CAA4C;AACnH;AACA,CAAC,4CAA4C;;;ACtE7C;AACA;AAC0F;AACnB;AACb;AACT;AACuC;AACzB;AACO;AACP;AACxB;AACE;AACI;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gCAAgC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yCAAgB,EAAE,qCAAW;AAC5C,eAAe,wCAAc,EAAE,gCAAsB;AACrD;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA,mCAAmC,yBAAM,GAAG,MAAM;AAClD,4BAA4B,kBAAQ;AACpC;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,kBAAI;AACnE;AACA;AACA;AACA;AACA,YAAY,kBAAI;AAChB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gCAAS;AACxB,eAAe,qCAAW;AAC1B;AACA,gBAAgB,WAAW;AAC3B,iFAAiF,wCAAc;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,iBAAiB;AACtF;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qCAAW;AAC1B;AACA,gBAAgB,WAAW;AAC3B,iFAAiF,wCAAc;AAC/F;AACA;AACA;AACA;AACA;AACA,4BAA4B,oBAAM,MAAM,wBAAU;AAClD;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,uCAAgB;AAC/B,eAAe,yBAAe,EAAE,8CAAgB,EAAE,qCAAW;AAC7D;AACA,mFAAmF,wCAAc;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wCAAc;AAC7B,eAAe,gCAAsB;AACrC;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,qCAAqC,oCAAa;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,yBAAM,GAAG,MAAM;AAClD;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wCAAc,EAAE,qCAAW;AAC1C;AACA;AACA,2BAA2B,yBAAM;AACjC;AACA,wCAAwC,aAAa;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,kBAAI,mBAAmB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,oCAAa;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,uCAAgB;AAC/B,eAAe,8CAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,aAAa;AACjC;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wCAAc;AAC7B,eAAe,qCAAc;AAC7B;AACA;AACA;AACA,qCAAqC,oCAAa;AAClD;AACA;AACA;AACA;AACA,oDAAoD,4BAA4B;AAChF;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,uCAAgB;AAC/B;AACA;AACA,wBAAwB,wBAAU;AAClC,6BAA6B,oBAAM;AACnC,yBAAyB,oBAAM;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wCAAc,EAAE,qCAAW;AAC1C;AACA;AACA;AACA,qCAAqC,oCAAa;AAClD;AACA;AACA;AACA;AACA,2BAA2B,gBAAgB,UAAU,sBAAsB;AAC3E;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAe,EAAE,qCAAW,EAAE,qCAAc;AAC3D;AACA,gBAAgB,kBAAkB;AAClC,iFAAiF,wCAAc;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA,+CAA+C,oCAAa;AAC5D,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAe,OAAO,EAAC&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../packages/notebook-extension/lib/trusted.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../packages/notebook-extension/lib/index.js&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { ReactWidget } from '@jupyterlab/apputils';</span><span class="s3">\n</span><span class="s1">import { NotebookActions } from '@jupyterlab/notebook';</span><span class="s3">\n</span><span class="s1">import React, { useEffect, useState } from 'react';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Check if a notebook is trusted</span><span class="s3">\n </span><span class="s1">* @param notebook The notebook to check</span><span class="s3">\n </span><span class="s1">* @returns true if the notebook is trusted, false otherwise</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const isTrusted = (notebook) =&gt; {</span><span class="s3">\n    </span><span class="s1">const model = notebook.model;</span><span class="s3">\n    </span><span class="s1">if (!model) {</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const cells = Array.from(model.cells);</span><span class="s3">\n    </span><span class="s1">let total = 0;</span><span class="s3">\n    </span><span class="s1">let trusted = 0;</span><span class="s3">\n    </span><span class="s1">for (const currentCell of cells) {</span><span class="s3">\n        </span><span class="s1">if (currentCell.type !== 'code') {</span><span class="s3">\n            </span><span class="s1">continue;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">total++;</span><span class="s3">\n        </span><span class="s1">if (currentCell.trusted) {</span><span class="s3">\n            </span><span class="s1">trusted++;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return trusted === total;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A React component to display the Trusted badge in the menu bar.</span><span class="s3">\n </span><span class="s1">* @param notebook The Notebook</span><span class="s3">\n </span><span class="s1">* @param translator The Translation service</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const TrustedButton = ({ notebook, translator, }) =&gt; {</span><span class="s3">\n    </span><span class="s1">const trans = translator.load('notebook');</span><span class="s3">\n    </span><span class="s1">const [trusted, setTrusted] = useState(isTrusted(notebook));</span><span class="s3">\n    </span><span class="s1">const checkTrust = () =&gt; {</span><span class="s3">\n        </span><span class="s1">const v = isTrusted(notebook);</span><span class="s3">\n        </span><span class="s1">setTrusted(v);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">const trust = async () =&gt; {</span><span class="s3">\n        </span><span class="s1">await NotebookActions.trust(notebook, translator);</span><span class="s3">\n        </span><span class="s1">checkTrust();</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">useEffect(() =&gt; {</span><span class="s3">\n        </span><span class="s1">notebook.modelContentChanged.connect(checkTrust);</span><span class="s3">\n        </span><span class="s1">notebook.activeCellChanged.connect(checkTrust);</span><span class="s3">\n        </span><span class="s1">checkTrust();</span><span class="s3">\n        </span><span class="s1">return () =&gt; {</span><span class="s3">\n            </span><span class="s1">notebook.modelContentChanged.disconnect(checkTrust);</span><span class="s3">\n            </span><span class="s1">notebook.activeCellChanged.disconnect(checkTrust);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">return (React.createElement(</span><span class="s3">\&quot;</span><span class="s1">button</span><span class="s3">\&quot;</span><span class="s1">, { className: 'jp-NotebookTrustedStatus', style: !trusted ? { cursor: 'pointer' } : { cursor: 'help' }, onClick: () =&gt; !trusted &amp;&amp; trust(), title: trusted</span><span class="s3">\n            </span><span class="s1">? trans.__('JavaScript enabled for notebook display')</span><span class="s3">\n            </span><span class="s1">: trans.__('JavaScript disabled for notebook display') }, trusted ? trans.__('Trusted') : trans.__('Not Trusted')));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A namespace for TrustedComponent static methods.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export var TrustedComponent;</span><span class="s3">\n</span><span class="s1">(function (TrustedComponent) {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Create a new TrustedComponent</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param notebook The notebook</span><span class="s3">\n     </span><span class="s1">* @param translator The translator</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">TrustedComponent.create = ({ notebook, translator, }) =&gt; {</span><span class="s3">\n        </span><span class="s1">return ReactWidget.create(React.createElement(TrustedButton, { notebook: notebook, translator: translator }));</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})(TrustedComponent || (TrustedComponent = {}));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { DOMUtils, IToolbarWidgetRegistry, ICommandPalette, } from '@jupyterlab/apputils';</span><span class="s3">\n</span><span class="s1">import { PageConfig, Text, Time, URLExt } from '@jupyterlab/coreutils';</span><span class="s3">\n</span><span class="s1">import { IDocumentManager } from '@jupyterlab/docmanager';</span><span class="s3">\n</span><span class="s1">import { IMainMenu } from '@jupyterlab/mainmenu';</span><span class="s3">\n</span><span class="s1">import { NotebookPanel, INotebookTracker, INotebookTools, } from '@jupyterlab/notebook';</span><span class="s3">\n</span><span class="s1">import { ISettingRegistry } from '@jupyterlab/settingregistry';</span><span class="s3">\n</span><span class="s1">import { ITranslator, nullTranslator } from '@jupyterlab/translation';</span><span class="s3">\n</span><span class="s1">import { INotebookShell } from '@jupyter-notebook/application';</span><span class="s3">\n</span><span class="s1">import { Poll } from '@lumino/polling';</span><span class="s3">\n</span><span class="s1">import { Widget } from '@lumino/widgets';</span><span class="s3">\n</span><span class="s1">import { TrustedComponent } from './trusted';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The class for kernel status errors.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const KERNEL_STATUS_ERROR_CLASS = 'jp-NotebookKernelStatus-error';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The class for kernel status warnings.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const KERNEL_STATUS_WARN_CLASS = 'jp-NotebookKernelStatus-warn';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The class for kernel status infos.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const KERNEL_STATUS_INFO_CLASS = 'jp-NotebookKernelStatus-info';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The class to fade out the kernel status.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const KERNEL_STATUS_FADE_OUT_CLASS = 'jp-NotebookKernelStatus-fade';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The class for scrolled outputs</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const SCROLLED_OUTPUTS_CLASS = 'jp-mod-outputsScrolled';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The class for the full width notebook</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const FULL_WIDTH_NOTEBOOK_CLASS = 'jp-mod-fullwidth';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The command IDs used by the notebook plugins.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var CommandIDs;</span><span class="s3">\n</span><span class="s1">(function (CommandIDs) {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* A command to open right sidebar for Editing Notebook Metadata</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">CommandIDs.openEditNotebookMetadata = 'notebook:edit-metadata';</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* A command to toggle full width of the notebook</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">CommandIDs.toggleFullWidth = 'notebook:toggle-full-width';</span><span class="s3">\n</span><span class="s1">})(CommandIDs || (CommandIDs = {}));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A plugin for the checkpoint indicator</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const checkpoints = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/notebook-extension:checkpoints',</span><span class="s3">\n    </span><span class="s1">description: 'A plugin for the checkpoint indicator.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">requires: [IDocumentManager, ITranslator],</span><span class="s3">\n    </span><span class="s1">optional: [INotebookShell, IToolbarWidgetRegistry],</span><span class="s3">\n    </span><span class="s1">activate: (app, docManager, translator, notebookShell, toolbarRegistry) =&gt; {</span><span class="s3">\n        </span><span class="s1">const { shell } = app;</span><span class="s3">\n        </span><span class="s1">const trans = translator.load('notebook');</span><span class="s3">\n        </span><span class="s1">const node = document.createElement('div');</span><span class="s3">\n        </span><span class="s1">if (toolbarRegistry) {</span><span class="s3">\n            </span><span class="s1">toolbarRegistry.addFactory('TopBar', 'checkpoint', (toolbar) =&gt; {</span><span class="s3">\n                </span><span class="s1">const widget = new Widget({ node });</span><span class="s3">\n                </span><span class="s1">widget.id = DOMUtils.createDomID();</span><span class="s3">\n                </span><span class="s1">widget.addClass('jp-NotebookCheckpoint');</span><span class="s3">\n                </span><span class="s1">return widget;</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const onChange = async () =&gt; {</span><span class="s3">\n            </span><span class="s1">const current = shell.currentWidget;</span><span class="s3">\n            </span><span class="s1">if (!current) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const context = docManager.contextForWidget(current);</span><span class="s3">\n            </span><span class="s1">context === null || context === void 0 ? void 0 : context.fileChanged.disconnect(onChange);</span><span class="s3">\n            </span><span class="s1">context === null || context === void 0 ? void 0 : context.fileChanged.connect(onChange);</span><span class="s3">\n            </span><span class="s1">const checkpoints = await (context === null || context === void 0 ? void 0 : context.listCheckpoints());</span><span class="s3">\n            </span><span class="s1">if (!checkpoints || !checkpoints.length) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const checkpoint = checkpoints[checkpoints.length - 1];</span><span class="s3">\n            </span><span class="s1">node.textContent = trans.__('Last Checkpoint: %1', Time.formatHuman(new Date(checkpoint.last_modified)));</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">if (notebookShell) {</span><span class="s3">\n            </span><span class="s1">notebookShell.currentChanged.connect(onChange);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">new Poll({</span><span class="s3">\n            </span><span class="s1">auto: true,</span><span class="s3">\n            </span><span class="s1">factory: () =&gt; onChange(),</span><span class="s3">\n            </span><span class="s1">frequency: {</span><span class="s3">\n                </span><span class="s1">interval: 2000,</span><span class="s3">\n                </span><span class="s1">backoff: false,</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">standby: 'when-hidden',</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Add a command to close the browser tab when clicking on </span><span class="s3">\&quot;</span><span class="s1">Close and Shut Down</span><span class="s3">\&quot;\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const closeTab = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/notebook-extension:close-tab',</span><span class="s3">\n    </span><span class="s1">description: 'Add a command to close the browser tab when clicking on </span><span class="s3">\&quot;</span><span class="s1">Close and Shut Down</span><span class="s3">\&quot;</span><span class="s1">.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">requires: [IMainMenu],</span><span class="s3">\n    </span><span class="s1">optional: [ITranslator],</span><span class="s3">\n    </span><span class="s1">activate: (app, menu, translator) =&gt; {</span><span class="s3">\n        </span><span class="s1">const { commands } = app;</span><span class="s3">\n        </span><span class="s1">translator = translator !== null &amp;&amp; translator !== void 0 ? translator : nullTranslator;</span><span class="s3">\n        </span><span class="s1">const trans = translator.load('notebook');</span><span class="s3">\n        </span><span class="s1">const id = 'notebook:close-and-halt';</span><span class="s3">\n        </span><span class="s1">commands.addCommand(id, {</span><span class="s3">\n            </span><span class="s1">label: trans.__('Close and Shut Down Notebook'),</span><span class="s3">\n            </span><span class="s1">execute: async () =&gt; {</span><span class="s3">\n                </span><span class="s1">// Shut the kernel down, without confirmation</span><span class="s3">\n                </span><span class="s1">await commands.execute('notebook:shutdown-kernel', { activate: false });</span><span class="s3">\n                </span><span class="s1">window.close();</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">menu.fileMenu.closeAndCleaners.add({</span><span class="s3">\n            </span><span class="s1">id,</span><span class="s3">\n            </span><span class="s1">// use a small rank to it takes precedence over the default</span><span class="s3">\n            </span><span class="s1">// shut down action for the notebook</span><span class="s3">\n            </span><span class="s1">rank: 0,</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Add a command to open the tree view from the notebook view</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const openTreeTab = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/notebook-extension:open-tree-tab',</span><span class="s3">\n    </span><span class="s1">description: 'Add a command to open a browser tab on the tree view when clicking </span><span class="s3">\&quot;</span><span class="s1">Open...</span><span class="s3">\&quot;</span><span class="s1">.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">optional: [ITranslator],</span><span class="s3">\n    </span><span class="s1">activate: (app, translator) =&gt; {</span><span class="s3">\n        </span><span class="s1">const { commands } = app;</span><span class="s3">\n        </span><span class="s1">translator = translator !== null &amp;&amp; translator !== void 0 ? translator : nullTranslator;</span><span class="s3">\n        </span><span class="s1">const trans = translator.load('notebook');</span><span class="s3">\n        </span><span class="s1">const id = 'notebook:open-tree-tab';</span><span class="s3">\n        </span><span class="s1">commands.addCommand(id, {</span><span class="s3">\n            </span><span class="s1">label: trans.__('Open…'),</span><span class="s3">\n            </span><span class="s1">execute: async () =&gt; {</span><span class="s3">\n                </span><span class="s1">const url = URLExt.join(PageConfig.getBaseUrl(), 'tree');</span><span class="s3">\n                </span><span class="s1">window.open(url);</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A plugin to set the notebook to full width.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const fullWidthNotebook = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/notebook-extension:full-width-notebook',</span><span class="s3">\n    </span><span class="s1">description: 'A plugin to set the notebook to full width.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">requires: [INotebookTracker],</span><span class="s3">\n    </span><span class="s1">optional: [ICommandPalette, ISettingRegistry, ITranslator],</span><span class="s3">\n    </span><span class="s1">activate: (app, tracker, palette, settingRegistry, translator) =&gt; {</span><span class="s3">\n        </span><span class="s1">const trans = (translator !== null &amp;&amp; translator !== void 0 ? translator : nullTranslator).load('notebook');</span><span class="s3">\n        </span><span class="s1">let fullWidth = false;</span><span class="s3">\n        </span><span class="s1">const toggleFullWidth = () =&gt; {</span><span class="s3">\n            </span><span class="s1">const current = tracker.currentWidget;</span><span class="s3">\n            </span><span class="s1">fullWidth = !fullWidth;</span><span class="s3">\n            </span><span class="s1">if (!current) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const content = current;</span><span class="s3">\n            </span><span class="s1">content.toggleClass(FULL_WIDTH_NOTEBOOK_CLASS, fullWidth);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">let notebookSettings;</span><span class="s3">\n        </span><span class="s1">if (settingRegistry) {</span><span class="s3">\n            </span><span class="s1">const loadSettings = settingRegistry.load(fullWidthNotebook.id);</span><span class="s3">\n            </span><span class="s1">const updateSettings = (settings) =&gt; {</span><span class="s3">\n                </span><span class="s1">const newFullWidth = settings.get('fullWidthNotebook')</span><span class="s3">\n                    </span><span class="s1">.composite;</span><span class="s3">\n                </span><span class="s1">if (newFullWidth !== fullWidth) {</span><span class="s3">\n                    </span><span class="s1">toggleFullWidth();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n            </span><span class="s1">Promise.all([loadSettings, app.restored])</span><span class="s3">\n                </span><span class="s1">.then(([settings]) =&gt; {</span><span class="s3">\n                </span><span class="s1">notebookSettings = settings;</span><span class="s3">\n                </span><span class="s1">updateSettings(settings);</span><span class="s3">\n                </span><span class="s1">settings.changed.connect((settings) =&gt; {</span><span class="s3">\n                    </span><span class="s1">updateSettings(settings);</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">})</span><span class="s3">\n                </span><span class="s1">.catch((reason) =&gt; {</span><span class="s3">\n                </span><span class="s1">console.error(reason.message);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">app.commands.addCommand(CommandIDs.toggleFullWidth, {</span><span class="s3">\n            </span><span class="s1">label: trans.__('Enable Full Width Notebook'),</span><span class="s3">\n            </span><span class="s1">execute: () =&gt; {</span><span class="s3">\n                </span><span class="s1">toggleFullWidth();</span><span class="s3">\n                </span><span class="s1">if (notebookSettings) {</span><span class="s3">\n                    </span><span class="s1">notebookSettings.set('fullWidthNotebook', fullWidth);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">isEnabled: () =&gt; tracker.currentWidget !== null,</span><span class="s3">\n            </span><span class="s1">isToggled: () =&gt; fullWidth,</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">if (palette) {</span><span class="s3">\n            </span><span class="s1">palette.addItem({</span><span class="s3">\n                </span><span class="s1">command: CommandIDs.toggleFullWidth,</span><span class="s3">\n                </span><span class="s1">category: 'Notebook Operations',</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The kernel logo plugin.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const kernelLogo = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/notebook-extension:kernel-logo',</span><span class="s3">\n    </span><span class="s1">description: 'The kernel logo plugin.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">requires: [INotebookShell],</span><span class="s3">\n    </span><span class="s1">optional: [IToolbarWidgetRegistry],</span><span class="s3">\n    </span><span class="s1">activate: (app, shell, toolbarRegistry) =&gt; {</span><span class="s3">\n        </span><span class="s1">const { serviceManager } = app;</span><span class="s3">\n        </span><span class="s1">const node = document.createElement('div');</span><span class="s3">\n        </span><span class="s1">const img = document.createElement('img');</span><span class="s3">\n        </span><span class="s1">const onChange = async () =&gt; {</span><span class="s3">\n            </span><span class="s1">var _a, _b, _c, _d, _e;</span><span class="s3">\n            </span><span class="s1">const current = shell.currentWidget;</span><span class="s3">\n            </span><span class="s1">if (!(current instanceof NotebookPanel)) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (!node.hasChildNodes()) {</span><span class="s3">\n                </span><span class="s1">node.appendChild(img);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">await current.sessionContext.ready;</span><span class="s3">\n            </span><span class="s1">current.sessionContext.kernelChanged.disconnect(onChange);</span><span class="s3">\n            </span><span class="s1">current.sessionContext.kernelChanged.connect(onChange);</span><span class="s3">\n            </span><span class="s1">const name = (_c = (_b = (_a = current.sessionContext.session) === null || _a === void 0 ? void 0 : _a.kernel) === null || _b === void 0 ? void 0 : _b.name) !== null &amp;&amp; _c !== void 0 ? _c : '';</span><span class="s3">\n            </span><span class="s1">const spec = (_e = (_d = serviceManager.kernelspecs) === null || _d === void 0 ? void 0 : _d.specs) === null || _e === void 0 ? void 0 : _e.kernelspecs[name];</span><span class="s3">\n            </span><span class="s1">if (!spec) {</span><span class="s3">\n                </span><span class="s1">node.childNodes[0].remove();</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const kernelIconUrl = spec.resources['logo-64x64'];</span><span class="s3">\n            </span><span class="s1">if (!kernelIconUrl) {</span><span class="s3">\n                </span><span class="s1">node.childNodes[0].remove();</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">img.src = kernelIconUrl;</span><span class="s3">\n            </span><span class="s1">img.title = spec.display_name;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">if (toolbarRegistry) {</span><span class="s3">\n            </span><span class="s1">toolbarRegistry.addFactory('TopBar', 'kernelLogo', (toolbar) =&gt; {</span><span class="s3">\n                </span><span class="s1">const widget = new Widget({ node });</span><span class="s3">\n                </span><span class="s1">widget.addClass('jp-NotebookKernelLogo');</span><span class="s3">\n                </span><span class="s1">return widget;</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">app.started.then(() =&gt; {</span><span class="s3">\n            </span><span class="s1">shell.currentChanged.connect(onChange);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A plugin to display the kernel status;</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const kernelStatus = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/notebook-extension:kernel-status',</span><span class="s3">\n    </span><span class="s1">description: 'A plugin to display the kernel status.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">requires: [INotebookShell, ITranslator],</span><span class="s3">\n    </span><span class="s1">activate: (app, shell, translator) =&gt; {</span><span class="s3">\n        </span><span class="s1">const trans = translator.load('notebook');</span><span class="s3">\n        </span><span class="s1">const widget = new Widget();</span><span class="s3">\n        </span><span class="s1">widget.addClass('jp-NotebookKernelStatus');</span><span class="s3">\n        </span><span class="s1">app.shell.add(widget, 'menu', { rank: 10010 });</span><span class="s3">\n        </span><span class="s1">const removeClasses = () =&gt; {</span><span class="s3">\n            </span><span class="s1">widget.removeClass(KERNEL_STATUS_ERROR_CLASS);</span><span class="s3">\n            </span><span class="s1">widget.removeClass(KERNEL_STATUS_WARN_CLASS);</span><span class="s3">\n            </span><span class="s1">widget.removeClass(KERNEL_STATUS_INFO_CLASS);</span><span class="s3">\n            </span><span class="s1">widget.removeClass(KERNEL_STATUS_FADE_OUT_CLASS);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">const onStatusChanged = (sessionContext) =&gt; {</span><span class="s3">\n            </span><span class="s1">const status = sessionContext.kernelDisplayStatus;</span><span class="s3">\n            </span><span class="s1">let text = `Kernel ${Text.titleCase(status)}`;</span><span class="s3">\n            </span><span class="s1">removeClasses();</span><span class="s3">\n            </span><span class="s1">switch (status) {</span><span class="s3">\n                </span><span class="s1">case 'busy':</span><span class="s3">\n                </span><span class="s1">case 'idle':</span><span class="s3">\n                    </span><span class="s1">text = '';</span><span class="s3">\n                    </span><span class="s1">widget.addClass(KERNEL_STATUS_FADE_OUT_CLASS);</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case 'dead':</span><span class="s3">\n                </span><span class="s1">case 'terminating':</span><span class="s3">\n                    </span><span class="s1">widget.addClass(KERNEL_STATUS_ERROR_CLASS);</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case 'unknown':</span><span class="s3">\n                    </span><span class="s1">widget.addClass(KERNEL_STATUS_WARN_CLASS);</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">default:</span><span class="s3">\n                    </span><span class="s1">widget.addClass(KERNEL_STATUS_INFO_CLASS);</span><span class="s3">\n                    </span><span class="s1">widget.addClass(KERNEL_STATUS_FADE_OUT_CLASS);</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">widget.node.textContent = trans.__(text);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">const onChange = async () =&gt; {</span><span class="s3">\n            </span><span class="s1">const current = shell.currentWidget;</span><span class="s3">\n            </span><span class="s1">if (!(current instanceof NotebookPanel)) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const sessionContext = current.sessionContext;</span><span class="s3">\n            </span><span class="s1">sessionContext.statusChanged.connect(onStatusChanged);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">shell.currentChanged.connect(onChange);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A plugin to enable scrolling for outputs by default.</span><span class="s3">\n </span><span class="s1">* Mimic the logic from the classic notebook, as found here:</span><span class="s3">\n </span><span class="s1">* https://github.com/jupyter/notebook/blob/a9a31c096eeffe1bff4e9164c6a0442e0e13cdb3/notebook/static/notebook/js/outputarea.js#L96-L120</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const scrollOutput = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/notebook-extension:scroll-output',</span><span class="s3">\n    </span><span class="s1">description: 'A plugin to enable scrolling for outputs by default.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">requires: [INotebookTracker],</span><span class="s3">\n    </span><span class="s1">optional: [ISettingRegistry],</span><span class="s3">\n    </span><span class="s1">activate: async (app, tracker, settingRegistry) =&gt; {</span><span class="s3">\n        </span><span class="s1">const autoScrollThreshold = 100;</span><span class="s3">\n        </span><span class="s1">let autoScrollOutputs = true;</span><span class="s3">\n        </span><span class="s1">// decide whether to scroll the output of the cell based on some heuristics</span><span class="s3">\n        </span><span class="s1">const autoScroll = (cell) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!autoScrollOutputs) {</span><span class="s3">\n                </span><span class="s1">// bail if disabled via the settings</span><span class="s3">\n                </span><span class="s1">cell.removeClass(SCROLLED_OUTPUTS_CLASS);</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const { outputArea } = cell;</span><span class="s3">\n            </span><span class="s1">// respect cells with an explicit scrolled state</span><span class="s3">\n            </span><span class="s1">const scrolled = cell.model.getMetadata('scrolled');</span><span class="s3">\n            </span><span class="s1">if (scrolled !== undefined) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const { node } = outputArea;</span><span class="s3">\n            </span><span class="s1">const height = node.scrollHeight;</span><span class="s3">\n            </span><span class="s1">const fontSize = parseFloat(node.style.fontSize.replace('px', ''));</span><span class="s3">\n            </span><span class="s1">const lineHeight = (fontSize || 14) * 1.3;</span><span class="s3">\n            </span><span class="s1">// do not set via cell.outputScrolled = true, as this would</span><span class="s3">\n            </span><span class="s1">// otherwise synchronize the scrolled state to the notebook metadata</span><span class="s3">\n            </span><span class="s1">const scroll = height &gt; lineHeight * autoScrollThreshold;</span><span class="s3">\n            </span><span class="s1">cell.toggleClass(SCROLLED_OUTPUTS_CLASS, scroll);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">const handlers = {};</span><span class="s3">\n        </span><span class="s1">const setAutoScroll = (cell) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (cell.model.type === 'code') {</span><span class="s3">\n                </span><span class="s1">const codeCell = cell;</span><span class="s3">\n                </span><span class="s1">const id = codeCell.model.id;</span><span class="s3">\n                </span><span class="s1">autoScroll(codeCell);</span><span class="s3">\n                </span><span class="s1">if (handlers[id]) {</span><span class="s3">\n                    </span><span class="s1">codeCell.outputArea.model.changed.disconnect(handlers[id]);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">handlers[id] = () =&gt; autoScroll(codeCell);</span><span class="s3">\n                </span><span class="s1">codeCell.outputArea.model.changed.connect(handlers[id]);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">tracker.widgetAdded.connect((sender, notebook) =&gt; {</span><span class="s3">\n            </span><span class="s1">var _a;</span><span class="s3">\n            </span><span class="s1">// when the notebook widget is created, process all the cells</span><span class="s3">\n            </span><span class="s1">notebook.sessionContext.ready.then(() =&gt; {</span><span class="s3">\n                </span><span class="s1">notebook.content.widgets.forEach(setAutoScroll);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">(_a = notebook.model) === null || _a === void 0 ? void 0 : _a.cells.changed.connect((sender, args) =&gt; {</span><span class="s3">\n                </span><span class="s1">notebook.content.widgets.forEach(setAutoScroll);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">if (settingRegistry) {</span><span class="s3">\n            </span><span class="s1">const loadSettings = settingRegistry.load(scrollOutput.id);</span><span class="s3">\n            </span><span class="s1">const updateSettings = (settings) =&gt; {</span><span class="s3">\n                </span><span class="s1">autoScrollOutputs = settings.get('autoScrollOutputs')</span><span class="s3">\n                    </span><span class="s1">.composite;</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n            </span><span class="s1">Promise.all([loadSettings, app.restored])</span><span class="s3">\n                </span><span class="s1">.then(([settings]) =&gt; {</span><span class="s3">\n                </span><span class="s1">updateSettings(settings);</span><span class="s3">\n                </span><span class="s1">settings.changed.connect((settings) =&gt; {</span><span class="s3">\n                    </span><span class="s1">updateSettings(settings);</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">})</span><span class="s3">\n                </span><span class="s1">.catch((reason) =&gt; {</span><span class="s3">\n                </span><span class="s1">console.error(reason.message);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A plugin to add the NotebookTools to the side panel;</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const notebookToolsWidget = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/notebook-extension:notebook-tools',</span><span class="s3">\n    </span><span class="s1">description: 'A plugin to add the NotebookTools to the side panel.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">requires: [INotebookShell],</span><span class="s3">\n    </span><span class="s1">optional: [INotebookTools],</span><span class="s3">\n    </span><span class="s1">activate: (app, shell, notebookTools) =&gt; {</span><span class="s3">\n        </span><span class="s1">const onChange = async () =&gt; {</span><span class="s3">\n            </span><span class="s1">const current = shell.currentWidget;</span><span class="s3">\n            </span><span class="s1">if (!(current instanceof NotebookPanel)) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">// Add the notebook tools in right area.</span><span class="s3">\n            </span><span class="s1">if (notebookTools) {</span><span class="s3">\n                </span><span class="s1">shell.add(notebookTools, 'right', { type: 'Property Inspector' });</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">shell.currentChanged.connect(onChange);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A plugin to update the tab icon based on the kernel status.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const tabIcon = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/notebook-extension:tab-icon',</span><span class="s3">\n    </span><span class="s1">description: 'A plugin to update the tab icon based on the kernel status.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">requires: [INotebookTracker],</span><span class="s3">\n    </span><span class="s1">activate: (app, tracker) =&gt; {</span><span class="s3">\n        </span><span class="s1">// the favicons are provided by Jupyter Server</span><span class="s3">\n        </span><span class="s1">const baseURL = PageConfig.getBaseUrl();</span><span class="s3">\n        </span><span class="s1">const notebookIcon = URLExt.join(baseURL, 'static/favicons/favicon-notebook.ico');</span><span class="s3">\n        </span><span class="s1">const busyIcon = URLExt.join(baseURL, 'static/favicons/favicon-busy-1.ico');</span><span class="s3">\n        </span><span class="s1">const updateBrowserFavicon = (status) =&gt; {</span><span class="s3">\n            </span><span class="s1">const link = document.querySelector(</span><span class="s3">\&quot;</span><span class="s1">link[rel*='icon']</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">switch (status) {</span><span class="s3">\n                </span><span class="s1">case 'busy':</span><span class="s3">\n                    </span><span class="s1">link.href = busyIcon;</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case 'idle':</span><span class="s3">\n                    </span><span class="s1">link.href = notebookIcon;</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">const onChange = async () =&gt; {</span><span class="s3">\n            </span><span class="s1">const current = tracker.currentWidget;</span><span class="s3">\n            </span><span class="s1">const sessionContext = current === null || current === void 0 ? void 0 : current.sessionContext;</span><span class="s3">\n            </span><span class="s1">if (!sessionContext) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">sessionContext.statusChanged.connect(() =&gt; {</span><span class="s3">\n                </span><span class="s1">const status = sessionContext.kernelDisplayStatus;</span><span class="s3">\n                </span><span class="s1">updateBrowserFavicon(status);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">tracker.currentChanged.connect(onChange);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A plugin that adds a Trusted indicator to the menu area</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const trusted = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/notebook-extension:trusted',</span><span class="s3">\n    </span><span class="s1">description: 'A plugin that adds a Trusted indicator to the menu area.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">requires: [INotebookShell, ITranslator],</span><span class="s3">\n    </span><span class="s1">activate: (app, notebookShell, translator) =&gt; {</span><span class="s3">\n        </span><span class="s1">const onChange = async () =&gt; {</span><span class="s3">\n            </span><span class="s1">const current = notebookShell.currentWidget;</span><span class="s3">\n            </span><span class="s1">if (!(current instanceof NotebookPanel)) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const notebook = current.content;</span><span class="s3">\n            </span><span class="s1">await current.context.ready;</span><span class="s3">\n            </span><span class="s1">const widget = TrustedComponent.create({ notebook, translator });</span><span class="s3">\n            </span><span class="s1">notebookShell.add(widget, 'menu', {</span><span class="s3">\n                </span><span class="s1">rank: 11000,</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">notebookShell.currentChanged.connect(onChange);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Add a command to open right sidebar for Editing Notebook Metadata when clicking on </span><span class="s3">\&quot;</span><span class="s1">Edit Notebook Metadata</span><span class="s3">\&quot; </span><span class="s1">under Edit menu</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const editNotebookMetadata = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/notebook-extension:edit-notebook-metadata',</span><span class="s3">\n    </span><span class="s1">description: 'Add a command to open right sidebar for Editing Notebook Metadata when clicking on </span><span class="s3">\&quot;</span><span class="s1">Edit Notebook Metadata</span><span class="s3">\&quot; </span><span class="s1">under Edit menu',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">optional: [ICommandPalette, ITranslator, INotebookTools],</span><span class="s3">\n    </span><span class="s1">activate: (app, palette, translator, notebookTools) =&gt; {</span><span class="s3">\n        </span><span class="s1">const { commands, shell } = app;</span><span class="s3">\n        </span><span class="s1">translator = translator !== null &amp;&amp; translator !== void 0 ? translator : nullTranslator;</span><span class="s3">\n        </span><span class="s1">const trans = translator.load('notebook');</span><span class="s3">\n        </span><span class="s1">commands.addCommand(CommandIDs.openEditNotebookMetadata, {</span><span class="s3">\n            </span><span class="s1">label: trans.__('Edit Notebook Metadata'),</span><span class="s3">\n            </span><span class="s1">execute: async () =&gt; {</span><span class="s3">\n                </span><span class="s1">const command = 'application:toggle-panel';</span><span class="s3">\n                </span><span class="s1">const args = {</span><span class="s3">\n                    </span><span class="s1">side: 'right',</span><span class="s3">\n                    </span><span class="s1">title: 'Show Notebook Tools',</span><span class="s3">\n                    </span><span class="s1">id: 'notebook-tools',</span><span class="s3">\n                </span><span class="s1">};</span><span class="s3">\n                </span><span class="s1">// Check if Show Notebook Tools (Right Sidebar) is open (expanded)</span><span class="s3">\n                </span><span class="s1">if (!commands.isToggled(command, args)) {</span><span class="s3">\n                    </span><span class="s1">await commands.execute(command, args).then((_) =&gt; {</span><span class="s3">\n                        </span><span class="s1">// For expanding the 'Advanced Tools' section (default: collapsed)</span><span class="s3">\n                        </span><span class="s1">if (notebookTools) {</span><span class="s3">\n                            </span><span class="s1">const tools = (notebookTools === null || notebookTools === void 0 ? void 0 : notebookTools.layout).widgets;</span><span class="s3">\n                            </span><span class="s1">tools.forEach((tool) =&gt; {</span><span class="s3">\n                                </span><span class="s1">if (tool.widget.title.label === trans.__('Advanced Tools') &amp;&amp;</span><span class="s3">\n                                    </span><span class="s1">tool.collapsed) {</span><span class="s3">\n                                    </span><span class="s1">tool.toggle();</span><span class="s3">\n                                </span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">});</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">isVisible: () =&gt; shell.currentWidget !== null &amp;&amp;</span><span class="s3">\n                </span><span class="s1">shell.currentWidget instanceof NotebookPanel,</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">if (palette) {</span><span class="s3">\n            </span><span class="s1">palette.addItem({</span><span class="s3">\n                </span><span class="s1">command: CommandIDs.openEditNotebookMetadata,</span><span class="s3">\n                </span><span class="s1">category: 'Notebook Operations',</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Export the plugins as default.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const plugins = [</span><span class="s3">\n    </span><span class="s1">checkpoints,</span><span class="s3">\n    </span><span class="s1">closeTab,</span><span class="s3">\n    </span><span class="s1">openTreeTab,</span><span class="s3">\n    </span><span class="s1">editNotebookMetadata,</span><span class="s3">\n    </span><span class="s1">fullWidthNotebook,</span><span class="s3">\n    </span><span class="s1">kernelLogo,</span><span class="s3">\n    </span><span class="s1">kernelStatus,</span><span class="s3">\n    </span><span class="s1">notebookToolsWidget,</span><span class="s3">\n    </span><span class="s1">scrollOutput,</span><span class="s3">\n    </span><span class="s1">tabIcon,</span><span class="s3">\n    </span><span class="s1">trusted,</span><span class="s3">\n</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">export default plugins;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;sourceRoot&quot;</span><span class="s0">:</span><span class="s1">&quot;&quot;</span><span class="s0">}</span></pre>
</body>
</html>