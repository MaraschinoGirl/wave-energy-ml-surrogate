<html>
<head>
<title>7582.5611b71499b0becf7b6a.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
7582.5611b71499b0becf7b6a.js.map</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;7582.5611b71499b0becf7b6a.js?v=5611b71499b0becf7b6a&quot;</span><span class="s0">,</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AAAa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB;AACxB,mBAAmB,mBAAO,CAAC,IAAoB;AAC/C;AACA;AACA;AACA,wFAAwF;AACxF;AACA;AACA;AACA,CAAC;AACD,wBAAwB;AACxB;;;;;;;ACba;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB;AACxB,mBAAmB,mBAAO,CAAC,IAAoB;AAC/C,wBAAwB,mBAAO,CAAC,KAAyB;AACzD;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA,wFAAwF;AACxF;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,uBAAuB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,wBAAwB;AACxB;;;;;;;ACxDa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB,GAAG,aAAa,GAAG,wBAAwB,GAAG,iBAAiB;AAC/E;AACA,8BAA8B;AAC9B,iBAAiB;AACjB,uBAAuB,UAAU,SAAS,QAAQ;AAClD;AACA;AACA,iBAAiB;AACjB;AACA;AACA,kCAAkC;AAClC,gCAAgC,UAAU;AAC1C,8BAA8B,QAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA,CAAC;AACD,wBAAwB;AACxB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;;;;;;ACvHa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,WAAW;AACX,oBAAoB,mBAAO,CAAC,KAAqB;AACjD,mBAAmB,mBAAO,CAAC,IAAoB;AAC/C,mBAAmB,mBAAO,CAAC,KAAkB;AAC7C,sCAAsC,mBAAO,CAAC,IAAqB;AACnE,oCAAoC,mBAAO,CAAC,KAAmB;AAC/D,qCAAqC,mBAAO,CAAC,KAAoB;AACjE,oCAAoC,mBAAO,CAAC,KAAmB;AAC/D,wCAAwC,mBAAO,CAAC,KAAuB;AACvE,gBAAgB,mBAAO,CAAC,KAAe;AACvC,yBAAyB,mBAAO,CAAC,KAAwB;AACzD,mBAAO,CAAC,KAAiC;AACzC;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,kCAAkC;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,6CAA6C,2DAA2D,GAAG,MAAM,EAAE,oFAAoF,gCAAgC;AAC7Q;AACA,CAAC;AACD,WAAW;AACX;;;;;;;ACzJa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB,mBAAO,CAAC,KAA+B;AAC1D,oCAAoC,mBAAO,CAAC,KAAe;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA,oFAAoF,UAAU;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oFAAoF,UAAU;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,QAAQ;AACpC;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,SAAS,IAAI;AACb;AACA;AACA;AACA;AACA;AACA,4EAA4E,UAAU;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2GAA2G,UAAU;AACrH;AACA;AACA;AACA;AACA,wCAAwC,QAAQ;AAChD;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE,gBAAgB;AACxF;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qFAAqF,UAAU;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF,UAAU;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA,CAAC,gCAAgC;AACjC,kBAAe;AACf;;;;;;;AC5Qa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe;AACf,oBAAoB,mBAAO,CAAC,IAAwB;AACpD,kBAAkB,mBAAO,CAAC,KAAsB;AAChD,oBAAoB,mBAAO,CAAC,KAAwB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,iDAAiD;AAC3G,2DAA2D,gDAAgD;AAC3G;AACA;AACA;AACA;AACA,wCAAwC,IAAI,MAAM;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,GAAG,KAAK;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iGAAiG;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,yDAAyD;AACnG,wDAAwD,wBAAwB;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/core/FindMath.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/core/InputJax.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/core/MathItem.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/FilterUtil.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/FindTeX.js&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.AbstractFindMath = void 0;</span><span class="s3">\n</span><span class="s1">var Options_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../util/Options.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var AbstractFindMath = (function () {</span><span class="s3">\n    </span><span class="s1">function AbstractFindMath(options) {</span><span class="s3">\n        </span><span class="s1">var CLASS = this.constructor;</span><span class="s3">\n        </span><span class="s1">this.options = (0, Options_js_1.userOptions)((0, Options_js_1.defaultOptions)({}, CLASS.OPTIONS), options);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">AbstractFindMath.OPTIONS = {};</span><span class="s3">\n    </span><span class="s1">return AbstractFindMath;</span><span class="s3">\n</span><span class="s1">}());</span><span class="s3">\n</span><span class="s1">exports.AbstractFindMath = AbstractFindMath;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=FindMath.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.AbstractInputJax = void 0;</span><span class="s3">\n</span><span class="s1">var Options_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../util/Options.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var FunctionList_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../util/FunctionList.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var AbstractInputJax = (function () {</span><span class="s3">\n    </span><span class="s1">function AbstractInputJax(options) {</span><span class="s3">\n        </span><span class="s1">if (options === void 0) { options = {}; }</span><span class="s3">\n        </span><span class="s1">this.adaptor = null;</span><span class="s3">\n        </span><span class="s1">this.mmlFactory = null;</span><span class="s3">\n        </span><span class="s1">var CLASS = this.constructor;</span><span class="s3">\n        </span><span class="s1">this.options = (0, Options_js_1.userOptions)((0, Options_js_1.defaultOptions)({}, CLASS.OPTIONS), options);</span><span class="s3">\n        </span><span class="s1">this.preFilters = new FunctionList_js_1.FunctionList();</span><span class="s3">\n        </span><span class="s1">this.postFilters = new FunctionList_js_1.FunctionList();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(AbstractInputJax.prototype, </span><span class="s3">\&quot;</span><span class="s1">name</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n        </span><span class="s1">get: function () {</span><span class="s3">\n            </span><span class="s1">return this.constructor.NAME;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">enumerable: false,</span><span class="s3">\n        </span><span class="s1">configurable: true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">AbstractInputJax.prototype.setAdaptor = function (adaptor) {</span><span class="s3">\n        </span><span class="s1">this.adaptor = adaptor;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">AbstractInputJax.prototype.setMmlFactory = function (mmlFactory) {</span><span class="s3">\n        </span><span class="s1">this.mmlFactory = mmlFactory;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">AbstractInputJax.prototype.initialize = function () {</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">AbstractInputJax.prototype.reset = function () {</span><span class="s3">\n        </span><span class="s1">var _args = [];</span><span class="s3">\n        </span><span class="s1">for (var _i = 0; _i &lt; arguments.length; _i++) {</span><span class="s3">\n            </span><span class="s1">_args[_i] = arguments[_i];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(AbstractInputJax.prototype, </span><span class="s3">\&quot;</span><span class="s1">processStrings</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n        </span><span class="s1">get: function () {</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">enumerable: false,</span><span class="s3">\n        </span><span class="s1">configurable: true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">AbstractInputJax.prototype.findMath = function (_node, _options) {</span><span class="s3">\n        </span><span class="s1">return [];</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">AbstractInputJax.prototype.executeFilters = function (filters, math, document, data) {</span><span class="s3">\n        </span><span class="s1">var args = { math: math, document: document, data: data };</span><span class="s3">\n        </span><span class="s1">filters.execute(args);</span><span class="s3">\n        </span><span class="s1">return args.data;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">AbstractInputJax.NAME = 'generic';</span><span class="s3">\n    </span><span class="s1">AbstractInputJax.OPTIONS = {};</span><span class="s3">\n    </span><span class="s1">return AbstractInputJax;</span><span class="s3">\n</span><span class="s1">}());</span><span class="s3">\n</span><span class="s1">exports.AbstractInputJax = AbstractInputJax;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=InputJax.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.newState = exports.STATE = exports.AbstractMathItem = exports.protoItem = void 0;</span><span class="s3">\n</span><span class="s1">function protoItem(open, math, close, n, start, end, display) {</span><span class="s3">\n    </span><span class="s1">if (display === void 0) { display = null; }</span><span class="s3">\n    </span><span class="s1">var item = { open: open, math: math, close: close,</span><span class="s3">\n        </span><span class="s1">n: n, start: { n: start }, end: { n: end }, display: display };</span><span class="s3">\n    </span><span class="s1">return item;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">exports.protoItem = protoItem;</span><span class="s3">\n</span><span class="s1">var AbstractMathItem = (function () {</span><span class="s3">\n    </span><span class="s1">function AbstractMathItem(math, jax, display, start, end) {</span><span class="s3">\n        </span><span class="s1">if (display === void 0) { display = true; }</span><span class="s3">\n        </span><span class="s1">if (start === void 0) { start = { i: 0, n: 0, delim: '' }; }</span><span class="s3">\n        </span><span class="s1">if (end === void 0) { end = { i: 0, n: 0, delim: '' }; }</span><span class="s3">\n        </span><span class="s1">this.root = null;</span><span class="s3">\n        </span><span class="s1">this.typesetRoot = null;</span><span class="s3">\n        </span><span class="s1">this.metrics = {};</span><span class="s3">\n        </span><span class="s1">this.inputData = {};</span><span class="s3">\n        </span><span class="s1">this.outputData = {};</span><span class="s3">\n        </span><span class="s1">this._state = exports.STATE.UNPROCESSED;</span><span class="s3">\n        </span><span class="s1">this.math = math;</span><span class="s3">\n        </span><span class="s1">this.inputJax = jax;</span><span class="s3">\n        </span><span class="s1">this.display = display;</span><span class="s3">\n        </span><span class="s1">this.start = start;</span><span class="s3">\n        </span><span class="s1">this.end = end;</span><span class="s3">\n        </span><span class="s1">this.root = null;</span><span class="s3">\n        </span><span class="s1">this.typesetRoot = null;</span><span class="s3">\n        </span><span class="s1">this.metrics = {};</span><span class="s3">\n        </span><span class="s1">this.inputData = {};</span><span class="s3">\n        </span><span class="s1">this.outputData = {};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(AbstractMathItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">isEscaped</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n        </span><span class="s1">get: function () {</span><span class="s3">\n            </span><span class="s1">return this.display === null;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">enumerable: false,</span><span class="s3">\n        </span><span class="s1">configurable: true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">AbstractMathItem.prototype.render = function (document) {</span><span class="s3">\n        </span><span class="s1">document.renderActions.renderMath(this, document);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">AbstractMathItem.prototype.rerender = function (document, start) {</span><span class="s3">\n        </span><span class="s1">if (start === void 0) { start = exports.STATE.RERENDER; }</span><span class="s3">\n        </span><span class="s1">if (this.state() &gt;= start) {</span><span class="s3">\n            </span><span class="s1">this.state(start - 1);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">document.renderActions.renderMath(this, document, start);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">AbstractMathItem.prototype.convert = function (document, end) {</span><span class="s3">\n        </span><span class="s1">if (end === void 0) { end = exports.STATE.LAST; }</span><span class="s3">\n        </span><span class="s1">document.renderActions.renderConvert(this, document, end);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">AbstractMathItem.prototype.compile = function (document) {</span><span class="s3">\n        </span><span class="s1">if (this.state() &lt; exports.STATE.COMPILED) {</span><span class="s3">\n            </span><span class="s1">this.root = this.inputJax.compile(this, document);</span><span class="s3">\n            </span><span class="s1">this.state(exports.STATE.COMPILED);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">AbstractMathItem.prototype.typeset = function (document) {</span><span class="s3">\n        </span><span class="s1">if (this.state() &lt; exports.STATE.TYPESET) {</span><span class="s3">\n            </span><span class="s1">this.typesetRoot = document.outputJax[this.isEscaped ? 'escaped' : 'typeset'](this, document);</span><span class="s3">\n            </span><span class="s1">this.state(exports.STATE.TYPESET);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">AbstractMathItem.prototype.updateDocument = function (_document) { };</span><span class="s3">\n    </span><span class="s1">AbstractMathItem.prototype.removeFromDocument = function (_restore) {</span><span class="s3">\n        </span><span class="s1">if (_restore === void 0) { _restore = false; }</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">AbstractMathItem.prototype.setMetrics = function (em, ex, cwidth, lwidth, scale) {</span><span class="s3">\n        </span><span class="s1">this.metrics = {</span><span class="s3">\n            </span><span class="s1">em: em, ex: ex,</span><span class="s3">\n            </span><span class="s1">containerWidth: cwidth,</span><span class="s3">\n            </span><span class="s1">lineWidth: lwidth,</span><span class="s3">\n            </span><span class="s1">scale: scale</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">AbstractMathItem.prototype.state = function (state, restore) {</span><span class="s3">\n        </span><span class="s1">if (state === void 0) { state = null; }</span><span class="s3">\n        </span><span class="s1">if (restore === void 0) { restore = false; }</span><span class="s3">\n        </span><span class="s1">if (state != null) {</span><span class="s3">\n            </span><span class="s1">if (state &lt; exports.STATE.INSERTED &amp;&amp; this._state &gt;= exports.STATE.INSERTED) {</span><span class="s3">\n                </span><span class="s1">this.removeFromDocument(restore);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (state &lt; exports.STATE.TYPESET &amp;&amp; this._state &gt;= exports.STATE.TYPESET) {</span><span class="s3">\n                </span><span class="s1">this.outputData = {};</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (state &lt; exports.STATE.COMPILED &amp;&amp; this._state &gt;= exports.STATE.COMPILED) {</span><span class="s3">\n                </span><span class="s1">this.inputData = {};</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this._state = state;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return this._state;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">AbstractMathItem.prototype.reset = function (restore) {</span><span class="s3">\n        </span><span class="s1">if (restore === void 0) { restore = false; }</span><span class="s3">\n        </span><span class="s1">this.state(exports.STATE.UNPROCESSED, restore);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return AbstractMathItem;</span><span class="s3">\n</span><span class="s1">}());</span><span class="s3">\n</span><span class="s1">exports.AbstractMathItem = AbstractMathItem;</span><span class="s3">\n</span><span class="s1">exports.STATE = {</span><span class="s3">\n    </span><span class="s1">UNPROCESSED: 0,</span><span class="s3">\n    </span><span class="s1">FINDMATH: 10,</span><span class="s3">\n    </span><span class="s1">COMPILED: 20,</span><span class="s3">\n    </span><span class="s1">CONVERT: 100,</span><span class="s3">\n    </span><span class="s1">METRICS: 110,</span><span class="s3">\n    </span><span class="s1">RERENDER: 125,</span><span class="s3">\n    </span><span class="s1">TYPESET: 150,</span><span class="s3">\n    </span><span class="s1">INSERTED: 200,</span><span class="s3">\n    </span><span class="s1">LAST: 10000</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">function newState(name, state) {</span><span class="s3">\n    </span><span class="s1">if (name in exports.STATE) {</span><span class="s3">\n        </span><span class="s1">throw Error('State ' + name + ' already exists');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">exports.STATE[name] = state;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">exports.newState = newState;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=MathItem.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __extends = (this &amp;&amp; this.__extends) || (function () {</span><span class="s3">\n    </span><span class="s1">var extendStatics = function (d, b) {</span><span class="s3">\n        </span><span class="s1">extendStatics = Object.setPrototypeOf ||</span><span class="s3">\n            </span><span class="s1">({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||</span><span class="s3">\n            </span><span class="s1">function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };</span><span class="s3">\n        </span><span class="s1">return extendStatics(d, b);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return function (d, b) {</span><span class="s3">\n        </span><span class="s1">if (typeof b !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; b !== null)</span><span class="s3">\n            </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Class extends value </span><span class="s3">\&quot; </span><span class="s1">+ String(b) + </span><span class="s3">\&quot; </span><span class="s1">is not a constructor or null</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">extendStatics(d, b);</span><span class="s3">\n        </span><span class="s1">function __() { this.constructor = d; }</span><span class="s3">\n        </span><span class="s1">d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">var __assign = (this &amp;&amp; this.__assign) || function () {</span><span class="s3">\n    </span><span class="s1">__assign = Object.assign || function(t) {</span><span class="s3">\n        </span><span class="s1">for (var s, i = 1, n = arguments.length; i &lt; n; i++) {</span><span class="s3">\n            </span><span class="s1">s = arguments[i];</span><span class="s3">\n            </span><span class="s1">for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))</span><span class="s3">\n                </span><span class="s1">t[p] = s[p];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return t;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return __assign.apply(this, arguments);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __read = (this &amp;&amp; this.__read) || function (o, n) {</span><span class="s3">\n    </span><span class="s1">var m = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; o[Symbol.iterator];</span><span class="s3">\n    </span><span class="s1">if (!m) return o;</span><span class="s3">\n    </span><span class="s1">var i = m.call(o), r, ar = [], e;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">while ((n === void 0 || n-- &gt; 0) &amp;&amp; !(r = i.next()).done) ar.push(r.value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (error) { e = { error: error }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (r &amp;&amp; !r.done &amp;&amp; (m = i[</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">])) m.call(i);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e) throw e.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return ar;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.TeX = void 0;</span><span class="s3">\n</span><span class="s1">var InputJax_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../core/InputJax.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var Options_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../util/Options.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var FindTeX_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./tex/FindTeX.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var FilterUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">./tex/FilterUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var NodeUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">./tex/NodeUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexParser_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">./tex/TexParser.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var TexError_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">./tex/TexError.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var ParseOptions_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">./tex/ParseOptions.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var Tags_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./tex/Tags.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var Configuration_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">./tex/Configuration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">require(</span><span class="s3">\&quot;</span><span class="s1">./tex/base/BaseConfiguration.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var TeX = (function (_super) {</span><span class="s3">\n    </span><span class="s1">__extends(TeX, _super);</span><span class="s3">\n    </span><span class="s1">function TeX(options) {</span><span class="s3">\n        </span><span class="s1">if (options === void 0) { options = {}; }</span><span class="s3">\n        </span><span class="s1">var _this = this;</span><span class="s3">\n        </span><span class="s1">var _a = __read((0, Options_js_1.separateOptions)(options, TeX.OPTIONS, FindTeX_js_1.FindTeX.OPTIONS), 3), rest = _a[0], tex = _a[1], find = _a[2];</span><span class="s3">\n        </span><span class="s1">_this = _super.call(this, tex) || this;</span><span class="s3">\n        </span><span class="s1">_this.findTeX = _this.options['FindTeX'] || new FindTeX_js_1.FindTeX(find);</span><span class="s3">\n        </span><span class="s1">var packages = _this.options.packages;</span><span class="s3">\n        </span><span class="s1">var configuration = _this.configuration = TeX.configure(packages);</span><span class="s3">\n        </span><span class="s1">var parseOptions = _this._parseOptions =</span><span class="s3">\n            </span><span class="s1">new ParseOptions_js_1.default(configuration, [_this.options, Tags_js_1.TagsFactory.OPTIONS]);</span><span class="s3">\n        </span><span class="s1">(0, Options_js_1.userOptions)(parseOptions.options, rest);</span><span class="s3">\n        </span><span class="s1">configuration.config(_this);</span><span class="s3">\n        </span><span class="s1">TeX.tags(parseOptions, configuration);</span><span class="s3">\n        </span><span class="s1">_this.postFilters.add(FilterUtil_js_1.default.cleanSubSup, -6);</span><span class="s3">\n        </span><span class="s1">_this.postFilters.add(FilterUtil_js_1.default.setInherited, -5);</span><span class="s3">\n        </span><span class="s1">_this.postFilters.add(FilterUtil_js_1.default.moveLimits, -4);</span><span class="s3">\n        </span><span class="s1">_this.postFilters.add(FilterUtil_js_1.default.cleanStretchy, -3);</span><span class="s3">\n        </span><span class="s1">_this.postFilters.add(FilterUtil_js_1.default.cleanAttributes, -2);</span><span class="s3">\n        </span><span class="s1">_this.postFilters.add(FilterUtil_js_1.default.combineRelations, -1);</span><span class="s3">\n        </span><span class="s1">return _this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">TeX.configure = function (packages) {</span><span class="s3">\n        </span><span class="s1">var configuration = new Configuration_js_1.ParserConfiguration(packages, ['tex']);</span><span class="s3">\n        </span><span class="s1">configuration.init();</span><span class="s3">\n        </span><span class="s1">return configuration;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">TeX.tags = function (options, configuration) {</span><span class="s3">\n        </span><span class="s1">Tags_js_1.TagsFactory.addTags(configuration.tags);</span><span class="s3">\n        </span><span class="s1">Tags_js_1.TagsFactory.setDefault(options.options.tags);</span><span class="s3">\n        </span><span class="s1">options.tags = Tags_js_1.TagsFactory.getDefault();</span><span class="s3">\n        </span><span class="s1">options.tags.configuration = options;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">TeX.prototype.setMmlFactory = function (mmlFactory) {</span><span class="s3">\n        </span><span class="s1">_super.prototype.setMmlFactory.call(this, mmlFactory);</span><span class="s3">\n        </span><span class="s1">this._parseOptions.nodeFactory.setMmlFactory(mmlFactory);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">Object.defineProperty(TeX.prototype, </span><span class="s3">\&quot;</span><span class="s1">parseOptions</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n        </span><span class="s1">get: function () {</span><span class="s3">\n            </span><span class="s1">return this._parseOptions;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">enumerable: false,</span><span class="s3">\n        </span><span class="s1">configurable: true</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">TeX.prototype.reset = function (tag) {</span><span class="s3">\n        </span><span class="s1">if (tag === void 0) { tag = 0; }</span><span class="s3">\n        </span><span class="s1">this.parseOptions.tags.reset(tag);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">TeX.prototype.compile = function (math, document) {</span><span class="s3">\n        </span><span class="s1">this.parseOptions.clear();</span><span class="s3">\n        </span><span class="s1">this.executeFilters(this.preFilters, math, document, this.parseOptions);</span><span class="s3">\n        </span><span class="s1">var display = math.display;</span><span class="s3">\n        </span><span class="s1">this.latex = math.math;</span><span class="s3">\n        </span><span class="s1">var node;</span><span class="s3">\n        </span><span class="s1">this.parseOptions.tags.startEquation(math);</span><span class="s3">\n        </span><span class="s1">var globalEnv;</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">var parser = new TexParser_js_1.default(this.latex, { display: display, isInner: false }, this.parseOptions);</span><span class="s3">\n            </span><span class="s1">node = parser.mml();</span><span class="s3">\n            </span><span class="s1">globalEnv = parser.stack.global;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">catch (err) {</span><span class="s3">\n            </span><span class="s1">if (!(err instanceof TexError_js_1.default)) {</span><span class="s3">\n                </span><span class="s1">throw err;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.parseOptions.error = true;</span><span class="s3">\n            </span><span class="s1">node = this.options.formatError(this, err);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">node = this.parseOptions.nodeFactory.create('node', 'math', [node]);</span><span class="s3">\n        </span><span class="s1">if (globalEnv === null || globalEnv === void 0 ? void 0 : globalEnv.indentalign) {</span><span class="s3">\n            </span><span class="s1">NodeUtil_js_1.default.setAttribute(node, 'indentalign', globalEnv.indentalign);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (display) {</span><span class="s3">\n            </span><span class="s1">NodeUtil_js_1.default.setAttribute(node, 'display', 'block');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.parseOptions.tags.finishEquation(math);</span><span class="s3">\n        </span><span class="s1">this.parseOptions.root = node;</span><span class="s3">\n        </span><span class="s1">this.executeFilters(this.postFilters, math, document, this.parseOptions);</span><span class="s3">\n        </span><span class="s1">this.mathNode = this.parseOptions.root;</span><span class="s3">\n        </span><span class="s1">return this.mathNode;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">TeX.prototype.findMath = function (strings) {</span><span class="s3">\n        </span><span class="s1">return this.findTeX.findMath(strings);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">TeX.prototype.formatError = function (err) {</span><span class="s3">\n        </span><span class="s1">var message = err.message.replace(/</span><span class="s3">\\</span><span class="s1">n.*/, '');</span><span class="s3">\n        </span><span class="s1">return this.parseOptions.nodeFactory.create('error', message, err.id, this.latex);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">TeX.NAME = 'TeX';</span><span class="s3">\n    </span><span class="s1">TeX.OPTIONS = __assign(__assign({}, InputJax_js_1.AbstractInputJax.OPTIONS), { FindTeX: null, packages: ['base'], digits: /^(?:[0-9]+(?:</span><span class="s3">\\</span><span class="s1">{,</span><span class="s3">\\</span><span class="s1">}[0-9]{3})*(?:</span><span class="s3">\\</span><span class="s1">.[0-9]*)?|</span><span class="s3">\\</span><span class="s1">.[0-9]+)/, maxBuffer: 5 * 1024, formatError: function (jax, err) { return jax.formatError(err); } });</span><span class="s3">\n    </span><span class="s1">return TeX;</span><span class="s3">\n</span><span class="s1">}(InputJax_js_1.AbstractInputJax));</span><span class="s3">\n</span><span class="s1">exports.TeX = TeX;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=tex.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __values = (this &amp;&amp; this.__values) || function(o) {</span><span class="s3">\n    </span><span class="s1">var s = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Symbol.iterator, m = s &amp;&amp; o[s], i = 0;</span><span class="s3">\n    </span><span class="s1">if (m) return m.call(o);</span><span class="s3">\n    </span><span class="s1">if (o &amp;&amp; typeof o.length === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) return {</span><span class="s3">\n        </span><span class="s1">next: function () {</span><span class="s3">\n            </span><span class="s1">if (o &amp;&amp; i &gt;= o.length) o = void 0;</span><span class="s3">\n            </span><span class="s1">return { value: o &amp;&amp; o[i++], done: !o };</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">throw new TypeError(s ? </span><span class="s3">\&quot;</span><span class="s1">Object is not iterable.</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Symbol.iterator is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {</span><span class="s3">\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">: mod };</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">var MmlNode_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../core/MmlTree/MmlNode.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var NodeUtil_js_1 = __importDefault(require(</span><span class="s3">\&quot;</span><span class="s1">./NodeUtil.js</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">var FilterUtil;</span><span class="s3">\n</span><span class="s1">(function (FilterUtil) {</span><span class="s3">\n    </span><span class="s1">FilterUtil.cleanStretchy = function (arg) {</span><span class="s3">\n        </span><span class="s1">var e_1, _a;</span><span class="s3">\n        </span><span class="s1">var options = arg.data;</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">for (var _b = __values(options.getList('fixStretchy')), _c = _b.next(); !_c.done; _c = _b.next()) {</span><span class="s3">\n                </span><span class="s1">var mo = _c.value;</span><span class="s3">\n                </span><span class="s1">if (NodeUtil_js_1.default.getProperty(mo, 'fixStretchy')) {</span><span class="s3">\n                    </span><span class="s1">var symbol = NodeUtil_js_1.default.getForm(mo);</span><span class="s3">\n                    </span><span class="s1">if (symbol &amp;&amp; symbol[3] &amp;&amp; symbol[3]['stretchy']) {</span><span class="s3">\n                        </span><span class="s1">NodeUtil_js_1.default.setAttribute(mo, 'stretchy', false);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">var parent_1 = mo.parent;</span><span class="s3">\n                    </span><span class="s1">if (!NodeUtil_js_1.default.getTexClass(mo) &amp;&amp; (!symbol || !symbol[2])) {</span><span class="s3">\n                        </span><span class="s1">var texAtom = options.nodeFactory.create('node', 'TeXAtom', [mo]);</span><span class="s3">\n                        </span><span class="s1">parent_1.replaceChild(texAtom, mo);</span><span class="s3">\n                        </span><span class="s1">texAtom.inheritAttributesFrom(mo);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">NodeUtil_js_1.default.removeProperties(mo, 'fixStretchy');</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">catch (e_1_1) { e_1 = { error: e_1_1 }; }</span><span class="s3">\n        </span><span class="s1">finally {</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">if (_c &amp;&amp; !_c.done &amp;&amp; (_a = _b.return)) _a.call(_b);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">finally { if (e_1) throw e_1.error; }</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">FilterUtil.cleanAttributes = function (arg) {</span><span class="s3">\n        </span><span class="s1">var node = arg.data.root;</span><span class="s3">\n        </span><span class="s1">node.walkTree(function (mml, _d) {</span><span class="s3">\n            </span><span class="s1">var e_2, _a;</span><span class="s3">\n            </span><span class="s1">var attribs = mml.attributes;</span><span class="s3">\n            </span><span class="s1">if (!attribs) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">var keep = new Set((attribs.get('mjx-keep-attrs') || '').split(/ /));</span><span class="s3">\n            </span><span class="s1">delete (attribs.getAllAttributes())['mjx-keep-attrs'];</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">for (var _b = __values(attribs.getExplicitNames()), _c = _b.next(); !_c.done; _c = _b.next()) {</span><span class="s3">\n                    </span><span class="s1">var key = _c.value;</span><span class="s3">\n                    </span><span class="s1">if (!keep.has(key) &amp;&amp; attribs.attributes[key] === mml.attributes.getInherited(key)) {</span><span class="s3">\n                        </span><span class="s1">delete attribs.attributes[key];</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">catch (e_2_1) { e_2 = { error: e_2_1 }; }</span><span class="s3">\n            </span><span class="s1">finally {</span><span class="s3">\n                </span><span class="s1">try {</span><span class="s3">\n                    </span><span class="s1">if (_c &amp;&amp; !_c.done &amp;&amp; (_a = _b.return)) _a.call(_b);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">finally { if (e_2) throw e_2.error; }</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}, {});</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">FilterUtil.combineRelations = function (arg) {</span><span class="s3">\n        </span><span class="s1">var e_3, _a, e_4, _b;</span><span class="s3">\n        </span><span class="s1">var remove = [];</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">for (var _c = __values(arg.data.getList('mo')), _e = _c.next(); !_e.done; _e = _c.next()) {</span><span class="s3">\n                </span><span class="s1">var mo = _e.value;</span><span class="s3">\n                </span><span class="s1">if (mo.getProperty('relationsCombined') || !mo.parent ||</span><span class="s3">\n                    </span><span class="s1">(mo.parent &amp;&amp; !NodeUtil_js_1.default.isType(mo.parent, 'mrow')) ||</span><span class="s3">\n                    </span><span class="s1">NodeUtil_js_1.default.getTexClass(mo) !== MmlNode_js_1.TEXCLASS.REL) {</span><span class="s3">\n                    </span><span class="s1">continue;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">var mml = mo.parent;</span><span class="s3">\n                </span><span class="s1">var m2 = void 0;</span><span class="s3">\n                </span><span class="s1">var children = mml.childNodes;</span><span class="s3">\n                </span><span class="s1">var next = children.indexOf(mo) + 1;</span><span class="s3">\n                </span><span class="s1">var variantForm = NodeUtil_js_1.default.getProperty(mo, 'variantForm');</span><span class="s3">\n                </span><span class="s1">while (next &lt; children.length &amp;&amp; (m2 = children[next]) &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">NodeUtil_js_1.default.isType(m2, 'mo') &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">NodeUtil_js_1.default.getTexClass(m2) === MmlNode_js_1.TEXCLASS.REL) {</span><span class="s3">\n                    </span><span class="s1">if (variantForm === NodeUtil_js_1.default.getProperty(m2, 'variantForm') &amp;&amp;</span><span class="s3">\n                        </span><span class="s1">_compareExplicit(mo, m2)) {</span><span class="s3">\n                        </span><span class="s1">NodeUtil_js_1.default.appendChildren(mo, NodeUtil_js_1.default.getChildren(m2));</span><span class="s3">\n                        </span><span class="s1">_copyExplicit(['stretchy', 'rspace'], mo, m2);</span><span class="s3">\n                        </span><span class="s1">try {</span><span class="s3">\n                            </span><span class="s1">for (var _f = (e_4 = void 0, __values(m2.getPropertyNames())), _g = _f.next(); !_g.done; _g = _f.next()) {</span><span class="s3">\n                                </span><span class="s1">var name_1 = _g.value;</span><span class="s3">\n                                </span><span class="s1">mo.setProperty(name_1, m2.getProperty(name_1));</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">catch (e_4_1) { e_4 = { error: e_4_1 }; }</span><span class="s3">\n                        </span><span class="s1">finally {</span><span class="s3">\n                            </span><span class="s1">try {</span><span class="s3">\n                                </span><span class="s1">if (_g &amp;&amp; !_g.done &amp;&amp; (_b = _f.return)) _b.call(_f);</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">finally { if (e_4) throw e_4.error; }</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">children.splice(next, 1);</span><span class="s3">\n                        </span><span class="s1">remove.push(m2);</span><span class="s3">\n                        </span><span class="s1">m2.parent = null;</span><span class="s3">\n                        </span><span class="s1">m2.setProperty('relationsCombined', true);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">if (mo.attributes.getExplicit('rspace') == null) {</span><span class="s3">\n                            </span><span class="s1">NodeUtil_js_1.default.setAttribute(mo, 'rspace', '0pt');</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">if (m2.attributes.getExplicit('lspace') == null) {</span><span class="s3">\n                            </span><span class="s1">NodeUtil_js_1.default.setAttribute(m2, 'lspace', '0pt');</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">break;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">mo.attributes.setInherited('form', mo.getForms()[0]);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">catch (e_3_1) { e_3 = { error: e_3_1 }; }</span><span class="s3">\n        </span><span class="s1">finally {</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">if (_e &amp;&amp; !_e.done &amp;&amp; (_a = _c.return)) _a.call(_c);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">finally { if (e_3) throw e_3.error; }</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">arg.data.removeFromList('mo', remove);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">var _copyExplicit = function (attrs, node1, node2) {</span><span class="s3">\n        </span><span class="s1">var attr1 = node1.attributes;</span><span class="s3">\n        </span><span class="s1">var attr2 = node2.attributes;</span><span class="s3">\n        </span><span class="s1">attrs.forEach(function (x) {</span><span class="s3">\n            </span><span class="s1">var attr = attr2.getExplicit(x);</span><span class="s3">\n            </span><span class="s1">if (attr != null) {</span><span class="s3">\n                </span><span class="s1">attr1.set(x, attr);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">var _compareExplicit = function (node1, node2) {</span><span class="s3">\n        </span><span class="s1">var e_5, _a;</span><span class="s3">\n        </span><span class="s1">var filter = function (attr, space) {</span><span class="s3">\n            </span><span class="s1">var exp = attr.getExplicitNames();</span><span class="s3">\n            </span><span class="s1">return exp.filter(function (x) {</span><span class="s3">\n                </span><span class="s1">return x !== space &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">(x !== 'stretchy' ||</span><span class="s3">\n                        </span><span class="s1">attr.getExplicit('stretchy'));</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">var attr1 = node1.attributes;</span><span class="s3">\n        </span><span class="s1">var attr2 = node2.attributes;</span><span class="s3">\n        </span><span class="s1">var exp1 = filter(attr1, 'lspace');</span><span class="s3">\n        </span><span class="s1">var exp2 = filter(attr2, 'rspace');</span><span class="s3">\n        </span><span class="s1">if (exp1.length !== exp2.length) {</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">for (var exp1_1 = __values(exp1), exp1_1_1 = exp1_1.next(); !exp1_1_1.done; exp1_1_1 = exp1_1.next()) {</span><span class="s3">\n                </span><span class="s1">var name_2 = exp1_1_1.value;</span><span class="s3">\n                </span><span class="s1">if (attr1.getExplicit(name_2) !== attr2.getExplicit(name_2)) {</span><span class="s3">\n                    </span><span class="s1">return false;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">catch (e_5_1) { e_5 = { error: e_5_1 }; }</span><span class="s3">\n        </span><span class="s1">finally {</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">if (exp1_1_1 &amp;&amp; !exp1_1_1.done &amp;&amp; (_a = exp1_1.return)) _a.call(exp1_1);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">finally { if (e_5) throw e_5.error; }</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">var _cleanSubSup = function (options, low, up) {</span><span class="s3">\n        </span><span class="s1">var e_6, _a;</span><span class="s3">\n        </span><span class="s1">var remove = [];</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">for (var _b = __values(options.getList('m' + low + up)), _c = _b.next(); !_c.done; _c = _b.next()) {</span><span class="s3">\n                </span><span class="s1">var mml = _c.value;</span><span class="s3">\n                </span><span class="s1">var children = mml.childNodes;</span><span class="s3">\n                </span><span class="s1">if (children[mml[low]] &amp;&amp; children[mml[up]]) {</span><span class="s3">\n                    </span><span class="s1">continue;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">var parent_2 = mml.parent;</span><span class="s3">\n                </span><span class="s1">var newNode = (children[mml[low]] ?</span><span class="s3">\n                    </span><span class="s1">options.nodeFactory.create('node', 'm' + low, [children[mml.base], children[mml[low]]]) :</span><span class="s3">\n                    </span><span class="s1">options.nodeFactory.create('node', 'm' + up, [children[mml.base], children[mml[up]]]));</span><span class="s3">\n                </span><span class="s1">NodeUtil_js_1.default.copyAttributes(mml, newNode);</span><span class="s3">\n                </span><span class="s1">if (parent_2) {</span><span class="s3">\n                    </span><span class="s1">parent_2.replaceChild(newNode, mml);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">options.root = newNode;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">remove.push(mml);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">catch (e_6_1) { e_6 = { error: e_6_1 }; }</span><span class="s3">\n        </span><span class="s1">finally {</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">if (_c &amp;&amp; !_c.done &amp;&amp; (_a = _b.return)) _a.call(_b);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">finally { if (e_6) throw e_6.error; }</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">options.removeFromList('m' + low + up, remove);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">FilterUtil.cleanSubSup = function (arg) {</span><span class="s3">\n        </span><span class="s1">var options = arg.data;</span><span class="s3">\n        </span><span class="s1">if (options.error) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">_cleanSubSup(options, 'sub', 'sup');</span><span class="s3">\n        </span><span class="s1">_cleanSubSup(options, 'under', 'over');</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">var _moveLimits = function (options, underover, subsup) {</span><span class="s3">\n        </span><span class="s1">var e_7, _a;</span><span class="s3">\n        </span><span class="s1">var remove = [];</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">for (var _b = __values(options.getList(underover)), _c = _b.next(); !_c.done; _c = _b.next()) {</span><span class="s3">\n                </span><span class="s1">var mml = _c.value;</span><span class="s3">\n                </span><span class="s1">if (mml.attributes.get('displaystyle')) {</span><span class="s3">\n                    </span><span class="s1">continue;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">var base = mml.childNodes[mml.base];</span><span class="s3">\n                </span><span class="s1">var mo = base.coreMO();</span><span class="s3">\n                </span><span class="s1">if (base.getProperty('movablelimits') &amp;&amp; !mo.attributes.getExplicit('movablelimits')) {</span><span class="s3">\n                    </span><span class="s1">var node = options.nodeFactory.create('node', subsup, mml.childNodes);</span><span class="s3">\n                    </span><span class="s1">NodeUtil_js_1.default.copyAttributes(mml, node);</span><span class="s3">\n                    </span><span class="s1">if (mml.parent) {</span><span class="s3">\n                        </span><span class="s1">mml.parent.replaceChild(node, mml);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">options.root = node;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">remove.push(mml);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">catch (e_7_1) { e_7 = { error: e_7_1 }; }</span><span class="s3">\n        </span><span class="s1">finally {</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">if (_c &amp;&amp; !_c.done &amp;&amp; (_a = _b.return)) _a.call(_b);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">finally { if (e_7) throw e_7.error; }</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">options.removeFromList(underover, remove);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">FilterUtil.moveLimits = function (arg) {</span><span class="s3">\n        </span><span class="s1">var options = arg.data;</span><span class="s3">\n        </span><span class="s1">_moveLimits(options, 'munderover', 'msubsup');</span><span class="s3">\n        </span><span class="s1">_moveLimits(options, 'munder', 'msub');</span><span class="s3">\n        </span><span class="s1">_moveLimits(options, 'mover', 'msup');</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">FilterUtil.setInherited = function (arg) {</span><span class="s3">\n        </span><span class="s1">arg.data.root.setInheritedAttributes({}, arg.math['display'], 0, false);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})(FilterUtil || (FilterUtil = {}));</span><span class="s3">\n</span><span class="s1">exports.default = FilterUtil;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=FilterUtil.js.map&quot;</span><span class="s0">,</span><span class="s1">&quot;</span><span class="s3">\&quot;</span><span class="s1">use strict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">var __extends = (this &amp;&amp; this.__extends) || (function () {</span><span class="s3">\n    </span><span class="s1">var extendStatics = function (d, b) {</span><span class="s3">\n        </span><span class="s1">extendStatics = Object.setPrototypeOf ||</span><span class="s3">\n            </span><span class="s1">({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||</span><span class="s3">\n            </span><span class="s1">function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };</span><span class="s3">\n        </span><span class="s1">return extendStatics(d, b);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return function (d, b) {</span><span class="s3">\n        </span><span class="s1">if (typeof b !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; b !== null)</span><span class="s3">\n            </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Class extends value </span><span class="s3">\&quot; </span><span class="s1">+ String(b) + </span><span class="s3">\&quot; </span><span class="s1">is not a constructor or null</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">extendStatics(d, b);</span><span class="s3">\n        </span><span class="s1">function __() { this.constructor = d; }</span><span class="s3">\n        </span><span class="s1">d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">var __read = (this &amp;&amp; this.__read) || function (o, n) {</span><span class="s3">\n    </span><span class="s1">var m = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; o[Symbol.iterator];</span><span class="s3">\n    </span><span class="s1">if (!m) return o;</span><span class="s3">\n    </span><span class="s1">var i = m.call(o), r, ar = [], e;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">while ((n === void 0 || n-- &gt; 0) &amp;&amp; !(r = i.next()).done) ar.push(r.value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (error) { e = { error: error }; }</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (r &amp;&amp; !r.done &amp;&amp; (m = i[</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">])) m.call(i);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">finally { if (e) throw e.error; }</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return ar;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">Object.defineProperty(exports, </span><span class="s3">\&quot;</span><span class="s1">__esModule</span><span class="s3">\&quot;</span><span class="s1">, { value: true });</span><span class="s3">\n</span><span class="s1">exports.FindTeX = void 0;</span><span class="s3">\n</span><span class="s1">var FindMath_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../core/FindMath.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var string_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../util/string.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var MathItem_js_1 = require(</span><span class="s3">\&quot;</span><span class="s1">../../core/MathItem.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var FindTeX = (function (_super) {</span><span class="s3">\n    </span><span class="s1">__extends(FindTeX, _super);</span><span class="s3">\n    </span><span class="s1">function FindTeX(options) {</span><span class="s3">\n        </span><span class="s1">var _this = _super.call(this, options) || this;</span><span class="s3">\n        </span><span class="s1">_this.getPatterns();</span><span class="s3">\n        </span><span class="s1">return _this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">FindTeX.prototype.getPatterns = function () {</span><span class="s3">\n        </span><span class="s1">var _this = this;</span><span class="s3">\n        </span><span class="s1">var options = this.options;</span><span class="s3">\n        </span><span class="s1">var starts = [], parts = [], subparts = [];</span><span class="s3">\n        </span><span class="s1">this.end = {};</span><span class="s3">\n        </span><span class="s1">this.env = this.sub = 0;</span><span class="s3">\n        </span><span class="s1">var i = 1;</span><span class="s3">\n        </span><span class="s1">options['inlineMath'].forEach(function (delims) { return _this.addPattern(starts, delims, false); });</span><span class="s3">\n        </span><span class="s1">options['displayMath'].forEach(function (delims) { return _this.addPattern(starts, delims, true); });</span><span class="s3">\n        </span><span class="s1">if (starts.length) {</span><span class="s3">\n            </span><span class="s1">parts.push(starts.sort(string_js_1.sortLength).join('|'));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (options['processEnvironments']) {</span><span class="s3">\n            </span><span class="s1">parts.push('</span><span class="s3">\\\\\\\\</span><span class="s1">begin</span><span class="s3">\\\\</span><span class="s1">s*</span><span class="s3">\\\\</span><span class="s1">{([^}]*)</span><span class="s3">\\\\</span><span class="s1">}');</span><span class="s3">\n            </span><span class="s1">this.env = i;</span><span class="s3">\n            </span><span class="s1">i++;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (options['processEscapes']) {</span><span class="s3">\n            </span><span class="s1">subparts.push('</span><span class="s3">\\\\\\\\</span><span class="s1">([</span><span class="s3">\\\\\\\\</span><span class="s1">$])');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (options['processRefs']) {</span><span class="s3">\n            </span><span class="s1">subparts.push('(</span><span class="s3">\\\\\\\\</span><span class="s1">(?:eq)?ref</span><span class="s3">\\\\</span><span class="s1">s*</span><span class="s3">\\\\</span><span class="s1">{[^}]*</span><span class="s3">\\\\</span><span class="s1">})');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (subparts.length) {</span><span class="s3">\n            </span><span class="s1">parts.push('(' + subparts.join('|') + ')');</span><span class="s3">\n            </span><span class="s1">this.sub = i;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.start = new RegExp(parts.join('|'), 'g');</span><span class="s3">\n        </span><span class="s1">this.hasPatterns = (parts.length &gt; 0);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">FindTeX.prototype.addPattern = function (starts, delims, display) {</span><span class="s3">\n        </span><span class="s1">var _a = __read(delims, 2), open = _a[0], close = _a[1];</span><span class="s3">\n        </span><span class="s1">starts.push((0, string_js_1.quotePattern)(open));</span><span class="s3">\n        </span><span class="s1">this.end[open] = [close, display, this.endPattern(close)];</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">FindTeX.prototype.endPattern = function (end, endp) {</span><span class="s3">\n        </span><span class="s1">return new RegExp((endp || (0, string_js_1.quotePattern)(end)) + '|</span><span class="s3">\\\\\\\\</span><span class="s1">(?:[a-zA-Z]|.)|[{}]', 'g');</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">FindTeX.prototype.findEnd = function (text, n, start, end) {</span><span class="s3">\n        </span><span class="s1">var _a = __read(end, 3), close = _a[0], display = _a[1], pattern = _a[2];</span><span class="s3">\n        </span><span class="s1">var i = pattern.lastIndex = start.index + start[0].length;</span><span class="s3">\n        </span><span class="s1">var match, braces = 0;</span><span class="s3">\n        </span><span class="s1">while ((match = pattern.exec(text))) {</span><span class="s3">\n            </span><span class="s1">if ((match[1] || match[0]) === close &amp;&amp; braces === 0) {</span><span class="s3">\n                </span><span class="s1">return (0, MathItem_js_1.protoItem)(start[0], text.substr(i, match.index - i), match[0], n, start.index, match.index + match[0].length, display);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (match[0] === '{') {</span><span class="s3">\n                </span><span class="s1">braces++;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (match[0] === '}' &amp;&amp; braces) {</span><span class="s3">\n                </span><span class="s1">braces--;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">FindTeX.prototype.findMathInString = function (math, n, text) {</span><span class="s3">\n        </span><span class="s1">var start, match;</span><span class="s3">\n        </span><span class="s1">this.start.lastIndex = 0;</span><span class="s3">\n        </span><span class="s1">while ((start = this.start.exec(text))) {</span><span class="s3">\n            </span><span class="s1">if (start[this.env] !== undefined &amp;&amp; this.env) {</span><span class="s3">\n                </span><span class="s1">var end = '</span><span class="s3">\\\\\\\\</span><span class="s1">end</span><span class="s3">\\\\</span><span class="s1">s*(</span><span class="s3">\\\\</span><span class="s1">{' + (0, string_js_1.quotePattern)(start[this.env]) + '</span><span class="s3">\\\\</span><span class="s1">})';</span><span class="s3">\n                </span><span class="s1">match = this.findEnd(text, n, start, ['{' + start[this.env] + '}', true, this.endPattern(null, end)]);</span><span class="s3">\n                </span><span class="s1">if (match) {</span><span class="s3">\n                    </span><span class="s1">match.math = match.open + match.math + match.close;</span><span class="s3">\n                    </span><span class="s1">match.open = match.close = '';</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (start[this.sub] !== undefined &amp;&amp; this.sub) {</span><span class="s3">\n                </span><span class="s1">var math_1 = start[this.sub];</span><span class="s3">\n                </span><span class="s1">var end = start.index + start[this.sub].length;</span><span class="s3">\n                </span><span class="s1">if (math_1.length === 2) {</span><span class="s3">\n                    </span><span class="s1">match = (0, MathItem_js_1.protoItem)('', math_1.substr(1), '', n, start.index, end);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">match = (0, MathItem_js_1.protoItem)('', math_1, '', n, start.index, end, false);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">match = this.findEnd(text, n, start, this.end[start[0]]);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (match) {</span><span class="s3">\n                </span><span class="s1">math.push(match);</span><span class="s3">\n                </span><span class="s1">this.start.lastIndex = match.end.n;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">FindTeX.prototype.findMath = function (strings) {</span><span class="s3">\n        </span><span class="s1">var math = [];</span><span class="s3">\n        </span><span class="s1">if (this.hasPatterns) {</span><span class="s3">\n            </span><span class="s1">for (var i = 0, m = strings.length; i &lt; m; i++) {</span><span class="s3">\n                </span><span class="s1">this.findMathInString(math, i, strings[i]);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return math;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">FindTeX.OPTIONS = {</span><span class="s3">\n        </span><span class="s1">inlineMath: [</span><span class="s3">\n            </span><span class="s1">['</span><span class="s3">\\\\</span><span class="s1">(', '</span><span class="s3">\\\\</span><span class="s1">)']</span><span class="s3">\n        </span><span class="s1">],</span><span class="s3">\n        </span><span class="s1">displayMath: [</span><span class="s3">\n            </span><span class="s1">['$$', '$$'],</span><span class="s3">\n            </span><span class="s1">['</span><span class="s3">\\\\</span><span class="s1">[', '</span><span class="s3">\\\\</span><span class="s1">]']</span><span class="s3">\n        </span><span class="s1">],</span><span class="s3">\n        </span><span class="s1">processEscapes: true,</span><span class="s3">\n        </span><span class="s1">processEnvironments: true,</span><span class="s3">\n        </span><span class="s1">processRefs: true,</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">return FindTeX;</span><span class="s3">\n</span><span class="s1">}(FindMath_js_1.AbstractFindMath));</span><span class="s3">\n</span><span class="s1">exports.FindTeX = FindTeX;</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=FindTeX.js.map&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;sourceRoot&quot;</span><span class="s0">:</span><span class="s1">&quot;&quot;</span><span class="s0">}</span></pre>
</body>
</html>