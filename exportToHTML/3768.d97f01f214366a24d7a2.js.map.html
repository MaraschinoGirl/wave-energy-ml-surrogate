<html>
<head>
<title>3768.d97f01f214366a24d7a2.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
3768.d97f01f214366a24d7a2.js.map</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;3768.d97f01f214366a24d7a2.js?v=d97f01f214366a24d7a2&quot;</span><span class="s0">,</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACmF;AACzD;AACnB;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,yCAAyC;AACzD;AACA;AACA,4BAA4B,qBAAW,QAAQ,sCAAmB,UAAU,oBAAoB;AAChG;AACA;AACA;AACA;AACA;AACA,2BAA2B,qBAAW,QAAQ,sCAAmB,CAAC,uCAA6B,IAAI,oDAAoD,OAAO,WAAW,eAAe,mBAAmB;AAC3M,sCAAsC,OAAO;AAC7C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACnDA;AACA;AACkH;AAC/D;AAC2C;AAC/B;AACgB;AACe;AACxC;AAC8B;AACzC;AACK;AAC2B;AACxB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gCAAgC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qCAAW;AAC1B,eAAe,gCAAsB;AACrC;AACA;AACA;AACA,gBAAgB,2BAA2B;AAC3C;AACA;AACA,mCAAmC,kBAAkB;AACrD;AACA,4BAA4B,0BAAO;AACnC,4BAA4B,uBAAI,GAAG,UAAU;AAC7C;AACA,6BAA6B,yCAAa;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,oCAAoC;AAChE;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,SAAS;AAC3C,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,oCAAoC,0BAAO;AAC3C;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6CAAmB,EAAE,gCAAsB,EAAE,qCAAW;AACvE;AACA;AACA;AACA,qCAAqC,oBAAM;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB,WAAW;AAC3B,gCAAgC,kBAAkB;AAClD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6CAAmB;AAClC,eAAe,8CAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAe;AAC9B;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,8CAAgB;AAC/B;AACA,gBAAgB,aAAa,EAAE,wBAAU;AACzC;AACA,iCAAiC,wBAAU;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,GAAG;AACpE;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gCAAa,EAAE,6CAAmB;AACjD;AACA;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,6CAAmB;AAC3B,QAAQ,qCAAW;AACnB,QAAQ,8CAAgB;AACxB,QAAQ,gCAAsB;AAC9B,QAAQ,6CAAmB;AAC3B;AACA;AACA,QAAQ,6CAAuB;AAC/B,QAAQ,iDAAqB;AAC7B,QAAQ,qDAAyB;AACjC;AACA;AACA,cAAc,gCAAa;AAC3B;AACA,iCAAiC,qCAAkB;AACnD;AACA;AACA;AACA;AACA,6BAA6B,sCAAU;AACvC;AACA;AACA;AACA,sFAAsF,kCAAQ;AAC9F;AACA;AACA;AACA,SAAS;AACT,QAAQ,wBAAU,UAAU,kCAAoB;AAChD;AACA,gCAAgC,qCAAe;AAC/C;AACA;AACA,iCAAiC,uCAAW;AAC5C;AACA;AACA;AACA,8CAA8C,WAAW;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAe,OAAO,EAAC&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../packages/tree-extension/lib/fileactions.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../packages/tree-extension/lib/index.js&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { CommandToolbarButtonComponent, ReactWidget, } from '@jupyterlab/apputils';</span><span class="s3">\n</span><span class="s1">import React from 'react';</span><span class="s3">\n</span><span class="s1">export class FilesActionButtons {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The constructor of FilesActionButtons.</span><span class="s3">\n     </span><span class="s1">* @param options</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(options) {</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Triggered when the selection change in file browser.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this._onSelectionChanged = () =&gt; {</span><span class="s3">\n            </span><span class="s1">var _a, _b, _c, _d, _e, _f;</span><span class="s3">\n            </span><span class="s1">const selectedItems = Array.from(this._browser.selectedItems());</span><span class="s3">\n            </span><span class="s1">const selection = selectedItems.length &gt; 0;</span><span class="s3">\n            </span><span class="s1">const oneFolder = selectedItems.some((item) =&gt; item.type === 'directory');</span><span class="s3">\n            </span><span class="s1">(_a = this._widgets.get('placeholder')) === null || _a === void 0 ? void 0 : _a.setHidden(selection);</span><span class="s3">\n            </span><span class="s1">(_b = this._widgets.get('delete')) === null || _b === void 0 ? void 0 : _b.setHidden(!selection);</span><span class="s3">\n            </span><span class="s1">(_c = this._widgets.get('duplicate')) === null || _c === void 0 ? void 0 : _c.setHidden(!selection || oneFolder);</span><span class="s3">\n            </span><span class="s1">(_d = this._widgets.get('download')) === null || _d === void 0 ? void 0 : _d.setHidden(!selection || oneFolder);</span><span class="s3">\n            </span><span class="s1">(_e = this._widgets.get('open')) === null || _e === void 0 ? void 0 : _e.setHidden(!selection || oneFolder);</span><span class="s3">\n            </span><span class="s1">(_f = this._widgets.get('rename')) === null || _f === void 0 ? void 0 : _f.setHidden(selectedItems.length !== 1);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this._widgets = new Map();</span><span class="s3">\n        </span><span class="s1">this._browser = options.browser;</span><span class="s3">\n        </span><span class="s1">const { commands, selectionChanged, translator } = options;</span><span class="s3">\n        </span><span class="s1">const trans = translator.load('notebook');</span><span class="s3">\n        </span><span class="s1">// Placeholder, when no file is selected.</span><span class="s3">\n        </span><span class="s1">const placeholder = ReactWidget.create(React.createElement(</span><span class="s3">\&quot;</span><span class="s1">div</span><span class="s3">\&quot;</span><span class="s1">, { key: 'placeholder' }, trans.__('Select items to perform actions on them.')));</span><span class="s3">\n        </span><span class="s1">placeholder.id = 'fileAction-placeholder';</span><span class="s3">\n        </span><span class="s1">this._widgets.set('placeholder', placeholder);</span><span class="s3">\n        </span><span class="s1">// The action buttons.</span><span class="s3">\n        </span><span class="s1">const actions = ['open', 'download', 'rename', 'duplicate', 'delete'];</span><span class="s3">\n        </span><span class="s1">actions.forEach((action) =&gt; {</span><span class="s3">\n            </span><span class="s1">const widget = ReactWidget.create(React.createElement(CommandToolbarButtonComponent, { key: action, commands: commands, id: `filebrowser:${action}`, args: { toolbar: true }, icon: undefined }));</span><span class="s3">\n            </span><span class="s1">widget.id = `fileAction-${action}`;</span><span class="s3">\n            </span><span class="s1">widget.addClass('jp-ToolbarButton');</span><span class="s3">\n            </span><span class="s1">widget.addClass('jp-FileAction');</span><span class="s3">\n            </span><span class="s1">this._widgets.set(action, widget);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">selectionChanged.connect(this._onSelectionChanged, this);</span><span class="s3">\n        </span><span class="s1">this._onSelectionChanged();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Return an iterator with all the action widgets.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get widgets() {</span><span class="s3">\n        </span><span class="s1">return this._widgets.values();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { ICommandPalette, IToolbarWidgetRegistry, createToolbarFactory, setToolbar, } from '@jupyterlab/apputils';</span><span class="s3">\n</span><span class="s1">import { PageConfig } from '@jupyterlab/coreutils';</span><span class="s3">\n</span><span class="s1">import { Uploader, IDefaultFileBrowser, IFileBrowserFactory, } from '@jupyterlab/filebrowser';</span><span class="s3">\n</span><span class="s1">import { ISettingRegistry } from '@jupyterlab/settingregistry';</span><span class="s3">\n</span><span class="s1">import { IRunningSessionManagers, RunningSessions } from '@jupyterlab/running';</span><span class="s3">\n</span><span class="s1">import { IJSONSettingEditorTracker, ISettingEditorTracker, } from '@jupyterlab/settingeditor';</span><span class="s3">\n</span><span class="s1">import { ITranslator } from '@jupyterlab/translation';</span><span class="s3">\n</span><span class="s1">import { caretDownIcon, folderIcon, runningIcon, } from '@jupyterlab/ui-components';</span><span class="s3">\n</span><span class="s1">import { Signal } from '@lumino/signaling';</span><span class="s3">\n</span><span class="s1">import { Menu, MenuBar } from '@lumino/widgets';</span><span class="s3">\n</span><span class="s1">import { NotebookTreeWidget, INotebookTree } from '@jupyter-notebook/tree';</span><span class="s3">\n</span><span class="s1">import { FilesActionButtons } from './fileactions';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The file browser factory.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const FILE_BROWSER_FACTORY = 'FileBrowser';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The file browser plugin id.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const FILE_BROWSER_PLUGIN_ID = '@jupyterlab/filebrowser-extension:browser';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The namespace for command IDs.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var CommandIDs;</span><span class="s3">\n</span><span class="s1">(function (CommandIDs) {</span><span class="s3">\n    </span><span class="s1">// The command to activate the filebrowser widget in tree view.</span><span class="s3">\n    </span><span class="s1">CommandIDs.activate = 'filebrowser:activate';</span><span class="s3">\n    </span><span class="s1">// Activate the file filter in the file browser</span><span class="s3">\n    </span><span class="s1">CommandIDs.toggleFileFilter = 'filebrowser:toggle-file-filter';</span><span class="s3">\n</span><span class="s1">})(CommandIDs || (CommandIDs = {}));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Plugin to add extra commands to the file browser to create</span><span class="s3">\n </span><span class="s1">* new notebooks, files, consoles and terminals</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const createNew = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/tree-extension:new',</span><span class="s3">\n    </span><span class="s1">description: 'Plugin to add extra commands to the file browser to create new notebooks, files, consoles and terminals.',</span><span class="s3">\n    </span><span class="s1">requires: [ITranslator],</span><span class="s3">\n    </span><span class="s1">optional: [IToolbarWidgetRegistry],</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">activate: (app, translator, toolbarRegistry) =&gt; {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">const { commands, serviceManager } = app;</span><span class="s3">\n        </span><span class="s1">const trans = translator.load('notebook');</span><span class="s3">\n        </span><span class="s1">const overflowOptions = {</span><span class="s3">\n            </span><span class="s1">overflowMenuOptions: { isVisible: false },</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">const menubar = new MenuBar(overflowOptions);</span><span class="s3">\n        </span><span class="s1">const newMenu = new Menu({ commands });</span><span class="s3">\n        </span><span class="s1">newMenu.title.label = trans.__('New');</span><span class="s3">\n        </span><span class="s1">newMenu.title.icon = caretDownIcon;</span><span class="s3">\n        </span><span class="s1">menubar.addMenu(newMenu);</span><span class="s3">\n        </span><span class="s1">const populateNewMenu = () =&gt; {</span><span class="s3">\n            </span><span class="s1">var _a, _b;</span><span class="s3">\n            </span><span class="s1">// create an entry per kernel spec for creating a new notebook</span><span class="s3">\n            </span><span class="s1">const specs = (_b = (_a = serviceManager.kernelspecs) === null || _a === void 0 ? void 0 : _a.specs) === null || _b === void 0 ? void 0 : _b.kernelspecs;</span><span class="s3">\n            </span><span class="s1">for (const name in specs) {</span><span class="s3">\n                </span><span class="s1">newMenu.addItem({</span><span class="s3">\n                    </span><span class="s1">args: { kernelName: name, isLauncher: true },</span><span class="s3">\n                    </span><span class="s1">command: 'notebook:create-new',</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const baseCommands = [</span><span class="s3">\n                </span><span class="s1">'terminal:create-new',</span><span class="s3">\n                </span><span class="s1">'console:create',</span><span class="s3">\n                </span><span class="s1">'filebrowser:create-new-file',</span><span class="s3">\n                </span><span class="s1">'filebrowser:create-new-directory',</span><span class="s3">\n            </span><span class="s1">];</span><span class="s3">\n            </span><span class="s1">baseCommands.forEach((command) =&gt; {</span><span class="s3">\n                </span><span class="s1">newMenu.addItem({ command });</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">(_a = serviceManager.kernelspecs) === null || _a === void 0 ? void 0 : _a.specsChanged.connect(() =&gt; {</span><span class="s3">\n            </span><span class="s1">newMenu.clearItems();</span><span class="s3">\n            </span><span class="s1">populateNewMenu();</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">populateNewMenu();</span><span class="s3">\n        </span><span class="s1">if (toolbarRegistry) {</span><span class="s3">\n            </span><span class="s1">toolbarRegistry.addFactory(FILE_BROWSER_FACTORY, 'new-dropdown', (browser) =&gt; {</span><span class="s3">\n                </span><span class="s1">const menubar = new MenuBar(overflowOptions);</span><span class="s3">\n                </span><span class="s1">menubar.addMenu(newMenu);</span><span class="s3">\n                </span><span class="s1">menubar.addClass('jp-DropdownMenu');</span><span class="s3">\n                </span><span class="s1">return menubar;</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A plugin to add file browser actions to the file browser toolbar.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const fileActions = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/tree-extension:file-actions',</span><span class="s3">\n    </span><span class="s1">description: 'A plugin to add file browser actions to the file browser toolbar.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">requires: [IDefaultFileBrowser, IToolbarWidgetRegistry, ITranslator],</span><span class="s3">\n    </span><span class="s1">activate: (app, browser, toolbarRegistry, translator) =&gt; {</span><span class="s3">\n        </span><span class="s1">// TODO: use upstream signal when available to detect selection changes</span><span class="s3">\n        </span><span class="s1">// https://github.com/jupyterlab/jupyterlab/issues/14598</span><span class="s3">\n        </span><span class="s1">const selectionChanged = new Signal(browser);</span><span class="s3">\n        </span><span class="s1">const methods = [</span><span class="s3">\n            </span><span class="s1">'_selectItem',</span><span class="s3">\n            </span><span class="s1">'_handleMultiSelect',</span><span class="s3">\n            </span><span class="s1">'handleFileSelect',</span><span class="s3">\n        </span><span class="s1">];</span><span class="s3">\n        </span><span class="s1">methods.forEach((method) =&gt; {</span><span class="s3">\n            </span><span class="s1">const original = browser['listing'][method];</span><span class="s3">\n            </span><span class="s1">browser['listing'][method] = (...args) =&gt; {</span><span class="s3">\n                </span><span class="s1">original.call(browser['listing'], ...args);</span><span class="s3">\n                </span><span class="s1">selectionChanged.emit(void 0);</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">browser.model.pathChanged.connect(() =&gt; {</span><span class="s3">\n            </span><span class="s1">selectionChanged.emit(void 0);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">// Create a toolbar item that adds buttons to the file browser toolbar</span><span class="s3">\n        </span><span class="s1">// to perform actions on the files</span><span class="s3">\n        </span><span class="s1">const { commands } = app;</span><span class="s3">\n        </span><span class="s1">const fileActions = new FilesActionButtons({</span><span class="s3">\n            </span><span class="s1">commands,</span><span class="s3">\n            </span><span class="s1">browser,</span><span class="s3">\n            </span><span class="s1">selectionChanged,</span><span class="s3">\n            </span><span class="s1">translator,</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">for (const widget of fileActions.widgets) {</span><span class="s3">\n            </span><span class="s1">toolbarRegistry.addFactory(FILE_BROWSER_FACTORY, widget.id, () =&gt; widget);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A plugin to set the default file browser settings.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const fileBrowserSettings = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/tree-extension:settings',</span><span class="s3">\n    </span><span class="s1">description: 'Set up the default file browser settings',</span><span class="s3">\n    </span><span class="s1">requires: [IDefaultFileBrowser],</span><span class="s3">\n    </span><span class="s1">optional: [ISettingRegistry],</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">activate: (app, browser, settingRegistry) =&gt; {</span><span class="s3">\n        </span><span class="s1">// Default config for notebook.</span><span class="s3">\n        </span><span class="s1">// This is a different set of defaults than JupyterLab.</span><span class="s3">\n        </span><span class="s1">const defaultFileBrowserConfig = {</span><span class="s3">\n            </span><span class="s1">navigateToCurrentDirectory: false,</span><span class="s3">\n            </span><span class="s1">singleClickNavigation: true,</span><span class="s3">\n            </span><span class="s1">showLastModifiedColumn: true,</span><span class="s3">\n            </span><span class="s1">showFileSizeColumn: true,</span><span class="s3">\n            </span><span class="s1">showHiddenFiles: false,</span><span class="s3">\n            </span><span class="s1">showFileCheckboxes: true,</span><span class="s3">\n            </span><span class="s1">sortNotebooksFirst: true,</span><span class="s3">\n            </span><span class="s1">showFullPath: false,</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">// Apply defaults on plugin activation</span><span class="s3">\n        </span><span class="s1">let key;</span><span class="s3">\n        </span><span class="s1">for (key in defaultFileBrowserConfig) {</span><span class="s3">\n            </span><span class="s1">browser[key] = defaultFileBrowserConfig[key];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (settingRegistry) {</span><span class="s3">\n            </span><span class="s1">void settingRegistry.load(FILE_BROWSER_PLUGIN_ID).then((settings) =&gt; {</span><span class="s3">\n                </span><span class="s1">function onSettingsChanged(settings) {</span><span class="s3">\n                    </span><span class="s1">let key;</span><span class="s3">\n                    </span><span class="s1">for (key in defaultFileBrowserConfig) {</span><span class="s3">\n                        </span><span class="s1">const value = settings.get(key).user;</span><span class="s3">\n                        </span><span class="s1">// only set the setting if it is defined by the user</span><span class="s3">\n                        </span><span class="s1">if (value !== undefined) {</span><span class="s3">\n                            </span><span class="s1">browser[key] = value;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">settings.changed.connect(onSettingsChanged);</span><span class="s3">\n                </span><span class="s1">onSettingsChanged(settings);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A plugin to add the file filter toggle command to the palette</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const fileFilterCommand = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/tree-extension:file-filter-command',</span><span class="s3">\n    </span><span class="s1">description: 'A plugin to add file filter command to the palette.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">optional: [ICommandPalette],</span><span class="s3">\n    </span><span class="s1">activate: (app, palette) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (palette) {</span><span class="s3">\n            </span><span class="s1">palette.addItem({</span><span class="s3">\n                </span><span class="s1">command: CommandIDs.toggleFileFilter,</span><span class="s3">\n                </span><span class="s1">category: 'File Browser',</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Plugin to load the default plugins that are loaded on all the Notebook pages</span><span class="s3">\n </span><span class="s1">* (tree, edit, view, etc.) so they are visible in the settings editor.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const loadPlugins = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/tree-extension:load-plugins',</span><span class="s3">\n    </span><span class="s1">description: 'Plugin to load the default plugins that are loaded on all the Notebook pages (tree, edit, view, etc.) so they are visible in the settings editor.',</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">requires: [ISettingRegistry],</span><span class="s3">\n    </span><span class="s1">activate(app, settingRegistry) {</span><span class="s3">\n        </span><span class="s1">const { isDisabled } = PageConfig.Extension;</span><span class="s3">\n        </span><span class="s1">const connector = settingRegistry.connector;</span><span class="s3">\n        </span><span class="s1">const allPluginsOption = PageConfig.getOption('allPlugins');</span><span class="s3">\n        </span><span class="s1">if (!allPluginsOption) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">// build the list of plugins shipped by default on the all the notebook pages</span><span class="s3">\n        </span><span class="s1">// this avoid explicitly loading `'all'` plugins such as the ones used</span><span class="s3">\n        </span><span class="s1">// in JupyterLab only</span><span class="s3">\n        </span><span class="s1">const allPlugins = JSON.parse(allPluginsOption);</span><span class="s3">\n        </span><span class="s1">const pluginsSet = new Set();</span><span class="s3">\n        </span><span class="s1">Object.keys(allPlugins).forEach((key) =&gt; {</span><span class="s3">\n            </span><span class="s1">const extensionsAndPlugins = allPlugins[key];</span><span class="s3">\n            </span><span class="s1">Object.keys(extensionsAndPlugins).forEach((plugin) =&gt; {</span><span class="s3">\n                </span><span class="s1">const value = extensionsAndPlugins[plugin];</span><span class="s3">\n                </span><span class="s1">if (typeof value === 'boolean' &amp;&amp; value) {</span><span class="s3">\n                    </span><span class="s1">pluginsSet.add(plugin);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (Array.isArray(value)) {</span><span class="s3">\n                    </span><span class="s1">value.forEach((v) =&gt; {</span><span class="s3">\n                        </span><span class="s1">pluginsSet.add(v);</span><span class="s3">\n                    </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">app.restored.then(async () =&gt; {</span><span class="s3">\n            </span><span class="s1">const plugins = await connector.list('all');</span><span class="s3">\n            </span><span class="s1">plugins.ids.forEach(async (id) =&gt; {</span><span class="s3">\n                </span><span class="s1">const [extension] = id.split(':');</span><span class="s3">\n                </span><span class="s1">// load the plugin if it is built-in the notebook application explicitly</span><span class="s3">\n                </span><span class="s1">// either included as an extension or as a plugin directly</span><span class="s3">\n                </span><span class="s1">const hasPlugin = pluginsSet.has(extension) || pluginsSet.has(id);</span><span class="s3">\n                </span><span class="s1">if (!hasPlugin || isDisabled(id) || id in settingRegistry.plugins) {</span><span class="s3">\n                    </span><span class="s1">return;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">try {</span><span class="s3">\n                    </span><span class="s1">await settingRegistry.load(id);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">catch (error) {</span><span class="s3">\n                    </span><span class="s1">console.warn(`Settings failed to load for (${id})`, error);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A plugin to add file browser commands for the tree view.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const openFileBrowser = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/tree-extension:open-file-browser',</span><span class="s3">\n    </span><span class="s1">description: 'A plugin to add file browser commands for the tree view.',</span><span class="s3">\n    </span><span class="s1">requires: [INotebookTree, IDefaultFileBrowser],</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">activate: (app, notebookTree, browser) =&gt; {</span><span class="s3">\n        </span><span class="s1">const { commands } = app;</span><span class="s3">\n        </span><span class="s1">commands.addCommand(CommandIDs.activate, {</span><span class="s3">\n            </span><span class="s1">execute: () =&gt; {</span><span class="s3">\n                </span><span class="s1">notebookTree.currentWidget = browser;</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A plugin to add the file browser widget to an INotebookShell</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const notebookTreeWidget = {</span><span class="s3">\n    </span><span class="s1">id: '@jupyter-notebook/tree-extension:widget',</span><span class="s3">\n    </span><span class="s1">description: 'A plugin to add the file browser widget to an INotebookShell.',</span><span class="s3">\n    </span><span class="s1">requires: [</span><span class="s3">\n        </span><span class="s1">IDefaultFileBrowser,</span><span class="s3">\n        </span><span class="s1">ITranslator,</span><span class="s3">\n        </span><span class="s1">ISettingRegistry,</span><span class="s3">\n        </span><span class="s1">IToolbarWidgetRegistry,</span><span class="s3">\n        </span><span class="s1">IFileBrowserFactory,</span><span class="s3">\n    </span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">optional: [</span><span class="s3">\n        </span><span class="s1">IRunningSessionManagers,</span><span class="s3">\n        </span><span class="s1">ISettingEditorTracker,</span><span class="s3">\n        </span><span class="s1">IJSONSettingEditorTracker,</span><span class="s3">\n    </span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">autoStart: true,</span><span class="s3">\n    </span><span class="s1">provides: INotebookTree,</span><span class="s3">\n    </span><span class="s1">activate: (app, browser, translator, settingRegistry, toolbarRegistry, factory, manager, settingEditorTracker, jsonSettingEditorTracker) =&gt; {</span><span class="s3">\n        </span><span class="s1">const nbTreeWidget = new NotebookTreeWidget();</span><span class="s3">\n        </span><span class="s1">const trans = translator.load('notebook');</span><span class="s3">\n        </span><span class="s1">browser.title.label = trans.__('Files');</span><span class="s3">\n        </span><span class="s1">browser.node.setAttribute('role', 'region');</span><span class="s3">\n        </span><span class="s1">browser.node.setAttribute('aria-label', trans.__('File Browser Section'));</span><span class="s3">\n        </span><span class="s1">browser.title.icon = folderIcon;</span><span class="s3">\n        </span><span class="s1">nbTreeWidget.addWidget(browser);</span><span class="s3">\n        </span><span class="s1">nbTreeWidget.tabBar.addTab(browser.title);</span><span class="s3">\n        </span><span class="s1">nbTreeWidget.tabsMovable = false;</span><span class="s3">\n        </span><span class="s1">toolbarRegistry.addFactory(FILE_BROWSER_FACTORY, 'uploader', (browser) =&gt; new Uploader({</span><span class="s3">\n            </span><span class="s1">model: browser.model,</span><span class="s3">\n            </span><span class="s1">translator,</span><span class="s3">\n            </span><span class="s1">label: trans.__('Upload'),</span><span class="s3">\n        </span><span class="s1">}));</span><span class="s3">\n        </span><span class="s1">setToolbar(browser, createToolbarFactory(toolbarRegistry, settingRegistry, FILE_BROWSER_FACTORY, notebookTreeWidget.id, translator));</span><span class="s3">\n        </span><span class="s1">if (manager) {</span><span class="s3">\n            </span><span class="s1">const running = new RunningSessions(manager, translator);</span><span class="s3">\n            </span><span class="s1">running.id = 'jp-running-sessions-tree';</span><span class="s3">\n            </span><span class="s1">running.title.label = trans.__('Running');</span><span class="s3">\n            </span><span class="s1">running.title.icon = runningIcon;</span><span class="s3">\n            </span><span class="s1">nbTreeWidget.addWidget(running);</span><span class="s3">\n            </span><span class="s1">nbTreeWidget.tabBar.addTab(running.title);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">app.shell.add(nbTreeWidget, 'main', { rank: 100 });</span><span class="s3">\n        </span><span class="s1">// add a separate tab for each setting editor</span><span class="s3">\n        </span><span class="s1">[settingEditorTracker, jsonSettingEditorTracker].forEach((editorTracker) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (editorTracker) {</span><span class="s3">\n                </span><span class="s1">editorTracker.widgetAdded.connect((_, editor) =&gt; {</span><span class="s3">\n                    </span><span class="s1">nbTreeWidget.addWidget(editor);</span><span class="s3">\n                    </span><span class="s1">nbTreeWidget.tabBar.addTab(editor.title);</span><span class="s3">\n                    </span><span class="s1">nbTreeWidget.currentWidget = editor;</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">const { tracker } = factory;</span><span class="s3">\n        </span><span class="s1">// TODO: remove</span><span class="s3">\n        </span><span class="s1">// Workaround to force the focus on the default file browser</span><span class="s3">\n        </span><span class="s1">// See https://github.com/jupyterlab/jupyterlab/issues/15629 for more info</span><span class="s3">\n        </span><span class="s1">const setCurrentToDefaultBrower = () =&gt; {</span><span class="s3">\n            </span><span class="s1">tracker['_pool'].current = browser;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">tracker.widgetAdded.connect((sender, widget) =&gt; {</span><span class="s3">\n            </span><span class="s1">setCurrentToDefaultBrower();</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">setCurrentToDefaultBrower();</span><span class="s3">\n        </span><span class="s1">return nbTreeWidget;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Export the plugins as default.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const plugins = [</span><span class="s3">\n    </span><span class="s1">createNew,</span><span class="s3">\n    </span><span class="s1">fileActions,</span><span class="s3">\n    </span><span class="s1">fileBrowserSettings,</span><span class="s3">\n    </span><span class="s1">fileFilterCommand,</span><span class="s3">\n    </span><span class="s1">loadPlugins,</span><span class="s3">\n    </span><span class="s1">openFileBrowser,</span><span class="s3">\n    </span><span class="s1">notebookTreeWidget,</span><span class="s3">\n</span><span class="s1">];</span><span class="s3">\n</span><span class="s1">export default plugins;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;sourceRoot&quot;</span><span class="s0">:</span><span class="s1">&quot;&quot;</span><span class="s0">}</span></pre>
</body>
</html>