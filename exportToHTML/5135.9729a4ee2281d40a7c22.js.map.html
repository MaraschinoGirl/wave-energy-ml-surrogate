<html>
<head>
<title>5135.9729a4ee2281d40a7c22.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
5135.9729a4ee2281d40a7c22.js.map</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;5135.9729a4ee2281d40a7c22.js?v=9729a4ee2281d40a7c22&quot;</span><span class="s0">,</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACsD;AACH;AACH;AACL;AACmB;AAC9D;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,2BAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,gCAAK;AAC/B,QAAQ,wCAAW;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,sBAAsB,2BAAQ;AAC9B,QAAQ,2BAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,mCAAM;AACtC,kCAAkC,mCAAM;AACxC;AACA;AACA;AACA;AACA,gCAAgC,uCAAY;AAC5C;AACA;AACA,QAAQ,qCAAS;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,iCAAM,GAAG,yBAAyB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA,QAAQ,2BAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,2BAAQ;AACvB;AACA;AACA;AACA;AACA;AACA,eAAe,2BAAQ;AACvB;AACA;AACA;AACA;AACA;AACA,qBAAqB,2BAAI;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,2BAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,qBAAqB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,qBAAqB;AACpD;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0BAA0B;;;ACvU3B;AACA;AACyD;AAChB;AAC2B;AACzB;AAC6B;AACR;AACR;AACxD;AACA;AACA;AACO,2BAA2B,oBAAK;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACO,4BAA4B,iCAAM;AACzC;AACA;AACA,2BAA2B,wCAAc;AACzC,mCAAmC,mCAAM;AACzC,qCAAqC,8BAAe;AACpD;AACA;AACA,+BAA+B,YAAY;AAC3C,gCAAgC,YAAY;AAC5C,gCAAgC,gBAAgB;AAChD,iCAAiC,gBAAgB;AACjD,yBAAyB,gCAAK;AAC9B,mDAAmD,gCAAK;AACxD,qDAAqD,gCAAK;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,iCAAM;AACrC;AACA,kCAAkC,iCAAM;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,oCAAS;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,oCAAS;AAC1C;AACA;AACA,SAAS;AACT,QAAQ,oCAAS;AACjB,QAAQ,oCAAS;AACjB,QAAQ,oCAAS;AACjB,gCAAgC,gCAAK,GAAG,sBAAsB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAU;AAC1C;AACA;AACA;AACA,QAAQ,qCAAU;AAClB,8BAA8B,uCAAW;AACzC;AACA,SAAS;AACT;AACA;AACA;AACA,gCAAgC,qCAAU;AAC1C;AACA;AACA,QAAQ,oCAAS;AACjB,QAAQ,qCAAU;AAClB,QAAQ,qCAAU;AAClB,QAAQ,qCAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,aAAO;AACvB,gEAAgE,SAAS;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE,wCAAc;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,sBAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,2BAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,KAAK;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,KAAK;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAI,aAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,iCAAM;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,EAAE,aAAO,KAAK,aAAO,KAAK;;;AC9a3B;AACA;AACuE;AACV;AACuB;AACrB;AACZ;AACP;AACJ;AACxC;AACA;AACA;AACO,0BAA0B,yBAAe;AAChD;AACA;AACA;AACA;AACA;AACA,4BAA4B,WAAW,aAAa,IAAI;AACxD;AACA,gBAAgB,6EAA6E,aAAa,IAAI;AAC9G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,2BAAS;AACnC;AACA;AACA;AACA,6BAA6B,kCAAU;AACvC,qBAAqB,oBAAU;AAC/B,8BAA8B,uBAAS;AACvC,YAAY,WAAO;AACnB,SAAS;AACT;AACA,6CAA6C,gCAAkB;AAC/D;AACA,iCAAiC,iDAAuB;AACxD;AACA;AACA;AACA;AACA,iCAAiC,oBAAU;AAC3C;AACA;AACA;AACA;AACA,SAAS,IAAI;AACb;AACA,uBAAuB,GAAG,oBAAU;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,kCAAU;AAChC,0BAA0B,kCAAU;AACpC,qBAAqB,kCAAU;AAC/B,wBAAwB,kCAAU;AAClC,0BAA0B,kCAAU;AACpC,wBAAwB,kCAAU;AAClC,qBAAqB,kCAAU;AAC/B,8BAA8B,kCAAU;AACxC,yBAAyB,kCAAU;AACnC,2BAA2B,kCAAU;AACrC,yBAAyB,kCAAU;AACnC,+BAA+B,kCAAU;AACzC,aAAa;AACb;AACA,6BAA6B,kCAAU;AACvC,yBAAyB,kCAAU;AACnC,wBAAwB,kCAAU;AAClC,2BAA2B,kCAAU;AACrC,wBAAwB,kCAAU;AAClC,8BAA8B,kCAAU;AACxC,4BAA4B,kCAAU;AACtC,4BAA4B,kCAAU;AACtC,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,IAAI,WAAO;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,EAAE,WAAO,KAAK,WAAO,KAAK;;;AChK3B;AACA;AAC+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,+CAA+C;AAC/D,4BAA4B,8BAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACO;;;ACnBmC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACO,gCAAgC,oBAAK;;;ACP5C;AACA;AACsB;AACE;AACO;AACF;AACJ&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../packages/application/lib/panelhandler.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../packages/application/lib/shell.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../packages/application/lib/app.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../packages/application/lib/pathopener.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../packages/application/lib/tokens.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../packages/application/lib/index.js&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { closeIcon } from '@jupyterlab/ui-components';</span><span class="s3">\n</span><span class="s1">import { ArrayExt, find } from '@lumino/algorithm';</span><span class="s3">\n</span><span class="s1">import { MessageLoop } from '@lumino/messaging';</span><span class="s3">\n</span><span class="s1">import { Signal } from '@lumino/signaling';</span><span class="s3">\n</span><span class="s1">import { Panel, StackedPanel, Widget } from '@lumino/widgets';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A class which manages a panel and sorts its widgets by rank.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class PanelHandler {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* A message hook for child remove messages on the panel handler.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this._panelChildHook = (handler, msg) =&gt; {</span><span class="s3">\n            </span><span class="s1">switch (msg.type) {</span><span class="s3">\n                </span><span class="s1">case 'child-removed':</span><span class="s3">\n                    </span><span class="s1">{</span><span class="s3">\n                        </span><span class="s1">const widget = msg.child;</span><span class="s3">\n                        </span><span class="s1">ArrayExt.removeFirstWhere(this._items, (v) =&gt; v.widget === widget);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">default:</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this._items = new Array();</span><span class="s3">\n        </span><span class="s1">this._panel = new Panel();</span><span class="s3">\n        </span><span class="s1">MessageLoop.installMessageHook(this._panel, this._panelChildHook);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Get the panel managed by the handler.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get panel() {</span><span class="s3">\n        </span><span class="s1">return this._panel;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Add a widget to the panel.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* If the widget is already added, it will be moved.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">addWidget(widget, rank) {</span><span class="s3">\n        </span><span class="s1">widget.parent = null;</span><span class="s3">\n        </span><span class="s1">const item = { widget, rank };</span><span class="s3">\n        </span><span class="s1">const index = ArrayExt.upperBound(this._items, item, Private.itemCmp);</span><span class="s3">\n        </span><span class="s1">ArrayExt.insert(this._items, index, item);</span><span class="s3">\n        </span><span class="s1">this._panel.insertWidget(index, widget);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A class which manages a side panel that can show at most one widget at a time.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class SidePanelHandler extends PanelHandler {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Construct a new side panel handler.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(area) {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">this._isHiddenByUser = false;</span><span class="s3">\n        </span><span class="s1">this._widgetAdded = new Signal(this);</span><span class="s3">\n        </span><span class="s1">this._widgetRemoved = new Signal(this);</span><span class="s3">\n        </span><span class="s1">this._area = area;</span><span class="s3">\n        </span><span class="s1">this._panel.hide();</span><span class="s3">\n        </span><span class="s1">this._currentWidget = null;</span><span class="s3">\n        </span><span class="s1">this._lastCurrentWidget = null;</span><span class="s3">\n        </span><span class="s1">this._widgetPanel = new StackedPanel();</span><span class="s3">\n        </span><span class="s1">this._widgetPanel.widgetRemoved.connect(this._onWidgetRemoved, this);</span><span class="s3">\n        </span><span class="s1">this._closeButton = document.createElement('button');</span><span class="s3">\n        </span><span class="s1">closeIcon.element({</span><span class="s3">\n            </span><span class="s1">container: this._closeButton,</span><span class="s3">\n            </span><span class="s1">height: '16px',</span><span class="s3">\n            </span><span class="s1">width: 'auto',</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">this._closeButton.onclick = () =&gt; {</span><span class="s3">\n            </span><span class="s1">this.collapse();</span><span class="s3">\n            </span><span class="s1">this.hide();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this._closeButton.className = 'jp-Button jp-SidePanel-collapse';</span><span class="s3">\n        </span><span class="s1">this._closeButton.title = 'Collapse side panel';</span><span class="s3">\n        </span><span class="s1">const icon = new Widget({ node: this._closeButton });</span><span class="s3">\n        </span><span class="s1">this._panel.addWidget(icon);</span><span class="s3">\n        </span><span class="s1">this._panel.addWidget(this._widgetPanel);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Get the current widget in the sidebar panel.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get currentWidget() {</span><span class="s3">\n        </span><span class="s1">return (this._currentWidget ||</span><span class="s3">\n            </span><span class="s1">this._lastCurrentWidget ||</span><span class="s3">\n            </span><span class="s1">(this._items.length &gt; 0 ? this._items[0].widget : null));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Get the area of the side panel</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get area() {</span><span class="s3">\n        </span><span class="s1">return this._area;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Whether the panel is visible</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get isVisible() {</span><span class="s3">\n        </span><span class="s1">return this._panel.isVisible;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Get the stacked panel managed by the handler</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get panel() {</span><span class="s3">\n        </span><span class="s1">return this._panel;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Get the widgets list.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get widgets() {</span><span class="s3">\n        </span><span class="s1">return this._items.map((obj) =&gt; obj.widget);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Signal fired when a widget is added to the panel</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get widgetAdded() {</span><span class="s3">\n        </span><span class="s1">return this._widgetAdded;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Signal fired when a widget is removed from the panel</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get widgetRemoved() {</span><span class="s3">\n        </span><span class="s1">return this._widgetRemoved;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Get the close button element.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get closeButton() {</span><span class="s3">\n        </span><span class="s1">return this._closeButton;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Expand the sidebar.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* #### Notes</span><span class="s3">\n     </span><span class="s1">* This will open the most recently used widget, or the first widget</span><span class="s3">\n     </span><span class="s1">* if there is no most recently used.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">expand(id) {</span><span class="s3">\n        </span><span class="s1">if (id) {</span><span class="s3">\n            </span><span class="s1">if (this._currentWidget &amp;&amp; this._currentWidget.id === id) {</span><span class="s3">\n                </span><span class="s1">this.collapse();</span><span class="s3">\n                </span><span class="s1">this.hide();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">this.collapse();</span><span class="s3">\n                </span><span class="s1">this.hide();</span><span class="s3">\n                </span><span class="s1">this.activate(id);</span><span class="s3">\n                </span><span class="s1">this.show();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (this.currentWidget) {</span><span class="s3">\n            </span><span class="s1">this._currentWidget = this.currentWidget;</span><span class="s3">\n            </span><span class="s1">this.activate(this._currentWidget.id);</span><span class="s3">\n            </span><span class="s1">this.show();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Activate a widget residing in the stacked panel by ID.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param id - The widget's unique ID.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">activate(id) {</span><span class="s3">\n        </span><span class="s1">const widget = this._findWidgetByID(id);</span><span class="s3">\n        </span><span class="s1">if (widget) {</span><span class="s3">\n            </span><span class="s1">this._currentWidget = widget;</span><span class="s3">\n            </span><span class="s1">widget.show();</span><span class="s3">\n            </span><span class="s1">widget.activate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Test whether the sidebar has the given widget by id.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">has(id) {</span><span class="s3">\n        </span><span class="s1">return this._findWidgetByID(id) !== null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Collapse the sidebar so no items are expanded.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">collapse() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">(_a = this._currentWidget) === null || _a === void 0 ? void 0 : _a.hide();</span><span class="s3">\n        </span><span class="s1">this._currentWidget = null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Add a widget and its title to the stacked panel.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* If the widget is already added, it will be moved.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">addWidget(widget, rank) {</span><span class="s3">\n        </span><span class="s1">widget.parent = null;</span><span class="s3">\n        </span><span class="s1">widget.hide();</span><span class="s3">\n        </span><span class="s1">const item = { widget, rank };</span><span class="s3">\n        </span><span class="s1">const index = this._findInsertIndex(item);</span><span class="s3">\n        </span><span class="s1">ArrayExt.insert(this._items, index, item);</span><span class="s3">\n        </span><span class="s1">this._widgetPanel.insertWidget(index, widget);</span><span class="s3">\n        </span><span class="s1">this._refreshVisibility();</span><span class="s3">\n        </span><span class="s1">this._widgetAdded.emit(widget);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Hide the side panel</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">hide() {</span><span class="s3">\n        </span><span class="s1">this._isHiddenByUser = true;</span><span class="s3">\n        </span><span class="s1">this._refreshVisibility();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Show the side panel</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">show() {</span><span class="s3">\n        </span><span class="s1">this._isHiddenByUser = false;</span><span class="s3">\n        </span><span class="s1">this._refreshVisibility();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Find the insertion index for a rank item.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">_findInsertIndex(item) {</span><span class="s3">\n        </span><span class="s1">return ArrayExt.upperBound(this._items, item, Private.itemCmp);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Find the index of the item with the given widget, or `-1`.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">_findWidgetIndex(widget) {</span><span class="s3">\n        </span><span class="s1">return ArrayExt.findFirstIndex(this._items, (i) =&gt; i.widget === widget);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Find the widget with the given id, or `null`.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">_findWidgetByID(id) {</span><span class="s3">\n        </span><span class="s1">const item = find(this._items, (value) =&gt; value.widget.id === id);</span><span class="s3">\n        </span><span class="s1">return item ? item.widget : null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Refresh the visibility of the stacked panel.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">_refreshVisibility() {</span><span class="s3">\n        </span><span class="s1">this._panel.setHidden(this._isHiddenByUser);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/*</span><span class="s3">\n     </span><span class="s1">* Handle the `widgetRemoved` signal from the panel.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">_onWidgetRemoved(sender, widget) {</span><span class="s3">\n        </span><span class="s1">if (widget === this._lastCurrentWidget) {</span><span class="s3">\n            </span><span class="s1">this._lastCurrentWidget = null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">ArrayExt.removeAt(this._items, this._findWidgetIndex(widget));</span><span class="s3">\n        </span><span class="s1">this._refreshVisibility();</span><span class="s3">\n        </span><span class="s1">this._widgetRemoved.emit(widget);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A class to manages the palette entries associated to the side panels.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class SidePanelPalette {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Construct a new side panel palette.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(options) {</span><span class="s3">\n        </span><span class="s1">this._items = [];</span><span class="s3">\n        </span><span class="s1">this._commandPalette = options.commandPalette;</span><span class="s3">\n        </span><span class="s1">this._command = options.command;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Get a command palette item from the widget id and the area.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getItem(widget, area) {</span><span class="s3">\n        </span><span class="s1">const itemList = this._items;</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; itemList.length; i++) {</span><span class="s3">\n            </span><span class="s1">const item = itemList[i];</span><span class="s3">\n            </span><span class="s1">if (item.widgetId === widget.id &amp;&amp; item.area === area) {</span><span class="s3">\n                </span><span class="s1">return item;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Add an item to the command palette.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">addItem(widget, area) {</span><span class="s3">\n        </span><span class="s1">// Check if the item does not already exist.</span><span class="s3">\n        </span><span class="s1">if (this.getItem(widget, area)) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">// Add a new item in command palette.</span><span class="s3">\n        </span><span class="s1">const disposableDelegate = this._commandPalette.addItem({</span><span class="s3">\n            </span><span class="s1">command: this._command,</span><span class="s3">\n            </span><span class="s1">category: 'View',</span><span class="s3">\n            </span><span class="s1">args: {</span><span class="s3">\n                </span><span class="s1">side: area,</span><span class="s3">\n                </span><span class="s1">title: `Show ${widget.title.caption}`,</span><span class="s3">\n                </span><span class="s1">id: widget.id,</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">// Keep the disposableDelegate object to be able to dispose of the item if the widget</span><span class="s3">\n        </span><span class="s1">// is remove from the side panel.</span><span class="s3">\n        </span><span class="s1">this._items.push({</span><span class="s3">\n            </span><span class="s1">widgetId: widget.id,</span><span class="s3">\n            </span><span class="s1">area: area,</span><span class="s3">\n            </span><span class="s1">disposable: disposableDelegate,</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Remove an item from the command palette.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">removeItem(widget, area) {</span><span class="s3">\n        </span><span class="s1">const item = this.getItem(widget, area);</span><span class="s3">\n        </span><span class="s1">if (item) {</span><span class="s3">\n            </span><span class="s1">item.disposable.dispose();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A namespace for private module data.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var Private;</span><span class="s3">\n</span><span class="s1">(function (Private) {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* A less-than comparison function for side bar rank items.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">function itemCmp(first, second) {</span><span class="s3">\n        </span><span class="s1">return first.rank - second.rank;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Private.itemCmp = itemCmp;</span><span class="s3">\n</span><span class="s1">})(Private || (Private = {}));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { nullTranslator } from '@jupyterlab/translation';</span><span class="s3">\n</span><span class="s1">import { find } from '@lumino/algorithm';</span><span class="s3">\n</span><span class="s1">import { JSONExt, PromiseDelegate, Token } from '@lumino/coreutils';</span><span class="s3">\n</span><span class="s1">import { Signal } from '@lumino/signaling';</span><span class="s3">\n</span><span class="s1">import { BoxLayout, Panel, SplitPanel, Widget, } from '@lumino/widgets';</span><span class="s3">\n</span><span class="s1">import { PanelHandler, SidePanelHandler } from './panelhandler';</span><span class="s3">\n</span><span class="s1">import { TabPanelSvg } from '@jupyterlab/ui-components';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The Jupyter Notebook application shell token.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const INotebookShell = new Token('@jupyter-notebook/application:INotebookShell');</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The default rank for ranked panels.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const DEFAULT_RANK = 900;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The application shell.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class NotebookShell extends Widget {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">this._translator = nullTranslator;</span><span class="s3">\n        </span><span class="s1">this._currentChanged = new Signal(this);</span><span class="s3">\n        </span><span class="s1">this._mainWidgetLoaded = new PromiseDelegate();</span><span class="s3">\n        </span><span class="s1">this.id = 'main';</span><span class="s3">\n        </span><span class="s1">this._userLayout = {};</span><span class="s3">\n        </span><span class="s1">this._topHandler = new PanelHandler();</span><span class="s3">\n        </span><span class="s1">this._menuHandler = new PanelHandler();</span><span class="s3">\n        </span><span class="s1">this._leftHandler = new SidePanelHandler('left');</span><span class="s3">\n        </span><span class="s1">this._rightHandler = new SidePanelHandler('right');</span><span class="s3">\n        </span><span class="s1">this._main = new Panel();</span><span class="s3">\n        </span><span class="s1">const topWrapper = (this._topWrapper = new Panel());</span><span class="s3">\n        </span><span class="s1">const menuWrapper = (this._menuWrapper = new Panel());</span><span class="s3">\n        </span><span class="s1">this._topHandler.panel.id = 'top-panel';</span><span class="s3">\n        </span><span class="s1">this._topHandler.panel.node.setAttribute('role', 'banner');</span><span class="s3">\n        </span><span class="s1">this._menuHandler.panel.id = 'menu-panel';</span><span class="s3">\n        </span><span class="s1">this._menuHandler.panel.node.setAttribute('role', 'navigation');</span><span class="s3">\n        </span><span class="s1">this._main.id = 'main-panel';</span><span class="s3">\n        </span><span class="s1">this._main.node.setAttribute('role', 'main');</span><span class="s3">\n        </span><span class="s1">this._spacer_top = new Widget();</span><span class="s3">\n        </span><span class="s1">this._spacer_top.id = 'spacer-widget-top';</span><span class="s3">\n        </span><span class="s1">this._spacer_bottom = new Widget();</span><span class="s3">\n        </span><span class="s1">this._spacer_bottom.id = 'spacer-widget-bottom';</span><span class="s3">\n        </span><span class="s1">// create wrappers around the top and menu areas</span><span class="s3">\n        </span><span class="s1">topWrapper.id = 'top-panel-wrapper';</span><span class="s3">\n        </span><span class="s1">topWrapper.addWidget(this._topHandler.panel);</span><span class="s3">\n        </span><span class="s1">menuWrapper.id = 'menu-panel-wrapper';</span><span class="s3">\n        </span><span class="s1">menuWrapper.addWidget(this._menuHandler.panel);</span><span class="s3">\n        </span><span class="s1">const rootLayout = new BoxLayout();</span><span class="s3">\n        </span><span class="s1">const leftHandler = this._leftHandler;</span><span class="s3">\n        </span><span class="s1">const rightHandler = this._rightHandler;</span><span class="s3">\n        </span><span class="s1">leftHandler.panel.id = 'jp-left-stack';</span><span class="s3">\n        </span><span class="s1">leftHandler.panel.node.setAttribute('role', 'complementary');</span><span class="s3">\n        </span><span class="s1">rightHandler.panel.id = 'jp-right-stack';</span><span class="s3">\n        </span><span class="s1">rightHandler.panel.node.setAttribute('role', 'complementary');</span><span class="s3">\n        </span><span class="s1">// Hide the side panels by default.</span><span class="s3">\n        </span><span class="s1">leftHandler.hide();</span><span class="s3">\n        </span><span class="s1">rightHandler.hide();</span><span class="s3">\n        </span><span class="s1">const middleLayout = new BoxLayout({</span><span class="s3">\n            </span><span class="s1">spacing: 0,</span><span class="s3">\n            </span><span class="s1">direction: 'top-to-bottom',</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">BoxLayout.setStretch(this._topWrapper, 0);</span><span class="s3">\n        </span><span class="s1">BoxLayout.setStretch(this._menuWrapper, 0);</span><span class="s3">\n        </span><span class="s1">BoxLayout.setStretch(this._main, 1);</span><span class="s3">\n        </span><span class="s1">const middlePanel = new Panel({ layout: middleLayout });</span><span class="s3">\n        </span><span class="s1">middlePanel.addWidget(this._topWrapper);</span><span class="s3">\n        </span><span class="s1">middlePanel.addWidget(this._menuWrapper);</span><span class="s3">\n        </span><span class="s1">middlePanel.addWidget(this._spacer_top);</span><span class="s3">\n        </span><span class="s1">middlePanel.addWidget(this._main);</span><span class="s3">\n        </span><span class="s1">middlePanel.addWidget(this._spacer_bottom);</span><span class="s3">\n        </span><span class="s1">middlePanel.layout = middleLayout;</span><span class="s3">\n        </span><span class="s1">const vsplitPanel = new SplitPanel();</span><span class="s3">\n        </span><span class="s1">vsplitPanel.id = 'jp-main-vsplit-panel';</span><span class="s3">\n        </span><span class="s1">vsplitPanel.spacing = 1;</span><span class="s3">\n        </span><span class="s1">vsplitPanel.orientation = 'vertical';</span><span class="s3">\n        </span><span class="s1">SplitPanel.setStretch(vsplitPanel, 1);</span><span class="s3">\n        </span><span class="s1">const downPanel = new TabPanelSvg({</span><span class="s3">\n            </span><span class="s1">tabsMovable: true,</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">this._downPanel = downPanel;</span><span class="s3">\n        </span><span class="s1">this._downPanel.id = 'jp-down-stack';</span><span class="s3">\n        </span><span class="s1">// TODO: Consider storing this as an attribute this._hsplitPanel if saving/restoring layout needed</span><span class="s3">\n        </span><span class="s1">const hsplitPanel = new SplitPanel();</span><span class="s3">\n        </span><span class="s1">hsplitPanel.id = 'main-split-panel';</span><span class="s3">\n        </span><span class="s1">hsplitPanel.spacing = 1;</span><span class="s3">\n        </span><span class="s1">BoxLayout.setStretch(hsplitPanel, 1);</span><span class="s3">\n        </span><span class="s1">SplitPanel.setStretch(leftHandler.panel, 0);</span><span class="s3">\n        </span><span class="s1">SplitPanel.setStretch(rightHandler.panel, 0);</span><span class="s3">\n        </span><span class="s1">SplitPanel.setStretch(middlePanel, 1);</span><span class="s3">\n        </span><span class="s1">hsplitPanel.addWidget(leftHandler.panel);</span><span class="s3">\n        </span><span class="s1">hsplitPanel.addWidget(middlePanel);</span><span class="s3">\n        </span><span class="s1">hsplitPanel.addWidget(rightHandler.panel);</span><span class="s3">\n        </span><span class="s1">// Use relative sizing to set the width of the side panels.</span><span class="s3">\n        </span><span class="s1">// This will still respect the min-size of children widget in the stacked</span><span class="s3">\n        </span><span class="s1">// panel.</span><span class="s3">\n        </span><span class="s1">hsplitPanel.setRelativeSizes([1, 2.5, 1]);</span><span class="s3">\n        </span><span class="s1">vsplitPanel.addWidget(hsplitPanel);</span><span class="s3">\n        </span><span class="s1">vsplitPanel.addWidget(downPanel);</span><span class="s3">\n        </span><span class="s1">rootLayout.spacing = 0;</span><span class="s3">\n        </span><span class="s1">rootLayout.addWidget(vsplitPanel);</span><span class="s3">\n        </span><span class="s1">// initially hiding the down panel</span><span class="s3">\n        </span><span class="s1">this._downPanel.hide();</span><span class="s3">\n        </span><span class="s1">// Connect down panel change listeners</span><span class="s3">\n        </span><span class="s1">this._downPanel.tabBar.tabMoved.connect(this._onTabPanelChanged, this);</span><span class="s3">\n        </span><span class="s1">this._downPanel.stackedPanel.widgetRemoved.connect(this._onTabPanelChanged, this);</span><span class="s3">\n        </span><span class="s1">this.layout = rootLayout;</span><span class="s3">\n        </span><span class="s1">// Added Skip to Main Link</span><span class="s3">\n        </span><span class="s1">const skipLinkWidgetHandler = (this._skipLinkWidgetHandler =</span><span class="s3">\n            </span><span class="s1">new Private.SkipLinkWidgetHandler(this));</span><span class="s3">\n        </span><span class="s1">this.add(skipLinkWidgetHandler.skipLinkWidget, 'top', { rank: 0 });</span><span class="s3">\n        </span><span class="s1">this._skipLinkWidgetHandler.show();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* A signal emitted when the current widget changes.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get currentChanged() {</span><span class="s3">\n        </span><span class="s1">return this._currentChanged;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The current widget in the shell's main area.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get currentWidget() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">return (_a = this._main.widgets[0]) !== null &amp;&amp; _a !== void 0 ? _a : null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Get the top area wrapper panel</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get top() {</span><span class="s3">\n        </span><span class="s1">return this._topWrapper;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Get the menu area wrapper panel</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get menu() {</span><span class="s3">\n        </span><span class="s1">return this._menuWrapper;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Get the left area handler</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get leftHandler() {</span><span class="s3">\n        </span><span class="s1">return this._leftHandler;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Get the right area handler</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get rightHandler() {</span><span class="s3">\n        </span><span class="s1">return this._rightHandler;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Is the left sidebar visible?</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get leftCollapsed() {</span><span class="s3">\n        </span><span class="s1">return !(this._leftHandler.isVisible &amp;&amp; this._leftHandler.panel.isVisible);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Is the right sidebar visible?</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get rightCollapsed() {</span><span class="s3">\n        </span><span class="s1">return !(this._rightHandler.isVisible &amp;&amp; this._rightHandler.panel.isVisible);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Promise that resolves when the main widget is loaded</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get restored() {</span><span class="s3">\n        </span><span class="s1">return this._mainWidgetLoaded.promise;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Getter and setter for the translator.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get translator() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">return (_a = this._translator) !== null &amp;&amp; _a !== void 0 ? _a : nullTranslator;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set translator(value) {</span><span class="s3">\n        </span><span class="s1">if (value !== this._translator) {</span><span class="s3">\n            </span><span class="s1">this._translator = value;</span><span class="s3">\n            </span><span class="s1">const trans = value.load('notebook');</span><span class="s3">\n            </span><span class="s1">this._leftHandler.closeButton.title = trans.__('Collapse %1 side panel', this._leftHandler.area);</span><span class="s3">\n            </span><span class="s1">this._rightHandler.closeButton.title = trans.__('Collapse %1 side panel', this._rightHandler.area);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* User custom shell layout.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get userLayout() {</span><span class="s3">\n        </span><span class="s1">return JSONExt.deepCopy(this._userLayout);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Activate a widget in its area.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">activateById(id) {</span><span class="s3">\n        </span><span class="s1">// Search all areas that can have widgets for this widget, starting with main.</span><span class="s3">\n        </span><span class="s1">for (const area of ['main', 'top', 'left', 'right', 'menu', 'down']) {</span><span class="s3">\n            </span><span class="s1">const widget = find(this.widgets(area), (w) =&gt; w.id === id);</span><span class="s3">\n            </span><span class="s1">if (widget) {</span><span class="s3">\n                </span><span class="s1">if (area === 'left') {</span><span class="s3">\n                    </span><span class="s1">this.expandLeft(id);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (area === 'right') {</span><span class="s3">\n                    </span><span class="s1">this.expandRight(id);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (area === 'down') {</span><span class="s3">\n                    </span><span class="s1">this._downPanel.show();</span><span class="s3">\n                    </span><span class="s1">widget.activate();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">widget.activate();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Add a widget to the application shell.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param widget - The widget being added.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param area - Optional region in the shell into which the widget should</span><span class="s3">\n     </span><span class="s1">* be added.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param options - Optional open options.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">add(widget, area, options) {</span><span class="s3">\n        </span><span class="s1">var _a, _b;</span><span class="s3">\n        </span><span class="s1">let userPosition;</span><span class="s3">\n        </span><span class="s1">if ((options === null || options === void 0 ? void 0 : options.type) &amp;&amp; this._userLayout[options.type]) {</span><span class="s3">\n            </span><span class="s1">userPosition = this._userLayout[options.type];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">userPosition = this._userLayout[widget.id];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">area = (_a = userPosition === null || userPosition === void 0 ? void 0 : userPosition.area) !== null &amp;&amp; _a !== void 0 ? _a : area;</span><span class="s3">\n        </span><span class="s1">options =</span><span class="s3">\n            </span><span class="s1">options || (userPosition === null || userPosition === void 0 ? void 0 : userPosition.options)</span><span class="s3">\n                </span><span class="s1">? {</span><span class="s3">\n                    </span><span class="s1">...options,</span><span class="s3">\n                    </span><span class="s1">...userPosition === null || userPosition === void 0 ? void 0 : userPosition.options,</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">: undefined;</span><span class="s3">\n        </span><span class="s1">const rank = (_b = options === null || options === void 0 ? void 0 : options.rank) !== null &amp;&amp; _b !== void 0 ? _b : DEFAULT_RANK;</span><span class="s3">\n        </span><span class="s1">switch (area) {</span><span class="s3">\n            </span><span class="s1">case 'top':</span><span class="s3">\n                </span><span class="s1">return this._topHandler.addWidget(widget, rank);</span><span class="s3">\n            </span><span class="s1">case 'menu':</span><span class="s3">\n                </span><span class="s1">return this._menuHandler.addWidget(widget, rank);</span><span class="s3">\n            </span><span class="s1">case 'main':</span><span class="s3">\n            </span><span class="s1">case undefined: {</span><span class="s3">\n                </span><span class="s1">if (this._main.widgets.length &gt; 0) {</span><span class="s3">\n                    </span><span class="s1">// do not add the widget if there is already one</span><span class="s3">\n                    </span><span class="s1">return;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">const previousWidget = this.currentWidget;</span><span class="s3">\n                </span><span class="s1">this._main.addWidget(widget);</span><span class="s3">\n                </span><span class="s1">this._main.update();</span><span class="s3">\n                </span><span class="s1">this._currentChanged.emit({</span><span class="s3">\n                    </span><span class="s1">newValue: widget,</span><span class="s3">\n                    </span><span class="s1">oldValue: previousWidget,</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">this._mainWidgetLoaded.resolve();</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case 'left':</span><span class="s3">\n                </span><span class="s1">return this._leftHandler.addWidget(widget, rank);</span><span class="s3">\n            </span><span class="s1">case 'right':</span><span class="s3">\n                </span><span class="s1">return this._rightHandler.addWidget(widget, rank);</span><span class="s3">\n            </span><span class="s1">case 'down':</span><span class="s3">\n                </span><span class="s1">return this._downPanel.addWidget(widget);</span><span class="s3">\n            </span><span class="s1">default:</span><span class="s3">\n                </span><span class="s1">console.warn(`Cannot add widget to area: ${area}`);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Collapse the top area and the spacer to make the view more compact.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">collapseTop() {</span><span class="s3">\n        </span><span class="s1">this._topWrapper.setHidden(true);</span><span class="s3">\n        </span><span class="s1">this._spacer_top.setHidden(true);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Expand the top area to show the header and the spacer.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">expandTop() {</span><span class="s3">\n        </span><span class="s1">this._topWrapper.setHidden(false);</span><span class="s3">\n        </span><span class="s1">this._spacer_top.setHidden(false);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Return the list of widgets for the given area.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param area The area</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">*widgets(area) {</span><span class="s3">\n        </span><span class="s1">switch (area !== null &amp;&amp; area !== void 0 ? area : 'main') {</span><span class="s3">\n            </span><span class="s1">case 'top':</span><span class="s3">\n                </span><span class="s1">yield* this._topHandler.panel.widgets;</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">case 'menu':</span><span class="s3">\n                </span><span class="s1">yield* this._menuHandler.panel.widgets;</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">case 'main':</span><span class="s3">\n                </span><span class="s1">yield* this._main.widgets;</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">case 'left':</span><span class="s3">\n                </span><span class="s1">yield* this._leftHandler.widgets;</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">case 'right':</span><span class="s3">\n                </span><span class="s1">yield* this._rightHandler.widgets;</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">case 'down':</span><span class="s3">\n                </span><span class="s1">yield* this._downPanel.widgets;</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">default:</span><span class="s3">\n                </span><span class="s1">console.error(`This shell has no area called </span><span class="s3">\&quot;</span><span class="s1">${area}</span><span class="s3">\&quot;</span><span class="s1">`);</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Expand the left panel to show the sidebar with its widget.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">expandLeft(id) {</span><span class="s3">\n        </span><span class="s1">this._leftHandler.panel.show();</span><span class="s3">\n        </span><span class="s1">this._leftHandler.expand(id); // Show the current widget, if any</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Collapse the left panel</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">collapseLeft() {</span><span class="s3">\n        </span><span class="s1">this._leftHandler.collapse();</span><span class="s3">\n        </span><span class="s1">this._leftHandler.panel.hide();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Expand the right panel to show the sidebar with its widget.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">expandRight(id) {</span><span class="s3">\n        </span><span class="s1">this._rightHandler.panel.show();</span><span class="s3">\n        </span><span class="s1">this._rightHandler.expand(id); // Show the current widget, if any</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Collapse the right panel</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">collapseRight() {</span><span class="s3">\n        </span><span class="s1">this._rightHandler.collapse();</span><span class="s3">\n        </span><span class="s1">this._rightHandler.panel.hide();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Restore the layout state and configuration for the application shell.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">async restoreLayout(configuration) {</span><span class="s3">\n        </span><span class="s1">this._userLayout = configuration;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handle a change on the down panel widgets</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">_onTabPanelChanged() {</span><span class="s3">\n        </span><span class="s1">if (this._downPanel.stackedPanel.widgets.length === 0) {</span><span class="s3">\n            </span><span class="s1">this._downPanel.hide();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">export var Private;</span><span class="s3">\n</span><span class="s1">(function (Private) {</span><span class="s3">\n    </span><span class="s1">class SkipLinkWidgetHandler {</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Construct a new skipLink widget handler.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">constructor(shell) {</span><span class="s3">\n            </span><span class="s1">this._isDisposed = false;</span><span class="s3">\n            </span><span class="s1">const skipLinkWidget = (this._skipLinkWidget = new Widget());</span><span class="s3">\n            </span><span class="s1">const skipToMain = document.createElement('a');</span><span class="s3">\n            </span><span class="s1">skipToMain.href = '#first-cell';</span><span class="s3">\n            </span><span class="s1">skipToMain.tabIndex = 1;</span><span class="s3">\n            </span><span class="s1">skipToMain.text = 'Skip to Main';</span><span class="s3">\n            </span><span class="s1">skipToMain.className = 'skip-link';</span><span class="s3">\n            </span><span class="s1">skipToMain.addEventListener('click', this);</span><span class="s3">\n            </span><span class="s1">skipLinkWidget.addClass('jp-skiplink');</span><span class="s3">\n            </span><span class="s1">skipLinkWidget.id = 'jp-skiplink';</span><span class="s3">\n            </span><span class="s1">skipLinkWidget.node.appendChild(skipToMain);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">handleEvent(event) {</span><span class="s3">\n            </span><span class="s1">switch (event.type) {</span><span class="s3">\n                </span><span class="s1">case 'click':</span><span class="s3">\n                    </span><span class="s1">this._focusMain();</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">_focusMain() {</span><span class="s3">\n            </span><span class="s1">const input = document.querySelector('#main-panel .jp-InputArea-editor');</span><span class="s3">\n            </span><span class="s1">input.tabIndex = 1;</span><span class="s3">\n            </span><span class="s1">input.focus();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Get the input element managed by the handler.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">get skipLinkWidget() {</span><span class="s3">\n            </span><span class="s1">return this._skipLinkWidget;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Dispose of the handler and the resources it holds.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">dispose() {</span><span class="s3">\n            </span><span class="s1">if (this.isDisposed) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this._isDisposed = true;</span><span class="s3">\n            </span><span class="s1">this._skipLinkWidget.node.removeEventListener('click', this);</span><span class="s3">\n            </span><span class="s1">this._skipLinkWidget.dispose();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Hide the skipLink widget.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">hide() {</span><span class="s3">\n            </span><span class="s1">this._skipLinkWidget.hide();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Show the skipLink widget.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">show() {</span><span class="s3">\n            </span><span class="s1">this._skipLinkWidget.show();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Test whether the handler has been disposed.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">get isDisposed() {</span><span class="s3">\n            </span><span class="s1">return this._isDisposed;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Private.SkipLinkWidgetHandler = SkipLinkWidgetHandler;</span><span class="s3">\n</span><span class="s1">})(Private || (Private = {}));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { JupyterLab, JupyterFrontEnd, } from '@jupyterlab/application';</span><span class="s3">\n</span><span class="s1">import { Base64ModelFactory } from '@jupyterlab/docregistry';</span><span class="s3">\n</span><span class="s1">import { createRendermimePlugins } from '@jupyterlab/application/lib/mimerenderers';</span><span class="s3">\n</span><span class="s1">import { LabStatus } from '@jupyterlab/application/lib/status';</span><span class="s3">\n</span><span class="s1">import { PageConfig } from '@jupyterlab/coreutils';</span><span class="s3">\n</span><span class="s1">import { Throttler } from '@lumino/polling';</span><span class="s3">\n</span><span class="s1">import { NotebookShell } from './shell';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* App is the main application class. It is instantiated once and shared.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class NotebookApp extends JupyterFrontEnd {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Construct a new NotebookApp object.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param options The instantiation options for an application.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(options = { shell: new NotebookShell() }) {</span><span class="s3">\n        </span><span class="s1">var _a, _b;</span><span class="s3">\n        </span><span class="s1">super({ ...options, shell: (_a = options.shell) !== null &amp;&amp; _a !== void 0 ? _a : new NotebookShell() });</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The name of the application.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.name = 'Jupyter Notebook';</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* A namespace/prefix plugins may use to denote their provenance.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.namespace = this.name;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The application busy and dirty status signals and flags.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.status = new LabStatus(this);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The version of the application.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.version = (_b = PageConfig.getOption('appVersion')) !== null &amp;&amp; _b !== void 0 ? _b : 'unknown';</span><span class="s3">\n        </span><span class="s1">this._info = JupyterLab.defaultInfo;</span><span class="s3">\n        </span><span class="s1">this._formatter = new Throttler(() =&gt; {</span><span class="s3">\n            </span><span class="s1">Private.setFormat(this);</span><span class="s3">\n        </span><span class="s1">}, 250);</span><span class="s3">\n        </span><span class="s1">// Add initial model factory.</span><span class="s3">\n        </span><span class="s1">this.docRegistry.addModelFactory(new Base64ModelFactory());</span><span class="s3">\n        </span><span class="s1">if (options.mimeExtensions) {</span><span class="s3">\n            </span><span class="s1">for (const plugin of createRendermimePlugins(options.mimeExtensions)) {</span><span class="s3">\n                </span><span class="s1">this.registerPlugin(plugin);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">// Create an IInfo dictionary from the options to override the defaults.</span><span class="s3">\n        </span><span class="s1">const info = Object.keys(JupyterLab.defaultInfo).reduce((acc, val) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (val in options) {</span><span class="s3">\n                </span><span class="s1">acc[val] = JSON.parse(JSON.stringify(options[val]));</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return acc;</span><span class="s3">\n        </span><span class="s1">}, {});</span><span class="s3">\n        </span><span class="s1">// Populate application info.</span><span class="s3">\n        </span><span class="s1">this._info = { ...JupyterLab.defaultInfo, ...info };</span><span class="s3">\n        </span><span class="s1">this.restored = this.shell.restored;</span><span class="s3">\n        </span><span class="s1">this.restored.then(() =&gt; this._formatter.invoke());</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The NotebookApp application information dictionary.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get info() {</span><span class="s3">\n        </span><span class="s1">return this._info;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The JupyterLab application paths dictionary.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get paths() {</span><span class="s3">\n        </span><span class="s1">return {</span><span class="s3">\n            </span><span class="s1">urls: {</span><span class="s3">\n                </span><span class="s1">base: PageConfig.getOption('baseUrl'),</span><span class="s3">\n                </span><span class="s1">notFound: PageConfig.getOption('notFoundUrl'),</span><span class="s3">\n                </span><span class="s1">app: PageConfig.getOption('appUrl'),</span><span class="s3">\n                </span><span class="s1">static: PageConfig.getOption('staticUrl'),</span><span class="s3">\n                </span><span class="s1">settings: PageConfig.getOption('settingsUrl'),</span><span class="s3">\n                </span><span class="s1">themes: PageConfig.getOption('themesUrl'),</span><span class="s3">\n                </span><span class="s1">doc: PageConfig.getOption('docUrl'),</span><span class="s3">\n                </span><span class="s1">translations: PageConfig.getOption('translationsApiUrl'),</span><span class="s3">\n                </span><span class="s1">hubHost: PageConfig.getOption('hubHost') || undefined,</span><span class="s3">\n                </span><span class="s1">hubPrefix: PageConfig.getOption('hubPrefix') || undefined,</span><span class="s3">\n                </span><span class="s1">hubUser: PageConfig.getOption('hubUser') || undefined,</span><span class="s3">\n                </span><span class="s1">hubServerName: PageConfig.getOption('hubServerName') || undefined,</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">directories: {</span><span class="s3">\n                </span><span class="s1">appSettings: PageConfig.getOption('appSettingsDir'),</span><span class="s3">\n                </span><span class="s1">schemas: PageConfig.getOption('schemasDir'),</span><span class="s3">\n                </span><span class="s1">static: PageConfig.getOption('staticDir'),</span><span class="s3">\n                </span><span class="s1">templates: PageConfig.getOption('templatesDir'),</span><span class="s3">\n                </span><span class="s1">themes: PageConfig.getOption('themesDir'),</span><span class="s3">\n                </span><span class="s1">userSettings: PageConfig.getOption('userSettingsDir'),</span><span class="s3">\n                </span><span class="s1">serverRoot: PageConfig.getOption('serverRoot'),</span><span class="s3">\n                </span><span class="s1">workspaces: PageConfig.getOption('workspacesDir'),</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handle the DOM events for the application.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param event - The DOM event sent to the application.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleEvent(event) {</span><span class="s3">\n        </span><span class="s1">super.handleEvent(event);</span><span class="s3">\n        </span><span class="s1">if (event.type === 'resize') {</span><span class="s3">\n            </span><span class="s1">void this._formatter.invoke();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Register plugins from a plugin module.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param mod - The plugin module to register.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">registerPluginModule(mod) {</span><span class="s3">\n        </span><span class="s1">let data = mod.default;</span><span class="s3">\n        </span><span class="s1">// Handle commonjs exports.</span><span class="s3">\n        </span><span class="s1">if (!Object.prototype.hasOwnProperty.call(mod, '__esModule')) {</span><span class="s3">\n            </span><span class="s1">data = mod;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (!Array.isArray(data)) {</span><span class="s3">\n            </span><span class="s1">data = [data];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">data.forEach((item) =&gt; {</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">this.registerPlugin(item);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">catch (error) {</span><span class="s3">\n                </span><span class="s1">console.error(error);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Register the plugins from multiple plugin modules.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param mods - The plugin modules to register.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">registerPluginModules(mods) {</span><span class="s3">\n        </span><span class="s1">mods.forEach((mod) =&gt; {</span><span class="s3">\n            </span><span class="s1">this.registerPluginModule(mod);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A namespace for module-private functionality.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var Private;</span><span class="s3">\n</span><span class="s1">(function (Private) {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Media query for mobile devices.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">const MOBILE_QUERY = 'only screen and (max-width: 760px)';</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets the `format` of a Jupyter front-end application.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param app The front-end application whose format is set.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">function setFormat(app) {</span><span class="s3">\n        </span><span class="s1">app.format = window.matchMedia(MOBILE_QUERY).matches ? 'mobile' : 'desktop';</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Private.setFormat = setFormat;</span><span class="s3">\n</span><span class="s1">})(Private || (Private = {}));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { URLExt } from '@jupyterlab/coreutils';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A class to open paths in new browser tabs in the Notebook application.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class DefaultNotebookPathOpener {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Open a path in a new browser tab.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">open(options) {</span><span class="s3">\n        </span><span class="s1">const { prefix, path, searchParams, target, features } = options;</span><span class="s3">\n        </span><span class="s1">const url = new URL(URLExt.join(prefix, path !== null &amp;&amp; path !== void 0 ? path : ''), window.location.origin);</span><span class="s3">\n        </span><span class="s1">if (searchParams) {</span><span class="s3">\n            </span><span class="s1">url.search = searchParams.toString();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return window.open(url, target, features);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">export const defaultNotebookPathOpener = new DefaultNotebookPathOpener();</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { Token } from '@lumino/coreutils';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The INotebookPathOpener token.</span><span class="s3">\n </span><span class="s1">* The main purpose of this token is to allow other extensions or downstream applications</span><span class="s3">\n </span><span class="s1">* to override the default behavior of opening a notebook in a new tab.</span><span class="s3">\n </span><span class="s1">* It also allows passing the path as a URL search parameter, or other options to the window.open call.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const INotebookPathOpener = new Token('@jupyter-notebook/application:INotebookPathOpener');</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">export * from './app';</span><span class="s3">\n</span><span class="s1">export * from './shell';</span><span class="s3">\n</span><span class="s1">export * from './panelhandler';</span><span class="s3">\n</span><span class="s1">export * from './pathopener';</span><span class="s3">\n</span><span class="s1">export * from './tokens';</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;sourceRoot&quot;</span><span class="s0">:</span><span class="s1">&quot;&quot;</span><span class="s0">}</span></pre>
</body>
</html>